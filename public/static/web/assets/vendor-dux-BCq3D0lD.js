const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/loader-08V0W-Gf.js","assets/vendor-lodash-Cwra0HQr.js","assets/vendor-tools-Dpu1PaXY.js","assets/vendor-loader-oH2KerV-.js","assets/vendor-vue-DhmHF6T1.js","assets/vendor-vueuse-DAgSjsg2.js","assets/vendor-pinia-DtJZ8aZg.js","assets/vendor-naive-CfU4HarF.js","assets/vendor-echarts-WS0dNiAY.js","assets/vendor-editor-BfycqkWO.js","assets/vendor-ace-BiCsOx2U.js","assets/vendor-vee-BM0txFR5.js","assets/selectModal-DUIHt5Dy.js","assets/json-DEwW0AyB.js","assets/options-DwEfLSlV.js","assets/json-wk8_eSib.js","assets/preview-ykx_X2oF.js","assets/iconPicker-CEBc-6oG.js","assets/vendor-icon-EIVbyAnn.js"])))=>i.map(i=>d[i]);
import{i as an,r as ie,K as Bo,a1 as ha,a2 as gn,S as Oi,N as yt,Z as $8,n as An,c as V,a0 as Hy,e as wn,w as ye,Y as es,U as Od,a as Dl,R as Md,x as Dg,y as ec,t as Te,g as kr,k as Y,m as Ye,F as Vt,o as Tr,M as F8,p as Ui,a3 as p,a4 as Lg,z as Ll,j as Dt,a5 as P8,a6 as D8,a7 as L8,_ as I8,E as ts,D as N8,a8 as j8,a9 as Ig,s as kt,u as Lt,aa as Hr,ab as lr,ac as Fo,ad as _t,l as Uu,v as zu,I as Cc,L as Wy,ae as up,q as Ha,b as Rd,af as $0,ag as F0,T as B8,X as U8,ah as z8,ai as Vy,aj as P0,d as H8,ak as W8,H as Gy}from"./vendor-vue-DhmHF6T1.js";import{d as fa,s as $d,c as V8,i as G8,a as X8}from"./vendor-pinia-DtJZ8aZg.js";import{b as In,f as D0,h as q8,i as Y8,j as K8,l as jh,e as tc,n as Z8,o as J8,p as Xy,g as Cr,m as L0,q as I0}from"./vendor-lodash-Cwra0HQr.js";import{u as Ng,r as Q8,a as eC,b as tC,c as nC,d as Be,w as qy,e as rC,f as Yy,g as Fd,h as iC,i as aC,j as oC,k as sC,l as lC}from"./vendor-vueuse-DAgSjsg2.js";import{t as cC,h as Il,u as aa,a as Ky,s as uC,o as N0,b as dp,K as pa,r as j0,z as Ga,k as Pd,l as Uo,m as hp,c as B0,d as Hu,S as pi,e as fp,B as ge,i as Dd,f as _n,g as dC,F as Zy,j as zo,O as ns,n as hC,T as Ho,p as Ve,W as He,R as Ja,q as Wu,J as sn,v as Ct,E as Jy,x as xl,w as Qy,y as fC,A as _r,C as jg,D as pC,G as gC,V as ex,H as mC,N as Da,I as vC,L as Vu,M as bC,P as yC,Q as xC,U as wC,X as _C,Y as CC,Z as kC,_ as SC,$ as EC,a0 as TC,a1 as AC,a2 as OC,a3 as MC,a4 as RC}from"./vendor-naive-CfU4HarF.js";import{j as Bg,c as xt,h as tx,_ as gr,a as nx,b as $C}from"./vendor-tools-Dpu1PaXY.js";import{E as pp,r as FC}from"./vendor-echarts-WS0dNiAY.js";import{V as PC}from"./vendor-editor-BfycqkWO.js";import{T as DC}from"./vendor-ace-BiCsOx2U.js";import{u as LC,a as IC,d as NC,b as jC,s as BC,c as UC,l as zC}from"./vendor-vee-BM0txFR5.js";function gi(t){const e=an("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return HC(t)()}function HC(t){return fa(`auths-${t}`,()=>{const e=ie();return{data:e,getUser:()=>e.value||{},login:n=>{e.value={token:n?.token,id:n?.id,info:n?.info,permission:n?.permission}},isLogin:()=>!!e.value?.token,logout:()=>{e.value=void 0},update:n=>{e.value={token:n?.token,id:n?.id,info:n?.info,permission:n?.permission}},updateKey:(n,r)=>{e.value={...e.value,[n]:r}}}},{persist:!0})}function U0(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)&&typeof t.getList!="function"}function Ld(t){const e=an("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return WC(t)()}function WC(t){return fa(`manages-${t}`,()=>{const e=ie(),n=ie(!1);return{config:e,isInit:()=>{const r=n.value;return n.value=!0,r},setConfig:(r,i)=>{const a=In(r),o=[];a.title&&o.push(a.title),i.title&&o.push(i.title),a.title=o.join(" - "),a.copyright=a.copyright||i.copyright,a.description=a.description||i.description,a.theme={...i?.theme,...a?.theme};const s={};i?.dataProvider&&(U0(i.dataProvider)?Object.keys(i.dataProvider).forEach(c=>{s[c]=i.dataProvider[c]}):s.default=i.dataProvider),a?.dataProvider&&(U0(a.dataProvider)?Object.keys(a.dataProvider).forEach(c=>{s[c]=a.dataProvider[c]}):s.default=a.dataProvider),a.authProvider=i?.authProvider||a?.authProvider,a.dataProvider=s,a.i18nProvider=i?.i18nProvider||a?.i18nProvider,a.layoutComponent={...i.layoutComponent,...a.layoutComponent};const l={...i.components,...a.components};l&&Object.keys(l).forEach(c=>{l[c]&&(l[c]=Bo(l[c]))}),a.components=l,a.remote={...i.remote,...a.remote},e.value=a},getConfig:()=>e.value}})}function lt(t){const e=an("dux.manage");if(t||(t=e?.value),!t)throw new Error("manage name is not defined");const{config:n}=Ld(t),r=o=>`${n?.routePrefix}/${D0(o||"","/")}`,i=(o,s)=>n?.dataProvider?.[s||"default"]?.apiUrl?.(o,n?.apiBasePath)||"",a=ha();return{config:n,getRoutePath:r,getApiUrl:i,getPath:()=>{const o=a.path,s=n?.routePrefix||"";return D0(o.replace(s,""),"/")}}}function rx(t){const e=lt(),n=gi(),r=gn(),i=ie(!1);return{mutate:async a=>{i.value=!0;const o=await e.config.authProvider?.login(a,e);if(i.value=!1,o?.success){if(!o?.data)throw new Error("Login response data is undefined");t?.onSuccess?.(o),n.login(o.data),r.push(e.getRoutePath(o.redirectTo||"/"));return}t?.onError?.(o)},isLoading:i}}function ix(t){const e=lt(),n=gi(),r=gn();return{mutate:async i=>{const a=await e.config.authProvider?.logout(i,e);if(a?.success){t?.onSuccess?.(a),n.logout(),await r.replace(e.getRoutePath(a.redirectTo||"/login")),setTimeout(()=>{window.location.reload()},100);return}t?.onError?.(a)}}}function ax(t){const e=lt(),n=gi(),r=gn();return{mutate:async i=>{const a=await e.config.authProvider?.check?.(i,e,n.getUser());if(a?.success){if(t?.onSuccess?.(a),!a?.data)throw new Error("Check response data is undefined");n.update(a.data);return}t?.onError?.(a),a?.logout&&(await r.replace(e.getRoutePath(a.redirectTo||"/login")),setTimeout(()=>{window.location.reload()},100))}}}function VC(t){const e=lt(),n=gi(),r=gn();return{mutate:async i=>{const a=await e.config.authProvider?.register?.(i,e);if(a?.success){if(t?.onSuccess?.(a),!a?.data)throw new Error("Register response data is undefined");n.login(a.data),r.push(e.getRoutePath(a.redirectTo||"/"));return}t?.onError?.(a)}}}function GC(t){const e=lt(),n=gn();return{mutate:async r=>{const i=await e.config.authProvider?.forgotPassword?.(r,e);if(i?.success){t?.onSuccess?.(i),i.redirectTo&&n.push(e.getRoutePath(i.redirectTo||"/"));return}t?.onError?.(i)}}}function XC(t){const e=lt(),n=gn();return{mutate:async r=>{const i=await e.config.authProvider?.updatePassword?.(r,e);if(i?.success){t?.onSuccess?.(i),i.redirectTo&&n.push(e.getRoutePath(i.redirectTo||"/"));return}t?.onError?.(i)}}}function dr(t){const{config:e,getRoutePath:n}=lt(),r=gn(),i=gi();return{mutate:async a=>{const o=await e.authProvider?.onError(a);t?.(o),o?.logout&&(i.logout(),await r.replace(n(o.redirectTo||"/login")),setTimeout(()=>{window.location.reload()},100))}}}function Rn(t){return gi(t).getUser()}function qC(t){return gi(t).isLogin()}function Id(t){const e=lt(t),n=gi(t).getUser();return(r,i)=>e.config.authProvider?.can?e.config.authProvider.can(r,i,e,n):!0}var Qa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oa=typeof window>"u"||"Deno"in globalThis;function Dn(){}function YC(t,e){return typeof t=="function"?t(e):t}function gp(t){return typeof t=="number"&&t>=0&&t!==1/0}function ox(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ia(t,e){return typeof t=="function"?t(e):t}function jr(t,e){return typeof t=="function"?t(e):t}function mp(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(r){if(e.queryHash!==Ug(o,e.options))return!1}else if(!Wo(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function vp(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(sa(e.options.mutationKey)!==sa(a))return!1}else if(!Wo(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Ug(t,e){return(e?.queryKeyHashFn||sa)(t)}function sa(t){return JSON.stringify(t,(e,n)=>bp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Wo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Wo(t[n],e[n])):!1}function Nd(t,e){if(t===e)return t;const n=z0(t)&&z0(e);if(n||bp(t)&&bp(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),o=a.length,s=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const d=n?u:a[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(s[d]=void 0,c++):(s[d]=Nd(t[d],e[d]),s[d]===t[d]&&t[d]!==void 0&&c++)}return i===o&&c===i?t:s}return e}function Gu(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function z0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bp(t){if(!H0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!H0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function H0(t){return Object.prototype.toString.call(t)==="[object Object]"}function KC(t){return new Promise(e=>{setTimeout(e,t)})}function yp(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Nd(t,e):e}function ZC(t){return t}function xp(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function JC(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var jd=Symbol();function sx(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===jd?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Xu(t,e){return typeof t=="function"?t(...e):!!t}var QC=class extends Qa{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!oa&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Bd=new QC,ek=class extends Qa{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!oa&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},Nl=new ek;function wp(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function tk(t){let e;if(t.then(n=>(e=n,n),Dn)?.catch(Dn),e!==void 0)return{data:e}}function nk(t){return Math.min(1e3*2**t,3e4)}function lx(t){return(t??"online")==="online"?Nl.isOnline():!0}var zg=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function xu(t){return t instanceof zg}function cx(t){let e=!1,n=0,r=!1,i;const a=wp(),o=m=>{r||(f(new zg(m)),t.abort?.())},s=()=>{e=!0},l=()=>{e=!1},c=()=>Bd.isFocused()&&(t.networkMode==="always"||Nl.isOnline())&&t.canRun(),u=()=>lx(t.networkMode)&&t.canRun(),d=m=>{r||(r=!0,t.onSuccess?.(m),i?.(),a.resolve(m))},f=m=>{r||(r=!0,t.onError?.(m),i?.(),a.reject(m))},h=()=>new Promise(m=>{i=v=>{(r||c())&&m(v)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),g=()=>{if(r)return;let m;const v=n===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(d).catch(b=>{if(r)return;const y=t.retry??(oa?0:3),x=t.retryDelay??nk,w=typeof x=="function"?x(n,b):x,_=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(e||!_){f(b);return}n++,t.onFail?.(n,b),KC(w).then(()=>c()?void 0:h()).then(()=>{e?f(b):g()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?g():h().then(g),a)}}var ux=t=>setTimeout(t,0);function rk(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=ux;const a=s=>{e?t.push(s):i(()=>{n(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var tn=rk(),dx=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gp(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oa?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},hx=class extends dx{#t;#e;#n;#r;#i;#a;#s;constructor(t){super(),this.#s=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=ik(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=yp(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Dn).catch(Dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>jr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ia(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ox(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#s?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const l=sx(this.options,e),u=(()=>{const d={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#s=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta});const s=l=>{xu(l)&&l.silent||this.#o({type:"error",error:l}),xu(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=cx({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#o({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...fx(n.data,this.options),fetchMeta:t.meta??null};case"success":return this.#e=void 0,{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return xu(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),tn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function fx(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ik(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var px=class extends Qa{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,n,r){const i=n.queryKey,a=n.queryHash??Ug(i,n);let o=this.get(a);return o||(o=new hx({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#t.get(e.queryHash);n&&(e.destroy(),n===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mp(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>mp(e,r)):n}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gx=class extends dx{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||mx(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=cx({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#e.config.onMutate?.(t,this);const a=await this.options.onMutate?.(t);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),tn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function mx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vx=class extends Qa{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,n,r){const i=new gx({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){this.#t.add(e);const n=kc(e);if(typeof n=="string"){const r=this.#e.get(n);r?r.push(e):this.#e.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const n=kc(e);if(typeof n=="string"){const r=this.#e.get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#e.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=kc(e);if(typeof n=="string"){const i=this.#e.get(n)?.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=kc(e);return typeof n=="string"?this.#e.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){tn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vp(n,r))}findAll(e={}){return this.getAll().filter(n=>vp(e,n))}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return tn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Dn))))}};function kc(t){return t.options.scope?.id}function qu(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=sx(e.options,e.fetchOptions),h=async(g,m,v)=>{if(u)return Promise.reject();if(m==null&&g.pages.length)return Promise.resolve(g);const y=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:m,direction:v?"backward":"forward",meta:e.options.meta};return d(k),k})(),x=await f(y),{maxPages:w}=e.options,_=v?JC:xp;return{pages:_(g.pages,x,w),pageParams:_(g.pageParams,m,w)}};if(i&&a.length){const g=i==="backward",m=g?bx:_p,v={pages:a,pageParams:o},b=m(r,v);s=await h(v,b,g)}else{const g=t??a.length;do{const m=l===0?o[0]??r.initialPageParam:_p(r,s);if(l>0&&m==null)break;s=await h(s,m),l++}while(l<g)}return s};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function _p(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function bx(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}function ak(t,e){return e?_p(t,e)!=null:!1}function ok(t,e){return!e||!t.getPreviousPageParam?!1:bx(t,e)!=null}var sk=class{#t;#e;#n;#r;#i;#a;#s;#o;constructor(e={}){this.#t=e.queryCache||new px,this.#e=e.mutationCache||new vx,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=Bd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=Nl.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#t.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#t.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ia(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.defaultQueryOptions({queryKey:e}),o=this.#t.get(i.queryHash)?.state.data,s=YC(n,o);if(s!==void 0)return this.#t.build(this,i).setData(s,{...r,manual:!0})}setQueriesData(e,n,r){return tn.batch(()=>this.#t.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#t.get(n.queryHash)?.state}removeQueries(e){const n=this.#t;tn.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#t;return tn.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},i=tn.batch(()=>this.#t.findAll(e).map(a=>a.cancel(r)));return Promise.all(i).then(Dn).catch(Dn)}invalidateQueries(e,n={}){return tn.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=tn.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(Dn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(Dn)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#t.build(this,n);return r.isStaleByTime(ia(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dn).catch(Dn)}fetchInfiniteQuery(e){return e.behavior=qu(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dn).catch(Dn)}ensureInfiniteQueryData(e){return e.behavior=qu(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nl.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#r.set(sa(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#r.values()],r={};return n.forEach(i=>{Wo(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,n){this.#i.set(sa(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#i.values()],r={};return n.forEach(i=>{Wo(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=Ug(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===jd&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Ud=class extends Qa{constructor(t,e){super(),this.options=e,this.#t=t,this.#o=null,this.#s=wp(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#a;#s;#o;#f;#d;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),W0(this.#e,this.options)?this.#p():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cp(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cp(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),e._defaulted&&!Gu(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&V0(this.#e,n,this.options,e)&&this.#p(),this.updateResult(),r&&(this.#e!==n||jr(this.options.enabled,this.#e)!==jr(e.enabled,this.#e)||ia(this.options.staleTime,this.#e)!==ia(e.staleTime,this.#e))&&this.#m();const i=this.#v();r&&(this.#e!==n||jr(this.options.enabled,this.#e)!==jr(e.enabled,this.#e)||i!==this.#l)&&this.#b(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return ck(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#p(t){this.#_();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Dn)),e}#m(){this.#x();const t=ia(this.options.staleTime,this.#e);if(oa||this.#r.isStale||!gp(t))return;const n=ox(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#l=t,!(oa||jr(this.options.enabled,this.#e)===!1||!gp(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Bd.isFocused())&&this.#p()},this.#l))}#y(){this.#m(),this.#b(this.#v())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#e,r=this.options,i=this.#r,a=this.#i,o=this.#a,l=t!==n?t.state:this.#n,{state:c}=t;let u={...c},d=!1,f;if(e._optimisticResults){const A=this.hasListeners(),T=!A&&W0(t,e),O=A&&V0(t,n,e,r);(T||O)&&(u={...u,...fx(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:g,status:m}=u;f=u.data;let v=!1;if(e.placeholderData!==void 0&&f===void 0&&m==="pending"){let A;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(A=i.data,v=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,A!==void 0&&(m="success",f=yp(i?.data,A,e),d=!0)}if(e.select&&f!==void 0&&!v)if(i&&f===a?.data&&e.select===this.#f)f=this.#d;else try{this.#f=e.select,f=e.select(f),f=yp(i?.data,f,e),this.#d=f,this.#o=null}catch(A){this.#o=A}this.#o&&(h=this.#o,f=this.#d,g=Date.now(),m="error");const b=u.fetchStatus==="fetching",y=m==="pending",x=m==="error",w=y&&b,_=f!==void 0,R={status:m,fetchStatus:u.fetchStatus,isPending:y,isSuccess:m==="success",isError:x,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:x&&!_,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:x&&_,isStale:Hg(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const A=M=>{R.status==="error"?M.reject(R.error):R.data!==void 0&&M.resolve(R.data)},T=()=>{const M=this.#s=R.promise=wp();A(M)},O=this.#s;switch(O.status){case"pending":t.queryHash===n.queryHash&&A(O);break;case"fulfilled":(R.status==="error"||R.data!==O.value)&&T();break;case"rejected":(R.status!=="error"||R.error!==O.reason)&&T();break}}return R}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Gu(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#g.size)return!0;const a=new Set(i??this.#g);return this.options.throwOnError&&a.add("error"),Object.keys(this.#r).some(o=>{const s=o;return this.#r[s]!==t[s]&&a.has(s)})};this.#C({listeners:n()})}#_(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#C(t){tn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function lk(t,e){return jr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function W0(t,e){return lk(t,e)||t.state.data!==void 0&&Cp(t,e,e.refetchOnMount)}function Cp(t,e,n){if(jr(e.enabled,t)!==!1&&ia(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Hg(t,e)}return!1}function V0(t,e,n,r){return(t!==e||jr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Hg(t,n)}function Hg(t,e){return jr(e.enabled,t)!==!1&&t.isStaleByTime(ia(e.staleTime,t))}function ck(t,e){return!Gu(t.getCurrentResult(),e)}function G0(t,e){const n=new Set(e);return t.filter(r=>!n.has(r))}function uk(t,e,n){const r=t.slice(0);return r[e]=n,r}var yx=class extends Qa{#t;#e;#n;#r;#i;#a;#s;#o;#f=[];constructor(t,e,n){super(),this.#t=t,this.#r=n,this.#n=[],this.#i=[],this.#e=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(t=>{t.subscribe(e=>{this.#u(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e){this.#n=t,this.#r=e,tn.batch(()=>{const n=this.#i,r=this.#c(this.#n);this.#f=r,r.forEach(s=>s.observer.setOptions(s.defaultedQueryOptions));const i=r.map(s=>s.observer),a=i.map(s=>s.getCurrentResult()),o=i.some((s,l)=>s!==n[l]);n.length===i.length&&!o||(this.#i=i,this.#e=a,this.hasListeners()&&(G0(n,i).forEach(s=>{s.destroy()}),G0(i,n).forEach(s=>{s.subscribe(l=>{this.#u(s,l)})}),this.#l()))})}getCurrentResult(){return this.#e}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){const n=this.#c(t),r=n.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[r,i=>this.#h(i??r,e),()=>this.#d(r,n)]}#d(t,e){return e.map((n,r)=>{const i=t[r];return n.defaultedQueryOptions.notifyOnChangeProps?i:n.observer.trackResult(i,a=>{e.forEach(o=>{o.observer.trackProp(a)})})})}#h(t,e){return e?((!this.#a||this.#e!==this.#o||e!==this.#s)&&(this.#s=e,this.#o=this.#e,this.#a=Nd(this.#a,e(t))),this.#a):t}#c(t){const e=new Map(this.#i.map(r=>[r.options.queryHash,r])),n=[];return t.forEach(r=>{const i=this.#t.defaultQueryOptions(r),a=e.get(i.queryHash);a?n.push({defaultedQueryOptions:i,observer:a}):n.push({defaultedQueryOptions:i,observer:new Ud(this.#t,i)})}),n}#u(t,e){const n=this.#i.indexOf(t);n!==-1&&(this.#e=uk(this.#e,n,e),this.#l())}#l(){if(this.hasListeners()){const t=this.#a,e=this.#d(this.#e,this.#f),n=this.#h(e,this.#r?.combine);t!==n&&tn.batch(()=>{this.listeners.forEach(r=>{r(this.#e)})})}}},xx=class extends Ud{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:qu()})}getOptimisticResult(t){return t.behavior=qu(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:n}=t,r=super.createResult(t,e),{isFetching:i,isRefetching:a,isError:o,isRefetchError:s}=r,l=n.fetchMeta?.fetchMore?.direction,c=o&&l==="forward",u=i&&l==="forward",d=o&&l==="backward",f=i&&l==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:ak(e,n.data),hasPreviousPage:ok(e,n.data),isFetchNextPageError:c,isFetchingNextPage:u,isFetchPreviousPageError:d,isFetchingPreviousPage:f,isRefetchError:s&&!c&&!d,isRefetching:a&&!u&&!f}}},wx=class extends Qa{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),Gu(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&sa(n.mutationKey)!==sa(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??mx();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){tn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}};function _x(t){return t}function dk(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function hk(t,e,n){return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(r=>n(r)?Promise.reject(new Error("redacted")):Promise.reject(r))},...t.meta&&{meta:t.meta}}}function Cx(t){return t.state.isPaused}function kx(t){return t.state.status==="success"}function fk(t){return!0}function pk(t,e={}){const n=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??Cx,r=t.getMutationCache().getAll().flatMap(l=>n(l)?[dk(l)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??kx,a=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??fk,o=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??_x,s=t.getQueryCache().getAll().flatMap(l=>i(l)?[hk(l,o,a)]:[]);return{mutations:r,queries:s}}function gk(t,e,n){if(typeof e!="object"||e===null)return;const r=t.getMutationCache(),i=t.getQueryCache(),a=n?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??_x,o=e.mutations||[],s=e.queries||[];o.forEach(({state:l,...c})=>{r.build(t,{...t.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...c},l)}),s.forEach(({queryKey:l,state:c,queryHash:u,meta:d,promise:f,dehydratedAt:h})=>{const g=f?tk(f):void 0,m=c.data===void 0?g?.data:c.data,v=m===void 0?m:a(m);let b=i.get(u);const y=b?.state.status==="pending",x=b?.state.fetchStatus==="fetching";if(b){const w=g&&h!==void 0&&h>b.state.dataUpdatedAt;if(c.dataUpdatedAt>b.state.dataUpdatedAt||w){const{fetchStatus:_,...k}=c;b.setState({...k,data:v})}}else b=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:l,queryHash:u,meta:d},{...c,data:v,fetchStatus:"idle",status:v!==void 0?"success":c.status});f&&!y&&!x&&(h===void 0||h>b.state.dataUpdatedAt)&&b.fetch(void 0,{initialPromise:Promise.resolve(f).then(a)})})}function mk({queryFn:t,refetchMode:e="reset",maxChunks:n}){return async r=>{const i=r.client.getQueryCache().find({queryKey:r.queryKey,exact:!0}),a=!!i&&i.state.data!==void 0;a&&e==="reset"&&i.setState({status:"pending",data:void 0,error:null,fetchStatus:"fetching"});let o=[];const s=await t(r);for await(const l of s){if(r.signal.aborted)break;(!a||e!=="replace")&&r.client.setQueryData(r.queryKey,(c=[])=>xp(c,l,n)),o=xp(o,l,n)}return a&&e==="replace"&&!r.signal.aborted&&r.client.setQueryData(r.queryKey,o),r.client.getQueryData(r.queryKey)}}var vk=Symbol("dataTagSymbol"),bk=Symbol("dataTagErrorSymbol"),yk=Symbol("unsetMarker"),Sx="VUE_QUERY_CLIENT";function Ex(t){const e=t?`:${t}`:"";return`${Sx}${e}`}function kp(t,e){Object.keys(t).forEach(n=>{t[n]=e[n]})}function Sp(t,e,n="",r=0){if(e){const i=e(t,n,r);if(i===void 0&&Oi(t)||i!==void 0)return i}if(Array.isArray(t))return t.map((i,a)=>Sp(i,e,String(a),r+1));if(typeof t=="object"&&wk(t)){const i=Object.entries(t).map(([a,o])=>[a,Sp(o,e,a,r+1)]);return Object.fromEntries(i)}return t}function xk(t,e){return Sp(t,e)}function Xe(t,e=!1){return xk(t,(n,r,i)=>{if(i===1&&r==="queryKey")return Xe(n,!0);if(e&&_k(n))return Xe(n(),e);if(Oi(n))return Xe(yt(n),e)})}function wk(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function _k(t){return typeof t=="function"}function ga(t=""){if(!$8())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const e=Ex(t),n=an(e);if(!n)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return n}var Tx=class extends px{find(t){return super.find(Xe(t))}findAll(t={}){return super.findAll(Xe(t))}},Ax=class extends vx{find(t){return super.find(Xe(t))}findAll(t={}){return super.findAll(Xe(t))}},Ox=class extends sk{constructor(t={}){const e={defaultOptions:t.defaultOptions,queryCache:t.queryCache||new Tx,mutationCache:t.mutationCache||new Ax};super(e),this.isRestoring=ie(!1)}isFetching(t={}){return super.isFetching(Xe(t))}isMutating(t={}){return super.isMutating(Xe(t))}getQueryData(t){return super.getQueryData(Xe(t))}ensureQueryData(t){return super.ensureQueryData(Xe(t))}getQueriesData(t){return super.getQueriesData(Xe(t))}setQueryData(t,e,n={}){return super.setQueryData(Xe(t),e,Xe(n))}setQueriesData(t,e,n={}){return super.setQueriesData(Xe(t),e,Xe(n))}getQueryState(t){return super.getQueryState(Xe(t))}removeQueries(t={}){return super.removeQueries(Xe(t))}resetQueries(t={},e={}){return super.resetQueries(Xe(t),Xe(e))}cancelQueries(t={},e={}){return super.cancelQueries(Xe(t),Xe(e))}invalidateQueries(t={},e={}){const n=Xe(t),r=Xe(e);if(super.invalidateQueries({...n,refetchType:"none"},r),n.refetchType==="none")return Promise.resolve();const i={...n,type:n.refetchType??n.type??"active"};return An().then(()=>super.refetchQueries(i,r))}refetchQueries(t={},e={}){return super.refetchQueries(Xe(t),Xe(e))}fetchQuery(t){return super.fetchQuery(Xe(t))}prefetchQuery(t){return super.prefetchQuery(Xe(t))}fetchInfiniteQuery(t){return super.fetchInfiniteQuery(Xe(t))}prefetchInfiniteQuery(t){return super.prefetchInfiniteQuery(Xe(t))}setDefaultOptions(t){super.setDefaultOptions(Xe(t))}setQueryDefaults(t,e){super.setQueryDefaults(Xe(t),Xe(e))}getQueryDefaults(t){return super.getQueryDefaults(Xe(t))}setMutationDefaults(t,e){super.setMutationDefaults(Xe(t),Xe(e))}getMutationDefaults(t){return super.getMutationDefaults(Xe(t))}},Mx={install:(t,e={})=>{const n=Ex(e.queryClientKey);let r;if("queryClient"in e&&e.queryClient)r=e.queryClient;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;r=new Ox(o)}oa||r.mount();let i=()=>{};if(e.clientPersister){r.isRestoring&&(r.isRestoring.value=!0);const[o,s]=e.clientPersister(r);i=o,s.then(()=>{r.isRestoring&&(r.isRestoring.value=!1),e.clientPersisterOnSuccess?.(r)})}const a=()=>{r.unmount(),i()};if(t.onUnmount)t.onUnmount(a);else{const o=t.unmount;t.unmount=function(){a(),o()}}t.provide(n,r)}};function Ck(t){return t}function kk(t){return t}function Rx(t,e,n){const r=n||ga(),i=V(()=>{const h=Xe(e);typeof h.enabled=="function"&&(h.enabled=h.enabled());const g=r.defaultQueryOptions(h);return g._optimisticResults=r.isRestoring?.value?"isRestoring":"optimistic",g}),a=new t(r,i.value),o=i.value.shallow?Hy(a.getCurrentResult()):wn(a.getCurrentResult());let s=()=>{};r.isRestoring&&ye(r.isRestoring,h=>{h||(s(),s=a.subscribe(g=>{kp(o,g)}))},{immediate:!0});const l=()=>{a.setOptions(i.value),kp(o,a.getCurrentResult())};ye(i,l),es(()=>{s()});const c=(...h)=>(l(),o.refetch(...h)),u=()=>new Promise((h,g)=>{let m=()=>{};const v=()=>{if(i.value.enabled!==!1){a.setOptions(i.value);const b=a.getOptimisticResult(i.value);b.isStale?(m(),a.fetchOptimistic(i.value).then(h,y=>{Xu(i.value.throwOnError,[y,a.getCurrentQuery()])?g(y):h(a.getCurrentResult())})):(m(),h(b))}};v(),m=ye(i,v)});ye(()=>o.error,h=>{if(o.isError&&!o.isFetching&&Xu(i.value.throwOnError,[h,a.getCurrentQuery()]))throw h});const d=i.value.shallow?Od(o):Dl(o),f=Md(d);for(const h in o)typeof o[h]=="function"&&(f[h]=o[h]);return f.suspense=u,f.refetch=c,f}function rs(t,e){return Rx(Ud,t,e)}function Sk({queries:t,...e},n){const r=n||ga(),i=V(()=>yt(t).map(u=>{const d=Xe(u);typeof d.enabled=="function"&&(d.enabled=u.enabled());const f=r.defaultQueryOptions(d);return f._optimisticResults=r.isRestoring?.value?"isRestoring":"optimistic",f})),a=new yx(r,i.value,e),o=()=>{const[c,u]=a.getOptimisticResult(i.value,e.combine);return u(c.map((d,f)=>({...d,refetch:async(...h)=>{const[{[f]:g}]=a.getOptimisticResult(i.value,e.combine);return g.refetch(...h)}})))},s=Dg(o());let l=()=>{};return r.isRestoring&&ye(r.isRestoring,c=>{c||(l(),l=a.subscribe(()=>{s.value=o()}),s.value=o())},{immediate:!0}),ye(i,c=>{a.setQueries(c,e),s.value=o()}),es(()=>{l()}),e.shallow?Od(s):Dl(s)}function $x(t,e){return Rx(xx,t,e)}function ma(t,e){const n=e||ga(),r=V(()=>n.defaultMutationOptions(Xe(t))),i=new wx(n,r.value),a=r.value.shallow?Hy(i.getCurrentResult()):wn(i.getCurrentResult()),o=i.subscribe(u=>{kp(a,u)}),s=(u,d)=>{i.mutate(u,d).catch(()=>{})};ye(r,()=>{i.setOptions(r.value)}),es(()=>{o()});const l=r.value.shallow?Od(a):Dl(a),c=Md(l);return ye(()=>a.error,u=>{if(u&&Xu(r.value.throwOnError,[u]))throw u}),{...c,mutate:s,mutateAsync:a.mutate,reset:a.reset}}function Ek(t={},e){const n=e||ga(),r=ie(),i=()=>{r.value=n.isFetching(t)},a=n.getQueryCache().subscribe(i);return ec(i),es(()=>{a()}),r}function Tk(t={},e){const n=e||ga(),r=Fx({filters:V(()=>({...Xe(t),status:"pending"}))},n);return V(()=>r.value.length)}function Bh(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function Fx(t={},e){const n=V(()=>Xe(t.filters)),r=(e||ga()).getMutationCache(),i=Dg(Bh(r,t)),a=r.subscribe(()=>{i.value=Bh(r,t)});return ye(n,()=>{i.value=Bh(r,t)}),es(()=>{a()}),Od(i)}const fW=Object.freeze(Object.defineProperty({__proto__:null,CancelledError:zg,InfiniteQueryObserver:xx,Mutation:gx,MutationCache:Ax,MutationObserver:wx,QueriesObserver:yx,Query:hx,QueryCache:Tx,QueryClient:Ox,QueryObserver:Ud,VUE_QUERY_CLIENT:Sx,VueQueryPlugin:Mx,dataTagErrorSymbol:bk,dataTagSymbol:vk,defaultScheduler:ux,defaultShouldDehydrateMutation:Cx,defaultShouldDehydrateQuery:kx,dehydrate:pk,experimental_streamedQuery:mk,focusManager:Bd,hashKey:sa,hydrate:gk,infiniteQueryOptions:kk,isCancelledError:xu,isServer:oa,keepPreviousData:ZC,matchMutation:vp,matchQuery:mp,noop:Dn,notifyManager:tn,onlineManager:Nl,partialMatchKey:Wo,queryOptions:Ck,replaceEqualDeep:Nd,shouldThrowError:Xu,skipToken:jd,unsetMarker:yk,useInfiniteQuery:$x,useIsFetching:Ek,useIsMutating:Tk,useMutation:ma,useMutationState:Fx,useQueries:Sk,useQuery:rs,useQueryClient:ga},Symbol.toStringTag,{value:"Module"}));var ka={},Mr={},X0;function zd(){return X0||(X0=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.excelBOM=Mr.defaultCsv2JsonOptions=Mr.defaultJson2CsvOptions=Mr.errors=void 0,Mr.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}},Mr.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1},Mr.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1},Mr.excelBOM="\uFEFF"),Mr}var Rr={},Sa={};/**
 * @license MIT
 * doc-path <https://github.com/mrodrig/doc-path>
 * Copyright (c) 2015-present, Michael Rodrigues.
 */var q0;function Wg(){if(q0)return Sa;q0=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.setPath=Sa.evaluatePath=void 0;function t(a,o){if(!a)return null;const{dotIndex:s,key:l,remaining:c}=r(o),u=typeof a=="object"&&o in a?a[o]:void 0,d=typeof a=="object"&&l in a?a[l]:void 0;if(s>=0&&typeof a=="object"&&!(o in a)){const{key:f}=r(c),h=parseInt(f);return Array.isArray(d)&&isNaN(h)?d.map(g=>t(g,c)):t(d,c)}else if(Array.isArray(a)){const f=parseInt(l);return o===l&&s===-1&&!isNaN(f)?d:a.map(h=>t(h,o))}else{if(s>=0&&o!==l&&typeof a=="object"&&l in a)return t(d,c);if(s===-1&&typeof a=="object"&&l in a&&!(o in a))return d}return u}Sa.evaluatePath=t;function e(a,o,s){if(a){if(!o)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return n(a,o,s)}Sa.setPath=e;function n(a,o,s){const{dotIndex:l,key:c,remaining:u}=r(o);if(o.startsWith("__proto__")||o.startsWith("constructor")||o.startsWith("prototype"))return a;if(l>=0){const d=parseInt(c);if(typeof a=="object"&&a!==null&&!(c in a)&&Array.isArray(a)&&!isNaN(d))return a[c]=a[c]??{},n(a[c],u,s),a;if(typeof a=="object"&&a!==null&&!(c in a)&&Array.isArray(a))return a.forEach(f=>n(f,o,s)),a;if(typeof a=="object"&&a!==null&&!(c in a)&&!Array.isArray(a)){const{key:f}=r(u),h=parseInt(f);if(!isNaN(h))a[c]=[];else{if(u==="")return a[o]=s,a;a[c]={}}}n(a[c],u,s)}else if(Array.isArray(a)){const d=parseInt(c);return o===c&&l===-1&&!isNaN(d)?(a[c]=s,a):(a.forEach(f=>n(f,u,s)),a)}else a[c]=s;return a}function r(a){const o=i(a);return{dotIndex:o,key:a.slice(0,o>=0?o:void 0).replace(/\\./g,"."),remaining:a.slice(o+1)}}function i(a){for(let o=0;o<a.length;o++){const s=o>0?a[o-1]:"";if(a[o]==="."&&s!=="\\")return o}return-1}return Sa}var $r={},bi={},Y0;function Ak(){if(Y0)return bi;Y0=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.isDocumentToRecurOn=bi.flatten=bi.unique=void 0;function t(r){return[...new Set(r)]}bi.unique=t;function e(r){return[].concat(...r)}bi.flatten=e;function n(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&Object.keys(r).length}return bi.isDocumentToRecurOn=n,bi}var Uh={},K0;function Ok(){return K0||(K0=1,Object.defineProperty(Uh,"__esModule",{value:!0})),Uh}var Z0;function Mk(){return Z0||(Z0=1,function(t){var e=$r&&$r.__createBinding||(Object.create?function(h,g,m,v){v===void 0&&(v=m);var b=Object.getOwnPropertyDescriptor(g,m);(!b||("get"in b?!g.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(h,v,b)}:function(h,g,m,v){v===void 0&&(v=m),h[v]=g[m]}),n=$r&&$r.__setModuleDefault||(Object.create?function(h,g){Object.defineProperty(h,"default",{enumerable:!0,value:g})}:function(h,g){h.default=g}),r=$r&&$r.__importStar||function(h){if(h&&h.__esModule)return h;var g={};if(h!=null)for(var m in h)m!=="default"&&Object.prototype.hasOwnProperty.call(h,m)&&e(g,h,m);return n(g,h),g},i=$r&&$r.__exportStar||function(h,g){for(var m in h)m!=="default"&&!Object.prototype.hasOwnProperty.call(g,m)&&e(g,h,m)};Object.defineProperty(t,"__esModule",{value:!0}),t.deepKeysFromList=t.deepKeys=void 0;const a=r(Ak());i(Ok(),t);function o(h,g){const m=f(g);return typeof h=="object"&&h!==null?l("",h,m):[]}t.deepKeys=o;function s(h,g){const m=f(g);return h.map(v=>typeof v=="object"&&v!==null?o(v,m):[])}t.deepKeysFromList=s;function l(h,g,m){const v=Object.keys(g).map(b=>{const y=d(h,u(b,m));return m.expandNestedObjects&&a.isDocumentToRecurOn(g[b])||m.arrayIndexesAsKeys&&Array.isArray(g[b])&&g[b].length?l(y,g[b],m):m.expandArrayObjects&&Array.isArray(g[b])?c(g[b],y,m):m.ignoreEmptyArrays&&Array.isArray(g[b])&&!g[b].length?[]:y});return a.flatten(v)}function c(h,g,m){let v=s(h,m);return h.length?h.length&&a.flatten(v).length===0?[g]:(v=v.map(b=>Array.isArray(b)&&b.length===0?[g]:b.map(y=>d(g,u(y,m)))),a.unique(a.flatten(v))):m.ignoreEmptyArraysWhenExpanding?[]:[g]}function u(h,g){return g.escapeNestedDots?h.replace(/\./g,"\\."):h}function d(h,g){return h?h+"."+g:g}function f(h){return{arrayIndexesAsKeys:!1,expandNestedObjects:!0,expandArrayObjects:!1,ignoreEmptyArraysWhenExpanding:!1,escapeNestedDots:!1,ignoreEmptyArrays:!1,...h??{}}}}($r)),$r}var Ne={},J0;function Vg(){if(J0)return Ne;J0=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.isInvalid=Ne.flatten=Ne.unique=Ne.arrayDifference=Ne.isError=Ne.isUndefined=Ne.isNull=Ne.isObject=Ne.isString=Ne.isNumber=Ne.unwind=Ne.getNCharacters=Ne.removeEmptyFields=Ne.isEmptyField=Ne.computeSchemaDifferences=Ne.isDateRepresentation=Ne.isStringRepresentation=Ne.deepCopy=Ne.validate=Ne.buildC2JOptions=Ne.buildJ2COptions=void 0;const t=Wg(),e=zd(),n=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,r=1e5;function i(O){return{...e.defaultJson2CsvOptions,...O,delimiter:{field:O?.delimiter?.field??e.defaultJson2CsvOptions.delimiter.field,wrap:O?.delimiter?.wrap||e.defaultJson2CsvOptions.delimiter.wrap,eol:O?.delimiter?.eol||e.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:Object.create({})}}Ne.buildJ2COptions=i;function a(O){return{...e.defaultCsv2JsonOptions,...O,delimiter:{field:O?.delimiter?.field??e.defaultCsv2JsonOptions.delimiter.field,wrap:O?.delimiter?.wrap||e.defaultCsv2JsonOptions.delimiter.wrap,eol:O?.delimiter?.eol||e.defaultCsv2JsonOptions.delimiter.eol}}}Ne.buildC2JOptions=a;function o(O,M,$){if(!O)throw new Error(`${$.cannotCallOn} ${O}.`);if(!M(O))throw new Error($.dataCheckFailure);return!0}Ne.validate=o;function s(O){return JSON.parse(JSON.stringify(O))}Ne.deepCopy=s;function l(O,M){const $=O[0],C=O.length-1,E=O[C];return $===M.delimiter.wrap&&E===M.delimiter.wrap}Ne.isStringRepresentation=l;function c(O){return n.test(O)}Ne.isDateRepresentation=c;function u(O,M){return k(O,M).concat(k(M,O))}Ne.computeSchemaDifferences=u;function d(O){return w(O)||x(O)||O===""}Ne.isEmptyField=d;function f(O){return O.filter(M=>!d(M))}Ne.removeEmptyFields=f;function h(O,M,$){return O.substring(M,M+$)}Ne.getNCharacters=h;function g(O,M,$){const C=(0,t.evaluatePath)(M,$);let E=s(M);Array.isArray(C)&&C.length?C.forEach(S=>{E=s(M),O.push((0,t.setPath)(E,$,S))}):(Array.isArray(C)&&C.length===0&&(0,t.setPath)(E,$,""),O.push(E))}function m(O,M){const $=[];return O.forEach(C=>{g($,C,M)}),$}Ne.unwind=m;function v(O){return!isNaN(Number(O))}Ne.isNumber=v;function b(O){return typeof O=="string"}Ne.isString=b;function y(O){return typeof O=="object"}Ne.isObject=y;function x(O){return O===null}Ne.isNull=x;function w(O){return typeof O>"u"}Ne.isUndefined=w;function _(O){return Object.prototype.toString.call(O)==="[object Error]"}Ne.isError=_;function k(O,M){return O.filter($=>!M.includes($))}Ne.arrayDifference=k;function R(O){return[...new Set(O)]}Ne.unique=R;function A(O){if(O.flat)return O.flat();if(O.length>r){let M=[];for(let $=0;$<O.length;$+=r)M=M.concat(...O.slice($,$+r));return M}return O.reduce((M,$)=>M.concat($),[])}Ne.flatten=A;function T(O){return O===1/0||O===-1/0}return Ne.isInvalid=T,Ne}var Q0;function Rk(){if(Q0)return Rr;Q0=1;var t=Rr&&Rr.__createBinding||(Object.create?function(l,c,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(c,u);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(l,d,f)}:function(l,c,u,d){d===void 0&&(d=u),l[d]=c[u]}),e=Rr&&Rr.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),n=Rr&&Rr.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var u in l)u!=="default"&&Object.prototype.hasOwnProperty.call(l,u)&&t(c,l,u);return e(c,l),c};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.Json2Csv=void 0;const r=Wg(),i=Mk(),a=zd(),o=n(Vg()),s=function(l){const c=new RegExp(l.delimiter.wrap,"g"),u=/\r?\n|\r/,d=l.parseValue&&typeof l.parseValue=="function"?l.parseValue:null,f=l.expandArrayObjects&&!l.unwindArrays,h={arrayIndexesAsKeys:l.arrayIndexesAsKeys,expandNestedObjects:l.expandNestedObjects,expandArrayObjects:f,ignoreEmptyArraysWhenExpanding:f,escapeNestedDots:!0};function g(j){return(0,i.deepKeysFromList)(j,h)}function m(j){return j.length===0?[]:l.checkSchemaDifferences?v(j):o.unique(o.flatten(j))}function v(j){const U=j[0],z=j.slice(1);if(b(U,z))throw new Error(a.errors.json2csv.notSameSchema);return U}function b(j,U){return U.reduce((z,Q)=>o.computeSchemaDifferences(j,Q).length>0?z+1:z,0)}function y(j){return l.excludeKeys?j.filter(U=>{for(const z of l.excludeKeys){const Q=z instanceof RegExp?z:new RegExp(`^${z}`);if(z===U||U.match(Q))return!1}return!0}):j}function x(j){return l.sortHeader&&typeof l.sortHeader=="function"?j.sort(l.sortHeader):l.sortHeader?j.sort():j}function w(j){return l.trimHeaderFields&&(j.headerFields=j.headerFields.map(U=>U.split(".").map(z=>z.trim()).join("."))),j}function _(j){return l.prependHeader&&(j.headerFields=j.headerFields.map(function(U){return P(U)})),j}function k(j){const U=Object.keys(l.fieldTitleMap);return j.header=j.headerFields.map(function(z){let Q=z;return U.includes(z)?Q=l.fieldTitleMap[z]:l.escapeHeaderNestedDots||(Q=Q.replace(/\\\./g,".")),Q}).join(l.delimiter.field),j}function R(){return l.keys?l.keys.map(j=>typeof j=="object"&&"field"in j?(l.fieldTitleMap[j.field]=j.title??j.field,j.field):j):[]}function A(){return l.keys?l.keys.flatMap(j=>typeof j=="string"?[]:j?.wildcardMatch?j.field:[]):[]}function T(j){const U=A(),z=R(),Q=g(j),K=m(Q);if(l.keys){l.keys=z;const J=z.flatMap(ne=>{if(!U.includes(ne))return ne;const oe=[],he=new RegExp(`^${ne}`);for(const ve of K)(ne===ve||ve.match(he))&&oe.push(ve);return oe});if(!l.unwindArrays){const ne=y(J);return x(ne)}}const H=y(K);return x(H)}function O(j){for(const U of j.records)for(const z of j.headerFields){const Q=(0,r.evaluatePath)(U,z);if(Array.isArray(Q))return!0}return!1}function M(j,U=!1){if(l.unwindArrays){if(j.headerFields.forEach(z=>{j.records=o.unwind(j.records,z)}),j.headerFields=T(j.records),O(j))return M(j,U);if(!U)return M(j,!0);if(l.keys){const z=R();j.headerFields=y(z)}return j}return j}function $(j){return j.recordString=j.records.map(U=>{const z=E(U,j.headerFields),Q=z.map(K=>{K=F(K),K=D(K);let H=d?d(K,S):S(K);return H=P(H),H});return L(Q)}).join(l.delimiter.eol),j}function C(j){const U=o.removeEmptyFields(j);return!j.length||!U.length?l.emptyFieldValue||"":U.length===1?U[0]:j}function E(j,U){const z=[];return U.forEach(Q=>{let K=(0,r.evaluatePath)(j,Q);!o.isUndefined(l.emptyFieldValue)&&o.isEmptyField(K)?K=l.emptyFieldValue:l.expandArrayObjects&&Array.isArray(K)&&(K=C(K)),z.push(K)}),z}function S(j){const U=j instanceof Date;return j===null||Array.isArray(j)||typeof j=="object"&&!U?JSON.stringify(j):typeof j>"u"?"undefined":U&&l.useDateIso8601Format?j.toISOString():l.useLocaleFormat?j.toLocaleString():j.toString()}function F(j){return l.trimFieldValues?Array.isArray(j)?j.map(F):typeof j=="string"?j.trim():j:j}function D(j){return l.preventCsvInjection?Array.isArray(j)?j.map(D):typeof j=="string"&&!o.isNumber(j)?j.replace(/^[=+\-@\t\r]+/g,""):j:j}function P(j){const U=l.delimiter.wrap;return j.includes(l.delimiter.wrap)&&(j=j.replace(c,U+U)),(j.includes(l.delimiter.field)||j.includes(l.delimiter.wrap)||j.match(u)||l.wrapBooleans&&(j==="true"||j==="false"))&&(j=U+j+U),j}function L(j){return j.join(l.delimiter.field)}function N(j){const U=j.header,z=j.recordString;return(l.excelBOM?a.excelBOM:"")+(l.prependHeader?U+l.delimiter.eol:"")+z}function W(j){Array.isArray(j)||(j=[j]);const U={headerFields:T(j),records:j,header:"",recordString:""},z=M(U),Q=$(z),K=_(Q),H=w(K),J=k(H);return N(J)}return{convert:W}};return Rr.Json2Csv=s,Rr}var Fr={},e1;function $k(){if(e1)return Fr;e1=1;var t=Fr&&Fr.__createBinding||(Object.create?function(s,l,c,u){u===void 0&&(u=c);var d=Object.getOwnPropertyDescriptor(l,c);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,u,d)}:function(s,l,c,u){u===void 0&&(u=c),s[u]=l[c]}),e=Fr&&Fr.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),n=Fr&&Fr.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&t(l,s,c);return e(l,s),l};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Csv2Json=void 0;const r=Wg(),i=zd(),a=n(Vg()),o=function(s){const l=new RegExp(s.delimiter.wrap+s.delimiter.wrap,"g"),c=new RegExp("^"+i.excelBOM),u=s.parseValue&&typeof s.parseValue=="function"?s.parseValue:JSON.parse;function d(T){return T=w(T),s.trimHeaderFields?T.split(".").map(O=>O.trim()).join("."):T}function f(T){let O=[];if(s.headerFields)O=s.headerFields.map((M,$)=>({value:d(M),index:$}));else if(O=T[0].map(($,C)=>({value:d($),index:C})),s.keys){const $=s.keys;O=O.filter(C=>$.includes(C.value))}return{lines:T,headerFields:O,recordLines:[]}}function h(T){return s.excelBOM?T.replace(c,""):T}function g(T){const O=[],M=T.length-1,$=s.delimiter.eol.length,C={insideWrapDelimiter:!1,parsingValue:!0,justParsedDoubleQuote:!1,startIndex:0};let E=[],S,F,D,P,L=0;for(;L<T.length;){if(S=T[L],F=L?T[L-1]:"",D=L<M?T[L+1]:"",P=a.getNCharacters(T,L,$),(P===s.delimiter.eol&&!C.insideWrapDelimiter||L===M)&&F===s.delimiter.field)P===s.delimiter.eol&&C.startIndex===L||S===s.delimiter.field?E.push(""):E.push(T.substring(C.startIndex)),E.push(""),O.push(E),E=[],C.startIndex=L+$,C.parsingValue=!0,C.insideWrapDelimiter=D===s.delimiter.wrap;else if(L===M&&S===s.delimiter.field){const N=T.substring(C.startIndex,L);E.push(N),E.push(""),O.push(E)}else if(L===M||P===s.delimiter.eol&&(!C.insideWrapDelimiter||C.insideWrapDelimiter&&F===s.delimiter.wrap&&!C.justParsedDoubleQuote)){const N=L!==M||F===s.delimiter.wrap?L:void 0;E.push(T.substring(C.startIndex,N)),O.push(E),E=[],C.startIndex=L+$,C.parsingValue=!0,C.insideWrapDelimiter=D===s.delimiter.wrap}else if(S===s.delimiter.wrap&&F===s.delimiter.field&&!C.insideWrapDelimiter&&!C.parsingValue)C.startIndex=L,C.insideWrapDelimiter=!0,C.parsingValue=!0,a.getNCharacters(T,L+1,$)===s.delimiter.eol&&(L+=s.delimiter.eol.length+1);else if(F===s.delimiter.field&&S===s.delimiter.wrap&&D===s.delimiter.eol)E.push(T.substring(C.startIndex,L-1)),C.startIndex=L,C.parsingValue=!0,C.insideWrapDelimiter=!0,C.justParsedDoubleQuote=!0,L+=1;else if((F!==s.delimiter.wrap||C.justParsedDoubleQuote&&F===s.delimiter.wrap)&&S===s.delimiter.wrap&&a.getNCharacters(T,L+1,$)===s.delimiter.eol)C.insideWrapDelimiter=!1,C.parsingValue=!1;else if(S===s.delimiter.wrap&&(L===0||a.getNCharacters(T,L-$,$)===s.delimiter.eol&&!C.insideWrapDelimiter))C.insideWrapDelimiter=!0,C.parsingValue=!0,C.startIndex=L;else if(S===s.delimiter.wrap&&D===s.delimiter.field&&C.insideWrapDelimiter)E.push(T.substring(C.startIndex,L+1)),C.startIndex=L+2,C.insideWrapDelimiter=!1,C.parsingValue=!1;else if(S===s.delimiter.wrap&&F===s.delimiter.field&&!C.insideWrapDelimiter&&C.parsingValue)E.push(T.substring(C.startIndex,L-1)),C.insideWrapDelimiter=!0,C.parsingValue=!0,C.startIndex=L;else if(S===s.delimiter.wrap&&D===s.delimiter.wrap&&L!==C.startIndex){L+=2,C.justParsedDoubleQuote=!0;continue}else S===s.delimiter.field&&F!==s.delimiter.wrap&&D!==s.delimiter.wrap&&!C.insideWrapDelimiter&&C.parsingValue?(E.push(T.substring(C.startIndex,L)),C.startIndex=L+1):S===s.delimiter.field&&F===s.delimiter.wrap&&D!==s.delimiter.wrap&&!C.parsingValue&&(C.insideWrapDelimiter=!1,C.parsingValue=!0,C.startIndex=L+1);L++,C.justParsedDoubleQuote=!1}return O}function m(T){return s.headerFields?T.recordLines=T.lines:T.recordLines=T.lines.splice(1),T}function v(T,O){const M=O[T.index];return b(M)}function b(T){const O=R(T);return!a.isError(O)&&!a.isInvalid(O)?O:T==="undefined"?void 0:T}function y(T){return s.trimFieldValues&&T!==null?T.trim():T}function x(T,O){return T.reduce((M,$)=>{const C=v($,O);try{return(0,r.setPath)(M,$.value,C)}catch{return M}},{})}function w(T){const O=T[0],M=T.length-1,$=T[M];return O===s.delimiter.wrap&&$===s.delimiter.wrap?T.length<=2?"":T.substring(1,M):T}function _(T){return T.replace(l,s.delimiter.wrap)}function k(T){return T.recordLines.reduce((O,M)=>{M=M.map(C=>(C=w(C),C=_(C),C=y(C),C));const $=x(T.headerFields,M);return O.concat($)},[])}function R(T){try{if(a.isStringRepresentation(T,s)&&!a.isDateRepresentation(T))return T;const O=u(T);return Array.isArray(O)?O.map(y):O}catch(O){return O}}function A(T){const O=h(T),M=g(O),$=f(M),C=m($);return k(C)}return{convert:A}};return Fr.Csv2Json=o,Fr}var t1;function Fk(){if(t1)return ka;t1=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.csv2json=ka.json2csv=void 0;const t=zd(),e=Rk(),n=$k(),r=Vg();function i(o,s){const l=(0,r.buildJ2COptions)(s??{});return(0,r.validate)(o,r.isObject,t.errors.json2csv),(0,e.Json2Csv)(l).convert(o)}ka.json2csv=i;function a(o,s){const l=(0,r.buildC2JOptions)(s??{});return(0,r.validate)(o,r.isString,t.errors.csv2json),(0,n.Csv2Json)(l).convert(o)}return ka.csv2json=a,ka}var Px=Fk();function Hd(t){return t._context||{}}function Dx(t,e){return Object.keys(e).length===0?t:{...t,_context:e}}function Pk(t){const{_context:e,...n}=t;return n}function Dk(t,e={}){const n={...t};return e.cleanKeys&&e.cleanKeys.forEach(r=>delete n[r]),{props:n,skip:e.skip,nodes:e.nodes}}function Ep(t,e,n){return typeof t=="string"?!!n(t,e):!!t}Bg.addIdentifierChar("$");Bg.addIdentifierChar("@");function Lk(t){try{return Bg(t)}catch(e){return console.warn(`Expression parsing failed: ${t}`,e),null}}function la(t,e){const n=Lk(t);if(n)return Sn(n,e)}function Sn(t,e){if(!(!t||typeof t!="object"))switch(t.type){case"Literal":return t.value;case"Identifier":return Ik(e,t.name);case"MemberExpression":{const n=Sn(t.object,e);if(n==null)return;const r=t.computed?Sn(t.property,e):t.property?.name;return yt(n)?.[r]}case"BinaryExpression":{const n=Sn(t.left,e),r=Sn(t.right,e);return{"+":()=>n+r,"-":()=>n-r,"*":()=>n*r,"/":()=>n/r,"%":()=>n%r,"==":()=>n===r,"===":()=>n===r,"!=":()=>n!==r,"!==":()=>n!==r,"<":()=>n<r,">":()=>n>r,"<=":()=>n<=r,">=":()=>n>=r}[t.operator]?.()??void 0}case"LogicalExpression":{const n=Sn(t.left,e);return t.operator==="&&"?n&&Sn(t.right,e):t.operator==="||"?n||Sn(t.right,e):t.operator==="??"?n??Sn(t.right,e):void 0}case"UnaryExpression":{const n=Sn(t.argument,e);return t.operator==="!"?!n:t.operator==="-"?-n:t.operator==="+"?+n:void 0}case"ConditionalExpression":{const n=Sn(t.test,e);return Sn(n?t.consequent:t.alternate,e)}case"CallExpression":{const n=Sn(t.callee,e),r=yt(n);if(typeof r!="function"){console.warn("Attempting to call non-function value:",r);return}const i=Array.isArray(t.arguments)?t.arguments.map(a=>{const o=Sn(a,e);return yt(o)}):[];try{let a;if(t.callee.type==="MemberExpression"){const o=Sn(t.callee.object,e);a=yt(o)}return r.apply(a,i)}catch(a){console.warn("Function call error:",a);return}}case"ArrayExpression":return Array.isArray(t.elements)?t.elements.map(n=>{if(!n)return;const r=Sn(n,e);return yt(r)}):[];default:console.warn(`Unsupported expression type: ${t.type}`);return}}function Ik(t,e){if(!(!e||!t))try{return e.split(".").reduce((n,r)=>n==null?void 0:yt(n)?.[r],t)}catch{return}}function Nk(t,e){const n=t.trim(),r=n.match(/^\((\w+),\s*(\w+)\) in (.+)$/);if(r){const[,a,o,s]=r,l=la(s,e),c=yt(l);return{items:Array.isArray(c)?c:[],itemName:a,indexName:o}}const i=n.match(/^(\w+) in (.+)$/);if(i){const[,a,o]=i,s=la(o,e),l=yt(s);return{items:Array.isArray(l)?l:[],itemName:a,indexName:"index"}}throw new Error(`Invalid v-for expression: ${t}`)}const Lx={name:"v-for",priority:90,process(t,e){const n=t.attrs?.["v-for"]||t.attrs?.vFor;if(!n)return null;const r={...t.attrs};delete r["v-for"],delete r.vFor;const i=Hd(e);let a;try{if(Array.isArray(n))a={items:n,itemName:"item",indexName:"index"};else if(typeof n=="object"&&n.list)a={items:Array.isArray(n.list)?n.list:[],itemName:n.item||"item",indexName:n.index||"index"};else if(typeof n=="string")a=Nk(n,i);else return console.warn("Unsupported v-for format:",n),null}catch(s){return console.warn("v-for parsing failed:",s),null}const o=a.items.map((s,l)=>{const c={[a.itemName]:s,[a.indexName]:l},u={...i,...c};return{...t,attrs:{...r,key:`${a.itemName}_${l}`,...Dx({},u)}}});return{props:Pk(e),nodes:o}}},Ix={name:"v-if",priority:100,process(t,e){const n=t.attrs||{},r=Hd(e);let i;return n["v-if"]!==void 0?i=Ep(n["v-if"],r,la):n["v-else-if"]!==void 0?i=Ep(n["v-else-if"],r,la):n["v-else"]!==void 0&&(i=!0),i===void 0?null:Dk(e,{skip:!i,cleanKeys:["v-if","v-else-if","v-else"]})}},Nx={name:"v-model",priority:70,process(t,e){const n={},r={};let i=!1;const a=Hd(e);return Object.entries(e).forEach(([o,s])=>{if(o.startsWith("v-model")||o.startsWith("vModel")){i=!0;const[l,...c]=o.split(".");let u;l==="v-model"||l==="vModel"?u="modelValue":l.startsWith("v-model:")?u=l.slice(8):l.startsWith("vModel:")?u=l.slice(7):u="modelValue";try{const{modelValue:d,updateFn:f}=jk(s,c,a);n[u]=d,n[`onUpdate:${u}`]=f}catch(d){console.error(`v-model binding error (${u}):`,d)}}else r[o]=s}),i?{props:{...r,...n}}:null}};function jk(t,e,n){if(typeof t=="string"){const i=()=>{try{return la(t,n)}catch(o){console.warn(`v-model: Failed to evaluate expression "${t}"`,o);return}},a=o=>{try{const s=t.split(".");if(s.length>=2){const l=s.slice(0,-1).join("."),c=s[s.length-1],u=la(l,n);if(u&&typeof u=="object"){u[c]=Sc(o,e);return}}console.warn(`v-model: Cannot update expression "${t}". Target object not found.`)}catch(s){console.warn(`v-model: Failed to update expression "${t}"`,s)}};return{modelValue:i(),updateFn:a}}if(Array.isArray(t)&&t.length===2&&typeof t[0]=="function"&&typeof t[1]=="function"){const[i,a]=t;return{modelValue:i(),updateFn:o=>{a(Sc(o,e))}}}if(Array.isArray(t)&&t.length===2){const[i,a]=t;if(!i||typeof a!="string")throw new Error("Invalid v-model binding format: [obj, prop] expected");const o=Te(i,a);return{modelValue:o.value,updateFn:s=>{o.value=Sc(s,e)}}}const r=Te(t);return r===t&&typeof t!="object"?{modelValue:t,updateFn:()=>{console.warn("v-model: Cannot update non-reactive value. Please use ref, [obj, prop], or [getter, setter] format.")}}:{modelValue:r.value,updateFn:i=>{r.value=Sc(i,e)}}}function Sc(t,e){return e.reduce((n,r)=>{switch(r){case"trim":return typeof n=="string"?n.trim():n;case"number":{const i=Number(n);return Number.isNaN(i)?n:i}case"lazy":return n;default:return console.warn(`Unknown v-model modifier: ${r}`),n}},t)}const jx={name:"v-on",priority:60,process(t,e){const n={},r={};let i=!1;return Object.entries(e).forEach(([a,o])=>{if(a.startsWith("@")||a.startsWith("v-on:")){i=!0;const s=a.startsWith("@")?a.slice(1):a.slice(5),[l,...c]=s.split(".");if(!l){console.warn(`Invalid event name: ${a}`);return}const u=`on${l.charAt(0).toUpperCase()}${l.slice(1)}`,d=(f,...h)=>{c.includes("prevent")&&f.preventDefault?.(),c.includes("stop")&&f.stopPropagation?.();try{if(typeof o=="function")return o(f,...h);console.warn(`Invalid event handler type: ${typeof o}`)}catch(g){console.error(`Event handler execution error (${l}):`,g)}};n[u]=d}else r[a]=o}),i?{props:{...r,...n}}:null}},Bx={name:"v-show",priority:95,process(t,e){const n=t.attrs?.["v-show"];if(n===void 0)return null;const r=Hd(e),i=Ep(n,r,la),a={...e};delete a["v-show"];const o=a.style||{},s=typeof o=="object"?{...o,display:i?void 0:"none"}:{display:i?void 0:"none"};return{props:{...a,style:s}}}};function Tp(t){return typeof t=="string"&&/\{\{.+?\}\}/.test(t)}function n1(t,e){return Tp(t)?t.replace(/\{\{([^}]+)\}\}/g,(n,r)=>{try{const i=la(r.trim(),e);return String(i??"")}catch(i){return console.warn(`Interpolation expression evaluation failed: ${r}`,i),n}}):t}const Ux={name:"v-text",priority:50,process(t,e){const n=e._context||{};let r=!1,i=!1;const a={};Object.entries(e).forEach(([s,l])=>{if(typeof l=="string"&&Tp(l)){const c=n1(l,n);c!==l?(a[s]=c,r=!0):a[s]=l}else a[s]=l});let o=t.children;if(typeof t.children=="string"&&Tp(t.children)){const s=n1(t.children,n);s!==t.children&&(o=s,r=!0,i=!0)}if(!r)return null;if(i){const s={...t,attrs:t.attrs,children:o};return{props:a,nodes:[s]}}return{props:a}}},zx=[Ix,Bx,Lx,Nx,jx,Ux].sort((t,e)=>e.priority-t.priority);function Bk(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Uk=Bk();typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const zk=t=>typeof t<"u";function Hk(t){return JSON.parse(JSON.stringify(t))}function Wk(t,e,n,r={}){var i,a,o;const{clone:s=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=r,h=kr(),g=n||h?.emit||((i=h?.$emit)==null?void 0:i.bind(h))||((o=(a=h?.proxy)==null?void 0:a.$emit)==null?void 0:o.bind(h?.proxy));let m=c;e||(e="modelValue"),m=m||`update:${e.toString()}`;const v=x=>s?typeof s=="function"?s(x):Hk(x):x,b=()=>zk(t[e])?v(t[e]):d,y=x=>{f?f(x)&&g(m,x):g(m,x)};if(l){const x=b(),w=ie(x);let _=!1;return ye(()=>t[e],k=>{_||(_=!0,w.value=v(k),An(()=>_=!1))}),ye(w,k=>{!_&&(k!==t[e]||u)&&y(k)},{deep:u}),w}else return V({get(){return b()},set(x){y(x)}})}var Hx="unified-overlay";function Vk(t="",e=document.body){const n=document.createElement("div");return t&&(n.id=t),e!==!1&&e.appendChild(n),n}var ki={position:null,spaces:{}};function Gk(t=Hx,e=!0){return ki.spaces[t]||(ki.spaces[t]=0),e?`${t}--${++ki.spaces[t]}`:t}function Xk(t=Hx){return ki.spaces[t]||0}function qk(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=r=>(t(r),n),n.reject=e,n}function Yk(){typeof window>"u"&&typeof document>"u"||document.addEventListener("click",t=>{if(t.target instanceof Element){const{left:e,top:n,width:r,height:i}=t.target.getBoundingClientRect();e>0||n>0?ki.position={x:e+r/2,y:n+i/2}:ki.position=null}else ki.position=null;setTimeout(()=>ki.position=null,64)})}function Wx(t,e={}){const{container:n}=e;function r(a,o){function s(d,f){const h=qk(),g=Gk(f.id,f.autoIncrement),m=Xk(f.id),v=n?f.root:document.body,b=Vk(g,v);return t(a,d,Object.assign(f,{position:ki.position,id:g,deferred:h,index:m,container:b})),h}let l;function c(d,f){return l||(l=s(d,f),l.finally(()=>l=void 0)),l}function u(d,f){const h={...o,...f};return h.only?c(d,h):s(d,h)}return u}function i(a,o,s){return r(a,s)(o)}return{define:r,render:i}}Yk();function Kk(){}function Zk(t){return new Promise(e=>setTimeout(e,t))}var Ap=function(){return Ap=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ap.apply(this,arguments)};function Jk(t){return t.toLowerCase()}var Qk=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],eS=/[^A-Z0-9]+/gi;function tS(t,e){e===void 0&&(e={});for(var n=e.splitRegexp,r=n===void 0?Qk:n,i=e.stripRegexp,a=i===void 0?eS:i,o=e.transform,s=o===void 0?Jk:o,l=e.delimiter,c=l===void 0?" ":l,u=r1(r1(t,r,"$1\0$2"),a,"\0"),d=0,f=u.length;u.charAt(d)==="\0";)d++;for(;u.charAt(f-1)==="\0";)f--;return u.slice(d,f).split("\0").map(s).join(c)}function r1(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,i){return r.replace(i,n)},t)}function nS(t,e){var n=t.charAt(0),r=t.substr(1).toLowerCase();return e>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function Vx(t,e){return e===void 0&&(e={}),tS(t,Ap({delimiter:"",transform:nS},e))}var rS={appContext:null},Yu=Symbol("OverlayScripts"),Gx=Symbol("OverlayInstances");function Wd(t={}){const{duration:e=0,immediate:n=!0,model:r="visible",automatic:i=!0}=t,a=an(Yu,iS(r,t)),o=Reflect.get(a,"in_dec"),{visible:s,deferred:l,vanish:c}=a;async function u(){return s.value=!1,await Zk(e),c?.(),Promise.resolve()}return!o&&i&&l?.then(u).catch(u),!o&&n&&Tr(()=>s.value=!0),Ui(Yu,null),a}function iS(t,e={}){const{reject:n="reject",resolve:r="resolve"}=e.events||{},i=kr();if(!i)throw new Error("Please use useExtendOverlay in component setup");const a=Wk(i.props,t,i.emit,{passive:!0});return{reject:l=>{i?.emit(n,l),a.value=!1},resolve:l=>{i?.emit(r,l),a.value=!1},vanish:Kk,visible:a,in_dec:!0}}function Xx(t){const{reject:e}=t.deferred||{},{vanish:n}=t,r=ie(!1);function i(){n?.(),e?.()}return{resolve:t.deferred.resolve,reject:t.deferred.reject,deferred:t.deferred,visible:r,vanish:i}}var{define:aS}=Wx((t,e,n)=>{const{id:r,deferred:i,render:a,vanish:o}=n,s=Y({name:Vx(r),setup:()=>{const c=Xx({vanish:l,deferred:i});Ui(Yu,c)},render:()=>Ye(t,e)});function l(){o(s)}a(s,e)},{container:!1});function Vd(t){const{render:e,vanish:n}=an(Gx);return aS(t,{render:e,vanish:n})}function oS(t,e){var n;const r=e?.app||((n=rS.appContext)==null?void 0:n.app);r&&(t.config.globalProperties=r.config.globalProperties,Object.assign(t._context,r._context))}Wx((t,e,n)=>{const{container:r,id:i,deferred:a,appContext:o}=n;function s(){c.unmount(),r.remove()}const l=Y({name:Vx(i),setup:()=>{const u=Xx({vanish:s,deferred:a});Ui(Yu,u)},render:()=>Ye(t,e)}),c=F8(l);return oS(c,o),c.mount(r),s});var qx=Y({setup(t,{slots:e}){const n=ie([]);function r(a,o){console.log({Instance:a,props:o}),n.value.push({Instance:Bo(a),props:o})}function i(a){n.value=n.value.filter(({Instance:o})=>o!==a)}return Ui(Gx,{render:r,vanish:i}),()=>{var a;return Ye(Vt,[...n.value.map(({Instance:o,props:s},l)=>Ye(o,{...s,key:l})),(a=e.default)==null?void 0:a.call(e)])}}});function Yx(t,e){return function(){return t.apply(e,arguments)}}const{toString:sS}=Object.prototype,{getPrototypeOf:Gg}=Object,{iterator:Gd,toStringTag:Kx}=Symbol,Xd=(t=>e=>{const n=sS.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Kr=t=>(t=t.toLowerCase(),e=>Xd(e)===t),qd=t=>e=>typeof e===t,{isArray:is}=Array,jl=qd("undefined");function lS(t){return t!==null&&!jl(t)&&t.constructor!==null&&!jl(t.constructor)&&Xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Zx=Kr("ArrayBuffer");function cS(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Zx(t.buffer),e}const uS=qd("string"),Xn=qd("function"),Jx=qd("number"),Yd=t=>t!==null&&typeof t=="object",dS=t=>t===!0||t===!1,wu=t=>{if(Xd(t)!=="object")return!1;const e=Gg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Kx in t)&&!(Gd in t)},hS=Kr("Date"),fS=Kr("File"),pS=Kr("Blob"),gS=Kr("FileList"),mS=t=>Yd(t)&&Xn(t.pipe),vS=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xn(t.append)&&((e=Xd(t))==="formdata"||e==="object"&&Xn(t.toString)&&t.toString()==="[object FormData]"))},bS=Kr("URLSearchParams"),[yS,xS,wS,_S]=["ReadableStream","Request","Response","Headers"].map(Kr),CS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),is(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(r=0;r<o;r++)s=a[r],e.call(null,t[s],s,t)}}function Qx(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const La=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,e3=t=>!jl(t)&&t!==La;function Op(){const{caseless:t}=e3(this)&&this||{},e={},n=(r,i)=>{const a=t&&Qx(e,i)||i;wu(e[a])&&wu(r)?e[a]=Op(e[a],r):wu(r)?e[a]=Op({},r):is(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&nc(arguments[r],n);return e}const kS=(t,e,n,{allOwnKeys:r}={})=>(nc(e,(i,a)=>{n&&Xn(i)?t[a]=Yx(i,n):t[a]=i},{allOwnKeys:r}),t),SS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ES=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},TS=(t,e,n,r)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!r||r(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=n!==!1&&Gg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},AS=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},OS=t=>{if(!t)return null;if(is(t))return t;let e=t.length;if(!Jx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},MS=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gg(Uint8Array)),RS=(t,e)=>{const r=(t&&t[Gd]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},$S=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},FS=Kr("HTMLFormElement"),PS=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),i1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),DS=Kr("RegExp"),t3=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};nc(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(r[a]=o||i)}),Object.defineProperties(t,r)},LS=t=>{t3(t,(e,n)=>{if(Xn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Xn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},IS=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return is(t)?r(t):r(String(t).split(e)),n},NS=()=>{},jS=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function BS(t){return!!(t&&Xn(t.append)&&t[Kx]==="FormData"&&t[Gd])}const US=t=>{const e=new Array(10),n=(r,i)=>{if(Yd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=is(r)?[]:{};return nc(r,(o,s)=>{const l=n(o,i+1);!jl(l)&&(a[s]=l)}),e[i]=void 0,a}}return r};return n(t,0)},zS=Kr("AsyncFunction"),HS=t=>t&&(Yd(t)||Xn(t))&&Xn(t.then)&&Xn(t.catch),n3=((t,e)=>t?setImmediate:e?((n,r)=>(La.addEventListener("message",({source:i,data:a})=>{i===La&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),La.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xn(La.postMessage)),WS=typeof queueMicrotask<"u"?queueMicrotask.bind(La):typeof process<"u"&&process.nextTick||n3,VS=t=>t!=null&&Xn(t[Gd]),ae={isArray:is,isArrayBuffer:Zx,isBuffer:lS,isFormData:vS,isArrayBufferView:cS,isString:uS,isNumber:Jx,isBoolean:dS,isObject:Yd,isPlainObject:wu,isReadableStream:yS,isRequest:xS,isResponse:wS,isHeaders:_S,isUndefined:jl,isDate:hS,isFile:fS,isBlob:pS,isRegExp:DS,isFunction:Xn,isStream:mS,isURLSearchParams:bS,isTypedArray:MS,isFileList:gS,forEach:nc,merge:Op,extend:kS,trim:CS,stripBOM:SS,inherits:ES,toFlatObject:TS,kindOf:Xd,kindOfTest:Kr,endsWith:AS,toArray:OS,forEachEntry:RS,matchAll:$S,isHTMLForm:FS,hasOwnProperty:i1,hasOwnProp:i1,reduceDescriptors:t3,freezeMethods:LS,toObjectSet:IS,toCamelCase:PS,noop:NS,toFiniteNumber:jS,findKey:Qx,global:La,isContextDefined:e3,isSpecCompliantForm:BS,toJSONObject:US,isAsyncFn:zS,isThenable:HS,setImmediate:n3,asap:WS,isIterable:VS};function qe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ae.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const r3=qe.prototype,i3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{i3[t]={value:t}});Object.defineProperties(qe,i3);Object.defineProperty(r3,"isAxiosError",{value:!0});qe.from=(t,e,n,r,i,a)=>{const o=Object.create(r3);return ae.toFlatObject(t,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),qe.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const GS=null;function Mp(t){return ae.isPlainObject(t)||ae.isArray(t)}function a3(t){return ae.endsWith(t,"[]")?t.slice(0,-2):t}function a1(t,e,n){return t?t.concat(e).map(function(i,a){return i=a3(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function XS(t){return ae.isArray(t)&&!t.some(Mp)}const qS=ae.toFlatObject(ae,{},null,function(e){return/^is[A-Z]/.test(e)});function Kd(t,e,n){if(!ae.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!ae.isUndefined(v[m])});const r=n.metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(e);if(!ae.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(ae.isDate(g))return g.toISOString();if(ae.isBoolean(g))return g.toString();if(!l&&ae.isBlob(g))throw new qe("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(g)||ae.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,v){let b=g;if(g&&!v&&typeof g=="object"){if(ae.endsWith(m,"{}"))m=r?m:m.slice(0,-2),g=JSON.stringify(g);else if(ae.isArray(g)&&XS(g)||(ae.isFileList(g)||ae.endsWith(m,"[]"))&&(b=ae.toArray(g)))return m=a3(m),b.forEach(function(x,w){!(ae.isUndefined(x)||x===null)&&e.append(o===!0?a1([m],w,a):o===null?m:m+"[]",c(x))}),!1}return Mp(g)?!0:(e.append(a1(v,m,a),c(g)),!1)}const d=[],f=Object.assign(qS,{defaultVisitor:u,convertValue:c,isVisitable:Mp});function h(g,m){if(!ae.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),ae.forEach(g,function(b,y){(!(ae.isUndefined(b)||b===null)&&i.call(e,b,ae.isString(y)?y.trim():y,m,f))===!0&&h(b,m?m.concat(y):[y])}),d.pop()}}if(!ae.isObject(t))throw new TypeError("data must be an object");return h(t),e}function o1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Xg(t,e){this._pairs=[],t&&Kd(t,this,e)}const o3=Xg.prototype;o3.append=function(e,n){this._pairs.push([e,n])};o3.toString=function(e){const n=e?function(r){return e.call(this,r,o1)}:o1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function YS(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function s3(t,e,n){if(!e)return t;const r=n&&n.encode||YS;ae.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=ae.isURLSearchParams(e)?e.toString():new Xg(e,n).toString(r),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class s1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ae.forEach(this.handlers,function(r){r!==null&&e(r)})}}const l3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KS=typeof URLSearchParams<"u"?URLSearchParams:Xg,ZS=typeof FormData<"u"?FormData:null,JS=typeof Blob<"u"?Blob:null,QS={isBrowser:!0,classes:{URLSearchParams:KS,FormData:ZS,Blob:JS},protocols:["http","https","file","blob","url","data"]},qg=typeof window<"u"&&typeof document<"u",Rp=typeof navigator=="object"&&navigator||void 0,e9=qg&&(!Rp||["ReactNative","NativeScript","NS"].indexOf(Rp.product)<0),t9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",n9=qg&&window.location.href||"http://localhost",r9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qg,hasStandardBrowserEnv:e9,hasStandardBrowserWebWorkerEnv:t9,navigator:Rp,origin:n9},Symbol.toStringTag,{value:"Module"})),Tn={...r9,...QS};function i9(t,e){return Kd(t,new Tn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return Tn.isNode&&ae.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function a9(t){return ae.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function o9(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function c3(t){function e(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=n.length;return o=!o&&ae.isArray(i)?i.length:o,l?(ae.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!s):((!i[o]||!ae.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],a)&&ae.isArray(i[o])&&(i[o]=o9(i[o])),!s)}if(ae.isFormData(t)&&ae.isFunction(t.entries)){const n={};return ae.forEachEntry(t,(r,i)=>{e(a9(r),i,n,0)}),n}return null}function s9(t,e,n){if(ae.isString(t))try{return(e||JSON.parse)(t),ae.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const rc={transitional:l3,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=ae.isObject(e);if(a&&ae.isHTMLForm(e)&&(e=new FormData(e)),ae.isFormData(e))return i?JSON.stringify(c3(e)):e;if(ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e)||ae.isReadableStream(e))return e;if(ae.isArrayBufferView(e))return e.buffer;if(ae.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return i9(e,this.formSerializer).toString();if((s=ae.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Kd(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),s9(e)):e}],transformResponse:[function(e){const n=this.transitional||rc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ae.isResponse(e)||ae.isReadableStream(e))return e;if(e&&ae.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?qe.from(s,qe.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tn.classes.FormData,Blob:Tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],t=>{rc.headers[t]={}});const l9=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),c9=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&l9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},l1=Symbol("internals");function ws(t){return t&&String(t).trim().toLowerCase()}function _u(t){return t===!1||t==null?t:ae.isArray(t)?t.map(_u):String(t)}function u9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const d9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zh(t,e,n,r,i){if(ae.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ae.isString(e)){if(ae.isString(r))return e.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(e)}}function h9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function f9(t,e){const n=ae.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let qn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(s,l,c){const u=ws(l);if(!u)throw new Error("header name must be a non-empty string");const d=ae.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=_u(s))}const o=(s,l)=>ae.forEach(s,(c,u)=>a(c,u,l));if(ae.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(ae.isString(e)&&(e=e.trim())&&!d9(e))o(c9(e),n);else if(ae.isObject(e)&&ae.isIterable(e)){let s={},l,c;for(const u of e){if(!ae.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?ae.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(s,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=ws(e),e){const r=ae.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return u9(i);if(ae.isFunction(n))return n.call(this,i,r);if(ae.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ws(e),e){const r=ae.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||zh(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(o){if(o=ws(o),o){const s=ae.findKey(r,o);s&&(!n||zh(r,r[s],s,n))&&(delete r[s],i=!0)}}return ae.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||zh(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return ae.forEach(this,(i,a)=>{const o=ae.findKey(r,a);if(o){n[o]=_u(i),delete n[a];return}const s=e?h9(a):String(a).trim();s!==a&&delete n[a],n[s]=_u(i),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ae.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ae.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[l1]=this[l1]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=ws(o);r[s]||(f9(i,o),r[s]=!0)}return ae.isArray(e)?e.forEach(a):a(e),this}};qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(qn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ae.freezeMethods(qn);function Hh(t,e){const n=this||rc,r=e||n,i=qn.from(r.headers);let a=r.data;return ae.forEach(t,function(s){a=s.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function u3(t){return!!(t&&t.__CANCEL__)}function as(t,e,n){qe.call(this,t??"canceled",qe.ERR_CANCELED,e,n),this.name="CanceledError"}ae.inherits(as,qe,{__CANCEL__:!0});function d3(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new qe("Request failed with status code "+n.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function p9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function g9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[a];o||(o=c),n[i]=l,r[i]=c;let d=a,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function m9(t,e){let n=0,r=1e3/e,i,a;const o=(c,u=Date.now())=>{n=u,i=null,a&&(clearTimeout(a),a=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?o(c,u):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},r-d)))},()=>i&&o(i)]}const Ku=(t,e,n=3)=>{let r=0;const i=g9(50,250);return m9(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-r,c=i(l),u=o<=s;r=o;const d={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(d)},n)},c1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},u1=t=>(...e)=>ae.asap(()=>t(...e)),v9=Tn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Tn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Tn.origin),Tn.navigator&&/(msie|trident)/i.test(Tn.navigator.userAgent)):()=>!0,b9=Tn.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const o=[t+"="+encodeURIComponent(e)];ae.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ae.isString(r)&&o.push("path="+r),ae.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function y9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function x9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function h3(t,e,n){let r=!y9(e);return t&&(r||n==!1)?x9(t,e):e}const d1=t=>t instanceof qn?{...t}:t;function Xa(t,e){e=e||{};const n={};function r(c,u,d,f){return ae.isPlainObject(c)&&ae.isPlainObject(u)?ae.merge.call({caseless:f},c,u):ae.isPlainObject(u)?ae.merge({},u):ae.isArray(u)?u.slice():u}function i(c,u,d,f){if(ae.isUndefined(u)){if(!ae.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function a(c,u){if(!ae.isUndefined(u))return r(void 0,u)}function o(c,u){if(ae.isUndefined(u)){if(!ae.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,u,d)=>i(d1(c),d1(u),d,!0)};return ae.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);ae.isUndefined(f)&&d!==s||(n[u]=f)}),n}const f3=t=>{const e=Xa({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;e.headers=o=qn.from(o),e.url=s3(h3(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let l;if(ae.isFormData(n)){if(Tn.hasStandardBrowserEnv||Tn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Tn.hasStandardBrowserEnv&&(r&&ae.isFunction(r)&&(r=r(e)),r||r!==!1&&v9(e.url))){const c=i&&a&&b9.read(a);c&&o.set(i,c)}return e},w9=typeof XMLHttpRequest<"u",_9=w9&&function(t){return new Promise(function(n,r){const i=f3(t);let a=i.data;const o=qn.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,g;function m(){h&&h(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function b(){if(!v)return;const x=qn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),_={data:!s||s==="text"||s==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:t,request:v};d3(function(R){n(R),m()},function(R){r(R),m()},_),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(r(new qe("Request aborted",qe.ECONNABORTED,t,v)),v=null)},v.onerror=function(){r(new qe("Network Error",qe.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||l3;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),r(new qe(w,_.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,t,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&ae.forEach(o.toJSON(),function(w,_){v.setRequestHeader(_,w)}),ae.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),s&&s!=="json"&&(v.responseType=i.responseType),c&&([f,g]=Ku(c,!0),v.addEventListener("progress",f)),l&&v.upload&&([d,h]=Ku(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=x=>{v&&(r(!x||x.type?new as(null,t,v):x),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=p9(i.url);if(y&&Tn.protocols.indexOf(y)===-1){r(new qe("Unsupported protocol "+y+":",qe.ERR_BAD_REQUEST,t));return}v.send(a||null)})},C9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof qe?u:new as(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,a(new qe(`timeout ${e} of ms exceeded`,qe.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),t=null)};t.forEach(c=>c.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>ae.asap(s),l}},k9=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},S9=async function*(t,e){for await(const n of E9(t))yield*k9(n,e)},E9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},h1=(t,e,n,r)=>{const i=S9(t,e);let a=0,o,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let d=u.byteLength;if(n){let f=a+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},Zd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",p3=Zd&&typeof ReadableStream=="function",T9=Zd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),g3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},A9=p3&&g3(()=>{let t=!1;const e=new Request(Tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),f1=64*1024,$p=p3&&g3(()=>ae.isReadableStream(new Response("").body)),Zu={stream:$p&&(t=>t.body)};Zd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zu[e]&&(Zu[e]=ae.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new qe(`Response type '${e}' is not supported`,qe.ERR_NOT_SUPPORT,r)})})})(new Response);const O9=async t=>{if(t==null)return 0;if(ae.isBlob(t))return t.size;if(ae.isSpecCompliantForm(t))return(await new Request(Tn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(t)||ae.isArrayBuffer(t))return t.byteLength;if(ae.isURLSearchParams(t)&&(t=t+""),ae.isString(t))return(await T9(t)).byteLength},M9=async(t,e)=>{const n=ae.toFiniteNumber(t.getContentLength());return n??O9(e)},R9=Zd&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=f3(t);c=c?(c+"").toLowerCase():"text";let h=C9([i,a&&a.toAbortSignal()],o),g;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(l&&A9&&n!=="get"&&n!=="head"&&(v=await M9(u,r))!==0){let _=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(ae.isFormData(r)&&(k=_.headers.get("content-type"))&&u.setContentType(k),_.body){const[R,A]=c1(v,Ku(u1(l)));r=h1(_.body,f1,R,A)}}ae.isString(d)||(d=d?"include":"omit");const b="credentials"in Request.prototype;g=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:b?d:void 0});let y=await fetch(g,f);const x=$p&&(c==="stream"||c==="response");if($p&&(s||x&&m)){const _={};["status","statusText","headers"].forEach(T=>{_[T]=y[T]});const k=ae.toFiniteNumber(y.headers.get("content-length")),[R,A]=s&&c1(k,Ku(u1(s),!0))||[];y=new Response(h1(y.body,f1,R,()=>{A&&A(),m&&m()}),_)}c=c||"text";let w=await Zu[ae.findKey(Zu,c)||"text"](y,t);return!x&&m&&m(),await new Promise((_,k)=>{d3(_,k,{data:w,headers:qn.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:g})})}catch(b){throw m&&m(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,t,g),{cause:b.cause||b}):qe.from(b,b&&b.code,t,g)}}),Fp={http:GS,xhr:_9,fetch:R9};ae.forEach(Fp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const p1=t=>`- ${t}`,$9=t=>ae.isFunction(t)||t===null||t===!1,m3={getAdapter:t=>{t=ae.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let a=0;a<e;a++){n=t[a];let o;if(r=n,!$9(n)&&(r=Fp[(o=String(n)).toLowerCase()],r===void 0))throw new qe(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+a]=r}if(!r){const a=Object.entries(i).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(p1).join(`
`):" "+p1(a[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Fp};function Wh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new as(null,t)}function g1(t){return Wh(t),t.headers=qn.from(t.headers),t.data=Hh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),m3.getAdapter(t.adapter||rc.adapter)(t).then(function(r){return Wh(t),r.data=Hh.call(t,t.transformResponse,r),r.headers=qn.from(r.headers),r},function(r){return u3(r)||(Wh(t),r&&r.response&&(r.response.data=Hh.call(t,t.transformResponse,r.response),r.response.headers=qn.from(r.response.headers))),Promise.reject(r)})}const v3="1.10.0",Jd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const m1={};Jd.transitional=function(e,n,r){function i(a,o){return"[Axios v"+v3+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,s)=>{if(e===!1)throw new qe(i(o," has been removed"+(n?" in "+n:"")),qe.ERR_DEPRECATED);return n&&!m1[o]&&(m1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,s):!0}};Jd.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function F9(t,e,n){if(typeof t!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const s=t[a],l=s===void 0||o(s,a,t);if(l!==!0)throw new qe("option "+a+" must be "+l,qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new qe("Unknown option "+a,qe.ERR_BAD_OPTION)}}const Cu={assertOptions:F9,validators:Jd},ei=Cu.validators;let Wa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new s1,response:new s1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xa(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Cu.assertOptions(r,{silentJSONParsing:ei.transitional(ei.boolean),forcedJSONParsing:ei.transitional(ei.boolean),clarifyTimeoutError:ei.transitional(ei.boolean)},!1),i!=null&&(ae.isFunction(i)?n.paramsSerializer={serialize:i}:Cu.assertOptions(i,{encode:ei.function,serialize:ei.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cu.assertOptions(n,{baseUrl:ei.spelling("baseURL"),withXsrfToken:ei.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&ae.merge(a.common,a[n.method]);a&&ae.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=qn.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,s.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const g=[g1.bind(this),void 0];for(g.unshift.apply(g,s),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=s.length;let h=n;for(d=0;d<f;){const g=s[d++],m=s[d++];try{h=g(h)}catch(v){m.call(this,v);break}}try{u=g1.call(this,h)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Xa(this.defaults,e);const n=h3(e.baseURL,e.url,e.allowAbsoluteUrls);return s3(n,e.params,e.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(e){Wa.prototype[e]=function(n,r){return this.request(Xa(r||{},{method:e,url:n,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(e){function n(r){return function(a,o,s){return this.request(Xa(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Wa.prototype[e]=n(),Wa.prototype[e+"Form"]=n(!0)});let P9=class b3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{r.subscribe(s),a=s}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,s){r.reason||(r.reason=new as(a,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new b3(function(i){e=i}),cancel:e}}};function D9(t){return function(n){return t.apply(null,n)}}function L9(t){return ae.isObject(t)&&t.isAxiosError===!0}const Pp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pp).forEach(([t,e])=>{Pp[e]=t});function y3(t){const e=new Wa(t),n=Yx(Wa.prototype.request,e);return ae.extend(n,Wa.prototype,e,{allOwnKeys:!0}),ae.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return y3(Xa(t,i))},n}const at=y3(rc);at.Axios=Wa;at.CanceledError=as;at.CancelToken=P9;at.isCancel=u3;at.VERSION=v3;at.toFormData=Kd;at.AxiosError=qe;at.Cancel=at.CanceledError;at.all=function(e){return Promise.all(e)};at.spread=D9;at.isAxiosError=L9;at.mergeConfig=Xa;at.AxiosHeaders=qn;at.formToJSON=t=>c3(ae.isHTMLForm(t)?new FormData(t):t);at.getAdapter=m3.getAdapter;at.HttpStatusCode=Pp;at.default=at;const{Axios:mW,AxiosError:vW,CanceledError:bW,isCancel:yW,CancelToken:xW,VERSION:wW,all:_W,Cancel:CW,isAxiosError:kW,spread:SW,toFormData:EW,AxiosHeaders:TW,HttpStatusCode:AW,formToJSON:OW,getAdapter:MW,mergeConfig:RW}=at,I9=Y({name:"DuxCan",props:{name:{type:String,required:!0},params:{type:Object}},setup(t,{slots:e}){const n=Id();return()=>n(t.name,t.params)?e.default?.():e.fallback?.()||null}}),x3=Y({name:"DuxLogo",props:{dark:{type:Boolean,default:!1},highlight:{type:String,default:"fill-primary"}},setup(t){return()=>p("svg",{class:"w-auto h-full",viewBox:"0 0 400.893 121.787",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[p("g",{transform:"translate(-6545.000000, -3038.106602) translate(6345.000000, 2899.000000) translate(200.000000, 132.393398)","fill-rule":"nonzero",stroke:"none","stroke-width":"1",fill:"none"},[p("path",{d:"M0 62.607v50c0 8.284 6.716 15 15 15s15-6.716 15-15v-50c0-8.285-6.716-15-15-15s-15 6.715-15 15z",class:xt([t.dark?"fill-white/90":"fill-black dark:fill-white/90"])},null),p("path",{d:"M60 7.607c33.137 0 60 26.863 60 60s-26.863 60-60 60h-5c-8.284 0-15-6.716-15-15 0-8.285 6.716-15 15-15h5c16.57 0 30-13.432 30-30 0-16.57-13.43-30-30-30H15c-8.284 0-15-6.716-15-15 0-8.285 6.716-15 15-15h45z",class:xt([t.dark?"fill-white/90":"fill-black dark:fill-white/90"])},null),p("path",{d:"M201 7.607c33.137 0 60 26.863 60 60s-26.863 60-60 60h-46c-8.284 0-15-6.716-15-15 0-8.285 6.716-15 15-15h46c16.57 0 30-13.432 30-30 0-16.57-13.43-30-30-30h-45.5c-8.284 0-15-6.716-15-15 0-8.285 6.716-15 15-15H201z",class:xt([t.dark?"fill-white/90":"fill-black dark:fill-white/90"]),transform:"translate(200.500000, 67.606602) rotate(90.000000) translate(-200.500000, -67.606602) "},null),p("g",{transform:"translate(279.106602, 6.713203)"},[p("path",{d:"M25.607 4.393 52.893 31.68c5.858 5.858 5.858 15.356 0 21.213-5.857 5.858-15.355 5.858-21.213 0L4.393 25.607c-5.857-5.858-5.857-15.356 0-21.214 5.858-5.857 15.356-5.857 21.214 0zm91.786 0c5.858 5.858 5.858 15.356 0 21.214L90.107 52.893c-5.858 5.858-15.356 5.858-21.214 0-5.857-5.857-5.857-15.355 0-21.213L96.18 4.393c5.858-5.857 15.356-5.857 21.213 0zm-64.5 64.5c5.858 5.858 5.858 15.356 0 21.214l-27.286 27.286c-5.858 5.858-15.356 5.858-21.214 0-5.857-5.857-5.857-15.355 0-21.213L31.68 68.893c5.858-5.857 15.356-5.857 21.213 0z",class:xt([t.dark?"fill-white/90":"fill-black dark:fill-white/90"])},null),p("path",{d:"m90.107 68.893 27.286 27.287c5.858 5.858 5.858 15.356 0 21.213-5.857 5.858-15.355 5.858-21.213 0L68.893 90.107c-5.857-5.858-5.857-15.356 0-21.214 5.858-5.857 15.356-5.857 21.214 0z",class:xt([t.highlight])},null)])])])}}),w3=Y({name:"DuxLogoIcon",props:{highlight:{type:String,default:"fill-primary"}},setup(t){return()=>p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 202.97 197.7",class:xt([t.highlight])},[p("path",{d:"M170,94.52l-35.9-20.73-24.34,14,11.62,6.71a5,5,0,0,1,0,8.66L32.5,154.52a5,5,0,0,1-7.5-4.33V99.61a6.44,6.44,0,0,1,0-1.52V47.51a5,5,0,0,1,7.5-4.33l35,20.23,24.32-14L7.5.68A5,5,0,0,0,0,5V192.69A5,5,0,0,0,7.5,197L170,103.18A5,5,0,0,0,170,94.52Z"},null),p("path",{d:"M32.93,103.18l35.9,20.73,24.34-14-11.62-6.71a5,5,0,0,1,0-8.66l88.92-51.34a5,5,0,0,1,7.5,4.33V98.09a6.44,6.44,0,0,1,0,1.52v50.58a5,5,0,0,1-7.5,4.33l-35-20.23-24.32,14L195.47,197a5,5,0,0,0,7.5-4.33V5a5,5,0,0,0-7.5-4.33L32.93,94.52A5,5,0,0,0,32.93,103.18Z"},null)])}}),_3=Y({name:"DuxLoaderIframe",setup(t){const e=ha();return()=>p("iframe",{src:e.meta?.url,style:{width:"100%",height:"100%",border:"none"}},null)}}),N9=Object.freeze(Object.defineProperty({__proto__:null,default:_3},Symbol.toStringTag,{value:"Module"})),C3=Y({name:"DuxOverlay",props:{component:Function,componentProps:Object,mask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},duration:{type:Number,default:300},zIndex:{type:Number,default:1e3}},setup(t){const{visible:e,resolve:n,reject:r}=Wd({duration:t.duration}),i=t?.componentProps||{};i.onConfirm=n,i.onClose=r;const a=Lg(t.component),o=()=>{t.maskClosable&&r()};return()=>p("div",{class:"fixed inset-0 flex items-center justify-center overflow-auto",style:{zIndex:t.zIndex}},[p(Ll,{enterActiveClass:"transition-opacity",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"transition-opacity",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},{default:()=>[e.value&&t.mask&&p("div",{class:"fixed inset-0 bg-black bg-opacity-30",style:{transitionDuration:`${t.duration}ms`},onClick:o},null)]}),p(Ll,{enterActiveClass:"transition-all",enterFromClass:"opacity-0 scale-95",enterToClass:"opacity-100 scale-100",leaveActiveClass:"transition-all",leaveFromClass:"opacity-100 scale-100",leaveToClass:"opacity-0 scale-95"},{default:()=>[e.value&&p(a,i,null)]})])}}),k3=Y({name:"DuxError",setup(){return()=>p("div",null,[p("h1",null,[Dt("500")]),p("p",null,[Dt("Internal Server Error")])])}}),j9=Y({name:"DuxException",setup(t,{slots:e}){const n=ie(null),r=ha();return P8(i=>(console.error(i),r.name?n.value={title:"500",desc:i?.message||"Internal Server Error"}:n.value={title:"404",desc:"Page not found"},!1)),()=>n.value?p("div",null,[p("h1",null,[n.value?.title||"Unknown"]),p("p",null,[n.value?.desc||"Unknown Description"]),p("p",null,[Dt("Use config.components.exception to configure the exception layout")])]):e.default?.()}}),S3=Y({name:"DuxNotAuthorized",setup(){return()=>p("div",null,[p("h1",null,[Dt("403")]),p("p",null,[Dt("You are not authorized to access this page")])])}}),E3=Y({name:"DuxNotFound",setup(){return()=>p("div",null,[p("h1",null,[Dt("404")]),p("p",null,[Dt("Page not found")])])}}),Yg={slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"}};function Kg(){const t=an("dux.config");if(!t)throw new Error("config is not defined");return t}function ic(t){const e=lt(),n=Rn(),r=t.providerName||"default",{mutate:i}=dr(),a=Te(t.pagination?t.pagination:{page:1,pageSize:20}),o=Te(t,"sorters",{}),s=Te(t,"filters",{}),l=Te(t,"meta",{}),c=V(()=>{const{onError:v,options:b,pagination:y,filters:x,sorters:w,meta:_,...k}=t;return k});ye(c,()=>{t.pagination&&(a.value.page=1)},{deep:!0});const u=V(()=>({...c.value,pagination:t.pagination?a.value:void 0,filters:s.value||{},sorters:o.value||{},meta:l.value||{}})),d=rs({queryKey:[`${e.config?.name}:${r}:${t.path}`,u.value],queryFn:()=>e.config?.dataProvider?.[r]?.getList(u.value,e,n),...t.options}),f=V(()=>d.isFetching.value);ye(d.isError,v=>{v&&(i(d.error.value),t?.onError?.(d.error.value))});const h=ie(void 0),g=ie(0),m=ie(0);return ye(d.data,v=>{v&&(h.value=v,g.value=e.config?.dataProvider?.[r]?.getTotal?.(v)||0,m.value=Math.ceil(g.value/(a.value.pageSize||20))||0)},{immediate:!0}),{...d,isLoading:f,data:h,refetch:d.refetch,pagination:a,total:g,pageCount:m}}function Zg(t){const e=lt(),n=Rn(),r=t.providerName||"default",{mutate:i}=dr(),a=Te(t,"pagination",{page:1,pageSize:20}),o=Te(t,"sorters",{}),s=Te(t,"filters",{}),l=Te(t,"meta",{}),c=V(()=>{const{onError:b,options:y,pagination:x,filters:w,sorters:_,meta:k,...R}=t;return R});ye(c,()=>{a.value.page=1},{deep:!0});const u=ie(0),d=ie(0),f=V(()=>({...c.value,filters:s.value||{},sorters:o.value||{},meta:l.value||{}})),h=$x({queryKey:[`${e.config?.name}:${r}:${t.path}:infinite`,f.value],queryFn:({pageParam:b})=>(a.value.page=b,e.config?.dataProvider?.[r]?.getList({...f.value,pagination:{...a.value,page:b}},e,n)),initialPageParam:1,getNextPageParam:(b,y,x)=>{if(!b?.data||!b?.data?.length)return;const w=e.config?.dataProvider?.[r]?.getTotal?.(b)||0;if(d.value=Math.ceil(w/(a.value.pageSize||20))||0,u.value=w,!(x*(a.value.pageSize||20)>=w))return x+1},getPreviousPageParam:(b,y,x)=>{if(x<=1)return;const w=e.config?.dataProvider?.[r]?.getTotal?.(b)||0;return d.value=Math.ceil(w/(a.value.pageSize||20))||0,u.value=w,x-1},...t.options}),g=V(()=>h.isFetching.value);ye(h.isError,b=>{b&&(i(h.error.value),t?.onError?.(h.error.value))});const m=()=>{if(!(!h.hasNextPage.value||h.isFetching.value))return h.fetchNextPage()},v=ie(void 0);return ye(h.data,b=>{if(!b||!b?.pages||!b.pages?.length)return;const y=b.pages.reduce((w,_)=>_?.data&&Array.isArray(_.data)&&_.data?.length?w.concat(_.data):w,[]),x=b.pages[0];x&&(v.value={...x,data:y})},{deep:!0,immediate:!0}),{...h,isLoading:g,data:v,fetchNextPage:m,hasNextPage:h.hasNextPage,refetch:h.refetch,pagination:a,total:u,pageCount:d}}function T3(t){const e=lt(),n=Rn(),r=t.providerName||"default",{mutate:i}=dr(),a=V(()=>{const{onError:c,options:u,...d}=t;return d}),o=rs({queryKey:[`${e.config?.name}:${r}:${t.path}`,a],queryFn:()=>e.config?.dataProvider?.[r]?.getOne(a.value,e,n),...t.options}),s=V(()=>o.isFetched.value?!1:o.isFetching.value);ye(o.isError,c=>{c&&(i(o.error.value),t?.onError?.(o.error.value))},{immediate:!0});const l=ie(void 0);return ye(o.data,c=>{c&&(l.value=c)},{immediate:!0}),{...o,isLoading:s,data:l,refetch:o.refetch}}function A3(t){const e=lt(),n=Rn(),r=t.providerName||"default",{mutate:i}=dr(),a=V(()=>{const{onError:c,options:u,...d}=t;return d}),o=rs({queryKey:[`${e.config?.name}:${r}:${t.path}`,a],queryFn:()=>e.config?.dataProvider?.[r]?.getMany(a.value,e,n),...t.options}),s=V(()=>o.isFetched.value?!1:o.isFetching.value);ye(o.isError,c=>{c&&(i(o.error.value),t?.onError?.(o.error.value))});const l=ie(void 0);return ye(o.data,c=>{c&&(l.value=c)},{immediate:!0}),{...o,isLoading:s,data:l,refetch:o.refetch}}function O3(t){const e=lt(),n=Rn(),r=t.providerName||"default",{mutate:i}=dr(),{invalidate:a}=Ar(),o=V(()=>{const{onError:c,options:u,...d}=t;return d}),s=ma({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.create({...o.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&a(t.path)},onError:c=>{i(c),t?.onError?.(c)},...t.options}),l=V(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function B9(t){const e=lt(),n=Rn(),r=t.providerName||"default",{mutate:i}=dr(),{invalidate:a}=Ar(),o=V(()=>{const{onError:c,options:u,...d}=t;return d}),s=ma({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.createMany({...o.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&a(t.path)},onError:c=>{i(c),t?.onError?.(c)},...t.options}),l=V(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function M3(t){const e=lt(),n=Rn(),r=t.providerName||"default",{mutate:i}=dr(),{invalidate:a}=Ar(),o=V(()=>{const{onError:c,options:u,...d}=t;return d}),s=ma({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.update({...o.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&a(t.path)},onError:c=>{i(c),t?.onError?.(c)},...t.options}),l=V(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function U9(t){const e=lt(),n=Rn(),r=t.providerName||"default",{mutate:i}=dr(),{invalidate:a}=Ar(),o=V(()=>{const{onError:c,options:u,...d}=t;return d}),s=ma({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.updateMany({...o.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&a(t.path)},onError:c=>{i(c),t?.onError?.(c)},...t.options}),l=V(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function R3(t){const e=lt(),n=Rn(),r=t.providerName||"default",{mutate:i}=dr(),{invalidate:a}=Ar(),o=V(()=>{const{onError:c,options:u,...d}=t;return d}),s=ma({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.deleteOne({...o.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&a(t.path)},onError:c=>{i(c),t?.onError?.(c)},...t.options}),l=V(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function z9(t){const e=lt(),n=Rn(),r=t.providerName||"default",{mutate:i}=dr(),{invalidate:a}=Ar(),o=V(()=>{const{onError:c,options:u,...d}=t;return d}),s=ma({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.deleteMany({...o.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&a(t.path)},onError:c=>{i(c),t?.onError?.(c)},...t.options}),l=V(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function H9(t){const e=lt(),n=Rn(),r=t?.providerName||"default",{mutate:i}=dr(),a=V(()=>{if(!t)return{};const{onError:c,options:u,...d}=t;return d}),o=rs({queryKey:[`${e.config?.name}:${r}:${t?.path}`,a],queryFn:()=>e.config?.dataProvider?.[r]?.custom(a.value,e,n),...t?.options}),s=V(()=>o.isFetched.value?!1:o.isFetching.value);ye(o.isError,c=>{c&&(i(o.error.value),t?.onError?.(o.error.value))});const l=ie(void 0);return ye(o.data,c=>{c&&(l.value=c)},{immediate:!0}),{...o,isLoading:s,data:l,refetch:o.refetch}}function eo(t){const e=lt(),n=Rn(),r=t?.providerName||"default",{mutate:i}=dr(),a=V(()=>{if(!t)return{};const{onError:l,options:c,...u}=t;return u}),o=ma({mutationFn:l=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return e.config?.dataProvider?.[r]?.custom({...a.value,...l},e,n)},onSuccess:l=>{o.reset(),t?.onSuccess?.(l)},onError:l=>{i(l),t?.onError?.(l)},...t?.options}),s=V(()=>o.isPending.value);return{...o,isLoading:s,mutate:o.mutate}}function to(){const t=lt(),e=Rn();return{request:n=>{if(!t.config?.dataProvider)throw new Error("Data provider is not initialized");const r=n.providerName||"default";return t.config?.dataProvider?.[r]?.custom({...n},t,e)}}}function Ar(){const t=ga(),e=lt();return{invalidate:(n,r)=>{let i=n;Array.isArray(n)||(i=[n]);for(const a of i){const o=`${e.config?.name}:${r||"default"}:${a}`;t.invalidateQueries({queryKey:[o]})}}}}const W9=t=>new Promise(e=>setTimeout(e,t));function $3(t){const e=ie(!1),n=V(()=>{const{onSuccess:f,onProgress:h,interval:g,maxPage:m,...v}=t;return{...v,options:{...v.options,enabled:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1}}}),r=V(()=>t.interval||300),{data:i,isLoading:a,fetchNextPage:o,hasNextPage:s,refetch:l,pagination:c}=Zg(n.value),u=async()=>{if(!e.value)try{e.value=!0,c.value.page=1,t.onProgress?.(c.value),await l();const f=typeof t.maxPage=="function"?t.maxPage():t.maxPage||0;for(;s.value&&!(f>0&&c.value.page>=f);)r.value>0&&await W9(r.value),await o(),t.onProgress?.(c.value);t.onSuccess?.(i.value)}finally{e.value=!1}},d=V(()=>a.value||e.value);return{data:i,isLoading:d,trigger:u}}function Dp(t){const e=V(()=>{const{filename:r,headers:i,csvOptions:a,...o}=t;return o}),n=V(()=>{const r=t.csvOptions||{},i=r.quote;return{prependHeader:t.headers!==!1,keys:Array.isArray(t.headers)?t.headers:void 0,delimiter:{field:r.delimiter||",",wrap:typeof i=="string"?i:'"',eol:r.eol||`
`},excelBOM:r.writeBOM||!1}});return $3({...e.value,onSuccess:async r=>{if(!r?.data||!r?.data?.length){t.onError?.({message:"No data to export",status:400});return}try{const i=await Px.json2csv(r.data,n.value),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),s=document.createElement("a");s.href=o,s.download=t.filename||"export.csv",s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o),t.onSuccess?.(r)}catch(i){t.onError?.({message:`CSV Export Error: ${i}`,status:500})}}})}function F3(t){const e=Te(t,"form",{}),n=Te(t,"id",void 0),r=ie(In(e.value||{})),i=ie(In(e.value||{})),a=V(()=>t.action==="edit"||!!n.value),{data:o,isLoading:s,refetch:l}=T3({get path(){return t.path||""},get id(){return n.value},options:{enabled:!1},providerName:t.providerName}),c=()=>{let g={};a.value?g=In(r.value):g=In(i.value),Object.assign(e.value,g)};ye([n,a],async()=>{if(!a.value){c();return}await l();const g=In(o.value?.data||{});Object.assign(e.value,g),Object.assign(r.value,g)},{immediate:!0,deep:!0});const u=O3({path:t.path??"",data:e.value,onSuccess:g=>{c(),t.onSuccess?.(g)},onError:g=>{t.onError?.(g)},providerName:t.providerName}),d=M3({get path(){return t.path??""},get id(){return n.value},data:e.value,onSuccess:g=>{t.onSuccess?.(g)},onError:g=>{t.onError?.(g)},providerName:t.providerName}),f=g=>{a.value?d.mutate({id:n.value,data:g||e.value}):u.mutate({data:g||e.value})},h=V(()=>s.value||u.isLoading.value||d.isLoading.value);return{form:e,initData:a.value?r.value:i.value,isLoading:h,isEdit:a,onSubmit:f,onReset:c}}function P3(t){const e=Te(t,"data"),{setValues:n,validate:r,resetForm:i,handleSubmit:a}=LC({initialValues:In(e.value||{}),validationSchema:t.rules});return ye(e,o=>{n(o||{},!1)},{deep:!0}),{validate:r,reset:()=>{i()},submit:a}}function D3(){Object.entries(IC).forEach(([t,e])=>{NC(t,e)})}function os(t){const e=Te(t,"form",{}),{validate:n,reset:r}=P3({data:e,rules:t.rules}),i=V(()=>{const{form:l,...c}=t;return{...c}}),a=F3({...i.value,form:e.value}),o=l=>{n().then(c=>{if(!c.valid){t.onError?.({message:""});return}a.onSubmit(l)})},s=()=>{a.onReset(),r()};return{isLoading:a.isLoading,isEdit:a.isEdit,form:e,onSubmit:o,onReset:s}}function Jg(t){const e=an("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return V9(t)()}function V9(t){return fa(`i18n-${t}`,()=>{const e=ie(""),n=ie(!1);return{lang:e,isInit:()=>{const r=n.value;return n.value=!0,r},setLocale:r=>{e.value=r},getLocale:()=>e.value}},{persist:{pick:["lang"]}})}function _e(){const t=Jg(),e=lt();return{t:(n,r,i)=>e.config?.i18nProvider?.t(n,r,i),changeLocale:n=>(t.setLocale(n),e.config?.i18nProvider?.changeLocale(n)),getLocale:()=>e.config?.i18nProvider?.getLocale(),loadLocale:(n,r)=>e.config?.i18nProvider?.loadLocale(n,r),mergeLocale:(n,r)=>e.config?.i18nProvider?.mergeLocale(n,r),getLocales:()=>e.config?.i18nProvider?.getLocales()}}const G9=t=>new Promise(e=>setTimeout(e,t));function L3(t){const e=ie(!1),n=ie({totalItems:0,processedItems:0,totalBatches:0,processedBatches:0,percentage:0}),r=V(()=>{const{onComplete:o,onProgress:s,onError:l,interval:c,chunkSize:u,...d}=t;return d}),{mutate:i}=eo({path:t.path,method:"POST",...r.value,options:{...r.value.options}}),a=async o=>{if(e.value)return;const s=t.chunkSize||100,l=t.interval||100,c=o.length,u=[];for(let f=0;f<c;f+=s)u.push(o.slice(f,f+s));const d=u.length;n.value={totalItems:c,processedItems:0,totalBatches:d,processedBatches:0,percentage:0},e.value=!0;try{for(let f=0;f<u.length;f++){const h=u[f];await i({payload:h}),n.value.processedBatches=f+1,n.value.processedItems+=h.length,n.value.percentage=Math.round(n.value.processedItems/c*100),t.onProgress?.(n.value),f<u.length-1&&await G9(l)}e.value=!1,t.onComplete?.(n.value)}catch(f){e.value=!1,t.onError?.(f)}};return{isLoading:V(()=>e.value),progress:V(()=>n.value),trigger:a}}function I3(t){const e=V(()=>{const{csvOptions:l,...c}=t;return c}),n=V(()=>{const l=t.csvOptions||{};return{delimiter:{field:l.delimiter||",",wrap:l.wrap||'"',eol:l.eol||`
`},excelBOM:l.excelBOM||!1,headerFields:l.headerFields,keys:l.keys,trimHeaderFields:l.trimHeaderFields||!1,trimFieldValues:l.trimFieldValues||!1}}),r=L3({...e.value}),i=async l=>{try{const c=await l.text(),u=await Px.csv2json(c,n.value);u&&u.length>0?await r.trigger(u):t.onError?.({message:"CSV ",status:400})}catch(c){t.onError?.({message:`CSV : ${c}`,status:500})}},{open:a,reset:o,onChange:s}=Ng({accept:".csv",multiple:!1});return s(l=>{l&&l.length>0&&i(l[0])}),{...r,open:()=>{o(),a()},readFile:i}}function Qg(t){const e=an("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return X9(t)()}function X9(t){return fa(`jsonSchema-${t}`,()=>{const e=ie(new Map),n=ie(new Map);return{componentCache:e,componentsByName:n,addComponent:(r,i,a)=>{const o=i;return e.value.has(o)||(e.value.set(o,{component:r,name:i,originalName:a||i,cacheKey:o}),n.value.set(i,r)),o},getComponent:r=>e.value.get(r)?.component,getComponentByName:r=>n.value.get(r),hasComponent:r=>e.value.has(r),clearCache:()=>{e.value.clear(),n.value.clear()},getCacheSize:()=>e.value.size}})}function q9(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Lp(t,e){Array.isArray(t)?t.forEach(n=>{const r=n;let i=r.name;!i&&r.__name&&(i=r.__name.replace(/\.(vue|ts|tsx|js|jsx)$/,"").split("/").pop()),i&&e.addComponent(Bo(n),i)}):typeof t=="object"&&t!==null&&Object.entries(t).forEach(([n,r])=>{e.addComponent(Bo(r),n)})}function N3(t,e){const n=Qg(e);t.jsonSchema?.components&&Lp(t.jsonSchema.components,n),t.manages?.forEach(r=>{r.jsonSchema?.components&&Lp(r.jsonSchema.components,n)})}function ca(t){const e=Kg(),n=Qg(),r=[...zx,...e.jsonSchema?.adaptors||[],...t?.adaptors||[]];t?.components&&Lp(t.components,n);const i=V(()=>Oi(t?.data)?t?.data.value:t?.data);function a(){return(Oi(t?.context)?t?.context.value:t?.context)||{}}function o(f){const h={};return Object.entries(f).forEach(([g,m])=>{if(g==="_context")return;const v=g==="modelValue"||g.startsWith("modelValue")||g!=="value"&&(g.includes("model")||g.includes("Model"));h[g]=v&&Oi(m)?yt(m):m}),h}function s(f,h,g){if(typeof f=="string")return f;if(typeof f=="function")return s(f(h),h,g);if(Array.isArray(f))return f.flatMap(m=>s(m,h,g)).filter(Boolean);if(f?.tag){const m={...g,...h};return c(f,!0,m)}return f}function l(f,h,g){if(f)return typeof f=="string"?f:Array.isArray(f)?f.flatMap(m=>typeof m=="string"?m:c(m,h,g)).filter(Boolean):c(f,h,g)}function c(f,h=!1,g={}){const{tag:m,attrs:v={},children:b,slots:y}=f,x={...a(),...g};let w={...v};Object.keys(x).length>0&&(w={...w,...Dx({},x)});for(const T of r){const O=T.process(f,w);if(O){if(w=O.props,O.skip)return null;if(O.nodes)return O.nodes.map(M=>{const $=M.attrs?._context||{};return c(M,h,{...x,...$})}).filter(Boolean)}}let _=typeof m=="string"&&(T=>{let O=n.getComponentByName(T);if(O)return O;const M=q9(T);if(O=n.getComponentByName(M),O)return O;const $=T.replace(/-([a-z])/g,(C,E)=>E.toUpperCase()).replace(/^[a-z]/,C=>C.toUpperCase());return O=n.getComponentByName($),O||null})(m)||m;typeof _!="string"&&typeof _=="object"&&(_=Bo(_));const k=typeof _!="string",R=o(w);if(y&&k&&!h){const T={};return Object.entries(y).forEach(([O,M])=>{T[O]=($={})=>s(M,$,x)}),Ye(_,R,T)}const A=l(b,h,x);return k&&A!==void 0?Ye(_,R,{default:()=>A}):Ye(_,R,A)}const u=Y({name:"JsonSchemaRenderer",render(){return i.value?.map(f=>c(f)).filter(Boolean)||[]}});function d(f){return Y({name:"DynamicJsonSchemaRenderer",render(){const h={...a(),...f.context};return f.data?.map(g=>c(g,!1,h)).filter(Boolean)}})}return{render:u,renderAsync:d}}function em(t){const e=Te(t,"filters",{}),n=Te(t,"sorters",{}),r=Te(typeof t.pagination=="object"?t.pagination:{page:1,pageSize:20}),i=[10,20,30,40,50,100],a=U=>i.includes(U)?i:Array.from({length:5},(z,Q)=>U*(Q+1)),o=ie(a(r.value.pageSize));ye(()=>r.value.pageSize,U=>{o.value.includes(U)||(o.value=a(U))});const s=U=>{r.value.pageSize=U,r.value.page=1},l=U=>{r.value.page=U},{data:c,isLoading:u,refetch:d}=ic({path:t.path,pagination:t.pagination?r.value:!1,filters:e.value,sorters:n.value}),f=V(()=>c.value?.data||[]),h=V(()=>c.value?.meta||{}),g=V(()=>t.total?.(c.value)||h.value?.[t.totalField||"total"]||0),m=V(()=>Math.ceil(g.value/r.value.pageSize)||0),v=U=>{e.value=U},b=U=>{n.value=U},y=ie([]),x=V(()=>y.value.length>0&&y.value.length===c.value?.data?.length),w=V(()=>y.value.length>0&&y.value.length<(c.value?.data?.length||0)),_=U=>{const z=y.value.indexOf(U);z>-1?y.value.splice(z,1):y.value.push(U)},k=U=>{y.value=U},R=U=>y.value.includes(U),A=()=>{x.value?y.value=[]:y.value=c.value?.data?.map(U=>U[t.key||"id"]).filter(U=>U!=null)||[]};ye(()=>c.value?.data,()=>{y.value=[]});const T=()=>{y.value=[],d()},O=ie({page:1,pageSize:100}),{trigger:M,isLoading:$}=Dp({path:t.path,filters:e.value||{},sorters:n.value||{},maxPage:()=>t.exportMaxPage||0,pagination:O.value,filename:t.exportFilename||"data.csv",onSuccess:U=>{t.onExportSuccess?.(U),O.value.page=1},onProgress:U=>{t.onExportProgress?.(U)},onError:U=>{t.onExportError?.(U),O.value.page=1}}),C=Q8(()=>({ids:y.value})),{trigger:E,isLoading:S}=Dp({path:t.path,filters:C,maxPage:1,filename:t.exportFilename||"rows.csv",onSuccess:U=>{t.onExportSuccess?.(U)},onError:U=>{t.onExportError?.(U)}}),{open:F,isLoading:D}=I3({path:t.path,onComplete:U=>{t.onImportSuccess?.(U)},onProgress:U=>{t.onImportProgress?.(U)},onError:U=>{t.onImportError?.(U)}}),P=ie(!1),{remaining:L,start:N,stop:W}=eC(10,{onComplete:()=>{T(),N()}}),j=()=>{P.value=!P.value,P.value?(T(),N()):W()};return{list:f,meta:h,isLoading:u,pagination:r,filters:e,sorters:n,onRefresh:T,onUpdateFilters:v,onUpdateSorters:b,checkeds:y,isAllChecked:x,isIndeterminate:w,toggleChecked:_,isChecked:R,toggleSelectAll:A,onUpdateChecked:k,total:g,page:V(()=>r.value.page),pageSize:V(()=>r.value.pageSize),pageSizes:o.value,pageCount:m,onUpdatePage:l,onUpdatePageSize:s,onExport:M,isExporting:$,onExportRows:E,isExportingRows:S,onImport:F,isImporting:D,autoRefetch:P,onAutoRefetch:j,autoCountdown:L}}function ac(t){const e=an("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return Y9(t)()}function Y9(t){return fa(`routes-${t}`,()=>{const e=ie([]),n=d=>e.value?.find(f=>f.path===d),r=d=>e.value?.find(f=>f.name===d),i=d=>{e.value?.push(d)},a=d=>{e.value=[...e.value,...d]},o=d=>{e.value=d},s=()=>e.value,l=()=>{e.value=[]},c=()=>{const d=e.value?.filter(h=>!h.parent&&!h.name?.includes("404")&&!h.name?.includes("403"))?.sort((h,g)=>(h.sort||0)-(g.sort||0)),f=h=>{if(h.path)return h;const g=e.value?.filter(m=>m.parent===h.name)?.sort((m,v)=>(m.sort||0)-(v.sort||0));for(const m of g||[]){const v=f(m);if(v)return v}};for(const h of d||[]){const g=f(h);if(g)return g}},u=ie(!1);return{routes:e,searchRoute:n,searchRouteName:r,appendRoute:i,appendRoutes:a,setRoutes:o,getRoutes:s,clearRoutes:l,getIndexRoute:c,getRouteInit:()=>{const d=u.value;return u.value=!0,d}}})}function Vo(t,e,n){let r=[];return t.forEach(i=>{if(i[e.parentKey]===n){const a=Vo(t,e,i[e.idKey]);a.length>0&&(i[e.childrenKey]=a),r.push(i)}}),r=r.sort((i,a)=>i[e.sortKey]-a[e.sortKey]),r}function So(t,e,n=[]){if(!t||!t.length)return[];for(const r of t){if(n.push(r),e(r))return n;if(r?.children&&r?.children?.length){const i=So(r.children,e,n);if(i.length)return i}n.pop()}return[]}function Qd(t,e,n){let r=[];if(!t||!t.length)return r;for(const i of t)if(r.push(i[e]),i[n]&&i[n].length){const a=Qd(i[n],e,n);a.length&&(r=r.concat(a))}return r}function j3(t){const e=ac(),{routes:n}=$d(e),r=(g=!0)=>In(n.value)?.filter(m=>!!m?.name).filter(m=>!g||m.hidden===void 0||m.hidden===!1),i=V(()=>{const g=r(!1);return Vo(g,{idKey:"name",parentKey:"parent",childrenKey:"children",sortKey:"sort"},void 0)}),a=V(()=>{const g=r();return Vo(g,{idKey:"name",parentKey:"parent",childrenKey:"children",sortKey:"sort"},void 0)}),o=ha(),s=ie(o.name),l=ie(o.name),c=ie(o.name),u=V(()=>t?.doubleMenu?a.value:In(a.value)?.map(g=>(delete g.children,g))),d=V(()=>t?.doubleMenu?[]:a.value?.find(g=>g.name===l.value)?.children||[]),f=V(()=>So(i.value,g=>g?.name===o.name));ye(()=>t?.doubleMenu,()=>{if(t?.doubleMenu){const g=So(a.value,m=>m?.name===l.value);l.value=g?.[0]?.name,c.value=g?.[g.length-1]?.name}else{const g=So(a.value,m=>m?.name===c.value);l.value=g?.[g.length-1]?.name,c.value=g?.[g.length-1]?.name}},{immediate:!0});const h=V(()=>t?.doubleMenu?t?.doubleMenu||d.value.length>0:!0);return ye([o,i,()=>t?.doubleMenu],()=>{const g=So(i.value,v=>v.name===o.name),m=(v=>{let b=-1;for(let y=v.length-1;y>=0;y--)if(v[y].hidden===!1||v[y].hidden===void 0){b=y;break}return b})(g);s.value=g?.[m]?.name,t?.doubleMenu?(l.value=g?.[m]?.name,c.value=g?.[m]?.name):(l.value=g?.[0]?.name,c.value=g?.[m]?.name)},{immediate:!0}),{data:a,originalData:i,getMenu:r,mainMenu:u,subMenu:d,isSubMenu:h,crumbs:f,active:s,appActive:l,subActive:c}}function K9(){const t=Vd(C3);return{show:e=>t(e)}}function tm(t){const e=ie(),n=ie({page:1,pageSize:typeof t.pagination=="number"?t.pagination:t.pagination?20:0}),r=ie(!1),i=q8(b=>{e.value=b},t.debounce||300),a=b=>{i(b)},{data:o,isLoading:s,total:l,pageCount:c}=ic({get path(){return t.path||""},get filters(){const b={...t.params};return e.value&&(b[t.keywordField||"keyword"]=e.value),b},get pagination(){return t.pagination?n.value:void 0},get providerName(){return t.providerName}}),u=ie([]),d=b=>{const y=t.optionField||t.optionValue;return typeof y=="string"?b[y]||b.value||b.id:typeof y=="function"?y(b):b.value||b.id},f=b=>{const{optionLabel:y="label",optionValue:x="value"}=t;let w;typeof y=="function"?w=y(b):typeof y=="string"?w=b[y]||b.label||b.name||b.title||String(b.value||b.id||""):w=b.label||b.name||b.title||String(b.value||b.id||"");let _;return typeof x=="function"?_=x(b):typeof x=="string"?_=b[x]||b.value||b.id:_=b.value||b.id,{label:w,value:_,raw:b}},h=V(()=>{const b=o.value?.data||[],y=[...u.value];return b.forEach(x=>{y.some(w=>d(w)===d(x))||y.push(x)}),y.map(x=>f(x))}),g=V(()=>o.value?.meta||{}),{refetch:m}=A3({get path(){return t.path||""},get ids(){return t.defaultValue?Y8(t.defaultValue)?t.defaultValue:[t.defaultValue]:[]},options:{enabled:!1},providerName:t.providerName});ye(()=>t.defaultValue,async b=>{if(!(r.value||!b||(r.value=!0,(Array.isArray(b)?b:[b]).every(y=>h.value.some(x=>x.value===y)))))try{const y=await m();u.value=y?.data?.data||[]}catch(y){console.warn("Failed to fetch selected items:",y)}},{immediate:!0});const v=V(()=>s.value);return{onSearch:a,options:h,meta:g,loading:v,pagination:n,total:l,pageCount:c}}const v1={primary:"emerald",info:"cyan",success:"green",warning:"amber",error:"red",gray:"zinc"};function B3(t){const e=an("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return Z9(t)()}function Z9(t){return fa(`theme-${t}`,()=>{const e=Ld(t),n=ie(e.config?.theme?.defaultTheme||v1),r=ie("auto"),i=ie(!1);function a(){i.value=!0}function o(d){r.value=d}function s(d,f){n.value[d]=f}function l(d){Object.assign(n.value,d)}function c(){n.value={...v1}}function u(){return n.value}return{mode:r,setMode:o,theme:n,cssInit:i,setCssInit:a,setThemeColor:s,setThemeColors:l,resetTheme:c,getTheme:u}},{persist:{pick:["theme","mode"]}})}function va(){const t=B3(),{mode:e}=$d(t),n=tC({storageRef:e}),r=lt(),{state:i,next:a,go:o}=nC(["dark","light","auto"],{initialValue:n.store.value});ec(()=>{n.value=i.value});const s=D=>{switch(D){case"auto":o(2);break;case"light":o(1);break;case"dark":o(0);break}},l=V(()=>{const{system:D,store:P}=n;return P.value==="auto"?D.value==="dark":P.value==="dark"}),c=V(()=>l.value?{logo:r.config?.theme?.darkLogo,banner:r.config?.theme?.darkBanner}:{logo:r.config?.theme?.logo,banner:r.config?.theme?.banner}),u={colors:Yg,colorTypes:["primary","info","success","warning","error","gray"],colorShades:["50","100","200","300","400","500","600","700","800","900","950"],colorScenes:{light:{default:{default:"600",hover:"600",pressed:"700",focus:"500",disabled:"300"}},dark:{default:{default:"500",hover:"400",pressed:"300",focus:"500",disabled:"600"}}},colorSemantic:{light:{text:{dimmed:"300",muted:"400",toned:"600",base:"800",highlighted:"900",inverted:"white"},bg:{base:"white",muted:"50",elevated:"100",accented:"200",inverted:"900"},border:{base:"100",muted:"200",accented:"300",inverted:"900"}},dark:{text:{dimmed:"600",muted:"500",toned:"300",base:"400",highlighted:"100",inverted:"black"},bg:{base:"950",muted:"900",elevated:"800",accented:"700",inverted:"100"},border:{base:"900",muted:"800",accented:"700",inverted:"100"}}},colorBase:{white:"#ffffff",black:"#000000"},...r.config?.theme?.config},{colorShades:d,colorTypes:f}=u,h=V(()=>t.theme),g=V(()=>Object.keys(u.colors)),m=["default","hover","pressed","focus","disabled"];function v(){return l.value?u.colorScenes.dark:u.colorScenes.light}function b(D,P){const L=v(),N=L.default;if(L.overrides?.[D]){const W=L.overrides[D]?.[P];if(W)return W}return N[P]||"500"}function y(D,P){const L=h.value[D];return u.colors[L]?.[P]||""}function x(D,P,L){const N=(l.value?u.colorSemantic.dark:u.colorSemantic.light)[D][P];return N==="white"||N==="black"?`var(--ui-color-${N})`:`var(--base-color-${L}-${N})`}const w=D=>{const P=tx(D);return`${P.r} ${P.g} ${P.b}`};function _(){const D=[];Object.entries(u.colors).forEach(([W,j])=>{typeof j=="object"&&Object.entries(j).forEach(([U,z])=>{try{D.push(`--base-color-${W}-${U}: ${w(z)};`)}catch{D.push(`--base-color-${W}-${U}: ${z};`)}})});const P=[];f.forEach(W=>{const j=h.value[W];d.forEach(U=>{P.push(`--ui-color-${W}-${U}: var(--base-color-${j}-${U});`)}),m.forEach(U=>{const z=b(W,U);U==="default"?P.push(`--ui-color-${W}: var(--base-color-${j}-${z});`):P.push(`--ui-color-${W}-${U}: var(--base-color-${j}-${z});`)})});const L=h.value.gray,N=[`--ui-color-white: ${w(u.colorBase?.white||"#ffffff")};`,`--ui-color-black: ${w(u.colorBase?.black||"#000000")};`,`--ui-text-dimmed: ${x("text","dimmed",L)};`,`--ui-text-muted: ${x("text","muted",L)};`,`--ui-text-toned: ${x("text","toned",L)};`,`--ui-text: ${x("text","base",L)};`,`--ui-text-highlighted: ${x("text","highlighted",L)};`,`--ui-text-inverted: ${x("text","inverted",L)};`,`--ui-bg: ${x("bg","base",L)};`,`--ui-bg-muted: ${x("bg","muted",L)};`,`--ui-bg-elevated: ${x("bg","elevated",L)};`,`--ui-bg-accented: ${x("bg","accented",L)};`,`--ui-bg-inverted: ${x("bg","inverted",L)};`,`--ui-border: ${x("border","base",L)};`,`--ui-border-muted: ${x("border","muted",L)};`,`--ui-border-accented: ${x("border","accented",L)};`,`--ui-border-inverted: ${x("border","inverted",L)};`];return`:root {
  ${D.join(`
  `)}
  ${P.join(`
  `)}
  ${N.join(`
  `)}
}`}let k=null;function R(){const D=_();k||(k=document.createElement("style"),k.id="dvha-variables",document.head.appendChild(k)),k.textContent=D}function A(){t.cssInit||(t.setCssInit(),R())}ye([h,l],()=>{t.cssInit&&R()},{deep:!0,immediate:!1});function T(D,P){g.value.includes(P)?t.setThemeColor(D,P):console.warn(`Color "${P}" is not available`)}function O(D){t.setThemeColors(D)}function M(){t.resetTheme()}function $(D,P,L=!1){return L?`--ui-color-${D}-${P}`:y(D,P)}function C(D,P,L=!1){if(P||(P="default"),L)return P==="default"?`--ui-color-${D})`:`--ui-color-${D}-${P})`;const N=b(D,P);return y(D,N)}function E(D,P,L=!1){if(L){let j;switch(D){case"text":j=P==="base"?"--ui-text":`--ui-text-${P}`;break;case"bg":j=P==="base"?"--ui-bg":`--ui-bg-${P}`;break;case"border":j=P==="base"?"--ui-border":`--ui-border-${P}`;break;default:j=`--ui-${D}-${P}`}return`${j}`}const N=h.value.gray,W=(l.value?u.colorSemantic.dark:u.colorSemantic.light)[D][P];return W==="white"?u.colorBase?.white||"#ffffff":W==="black"?u.colorBase?.black||"#000000":u.colors[N]?.[W]||""}const S=V(()=>g.value?.filter(D=>["slate","gray","zinc","neutral","stone"].includes(D))),F=V(()=>g.value?.filter(D=>!["slate","gray","zinc","neutral","stone"].includes(D)));return{toggle:a,mode:i,setMode:s,isDark:l,resources:c,config:Dl(u),colorMapping:Dl(h),colors:g,neutralColors:S,primaryColors:F,colorShades:d,colorTypes:f,colorScenes:m,cssInit:A,cssReset:M,setColor:T,setColors:O,getSceneColor:C,getShadeColor:$,getSemanticColor:E}}function oc(t){const e=Te(t,"path"),n=Te(t,"params"),r=Te(t,"providerName"),{data:i,isLoading:a}=ic({path:e.value||"",filters:n.value,providerName:r.value}),o=V(()=>t.converTree?Vo(i.value?.data||[],{idKey:t.treeOptions?.valueKey||"id",parentKey:t.treeOptions?.parentKey||"parent_id",sortKey:t.treeOptions?.sortKey||"sort",childrenKey:t.treeOptions?.childrenKey||"children"}):i.value?.data||[]),s=V(()=>Qd(o.value,t.treeOptions?.valueKey||"id",t.treeOptions?.childrenKey||"children")),l=V(()=>a.value);return{options:V(()=>{const c=u=>u.map(d=>{const f={...d};return Array.isArray(f.children)&&(f.children.length===0?delete f.children:f.children=c(f.children)),f});return c(o.value||[])}),loading:l,expanded:s}}function nm(){const t=to();return{upload(e,n){const r=n.query||{};let i=null;if(n.method==="PUT")Object.entries(n.params||{}).forEach(([a,o])=>{r[a]=o}),i=e;else{const a=new FormData;a.append("file",e),Object.entries(n.params||{}).forEach(([o,s])=>{a.append(o,s)}),i=a}return t.request({...n,query:r,method:n.method||"POST",payload:i,signal:n.signal,onUploadProgress:n.onUploadProgress})}}}function no(t){t=t||{};const e=ie(!1),n=ie([]),r=ie(-1),i=ie(new Map),a=t.driver||nm(),o=V(()=>{const{onProgress:E,onDataCallback:S,onCancel:F,onComplete:D,maxFileSize:P,maxFileCount:L,accept:N,multiple:W,autoUpload:j,options:U,onSuccess:z,onError:Q,method:K,driver:H,params:J,...ne}=t;return ne}),s=V(()=>t.method||"POST"),l=V(()=>{const E=n.value.length,S=n.value.reduce((P,L)=>P+(L.filesize||0),0);let F=0,D=0;return n.value.forEach((P,L)=>{L<r.value?F+=P.filesize||0:L===r.value&&(F+=P.progress?.loaded||0)}),S>0&&(D=Math.round(F/S*100)),{index:r.value>=0?r.value+1:0,totalFiles:E,currentFile:n.value[r.value],totalPercent:D,totalLoaded:F,totalSize:S}}),c=E=>{if(E===0)return"0 Bytes";const S=1024,F=["Bytes","KB","MB","GB"],D=Math.floor(Math.log(E)/Math.log(S));return`${Number.parseFloat((E/S**D).toFixed(2))} ${F[D]}`},u=E=>{if(E===0)return"0 B/s";const S=1024,F=["B/s","KB/s","MB/s","GB/s"],D=Math.floor(Math.log(E)/Math.log(S));return`${Number.parseFloat((E/S**D).toFixed(2))} ${F[D]}`},d=()=>K8("upload-"),f=async(E,S,F)=>{switch(S){case"file":{if(!(E instanceof File))throw new TypeError('Payload must be a File when type is "file"');return E}case"blob":{if(!(E instanceof Blob))throw new TypeError('Payload must be a Blob when type is "blob"');return new File([E],"blob-file",{type:E.type})}case"base64":{if(typeof E!="string")throw new TypeError('Payload must be a string when type is "base64"');const D=E.includes(",")?E.split(",")[1]:E,P=E.includes(",")?E.split(",")[0].split(":")[1].split(";")[0]:"application/octet-stream",L=atob(D),N=new Uint8Array(L.length);for(let j=0;j<L.length;j++)N[j]=L.charCodeAt(j);const W=new Blob([N],{type:P});return new File([W],"base64-file",{type:P})}case"arrayBuffer":{if(!(E instanceof ArrayBuffer))throw new TypeError('Payload must be ArrayBuffer when type is "arrayBuffer"');const D=new Blob([E]);return new File([D],"array-buffer-file",{type:"application/octet-stream"})}default:throw new Error(`Unsupported upload type: ${S}`)}},h=E=>{if(t.maxFileSize&&E.size>t.maxFileSize)throw new Error(`File size cannot exceed ${c(t.maxFileSize)}`);if(t.maxFileCount&&n.value.length>=t.maxFileCount)throw new Error(`File count cannot exceed ${t.maxFileCount}`)},g=async(E,S,F)=>{const D=await f(E,S);h(D);const P={id:d(),file:D,filename:D.name,filesize:D.size,filetype:D.type,filesizeText:c(D.size),status:"pending",progress:{loaded:0,total:D.size,percent:0,speed:0,speedText:u(0),remainingTime:0,uploadTime:0}};return n.value.push(P),P},m=(E,S)=>{const F=n.value.findIndex(D=>D.id===E);F!==-1&&(n.value[F]={...n.value[F],...S})},v=()=>{n.value.every(E=>E.status!=="uploading")&&t.onComplete?.(n.value)},b=E=>{const S=n.value.find(F=>F.id===E);if(!S||S.status!=="pending"&&S.status!=="uploading")return!1;if(S.status==="uploading"){const F=i.value.get(E);F&&(F.abort(),i.value.delete(E))}return m(E,{status:"cancelled"}),t.onCancel?.(E),v(),!0},y=E=>{E?E.forEach(S=>b(S)):n.value.forEach(S=>b(S.id))},x=async E=>{if(!E.file)throw new Error("File not found");h(E.file);const S=new AbortController;i.value.set(E.id,S);const F=Date.now();return m(E.id,{status:"uploading"}),a.upload(E.file,{...o.value,method:s.value,signal:S.signal,params:t.params,onUploadProgress:D=>{const P=(Date.now()-F)/1e3,L=P>0?D.loaded/P:0,N=(D.total||0)-D.loaded,W=L>0?N/L:0,j={loaded:D.loaded,total:D.total,percent:D.percent||0,speed:Math.round(L),speedText:u(L),uploadTime:Math.round(P),remainingTime:Math.round(W)};m(E.id,{status:"uploading",progress:j}),t.onProgress?.(l.value)}}).then(D=>{if(E.status==="cancelled")throw new Error("Upload cancelled");const P=t.onDataCallback?.(D,E)||D.data,L=Math.round((Date.now()-F)/1e3),N={...E,status:"success",data:D,...P,progress:{...E.progress,loaded:E.filesize||0,percent:100,speed:0,speedText:u(0),uploadTime:L,remainingTime:0}};return m(E.id,N),i.value.delete(E.id),t.onSuccess?.(D),N}).catch(D=>{throw D.message==="canceled"||E.status==="cancelled"?new Error("Upload cancelled"):(m(E.id,{status:"error",error:D.message}),i.value.delete(E.id),D)}).finally(()=>{v()})},w=async()=>{const E=n.value.filter(S=>S.status==="pending");if(E.length===0)return[];e.value=!0;try{const S=[];for(let F=0;F<E.length;F++){const D=E[F],P=n.value.findIndex(N=>N.id===D.id);r.value=P;const L=await x(D);S.push(L)}return S}catch(S){throw t.onError?.({status:S?.status||500,message:S?.message||"upload failed"}),S}finally{e.value=!1,r.value=-1}},_=()=>{n.value.forEach(E=>{b(E.id)}),i.value.clear(),n.value=[],r.value=-1},k=async(E,S="file")=>{try{if(!t.multiple&&E.length>1)throw new Error("Single file mode: only one file can be selected");if(!t.multiple&&n.value.length>0&&_(),t.maxFileCount&&n.value.length+E.length>t.maxFileCount)throw new Error(`Adding ${E.length} files would exceed the maximum limit of ${t.maxFileCount}`);for(const F of E)await g(F,S)}catch(F){throw t.onError?.({status:F?.status||400,message:F?.message||"Failed to add files"}),F}t.autoUpload&&w().catch(F=>{console.warn("Auto upload failed:",F)})},R=E=>{const S=n.value.find(D=>D.id===E);if(S&&S.status==="uploading"){m(E,{status:"cancelled"});const D=i.value.get(E);if(!D)return;D.abort(),i.value.delete(E)}const F=n.value.findIndex(D=>D.id===E);F!==-1&&n.value.splice(F,1)},A=E=>{E?E.forEach(S=>R(S)):n.value.forEach(S=>R(S.id))},{files:T,open:O,reset:M}=Ng({accept:t.accept,multiple:t.multiple||!1}),$=E=>({id:d(),...E,filesizeText:E.filesize?c(E.filesize):void 0,status:E.url?"success":"pending",progress:{loaded:0,total:E.filesize||0,percent:E.url?100:0,speed:0,speedText:u(0),remainingTime:0,uploadTime:0}});ye(T,async E=>{if(E&&E.length>0){const S=Array.from(E);M(),await k(S,"file").catch(F=>{console.warn("Failed to add selected files:",F)})}});const C=V(()=>n.value.filter(E=>E.status==="success").map(E=>({url:E.url,filename:E.filename,filesize:E.filesize,filetype:E.filetype})));return{isUploading:e,uploadFiles:n,dataFiles:C,progress:l,open:O,trigger:w,resetFiles:M,clearFiles:_,removeFiles:A,addFiles:k,addDataFiles:E=>{!t.multiple&&n.value.length>0&&_();const S=E.map(F=>$(F));n.value.push(...S)},cancelFiles:y}}function U3(t){const e=to();return{async upload(n,r){const i=await e.request({method:"GET",path:t.signPath,query:{name:n.name,size:n.size,mime:n.type,...r.params},signal:r.signal,onUploadProgress:r.onUploadProgress}),a=t.signCallback?.(i)||{uploadUrl:i.data?.uploadUrl,url:i.data?.url,params:i.data?.params};if(!a.uploadUrl)throw new Error("Upload URL is required");if(!a.url)throw new Error("File URL is required");const o=r.method||"POST";let s=null;const l=r.headers||{};if(o==="PUT")s=n,l["Content-Type"]=n.type||"application/octet-stream";else{const u=new FormData;u.append("Content-Type",n.type||"application/octet-stream"),u.append("file",n),a.params&&Object.entries(a.params).forEach(([d,f])=>{u.append(d,String(f))}),s=u}const c=await at.request({method:o,url:a.uploadUrl,data:s,signal:r.signal,headers:l,onUploadProgress:u=>{if(r.onUploadProgress&&u.total){const d=Math.round(u.loaded*100/u.total);r.onUploadProgress({loaded:u.loaded,total:u.total,percent:d})}}});if(c.status<200||c.status>=300)throw new Error(`S3 upload failed: ${c.statusText}`);return{data:{url:a.url,filename:n.name,size:n.size,mime:n.type},message:"upload successful"}}}}const J9={mounted(t,e){const{value:n}=e;n&&(Id()(n)||t.parentElement?.removeChild(t))}};function z3(t){const e=[...t.routes||[],{name:"default",path:"/:catchAll(.*)",redirect:`/${t.defaultManage||t.manages?.[0]?.name||""}`}];return t.manages?.forEach(n=>{const r=n.routes?.filter(a=>a.meta?.authorization===!0||a.meta?.authorization===void 0)||[],i=n.routes?.filter(a=>a.meta?.authorization===!1)||[];e.push({name:n.name,path:n.routePrefix||"",children:[{path:"",name:`${n.name}.auth`,component:n.components?.authLayout,children:r},{path:"",name:`${n.name}.noAuth`,component:n.components?.noAuthLayout,children:i}],meta:{manageName:n.name}})}),D8({history:L8(),routes:e})}function Q9(t){const e=V8();return e.use(G8),{install(n){console.log("%c dux-vue %c dux.cn %c","background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:transparent"),D3();const r=ie();n.provide("dux.config",t),n.provide("dux.manage",r),n.directive("can",J9),n.use(e),n.use(Mx),n.use(z3(t))}}}function e7(t){return{login:async(e,n)=>await at.post(n.getApiUrl(t?.apiPath?.login||"/login",t?.dataProviderName),e).then(r=>({success:!0,message:r?.data?.message,redirectTo:t?.routePath?.index||"/",data:r?.data?.data})).catch(r=>({success:!1,message:r?.response?.data?.message||r?.message})),check:async(e,n,r)=>await at.get(n?.getApiUrl(t?.apiPath?.check||"/check",t?.dataProviderName)||"",{headers:{Authorization:r?.token||""}}).then(i=>({success:!0,logout:!1,message:i?.data?.message,data:i?.data?.data})).catch(i=>({success:!1,logout:!0,message:i?.response?.data?.message||i?.message})),onError:async e=>e?.status===401?{logout:!0,redirectTo:t?.routePath?.login||"/login",error:e}:{logout:!1,error:e},logout:async()=>({success:!0,redirectTo:t?.routePath?.login||"/login"}),register:async(e,n)=>await at.post(n?.getApiUrl(t?.apiPath?.register||"/register",t?.dataProviderName)||"",e).then(r=>({success:!0,message:r?.data?.message,redirectTo:t?.routePath?.index||"/",data:r?.data?.data})).catch(r=>({success:!1,message:r?.response?.data?.message||r?.message})),forgotPassword:async(e,n)=>await at.post(n?.getApiUrl(t?.apiPath?.forgotPassword||"/forgot-password",t?.dataProviderName)||"",e).then(r=>({success:!0,message:r?.data?.message,redirectTo:t?.routePath?.login||"/login"})).catch(r=>({success:!1,message:r?.response?.data?.message||r?.message})),updatePassword:async(e,n)=>await at.post(n?.getApiUrl(t?.apiPath?.updatePassword||"/update-password",t?.dataProviderName)||"",e).then(r=>({success:!0,message:r?.data?.message,redirectTo:t?.routePath?.login||"/login"})).catch(r=>({success:!1,message:r?.response?.data?.message||r?.message})),can:(e,n,r,i)=>!i?.permission||Array.isArray(i?.permission)&&i?.permission?.length===0||typeof i?.permission=="object"&&Object.keys(i?.permission).length===0?!0:!(Array.isArray(i?.permission)&&!i?.permission?.includes(e)||typeof i?.permission=="object"&&i?.permission[e]===!1)}}function Ip(t){return Object.values(t).some(e=>e instanceof File?!0:Array.isArray(e)?e.some(n=>n instanceof File):e&&typeof e=="object"?Ip(e):!1)}function b1(t){const e=new FormData,n=(r,i="")=>{Object.entries(r).forEach(([a,o])=>{const s=i?`${i}[${a}]`:a;o instanceof File?e.append(s,o):Array.isArray(o)?o.forEach((l,c)=>{l instanceof File?e.append(`${s}[${c}]`,l):l!=null&&e.append(`${s}[${c}]`,String(l))}):o&&typeof o=="object"?n(o,s):o!=null&&e.append(s,String(o))})};return n(t),e}function t7(t){const e=(n,r)=>{const i=`${jh(t.apiUrl,"/")}${r?`/${jh(r,"/")}`:""}`;return n?`${i}/${jh(n||"","/")}`:i};return{apiUrl:e,getList:(n,r,i)=>{const a={};return n.pagination&&typeof n.pagination=="object"&&(a.page=n.pagination.page,a.pageSize=n.pagination.pageSize),at.get(e(n.path,r?.config.apiBasePath)||"",{params:{...a,...n.filters,...n.sorters},headers:{Authorization:i?.token},...n.meta}).then(o=>t.successCallback?t.successCallback(o):ti(o)).catch(o=>{throw t.errorCallback?t.errorCallback(o):ni(o)})},create:(n,r,i)=>{let a=n.data;return n.data&&typeof n.data=="object"&&!Array.isArray(n.data)&&!(n.data instanceof FormData)&&Ip(n.data)&&(a=b1(n.data)),at.post(e(n.path,r?.config.apiBasePath)||"",a,{headers:{Authorization:i?.token},...n.meta}).then(o=>t.successCallback?t.successCallback(o):ti(o)).catch(o=>{throw t.errorCallback?t.errorCallback(o):ni(o)})},update:(n,r,i)=>{let a=n.data;return n.data&&typeof n.data=="object"&&!Array.isArray(n.data)&&!(n.data instanceof FormData)&&Ip(n.data)&&(a=b1(n.data)),at.put(e(n.id?`${n.path}/${n.id}`:n.path,r?.config.apiBasePath)||"",a,{headers:{Authorization:i?.token},...n.meta}).then(o=>t.successCallback?t.successCallback(o):ti(o)).catch(o=>{throw t.errorCallback?t.errorCallback(o):ni(o)})},deleteOne:(n,r,i)=>at.delete(e(n.id?`${n.path}/${n.id}`:n.path,r?.config.apiBasePath)||"",{headers:{Authorization:i?.token},...n.meta}).then(a=>t.successCallback?t.successCallback(a):ti(a)).catch(a=>{throw t.errorCallback?t.errorCallback(a):ni(a)}),getOne:(n,r,i)=>at.get(e(n.id?`${n.path}/${n.id}`:n.path,r?.config.apiBasePath)||"",{headers:{Authorization:i?.token},...n.meta}).then(a=>t.successCallback?t.successCallback(a):ti(a)).catch(a=>{throw t.errorCallback?t.errorCallback(a):ni(a)}),getMany:(n,r,i)=>at.get(e(n.path,r?.config.apiBasePath)||"",{params:{ids:n.ids},headers:{Authorization:i?.token},...n.meta}).then(a=>t.successCallback?t.successCallback(a):ti(a)).catch(a=>{throw t.errorCallback?t.errorCallback(a):ni(a)}),createMany:(n,r,i)=>at.post(e(n.path,r?.config.apiBasePath)||"",n.data,{headers:{Authorization:i?.token},...n.meta}).then(a=>t.successCallback?t.successCallback(a):ti(a)).catch(a=>{throw t.errorCallback?t.errorCallback(a):ni(a)}),updateMany:(n,r,i)=>at.put(e(n.path,r?.config.apiBasePath)||"",{ids:n.ids,data:n.data},{headers:{Authorization:i?.token},...n.meta}).then(a=>t.successCallback?t.successCallback(a):ti(a)).catch(a=>{throw t.errorCallback?t.errorCallback(a):ni(a)}),deleteMany:(n,r,i)=>at.delete(e(n.path,r?.config.apiBasePath)||"",{params:{ids:n.ids},headers:{Authorization:i?.token},...n.meta}).then(a=>t.successCallback?t.successCallback(a):ti(a)).catch(a=>{throw t.errorCallback?t.errorCallback(a):ni(a)}),custom:(n,r,i)=>{let a={...n.query};return n.sorters&&typeof n.sorters=="object"&&(a={...a,...n.sorters}),n.filters&&typeof n.filters=="object"&&(a={...a,...n.filters}),at.request({url:e(n.path,r?.config.apiBasePath)||"",method:n.method||"GET",data:n.payload,params:a,signal:n.signal,headers:{Authorization:i?.token,...n.headers},onUploadProgress:o=>{const s=Math.round(o.loaded*100/(o.total||1));n.onUploadProgress?.({loaded:o.loaded,total:o.total,percent:s})},onDownloadProgress:o=>{const s=Math.round(o.loaded*100/(o.total||1));n.onDownloadProgress?.({loaded:o.loaded,total:o.total,percent:s})},...n.meta}).then(o=>t.successCallback?t.successCallback(o):ti(o)).catch(o=>{throw t.errorCallback?t.errorCallback(o):ni(o)})},getTotal:n=>t.getTotal?t.getTotal(n):n.meta?.total||0}}function ti(t){return{message:t.data?.message,data:t.data?.data,meta:t.data?.meta,raw:t.data}}function ni(t){return{message:t.response?.data?.message||t?.message,data:t.response?.data?.data,meta:t.response?.data?.meta,status:t.response?.data?.code||t.response?.status||500,raw:t.response?.data}}/*!
  * shared v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Ju=typeof window<"u",ba=(t,e=!1)=>e?Symbol.for(t):Symbol(t),n7=(t,e,n)=>r7({l:t,k:e,s:n}),r7=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),rn=t=>typeof t=="number"&&isFinite(t),i7=t=>rm(t)==="[object Date]",Go=t=>rm(t)==="[object RegExp]",eh=t=>tt(t)&&Object.keys(t).length===0,ln=Object.assign,a7=Object.create,wt=(t=null)=>a7(t);let y1;const Ia=()=>y1||(y1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:wt());function x1(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const o7=Object.prototype.hasOwnProperty;function Wr(t,e){return o7.call(t,e)}const jt=Array.isArray,At=t=>typeof t=="function",ke=t=>typeof t=="string",dt=t=>typeof t=="boolean",ft=t=>t!==null&&typeof t=="object",s7=t=>ft(t)&&At(t.then)&&At(t.catch),H3=Object.prototype.toString,rm=t=>H3.call(t),tt=t=>rm(t)==="[object Object]",l7=t=>t==null?"":jt(t)||tt(t)&&t.toString===H3?JSON.stringify(t,null,2):String(t);function im(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}function c7(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Ec=t=>!ft(t)||jt(t);function ku(t,e){if(Ec(t)||Ec(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(a=>{a!=="__proto__"&&(ft(r[a])&&!ft(i[a])&&(i[a]=Array.isArray(r[a])?[]:wt()),Ec(i[a])||Ec(r[a])?i[a]=r[a]:n.push({src:r[a],des:i[a]}))})}}/*!
  * message-compiler v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function u7(t,e,n){return{line:t,column:e,offset:n}}function Np(t,e,n){return{start:t,end:e}}const mt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},d7=17;function th(t,e,n={}){const{domain:r,messages:i,args:a}=n,o=t,s=new SyntaxError(String(o));return s.code=t,e&&(s.location=e),s.domain=r,s}function h7(t){throw t}const yi=" ",f7="\r",Fn=`
`,p7="\u2028",g7="\u2029";function m7(t){const e=t;let n=0,r=1,i=1,a=0;const o=R=>e[R]===f7&&e[R+1]===Fn,s=R=>e[R]===Fn,l=R=>e[R]===g7,c=R=>e[R]===p7,u=R=>o(R)||s(R)||l(R)||c(R),d=()=>n,f=()=>r,h=()=>i,g=()=>a,m=R=>o(R)||l(R)||c(R)?Fn:e[R],v=()=>m(n),b=()=>m(n+a);function y(){return a=0,u(n)&&(r++,i=0),o(n)&&n++,n++,i++,e[n]}function x(){return o(n+a)&&a++,a++,e[n+a]}function w(){n=0,r=1,i=1,a=0}function _(R=0){a=R}function k(){const R=n+a;for(;R!==n;)y();a=0}return{index:d,line:f,column:h,peekOffset:g,charAt:m,currentChar:v,currentPeek:b,next:y,peek:x,reset:w,resetPeek:_,skipToPeek:k}}const Xi=void 0,v7=".",w1="'",b7="tokenizer";function y7(t,e={}){const n=e.location!==!1,r=m7(t),i=()=>r.index(),a=()=>u7(r.line(),r.column(),r.index()),o=a(),s=i(),l={currentType:13,offset:s,startLoc:o,endLoc:o,lastType:13,lastOffset:s,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function d(I,B,te,...le){const de=c();if(B.column+=te,B.offset+=te,u){const pe=n?Np(de.startLoc,B):null,ee=th(I,pe,{domain:b7,args:le});u(ee)}}function f(I,B,te){I.endLoc=a(),I.currentType=B;const le={type:B};return n&&(le.loc=Np(I.startLoc,I.endLoc)),te!=null&&(le.value=te),le}const h=I=>f(I,13);function g(I,B){return I.currentChar()===B?(I.next(),B):(d(mt.EXPECTED_TOKEN,a(),0,B),"")}function m(I){let B="";for(;I.currentPeek()===yi||I.currentPeek()===Fn;)B+=I.currentPeek(),I.peek();return B}function v(I){const B=m(I);return I.skipToPeek(),B}function b(I){if(I===Xi)return!1;const B=I.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B===95}function y(I){if(I===Xi)return!1;const B=I.charCodeAt(0);return B>=48&&B<=57}function x(I,B){const{currentType:te}=B;if(te!==2)return!1;m(I);const le=b(I.currentPeek());return I.resetPeek(),le}function w(I,B){const{currentType:te}=B;if(te!==2)return!1;m(I);const le=I.currentPeek()==="-"?I.peek():I.currentPeek(),de=y(le);return I.resetPeek(),de}function _(I,B){const{currentType:te}=B;if(te!==2)return!1;m(I);const le=I.currentPeek()===w1;return I.resetPeek(),le}function k(I,B){const{currentType:te}=B;if(te!==7)return!1;m(I);const le=I.currentPeek()===".";return I.resetPeek(),le}function R(I,B){const{currentType:te}=B;if(te!==8)return!1;m(I);const le=b(I.currentPeek());return I.resetPeek(),le}function A(I,B){const{currentType:te}=B;if(!(te===7||te===11))return!1;m(I);const le=I.currentPeek()===":";return I.resetPeek(),le}function T(I,B){const{currentType:te}=B;if(te!==9)return!1;const le=()=>{const pe=I.currentPeek();return pe==="{"?b(I.peek()):pe==="@"||pe==="|"||pe===":"||pe==="."||pe===yi||!pe?!1:pe===Fn?(I.peek(),le()):M(I,!1)},de=le();return I.resetPeek(),de}function O(I){m(I);const B=I.currentPeek()==="|";return I.resetPeek(),B}function M(I,B=!0){const te=(de=!1,pe="")=>{const ee=I.currentPeek();return ee==="{"||ee==="@"||!ee?de:ee==="|"?!(pe===yi||pe===Fn):ee===yi?(I.peek(),te(!0,yi)):ee===Fn?(I.peek(),te(!0,Fn)):!0},le=te();return B&&I.resetPeek(),le}function $(I,B){const te=I.currentChar();return te===Xi?Xi:B(te)?(I.next(),te):null}function C(I){const B=I.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===95||B===36}function E(I){return $(I,C)}function S(I){const B=I.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===95||B===36||B===45}function F(I){return $(I,S)}function D(I){const B=I.charCodeAt(0);return B>=48&&B<=57}function P(I){return $(I,D)}function L(I){const B=I.charCodeAt(0);return B>=48&&B<=57||B>=65&&B<=70||B>=97&&B<=102}function N(I){return $(I,L)}function W(I){let B="",te="";for(;B=P(I);)te+=B;return te}function j(I){let B="";for(;;){const te=I.currentChar();if(te==="{"||te==="}"||te==="@"||te==="|"||!te)break;if(te===yi||te===Fn)if(M(I))B+=te,I.next();else{if(O(I))break;B+=te,I.next()}else B+=te,I.next()}return B}function U(I){v(I);let B="",te="";for(;B=F(I);)te+=B;return I.currentChar()===Xi&&d(mt.UNTERMINATED_CLOSING_BRACE,a(),0),te}function z(I){v(I);let B="";return I.currentChar()==="-"?(I.next(),B+=`-${W(I)}`):B+=W(I),I.currentChar()===Xi&&d(mt.UNTERMINATED_CLOSING_BRACE,a(),0),B}function Q(I){return I!==w1&&I!==Fn}function K(I){v(I),g(I,"'");let B="",te="";for(;B=$(I,Q);)B==="\\"?te+=H(I):te+=B;const le=I.currentChar();return le===Fn||le===Xi?(d(mt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,a(),0),le===Fn&&(I.next(),g(I,"'")),te):(g(I,"'"),te)}function H(I){const B=I.currentChar();switch(B){case"\\":case"'":return I.next(),`\\${B}`;case"u":return J(I,B,4);case"U":return J(I,B,6);default:return d(mt.UNKNOWN_ESCAPE_SEQUENCE,a(),0,B),""}}function J(I,B,te){g(I,B);let le="";for(let de=0;de<te;de++){const pe=N(I);if(!pe){d(mt.INVALID_UNICODE_ESCAPE_SEQUENCE,a(),0,`\\${B}${le}${I.currentChar()}`);break}le+=pe}return`\\${B}${le}`}function ne(I){return I!=="{"&&I!=="}"&&I!==yi&&I!==Fn}function oe(I){v(I);let B="",te="";for(;B=$(I,ne);)te+=B;return te}function he(I){let B="",te="";for(;B=E(I);)te+=B;return te}function ve(I){const B=te=>{const le=I.currentChar();return le==="{"||le==="@"||le==="|"||le==="("||le===")"||!le||le===yi?te:(te+=le,I.next(),B(te))};return B("")}function Oe(I){v(I);const B=g(I,"|");return v(I),B}function Le(I,B){let te=null;switch(I.currentChar()){case"{":return B.braceNest>=1&&d(mt.NOT_ALLOW_NEST_PLACEHOLDER,a(),0),I.next(),te=f(B,2,"{"),v(I),B.braceNest++,te;case"}":return B.braceNest>0&&B.currentType===2&&d(mt.EMPTY_PLACEHOLDER,a(),0),I.next(),te=f(B,3,"}"),B.braceNest--,B.braceNest>0&&v(I),B.inLinked&&B.braceNest===0&&(B.inLinked=!1),te;case"@":return B.braceNest>0&&d(mt.UNTERMINATED_CLOSING_BRACE,a(),0),te=Re(I,B)||h(B),B.braceNest=0,te;default:{let de=!0,pe=!0,ee=!0;if(O(I))return B.braceNest>0&&d(mt.UNTERMINATED_CLOSING_BRACE,a(),0),te=f(B,1,Oe(I)),B.braceNest=0,B.inLinked=!1,te;if(B.braceNest>0&&(B.currentType===4||B.currentType===5||B.currentType===6))return d(mt.UNTERMINATED_CLOSING_BRACE,a(),0),B.braceNest=0,bt(I,B);if(de=x(I,B))return te=f(B,4,U(I)),v(I),te;if(pe=w(I,B))return te=f(B,5,z(I)),v(I),te;if(ee=_(I,B))return te=f(B,6,K(I)),v(I),te;if(!de&&!pe&&!ee)return te=f(B,12,oe(I)),d(mt.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,te.value),v(I),te;break}}return te}function Re(I,B){const{currentType:te}=B;let le=null;const de=I.currentChar();switch((te===7||te===8||te===11||te===9)&&(de===Fn||de===yi)&&d(mt.INVALID_LINKED_FORMAT,a(),0),de){case"@":return I.next(),le=f(B,7,"@"),B.inLinked=!0,le;case".":return v(I),I.next(),f(B,8,".");case":":return v(I),I.next(),f(B,9,":");default:return O(I)?(le=f(B,1,Oe(I)),B.braceNest=0,B.inLinked=!1,le):k(I,B)||A(I,B)?(v(I),Re(I,B)):R(I,B)?(v(I),f(B,11,he(I))):T(I,B)?(v(I),de==="{"?Le(I,B)||le:f(B,10,ve(I))):(te===7&&d(mt.INVALID_LINKED_FORMAT,a(),0),B.braceNest=0,B.inLinked=!1,bt(I,B))}}function bt(I,B){let te={type:13};if(B.braceNest>0)return Le(I,B)||h(B);if(B.inLinked)return Re(I,B)||h(B);switch(I.currentChar()){case"{":return Le(I,B)||h(B);case"}":return d(mt.UNBALANCED_CLOSING_BRACE,a(),0),I.next(),f(B,3,"}");case"@":return Re(I,B)||h(B);default:{if(O(I))return te=f(B,1,Oe(I)),B.braceNest=0,B.inLinked=!1,te;if(M(I))return f(B,0,j(I));break}}return te}function et(){const{currentType:I,offset:B,startLoc:te,endLoc:le}=l;return l.lastType=I,l.lastOffset=B,l.lastStartLoc=te,l.lastEndLoc=le,l.offset=i(),l.startLoc=a(),r.currentChar()===Xi?f(l,13):bt(r,l)}return{nextToken:et,currentOffset:i,currentPosition:a,context:c}}const x7="parser",w7=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function _7(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function C7(t={}){const e=t.location!==!1,{onError:n}=t;function r(b,y,x,w,..._){const k=b.currentPosition();if(k.offset+=w,k.column+=w,n){const R=e?Np(x,k):null,A=th(y,R,{domain:x7,args:_});n(A)}}function i(b,y,x){const w={type:b};return e&&(w.start=y,w.end=y,w.loc={start:x,end:x}),w}function a(b,y,x,w){e&&(b.end=y,b.loc&&(b.loc.end=x))}function o(b,y){const x=b.context(),w=i(3,x.offset,x.startLoc);return w.value=y,a(w,b.currentOffset(),b.currentPosition()),w}function s(b,y){const x=b.context(),{lastOffset:w,lastStartLoc:_}=x,k=i(5,w,_);return k.index=parseInt(y,10),b.nextToken(),a(k,b.currentOffset(),b.currentPosition()),k}function l(b,y){const x=b.context(),{lastOffset:w,lastStartLoc:_}=x,k=i(4,w,_);return k.key=y,b.nextToken(),a(k,b.currentOffset(),b.currentPosition()),k}function c(b,y){const x=b.context(),{lastOffset:w,lastStartLoc:_}=x,k=i(9,w,_);return k.value=y.replace(w7,_7),b.nextToken(),a(k,b.currentOffset(),b.currentPosition()),k}function u(b){const y=b.nextToken(),x=b.context(),{lastOffset:w,lastStartLoc:_}=x,k=i(8,w,_);return y.type!==11?(r(b,mt.UNEXPECTED_EMPTY_LINKED_MODIFIER,x.lastStartLoc,0),k.value="",a(k,w,_),{nextConsumeToken:y,node:k}):(y.value==null&&r(b,mt.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ri(y)),k.value=y.value||"",a(k,b.currentOffset(),b.currentPosition()),{node:k})}function d(b,y){const x=b.context(),w=i(7,x.offset,x.startLoc);return w.value=y,a(w,b.currentOffset(),b.currentPosition()),w}function f(b){const y=b.context(),x=i(6,y.offset,y.startLoc);let w=b.nextToken();if(w.type===8){const _=u(b);x.modifier=_.node,w=_.nextConsumeToken||b.nextToken()}switch(w.type!==9&&r(b,mt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,ri(w)),w=b.nextToken(),w.type===2&&(w=b.nextToken()),w.type){case 10:w.value==null&&r(b,mt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,ri(w)),x.key=d(b,w.value||"");break;case 4:w.value==null&&r(b,mt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,ri(w)),x.key=l(b,w.value||"");break;case 5:w.value==null&&r(b,mt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,ri(w)),x.key=s(b,w.value||"");break;case 6:w.value==null&&r(b,mt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,ri(w)),x.key=c(b,w.value||"");break;default:{r(b,mt.UNEXPECTED_EMPTY_LINKED_KEY,y.lastStartLoc,0);const _=b.context(),k=i(7,_.offset,_.startLoc);return k.value="",a(k,_.offset,_.startLoc),x.key=k,a(x,_.offset,_.startLoc),{nextConsumeToken:w,node:x}}}return a(x,b.currentOffset(),b.currentPosition()),{node:x}}function h(b){const y=b.context(),x=y.currentType===1?b.currentOffset():y.offset,w=y.currentType===1?y.endLoc:y.startLoc,_=i(2,x,w);_.items=[];let k=null;do{const T=k||b.nextToken();switch(k=null,T.type){case 0:T.value==null&&r(b,mt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,ri(T)),_.items.push(o(b,T.value||""));break;case 5:T.value==null&&r(b,mt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,ri(T)),_.items.push(s(b,T.value||""));break;case 4:T.value==null&&r(b,mt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,ri(T)),_.items.push(l(b,T.value||""));break;case 6:T.value==null&&r(b,mt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,ri(T)),_.items.push(c(b,T.value||""));break;case 7:{const O=f(b);_.items.push(O.node),k=O.nextConsumeToken||null;break}}}while(y.currentType!==13&&y.currentType!==1);const R=y.currentType===1?y.lastOffset:b.currentOffset(),A=y.currentType===1?y.lastEndLoc:b.currentPosition();return a(_,R,A),_}function g(b,y,x,w){const _=b.context();let k=w.items.length===0;const R=i(1,y,x);R.cases=[],R.cases.push(w);do{const A=h(b);k||(k=A.items.length===0),R.cases.push(A)}while(_.currentType!==13);return k&&r(b,mt.MUST_HAVE_MESSAGES_IN_PLURAL,x,0),a(R,b.currentOffset(),b.currentPosition()),R}function m(b){const y=b.context(),{offset:x,startLoc:w}=y,_=h(b);return y.currentType===13?_:g(b,x,w,_)}function v(b){const y=y7(b,ln({},t)),x=y.context(),w=i(0,x.offset,x.startLoc);return e&&w.loc&&(w.loc.source=b),w.body=m(y),t.onCacheKey&&(w.cacheKey=t.onCacheKey(b)),x.currentType!==13&&r(y,mt.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,b[x.offset]||""),a(w,y.currentOffset(),y.currentPosition()),w}return{parse:v}}function ri(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function k7(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:a=>(n.helpers.add(a),a)}}function _1(t,e){for(let n=0;n<t.length;n++)am(t[n],e)}function am(t,e){switch(t.type){case 1:_1(t.cases,e),e.helper("plural");break;case 2:_1(t.items,e);break;case 6:{am(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function S7(t,e={}){const n=k7(t);n.helper("normalize"),t.body&&am(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function E7(t){const e=t.body;return e.type===2?C1(e):e.cases.forEach(n=>C1(n)),t}function C1(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=im(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function yo(t){switch(t.t=t.type,t.type){case 0:{const e=t;yo(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)yo(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)yo(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;yo(e.key),e.k=e.key,delete e.key,e.modifier&&(yo(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function T7(t,e){const{filename:n,breakLineCode:r,needIndent:i}=e,a=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:i,indentLevel:0};a&&t.loc&&(o.source=t.loc.source);const s=()=>o;function l(m,v){o.code+=m}function c(m,v=!0){const b=v?r:"";l(i?b+"  ".repeat(m):b)}function u(m=!0){const v=++o.indentLevel;m&&c(v)}function d(m=!0){const v=--o.indentLevel;m&&c(v)}function f(){c(o.indentLevel)}return{context:s,push:l,indent:u,deindent:d,newline:f,helper:m=>`_${m}`,needIndent:()=>o.needIndent}}function A7(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Xo(t,e.key),e.modifier?(t.push(", "),Xo(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function O7(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const i=e.items.length;for(let a=0;a<i&&(Xo(t,e.items[a]),a!==i-1);a++)t.push(", ");t.deindent(r()),t.push("])")}function M7(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const i=e.cases.length;for(let a=0;a<i&&(Xo(t,e.cases[a]),a!==i-1);a++)t.push(", ");t.deindent(r()),t.push("])")}}function R7(t,e){e.body?Xo(t,e.body):t.push("null")}function Xo(t,e){const{helper:n}=t;switch(e.type){case 0:R7(t,e);break;case 1:M7(t,e);break;case 2:O7(t,e);break;case 6:A7(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const $7=(t,e={})=>{const n=ke(e.mode)?e.mode:"normal",r=ke(e.filename)?e.filename:"message.intl";e.sourceMap;const i=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,a=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],s=T7(t,{filename:r,breakLineCode:i,needIndent:a});s.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),s.indent(a),o.length>0&&(s.push(`const { ${im(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),s.newline()),s.push("return "),Xo(s,t),s.deindent(a),s.push("}"),delete t.helpers;const{code:l,map:c}=s.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function F7(t,e={}){const n=ln({},e),r=!!n.jit,i=!!n.minify,a=n.optimize==null?!0:n.optimize,s=C7(n).parse(t);return r?(a&&E7(s),i&&yo(s),{ast:s,code:""}):(S7(s,n),$7(s,n))}/*!
  * core-base v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function P7(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ia().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ia().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function ci(t){return ft(t)&&om(t)===0&&(Wr(t,"b")||Wr(t,"body"))}const W3=["b","body"];function D7(t){return ya(t,W3)}const V3=["c","cases"];function L7(t){return ya(t,V3,[])}const G3=["s","static"];function I7(t){return ya(t,G3)}const X3=["i","items"];function N7(t){return ya(t,X3,[])}const q3=["t","type"];function om(t){return ya(t,q3)}const Y3=["v","value"];function Tc(t,e){const n=ya(t,Y3);if(n!=null)return n;throw Bl(e)}const K3=["m","modifier"];function j7(t){return ya(t,K3)}const Z3=["k","key"];function B7(t){const e=ya(t,Z3);if(e)return e;throw Bl(6)}function ya(t,e,n){for(let r=0;r<e.length;r++){const i=e[r];if(Wr(t,i)&&t[i]!=null)return t[i]}return n}const J3=[...W3,...V3,...G3,...X3,...Z3,...K3,...Y3,...q3];function Bl(t){return new Error(`unhandled node type: ${t}`)}function Vh(t){return n=>U7(n,t)}function U7(t,e){const n=D7(e);if(n==null)throw Bl(0);if(om(n)===1){const a=L7(n);return t.plural(a.reduce((o,s)=>[...o,k1(t,s)],[]))}else return k1(t,n)}function k1(t,e){const n=I7(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=N7(e).reduce((i,a)=>[...i,jp(t,a)],[]);return t.normalize(r)}}function jp(t,e){const n=om(e);switch(n){case 3:return Tc(e,n);case 9:return Tc(e,n);case 4:{const r=e;if(Wr(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(Wr(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw Bl(n)}case 5:{const r=e;if(Wr(r,"i")&&rn(r.i))return t.interpolate(t.list(r.i));if(Wr(r,"index")&&rn(r.index))return t.interpolate(t.list(r.index));throw Bl(n)}case 6:{const r=e,i=j7(r),a=B7(r);return t.linked(jp(t,a),i?jp(t,i):void 0,t.type)}case 7:return Tc(e,n);case 8:return Tc(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const z7=t=>t;let Ac=wt();function H7(t,e={}){let n=!1;const r=e.onError||h7;return e.onError=i=>{n=!0,r(i)},{...F7(t,e),detectError:n}}function W7(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&ke(t)){dt(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||z7)(t),i=Ac[r];if(i)return i;const{ast:a,detectError:o}=H7(t,{...e,location:!1,jit:!0}),s=Vh(a);return o?s:Ac[r]=s}else{const n=t.cacheKey;if(n){const r=Ac[n];return r||(Ac[n]=Vh(t))}else return Vh(t)}}let Ul=null;function V7(t){Ul=t}function G7(t,e,n){Ul&&Ul.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const X7=q7("function:translate");function q7(t){return e=>Ul&&Ul.emit(t,e)}const Si={INVALID_ARGUMENT:d7,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Y7=24;function Ei(t){return th(t,null,void 0)}function sm(t,e){return e.locale!=null?S1(e.locale):S1(t.locale)}let Gh;function S1(t){if(ke(t))return t;if(At(t)){if(t.resolvedOnce&&Gh!=null)return Gh;if(t.constructor.name==="Function"){const e=t();if(s7(e))throw Ei(Si.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Gh=e}else throw Ei(Si.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Ei(Si.NOT_SUPPORT_LOCALE_TYPE)}function K7(t,e,n){return[...new Set([n,...jt(e)?e:ft(e)?Object.keys(e):ke(e)?[e]:[n]])]}function Q3(t,e,n){const r=ke(n)?n:zl,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let a=i.__localeChainCache.get(r);if(!a){a=[];let o=[n];for(;jt(o);)o=E1(a,o,e);const s=jt(e)||!tt(e)?e:e.default?e.default:null;o=ke(s)?[s]:s,jt(o)&&E1(a,o,!1),i.__localeChainCache.set(r,a)}return a}function E1(t,e,n){let r=!0;for(let i=0;i<e.length&&dt(r);i++){const a=e[i];ke(a)&&(r=Z7(t,e[i],n))}return r}function Z7(t,e,n){let r;const i=e.split("-");do{const a=i.join("-");r=J7(t,a,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function J7(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(jt(n)||tt(n))&&n[i]&&(r=n[i])}return r}const xa=[];xa[0]={w:[0],i:[3,0],"[":[4],o:[7]};xa[1]={w:[1],".":[2],"[":[4],o:[7]};xa[2]={w:[2],i:[3,0],0:[3,0]};xa[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};xa[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};xa[5]={"'":[4,0],o:8,l:[5,0]};xa[6]={'"':[4,0],o:8,l:[6,0]};const Q7=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function eE(t){return Q7.test(t)}function tE(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function nE(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function rE(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:eE(e)?tE(e):"*"+e}function iE(t){const e=[];let n=-1,r=0,i=0,a,o,s,l,c,u,d;const f=[];f[0]=()=>{o===void 0?o=s:o+=s},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),i++},f[3]=()=>{if(i>0)i--,r=4,f[0]();else{if(i=0,o===void 0||(o=rE(o),o===!1))return!1;f[1]()}};function h(){const g=t[n+1];if(r===5&&g==="'"||r===6&&g==='"')return n++,s="\\"+g,f[0](),!0}for(;r!==null;)if(n++,a=t[n],!(a==="\\"&&h())){if(l=nE(a),d=xa[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(s=a,u()===!1))))return;if(r===7)return e}}const T1=new Map;function aE(t,e){return ft(t)?t[e]:null}function oE(t,e){if(!ft(t))return null;let n=T1.get(e);if(n||(n=iE(e),n&&T1.set(e,n)),!n)return null;const r=n.length;let i=t,a=0;for(;a<r;){const o=n[a];if(J3.includes(o)&&ci(i))return null;const s=i[o];if(s===void 0||At(i))return null;i=s,a++}return i}const sE="11.1.7",nh=-1,zl="en-US",A1="",O1=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function lE(){return{upper:(t,e)=>e==="text"&&ke(t)?t.toUpperCase():e==="vnode"&&ft(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&ke(t)?t.toLowerCase():e==="vnode"&&ft(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&ke(t)?O1(t):e==="vnode"&&ft(t)&&"__v_isVNode"in t?O1(t.children):t}}let e5;function cE(t){e5=t}let t5;function uE(t){t5=t}let n5;function dE(t){n5=t}let r5=null;const hE=t=>{r5=t},fE=()=>r5;let i5=null;const M1=t=>{i5=t},pE=()=>i5;let R1=0;function gE(t={}){const e=At(t.onWarn)?t.onWarn:c7,n=ke(t.version)?t.version:sE,r=ke(t.locale)||At(t.locale)?t.locale:zl,i=At(r)?zl:r,a=jt(t.fallbackLocale)||tt(t.fallbackLocale)||ke(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,o=tt(t.messages)?t.messages:Xh(i),s=tt(t.datetimeFormats)?t.datetimeFormats:Xh(i),l=tt(t.numberFormats)?t.numberFormats:Xh(i),c=ln(wt(),t.modifiers,lE()),u=t.pluralRules||wt(),d=At(t.missing)?t.missing:null,f=dt(t.missingWarn)||Go(t.missingWarn)?t.missingWarn:!0,h=dt(t.fallbackWarn)||Go(t.fallbackWarn)?t.fallbackWarn:!0,g=!!t.fallbackFormat,m=!!t.unresolving,v=At(t.postTranslation)?t.postTranslation:null,b=tt(t.processor)?t.processor:null,y=dt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,x=!!t.escapeParameter,w=At(t.messageCompiler)?t.messageCompiler:e5,_=At(t.messageResolver)?t.messageResolver:t5||aE,k=At(t.localeFallbacker)?t.localeFallbacker:n5||K7,R=ft(t.fallbackContext)?t.fallbackContext:void 0,A=t,T=ft(A.__datetimeFormatters)?A.__datetimeFormatters:new Map,O=ft(A.__numberFormatters)?A.__numberFormatters:new Map,M=ft(A.__meta)?A.__meta:{};R1++;const $={version:n,cid:R1,locale:r,fallbackLocale:a,messages:o,modifiers:c,pluralRules:u,missing:d,missingWarn:f,fallbackWarn:h,fallbackFormat:g,unresolving:m,postTranslation:v,processor:b,warnHtmlMessage:y,escapeParameter:x,messageCompiler:w,messageResolver:_,localeFallbacker:k,fallbackContext:R,onWarn:e,__meta:M};return $.datetimeFormats=s,$.numberFormats=l,$.__datetimeFormatters=T,$.__numberFormatters=O,__INTLIFY_PROD_DEVTOOLS__&&G7($,n,M),$}const Xh=t=>({[t]:wt()});function lm(t,e,n,r,i){const{missing:a,onWarn:o}=t;if(a!==null){const s=a(t,n,e,i);return ke(s)?s:e}else return e}function _s(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function mE(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function vE(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(mE(t,e[r]))return!0;return!1}function $1(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:a,localeFallbacker:o}=t,{__datetimeFormatters:s}=t,[l,c,u,d]=Bp(...e),f=dt(u.missingWarn)?u.missingWarn:t.missingWarn;dt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,g=sm(t,u),m=o(t,i,g);if(!ke(l)||l==="")return new Intl.DateTimeFormat(g,d).format(c);let v={},b,y=null;const x="datetime format";for(let k=0;k<m.length&&(b=m[k],v=n[b]||{},y=v[l],!tt(y));k++)lm(t,l,b,f,x);if(!tt(y)||!ke(b))return r?nh:l;let w=`${b}__${l}`;eh(d)||(w=`${w}__${JSON.stringify(d)}`);let _=s.get(w);return _||(_=new Intl.DateTimeFormat(b,ln({},y,d)),s.set(w,_)),h?_.formatToParts(c):_.format(c)}const a5=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Bp(...t){const[e,n,r,i]=t,a=wt();let o=wt(),s;if(ke(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Ei(Si.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();s=new Date(c);try{s.toISOString()}catch{throw Ei(Si.INVALID_ISO_DATE_ARGUMENT)}}else if(i7(e)){if(isNaN(e.getTime()))throw Ei(Si.INVALID_DATE_ARGUMENT);s=e}else if(rn(e))s=e;else throw Ei(Si.INVALID_ARGUMENT);return ke(n)?a.key=n:tt(n)&&Object.keys(n).forEach(l=>{a5.includes(l)?o[l]=n[l]:a[l]=n[l]}),ke(r)?a.locale=r:tt(r)&&(o=r),tt(i)&&(o=i),[a.key||"",s,a,o]}function F1(t,e,n){const r=t;for(const i in n){const a=`${e}__${i}`;r.__datetimeFormatters.has(a)&&r.__datetimeFormatters.delete(a)}}function P1(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:a,localeFallbacker:o}=t,{__numberFormatters:s}=t,[l,c,u,d]=Up(...e),f=dt(u.missingWarn)?u.missingWarn:t.missingWarn;dt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,g=sm(t,u),m=o(t,i,g);if(!ke(l)||l==="")return new Intl.NumberFormat(g,d).format(c);let v={},b,y=null;const x="number format";for(let k=0;k<m.length&&(b=m[k],v=n[b]||{},y=v[l],!tt(y));k++)lm(t,l,b,f,x);if(!tt(y)||!ke(b))return r?nh:l;let w=`${b}__${l}`;eh(d)||(w=`${w}__${JSON.stringify(d)}`);let _=s.get(w);return _||(_=new Intl.NumberFormat(b,ln({},y,d)),s.set(w,_)),h?_.formatToParts(c):_.format(c)}const o5=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Up(...t){const[e,n,r,i]=t,a=wt();let o=wt();if(!rn(e))throw Ei(Si.INVALID_ARGUMENT);const s=e;return ke(n)?a.key=n:tt(n)&&Object.keys(n).forEach(l=>{o5.includes(l)?o[l]=n[l]:a[l]=n[l]}),ke(r)?a.locale=r:tt(r)&&(o=r),tt(i)&&(o=i),[a.key||"",s,a,o]}function D1(t,e,n){const r=t;for(const i in n){const a=`${e}__${i}`;r.__numberFormatters.has(a)&&r.__numberFormatters.delete(a)}}const bE=t=>t,yE=t=>"",xE="text",wE=t=>t.length===0?"":im(t),_E=l7;function L1(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function CE(t){const e=rn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(rn(t.named.count)||rn(t.named.n))?rn(t.named.count)?t.named.count:rn(t.named.n)?t.named.n:e:e}function kE(t,e){e.count||(e.count=t),e.n||(e.n=t)}function SE(t={}){const e=t.locale,n=CE(t),r=ft(t.pluralRules)&&ke(e)&&At(t.pluralRules[e])?t.pluralRules[e]:L1,i=ft(t.pluralRules)&&ke(e)&&At(t.pluralRules[e])?L1:void 0,a=b=>b[r(n,b.length,i)],o=t.list||[],s=b=>o[b],l=t.named||wt();rn(t.pluralIndex)&&kE(n,l);const c=b=>l[b];function u(b,y){const x=At(t.messages)?t.messages(b,!!y):ft(t.messages)?t.messages[b]:!1;return x||(t.parent?t.parent.message(b):yE)}const d=b=>t.modifiers?t.modifiers[b]:bE,f=tt(t.processor)&&At(t.processor.normalize)?t.processor.normalize:wE,h=tt(t.processor)&&At(t.processor.interpolate)?t.processor.interpolate:_E,g=tt(t.processor)&&ke(t.processor.type)?t.processor.type:xE,v={list:s,named:c,plural:a,linked:(b,...y)=>{const[x,w]=y;let _="text",k="";y.length===1?ft(x)?(k=x.modifier||k,_=x.type||_):ke(x)&&(k=x||k):y.length===2&&(ke(x)&&(k=x||k),ke(w)&&(_=w||_));const R=u(b,!0)(v),A=_==="vnode"&&jt(R)&&k?R[0]:R;return k?d(k)(A,_):A},message:u,type:g,interpolate:h,normalize:f,values:ln(wt(),o,l)};return v}const I1=()=>"",xr=t=>At(t);function N1(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:a,fallbackLocale:o,messages:s}=t,[l,c]=zp(...e),u=dt(c.missingWarn)?c.missingWarn:t.missingWarn,d=dt(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=dt(c.escapeParameter)?c.escapeParameter:t.escapeParameter,h=!!c.resolvedMessage,g=ke(c.default)||dt(c.default)?dt(c.default)?a?l:()=>l:c.default:n?a?l:()=>l:null,m=n||g!=null&&(ke(g)||At(g)),v=sm(t,c);f&&EE(c);let[b,y,x]=h?[l,v,s[v]||wt()]:s5(t,l,v,o,d,u),w=b,_=l;if(!h&&!(ke(w)||ci(w)||xr(w))&&m&&(w=g,_=w),!h&&(!(ke(w)||ci(w)||xr(w))||!ke(y)))return i?nh:l;let k=!1;const R=()=>{k=!0},A=xr(w)?w:l5(t,l,y,w,_,R);if(k)return w;const T=OE(t,y,x,c),O=SE(T),M=TE(t,A,O),$=r?r(M,l):M;if(__INTLIFY_PROD_DEVTOOLS__){const C={timestamp:Date.now(),key:ke(l)?l:xr(w)?w.key:"",locale:y||(xr(w)?w.locale:""),format:ke(w)?w:xr(w)?w.source:"",message:$};C.meta=ln({},t.__meta,fE()||{}),X7(C)}return $}function EE(t){jt(t.list)?t.list=t.list.map(e=>ke(e)?x1(e):e):ft(t.named)&&Object.keys(t.named).forEach(e=>{ke(t.named[e])&&(t.named[e]=x1(t.named[e]))})}function s5(t,e,n,r,i,a){const{messages:o,onWarn:s,messageResolver:l,localeFallbacker:c}=t,u=c(t,r,n);let d=wt(),f,h=null;const g="translate";for(let m=0;m<u.length&&(f=u[m],d=o[f]||wt(),(h=l(d,e))===null&&(h=d[e]),!(ke(h)||ci(h)||xr(h)));m++)if(!vE(f,u)){const v=lm(t,e,f,a,g);v!==e&&(h=v)}return[h,f,d]}function l5(t,e,n,r,i,a){const{messageCompiler:o,warnHtmlMessage:s}=t;if(xr(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>r;return c.locale=n,c.key=e,c}const l=o(r,AE(t,n,i,r,s,a));return l.locale=n,l.key=e,l.source=r,l}function TE(t,e,n){return e(n)}function zp(...t){const[e,n,r]=t,i=wt();if(!ke(e)&&!rn(e)&&!xr(e)&&!ci(e))throw Ei(Si.INVALID_ARGUMENT);const a=rn(e)?String(e):(xr(e),e);return rn(n)?i.plural=n:ke(n)?i.default=n:tt(n)&&!eh(n)?i.named=n:jt(n)&&(i.list=n),rn(r)?i.plural=r:ke(r)?i.default=r:tt(r)&&ln(i,r),[a,i]}function AE(t,e,n,r,i,a){return{locale:e,key:n,warnHtmlMessage:i,onError:o=>{throw a&&a(o),o},onCacheKey:o=>n7(e,n,o)}}function OE(t,e,n,r){const{modifiers:i,pluralRules:a,messageResolver:o,fallbackLocale:s,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,f={locale:e,modifiers:i,pluralRules:a,messages:(h,g)=>{let m=o(n,h);if(m==null&&(u||g)){const[,,v]=s5(u||t,h,e,s,l,c);m=o(v,h)}if(ke(m)||ci(m)){let v=!1;const y=l5(t,h,e,m,h,()=>{v=!0});return v?I1:y}else return xr(m)?m:I1}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),rn(r.plural)&&(f.pluralIndex=r.plural),f}P7();/*!
  * vue-i18n v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const ME="11.1.7";function RE(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ia().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ia().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ia().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ia().__INTLIFY_PROD_DEVTOOLS__=!1)}const Qn={UNEXPECTED_RETURN_TYPE:Y7,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function ur(t,...e){return th(t,null,void 0)}const Hp=ba("__translateVNode"),Wp=ba("__datetimeParts"),Vp=ba("__numberParts"),c5=ba("__setPluralRules"),u5=ba("__injectWithOption"),Gp=ba("__dispose");function Hl(t){if(!ft(t)||ci(t))return t;for(const e in t)if(Wr(t,e))if(!e.includes("."))ft(t[e])&&Hl(t[e]);else{const n=e.split("."),r=n.length-1;let i=t,a=!1;for(let o=0;o<r;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in i||(i[n[o]]=wt()),!ft(i[n[o]])){a=!0;break}i=i[n[o]]}if(a||(ci(i)?J3.includes(n[r])||delete t[e]:(i[n[r]]=t[e],delete t[e])),!ci(i)){const o=i[n[r]];ft(o)&&Hl(o)}}return t}function cm(t,e){const{messages:n,__i18n:r,messageResolver:i,flatJson:a}=e,o=tt(n)?n:jt(r)?wt():{[t]:wt()};if(jt(r)&&r.forEach(s=>{if("locale"in s&&"resource"in s){const{locale:l,resource:c}=s;l?(o[l]=o[l]||wt(),ku(c,o[l])):ku(c,o)}else ke(s)&&ku(JSON.parse(s),o)}),i==null&&a)for(const s in o)Wr(o,s)&&Hl(o[s]);return o}function d5(t){return t.type}function h5(t,e,n){let r=ft(e.messages)?e.messages:wt();"__i18nGlobal"in n&&(r=cm(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(a=>{t.mergeLocaleMessage(a,r[a])});{if(ft(e.datetimeFormats)){const a=Object.keys(e.datetimeFormats);a.length&&a.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(ft(e.numberFormats)){const a=Object.keys(e.numberFormats);a.length&&a.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function j1(t){return p(N8,null,t,0)}const B1="__INTLIFY_META__",U1=()=>[],$E=()=>!1;let z1=0;function H1(t){return(e,n,r,i)=>t(n,r,kr()||void 0,i)}const FE=()=>{const t=kr();let e=null;return t&&(e=d5(t)[B1])?{[B1]:e}:null};function um(t={}){const{__root:e,__injectWithOption:n}=t,r=e===void 0,i=t.flatJson,a=Ju?ie:Dg;let o=dt(t.inheritLocale)?t.inheritLocale:!0;const s=a(e&&o?e.locale.value:ke(t.locale)?t.locale:zl),l=a(e&&o?e.fallbackLocale.value:ke(t.fallbackLocale)||jt(t.fallbackLocale)||tt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s.value),c=a(cm(s.value,t)),u=a(tt(t.datetimeFormats)?t.datetimeFormats:{[s.value]:{}}),d=a(tt(t.numberFormats)?t.numberFormats:{[s.value]:{}});let f=e?e.missingWarn:dt(t.missingWarn)||Go(t.missingWarn)?t.missingWarn:!0,h=e?e.fallbackWarn:dt(t.fallbackWarn)||Go(t.fallbackWarn)?t.fallbackWarn:!0,g=e?e.fallbackRoot:dt(t.fallbackRoot)?t.fallbackRoot:!0,m=!!t.fallbackFormat,v=At(t.missing)?t.missing:null,b=At(t.missing)?H1(t.missing):null,y=At(t.postTranslation)?t.postTranslation:null,x=e?e.warnHtmlMessage:dt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter;const _=e?e.modifiers:tt(t.modifiers)?t.modifiers:{};let k=t.pluralRules||e&&e.pluralRules,R;R=(()=>{r&&M1(null);const ee={version:ME,locale:s.value,fallbackLocale:l.value,messages:c.value,modifiers:_,pluralRules:k,missing:b===null?void 0:b,missingWarn:f,fallbackWarn:h,fallbackFormat:m,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:x,escapeParameter:w,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ee.datetimeFormats=u.value,ee.numberFormats=d.value,ee.__datetimeFormatters=tt(R)?R.__datetimeFormatters:void 0,ee.__numberFormatters=tt(R)?R.__numberFormatters:void 0;const se=gE(ee);return r&&M1(se),se})(),_s(R,s.value,l.value);function T(){return[s.value,l.value,c.value,u.value,d.value]}const O=V({get:()=>s.value,set:ee=>{R.locale=ee,s.value=ee}}),M=V({get:()=>l.value,set:ee=>{R.fallbackLocale=ee,l.value=ee,_s(R,s.value,ee)}}),$=V(()=>c.value),C=V(()=>u.value),E=V(()=>d.value);function S(){return At(y)?y:null}function F(ee){y=ee,R.postTranslation=ee}function D(){return v}function P(ee){ee!==null&&(b=H1(ee)),v=ee,R.missing=b}const L=(ee,se,Ce,fe,Ge,hn)=>{T();let vn;try{__INTLIFY_PROD_DEVTOOLS__,r||(R.fallbackContext=e?pE():void 0),vn=ee(R)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(R.fallbackContext=void 0)}if(Ce!=="translate exists"&&rn(vn)&&vn===nh||Ce==="translate exists"&&!vn){const[pr,jn]=se();return e&&g?fe(e):Ge(pr)}else{if(hn(vn))return vn;throw ur(Qn.UNEXPECTED_RETURN_TYPE)}};function N(...ee){return L(se=>Reflect.apply(N1,null,[se,...ee]),()=>zp(...ee),"translate",se=>Reflect.apply(se.t,se,[...ee]),se=>se,se=>ke(se))}function W(...ee){const[se,Ce,fe]=ee;if(fe&&!ft(fe))throw ur(Qn.INVALID_ARGUMENT);return N(se,Ce,ln({resolvedMessage:!0},fe||{}))}function j(...ee){return L(se=>Reflect.apply($1,null,[se,...ee]),()=>Bp(...ee),"datetime format",se=>Reflect.apply(se.d,se,[...ee]),()=>A1,se=>ke(se)||jt(se))}function U(...ee){return L(se=>Reflect.apply(P1,null,[se,...ee]),()=>Up(...ee),"number format",se=>Reflect.apply(se.n,se,[...ee]),()=>A1,se=>ke(se)||jt(se))}function z(ee){return ee.map(se=>ke(se)||rn(se)||dt(se)?j1(String(se)):se)}const K={normalize:z,interpolate:ee=>ee,type:"vnode"};function H(...ee){return L(se=>{let Ce;const fe=se;try{fe.processor=K,Ce=Reflect.apply(N1,null,[fe,...ee])}finally{fe.processor=null}return Ce},()=>zp(...ee),"translate",se=>se[Hp](...ee),se=>[j1(se)],se=>jt(se))}function J(...ee){return L(se=>Reflect.apply(P1,null,[se,...ee]),()=>Up(...ee),"number format",se=>se[Vp](...ee),U1,se=>ke(se)||jt(se))}function ne(...ee){return L(se=>Reflect.apply($1,null,[se,...ee]),()=>Bp(...ee),"datetime format",se=>se[Wp](...ee),U1,se=>ke(se)||jt(se))}function oe(ee){k=ee,R.pluralRules=k}function he(ee,se){return L(()=>{if(!ee)return!1;const Ce=ke(se)?se:s.value,fe=Le(Ce),Ge=R.messageResolver(fe,ee);return ci(Ge)||xr(Ge)||ke(Ge)},()=>[ee],"translate exists",Ce=>Reflect.apply(Ce.te,Ce,[ee,se]),$E,Ce=>dt(Ce))}function ve(ee){let se=null;const Ce=Q3(R,l.value,s.value);for(let fe=0;fe<Ce.length;fe++){const Ge=c.value[Ce[fe]]||{},hn=R.messageResolver(Ge,ee);if(hn!=null){se=hn;break}}return se}function Oe(ee){const se=ve(ee);return se??(e?e.tm(ee)||{}:{})}function Le(ee){return c.value[ee]||{}}function Re(ee,se){if(i){const Ce={[ee]:se};for(const fe in Ce)Wr(Ce,fe)&&Hl(Ce[fe]);se=Ce[ee]}c.value[ee]=se,R.messages=c.value}function bt(ee,se){c.value[ee]=c.value[ee]||{};const Ce={[ee]:se};if(i)for(const fe in Ce)Wr(Ce,fe)&&Hl(Ce[fe]);se=Ce[ee],ku(se,c.value[ee]),R.messages=c.value}function et(ee){return u.value[ee]||{}}function I(ee,se){u.value[ee]=se,R.datetimeFormats=u.value,F1(R,ee,se)}function B(ee,se){u.value[ee]=ln(u.value[ee]||{},se),R.datetimeFormats=u.value,F1(R,ee,se)}function te(ee){return d.value[ee]||{}}function le(ee,se){d.value[ee]=se,R.numberFormats=d.value,D1(R,ee,se)}function de(ee,se){d.value[ee]=ln(d.value[ee]||{},se),R.numberFormats=d.value,D1(R,ee,se)}z1++,e&&Ju&&(ye(e.locale,ee=>{o&&(s.value=ee,R.locale=ee,_s(R,s.value,l.value))}),ye(e.fallbackLocale,ee=>{o&&(l.value=ee,R.fallbackLocale=ee,_s(R,s.value,l.value))}));const pe={id:z1,locale:O,fallbackLocale:M,get inheritLocale(){return o},set inheritLocale(ee){o=ee,ee&&e&&(s.value=e.locale.value,l.value=e.fallbackLocale.value,_s(R,s.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:$,get modifiers(){return _},get pluralRules(){return k||{}},get isGlobal(){return r},get missingWarn(){return f},set missingWarn(ee){f=ee,R.missingWarn=f},get fallbackWarn(){return h},set fallbackWarn(ee){h=ee,R.fallbackWarn=h},get fallbackRoot(){return g},set fallbackRoot(ee){g=ee},get fallbackFormat(){return m},set fallbackFormat(ee){m=ee,R.fallbackFormat=m},get warnHtmlMessage(){return x},set warnHtmlMessage(ee){x=ee,R.warnHtmlMessage=ee},get escapeParameter(){return w},set escapeParameter(ee){w=ee,R.escapeParameter=ee},t:N,getLocaleMessage:Le,setLocaleMessage:Re,mergeLocaleMessage:bt,getPostTranslationHandler:S,setPostTranslationHandler:F,getMissingHandler:D,setMissingHandler:P,[c5]:oe};return pe.datetimeFormats=C,pe.numberFormats=E,pe.rt=W,pe.te=he,pe.tm=Oe,pe.d=j,pe.n=U,pe.getDateTimeFormat=et,pe.setDateTimeFormat=I,pe.mergeDateTimeFormat=B,pe.getNumberFormat=te,pe.setNumberFormat=le,pe.mergeNumberFormat=de,pe[u5]=n,pe[Hp]=H,pe[Wp]=ne,pe[Vp]=J,pe}function PE(t){const e=ke(t.locale)?t.locale:zl,n=ke(t.fallbackLocale)||jt(t.fallbackLocale)||tt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=At(t.missing)?t.missing:void 0,i=dt(t.silentTranslationWarn)||Go(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,a=dt(t.silentFallbackWarn)||Go(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=dt(t.fallbackRoot)?t.fallbackRoot:!0,s=!!t.formatFallbackMessages,l=tt(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=At(t.postTranslation)?t.postTranslation:void 0,d=ke(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,h=dt(t.sync)?t.sync:!0;let g=t.messages;if(tt(t.sharedMessages)){const _=t.sharedMessages;g=Object.keys(_).reduce((R,A)=>{const T=R[A]||(R[A]={});return ln(T,_[A]),R},g||{})}const{__i18n:m,__root:v,__injectWithOption:b}=t,y=t.datetimeFormats,x=t.numberFormats,w=t.flatJson;return{locale:e,fallbackLocale:n,messages:g,flatJson:w,datetimeFormats:y,numberFormats:x,missing:r,missingWarn:i,fallbackWarn:a,fallbackRoot:o,fallbackFormat:s,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:d,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:h,__i18n:m,__root:v,__injectWithOption:b}}function Xp(t={}){const e=um(PE(t)),{__extender:n}=t,r={id:e.id,get locale(){return e.locale.value},set locale(i){e.locale.value=i},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(i){e.fallbackLocale.value=i},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(i){e.setMissingHandler(i)},get silentTranslationWarn(){return dt(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(i){e.missingWarn=dt(i)?!i:i},get silentFallbackWarn(){return dt(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(i){e.fallbackWarn=dt(i)?!i:i},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(i){e.fallbackFormat=i},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(i){e.setPostTranslationHandler(i)},get sync(){return e.inheritLocale},set sync(i){e.inheritLocale=i},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){e.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(i){e.escapeParameter=i},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...i){return Reflect.apply(e.t,e,[...i])},rt(...i){return Reflect.apply(e.rt,e,[...i])},te(i,a){return e.te(i,a)},tm(i){return e.tm(i)},getLocaleMessage(i){return e.getLocaleMessage(i)},setLocaleMessage(i,a){e.setLocaleMessage(i,a)},mergeLocaleMessage(i,a){e.mergeLocaleMessage(i,a)},d(...i){return Reflect.apply(e.d,e,[...i])},getDateTimeFormat(i){return e.getDateTimeFormat(i)},setDateTimeFormat(i,a){e.setDateTimeFormat(i,a)},mergeDateTimeFormat(i,a){e.mergeDateTimeFormat(i,a)},n(...i){return Reflect.apply(e.n,e,[...i])},getNumberFormat(i){return e.getNumberFormat(i)},setNumberFormat(i,a){e.setNumberFormat(i,a)},mergeNumberFormat(i,a){e.mergeNumberFormat(i,a)}};return r.__extender=n,r}function DE(t,e,n){return{beforeCreate(){const r=kr();if(!r)throw ur(Qn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const a=i.i18n;if(i.__i18n&&(a.__i18n=i.__i18n),a.__root=e,this===this.$root)this.$i18n=W1(t,a);else{a.__injectWithOption=!0,a.__extender=n.__vueI18nExtend,this.$i18n=Xp(a);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=W1(t,i);else{this.$i18n=Xp({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&h5(e,i,i),this.$t=(...a)=>this.$i18n.t(...a),this.$rt=(...a)=>this.$i18n.rt(...a),this.$te=(a,o)=>this.$i18n.te(a,o),this.$d=(...a)=>this.$i18n.d(...a),this.$n=(...a)=>this.$i18n.n(...a),this.$tm=a=>this.$i18n.tm(a),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=kr();if(!r)throw ur(Qn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(r),delete this.$i18n}}}function W1(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[c5](e.pluralizationRules||t.pluralizationRules);const n=cm(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const dm={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function LE({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,i)=>[...r,...i.type===Vt?i.children:[i]],[]):e.reduce((n,r)=>{const i=t[r];return i&&(n[r]=i()),n},wt())}function f5(){return Vt}const IE=Y({name:"i18n-t",props:ln({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>rn(t)||!isNaN(t)}},dm),setup(t,e){const{slots:n,attrs:r}=e,i=t.i18n||hm({useScope:t.scope,__useComponent:!0});return()=>{const a=Object.keys(n).filter(d=>d[0]!=="_"),o=wt();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=ke(t.plural)?+t.plural:t.plural);const s=LE(e,a),l=i[Hp](t.keypath,s,o),c=ln(wt(),r),u=ke(t.tag)||ft(t.tag)?t.tag:f5();return Ye(u,c,l)}}}),V1=IE;function NE(t){return jt(t)&&!ke(t[0])}function p5(t,e,n,r){const{slots:i,attrs:a}=e;return()=>{const o={part:!0};let s=wt();t.locale&&(o.locale=t.locale),ke(t.format)?o.key=t.format:ft(t.format)&&(ke(t.format.key)&&(o.key=t.format.key),s=Object.keys(t.format).reduce((f,h)=>n.includes(h)?ln(wt(),f,{[h]:t.format[h]}):f,wt()));const l=r(t.value,o,s);let c=[o.key];jt(l)?c=l.map((f,h)=>{const g=i[f.type],m=g?g({[f.type]:f.value,index:h,parts:l}):[f.value];return NE(m)&&(m[0].key=`${f.type}-${h}`),m}):ke(l)&&(c=[l]);const u=ln(wt(),a),d=ke(t.tag)||ft(t.tag)?t.tag:f5();return Ye(d,u,c)}}const jE=Y({name:"i18n-n",props:ln({value:{type:Number,required:!0},format:{type:[String,Object]}},dm),setup(t,e){const n=t.i18n||hm({useScope:t.scope,__useComponent:!0});return p5(t,e,o5,(...r)=>n[Vp](...r))}}),G1=jE;function BE(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function UE(t){const e=o=>{const{instance:s,value:l}=o;if(!s||!s.$)throw ur(Qn.UNEXPECTED_ERROR);const c=BE(t,s.$),u=X1(l);return[Reflect.apply(c.t,c,[...q1(u)]),c]};return{created:(o,s)=>{const[l,c]=e(s);Ju&&t.global===c&&(o.__i18nWatcher=ye(c.locale,()=>{s.instance&&s.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Ju&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:s})=>{if(o.__composer){const l=o.__composer,c=X1(s);o.textContent=Reflect.apply(l.t,l,[...q1(c)])}},getSSRProps:o=>{const[s]=e(o);return{textContent:s}}}}function X1(t){if(ke(t))return{path:t};if(tt(t)){if(!("path"in t))throw ur(Qn.REQUIRED_VALUE,"path");return t}else throw ur(Qn.INVALID_VALUE)}function q1(t){const{path:e,locale:n,args:r,choice:i,plural:a}=t,o={},s=r||{};return ke(n)&&(o.locale=n),rn(i)&&(o.plural=i),rn(a)&&(o.plural=a),[e,s,o]}function zE(t,e,...n){const r=tt(n[0])?n[0]:{};(dt(r.globalInstall)?r.globalInstall:!0)&&([V1.name,"I18nT"].forEach(a=>t.component(a,V1)),[G1.name,"I18nN"].forEach(a=>t.component(a,G1)),[K1.name,"I18nD"].forEach(a=>t.component(a,K1))),t.directive("t",UE(e))}const HE=ba("global-vue-i18n");function WE(t={}){const e=__VUE_I18N_LEGACY_API__&&dt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=dt(t.globalInjection)?t.globalInjection:!0,r=new Map,[i,a]=VE(t,e),o=ba("");function s(d){return r.get(d)||null}function l(d,f){r.set(d,f)}function c(d){r.delete(d)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(d,...f){if(d.__VUE_I18N_SYMBOL__=o,d.provide(d.__VUE_I18N_SYMBOL__,u),tt(f[0])){const m=f[0];u.__composerExtend=m.__composerExtend,u.__vueI18nExtend=m.__vueI18nExtend}let h=null;!e&&n&&(h=QE(d,u.global)),__VUE_I18N_FULL_INSTALL__&&zE(d,u,...f),__VUE_I18N_LEGACY_API__&&e&&d.mixin(DE(a,a.__composer,u));const g=d.unmount;d.unmount=()=>{h&&h(),u.dispose(),g()}},get global(){return a},dispose(){i.stop()},__instances:r,__getInstance:s,__setInstance:l,__deleteInstance:c};return u}function hm(t={}){const e=kr();if(e==null)throw ur(Qn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw ur(Qn.NOT_INSTALLED);const n=GE(e),r=qE(n),i=d5(e),a=XE(t,i);if(a==="global")return h5(r,t,i),r;if(a==="parent"){let l=YE(n,e,t.__useComponent);return l==null&&(l=r),l}const o=n;let s=o.__getInstance(e);if(s==null){const l=ln({},t);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),s=um(l),o.__composerExtend&&(s[Gp]=o.__composerExtend(s)),ZE(o,e,s),o.__setInstance(e,s)}return s}function VE(t,e){const n=I8(),r=__VUE_I18N_LEGACY_API__&&e?n.run(()=>Xp(t)):n.run(()=>um(t));if(r==null)throw ur(Qn.UNEXPECTED_ERROR);return[n,r]}function GE(t){const e=an(t.isCE?HE:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw ur(t.isCE?Qn.NOT_INSTALLED_WITH_PROVIDE:Qn.UNEXPECTED_ERROR);return e}function XE(t,e){return eh(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function qE(t){return t.mode==="composition"?t.global:t.global.__composer}function YE(t,e,n=!1){let r=null;const i=e.root;let a=KE(e,n);for(;a!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(a);else if(__VUE_I18N_LEGACY_API__){const s=o.__getInstance(a);s!=null&&(r=s.__composer,n&&r&&!r[u5]&&(r=null))}if(r!=null||i===a)break;a=a.parent}return r}function KE(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function ZE(t,e,n){Tr(()=>{},e),ts(()=>{const r=n;t.__deleteInstance(e);const i=r[Gp];i&&(i(),delete r[Gp])},e)}const JE=["locale","fallbackLocale","availableLocales"],Y1=["t","rt","d","n","tm","te"];function QE(t,e){const n=Object.create(null);return JE.forEach(i=>{const a=Object.getOwnPropertyDescriptor(e,i);if(!a)throw ur(Qn.UNEXPECTED_ERROR);const o=Oi(a.value)?{get(){return a.value.value},set(s){a.value.value=s}}:{get(){return a.get&&a.get()}};Object.defineProperty(n,i,o)}),t.config.globalProperties.$i18n=n,Y1.forEach(i=>{const a=Object.getOwnPropertyDescriptor(e,i);if(!a||!a.value)throw ur(Qn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,a)}),()=>{delete t.config.globalProperties.$i18n,Y1.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}const eT=Y({name:"i18n-d",props:ln({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},dm),setup(t,e){const n=t.i18n||hm({useScope:t.scope,__useComponent:!0});return p5(t,e,a5,(...r)=>n[Wp](...r))}}),K1=eT;RE();cE(W7);uE(oE);dE(Q3);if(__INTLIFY_PROD_DEVTOOLS__){const t=Ia();t.__INTLIFY__=!0,V7(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}function tT(t){const e=WE({legacy:!1,locale:t?.locale,fallbackLocale:t?.fallbackLocale,messages:t?.messages,missingWarn:!1,fallbackWarn:!1});return{t:(n,r,i)=>{const a=e.global.t(n,r);return a===n&&i?i:a},changeLocale:(n,r)=>new Promise(i=>{e.global.locale.value=n,i(n)}),loadLocale:(n,r)=>new Promise(i=>{e.global.setLocaleMessage(n,r),i(n)}),mergeLocale:(n,r)=>{e.global.mergeLocaleMessage(n,r)},getLocale:()=>e.global.locale.value,getLocales:()=>e.global.availableLocales.map(n=>n)}}const nT="modulepreload",rT=function(t){return"/static/web/"+t},Z1={},Mn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=l(n.map(c=>{if(c=rT(c),c in Z1)return;Z1[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":nT,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},g5=Y({name:"DuxAppProvider",props:{},setup(t,{slots:e}){const n=an("dux.manage"),r=Kg(),i=gn();return i.beforeEach(async(a,o,s)=>{const l=a.meta.manageName,c=a.meta.authorization===!1;if(!l){const y=r.defaultManage||r.manages?.[0]?.name||"";return s({path:`/${y}`,replace:!0})}n&&(n.value=l);const u=Ld(l);u.isInit()||u.setConfig(r.manages?.find(y=>y.name===l),r);const d=ac(l),f=lt(l),h=gi(l),g=Jg(l);if(f.config?.i18nProvider&&!g.isInit()){const y=g.getLocale();y&&f.config?.i18nProvider.changeLocale(y)}if(N3(r,l),!h.isLogin())return c?s():s({path:f.getRoutePath("login"),replace:!0});const m=y=>y?.map(x=>({...x,path:x.path?f.getRoutePath(x.path):void 0}));if(!d.getRouteInit()){const y=f.config?.components||{},x=[];return x.push({name:`${l}.notFound`,label:"404",path:":pathMatch(.*)*",component:y.notFound||E3,hidden:!0,meta:{can:!1}}),x.push({name:`${l}.notAuthorized`,label:"403",path:"notAuthorized",component:y.notAuthorized||S3,hidden:!0,meta:{can:!1}}),x.push({name:`${l}.error`,label:"500",path:"error",component:y.error||k3,hidden:!0,meta:{can:!1}}),d.setRoutes(m(f.config?.menus||[])),f.config?.apiRoutePath&&await f.config?.dataProvider?.default?.custom({path:f.config.apiRoutePath,meta:{timeout:5e3}},f,h.getUser()).then(w=>{d.appendRoutes(m(w.data||[]))}).catch(w=>{throw f.config?.authProvider?.onError?.(w).then(_=>{_?.logout&&(h.logout(),i.push(f.getRoutePath(_.redirectTo||"/login")))}),w}),d.appendRoutes(x),d.getRoutes().forEach(w=>{if(!w.path)return;const _={name:w.name,path:w.path,meta:w.meta};switch(w.loader){case"iframe":_.component=f.config?.components?.iframe||(()=>Mn(()=>Promise.resolve().then(()=>N9),void 0));break;case"remote":_.component=f.config?.components?.remote||(()=>Mn(()=>import("./loader-08V0W-Gf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])));break;case"link":_.beforeEnter=()=>{const k=w.meta?.url||w.path;return k&&window.open(k,"_blank"),!1},_.component=()=>Promise.resolve({template:"<div></div>"});break;default:w.component&&(_.component=w.component);break}i.addRoute(`${l}.auth`,_)}),s({path:a.redirectedFrom?.path||a.path,replace:!0})}const v=["","/",`/${l}`,`/${l}/`];if(v.includes(a.path)){const y=d.getIndexRoute();return!y?.path||v.includes(y?.path)?(console.warn("[Dux] index route not found, skip redirect"),s()):s({path:y?.path||"/",replace:!0})}const b=Id(l);return(a.meta?.can===void 0||a.meta?.can===!0)&&!b(a.name)?s({name:`${l}.notAuthorized`}):s()}),()=>p(qx,null,{default:()=>[e.default?.()]})}});function ro(t){const e=an("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return m5(t)()}function m5(t){return fa(`tab-${t}`,()=>{const e=ie(),n=ie(),r=ie([]);return{current:e,tabs:r,isTab:i=>r.value.some(a=>a.path===i),addTab:(i,a)=>{i.path&&(r.value.some(o=>o.path===i.path)?(e.value&&e.value!==i.path&&(n.value=r.value.find(o=>o.path===e.value)),e.value=i.path):(e.value&&(n.value=r.value.find(o=>o.path===e.value)),r.value.push(i),a?.(i),e.value=i.path))},delTab:(i,a)=>{const o=r.value.findIndex(l=>l.path===i);if(o===-1||r.value.length<=1||r.value[o]?.meta?.lock)return;let s;if(i===e.value&&n.value&&(s=r.value.find(l=>l.path===n.value?.path&&l.path!==i)),!s){const l=r.value[o-1],c=r.value[o+1];s=l||c}r.value.splice(o,1),a?.(s)},changeTab:(i,a)=>{const o=r.value.find(s=>s.path===i);o&&(e.value&&e.value!==i&&(n.value=r.value.find(s=>s.path===e.value)),e.value=i,a?.(o))},delOther:(i,a)=>{r.value=r.value.filter(o=>o.path===i||o.meta?.lock),a?.()},delLeft:(i,a)=>{const o=r.value.findIndex(s=>s.path===i);o<=0||An(()=>{r.value=[...r.value.slice(0,o).filter(s=>s.meta?.lock),...r.value.slice(o)],a?.()})},delRight:(i,a)=>{const o=r.value.findIndex(s=>s.path===i);o===-1||o===r.value.length-1||An(()=>{r.value=[...r.value.slice(0,o+1),...r.value.slice(o+1).filter(s=>s.meta?.lock)],a?.()})},lockTab:i=>{const a=r.value.findIndex(o=>o.path===i);a!==-1&&r.value[a]&&(r.value[a].meta||(r.value[a].meta={}),r.value[a].meta.lock=!r.value[a].meta.lock)},clearTab:()=>{e.value=void 0,n.value=void 0,r.value=[]}}})}const v5=Y({name:"DuxTabRouterView",props:{},setup(){const t=ha(),e=ro(),n=ac(),r=new Map,i=(o,s)=>{let l;const c=o;return r.has(c)?l=r.get(c):(l={name:c,render(){return s}},r.set(c,l)),l};e.$subscribe((o,s)=>{r.forEach(l=>{s.tabs.some(c=>c.path===l.name)||r.delete(l.name)})});const a=n.getIndexRoute();return a&&e.addTab({...a,meta:{...a.meta,lock:!0}}),ye([t,()=>n.routes],()=>{const o=n.searchRouteName(t.name);if(!o)return;const s={label:o.label,path:t.path,name:o.name};e.addTab(s)},{immediate:!0}),()=>p(Ig,null,{default:({Component:o})=>{const s=i(t.path,o);return p(Ll,{name:"tab-fade",mode:"out-in",appear:!0},{default:()=>[p(j8,{include:e.tabs.map(l=>l.path||"")},[p(s,{key:t.path},null)])]})}})}});function qh(t){return`rgb(var(${t}))`}function Yh(t,e){return`color-mix(in oklab, rgb(var(${t})) var(${e}, 100%), transparent)`}function b5(t){const e=["50","100","200","300","400","500","600","700","800","900","950"],n=["primary","info","success","warning","error","gray"],r=["hover","pressed","focus","disabled"],i={white:{DEFAULT:qh("--ui-color-white")},black:{DEFAULT:qh("--ui-color-black")}};Object.keys(t).forEach(h=>{i[h]={},e.forEach(g=>{i[h][g]=qh(`--base-color-${h}-${g}`)})}),n.forEach(h=>{i[h]={DEFAULT:Yh(`--ui-color-${h}`,"--un-text-opacity")},e.forEach(g=>{i[h][g]=Yh(`--ui-color-${h}-${g}`,"--un-text-opacity")}),r.forEach(g=>{i[h][g]=Yh(`--ui-color-${h}-${g}`,"--un-text-opacity")})});const a={text:["default","dimmed","muted","toned","highlighted","inverted"],bg:["default","muted","elevated","accented","inverted"],border:["default","muted","accented","inverted"]};function o(h,g,m,v,b){const y=[];return m.forEach(x=>{const w=`--ui-${b||h}${x==="default"?"":`-${x}`}`;y.push([`${h}-${x}`,{[g]:`color-mix(in oklab, rgb(var(${w})) var(${v}, 100%), transparent)`,[v]:"100%"}]),y.push([new RegExp(`^${h}-${x}\\/(\\d*\\.?\\d+)(%?)$`),([,_,k])=>{const R=Number(_);let A;return k||R>1?A=`${R}%`:A=`${R*100}%`,{[g]:`color-mix(in oklab, rgb(var(${w})) var(${v}, 100%), transparent)`,[v]:A}}]),y.push([new RegExp(`^${h}-${x}\\[(.+)\\]$`),([,_])=>({[g]:_.replace(/_/g," ")})])}),y}const s=o("text","color",a.text,"--un-text-opacity"),l=o("bg","background-color",a.bg,"--un-bg-opacity"),c=o("border","border-color",a.border,"--un-border-opacity"),u=o("ring","--un-ring-color",a.border,"--un-ring-opacity","border"),d=[];a.border.forEach(h=>{const g=`--ui-border${h==="default"?"":`-${h}`}`;d.push([new RegExp(`^divide-${h}$`),(m,{rawSelector:v})=>`
          .${v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")} > :not(:last-child) {
            border-color: color-mix(in oklab, rgb(var(${g})) var(--un-border-opacity, 100%), transparent);
            --un-border-opacity: 100%;
          }`]),d.push([new RegExp(`^divide-${h}\\/(\\d*\\.?\\d+)(%?)$`),([,m,v],{rawSelector:b})=>{const y=Number(m);let x;return v||y>1?x=`${y}%`:x=`${y*100}%`,`
          .${b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")} > :not(:last-child) {
            border-color: color-mix(in oklab, rgb(var(${g})) var(--un-border-opacity, 100%), transparent);
            --un-border-opacity: ${x};
          }`}])});const f=[...s,...l,...c,...u,...d];return{name:"preset-theme",theme:{colors:i},rules:f}}const $W=Object.freeze(Object.defineProperty({__proto__:null,DuxAppProvider:g5,DuxCan:I9,DuxError:k3,DuxException:j9,DuxLoaderIframe:_3,DuxLogo:x3,DuxLogoIcon:w3,DuxNotAuthorized:S3,DuxNotFound:E3,DuxOverlay:C3,DuxTabRouterView:v5,arrayToTree:Vo,createDux:Q9,createLocalUploadDriver:nm,createS3UploadDriver:U3,createTabStore:m5,defaultAdaptors:zx,emitter:Uk,i18nProvider:tT,initFormValidate:D3,initJsonSchemaComponents:N3,initRouter:z3,searchTree:So,simpleAuthProvider:e7,simpleDataProvider:t7,themeColor:Yg,themePreset:b5,treeToArr:Qd,useAuthStore:gi,useCan:Id,useCheck:ax,useClient:to,useConfig:Kg,useCreate:O3,useCreateMany:B9,useCustom:H9,useCustomMutation:eo,useDelete:R3,useDeleteMany:z9,useError:dr,useExport:$3,useExportCsv:Dp,useExtendForm:os,useExtendList:em,useForgotPassword:GC,useForm:F3,useGetAuth:Rn,useI18n:_e,useI18nStore:Jg,useImport:L3,useImportCsv:I3,useInfiniteList:Zg,useInvalidate:Ar,useIsLogin:qC,useJsonSchema:ca,useJsonSchemaStore:Qg,useList:ic,useLogin:rx,useLogout:ix,useManage:lt,useManageStore:Ld,useMany:A3,useMenu:j3,useOne:T3,useOverlay:K9,useRegister:VC,useRouteStore:ac,useSelect:tm,useTabStore:ro,useTheme:va,useThemeStore:B3,useTree:oc,useUpdate:M3,useUpdateMany:U9,useUpdatePassword:XC,useUpload:no,useValidateForm:P3,vForAdaptor:Lx,vIfAdaptor:Ix,vModelAdaptor:Nx,vOnAdaptor:jx,vShowAdaptor:Bx,vTextAdaptor:Ux},Symbol.toStringTag,{value:"Module"})),iT=Y({name:"DuxLoading",setup(){return()=>p("div",{class:"app-loading"},[p("div",{class:"app-box-loading"},null)])}}),y5=Y({name:"DuxApp",props:{},setup(){const t=ie(!0);return Ui("pageLoading",t),()=>p(cC,null,{default:()=>[t.value&&p(iT,null,null),p(g5,null,{default:()=>[p(Ig,null,null)]})]})}}),hr=Y({name:"DuxCard",props:{size:{type:String,default:"none"},headerSize:{type:String,default:"medium"},footerSize:{type:String,default:"medium"},contentSize:{type:String,default:"medium"},divide:{type:Boolean,default:!1},headerClass:{type:String,default:""},footerClass:{type:String,default:""},contentClass:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""},bordered:{type:Boolean,default:!1},shadow:{type:Boolean,default:!0},headerBordered:{type:Boolean,default:!1},footerBordered:{type:Boolean,default:!1},type:{type:String,default:"default"}},setup(t,{slots:e}){const n=l=>{switch(l){case"small":return"px-3 py-2";case"large":return"px-6 py-5";case"medium":return"px-4 py-3";case"none":default:return""}},r=V(()=>n(t.size)),i=V(()=>n(t.headerSize)),a=V(()=>n(t.footerSize)),o=V(()=>n(t.contentSize)),s=V(()=>{switch(t.type){case"elevated":return"bg-elevated";case"inverted":return"bg-inverted";default:return"bg-default dark:bg-muted"}});return()=>p("div",{class:["rounded  flex flex-col dark:border dark:border-muted",t.divide&&"divide-y divide-muted",t.shadow&&"shadow-xs",t.bordered&&"border border-muted",s.value,r.value]},[e.header&&p("div",{class:[i.value,t.headerClass,t.headerBordered||t.divide?"border-b border-muted":"pb-0"]},[e.header?.()]),t.title&&p("div",{class:["flex justify-between items-center",i.value,t.headerBordered||t.divide?"border-b border-muted":"pb-0",t.headerClass]},[p("div",{class:"flex flex-col"},[p("div",{class:"text-base"},[t.title]),t.description&&p("div",{class:"text-sm text-muted"},[t.description])]),e.headerExtra?.()]),p("div",{class:["flex-1 min-h-0",(t.title||e.header||e.footer)&&o.value,t.contentClass]},[e.default?.()]),e.footer&&p("div",{class:[a.value,t.footerClass,t.footerBordered&&"border-t border-muted"]},[e.footer?.()])])}}),qo=Y({name:"DuxAvatar",props:{},extends:Il,setup(t){return()=>{const e=`size-${t.size}px rounded-full`,n=p("svg",{viewBox:"0 0 100 100",class:e},[p("circle",{cx:"50",cy:"50",r:"50",fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.1"},null),p("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.65"},[p("circle",{cx:"50",cy:"36",r:"14"},null),p("path",{d:"M 50 54 C 30 54 15 69 15 87 L 15 100 L 85 100 L 85 87 C 85 69 70 54 50 54 Z"},null)]),p("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.3"},[p("circle",{cx:"20",cy:"20",r:"1.5"},[p("animate",{attributeName:"r",values:"1.5;2.5;1.5",dur:"3s",repeatCount:"indefinite"},null)]),p("circle",{cx:"80",cy:"25",r:"1"},[p("animate",{attributeName:"r",values:"1;2;1",dur:"4s",repeatCount:"indefinite"},null)])])]);return t.src?p(Il,kt(t,{src:t.src,renderFallback:()=>Ye(n),renderPlaceholder:()=>Ye(n)}),null):Ye(n)}}}),Po=Y({name:"DuxPlaceholder",props:{width:{type:[Number,String],default:"auto"},height:{type:[Number,String],default:100}},setup(t){return()=>{const e={width:typeof t.width=="number"?`${t.width}px`:t.width,height:typeof t.height=="number"?`${t.height}px`:t.height};return p("svg",{viewBox:"0 0 200 120",style:e},[p("defs",null,[p("linearGradient",{id:"placeholderBg",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[p("stop",{offset:"0%",style:"stop-color:rgb(var(--ui-color-primary));stop-opacity:0.08"},null),p("stop",{offset:"100%",style:"stop-color:rgb(var(--ui-color-primary));stop-opacity:0.03"},null)])]),p("rect",{width:"200",height:"120",fill:"url(#placeholderBg)",rx:"8"},null),p("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.4"},[p("circle",{cx:"60",cy:"40",r:"12"},null),p("path",{d:"M 40 70 L 80 70 L 100 50 L 140 70 L 160 50 L 200 70 L 200 120 L 40 120 Z"},null)]),p("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.25"},[p("circle",{cx:"150",cy:"25",r:"1.5"},[p("animate",{attributeName:"opacity",values:"0.25;0.5;0.25",dur:"3s",repeatCount:"indefinite"},null)]),p("circle",{cx:"170",cy:"35",r:"1"},[p("animate",{attributeName:"opacity",values:"0.2;0.4;0.2",dur:"4s",repeatCount:"indefinite"},null)])]),p("rect",{x:"40",y:"40",width:"120",height:"1",fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.15"},null)])}}}),aT=Y({name:"DuxImage",props:{},extends:aa,setup(t){return()=>{const e=`size-${t.height}px`,n=p("svg",{viewBox:"0 0 100 100",class:e},[p("circle",{cx:"50",cy:"50",r:"50",fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.1"},null),p("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.65"},[p("circle",{cx:"50",cy:"36",r:"14"},null),p("path",{d:"M 50 54 C 30 54 15 69 15 87 L 15 100 L 85 100 L 85 87 C 85 69 70 54 50 54 Z"},null)]),p("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.3"},[p("circle",{cx:"20",cy:"20",r:"1.5"},[p("animate",{attributeName:"r",values:"1.5;2.5;1.5",dur:"3s",repeatCount:"indefinite"},null)]),p("circle",{cx:"80",cy:"25",r:"1"},[p("animate",{attributeName:"r",values:"1;2;1",dur:"4s",repeatCount:"indefinite"},null)])])]);return t.src?p(aa,kt(t,{src:t.src}),{placeholder:()=>p(Po,{width:t.width,height:t.height},null),error:()=>p(Po,{width:t.width,height:t.height},null)}):Ye(n)}}});function oT(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const sc=Y({name:"DuxMedia",props:{title:String,avatar:Boolean,image:[String,Array],desc:[String,Array],extend:String,onClick:Function,imageWidth:{type:Number,default:42},imageHeight:{type:Number,default:42}},setup(t,{slots:e}){const n=V(()=>Array.isArray(t.image)?t.image:t.image?[t.image]:[]),r=V(()=>Array.isArray(t.desc)?t.desc:t.desc?[t.desc]:[]);return()=>{let i;return p("div",{class:"flex gap-2 items-center"},[e?.image&&p("div",{class:"flex-none flex items-center gap-2"},[e?.image?.()]),(t.avatar||n?.value.length>0)&&p("div",{class:"flex-none flex items-center gap-2"},[t.avatar?p(Vt,null,[n.value.length>0?n.value.map((a,o)=>p(qo,{key:o,src:a,round:!0,size:t.imageWidth},null)):p(qo,{round:!0,size:t.imageWidth},null)]):p(Ky,null,oT(i=n.value.map((a,o)=>p(aT,{key:o,src:a,class:"rounded",objectFit:"cover",width:t.imageWidth,height:t.imageHeight},null)))?i:{default:()=>[i]})]),p("div",{class:"flex-1 flex-col gap-2 min-w-0 truncate items-center"},[p("div",{class:"flex gap-2 items-center"},[e.prefix?.(),(t.title||e.default)&&p("div",{onClick:()=>t.onClick?.(),class:xt(["transition-all truncate",t?.onClick&&"hover:text-primary cursor-pointer"])},[t.title||e.default?.()])]),(r?.value.length>0||e.desc)&&p("div",{class:"text-sm text-muted flex flex-col gap-0"},[r?.value.map?.((a,o)=>p("div",{key:o,class:"truncate"},[a])),e.desc?.()])]),t?.extend&&p("div",{class:"flex-none flex items-center gap-2 text-gray-7"},[t?.extend]),e?.extend&&p("div",{class:"flex-none flex items-center gap-2 text-gray-7"},[e?.extend?.()])])}}}),x5=Y({name:"DuxStatsStore",props:{title:String,avatar:String,desc:String},setup(t,{slots:e}){return()=>p(hr,{divide:!0,footerSize:"small"},{header:()=>p("div",{class:"flex gap-2 items-center"},[p(sc,{class:"flex-1",avatar:!0,imageHeight:46,imageWidth:46,image:t.avatar,title:t.title,desc:t.desc},null),p("div",null,[e.extra?.()])]),default:()=>p("div",{class:"flex flex-col"},[e.header?p("div",{class:"flex flex-col bg-muted rounded p-4 text-muted"},[e.header?.()]):null,p("div",{class:"grid grid-cols-[repeat(auto-fit,minmax(100px,1fr))] gap-2 pt-2"},[e.default?.()])]),footer:e.footer})}}),w5=Y({name:"DuxStatsStoreItem",props:{label:String,value:String},setup(t){return()=>p("div",{class:"flex flex-col items-center justify-center"},[p("div",{class:"text-lg font-bold"},[t.value]),p("div",{class:"text-sm text-muted"},[t.label])])}}),_5=Y({name:"DuxCarousel",props:{height:{type:Number,default:200},data:Array},setup(t){return()=>p(uC,{draggable:!0,class:"rounded-sm shadow-sm",style:{height:`${t.height}px`}},{default:()=>[t?.data?.map((e,n)=>p("img",{key:n,class:"w-full object-cover",style:{height:`${t.height}px`},src:typeof e=="string"?e:e.src,onClick:typeof e=="string"?void 0:e?.onClick},null))]})}});var Kh={exports:{}},J1;function sT(){return J1||(J1=1,function(t,e){ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),o=n("./fold_mode").FoldMode,s=r.FoldMode=function(l,c){this.defaultMode=l,this.subModes=c};a.inherits(s,o),(function(){this.$getMode=function(l){typeof l!="string"&&(l=l[0]);for(var c in this.subModes)if(l.indexOf(c)===0)return this.subModes[c];return null},this.$tryMode=function(l,c,u,d){var f=this.$getMode(l);return f?f.getFoldWidget(c,u,d):""},this.getFoldWidget=function(l,c,u){return this.$tryMode(l.getState(u-1),l,c,u)||this.$tryMode(l.getState(u),l,c,u)||this.defaultMode.getFoldWidget(l,c,u)},this.getFoldWidgetRange=function(l,c,u){var d=this.$getMode(l.getState(u-1));return(!d||!d.getFoldWidget(l,c,u))&&(d=this.$getMode(l.getState(u))),(!d||!d.getFoldWidget(l,c,u))&&(d=this.defaultMode),d.getFoldWidgetRange(l,c,u)}}).call(s.prototype)}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(d,f){s.call(this),this.voidElements=d||{},this.optionalEndTags=a.mixin({},this.voidElements),f&&a.mixin(this.optionalEndTags,f)};a.inherits(l,s);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function u(d,f){return d&&d.type&&d.type.lastIndexOf(f+".xml")>-1}(function(){this.getFoldWidget=function(d,f,h){var g=this._getFirstTagInLine(d,h);return g?g.closing||!g.tagName&&g.selfClosing?f==="markbeginend"?"end":"":!g.tagName||g.selfClosing||this.voidElements.hasOwnProperty(g.tagName.toLowerCase())||this._findEndTagInLine(d,h,g.tagName,g.end.column)?"":"start":this.getCommentFoldWidget(d,h)},this.getCommentFoldWidget=function(d,f){return/comment/.test(d.getState(f))&&/<!-/.test(d.getLine(f))?"start":""},this._getFirstTagInLine=function(d,f){for(var h=d.getTokens(f),g=new c,m=0;m<h.length;m++){var v=h[m];if(u(v,"tag-open")){if(g.end.column=g.start.column+v.value.length,g.closing=u(v,"end-tag-open"),v=h[++m],!v)return null;if(g.tagName=v.value,v.value===""){if(v=h[++m],!v)return null;g.tagName=v.value}for(g.end.column+=v.value.length,m++;m<h.length;m++)if(v=h[m],g.end.column+=v.value.length,u(v,"tag-close")){g.selfClosing=v.value=="/>";break}return g}else if(u(v,"tag-close"))return g.selfClosing=v.value=="/>",g;g.start.column+=v.value.length}return null},this._findEndTagInLine=function(d,f,h,g){for(var m=d.getTokens(f),v=0,b=0;b<m.length;b++){var y=m[b];if(v+=y.value.length,!(v<g-1)&&u(y,"end-tag-open")&&(y=m[b+1],u(y,"tag-name")&&y.value===""&&(y=m[b+2]),y&&y.value==h))return!0}return!1},this.getFoldWidgetRange=function(d,f,h){var g=this._getFirstTagInLine(d,h);if(!g)return this.getCommentFoldWidget(d,h)&&d.getCommentFoldRange(h,d.getLine(h).length);var m=d.getMatchingTags({row:h,column:0});if(m)return new o(m.openTag.end.row,m.openTag.end.column,m.closeTag.start.row,m.closeTag.start.column)}}).call(l.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};a.inherits(l,s),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,d){var f=c.getLine(d);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var h=this._getFoldWidgetBase(c,u,d);return!h&&this.startRegionRe.test(f)?"start":h},this.getFoldWidgetRange=function(c,u,d,f){var h=c.getLine(d);if(this.startRegionRe.test(h))return this.getCommentRegionBlock(c,h,d);var v=h.match(this.foldingStartMarker);if(v){var g=v.index;if(v[1])return this.openingBracketBlock(c,v[1],d,g);var m=c.getCommentFoldRange(d,g+v[0].length,1);return m&&!m.isMultiLine()&&(f?m=this.getSectionRange(c,d):u!="all"&&(m=null)),m}if(u!=="markbegin"){var v=h.match(this.foldingStopMarker);if(v){var g=v.index+v[0].length;return v[1]?this.closingBracketBlock(c,v[1],d,g):c.getCommentFoldRange(d,g,-1)}}},this.getSectionRange=function(c,u){var d=c.getLine(u),f=d.search(/\S/),h=u,g=d.length;u=u+1;for(var m=u,v=c.getLength();++u<v;){d=c.getLine(u);var b=d.search(/\S/);if(b!==-1){if(f>b)break;var y=this.getFoldWidgetRange(c,"all",u);if(y){if(y.start.row<=h)break;if(y.isMultiLine())u=y.end.row;else if(f==b)break}m=u}}return new o(h,g,m,c.getLine(m).length)},this.getCommentRegionBlock=function(c,u,d){for(var f=u.search(/\s*$/),h=c.getLength(),g=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,v=1;++d<h;){u=c.getLine(d);var b=m.exec(u);if(b&&(b[1]?v--:v++,!v))break}var y=d;if(y>g)return new o(g,f,y,u.length)}}).call(l.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,r,i){var a=n("../../lib/oop"),o=n("./mixed").FoldMode,s=n("./xml").FoldMode,l=n("./cstyle").FoldMode,c=r.FoldMode=function(u,d){o.call(this,new s(u,d),{"js-":new l,"css-":new l})};a.inherits(c,o)}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(n,r,i){var a=n("../../lib/oop"),o=n("../behaviour").Behaviour,s=n("../../token_iterator").TokenIterator;function l(u,d){return u&&u.type.lastIndexOf(d+".xml")>-1}var c=function(){this.add("string_dquotes","insertion",function(u,d,f,h,g){if(g=='"'||g=="'"){var m=g,v=h.doc.getTextRange(f.getSelectionRange());if(v!==""&&v!=="'"&&v!='"'&&f.getWrapBehavioursEnabled())return{text:m+v+m,selection:!1};var b=f.getCursorPosition(),y=h.doc.getLine(b.row),x=y.substring(b.column,b.column+1),w=new s(h,b.row,b.column),_=w.getCurrentToken();if(x==m&&(l(_,"attribute-value")||l(_,"string")))return{text:"",selection:[1,1]};if(_||(_=w.stepBackward()),!_)return;for(;l(_,"tag-whitespace")||l(_,"whitespace");)_=w.stepBackward();var k=!x||x.match(/\s/);if(l(_,"attribute-equals")&&(k||x==">")||l(_,"decl-attribute-equals")&&(k||x=="?"))return{text:m+m,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(u,d,f,h,g){var m=h.doc.getTextRange(g);if(!g.isMultiLine()&&(m=='"'||m=="'")){var v=h.doc.getLine(g.start.row),b=v.substring(g.start.column+1,g.start.column+2);if(b==m)return g.end.column++,g}}),this.add("autoclosing","insertion",function(u,d,f,h,g){if(g==">"){var m=f.getSelectionRange().start,v=new s(h,m.row,m.column),b=v.getCurrentToken()||v.stepBackward();if(!b||!(l(b,"tag-name")||l(b,"tag-whitespace")||l(b,"attribute-name")||l(b,"attribute-equals")||l(b,"attribute-value"))||l(b,"reference.attribute-value"))return;if(l(b,"attribute-value")){var y=v.getCurrentTokenColumn()+b.value.length;if(m.column<y)return;if(m.column==y){var x=v.stepForward();if(x&&l(x,"attribute-value"))return;v.stepBackward()}}if(/^\s*>/.test(h.getLine(m.row).slice(m.column)))return;for(;!l(b,"tag-name");)if(b=v.stepBackward(),b.value=="<"){b=v.stepForward();break}var w=v.getCurrentTokenRow(),_=v.getCurrentTokenColumn();if(l(v.stepBackward(),"end-tag-open"))return;var k=b.value;return w==m.row&&(k=k.substring(0,m.column-_)),this.voidElements&&this.voidElements.hasOwnProperty(k.toLowerCase())?void 0:{text:"></"+k+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(u,d,f,h,g){if(g==`
`){var m=f.getCursorPosition(),v=h.getLine(m.row),b=new s(h,m.row,m.column),y=b.getCurrentToken();if(l(y,"")&&y.type.indexOf("tag-close")!==-1){if(y.value=="/>")return;for(;y&&y.type.indexOf("tag-name")===-1;)y=b.stepBackward();if(!y)return;var x=y.value,w=b.getCurrentTokenRow();if(y=b.stepBackward(),!y||y.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var _=h.getTokenAt(m.row,m.column+1),v=h.getLine(w),k=this.$getIndent(v),R=k+h.getTabString();return _&&_.value==="</"?{text:`
`+R+`
`+k,selection:[1,R.length,1,R.length]}:{text:`
`+R}}}}})};a.inherits(c,o),r.XmlBehaviour=c}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(n,r,i){var a=n("../token_iterator").TokenIterator,o=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],s=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],l=o.concat(s),c={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},u=Object.keys(c);function d(m,v){return m.type.lastIndexOf(v+".xml")>-1}function f(m,v){for(var b=new a(m,v.row,v.column),y=b.getCurrentToken();y&&!d(y,"tag-name");)y=b.stepBackward();if(y)return y.value}function h(m,v){for(var b=new a(m,v.row,v.column),y=b.getCurrentToken();y&&!d(y,"attribute-name");)y=b.stepBackward();if(y)return y.value}var g=function(){};(function(){this.getCompletions=function(m,v,b,y){var x=v.getTokenAt(b.row,b.column);if(!x)return[];if(d(x,"tag-name")||d(x,"tag-open")||d(x,"end-tag-open"))return this.getTagCompletions(m,v,b,y);if(d(x,"tag-whitespace")||d(x,"attribute-name"))return this.getAttributeCompletions(m,v,b,y);if(d(x,"attribute-value"))return this.getAttributeValueCompletions(m,v,b,y);var w=v.getLine(b.row).substr(0,b.column);return/&[a-z]*$/i.test(w)?this.getHTMLEntityCompletions(m,v,b,y):[]},this.getTagCompletions=function(m,v,b,y){return u.map(function(x){return{value:x,meta:"tag",score:1e6}})},this.getAttributeCompletions=function(m,v,b,y){var x=f(v,b);if(!x)return[];var w=l;return x in c&&(w=w.concat(Object.keys(c[x]))),w.map(function(_){return{caption:_,snippet:_+'="$0"',meta:"attribute",score:1e6}})},this.getAttributeValueCompletions=function(m,v,b,y){var x=f(v,b),w=h(v,b);if(!x)return[];var _=[];return x in c&&w in c[x]&&typeof c[x][w]=="object"&&(_=Object.keys(c[x][w])),_.map(function(k){return{caption:k,snippet:k,meta:"attribute value",score:1e6}})},this.getHTMLEntityCompletions=function(m,v,b,y){var x=["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"];return x.map(function(w){return{caption:w,snippet:w,meta:"html entity",score:1e6}})}}).call(g.prototype),r.HtmlCompletions=g}),ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},s.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};a.inherits(s,o),s.getTagRule=function(l){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},s.getStartRule=function(l){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:l}},s.getEndRule=function(l){return{token:"comment.doc",regex:"\\*\\/",next:l}},r.JsDocCommentHighlightRules=s}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,s=n("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",c=function(f){var h={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},g=this.createKeywordMapper(h,"identifier"),m="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",v="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",b="(function)(\\s*)(\\*?)",y={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(h).join("|")+"\\b)"+l+")(\\s*)(\\()"};this.$rules={no_regex:[o.getStartRule("doc-start"),d("no_regex"),y,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+m+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:g,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[o.getStartRule("doc-start"),d("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[d("function_arguments"),{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:v},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:v},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!f||!f.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,w,_){if(this.next=x=="{"?this.nextState:"",x=="{"&&_.length)_.unshift("start",w);else if(x=="}"&&_.length&&(_.shift(),this.next=_.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:v},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+l+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!f||f.jsx!=!1)&&u.call(this)),this.embedRules(o,"doc-",[o.getEndRule("no_regex")]),this.normalizeRules()};a.inherits(c,s);function u(){var f=l.replace("\\d","\\d\\-"),h={onMatch:function(m,v,b){var y=m.charAt(1)=="/"?2:1;return y==1?(v!=this.nextState?b.unshift(this.next,this.nextState,0):b.unshift(this.next),b[2]++):y==2&&v==this.nextState&&(b[1]--,(!b[1]||b[1]<0)&&(b.shift(),b.shift())),[{type:"meta.tag.punctuation."+(y==1?"":"end-")+"tag-open.xml",value:m.slice(0,y)},{type:"meta.tag.tag-name.xml",value:m.substr(y)}]},regex:"</?(?:"+f+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(h);var g={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[g,h,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(m,v,b){return v==b[0]&&b.shift(),m.length==2&&(b[0]==this.nextState&&b[1]--,(!b[1]||b[1]<0)&&b.splice(0,2)),this.next=b[0]||"start",[{type:this.token,value:m}]},nextState:"jsx"},g,d("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:f},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},h],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function d(f){return[{token:"comment",regex:/\/\*/,next:[o.getTagRule(),{token:"comment",regex:"\\*\\/",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[o.getTagRule(),{token:"comment",regex:"$|^",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}r.JavaScriptHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var a=n("../range").Range,o=function(){};(function(){this.checkOutdent=function(s,l){return/^\s+$/.test(s)?/^\s*\}/.test(l):!1},this.autoOutdent=function(s,l){var c=s.getLine(l),u=c.match(/^(\s*\})/);if(!u)return 0;var d=u[1].length,f=s.findMatchingBracket({row:l,column:d});if(!f||f.row==l)return 0;var h=this.$getIndent(s.getLine(f.row));s.replace(new a(l,0,l,d-1),h)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(o.prototype),r.MatchingBraceOutdent=o}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../token_iterator").TokenIterator,s=n("../behaviour/cstyle").CstyleBehaviour,l=n("../behaviour/xml").XmlBehaviour,c=function(){var u=new l({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(u),this.inherit(s),this.add("autoclosing-fragment","insertion",function(d,f,h,g,m){if(m==">"){var v=h.getSelectionRange().start,b=new o(g,v.row,v.column),y=b.getCurrentToken()||b.stepBackward();if(!y)return;if(y.value=="<")return{text:"></>",selection:[1,1]}}})};a.inherits(c,s),r.JavaScriptBehaviour=c}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,r,i){var a=n("../../lib/oop"),o=n("./xml").FoldMode,s=n("./cstyle").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end))),this.xmlFoldMode=new o};a.inherits(l,s),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,d){var f=this.getFoldWidgetBase(c,u,d);return f||this.xmlFoldMode.getFoldWidget(c,u,d)},this.getFoldWidgetRange=function(c,u,d,f){var h=this.getFoldWidgetRangeBase(c,u,d,f);return h||this.xmlFoldMode.getFoldWidgetRange(c,u,d)}}).call(l.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(n,r,i){var a=n("../lib/oop"),o=n("./text").Mode,s=n("./javascript_highlight_rules").JavaScriptHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("../worker/worker_client").WorkerClient,u=n("./behaviour/javascript").JavaScriptBehaviour,d=n("./folding/javascript").FoldMode,f=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=new u,this.foldingRules=new d};a.inherits(f,o),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(h,g,m){var v=this.$getIndent(g),b=this.getTokenizer().getLineTokens(g,h),y=b.tokens,x=b.state;if(y.length&&y[y.length-1].type=="comment")return v;if(h=="start"||h=="no_regex"){var w=g.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);w&&(v+=m)}else if(h=="doc-start"&&(x=="start"||x=="no_regex"))return"";return v},this.checkOutdent=function(h,g,m){return this.$outdent.checkOutdent(g,m)},this.autoOutdent=function(h,g,m){this.$outdent.autoOutdent(g,m)},this.createWorker=function(h){var g=new c(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return g.attachToDocument(h.getDocument()),g.on("annotate",function(m){h.setAnnotations(m.data)}),g.on("terminate",function(){h.clearAnnotations()}),g},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(f.prototype),r.Mode=f}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop");n("../lib/lang");var o=n("./text_highlight_rules").TextHighlightRules,s=r.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",l=r.supportFunction="rgb|rgba|url|attr|counter|counters",c=r.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",u=r.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",d=r.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",f=r.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",h=r.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",g=r.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",m=function(){var v=this.createKeywordMapper({"support.function":l,"support.constant":c,"support.type":s,"support.constant.color":u,"support.constant.fonts":d},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:f},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+f+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:f},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:g},{include:"url"},{token:v,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{token:"paren.lparen",regex:"\\{"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};a.inherits(m,o),r.CssHighlightRules=m}),ace.define("ace/mode/css_completions",["require","exports","module"],function(n,r,i){var a={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},o=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var s=document.createElement("c").style;for(var l in s)if(typeof s[l]=="string"){var c=l.replace(/[A-Z]/g,function(u){return"-"+u.toLowerCase()});a.hasOwnProperty(c)||(a[c]=1)}}this.completionsDefined=!0},this.getCompletions=function(s,l,c,u){if(this.completionsDefined||this.defineCompletions(),s==="ruleset"||l.$mode.$id=="ace/mode/scss"){var d=l.getLine(c.row).substr(0,c.column),f=/\([^)]*$/.test(d);return f&&(d=d.substr(d.lastIndexOf("(")+1)),/:[^;]+$/.test(d)?this.getPropertyValueCompletions(s,l,c,u):this.getPropertyCompletions(s,l,c,u,f)}return[]},this.getPropertyCompletions=function(s,l,c,u,d){d=d||!1;var f=Object.keys(a);return f.map(function(h){return{caption:h,snippet:h+": $0"+(d?"":";"),meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(s,l,c,u){var d=l.getLine(c.row).substr(0,c.column),f=(/([\w\-]+):[^:]*$/.exec(d)||{})[1];if(!f)return[];var h=[];return f in a&&typeof a[f]=="object"&&(h=Object.keys(a[f])),h.map(function(g){return{caption:g,snippet:g,meta:"property value",score:1e6}})}}).call(o.prototype),r.CssCompletions=o}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(n,r,i){var a=n("../../lib/oop");n("../behaviour").Behaviour;var o=n("./cstyle").CstyleBehaviour,s=n("../../token_iterator").TokenIterator,l=function(){this.inherit(o),this.add("colon","insertion",function(c,u,d,f,h){if(h===":"&&d.selection.isEmpty()){var g=d.getCursorPosition(),m=new s(f,g.row,g.column),v=m.getCurrentToken();if(v&&v.value.match(/\s+/)&&(v=m.stepBackward()),v&&v.type==="support.type"){var b=f.doc.getLine(g.row),y=b.substring(g.column,g.column+1);if(y===":")return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(b.substring(g.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(c,u,d,f,h){var g=f.doc.getTextRange(h);if(!h.isMultiLine()&&g===":"){var m=d.getCursorPosition(),v=new s(f,m.row,m.column),b=v.getCurrentToken();if(b&&b.value.match(/\s+/)&&(b=v.stepBackward()),b&&b.type==="support.type"){var y=f.doc.getLine(h.start.row),x=y.substring(h.end.column,h.end.column+1);if(x===";")return h.end.column++,h}}}),this.add("semicolon","insertion",function(c,u,d,f,h){if(h===";"&&d.selection.isEmpty()){var g=d.getCursorPosition(),m=f.doc.getLine(g.row),v=m.substring(g.column,g.column+1);if(v===";")return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(c,u,d,f,h){if(h==="!"&&d.selection.isEmpty()){var g=d.getCursorPosition(),m=f.doc.getLine(g.row);if(/^\s*(;|}|$)/.test(m.substring(g.column)))return{text:"!important",selection:[10,10]}}})};a.inherits(l,o),r.CssBehaviour=l}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(n,r,i){var a=n("../lib/oop"),o=n("./text").Mode,s=n("./css_highlight_rules").CssHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("../worker/worker_client").WorkerClient,u=n("./css_completions").CssCompletions,d=n("./behaviour/css").CssBehaviour,f=n("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=new d,this.$completer=new u,this.foldingRules=new f};a.inherits(h,o),(function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(g,m,v){var b=this.$getIndent(m),y=this.getTokenizer().getLineTokens(m,g).tokens;if(y.length&&y[y.length-1].type=="comment")return b;var x=m.match(/^.*\{\s*$/);return x&&(b+=v),b},this.checkOutdent=function(g,m,v){return this.$outdent.checkOutdent(m,v)},this.autoOutdent=function(g,m,v){this.$outdent.autoOutdent(m,v)},this.getCompletions=function(g,m,v,b){return this.$completer.getCompletions(g,m,v,b)},this.createWorker=function(g){var m=new c(["ace"],"ace/mode/css_worker","Worker");return m.attachToDocument(g.getDocument()),m.on("annotate",function(v){g.setAnnotations(v.data)}),m.on("terminate",function(){g.clearAnnotations()}),m},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}).call(h.prototype),r.Mode=h}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules,s=function(l){var c="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+c+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:c},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+c+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+c+":)?"+c+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:c},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===s&&this.normalizeRules()};(function(){this.embedTagRules=function(l,c,u){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+u+".tag-name.xml"],regex:"(<)("+u+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:c+"start"}]}),this.$rules[u+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(d,f,h){return h.splice(0),this.token}}],this.embedRules(l,c,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+u+".tag-name.xml"],regex:"(</)("+u+"(?=\\s|>|$))",next:u+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(o.prototype),a.inherits(s,o),r.XmlHighlightRules=s}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("../lib/lang"),s=n("./css_highlight_rules").CssHighlightRules,l=n("./javascript_highlight_rules").JavaScriptHighlightRules,c=n("./xml_highlight_rules").XmlHighlightRules,u=o.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),d=function(){c.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(f,h){var g=u[h];return["meta.tag.punctuation."+(f=="<"?"":"end-")+"tag-open.xml","meta.tag"+(g?"."+g:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(s,"css-","style"),this.embedTagRules(new l({jsx:!1}).getRules(),"js-","script"),this.constructor===d&&this.normalizeRules()};a.inherits(d,c),r.HtmlHighlightRules=d}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(n,r,i){var a=n("../lib/oop"),o=n("../lib/lang"),s=n("./text").Mode,l=n("./javascript").Mode,c=n("./css").Mode,u=n("./html_highlight_rules").HtmlHighlightRules,d=n("./behaviour/xml").XmlBehaviour,f=n("./folding/html").FoldMode,h=n("./html_completions").HtmlCompletions,g=n("../worker/worker_client").WorkerClient,m=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],v=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],b=function(y){this.fragmentContext=y&&y.fragmentContext,this.HighlightRules=u,this.$behaviour=new d,this.$completer=new h,this.createModeDelegates({"js-":l,"css-":c}),this.foldingRules=new f(this.voidElements,o.arrayToMap(v))};a.inherits(b,s),(function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=o.arrayToMap(m),this.getNextLineIndent=function(y,x,w){return this.$getIndent(x)},this.checkOutdent=function(y,x,w){return!1},this.getCompletions=function(y,x,w,_){return this.$completer.getCompletions(y,x,w,_)},this.createWorker=function(y){if(this.constructor==b){var x=new g(["ace"],"ace/mode/html_worker","Worker");return x.attachToDocument(y.getDocument()),this.fragmentContext&&x.call("setOptions",[{context:this.fragmentContext}]),x.on("error",function(w){y.setAnnotations(w.data)}),x.on("terminate",function(){y.clearAnnotations()}),x}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}).call(b.prototype),r.Mode=b}),ace.define("ace/mode/typescript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/javascript_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./javascript_highlight_rules").JavaScriptHighlightRules,s=function(l){var c=[{token:["storage.type","text","entity.name.function.ts"],regex:"(function)(\\s+)([a-zA-Z0-9$_-][a-zA-Z0-9d$_-]*)"},{token:"keyword",regex:"(?:\\b(constructor|declare|interface|as|AS|public|private|extends|export|super|readonly|module|namespace|abstract|implements)\\b)"},{token:["keyword","storage.type.variable.ts"],regex:"(class|type)(\\s+[a-zA-Z0-9_?.$][\\w?.$]*)"},{token:"keyword",regex:"\\b(?:super|export|import|keyof|infer)\\b"},{token:["storage.type.variable.ts"],regex:"(?:\\b(this\\.|string\\b|bool\\b|boolean\\b|number\\b|true\\b|false\\b|undefined\\b|any\\b|null\\b|(?:unique )?symbol\\b|object\\b|never\\b|enum\\b))"}],u=new o({jsx:(l&&l.jsx)==!0}).getRules();u.no_regex=c.concat(u.no_regex),this.$rules=u};a.inherits(s,o),r.TypeScriptHighlightRules=s}),ace.define("ace/mode/coffee_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules;a.inherits(s,o);function s(){var l="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",c="this|throw|then|try|typeof|super|switch|return|break|by|continue|catch|class|in|instanceof|is|isnt|if|else|extends|for|own|finally|function|while|when|new|no|not|delete|debugger|do|loop|of|off|or|on|unless|until|and|yes|yield|export|import|default",u="true|false|null|undefined|NaN|Infinity",d="case|const|function|var|void|with|enum|implements|interface|let|package|private|protected|public|static",f="Array|Boolean|Date|Function|Number|Object|RegExp|ReferenceError|String|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray",h="Math|JSON|isNaN|isFinite|parseInt|parseFloat|encodeURI|encodeURIComponent|decodeURI|decodeURIComponent|String|",g="window|arguments|prototype|document",m=this.createKeywordMapper({keyword:c,"constant.language":u,"invalid.illegal":d,"language.support.class":f,"language.support.function":h,"variable.language":g},"identifier"),v={token:["paren.lparen","variable.parameter","paren.rparen","text","storage.type"],regex:/(?:(\()((?:"[^")]*?"|'[^')]*?'|\/[^\/)]*?\/|[^()"'\/])*?)(\))(\s*))?([\-=]>)/.source},b=/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)/;this.$rules={start:[{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{stateName:"qdoc",token:"string",regex:"'''",next:[{token:"string",regex:"'''",next:"start"},{token:"constant.language.escape",regex:b},{defaultToken:"string"}]},{stateName:"qqdoc",token:"string",regex:'"""',next:[{token:"string",regex:'"""',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:b},{defaultToken:"string"}]},{stateName:"qstring",token:"string",regex:"'",next:[{token:"string",regex:"'",next:"start"},{token:"constant.language.escape",regex:b},{defaultToken:"string"}]},{stateName:"qqstring",token:"string.start",regex:'"',next:[{token:"string.end",regex:'"',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:b},{defaultToken:"string"}]},{stateName:"js",token:"string",regex:"`",next:[{token:"string",regex:"`",next:"start"},{token:"constant.language.escape",regex:b},{defaultToken:"string"}]},{regex:"[{}]",onMatch:function(y,x,w){return this.next="",y=="{"&&w.length?(w.unshift("start",x),"paren"):y=="}"&&w.length&&(w.shift(),this.next=w.shift()||"",this.next.indexOf("string")!=-1)?"paren.string":"paren"}},{token:"string.regex",regex:"///",next:"heregex"},{token:"string.regex",regex:/(?:\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)(?:[imgy]{0,4})(?!\w)/},{token:"comment",regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:["punctuation.operator","text","identifier"],regex:"(\\.)(\\s*)("+d+")"},{token:"punctuation.operator",regex:"\\.{1,3}"},{token:["keyword","text","language.support.class","text","keyword","text","language.support.class"],regex:"(class)(\\s+)("+l+")(?:(\\s+)(extends)(\\s+)("+l+"))?"},{token:["entity.name.function","text","keyword.operator","text"].concat(v.token),regex:"("+l+")(\\s*)([=:])(\\s*)"+v.regex},v,{token:"variable",regex:"@(?:"+l+")?"},{token:m,regex:l},{token:"punctuation.operator",regex:"\\,|\\."},{token:"storage.type",regex:"[\\-=]>"},{token:"keyword.operator",regex:"(?:[-+*/%<>&|^!?=]=|>>>=?|\\-\\-|\\+\\+|::|&&=|\\|\\|=|<<=|>>=|\\?\\.|\\.{2,3}|[!*+-=><])"},{token:"paren.lparen",regex:"[({[]"},{token:"paren.rparen",regex:"[\\]})]"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],comment:[{token:"comment",regex:"###",next:"start"},{defaultToken:"comment"}]},this.normalizeRules()}r.CoffeeHighlightRules=s}),ace.define("ace/mode/stylus_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/css_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules,s=n("./css_highlight_rules"),l=function(){var c=this.createKeywordMapper({"support.type":s.supportType,"support.function":s.supportFunction,"support.constant":s.supportConstant,"support.constant.color":s.supportConstantColor,"support.constant.fonts":s.supportConstantFonts},"text",!0);this.$rules={start:[{token:"comment",regex:/\/\/.*$/},{token:"comment",regex:/\/\*/,next:"comment"},{token:["entity.name.function.stylus","text"],regex:"^([-a-zA-Z_][-\\w]*)?(\\()"},{token:["entity.other.attribute-name.class.stylus"],regex:"\\.-?[_a-zA-Z]+[_a-zA-Z0-9-]*"},{token:["entity.language.stylus"],regex:"^ *&"},{token:["variable.language.stylus"],regex:"(arguments)"},{token:["keyword.stylus"],regex:"@[-\\w]+"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:s.pseudoElements},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:s.pseudoClasses},{token:["entity.name.tag.stylus"],regex:"(?:\\b)(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|eventsource|fieldset|figure|figcaption|footer|form|frame|frameset|(?:h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|label|legend|li|link|map|mark|menu|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|samp|script|section|select|small|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)(?:\\b)"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{6}"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{3}"},{token:["punctuation.definition.entity.stylus","entity.other.attribute-name.id.stylus"],regex:"(#)([a-zA-Z][a-zA-Z0-9_-]*)"},{token:"meta.vendor-prefix.stylus",regex:"-webkit-|-moz\\-|-ms-|-o-"},{token:"keyword.control.stylus",regex:"(?:!important|for|in|return|true|false|null|if|else|unless|return)\\b"},{token:"keyword.operator.stylus",regex:"!|~|\\+|-|(?:\\*)?\\*|\\/|%|(?:\\.)\\.\\.|<|>|(?:=|:|\\?|\\+|-|\\*|\\/|%|<|>)?=|!="},{token:"keyword.operator.stylus",regex:"(?:in|is(?:nt)?|not)\\b"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:s.numRe},{token:"keyword",regex:"(?:ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)\\b"},{token:c,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],qqstring:[{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"}],qstring:[{token:"string",regex:"[^'\\\\]+"},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"}]}};a.inherits(l,o),r.StylusHighlightRules=l}),ace.define("ace/mode/scss_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/css_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("../lib/lang"),s=n("./text_highlight_rules").TextHighlightRules,l=n("./css_highlight_rules"),c=function(){var u=o.arrayToMap(l.supportType.split("|")),d=o.arrayToMap("hsl|hsla|rgb|rgba|url|attr|counter|counters|abs|adjust_color|adjust_hue|alpha|join|blue|ceil|change_color|comparable|complement|darken|desaturate|floor|grayscale|green|hue|if|invert|join|length|lighten|lightness|mix|nth|opacify|opacity|percentage|quote|red|round|saturate|saturation|scale_color|transparentize|type_of|unit|unitless|unquote".split("|")),f=o.arrayToMap(l.supportConstant.split("|")),h=o.arrayToMap(l.supportConstantColor.split("|")),g=o.arrayToMap("@mixin|@extend|@include|@import|@media|@debug|@warn|@if|@for|@each|@while|@else|@font-face|@-webkit-keyframes|if|and|!default|module|def|end|declare".split("|")),m=o.arrayToMap("a|abbr|acronym|address|applet|area|article|aside|audio|b|base|basefont|bdo|big|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|dir|div|dl|dt|em|embed|fieldset|figcaption|figure|font|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|keygen|kbd|label|legend|li|link|map|mark|menu|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|u|ul|var|video|wbr|xmp".split("|")),v="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:v+"(?:ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:"constant.numeric",regex:v},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:function(b){return u.hasOwnProperty(b.toLowerCase())?"support.type":g.hasOwnProperty(b)?"keyword":f.hasOwnProperty(b)?"constant.language":d.hasOwnProperty(b)?"support.function":h.hasOwnProperty(b.toLowerCase())?"support.constant.color":m.hasOwnProperty(b.toLowerCase())?"variable.language":"text"},regex:"\\-?[@a-z_][@a-z0-9_\\-]*"},{token:"variable",regex:"[a-z_\\-$][a-z0-9_\\-$]*\\b"},{token:"variable.language",regex:"#[a-z0-9-_]+"},{token:"variable.language",regex:"\\.[a-z0-9-_]+"},{token:"variable.language",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{token:"keyword.operator",regex:"<|>|<=|>=|==|!=|-|%|#|\\+|\\$|\\+|\\*"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+"}]}};a.inherits(c,s),r.ScssHighlightRules=c}),ace.define("ace/mode/sass_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/scss_highlight_rules"],function(n,r,i){var a=n("../lib/oop");n("../lib/lang");var o=n("./scss_highlight_rules").ScssHighlightRules,s=function(){o.call(this);var l=this.$rules.start;l[1].token=="comment"&&(l.splice(1,1,{onMatch:function(c,u,d){return d.unshift(this.next,-1,c.length-2,u),"comment"},regex:/^\s*\/\*/,next:"comment"},{token:"error.invalid",regex:"/\\*|[{;}]"},{token:"support.type",regex:/^\s*:[\w\-]+\s/}),this.$rules.comment=[{regex:/^\s*/,onMatch:function(c,u,d){return d[1]===-1&&(d[1]=Math.max(d[2],c.length-1)),c.length<=d[1]?(d.shift(),d.shift(),d.shift(),this.next=d.shift(),"text"):(this.next="","comment")},next:"start"},{defaultToken:"comment"}])};a.inherits(s,o),r.SassHighlightRules=s}),ace.define("ace/mode/less_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/css_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules,s=n("./css_highlight_rules"),l=function(){var c="@import|@media|@font-face|@keyframes|@-webkit-keyframes|@supports|@charset|@plugin|@namespace|@document|@page|@viewport|@-ms-viewport|or|and|when|not",u=c.split("|"),d=s.supportType.split("|"),f=this.createKeywordMapper({"support.constant":s.supportConstant,keyword:c,"support.constant.color":s.supportConstantColor,"support.constant.fonts":s.supportConstantFonts},"identifier",!0),h="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+h+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:"constant.numeric",regex:h},{token:["support.function","paren.lparen","string","paren.rparen"],regex:"(url)(\\()(.*)(\\))"},{token:["support.function","paren.lparen"],regex:"(:extend|[a-z0-9_\\-]+)(\\()"},{token:function(g){return u.indexOf(g.toLowerCase())>-1?"keyword":"variable"},regex:"[@\\$][a-z0-9_\\-@\\$]*\\b"},{token:"variable",regex:"[@\\$]\\{[a-z0-9_\\-@\\$]*\\}"},{token:function(g,m){return d.indexOf(g.toLowerCase())>-1?["support.type.property","text"]:["support.type.unknownProperty","text"]},regex:"([a-z0-9-_]+)(\\s*:)"},{token:"keyword",regex:"&"},{token:f,regex:"\\-?[@a-z_][@a-z0-9_\\-]*"},{token:"variable.language",regex:"#[a-z0-9-_]+"},{token:"variable.language",regex:"\\.[a-z0-9-_]+"},{token:"variable.language",regex:":[a-z_][a-z0-9-_]*"},{token:"constant",regex:"[a-z0-9-_]+"},{token:"keyword.operator",regex:"<|>|<=|>=|=|!=|-|%|\\+|\\*"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]},this.normalizeRules()};a.inherits(l,o),r.LessHighlightRules=l}),ace.define("ace/mode/slim_highlight_rules",["require","exports","module","ace/config","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../config").$modes,o=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,l=function(){this.$rules={start:[{token:"keyword",regex:/^(\s*)(\w+):\s*/,onMatch:function(c,u,d,f){var h=/^\s*/.exec(f)[0],g=c.match(/^(\s*)(\w+):/),m=g[2];return/^(javascript|ruby|coffee|markdown|css|scss|sass|less)$/.test(m)||(m=""),d.unshift("language-embed",[],[h,m],u),this.token},stateName:"language-embed",next:[{token:"string",regex:/^(\s*)/,onMatch:function(c,u,d,f){var h=d[2][0];return h.length>=c.length?(d.splice(0,3),this.next=d.shift(),this.token):(this.next="",[{type:"text",value:h}])},next:""},{token:"string",regex:/.+/,onMatch:function(c,u,d,f){var h=d[2][0],g=d[2][1],m=d[1];if(a[g]){var v=a[g].getTokenizer().getLineTokens(f.slice(h.length),m.slice(0));return d[1]=v.state,v.tokens}return this.token}}]},{token:"constant.begin.javascript.filter.slim",regex:"^(\\s*)():$"},{token:"constant.begin..filter.slim",regex:"^(\\s*)(ruby):$"},{token:"constant.begin.coffeescript.filter.slim",regex:"^(\\s*)():$"},{token:"constant.begin..filter.slim",regex:"^(\\s*)(markdown):$"},{token:"constant.begin.css.filter.slim",regex:"^(\\s*)():$"},{token:"constant.begin.scss.filter.slim",regex:"^(\\s*)():$"},{token:"constant.begin..filter.slim",regex:"^(\\s*)(sass):$"},{token:"constant.begin..filter.slim",regex:"^(\\s*)(less):$"},{token:"constant.begin..filter.slim",regex:"^(\\s*)(erb):$"},{token:"keyword.html.tags.slim",regex:"^(\\s*)((:?\\*(\\w)+)|doctype html|abbr|acronym|address|applet|area|article|aside|audio|base|basefont|bdo|big|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|command|datalist|dd|del|details|dialog|dfn|dir|div|dl|dt|embed|fieldset|figure|font|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|keygen|kbd|label|legend|link|li|map|mark|menu|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|source|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video|xmp|b|u|s|em|a)(?:([.#](\\w|\\.)+)+\\s?)?\\b"},{token:"keyword.slim",regex:"^(\\s*)(?:([.#](\\w|\\.)+)+\\s?)"},{token:"string",regex:/^(\s*)('|\||\/|(\/!))\s*/,onMatch:function(c,u,d,f){var h=/^\s*/.exec(f)[0];return d.length<1?d.push(this.next):d[0]="mlString",d.length<2?d.push(h.length):d[1]=h.length,this.token},next:"mlString"},{token:"keyword.control.slim",regex:"^(\\s*)(\\-|==|=)",push:[{token:"control.end.slim",regex:"$",next:"pop"},{include:"rubyline"},{include:"misc"}]},{token:"paren",regex:"\\(",push:[{token:"paren",regex:"\\)",next:"pop"},{include:"misc"}]},{token:"paren",regex:"\\[",push:[{token:"paren",regex:"\\]",next:"pop"},{include:"misc"}]},{include:"misc"}],mlString:[{token:"indent",regex:/^\s*/,onMatch:function(c,u,d){var f=d[1];return f>=c.length?(this.next="start",d.splice(0)):this.next="mlString",this.token},next:"start"},{defaultToken:"string"}],rubyline:[{token:"keyword.operator.ruby.embedded.slim",regex:"(==|=)(<>|><|<'|'<|<|>)?|-"},{token:"list.ruby.operators.slim",regex:"(\\b)(for|in|do|if|else|elsif|unless|while|yield|not|and|or)\\b"},{token:"string",regex:"['](.)*?[']"},{token:"string",regex:'["](.)*?["]'}],misc:[{token:"class.variable.slim",regex:"\\@([a-zA-Z_][a-zA-Z0-9_]*)\\b"},{token:"list.meta.slim",regex:"(\\b)(true|false|nil)(\\b)"},{token:"keyword.operator.equals.slim",regex:"="},{token:"string",regex:"['](.)*?[']"},{token:"string",regex:'["](.)*?["]'}]},this.normalizeRules()};o.inherits(l,s),r.SlimHighlightRules=l}),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/config","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/html_highlight_rules"],function(n,r,i){var a=n("../config").$modes,o=n("../lib/oop"),s=n("../lib/lang"),l=n("./text_highlight_rules").TextHighlightRules,c=n("./html_highlight_rules").HtmlHighlightRules,u=function(f){return"(?:[^"+s.escapeRegExp(f)+"\\\\]|\\\\.)*"},d=function(){c.call(this);var f={token:"support.function",regex:/^\s*(```+[^`]*|~~~+[^~]*)$/,onMatch:function(g,m,v,b){var y=g.match(/^(\s*)([`~]+)(.*)/),x=/[\w-]+|$/.exec(y[3])[0];return a[x]||(x=""),v.unshift("githubblock",[],[y[1],y[2],x],m),this.token},next:"githubblock"},h=[{token:"support.function",regex:".*",onMatch:function(g,m,v,b){var y=v[1],x=v[2][0],w=v[2][1],_=v[2][2],k=/^(\s*)(`+|~+)\s*$/.exec(g);if(k&&k[1].length<x.length+3&&k[2].length>=w.length&&k[2][0]==w[0])return v.splice(0,3),this.next=v.shift(),this.token;if(this.next="",_&&a[_]){var R=a[_].getTokenizer().getLineTokens(g,y.slice(0));return v[1]=R.state,R.tokens}return this.token}}];this.$rules.start.unshift({token:"empty_line",regex:"^$",next:"allowBlock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(g){return"markup.heading."+g.length},regex:/^#{1,6}(?=\s|$)/,next:"header"},f,{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"constant",regex:"^ {0,3}(?:(?:\\* ?){3,}|(?:\\- ?){3,}|(?:\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}),this.addRules({basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:"support.function",regex:"(`+)(.*?[^`])(\\1)"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)("+u("]")+")(\\]\\s*\\[)("+u("]")+")(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:"(\\!?\\[)("+u("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+u('"')+'"\\s*)?(\\))'},{token:"string.strong",regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:"string.emphasis",regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:`(<)((?:https?|ftp|dict):[^'">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)`}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty_line",regex:"^$",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"support.variable",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},f,{defaultToken:"list"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:h}),this.normalizeRules()};o.inherits(d,l),r.MarkdownHighlightRules=d}),ace.define("ace/mode/jade_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/markdown_highlight_rules","ace/mode/scss_highlight_rules","ace/mode/less_highlight_rules","ace/mode/coffee_highlight_rules","ace/mode/javascript_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules;n("./markdown_highlight_rules").MarkdownHighlightRules,n("./scss_highlight_rules").ScssHighlightRules,n("./less_highlight_rules").LessHighlightRules,n("./coffee_highlight_rules").CoffeeHighlightRules;var s=n("./javascript_highlight_rules").JavaScriptHighlightRules;function l(u,d){return{token:"entity.name.function.jade",regex:"^\\s*\\:"+u,next:d+"start"}}var c=function(){var u="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={start:[{token:"keyword.control.import.include.jade",regex:"\\s*\\binclude\\b"},{token:"keyword.other.doctype.jade",regex:"^!!!\\s*(?:[a-zA-Z0-9-_]+)?"},{onMatch:function(d,f,h){return h.unshift(this.next,d.length-2,f),"comment"},regex:/^\s*\/\//,next:"comment_block"},l("markdown","markdown-"),l("sass","sass-"),l("less","less-"),l("coffee","coffee-"),{token:["storage.type.function.jade","entity.name.function.jade","punctuation.definition.parameters.begin.jade","variable.parameter.function.jade","punctuation.definition.parameters.end.jade"],regex:"^(\\s*mixin)( [\\w\\-]+)(\\s*\\()(.*?)(\\))"},{token:["storage.type.function.jade","entity.name.function.jade"],regex:"^(\\s*mixin)( [\\w\\-]+)"},{token:"source.js.embedded.jade",regex:"^\\s*(?:-|=|!=)",next:"js-start"},{token:"string.interpolated.jade",regex:"[#!]\\{[^\\}]+\\}"},{token:"meta.tag.any.jade",regex:/^\s*(?!\w+:)(?:[\w-]+|(?=\.|#)])/,next:"tag_single"},{token:"suport.type.attribute.id.jade",regex:"#\\w+"},{token:"suport.type.attribute.class.jade",regex:"\\.\\w+"},{token:"punctuation",regex:"\\s*(?:\\()",next:"tag_attributes"}],comment_block:[{regex:/^\s*(?:\/\/)?/,onMatch:function(d,f,h){return d.length<=h[1]?d.slice(-1)=="/"?(h[1]=d.length-2,this.next="","comment"):(h.shift(),h.shift(),this.next=h.shift(),"text"):(this.next="","comment")},next:"start"},{defaultToken:"comment"}],tag_single:[{token:"entity.other.attribute-name.class.jade",regex:"\\.[\\w-]+"},{token:"entity.other.attribute-name.id.jade",regex:"#[\\w-]+"},{token:["text","punctuation"],regex:"($)|((?!\\.|#|=|-))",next:"start"}],tag_attributes:[{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:["entity.other.attribute-name.jade","punctuation"],regex:"([a-zA-Z:\\.-]+)(=)?",next:"attribute_strings"},{token:"punctuation",regex:"\\)",next:"start"}],attribute_strings:[{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"string",regex:"(?=\\S)",next:"tag_attributes"}],qqstring:[{token:"constant.language.escape",regex:u},{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"tag_attributes"}],qstring:[{token:"constant.language.escape",regex:u},{token:"string",regex:"[^'\\\\]+"},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"tag_attributes"}]},this.embedRules(s,"js-",[{token:"text",regex:".$",next:"start"}])};a.inherits(c,o),r.JadeHighlightRules=c}),ace.define("ace/mode/vue_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/css_highlight_rules","ace/mode/typescript_highlight_rules","ace/mode/coffee_highlight_rules","ace/mode/html_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/stylus_highlight_rules","ace/mode/sass_highlight_rules","ace/mode/scss_highlight_rules","ace/mode/less_highlight_rules","ace/tokenizer","ace/mode/slim_highlight_rules","ace/mode/jade_highlight_rules","ace/mode/javascript"],function(n,r,i){var a=this&&this.__read||function(k,R){var A=typeof Symbol=="function"&&k[Symbol.iterator];if(!A)return k;var T=A.call(k),O,M=[],$;try{for(;(R===void 0||R-- >0)&&!(O=T.next()).done;)M.push(O.value)}catch(C){$={error:C}}finally{try{O&&!O.done&&(A=T.return)&&A.call(T)}finally{if($)throw $.error}}return M},o=this&&this.__spreadArray||function(k,R,A){if(A||arguments.length===2)for(var T=0,O=R.length,M;T<O;T++)(M||!(T in R))&&(M||(M=Array.prototype.slice.call(R,0,T)),M[T]=R[T]);return k.concat(M||Array.prototype.slice.call(R))},s=n("../lib/oop"),l=n("./css_highlight_rules").CssHighlightRules,c=n("./typescript_highlight_rules").TypeScriptHighlightRules,u=n("./coffee_highlight_rules").CoffeeHighlightRules,d=n("./html_highlight_rules").HtmlHighlightRules,f=n("./javascript_highlight_rules").JavaScriptHighlightRules,h=n("./stylus_highlight_rules").StylusHighlightRules,g=n("./sass_highlight_rules").SassHighlightRules,m=n("./scss_highlight_rules").ScssHighlightRules,v=n("./less_highlight_rules").LessHighlightRules,b=n("../tokenizer").Tokenizer,y=n("./slim_highlight_rules").SlimHighlightRules,x=n("./jade_highlight_rules").JadeHighlightRules,w=n("./javascript").Mode,_=function(k){this.embedLangRules=function(O,M,$,C){var E=C?"(?=[^>]*"+C+`\\s*=\\s*['"]`+$+`['"]))`:"(?=\\s|>|$))";this.$rules.start.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+M+".tag-name.xml"],regex:"(<)("+M+E,next:[{token:"meta.tag.punctuation.tag-close."+M+".xml",regex:"/?>",next:$+"-start"},{include:"attributes"}]}),this.$rules[M+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(S,F,D){return D.splice(0),this.token}}],this.embedRules(O,$+"-",[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+M+".tag-name.xml"],regex:"(</)("+M+"(?=\\s|>|$))",next:M+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])};var R=[{include:"vue-interpolations"}],A=new d().getRules();A.start=R.concat(A.start),A["vue-interpolations"]=[{token:"punctuation",regex:/\{\{\{?/,next:"js-interpolation-start"}];var T=this;A.tag_stuff.unshift({token:"string",regex:/(?:\b(v-)|(:|@))(\[?[a-zA-Z\-.]+\]?)(?:(\:\[?[a-zA-Z\-]+\]?))?((?:\.[a-zA-Z\-]+)*)(\s*)(=)(\s*)(["'])/,onMatch:function(O,M,$){var C=O[O.length-1];$.unshift(C,M);var E=new RegExp(this.regex).exec(O);if(!E)return"text";for(var S=[],F=["entity.other.attribute-name.xml","punctuation.separator.key-value.xml","entity.other.attribute-name.xml","entity.other.attribute-name.xml","entity.other.attribute-name.xml","text","punctuation.separator.key-value.xml","text","string"],D=0,P=F.length;D<P;D++)E[D+1]&&(S[S.length]={type:F[D],value:E[D+1]});return S},next:[{token:"string",regex:/$/,next:"tag_stuff"},{token:"string",regex:/.*/,onMatch:function(O,M,$,C){var E=$[0],S=O.split(E),F=S[0];if(this.next="",S.length>1){$.shift();var D=$.shift(),P=new b(T.$rules).getLineTokens(S.slice(1).join(E),D);P.tokens.unshift({type:"string",value:E}),this.next=Array.isArray(P.state)?P.state[P.state.length-1]:P.state}var L=new w().getTokenizer().getLineTokens(F,"start"),N=L.tokens;return P&&N.push.apply(N,o([],a(P.tokens),!1)),N}}]},{token:"string",regex:'"',next:[{token:"string",regex:'"|$',next:"tag_stuff"},{include:"vue-interpolations"},{defaultToken:"string"}]},{token:"string",regex:"'",next:[{token:"string",regex:"'|$",next:"tag_stuff"},{include:"vue-interpolations"},{defaultToken:"string"}]}),this.$rules=A,this.embedRules(f,"js-interpolation-",[{token:"punctuation",regex:/\}\}\}?/,next:"start"}]),this.embedLangRules(l,"style","css"),this.embedLangRules(h,"style","stylus","lang"),this.embedLangRules(g,"style","sass","lang"),this.embedLangRules(m,"style","scss","lang"),this.embedLangRules(v,"style","less","lang"),this.embedLangRules(c,"script","ts","lang"),this.embedLangRules(u,"script","coffee","lang"),this.embedLangRules(y,"template","slm","lang"),this.embedLangRules(x,"template","jade","lang"),this.embedLangRules(h,"template","stylus","lang"),this.normalizeRules()};s.inherits(_,d),r.VueHighlightRules=_}),ace.define("ace/mode/vue",["require","exports","module","ace/lib/oop","ace/mode/folding/html","ace/lib/lang","ace/mode/behaviour/xml","ace/mode/html_completions","ace/mode/html","ace/mode/vue_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./folding/html").FoldMode,s=n("../lib/lang"),l=n("./behaviour/xml").XmlBehaviour,c=n("./html_completions").HtmlCompletions,u=n("./html").Mode,d=n("./vue_highlight_rules").VueHighlightRules,f=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],h=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],g=function(){this.HighlightRules=d,this.foldingRules=new o(this.voidElements,s.arrayToMap(h)),this.$behaviour=new l,this.$completer=new c};a.inherits(g,u),(function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=s.arrayToMap(f),this.getCompletions=function(m,v,b,y){return this.$completer.getCompletions(m,v,b,y)},this.$id="ace/mode/vue"}).call(g.prototype),r.Mode=g}),function(){ace.require(["ace/mode/vue"],function(n){t&&(t.exports=n)})}()}(Kh)),Kh.exports}sT();var Zh={exports:{}},Q1;function lT(){return Q1||(Q1=1,function(t,e){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},s.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};a.inherits(s,o),s.getTagRule=function(l){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},s.getStartRule=function(l){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:l}},s.getEndRule=function(l){return{token:"comment.doc",regex:"\\*\\/",next:l}},r.JsDocCommentHighlightRules=s}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,s=n("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",c=function(f){var h={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},g=this.createKeywordMapper(h,"identifier"),m="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",v="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",b="(function)(\\s*)(\\*?)",y={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(h).join("|")+"\\b)"+l+")(\\s*)(\\()"};this.$rules={no_regex:[o.getStartRule("doc-start"),d("no_regex"),y,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+m+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:g,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[o.getStartRule("doc-start"),d("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[d("function_arguments"),{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:v},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:v},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!f||!f.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,w,_){if(this.next=x=="{"?this.nextState:"",x=="{"&&_.length)_.unshift("start",w);else if(x=="}"&&_.length&&(_.shift(),this.next=_.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:v},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+l+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!f||f.jsx!=!1)&&u.call(this)),this.embedRules(o,"doc-",[o.getEndRule("no_regex")]),this.normalizeRules()};a.inherits(c,s);function u(){var f=l.replace("\\d","\\d\\-"),h={onMatch:function(m,v,b){var y=m.charAt(1)=="/"?2:1;return y==1?(v!=this.nextState?b.unshift(this.next,this.nextState,0):b.unshift(this.next),b[2]++):y==2&&v==this.nextState&&(b[1]--,(!b[1]||b[1]<0)&&(b.shift(),b.shift())),[{type:"meta.tag.punctuation."+(y==1?"":"end-")+"tag-open.xml",value:m.slice(0,y)},{type:"meta.tag.tag-name.xml",value:m.substr(y)}]},regex:"</?(?:"+f+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(h);var g={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[g,h,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(m,v,b){return v==b[0]&&b.shift(),m.length==2&&(b[0]==this.nextState&&b[1]--,(!b[1]||b[1]<0)&&b.splice(0,2)),this.next=b[0]||"start",[{type:this.token,value:m}]},nextState:"jsx"},g,d("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:f},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},h],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function d(f){return[{token:"comment",regex:/\/\*/,next:[o.getTagRule(),{token:"comment",regex:"\\*\\/",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[o.getTagRule(),{token:"comment",regex:"$|^",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}r.JavaScriptHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var a=n("../range").Range,o=function(){};(function(){this.checkOutdent=function(s,l){return/^\s+$/.test(s)?/^\s*\}/.test(l):!1},this.autoOutdent=function(s,l){var c=s.getLine(l),u=c.match(/^(\s*\})/);if(!u)return 0;var d=u[1].length,f=s.findMatchingBracket({row:l,column:d});if(!f||f.row==l)return 0;var h=this.$getIndent(s.getLine(f.row));s.replace(new a(l,0,l,d-1),h)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(o.prototype),r.MatchingBraceOutdent=o}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(n,r,i){var a=n("../../lib/oop"),o=n("../behaviour").Behaviour,s=n("../../token_iterator").TokenIterator;function l(u,d){return u&&u.type.lastIndexOf(d+".xml")>-1}var c=function(){this.add("string_dquotes","insertion",function(u,d,f,h,g){if(g=='"'||g=="'"){var m=g,v=h.doc.getTextRange(f.getSelectionRange());if(v!==""&&v!=="'"&&v!='"'&&f.getWrapBehavioursEnabled())return{text:m+v+m,selection:!1};var b=f.getCursorPosition(),y=h.doc.getLine(b.row),x=y.substring(b.column,b.column+1),w=new s(h,b.row,b.column),_=w.getCurrentToken();if(x==m&&(l(_,"attribute-value")||l(_,"string")))return{text:"",selection:[1,1]};if(_||(_=w.stepBackward()),!_)return;for(;l(_,"tag-whitespace")||l(_,"whitespace");)_=w.stepBackward();var k=!x||x.match(/\s/);if(l(_,"attribute-equals")&&(k||x==">")||l(_,"decl-attribute-equals")&&(k||x=="?"))return{text:m+m,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(u,d,f,h,g){var m=h.doc.getTextRange(g);if(!g.isMultiLine()&&(m=='"'||m=="'")){var v=h.doc.getLine(g.start.row),b=v.substring(g.start.column+1,g.start.column+2);if(b==m)return g.end.column++,g}}),this.add("autoclosing","insertion",function(u,d,f,h,g){if(g==">"){var m=f.getSelectionRange().start,v=new s(h,m.row,m.column),b=v.getCurrentToken()||v.stepBackward();if(!b||!(l(b,"tag-name")||l(b,"tag-whitespace")||l(b,"attribute-name")||l(b,"attribute-equals")||l(b,"attribute-value"))||l(b,"reference.attribute-value"))return;if(l(b,"attribute-value")){var y=v.getCurrentTokenColumn()+b.value.length;if(m.column<y)return;if(m.column==y){var x=v.stepForward();if(x&&l(x,"attribute-value"))return;v.stepBackward()}}if(/^\s*>/.test(h.getLine(m.row).slice(m.column)))return;for(;!l(b,"tag-name");)if(b=v.stepBackward(),b.value=="<"){b=v.stepForward();break}var w=v.getCurrentTokenRow(),_=v.getCurrentTokenColumn();if(l(v.stepBackward(),"end-tag-open"))return;var k=b.value;return w==m.row&&(k=k.substring(0,m.column-_)),this.voidElements&&this.voidElements.hasOwnProperty(k.toLowerCase())?void 0:{text:"></"+k+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(u,d,f,h,g){if(g==`
`){var m=f.getCursorPosition(),v=h.getLine(m.row),b=new s(h,m.row,m.column),y=b.getCurrentToken();if(l(y,"")&&y.type.indexOf("tag-close")!==-1){if(y.value=="/>")return;for(;y&&y.type.indexOf("tag-name")===-1;)y=b.stepBackward();if(!y)return;var x=y.value,w=b.getCurrentTokenRow();if(y=b.stepBackward(),!y||y.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var _=h.getTokenAt(m.row,m.column+1),v=h.getLine(w),k=this.$getIndent(v),R=k+h.getTabString();return _&&_.value==="</"?{text:`
`+R+`
`+k,selection:[1,R.length,1,R.length]}:{text:`
`+R}}}}})};a.inherits(c,o),r.XmlBehaviour=c}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../token_iterator").TokenIterator,s=n("../behaviour/cstyle").CstyleBehaviour,l=n("../behaviour/xml").XmlBehaviour,c=function(){var u=new l({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(u),this.inherit(s),this.add("autoclosing-fragment","insertion",function(d,f,h,g,m){if(m==">"){var v=h.getSelectionRange().start,b=new o(g,v.row,v.column),y=b.getCurrentToken()||b.stepBackward();if(!y)return;if(y.value=="<")return{text:"></>",selection:[1,1]}}})};a.inherits(c,s),r.JavaScriptBehaviour=c}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(d,f){s.call(this),this.voidElements=d||{},this.optionalEndTags=a.mixin({},this.voidElements),f&&a.mixin(this.optionalEndTags,f)};a.inherits(l,s);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function u(d,f){return d&&d.type&&d.type.lastIndexOf(f+".xml")>-1}(function(){this.getFoldWidget=function(d,f,h){var g=this._getFirstTagInLine(d,h);return g?g.closing||!g.tagName&&g.selfClosing?f==="markbeginend"?"end":"":!g.tagName||g.selfClosing||this.voidElements.hasOwnProperty(g.tagName.toLowerCase())||this._findEndTagInLine(d,h,g.tagName,g.end.column)?"":"start":this.getCommentFoldWidget(d,h)},this.getCommentFoldWidget=function(d,f){return/comment/.test(d.getState(f))&&/<!-/.test(d.getLine(f))?"start":""},this._getFirstTagInLine=function(d,f){for(var h=d.getTokens(f),g=new c,m=0;m<h.length;m++){var v=h[m];if(u(v,"tag-open")){if(g.end.column=g.start.column+v.value.length,g.closing=u(v,"end-tag-open"),v=h[++m],!v)return null;if(g.tagName=v.value,v.value===""){if(v=h[++m],!v)return null;g.tagName=v.value}for(g.end.column+=v.value.length,m++;m<h.length;m++)if(v=h[m],g.end.column+=v.value.length,u(v,"tag-close")){g.selfClosing=v.value=="/>";break}return g}else if(u(v,"tag-close"))return g.selfClosing=v.value=="/>",g;g.start.column+=v.value.length}return null},this._findEndTagInLine=function(d,f,h,g){for(var m=d.getTokens(f),v=0,b=0;b<m.length;b++){var y=m[b];if(v+=y.value.length,!(v<g-1)&&u(y,"end-tag-open")&&(y=m[b+1],u(y,"tag-name")&&y.value===""&&(y=m[b+2]),y&&y.value==h))return!0}return!1},this.getFoldWidgetRange=function(d,f,h){var g=this._getFirstTagInLine(d,h);if(!g)return this.getCommentFoldWidget(d,h)&&d.getCommentFoldRange(h,d.getLine(h).length);var m=d.getMatchingTags({row:h,column:0});if(m)return new o(m.openTag.end.row,m.openTag.end.column,m.closeTag.start.row,m.closeTag.start.column)}}).call(l.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};a.inherits(l,s),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,d){var f=c.getLine(d);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var h=this._getFoldWidgetBase(c,u,d);return!h&&this.startRegionRe.test(f)?"start":h},this.getFoldWidgetRange=function(c,u,d,f){var h=c.getLine(d);if(this.startRegionRe.test(h))return this.getCommentRegionBlock(c,h,d);var v=h.match(this.foldingStartMarker);if(v){var g=v.index;if(v[1])return this.openingBracketBlock(c,v[1],d,g);var m=c.getCommentFoldRange(d,g+v[0].length,1);return m&&!m.isMultiLine()&&(f?m=this.getSectionRange(c,d):u!="all"&&(m=null)),m}if(u!=="markbegin"){var v=h.match(this.foldingStopMarker);if(v){var g=v.index+v[0].length;return v[1]?this.closingBracketBlock(c,v[1],d,g):c.getCommentFoldRange(d,g,-1)}}},this.getSectionRange=function(c,u){var d=c.getLine(u),f=d.search(/\S/),h=u,g=d.length;u=u+1;for(var m=u,v=c.getLength();++u<v;){d=c.getLine(u);var b=d.search(/\S/);if(b!==-1){if(f>b)break;var y=this.getFoldWidgetRange(c,"all",u);if(y){if(y.start.row<=h)break;if(y.isMultiLine())u=y.end.row;else if(f==b)break}m=u}}return new o(h,g,m,c.getLine(m).length)},this.getCommentRegionBlock=function(c,u,d){for(var f=u.search(/\s*$/),h=c.getLength(),g=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,v=1;++d<h;){u=c.getLine(d);var b=m.exec(u);if(b&&(b[1]?v--:v++,!v))break}var y=d;if(y>g)return new o(g,f,y,u.length)}}).call(l.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,r,i){var a=n("../../lib/oop"),o=n("./xml").FoldMode,s=n("./cstyle").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end))),this.xmlFoldMode=new o};a.inherits(l,s),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,d){var f=this.getFoldWidgetBase(c,u,d);return f||this.xmlFoldMode.getFoldWidget(c,u,d)},this.getFoldWidgetRange=function(c,u,d,f){var h=this.getFoldWidgetRangeBase(c,u,d,f);return h||this.xmlFoldMode.getFoldWidgetRange(c,u,d)}}).call(l.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(n,r,i){var a=n("../lib/oop"),o=n("./text").Mode,s=n("./javascript_highlight_rules").JavaScriptHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("../worker/worker_client").WorkerClient,u=n("./behaviour/javascript").JavaScriptBehaviour,d=n("./folding/javascript").FoldMode,f=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=new u,this.foldingRules=new d};a.inherits(f,o),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(h,g,m){var v=this.$getIndent(g),b=this.getTokenizer().getLineTokens(g,h),y=b.tokens,x=b.state;if(y.length&&y[y.length-1].type=="comment")return v;if(h=="start"||h=="no_regex"){var w=g.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);w&&(v+=m)}else if(h=="doc-start"&&(x=="start"||x=="no_regex"))return"";return v},this.checkOutdent=function(h,g,m){return this.$outdent.checkOutdent(g,m)},this.autoOutdent=function(h,g,m){this.$outdent.autoOutdent(g,m)},this.createWorker=function(h){var g=new c(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return g.attachToDocument(h.getDocument()),g.on("annotate",function(m){h.setAnnotations(m.data)}),g.on("terminate",function(){h.clearAnnotations()}),g},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(f.prototype),r.Mode=f}),function(){ace.require(["ace/mode/javascript"],function(n){t&&(t.exports=n)})}()}(Zh)),Zh.exports}lT();var Jh={exports:{}},ev;function cT(){return ev||(ev=1,function(t,e){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},s.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};a.inherits(s,o),s.getTagRule=function(l){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},s.getStartRule=function(l){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:l}},s.getEndRule=function(l){return{token:"comment.doc",regex:"\\*\\/",next:l}},r.JsDocCommentHighlightRules=s}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,s=n("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",c=function(f){var h={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},g=this.createKeywordMapper(h,"identifier"),m="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",v="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",b="(function)(\\s*)(\\*?)",y={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(h).join("|")+"\\b)"+l+")(\\s*)(\\()"};this.$rules={no_regex:[o.getStartRule("doc-start"),d("no_regex"),y,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+m+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:g,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[o.getStartRule("doc-start"),d("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[d("function_arguments"),{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:v},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:v},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!f||!f.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,w,_){if(this.next=x=="{"?this.nextState:"",x=="{"&&_.length)_.unshift("start",w);else if(x=="}"&&_.length&&(_.shift(),this.next=_.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:v},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+l+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!f||f.jsx!=!1)&&u.call(this)),this.embedRules(o,"doc-",[o.getEndRule("no_regex")]),this.normalizeRules()};a.inherits(c,s);function u(){var f=l.replace("\\d","\\d\\-"),h={onMatch:function(m,v,b){var y=m.charAt(1)=="/"?2:1;return y==1?(v!=this.nextState?b.unshift(this.next,this.nextState,0):b.unshift(this.next),b[2]++):y==2&&v==this.nextState&&(b[1]--,(!b[1]||b[1]<0)&&(b.shift(),b.shift())),[{type:"meta.tag.punctuation."+(y==1?"":"end-")+"tag-open.xml",value:m.slice(0,y)},{type:"meta.tag.tag-name.xml",value:m.substr(y)}]},regex:"</?(?:"+f+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(h);var g={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[g,h,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(m,v,b){return v==b[0]&&b.shift(),m.length==2&&(b[0]==this.nextState&&b[1]--,(!b[1]||b[1]<0)&&b.splice(0,2)),this.next=b[0]||"start",[{type:this.token,value:m}]},nextState:"jsx"},g,d("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:f},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},h],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function d(f){return[{token:"comment",regex:/\/\*/,next:[o.getTagRule(),{token:"comment",regex:"\\*\\/",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[o.getTagRule(),{token:"comment",regex:"$|^",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}r.JavaScriptHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var a=n("../range").Range,o=function(){};(function(){this.checkOutdent=function(s,l){return/^\s+$/.test(s)?/^\s*\}/.test(l):!1},this.autoOutdent=function(s,l){var c=s.getLine(l),u=c.match(/^(\s*\})/);if(!u)return 0;var d=u[1].length,f=s.findMatchingBracket({row:l,column:d});if(!f||f.row==l)return 0;var h=this.$getIndent(s.getLine(f.row));s.replace(new a(l,0,l,d-1),h)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(o.prototype),r.MatchingBraceOutdent=o}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(n,r,i){var a=n("../../lib/oop"),o=n("../behaviour").Behaviour,s=n("../../token_iterator").TokenIterator;function l(u,d){return u&&u.type.lastIndexOf(d+".xml")>-1}var c=function(){this.add("string_dquotes","insertion",function(u,d,f,h,g){if(g=='"'||g=="'"){var m=g,v=h.doc.getTextRange(f.getSelectionRange());if(v!==""&&v!=="'"&&v!='"'&&f.getWrapBehavioursEnabled())return{text:m+v+m,selection:!1};var b=f.getCursorPosition(),y=h.doc.getLine(b.row),x=y.substring(b.column,b.column+1),w=new s(h,b.row,b.column),_=w.getCurrentToken();if(x==m&&(l(_,"attribute-value")||l(_,"string")))return{text:"",selection:[1,1]};if(_||(_=w.stepBackward()),!_)return;for(;l(_,"tag-whitespace")||l(_,"whitespace");)_=w.stepBackward();var k=!x||x.match(/\s/);if(l(_,"attribute-equals")&&(k||x==">")||l(_,"decl-attribute-equals")&&(k||x=="?"))return{text:m+m,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(u,d,f,h,g){var m=h.doc.getTextRange(g);if(!g.isMultiLine()&&(m=='"'||m=="'")){var v=h.doc.getLine(g.start.row),b=v.substring(g.start.column+1,g.start.column+2);if(b==m)return g.end.column++,g}}),this.add("autoclosing","insertion",function(u,d,f,h,g){if(g==">"){var m=f.getSelectionRange().start,v=new s(h,m.row,m.column),b=v.getCurrentToken()||v.stepBackward();if(!b||!(l(b,"tag-name")||l(b,"tag-whitespace")||l(b,"attribute-name")||l(b,"attribute-equals")||l(b,"attribute-value"))||l(b,"reference.attribute-value"))return;if(l(b,"attribute-value")){var y=v.getCurrentTokenColumn()+b.value.length;if(m.column<y)return;if(m.column==y){var x=v.stepForward();if(x&&l(x,"attribute-value"))return;v.stepBackward()}}if(/^\s*>/.test(h.getLine(m.row).slice(m.column)))return;for(;!l(b,"tag-name");)if(b=v.stepBackward(),b.value=="<"){b=v.stepForward();break}var w=v.getCurrentTokenRow(),_=v.getCurrentTokenColumn();if(l(v.stepBackward(),"end-tag-open"))return;var k=b.value;return w==m.row&&(k=k.substring(0,m.column-_)),this.voidElements&&this.voidElements.hasOwnProperty(k.toLowerCase())?void 0:{text:"></"+k+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(u,d,f,h,g){if(g==`
`){var m=f.getCursorPosition(),v=h.getLine(m.row),b=new s(h,m.row,m.column),y=b.getCurrentToken();if(l(y,"")&&y.type.indexOf("tag-close")!==-1){if(y.value=="/>")return;for(;y&&y.type.indexOf("tag-name")===-1;)y=b.stepBackward();if(!y)return;var x=y.value,w=b.getCurrentTokenRow();if(y=b.stepBackward(),!y||y.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var _=h.getTokenAt(m.row,m.column+1),v=h.getLine(w),k=this.$getIndent(v),R=k+h.getTabString();return _&&_.value==="</"?{text:`
`+R+`
`+k,selection:[1,R.length,1,R.length]}:{text:`
`+R}}}}})};a.inherits(c,o),r.XmlBehaviour=c}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../token_iterator").TokenIterator,s=n("../behaviour/cstyle").CstyleBehaviour,l=n("../behaviour/xml").XmlBehaviour,c=function(){var u=new l({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(u),this.inherit(s),this.add("autoclosing-fragment","insertion",function(d,f,h,g,m){if(m==">"){var v=h.getSelectionRange().start,b=new o(g,v.row,v.column),y=b.getCurrentToken()||b.stepBackward();if(!y)return;if(y.value=="<")return{text:"></>",selection:[1,1]}}})};a.inherits(c,s),r.JavaScriptBehaviour=c}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(d,f){s.call(this),this.voidElements=d||{},this.optionalEndTags=a.mixin({},this.voidElements),f&&a.mixin(this.optionalEndTags,f)};a.inherits(l,s);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function u(d,f){return d&&d.type&&d.type.lastIndexOf(f+".xml")>-1}(function(){this.getFoldWidget=function(d,f,h){var g=this._getFirstTagInLine(d,h);return g?g.closing||!g.tagName&&g.selfClosing?f==="markbeginend"?"end":"":!g.tagName||g.selfClosing||this.voidElements.hasOwnProperty(g.tagName.toLowerCase())||this._findEndTagInLine(d,h,g.tagName,g.end.column)?"":"start":this.getCommentFoldWidget(d,h)},this.getCommentFoldWidget=function(d,f){return/comment/.test(d.getState(f))&&/<!-/.test(d.getLine(f))?"start":""},this._getFirstTagInLine=function(d,f){for(var h=d.getTokens(f),g=new c,m=0;m<h.length;m++){var v=h[m];if(u(v,"tag-open")){if(g.end.column=g.start.column+v.value.length,g.closing=u(v,"end-tag-open"),v=h[++m],!v)return null;if(g.tagName=v.value,v.value===""){if(v=h[++m],!v)return null;g.tagName=v.value}for(g.end.column+=v.value.length,m++;m<h.length;m++)if(v=h[m],g.end.column+=v.value.length,u(v,"tag-close")){g.selfClosing=v.value=="/>";break}return g}else if(u(v,"tag-close"))return g.selfClosing=v.value=="/>",g;g.start.column+=v.value.length}return null},this._findEndTagInLine=function(d,f,h,g){for(var m=d.getTokens(f),v=0,b=0;b<m.length;b++){var y=m[b];if(v+=y.value.length,!(v<g-1)&&u(y,"end-tag-open")&&(y=m[b+1],u(y,"tag-name")&&y.value===""&&(y=m[b+2]),y&&y.value==h))return!0}return!1},this.getFoldWidgetRange=function(d,f,h){var g=this._getFirstTagInLine(d,h);if(!g)return this.getCommentFoldWidget(d,h)&&d.getCommentFoldRange(h,d.getLine(h).length);var m=d.getMatchingTags({row:h,column:0});if(m)return new o(m.openTag.end.row,m.openTag.end.column,m.closeTag.start.row,m.closeTag.start.column)}}).call(l.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};a.inherits(l,s),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,d){var f=c.getLine(d);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var h=this._getFoldWidgetBase(c,u,d);return!h&&this.startRegionRe.test(f)?"start":h},this.getFoldWidgetRange=function(c,u,d,f){var h=c.getLine(d);if(this.startRegionRe.test(h))return this.getCommentRegionBlock(c,h,d);var v=h.match(this.foldingStartMarker);if(v){var g=v.index;if(v[1])return this.openingBracketBlock(c,v[1],d,g);var m=c.getCommentFoldRange(d,g+v[0].length,1);return m&&!m.isMultiLine()&&(f?m=this.getSectionRange(c,d):u!="all"&&(m=null)),m}if(u!=="markbegin"){var v=h.match(this.foldingStopMarker);if(v){var g=v.index+v[0].length;return v[1]?this.closingBracketBlock(c,v[1],d,g):c.getCommentFoldRange(d,g,-1)}}},this.getSectionRange=function(c,u){var d=c.getLine(u),f=d.search(/\S/),h=u,g=d.length;u=u+1;for(var m=u,v=c.getLength();++u<v;){d=c.getLine(u);var b=d.search(/\S/);if(b!==-1){if(f>b)break;var y=this.getFoldWidgetRange(c,"all",u);if(y){if(y.start.row<=h)break;if(y.isMultiLine())u=y.end.row;else if(f==b)break}m=u}}return new o(h,g,m,c.getLine(m).length)},this.getCommentRegionBlock=function(c,u,d){for(var f=u.search(/\s*$/),h=c.getLength(),g=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,v=1;++d<h;){u=c.getLine(d);var b=m.exec(u);if(b&&(b[1]?v--:v++,!v))break}var y=d;if(y>g)return new o(g,f,y,u.length)}}).call(l.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,r,i){var a=n("../../lib/oop"),o=n("./xml").FoldMode,s=n("./cstyle").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end))),this.xmlFoldMode=new o};a.inherits(l,s),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,d){var f=this.getFoldWidgetBase(c,u,d);return f||this.xmlFoldMode.getFoldWidget(c,u,d)},this.getFoldWidgetRange=function(c,u,d,f){var h=this.getFoldWidgetRangeBase(c,u,d,f);return h||this.xmlFoldMode.getFoldWidgetRange(c,u,d)}}).call(l.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(n,r,i){var a=n("../lib/oop"),o=n("./text").Mode,s=n("./javascript_highlight_rules").JavaScriptHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("../worker/worker_client").WorkerClient,u=n("./behaviour/javascript").JavaScriptBehaviour,d=n("./folding/javascript").FoldMode,f=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=new u,this.foldingRules=new d};a.inherits(f,o),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(h,g,m){var v=this.$getIndent(g),b=this.getTokenizer().getLineTokens(g,h),y=b.tokens,x=b.state;if(y.length&&y[y.length-1].type=="comment")return v;if(h=="start"||h=="no_regex"){var w=g.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);w&&(v+=m)}else if(h=="doc-start"&&(x=="start"||x=="no_regex"))return"";return v},this.checkOutdent=function(h,g,m){return this.$outdent.checkOutdent(g,m)},this.autoOutdent=function(h,g,m){this.$outdent.autoOutdent(g,m)},this.createWorker=function(h){var g=new c(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return g.attachToDocument(h.getDocument()),g.on("annotate",function(m){h.setAnnotations(m.data)}),g.on("terminate",function(){h.clearAnnotations()}),g},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(f.prototype),r.Mode=f}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop");n("../lib/lang");var o=n("./text_highlight_rules").TextHighlightRules,s=r.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",l=r.supportFunction="rgb|rgba|url|attr|counter|counters",c=r.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",u=r.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",d=r.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",f=r.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",h=r.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",g=r.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",m=function(){var v=this.createKeywordMapper({"support.function":l,"support.constant":c,"support.type":s,"support.constant.color":u,"support.constant.fonts":d},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:f},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+f+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:f},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:g},{include:"url"},{token:v,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{token:"paren.lparen",regex:"\\{"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};a.inherits(m,o),r.CssHighlightRules=m}),ace.define("ace/mode/css_completions",["require","exports","module"],function(n,r,i){var a={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},o=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var s=document.createElement("c").style;for(var l in s)if(typeof s[l]=="string"){var c=l.replace(/[A-Z]/g,function(u){return"-"+u.toLowerCase()});a.hasOwnProperty(c)||(a[c]=1)}}this.completionsDefined=!0},this.getCompletions=function(s,l,c,u){if(this.completionsDefined||this.defineCompletions(),s==="ruleset"||l.$mode.$id=="ace/mode/scss"){var d=l.getLine(c.row).substr(0,c.column),f=/\([^)]*$/.test(d);return f&&(d=d.substr(d.lastIndexOf("(")+1)),/:[^;]+$/.test(d)?this.getPropertyValueCompletions(s,l,c,u):this.getPropertyCompletions(s,l,c,u,f)}return[]},this.getPropertyCompletions=function(s,l,c,u,d){d=d||!1;var f=Object.keys(a);return f.map(function(h){return{caption:h,snippet:h+": $0"+(d?"":";"),meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(s,l,c,u){var d=l.getLine(c.row).substr(0,c.column),f=(/([\w\-]+):[^:]*$/.exec(d)||{})[1];if(!f)return[];var h=[];return f in a&&typeof a[f]=="object"&&(h=Object.keys(a[f])),h.map(function(g){return{caption:g,snippet:g,meta:"property value",score:1e6}})}}).call(o.prototype),r.CssCompletions=o}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(n,r,i){var a=n("../../lib/oop");n("../behaviour").Behaviour;var o=n("./cstyle").CstyleBehaviour,s=n("../../token_iterator").TokenIterator,l=function(){this.inherit(o),this.add("colon","insertion",function(c,u,d,f,h){if(h===":"&&d.selection.isEmpty()){var g=d.getCursorPosition(),m=new s(f,g.row,g.column),v=m.getCurrentToken();if(v&&v.value.match(/\s+/)&&(v=m.stepBackward()),v&&v.type==="support.type"){var b=f.doc.getLine(g.row),y=b.substring(g.column,g.column+1);if(y===":")return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(b.substring(g.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(c,u,d,f,h){var g=f.doc.getTextRange(h);if(!h.isMultiLine()&&g===":"){var m=d.getCursorPosition(),v=new s(f,m.row,m.column),b=v.getCurrentToken();if(b&&b.value.match(/\s+/)&&(b=v.stepBackward()),b&&b.type==="support.type"){var y=f.doc.getLine(h.start.row),x=y.substring(h.end.column,h.end.column+1);if(x===";")return h.end.column++,h}}}),this.add("semicolon","insertion",function(c,u,d,f,h){if(h===";"&&d.selection.isEmpty()){var g=d.getCursorPosition(),m=f.doc.getLine(g.row),v=m.substring(g.column,g.column+1);if(v===";")return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(c,u,d,f,h){if(h==="!"&&d.selection.isEmpty()){var g=d.getCursorPosition(),m=f.doc.getLine(g.row);if(/^\s*(;|}|$)/.test(m.substring(g.column)))return{text:"!important",selection:[10,10]}}})};a.inherits(l,o),r.CssBehaviour=l}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(n,r,i){var a=n("../lib/oop"),o=n("./text").Mode,s=n("./css_highlight_rules").CssHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("../worker/worker_client").WorkerClient,u=n("./css_completions").CssCompletions,d=n("./behaviour/css").CssBehaviour,f=n("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=new d,this.$completer=new u,this.foldingRules=new f};a.inherits(h,o),(function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(g,m,v){var b=this.$getIndent(m),y=this.getTokenizer().getLineTokens(m,g).tokens;if(y.length&&y[y.length-1].type=="comment")return b;var x=m.match(/^.*\{\s*$/);return x&&(b+=v),b},this.checkOutdent=function(g,m,v){return this.$outdent.checkOutdent(m,v)},this.autoOutdent=function(g,m,v){this.$outdent.autoOutdent(m,v)},this.getCompletions=function(g,m,v,b){return this.$completer.getCompletions(g,m,v,b)},this.createWorker=function(g){var m=new c(["ace"],"ace/mode/css_worker","Worker");return m.attachToDocument(g.getDocument()),m.on("annotate",function(v){g.setAnnotations(v.data)}),m.on("terminate",function(){g.clearAnnotations()}),m},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}).call(h.prototype),r.Mode=h}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules,s=function(l){var c="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+c+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:c},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+c+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+c+":)?"+c+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:c},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===s&&this.normalizeRules()};(function(){this.embedTagRules=function(l,c,u){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+u+".tag-name.xml"],regex:"(<)("+u+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:c+"start"}]}),this.$rules[u+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(d,f,h){return h.splice(0),this.token}}],this.embedRules(l,c,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+u+".tag-name.xml"],regex:"(</)("+u+"(?=\\s|>|$))",next:u+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(o.prototype),a.inherits(s,o),r.XmlHighlightRules=s}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("../lib/lang"),s=n("./css_highlight_rules").CssHighlightRules,l=n("./javascript_highlight_rules").JavaScriptHighlightRules,c=n("./xml_highlight_rules").XmlHighlightRules,u=o.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),d=function(){c.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(f,h){var g=u[h];return["meta.tag.punctuation."+(f=="<"?"":"end-")+"tag-open.xml","meta.tag"+(g?"."+g:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(s,"css-","style"),this.embedTagRules(new l({jsx:!1}).getRules(),"js-","script"),this.constructor===d&&this.normalizeRules()};a.inherits(d,c),r.HtmlHighlightRules=d}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),o=n("./fold_mode").FoldMode,s=r.FoldMode=function(l,c){this.defaultMode=l,this.subModes=c};a.inherits(s,o),(function(){this.$getMode=function(l){typeof l!="string"&&(l=l[0]);for(var c in this.subModes)if(l.indexOf(c)===0)return this.subModes[c];return null},this.$tryMode=function(l,c,u,d){var f=this.$getMode(l);return f?f.getFoldWidget(c,u,d):""},this.getFoldWidget=function(l,c,u){return this.$tryMode(l.getState(u-1),l,c,u)||this.$tryMode(l.getState(u),l,c,u)||this.defaultMode.getFoldWidget(l,c,u)},this.getFoldWidgetRange=function(l,c,u){var d=this.$getMode(l.getState(u-1));return(!d||!d.getFoldWidget(l,c,u))&&(d=this.$getMode(l.getState(u))),(!d||!d.getFoldWidget(l,c,u))&&(d=this.defaultMode),d.getFoldWidgetRange(l,c,u)}}).call(s.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,r,i){var a=n("../../lib/oop"),o=n("./mixed").FoldMode,s=n("./xml").FoldMode,l=n("./cstyle").FoldMode,c=r.FoldMode=function(u,d){o.call(this,new s(u,d),{"js-":new l,"css-":new l})};a.inherits(c,o)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(n,r,i){var a=n("../token_iterator").TokenIterator,o=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],s=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],l=o.concat(s),c={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},u=Object.keys(c);function d(m,v){return m.type.lastIndexOf(v+".xml")>-1}function f(m,v){for(var b=new a(m,v.row,v.column),y=b.getCurrentToken();y&&!d(y,"tag-name");)y=b.stepBackward();if(y)return y.value}function h(m,v){for(var b=new a(m,v.row,v.column),y=b.getCurrentToken();y&&!d(y,"attribute-name");)y=b.stepBackward();if(y)return y.value}var g=function(){};(function(){this.getCompletions=function(m,v,b,y){var x=v.getTokenAt(b.row,b.column);if(!x)return[];if(d(x,"tag-name")||d(x,"tag-open")||d(x,"end-tag-open"))return this.getTagCompletions(m,v,b,y);if(d(x,"tag-whitespace")||d(x,"attribute-name"))return this.getAttributeCompletions(m,v,b,y);if(d(x,"attribute-value"))return this.getAttributeValueCompletions(m,v,b,y);var w=v.getLine(b.row).substr(0,b.column);return/&[a-z]*$/i.test(w)?this.getHTMLEntityCompletions(m,v,b,y):[]},this.getTagCompletions=function(m,v,b,y){return u.map(function(x){return{value:x,meta:"tag",score:1e6}})},this.getAttributeCompletions=function(m,v,b,y){var x=f(v,b);if(!x)return[];var w=l;return x in c&&(w=w.concat(Object.keys(c[x]))),w.map(function(_){return{caption:_,snippet:_+'="$0"',meta:"attribute",score:1e6}})},this.getAttributeValueCompletions=function(m,v,b,y){var x=f(v,b),w=h(v,b);if(!x)return[];var _=[];return x in c&&w in c[x]&&typeof c[x][w]=="object"&&(_=Object.keys(c[x][w])),_.map(function(k){return{caption:k,snippet:k,meta:"attribute value",score:1e6}})},this.getHTMLEntityCompletions=function(m,v,b,y){var x=["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"];return x.map(function(w){return{caption:w,snippet:w,meta:"html entity",score:1e6}})}}).call(g.prototype),r.HtmlCompletions=g}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(n,r,i){var a=n("../lib/oop"),o=n("../lib/lang"),s=n("./text").Mode,l=n("./javascript").Mode,c=n("./css").Mode,u=n("./html_highlight_rules").HtmlHighlightRules,d=n("./behaviour/xml").XmlBehaviour,f=n("./folding/html").FoldMode,h=n("./html_completions").HtmlCompletions,g=n("../worker/worker_client").WorkerClient,m=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],v=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],b=function(y){this.fragmentContext=y&&y.fragmentContext,this.HighlightRules=u,this.$behaviour=new d,this.$completer=new h,this.createModeDelegates({"js-":l,"css-":c}),this.foldingRules=new f(this.voidElements,o.arrayToMap(v))};a.inherits(b,s),(function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=o.arrayToMap(m),this.getNextLineIndent=function(y,x,w){return this.$getIndent(x)},this.checkOutdent=function(y,x,w){return!1},this.getCompletions=function(y,x,w,_){return this.$completer.getCompletions(y,x,w,_)},this.createWorker=function(y){if(this.constructor==b){var x=new g(["ace"],"ace/mode/html_worker","Worker");return x.attachToDocument(y.getDocument()),this.fragmentContext&&x.call("setOptions",[{context:this.fragmentContext}]),x.on("error",function(w){y.setAnnotations(w.data)}),x.on("terminate",function(){y.clearAnnotations()}),x}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}).call(b.prototype),r.Mode=b}),function(){ace.require(["ace/mode/html"],function(n){t&&(t.exports=n)})}()}(Jh)),Jh.exports}cT();var Qh={exports:{}},tv;function uT(){return tv||(tv=1,function(t,e){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};a.inherits(s,o),r.JsonHighlightRules=s}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var a=n("../range").Range,o=function(){};(function(){this.checkOutdent=function(s,l){return/^\s+$/.test(s)?/^\s*\}/.test(l):!1},this.autoOutdent=function(s,l){var c=s.getLine(l),u=c.match(/^(\s*\})/);if(!u)return 0;var d=u[1].length,f=s.findMatchingBracket({row:l,column:d});if(!f||f.row==l)return 0;var h=this.$getIndent(s.getLine(f.row));s.replace(new a(l,0,l,d-1),h)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(o.prototype),r.MatchingBraceOutdent=o}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};a.inherits(l,s),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,d){var f=c.getLine(d);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var h=this._getFoldWidgetBase(c,u,d);return!h&&this.startRegionRe.test(f)?"start":h},this.getFoldWidgetRange=function(c,u,d,f){var h=c.getLine(d);if(this.startRegionRe.test(h))return this.getCommentRegionBlock(c,h,d);var v=h.match(this.foldingStartMarker);if(v){var g=v.index;if(v[1])return this.openingBracketBlock(c,v[1],d,g);var m=c.getCommentFoldRange(d,g+v[0].length,1);return m&&!m.isMultiLine()&&(f?m=this.getSectionRange(c,d):u!="all"&&(m=null)),m}if(u!=="markbegin"){var v=h.match(this.foldingStopMarker);if(v){var g=v.index+v[0].length;return v[1]?this.closingBracketBlock(c,v[1],d,g):c.getCommentFoldRange(d,g,-1)}}},this.getSectionRange=function(c,u){var d=c.getLine(u),f=d.search(/\S/),h=u,g=d.length;u=u+1;for(var m=u,v=c.getLength();++u<v;){d=c.getLine(u);var b=d.search(/\S/);if(b!==-1){if(f>b)break;var y=this.getFoldWidgetRange(c,"all",u);if(y){if(y.start.row<=h)break;if(y.isMultiLine())u=y.end.row;else if(f==b)break}m=u}}return new o(h,g,m,c.getLine(m).length)},this.getCommentRegionBlock=function(c,u,d){for(var f=u.search(/\s*$/),h=c.getLength(),g=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,v=1;++d<h;){u=c.getLine(d);var b=m.exec(u);if(b&&(b[1]?v--:v++,!v))break}var y=d;if(y>g)return new o(g,f,y,u.length)}}).call(l.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(n,r,i){var a=n("../lib/oop"),o=n("./text").Mode,s=n("./json_highlight_rules").JsonHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("./folding/cstyle").FoldMode,u=n("../worker/worker_client").WorkerClient,d=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new c};a.inherits(d,o),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(f,h,g){var m=this.$getIndent(h);if(f=="start"){var v=h.match(/^.*[\{\(\[]\s*$/);v&&(m+=g)}return m},this.checkOutdent=function(f,h,g){return this.$outdent.checkOutdent(h,g)},this.autoOutdent=function(f,h,g){this.$outdent.autoOutdent(h,g)},this.createWorker=function(f){var h=new u(["ace"],"ace/mode/json_worker","JsonWorker");return h.attachToDocument(f.getDocument()),h.on("annotate",function(g){f.setAnnotations(g.data)}),h.on("terminate",function(){f.clearAnnotations()}),h},this.$id="ace/mode/json"}).call(d.prototype),r.Mode=d}),function(){ace.require(["ace/mode/json"],function(n){t&&(t.exports=n)})}()}(Qh)),Qh.exports}uT();var ef={exports:{}},nv;function dT(){return nv||(nv=1,function(t,e){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};a.inherits(s,o),r.JsonHighlightRules=s}),ace.define("ace/mode/json5_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/json_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),o=n("./json_highlight_rules").JsonHighlightRules,s=function(){o.call(this);var l=[{token:"variable",regex:/[a-zA-Z$_\u00a1-\uffff][\w$\u00a1-\uffff]*\s*(?=:)/},{token:"variable",regex:/['](?:(?:\\.)|(?:[^'\\]))*?[']\s*(?=:)/},{token:"constant.language.boolean",regex:/(?:null)\b/},{token:"string",regex:/'/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/'|$/,next:"start"},{defaultToken:"string"}]},{token:"string",regex:/"(?![^"]*":)/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/"|$/,next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:/[+-]?(?:Infinity|NaN)\b/}];for(var c in this.$rules)this.$rules[c].unshift.apply(this.$rules[c],l);this.normalizeRules()};a.inherits(s,o),r.Json5HighlightRules=s}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var a=n("../range").Range,o=function(){};(function(){this.checkOutdent=function(s,l){return/^\s+$/.test(s)?/^\s*\}/.test(l):!1},this.autoOutdent=function(s,l){var c=s.getLine(l),u=c.match(/^(\s*\})/);if(!u)return 0;var d=u[1].length,f=s.findMatchingBracket({row:l,column:d});if(!f||f.row==l)return 0;var h=this.$getIndent(s.getLine(f.row));s.replace(new a(l,0,l,d-1),h)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(o.prototype),r.MatchingBraceOutdent=o}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),o=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};a.inherits(l,s),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,d){var f=c.getLine(d);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var h=this._getFoldWidgetBase(c,u,d);return!h&&this.startRegionRe.test(f)?"start":h},this.getFoldWidgetRange=function(c,u,d,f){var h=c.getLine(d);if(this.startRegionRe.test(h))return this.getCommentRegionBlock(c,h,d);var v=h.match(this.foldingStartMarker);if(v){var g=v.index;if(v[1])return this.openingBracketBlock(c,v[1],d,g);var m=c.getCommentFoldRange(d,g+v[0].length,1);return m&&!m.isMultiLine()&&(f?m=this.getSectionRange(c,d):u!="all"&&(m=null)),m}if(u!=="markbegin"){var v=h.match(this.foldingStopMarker);if(v){var g=v.index+v[0].length;return v[1]?this.closingBracketBlock(c,v[1],d,g):c.getCommentFoldRange(d,g,-1)}}},this.getSectionRange=function(c,u){var d=c.getLine(u),f=d.search(/\S/),h=u,g=d.length;u=u+1;for(var m=u,v=c.getLength();++u<v;){d=c.getLine(u);var b=d.search(/\S/);if(b!==-1){if(f>b)break;var y=this.getFoldWidgetRange(c,"all",u);if(y){if(y.start.row<=h)break;if(y.isMultiLine())u=y.end.row;else if(f==b)break}m=u}}return new o(h,g,m,c.getLine(m).length)},this.getCommentRegionBlock=function(c,u,d){for(var f=u.search(/\s*$/),h=c.getLength(),g=d,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,v=1;++d<h;){u=c.getLine(d);var b=m.exec(u);if(b&&(b[1]?v--:v++,!v))break}var y=d;if(y>g)return new o(g,f,y,u.length)}}).call(l.prototype)}),ace.define("ace/mode/json5",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json5_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle"],function(n,r,i){var a=n("../lib/oop"),o=n("./text").Mode,s=n("./json5_highlight_rules").Json5HighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new c};a.inherits(u,o),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.checkOutdent=function(d,f,h){return this.$outdent.checkOutdent(f,h)},this.autoOutdent=function(d,f,h){this.$outdent.autoOutdent(f,h)},this.$id="ace/mode/json5"}).call(u.prototype),r.Mode=u}),function(){ace.require(["ace/mode/json5"],function(n){t&&(t.exports=n)})}()}(ef)),ef.exports}dT();var tf={exports:{}},rv;function hT(){return rv||(rv=1,function(t,e){ace.define("ace/theme/tomorrow_night-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-tomorrow-night .ace_gutter {
  background: #25282c;
  color: #C5C8C6
}

.ace-tomorrow-night .ace_print-margin {
  width: 1px;
  background: #25282c
}

.ace-tomorrow-night {
  background-color: #1D1F21;
  color: #C5C8C6
}

.ace-tomorrow-night .ace_cursor {
  color: #AEAFAD
}

.ace-tomorrow-night .ace_marker-layer .ace_selection {
  background: #373B41
}

.ace-tomorrow-night.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #1D1F21;
}

.ace-tomorrow-night .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-tomorrow-night .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #4B4E55
}

.ace-tomorrow-night .ace_marker-layer .ace_active-line {
  background: #282A2E
}

.ace-tomorrow-night .ace_gutter-active-line {
  background-color: #282A2E
}

.ace-tomorrow-night .ace_marker-layer .ace_selected-word {
  border: 1px solid #373B41
}

.ace-tomorrow-night .ace_invisible {
  color: #4B4E55
}

.ace-tomorrow-night .ace_keyword,
.ace-tomorrow-night .ace_meta,
.ace-tomorrow-night .ace_storage,
.ace-tomorrow-night .ace_storage.ace_type,
.ace-tomorrow-night .ace_support.ace_type {
  color: #B294BB
}

.ace-tomorrow-night .ace_keyword.ace_operator {
  color: #8ABEB7
}

.ace-tomorrow-night .ace_constant.ace_character,
.ace-tomorrow-night .ace_constant.ace_language,
.ace-tomorrow-night .ace_constant.ace_numeric,
.ace-tomorrow-night .ace_keyword.ace_other.ace_unit,
.ace-tomorrow-night .ace_support.ace_constant,
.ace-tomorrow-night .ace_variable.ace_parameter {
  color: #DE935F
}

.ace-tomorrow-night .ace_constant.ace_other {
  color: #CED1CF
}

.ace-tomorrow-night .ace_invalid {
  color: #CED2CF;
  background-color: #DF5F5F
}

.ace-tomorrow-night .ace_invalid.ace_deprecated {
  color: #CED2CF;
  background-color: #B798BF
}

.ace-tomorrow-night .ace_fold {
  background-color: #81A2BE;
  border-color: #C5C8C6
}

.ace-tomorrow-night .ace_entity.ace_name.ace_function,
.ace-tomorrow-night .ace_support.ace_function,
.ace-tomorrow-night .ace_variable {
  color: #81A2BE
}

.ace-tomorrow-night .ace_support.ace_class,
.ace-tomorrow-night .ace_support.ace_type {
  color: #F0C674
}

.ace-tomorrow-night .ace_heading,
.ace-tomorrow-night .ace_markup.ace_heading,
.ace-tomorrow-night .ace_string {
  color: #B5BD68
}

.ace-tomorrow-night .ace_entity.ace_name.ace_tag,
.ace-tomorrow-night .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow-night .ace_meta.ace_tag,
.ace-tomorrow-night .ace_string.ace_regexp,
.ace-tomorrow-night .ace_variable {
  color: #CC6666
}

.ace-tomorrow-night .ace_comment {
  color: #969896
}

.ace-tomorrow-night .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-tomorrow-night .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/tomorrow_night",["require","exports","module","ace/theme/tomorrow_night-css","ace/lib/dom"],function(n,r,i){r.isDark=!0,r.cssClass="ace-tomorrow-night",r.cssText=n("./tomorrow_night-css");var a=n("../lib/dom");a.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow_night"],function(n){t&&(t.exports=n)})}()}(tf)),tf.exports}hT();var nf={exports:{}},iv;function fT(){return iv||(iv=1,function(t,e){ace.define("ace/theme/tomorrow-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-tomorrow .ace_gutter {
  background: #f6f6f6;
  color: #4D4D4C
}

.ace-tomorrow .ace_print-margin {
  width: 1px;
  background: #f6f6f6
}

.ace-tomorrow {
  background-color: #FFFFFF;
  color: #4D4D4C
}

.ace-tomorrow .ace_cursor {
  color: #AEAFAD
}

.ace-tomorrow .ace_marker-layer .ace_selection {
  background: #D6D6D6
}

.ace-tomorrow.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #FFFFFF;
}

.ace-tomorrow .ace_marker-layer .ace_step {
  background: rgb(255, 255, 0)
}

.ace-tomorrow .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #D1D1D1
}

.ace-tomorrow .ace_marker-layer .ace_active-line {
  background: #EFEFEF
}

.ace-tomorrow .ace_gutter-active-line {
  background-color : #dcdcdc
}

.ace-tomorrow .ace_marker-layer .ace_selected-word {
  border: 1px solid #D6D6D6
}

.ace-tomorrow .ace_invisible {
  color: #D1D1D1
}

.ace-tomorrow .ace_keyword,
.ace-tomorrow .ace_meta,
.ace-tomorrow .ace_storage,
.ace-tomorrow .ace_storage.ace_type,
.ace-tomorrow .ace_support.ace_type {
  color: #8959A8
}

.ace-tomorrow .ace_keyword.ace_operator {
  color: #3E999F
}

.ace-tomorrow .ace_constant.ace_character,
.ace-tomorrow .ace_constant.ace_language,
.ace-tomorrow .ace_constant.ace_numeric,
.ace-tomorrow .ace_keyword.ace_other.ace_unit,
.ace-tomorrow .ace_support.ace_constant,
.ace-tomorrow .ace_variable.ace_parameter {
  color: #F5871F
}

.ace-tomorrow .ace_constant.ace_other {
  color: #666969
}

.ace-tomorrow .ace_invalid {
  color: #FFFFFF;
  background-color: #C82829
}

.ace-tomorrow .ace_invalid.ace_deprecated {
  color: #FFFFFF;
  background-color: #8959A8
}

.ace-tomorrow .ace_fold {
  background-color: #4271AE;
  border-color: #4D4D4C
}

.ace-tomorrow .ace_entity.ace_name.ace_function,
.ace-tomorrow .ace_support.ace_function,
.ace-tomorrow .ace_variable {
  color: #4271AE
}

.ace-tomorrow .ace_support.ace_class,
.ace-tomorrow .ace_support.ace_type {
  color: #C99E00
}

.ace-tomorrow .ace_heading,
.ace-tomorrow .ace_markup.ace_heading,
.ace-tomorrow .ace_string {
  color: #718C00
}

.ace-tomorrow .ace_entity.ace_name.ace_tag,
.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow .ace_meta.ace_tag,
.ace-tomorrow .ace_string.ace_regexp,
.ace-tomorrow .ace_variable {
  color: #C82829
}

.ace-tomorrow .ace_comment {
  color: #8E908C
}

.ace-tomorrow .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y
}

.ace-tomorrow .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/tomorrow",["require","exports","module","ace/theme/tomorrow-css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-tomorrow",r.cssText=n("./tomorrow-css");var a=n("../lib/dom");a.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow"],function(n){t&&(t.exports=n)})}()}(nf)),nf.exports}fT();var rf={exports:{}},av;function pT(){return av||(av=1,function(t,e){ace.define("ace/ext/searchbox-css",["require","exports","module"],function(n,r,i){i.exports=`

/* ------------------------------------------------------------------------------------------
 * Editor Search Form
 * --------------------------------------------------------------------------------------- */
.ace_search {
    background-color: #ddd;
    color: #666;
    border: 1px solid #cbcbcb;
    border-top: 0 none;
    overflow: hidden;
    margin: 0;
    padding: 4px 6px 0 4px;
    position: absolute;
    top: 0;
    z-index: 99;
    white-space: normal;
}
.ace_search.left {
    border-left: 0 none;
    border-radius: 0px 0px 5px 0px;
    left: 0;
}
.ace_search.right {
    border-radius: 0px 0px 0px 5px;
    border-right: 0 none;
    right: 0;
}

.ace_search_form, .ace_replace_form {
    margin: 0 20px 4px 0;
    overflow: hidden;
    line-height: 1.9;
}
.ace_replace_form {
    margin-right: 0;
}
.ace_search_form.ace_nomatch {
    outline: 1px solid red;
}

.ace_search_field {
    border-radius: 3px 0 0 3px;
    background-color: white;
    color: black;
    border: 1px solid #cbcbcb;
    border-right: 0 none;
    outline: 0;
    padding: 0;
    font-size: inherit;
    margin: 0;
    line-height: inherit;
    padding: 0 6px;
    min-width: 17em;
    vertical-align: top;
    min-height: 1.8em;
    box-sizing: content-box;
}
.ace_searchbtn {
    border: 1px solid #cbcbcb;
    line-height: inherit;
    display: inline-block;
    padding: 0 6px;
    background: #fff;
    border-right: 0 none;
    border-left: 1px solid #dcdcdc;
    cursor: pointer;
    margin: 0;
    position: relative;
    color: #666;
}
.ace_searchbtn:last-child {
    border-radius: 0 3px 3px 0;
    border-right: 1px solid #cbcbcb;
}
.ace_searchbtn:disabled {
    background: none;
    cursor: default;
}
.ace_searchbtn:hover {
    background-color: #eef1f6;
}
.ace_searchbtn.prev, .ace_searchbtn.next {
     padding: 0px 0.7em
}
.ace_searchbtn.prev:after, .ace_searchbtn.next:after {
     content: "";
     border: solid 2px #888;
     width: 0.5em;
     height: 0.5em;
     border-width:  2px 0 0 2px;
     display:inline-block;
     transform: rotate(-45deg);
}
.ace_searchbtn.next:after {
     border-width: 0 2px 2px 0 ;
}
.ace_searchbtn_close {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;
    border-radius: 50%;
    border: 0 none;
    color: #656565;
    cursor: pointer;
    font: 16px/16px Arial;
    padding: 0;
    height: 14px;
    width: 14px;
    top: 9px;
    right: 7px;
    position: absolute;
}
.ace_searchbtn_close:hover {
    background-color: #656565;
    background-position: 50% 100%;
    color: white;
}

.ace_button {
    margin-left: 2px;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
    overflow: hidden;
    opacity: 0.7;
    border: 1px solid rgba(100,100,100,0.23);
    padding: 1px;
    box-sizing:    border-box!important;
    color: black;
}

.ace_button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_button:active {
    background-color: #ddd;
}

.ace_button.checked {
    border-color: #3399ff;
    opacity:1;
}

.ace_search_options{
    margin-bottom: 3px;
    text-align: right;
    -webkit-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
    clear: both;
}

.ace_search_counter {
    float: left;
    font-family: arial;
    padding: 0 8px;
}`}),ace.define("ace/ext/searchbox",["require","exports","module","ace/ext/searchbox","ace/ext/searchbox","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/ext/searchbox-css","ace/keyboard/hash_handler","ace/lib/keys","ace/config"],function(n,r,i){var a=n("../lib/dom"),o=n("../lib/lang"),s=n("../lib/event"),l=n("./searchbox-css"),c=n("../keyboard/hash_handler").HashHandler,u=n("../lib/keys"),d=n("../config").nls,f=999;a.importCssString(l,"ace_searchbox",!1);var h=function(){function v(b,y,x){this.activeInput,this.element=a.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:d("search-box.find.placeholder","Search for"),spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},""],["span",{action:"findNext",class:"ace_searchbtn next"},""],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},d("search-box.find-all.text","All")]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:d("search-box.replace.placeholder","Replace with"),spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},d("search-box.replace-next.text","Replace")],["span",{action:"replaceAll",class:"ace_searchbtn"},d("search-box.replace-all.text","All")]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:d("search-box.toggle-replace.title","Toggle Replace mode"),style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:d("search-box.toggle-regexp.title","RegExp Search")},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:d("search-box.toggle-case.title","CaseSensitive Search")},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:d("search-box.toggle-whole-word.title","Whole Word Search")},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:d("search-box.toggle-in-selection.title","Search In Selection")},"S"]]]),this.setSession=this.setSession.bind(this),this.$onEditorInput=this.onEditorInput.bind(this),this.$init(),this.setEditor(b),a.importCssString(l,"ace_searchbox",b.container),s.addListener(this.element,"touchstart",function(w){w.stopPropagation()},b)}return v.prototype.setEditor=function(b){b.searchBox=this,b.renderer.scroller.appendChild(this.element),this.editor=b},v.prototype.setSession=function(b){this.searchRange=null,this.$syncOptions(!0)},v.prototype.onEditorInput=function(){this.find(!1,!1,!0)},v.prototype.$initElements=function(b){this.searchBox=b.querySelector(".ace_search_form"),this.replaceBox=b.querySelector(".ace_replace_form"),this.searchOption=b.querySelector("[action=searchInSelection]"),this.replaceOption=b.querySelector("[action=toggleReplace]"),this.regExpOption=b.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=b.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=b.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=b.querySelector(".ace_search_counter")},v.prototype.$init=function(){var b=this.element;this.$initElements(b);var y=this;s.addListener(b,"mousedown",function(x){setTimeout(function(){y.activeInput.focus()},0),s.stopPropagation(x)}),s.addListener(b,"click",function(x){var w=x.target||x.srcElement,_=w.getAttribute("action");_&&y[_]?y[_]():y.$searchBarKb.commands[_]&&y.$searchBarKb.commands[_].exec(y),s.stopPropagation(x)}),s.addCommandKeyListener(b,function(x,w,_){var k=u.keyCodeToString(_),R=y.$searchBarKb.findKeyCommand(w,k);R&&R.exec&&(R.exec(y),s.stopEvent(x))}),this.$onChange=o.delayedCall(function(){y.find(!1,!1)}),s.addListener(this.searchInput,"input",function(){y.$onChange.schedule(20)}),s.addListener(this.searchInput,"focus",function(){y.activeInput=y.searchInput,y.searchInput.value&&y.highlight()}),s.addListener(this.replaceInput,"focus",function(){y.activeInput=y.replaceInput,y.searchInput.value&&y.highlight()})},v.prototype.setSearchRange=function(b){this.searchRange=b,b?this.searchRangeMarker=this.editor.session.addMarker(b,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},v.prototype.$syncOptions=function(b){a.setCssClass(this.replaceOption,"checked",this.searchRange),a.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",a.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),a.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),a.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var y=this.editor.getReadOnly();this.replaceOption.style.display=y?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!y?"":"none",this.find(!1,!1,b)},v.prototype.highlight=function(b){this.editor.session.highlight(b||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},v.prototype.find=function(b,y,x){var w=this.editor.find(this.searchInput.value,{skipCurrent:b,backwards:y,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:x,range:this.searchRange}),_=!w&&this.searchInput.value;a.setCssClass(this.searchBox,"ace_nomatch",_),this.editor._emit("findSearchBox",{match:!_}),this.highlight(),this.updateCounter()},v.prototype.updateCounter=function(){var b=this.editor,y=b.$search.$options.re,x=y.unicode,w=0,_=0;if(y){var k=this.searchRange?b.session.getTextRange(this.searchRange):b.getValue();b.$search.$isMultilineSearch(b.getLastSearchOptions())&&(k=k.replace(/\r\n|\r|\n/g,`
`),b.session.doc.$autoNewLine=`
`);var R=b.session.doc.positionToIndex(b.selection.anchor);this.searchRange&&(R-=b.session.doc.positionToIndex(this.searchRange.start));for(var A=y.lastIndex=0,T;(T=y.exec(k))&&(w++,A=T.index,A<=R&&_++,!(w>f||!T[0]&&(y.lastIndex=A+=o.skipEmptyMatch(k,A,x),A>=k.length))););}this.searchCounter.textContent=d("search-box.search-counter","$0 of $1",[_,w>f?f+"+":w])},v.prototype.findNext=function(){this.find(!0,!1)},v.prototype.findPrev=function(){this.find(!0,!0)},v.prototype.findAll=function(){var b=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),y=!b&&this.searchInput.value;a.setCssClass(this.searchBox,"ace_nomatch",y),this.editor._emit("findSearchBox",{match:!y}),this.highlight(),this.hide()},v.prototype.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},v.prototype.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},v.prototype.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},v.prototype.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.editor.off("input",this.$onEditorInput),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},v.prototype.show=function(b,y){this.active=!0,this.editor.on("changeSession",this.setSession),this.editor.on("input",this.$onEditorInput),this.element.style.display="",this.replaceOption.checked=y,this.editor.$search.$options.regExp&&(b=o.escapeRegExp(b)),b!=null&&(this.searchInput.value=b),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},v.prototype.isFocused=function(){var b=document.activeElement;return b==this.searchInput||b==this.replaceInput},v}(),g=new c;g.bindKeys({"Ctrl-f|Command-f":function(v){var b=v.isReplace=!v.isReplace;v.replaceBox.style.display=b?"":"none",v.replaceOption.checked=!1,v.$syncOptions(),v.searchInput.focus()},"Ctrl-H|Command-Option-F":function(v){v.editor.getReadOnly()||(v.replaceOption.checked=!0,v.$syncOptions(),v.replaceInput.focus())},"Ctrl-G|Command-G":function(v){v.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(v){v.findPrev()},esc:function(v){setTimeout(function(){v.hide()})},Return:function(v){v.activeInput==v.replaceInput&&v.replace(),v.findNext()},"Shift-Return":function(v){v.activeInput==v.replaceInput&&v.replace(),v.findPrev()},"Alt-Return":function(v){v.activeInput==v.replaceInput&&v.replaceAll(),v.findAll()},Tab:function(v){(v.activeInput==v.replaceInput?v.searchInput:v.replaceInput).focus()}}),g.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(v){v.regExpOption.checked=!v.regExpOption.checked,v.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(v){v.caseSensitiveOption.checked=!v.caseSensitiveOption.checked,v.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(v){v.wholeWordOption.checked=!v.wholeWordOption.checked,v.$syncOptions()}},{name:"toggleReplace",exec:function(v){v.replaceOption.checked=!v.replaceOption.checked,v.$syncOptions()}},{name:"searchInSelection",exec:function(v){v.searchOption.checked=!v.searchRange,v.setSearchRange(v.searchOption.checked&&v.editor.getSelectionRange()),v.$syncOptions()}}]);var m=new c([{bindKey:"Esc",name:"closeSearchBar",exec:function(v){v.searchBox.hide()}}]);h.prototype.$searchBarKb=g,h.prototype.$closeSearchBarKb=m,r.SearchBox=h,r.Search=function(v,b){var y=v.searchBox||new h(v),x=v.session.selection.getRange(),w=x.isMultiLine()?"":v.session.getTextRange(x);y.show(w,b)}}),function(){ace.require(["ace/ext/searchbox"],function(n){t&&(t.exports=n)})}()}(rf)),rf.exports}pT();var af={exports:{}},ov;function gT(){return ov||(ov=1,function(t,e){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(n,r,i){var a=n("./lib/dom"),o=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,l=n("./lib/lang"),c=n("./range").Range,u=n("./range_list").RangeList,d=n("./keyboard/hash_handler").HashHandler,f=n("./tokenizer").Tokenizer,h=n("./clipboard"),g={CURRENT_WORD:function(k){return k.session.getTextRange(k.session.getWordRange())},SELECTION:function(k,R,A){var T=k.session.getTextRange();return A?T.replace(/\n\r?([ \t]*\S)/g,`
`+A+"$1"):T},CURRENT_LINE:function(k){return k.session.getLine(k.getCursorPosition().row)},PREV_LINE:function(k){return k.session.getLine(k.getCursorPosition().row-1)},LINE_INDEX:function(k){return k.getCursorPosition().row},LINE_NUMBER:function(k){return k.getCursorPosition().row+1},SOFT_TABS:function(k){return k.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(k){return k.session.getTabSize()},CLIPBOARD:function(k){return h.getText&&h.getText()},FILENAME:function(k){return/[^/\\]*$/.exec(this.FILEPATH(k))[0]},FILENAME_BASE:function(k){return/[^/\\]*$/.exec(this.FILEPATH(k))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(k){return this.FILEPATH(k).replace(/[^/\\]*$/,"")},FILEPATH:function(k){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(k){var R=k.session.$mode||{};return R.blockComment&&R.blockComment.start||""},BLOCK_COMMENT_END:function(k){var R=k.session.$mode||{};return R.blockComment&&R.blockComment.end||""},LINE_COMMENT:function(k){var R=k.session.$mode||{};return R.lineCommentStart||""},CURRENT_YEAR:m.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:m.bind(null,{year:"2-digit"}),CURRENT_MONTH:m.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:m.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:m.bind(null,{month:"short"}),CURRENT_DATE:m.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:m.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:m.bind(null,{weekday:"short"}),CURRENT_HOUR:m.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:m.bind(null,{minute:"2-digit"}),CURRENT_SECOND:m.bind(null,{second:"2-digit"})};g.SELECTED_TEXT=g.SELECTION;function m(k){var R=new Date().toLocaleString("en-us",k);return R.length==1?"0"+R:R}var v=function(){function k(){this.snippetMap={},this.snippetNameMap={},this.variables=g}return k.prototype.getTokenizer=function(){return k.$tokenizer||this.createTokenizer()},k.prototype.createTokenizer=function(){function R(O){return O=O.substr(1),/^\d+$/.test(O)?[{tabstopId:parseInt(O,10)}]:[{text:O}]}function A(O){return"(?:[^\\\\"+O+"]|\\\\.)"}var T={regex:"/("+A("/")+"+)/",onMatch:function(O,M,$){var C=$[0];return C.fmtString=!0,C.guard=O.slice(1,-1),C.flag="",""},next:"formatString"};return k.$tokenizer=new f({start:[{regex:/\\./,onMatch:function(O,M,$){var C=O[1];return(C=="}"&&$.length||"`$\\".indexOf(C)!=-1)&&(O=C),[O]}},{regex:/}/,onMatch:function(O,M,$){return[$.length?$.shift():O]}},{regex:/\$(?:\d+|\w+)/,onMatch:R},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(O,M,$){var C=R(O.substr(1));return $.unshift(C[0]),C},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+A("\\|")+"*\\|",onMatch:function(O,M,$){var C=O.slice(1,-1).replace(/\\[,|\\]|,/g,function(E){return E.length==2?E[1]:"\0"}).split("\0").map(function(E){return{value:E}});return $[0].choices=C,[C[0]]},next:"start"},T,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(O,M,$){return $.length&&$[0].expectElse?($[0].expectElse=!1,$[0].ifEnd={elseEnd:$[0]},[$[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(O,M,$){var C=O[1];return C=="}"&&$.length||"`$\\".indexOf(C)!=-1?O=C:C=="n"?O=`
`:C=="t"?O="	":"ulULE".indexOf(C)!=-1&&(O={changeCase:C,local:C>"a"}),[O]}},{regex:"/\\w*}",onMatch:function(O,M,$){var C=$.shift();return C&&(C.flag=O.slice(1,-1)),this.next=C&&C.tabstopId?"start":"",[C||O]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(O,M,$){return[{text:O.slice(1)}]}},{regex:/\${\w+/,onMatch:function(O,M,$){var C={text:O.slice(2)};return $.unshift(C),[C]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(O,M,$){var C=$.shift();return this.next=C&&C.tabstopId?"start":"",[C||O]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(O,M,$){var C=$[0];return C.formatFunction=O.slice(2,-1),[$.shift()]},next:"formatString"},T,{regex:/:[\?\-+]?/,onMatch:function(O,M,$){O[1]=="+"&&($[0].ifEnd=$[0]),O[1]=="?"&&($[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),k.$tokenizer},k.prototype.tokenizeTmSnippet=function(R,A){return this.getTokenizer().getLineTokens(R,A).tokens.map(function(T){return T.value||T})},k.prototype.getVariableValue=function(R,A,T){if(/^\d+$/.test(A))return(this.variables.__||{})[A]||"";if(/^[A-Z]\d+$/.test(A))return(this.variables[A[0]+"__"]||{})[A.substr(1)]||"";if(A=A.replace(/^TM_/,""),!this.variables.hasOwnProperty(A))return"";var O=this.variables[A];return typeof O=="function"&&(O=this.variables[A](R,A,T)),O??""},k.prototype.tmStrFormat=function(R,A,T){if(!A.fmt)return R;var O=A.flag||"",M=A.guard;M=new RegExp(M,O.replace(/[^gim]/g,""));var $=typeof A.fmt=="string"?this.tokenizeTmSnippet(A.fmt,"formatString"):A.fmt,C=this,E=R.replace(M,function(){var S=C.variables.__;C.variables.__=[].slice.call(arguments);for(var F=C.resolveVariables($,T),D="E",P=0;P<F.length;P++){var L=F[P];if(typeof L=="object")if(F[P]="",L.changeCase&&L.local){var N=F[P+1];N&&typeof N=="string"&&(L.changeCase=="u"?F[P]=N[0].toUpperCase():F[P]=N[0].toLowerCase(),F[P+1]=N.substr(1))}else L.changeCase&&(D=L.changeCase);else D=="U"?F[P]=L.toUpperCase():D=="L"&&(F[P]=L.toLowerCase())}return C.variables.__=S,F.join("")});return E},k.prototype.tmFormatFunction=function(R,A,T){return A.formatFunction=="upcase"?R.toUpperCase():A.formatFunction=="downcase"?R.toLowerCase():R},k.prototype.resolveVariables=function(R,A){for(var T=[],O="",M=!0,$=0;$<R.length;$++){var C=R[$];if(typeof C=="string"){T.push(C),C==`
`?(M=!0,O=""):M&&(O=/^\t*/.exec(C)[0],M=/\S/.test(C));continue}if(C){if(M=!1,C.fmtString){var E=R.indexOf(C,$+1);E==-1&&(E=R.length),C.fmt=R.slice($+1,E),$=E}if(C.text){var S=this.getVariableValue(A,C.text,O)+"";C.fmtString&&(S=this.tmStrFormat(S,C,A)),C.formatFunction&&(S=this.tmFormatFunction(S,C,A)),S&&!C.ifEnd?(T.push(S),F(C)):!S&&C.ifEnd&&F(C.ifEnd)}else C.elseEnd?F(C.elseEnd):(C.tabstopId!=null||C.changeCase!=null)&&T.push(C)}}function F(D){var P=R.indexOf(D,$+1);P!=-1&&($=P)}return T},k.prototype.getDisplayTextForSnippet=function(R,A){var T=b.call(this,R,A);return T.text},k.prototype.insertSnippetForSelection=function(R,A,T){T===void 0&&(T={});var O=b.call(this,R,A,T),M=R.getSelectionRange(),$=R.session.replace(M,O.text),C=new y(R),E=R.inVirtualSelectionMode&&R.selection.index;C.addTabstops(O.tabstops,M.start,$,E)},k.prototype.insertSnippet=function(R,A,T){T===void 0&&(T={});var O=this;if(R.inVirtualSelectionMode)return O.insertSnippetForSelection(R,A,T);R.forEachSelection(function(){O.insertSnippetForSelection(R,A,T)},null,{keepOrder:!0}),R.tabstopManager&&R.tabstopManager.tabNext()},k.prototype.$getScope=function(R){var A=R.session.$mode.$id||"";if(A=A.split("/").pop(),A==="html"||A==="php"){A==="php"&&!R.session.$mode.inlinePhp&&(A="html");var T=R.getCursorPosition(),O=R.session.getState(T.row);typeof O=="object"&&(O=O[0]),O.substring&&(O.substring(0,3)=="js-"?A="javascript":O.substring(0,4)=="css-"?A="css":O.substring(0,4)=="php-"&&(A="php"))}return A},k.prototype.getActiveScopes=function(R){var A=this.$getScope(R),T=[A],O=this.snippetMap;return O[A]&&O[A].includeScopes&&T.push.apply(T,O[A].includeScopes),T.push("_"),T},k.prototype.expandWithTab=function(R,A){var T=this,O=R.forEachSelection(function(){return T.expandSnippetForSelection(R,A)},null,{keepOrder:!0});return O&&R.tabstopManager&&R.tabstopManager.tabNext(),O},k.prototype.expandSnippetForSelection=function(R,A){var T=R.getCursorPosition(),O=R.session.getLine(T.row),M=O.substring(0,T.column),$=O.substr(T.column),C=this.snippetMap,E;return this.getActiveScopes(R).some(function(S){var F=C[S];return F&&(E=this.findMatchingSnippet(F,M,$)),!!E},this),E?(A&&A.dryRun||(R.session.doc.removeInLine(T.row,T.column-E.replaceBefore.length,T.column+E.replaceAfter.length),this.variables.M__=E.matchBefore,this.variables.T__=E.matchAfter,this.insertSnippetForSelection(R,E.content),this.variables.M__=this.variables.T__=null),!0):!1},k.prototype.findMatchingSnippet=function(R,A,T){for(var O=R.length;O--;){var M=R[O];if(!(M.startRe&&!M.startRe.test(A))&&!(M.endRe&&!M.endRe.test(T))&&!(!M.startRe&&!M.endRe))return M.matchBefore=M.startRe?M.startRe.exec(A):[""],M.matchAfter=M.endRe?M.endRe.exec(T):[""],M.replaceBefore=M.triggerRe?M.triggerRe.exec(A)[0]:"",M.replaceAfter=M.endTriggerRe?M.endTriggerRe.exec(T)[0]:"",M}},k.prototype.register=function(R,A){var T=this.snippetMap,O=this.snippetNameMap,M=this;R||(R=[]);function $(S){return S&&!/^\^?\(.*\)\$?$|^\\b$/.test(S)&&(S="(?:"+S+")"),S||""}function C(S,F,D){return S=$(S),F=$(F),S=F+S,S&&S[S.length-1]!="$"&&(S=S+"$"),new RegExp(S)}function E(S){S.scope||(S.scope=A||"_"),A=S.scope,T[A]||(T[A]=[],O[A]={});var F=O[A];if(S.name){var D=F[S.name];D&&M.unregister(D),F[S.name]=S}T[A].push(S),S.prefix&&(S.tabTrigger=S.prefix),!S.content&&S.body&&(S.content=Array.isArray(S.body)?S.body.join(`
`):S.body),S.tabTrigger&&!S.trigger&&(!S.guard&&/^\w/.test(S.tabTrigger)&&(S.guard="\\b"),S.trigger=l.escapeRegExp(S.tabTrigger)),!(!S.trigger&&!S.guard&&!S.endTrigger&&!S.endGuard)&&(S.startRe=C(S.trigger,S.guard),S.triggerRe=new RegExp(S.trigger),S.endRe=C(S.endTrigger,S.endGuard),S.endTriggerRe=new RegExp(S.endTrigger))}Array.isArray(R)?R.forEach(E):Object.keys(R).forEach(function(S){E(R[S])}),this._signal("registerSnippets",{scope:A})},k.prototype.unregister=function(R,A){var T=this.snippetMap,O=this.snippetNameMap;function M($){var C=O[$.scope||A];if(C&&C[$.name]){delete C[$.name];var E=T[$.scope||A],S=E&&E.indexOf($);S>=0&&E.splice(S,1)}}R.content?M(R):Array.isArray(R)&&R.forEach(M)},k.prototype.parseSnippetFile=function(R){R=R.replace(/\r/g,"");for(var A=[],T={},O=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,M;M=O.exec(R);){if(M[1])try{T=JSON.parse(M[1]),A.push(T)}catch{}if(M[4])T.content=M[4].replace(/^\t/gm,""),A.push(T),T={};else{var $=M[2],C=M[3];if($=="regex"){var E=/\/((?:[^\/\\]|\\.)*)|$/g;T.guard=E.exec(C)[1],T.trigger=E.exec(C)[1],T.endTrigger=E.exec(C)[1],T.endGuard=E.exec(C)[1]}else $=="snippet"?(T.tabTrigger=C.match(/^\S*/)[0],T.name||(T.name=C)):$&&(T[$]=C)}}return A},k.prototype.getSnippetByName=function(R,A){var T=this.snippetNameMap,O;return this.getActiveScopes(A).some(function(M){var $=T[M];return $&&(O=$[R]),!!O},this),O},k}();o.implement(v.prototype,s);var b=function(k,R,A){A===void 0&&(A={});var T=k.getCursorPosition(),O=k.session.getLine(T.row),M=k.session.getTabString(),$=O.match(/^\s*/)[0];T.column<$.length&&($=$.slice(0,T.column)),R=R.replace(/\r/g,"");var C=this.tokenizeTmSnippet(R);C=this.resolveVariables(C,k),C=C.map(function(K){return K==`
`&&!A.excludeExtraIndent?K+$:typeof K=="string"?K.replace(/\t/g,M):K});var E=[];C.forEach(function(K,H){if(typeof K=="object"){var J=K.tabstopId,ne=E[J];if(ne||(ne=E[J]=[],ne.index=J,ne.value="",ne.parents={}),ne.indexOf(K)===-1){K.choices&&!ne.choices&&(ne.choices=K.choices),ne.push(K);var oe=C.indexOf(K,H+1);if(oe!==-1){var he=C.slice(H+1,oe),ve=he.some(function(Oe){return typeof Oe=="object"});ve&&!ne.value?ne.value=he:he.length&&(!ne.value||typeof ne.value!="string")&&(ne.value=he.join(""))}}}}),E.forEach(function(K){K.length=0});var S={};function F(K){for(var H=[],J=0;J<K.length;J++){var ne=K[J];if(typeof ne=="object"){if(S[ne.tabstopId])continue;var oe=K.lastIndexOf(ne,J-1);ne=H[oe]||{tabstopId:ne.tabstopId}}H[J]=ne}return H}for(var D=0;D<C.length;D++){var P=C[D];if(typeof P=="object"){var L=P.tabstopId,N=E[L],W=C.indexOf(P,D+1);if(S[L]){S[L]===P&&(delete S[L],Object.keys(S).forEach(function(K){N.parents[K]=!0}));continue}S[L]=P;var j=N.value;typeof j!="string"?j=F(j):P.fmt&&(j=this.tmStrFormat(j,P,k)),C.splice.apply(C,[D+1,Math.max(0,W-D)].concat(j,P)),N.indexOf(P)===-1&&N.push(P)}}var U=0,z=0,Q="";return C.forEach(function(K){if(typeof K=="string"){var H=K.split(`
`);H.length>1?(z=H[H.length-1].length,U+=H.length-1):z+=K.length,Q+=K}else K&&(K.start?K.end={row:U,column:z}:K.start={row:U,column:z})}),{text:Q,tabstops:E,tokens:C}},y=function(){function k(R){if(this.index=0,this.ranges=[],this.tabstops=[],R.tabstopManager)return R.tabstopManager;R.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=l.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(R)}return k.prototype.attach=function(R){this.$openTabstops=null,this.selectedTabstop=null,this.editor=R,this.session=R.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},k.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},k.prototype.onChange=function(R){for(var A=R.action[0]=="r",T=this.selectedTabstop||{},O=T.parents||{},M=this.tabstops.slice(),$=0;$<M.length;$++){var C=M[$],E=C==T||O[C.index];if(C.rangeList.$bias=E?0:1,R.action=="remove"&&C!==T){var S=C.parents&&C.parents[T.index],F=C.rangeList.pointIndex(R.start,S);F=F<0?-F-1:F+1;var D=C.rangeList.pointIndex(R.end,S);D=D<0?-D-1:D-1;for(var P=C.rangeList.ranges.slice(F,D),L=0;L<P.length;L++)this.removeRange(P[L])}C.rangeList.$onChange(R)}var N=this.session;!this.$inChange&&A&&N.getLength()==1&&!N.getValue()&&this.detach()},k.prototype.updateLinkedFields=function(){var R=this.selectedTabstop;if(!(!R||!R.hasLinkedRanges||!R.firstNonLinked)){this.$inChange=!0;for(var A=this.session,T=A.getTextRange(R.firstNonLinked),O=0;O<R.length;O++){var M=R[O];if(M.linked){var $=M.original,C=r.snippetManager.tmStrFormat(T,$,this.editor);A.replace(M,C)}}this.$inChange=!1}},k.prototype.onAfterExec=function(R){R.command&&!R.command.readOnly&&this.updateLinkedFields()},k.prototype.onChangeSelection=function(){if(this.editor){for(var R=this.editor.selection.lead,A=this.editor.selection.anchor,T=this.editor.selection.isEmpty(),O=0;O<this.ranges.length;O++)if(!this.ranges[O].linked){var M=this.ranges[O].contains(R.row,R.column),$=T||this.ranges[O].contains(A.row,A.column);if(M&&$)return}this.detach()}},k.prototype.onChangeSession=function(){this.detach()},k.prototype.tabNext=function(R){var A=this.tabstops.length,T=this.index+(R||1);T=Math.min(Math.max(T,1),A),T==A&&(T=0),this.selectTabstop(T),this.updateTabstopMarkers(),T===0&&this.detach()},k.prototype.selectTabstop=function(R){this.$openTabstops=null;var A=this.tabstops[this.index];if(A&&this.addTabstopMarkers(A),this.index=R,A=this.tabstops[this.index],!(!A||!A.length)){this.selectedTabstop=A;var T=A.firstNonLinked||A;if(A.choices&&(T.cursor=T.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(T);else{var O=this.editor.multiSelect;O.toSingleRange(T);for(var M=0;M<A.length;M++)A.hasLinkedRanges&&A[M].linked||O.addRange(A[M].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},k.prototype.addTabstops=function(R,A,T){var O=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!R[0]){var M=c.fromPoints(T,T);w(M.start,A),w(M.end,A),R[0]=[M],R[0].index=0}var $=this.index,C=[$+1,0],E=this.ranges,S=this.snippetId=(this.snippetId||0)+1;R.forEach(function(F,D){var P=this.$openTabstops[D]||F;P.snippetId=S;for(var L=0;L<F.length;L++){var N=F[L],W=c.fromPoints(N.start,N.end||N.start);x(W.start,A),x(W.end,A),W.original=N,W.tabstop=P,E.push(W),P!=F?P.unshift(W):P[L]=W,N.fmtString||P.firstNonLinked&&O?(W.linked=!0,P.hasLinkedRanges=!0):P.firstNonLinked||(P.firstNonLinked=W)}P.firstNonLinked||(P.hasLinkedRanges=!1),P===F&&(C.push(P),this.$openTabstops[D]=P),this.addTabstopMarkers(P),P.rangeList=P.rangeList||new u,P.rangeList.$bias=0,P.rangeList.addList(P)},this),C.length>2&&(this.tabstops.length&&C.push(C.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,C))},k.prototype.addTabstopMarkers=function(R){var A=this.session;R.forEach(function(T){T.markerId||(T.markerId=A.addMarker(T,"ace_snippet-marker","text"))})},k.prototype.removeTabstopMarkers=function(R){var A=this.session;R.forEach(function(T){A.removeMarker(T.markerId),T.markerId=null})},k.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var R=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&R--,this.tabstops.forEach(function(A){A.snippetId===R?this.addTabstopMarkers(A):this.removeTabstopMarkers(A)},this)}},k.prototype.removeRange=function(R){var A=R.tabstop.indexOf(R);A!=-1&&R.tabstop.splice(A,1),A=this.ranges.indexOf(R),A!=-1&&this.ranges.splice(A,1),A=R.tabstop.rangeList.ranges.indexOf(R),A!=-1&&R.tabstop.splice(A,1),this.session.removeMarker(R.markerId),R.tabstop.length||(A=this.tabstops.indexOf(R.tabstop),A!=-1&&this.tabstops.splice(A,1),this.tabstops.length||this.detach())},k}();y.prototype.keyboardHandler=new d,y.prototype.keyboardHandler.bindKeys({Tab:function(k){r.snippetManager&&r.snippetManager.expandWithTab(k)||(k.tabstopManager.tabNext(1),k.renderer.scrollCursorIntoView())},"Shift-Tab":function(k){k.tabstopManager.tabNext(-1),k.renderer.scrollCursorIntoView()},Esc:function(k){k.tabstopManager.detach()}});var x=function(k,R){k.row==0&&(k.column+=R.column),k.row+=R.row},w=function(k,R){k.row==R.row&&(k.column-=R.column),k.row-=R.row};a.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),r.snippetManager=new v;var _=n("./editor").Editor;(function(){this.insertSnippet=function(k,R){return r.snippetManager.insertSnippet(this,k,R)},this.expandSnippet=function(k){return r.snippetManager.expandWithTab(this,k)}}).call(_.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(n,r,i){var a=n("../virtual_renderer").VirtualRenderer,o=n("../editor").Editor,s=n("../range").Range,l=n("../lib/event"),c=n("../lib/lang"),u=n("../lib/dom"),d=n("../config").nls,f=n("./../lib/useragent"),h=function(x){return"suggest-aria-id:".concat(x)},g=f.isSafari?"menu":"listbox",m=f.isSafari?"menuitem":"option",v=f.isSafari?"aria-current":"aria-selected",b=function(x){var w=new a(x);w.$maxLines=4;var _=new o(w);return _.setHighlightActiveLine(!1),_.setShowPrintMargin(!1),_.renderer.setShowGutter(!1),_.renderer.setHighlightGutterLine(!1),_.$mouseHandler.$focusTimeout=0,_.$highlightTagPending=!0,_},y=function(){function x(w){var _=u.createElement("div"),k=b(_);w&&w.appendChild(_),_.style.display="none",k.renderer.content.style.cursor="default",k.renderer.setStyle("ace_autocomplete"),k.renderer.$textLayer.element.setAttribute("role",g),k.renderer.$textLayer.element.setAttribute("aria-roledescription",d("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),k.renderer.$textLayer.element.setAttribute("aria-label",d("autocomplete.popup.aria-label","Autocomplete suggestions")),k.renderer.textarea.setAttribute("aria-hidden","true"),k.setOption("displayIndentGuides",!1),k.setOption("dragDelay",150);var R=function(){};k.focus=R,k.$isFocused=!0,k.renderer.$cursorLayer.restartTimer=R,k.renderer.$cursorLayer.element.style.opacity="0",k.renderer.$maxLines=8,k.renderer.$keepTextAreaAtCursor=!1,k.setHighlightActiveLine(!1),k.session.highlight(""),k.session.$searchHighlight.clazz="ace_highlight-marker",k.on("mousedown",function(E){var S=E.getDocumentPosition();k.selection.moveToPosition(S),O.start.row=O.end.row=S.row,E.stop()});var A,T=new s(-1,0,-1,1/0),O=new s(-1,0,-1,1/0);O.id=k.session.addMarker(O,"ace_active-line","fullLine"),k.setSelectOnHover=function(E){E?T.id&&(k.session.removeMarker(T.id),T.id=null):T.id=k.session.addMarker(T,"ace_line-hover","fullLine")},k.setSelectOnHover(!1),k.on("mousemove",function(E){if(!A){A=E;return}if(!(A.x==E.x&&A.y==E.y)){A=E,A.scrollTop=k.renderer.scrollTop,k.isMouseOver=!0;var S=A.getDocumentPosition().row;T.start.row!=S&&(T.id||k.setRow(S),$(S))}}),k.renderer.on("beforeRender",function(){if(A&&T.start.row!=-1){A.$pos=null;var E=A.getDocumentPosition().row;T.id||k.setRow(E),$(E,!0)}}),k.renderer.on("afterRender",function(){for(var E=k.renderer.$textLayer,S=E.config.firstRow,F=E.config.lastRow;S<=F;S++){var D=E.element.childNodes[S-E.config.firstRow];D.setAttribute("role",m),D.setAttribute("aria-roledescription",d("autocomplete.popup.item.aria-roledescription","item")),D.setAttribute("aria-setsize",k.data.length),D.setAttribute("aria-describedby","doc-tooltip"),D.setAttribute("aria-posinset",S+1);var P=k.getData(S);if(P){var L="".concat(P.caption||P.value).concat(P.meta?", ".concat(P.meta):"");D.setAttribute("aria-label",L)}var N=D.querySelectorAll(".ace_completion-highlight");N.forEach(function(W){W.setAttribute("role","mark")})}}),k.renderer.on("afterRender",function(){var E=k.getRow(),S=k.renderer.$textLayer,F=S.element.childNodes[E-S.config.firstRow],D=document.activeElement;if(F!==k.selectedNode&&k.selectedNode&&(u.removeCssClass(k.selectedNode,"ace_selected"),k.selectedNode.removeAttribute(v),k.selectedNode.removeAttribute("id")),D.removeAttribute("aria-activedescendant"),k.selectedNode=F,F){var P=h(E);u.addCssClass(F,"ace_selected"),F.id=P,S.element.setAttribute("aria-activedescendant",P),D.setAttribute("aria-activedescendant",P),F.setAttribute(v,"true")}});var M=function(){$(-1)},$=function(E,S){E!==T.start.row&&(T.start.row=T.end.row=E,S||k.session._emit("changeBackMarker"),k._emit("changeHoverMarker"))};k.getHoveredRow=function(){return T.start.row},l.addListener(k.container,"mouseout",function(){k.isMouseOver=!1,M()}),k.on("hide",M),k.on("changeSelection",M),k.session.doc.getLength=function(){return k.data.length},k.session.doc.getLine=function(E){var S=k.data[E];return typeof S=="string"?S:S&&S.value||""};var C=k.session.bgTokenizer;return C.$tokenizeRow=function(E){var S=k.data[E],F=[];if(!S)return F;typeof S=="string"&&(S={value:S});var D=S.caption||S.value||S.name;function P(K,H){K&&F.push({type:(S.className||"")+(H||""),value:K})}for(var L=D.toLowerCase(),N=(k.filterText||"").toLowerCase(),W=0,j=0,U=0;U<=N.length;U++)if(U!=j&&(S.matchMask&1<<U||U==N.length)){var z=N.slice(j,U);j=U;var Q=L.indexOf(z,W);if(Q==-1)continue;P(D.slice(W,Q),""),W=Q+z.length,P(D.slice(Q,W),"completion-highlight")}return P(D.slice(W,D.length),""),F.push({type:"completion-spacer",value:" "}),S.meta&&F.push({type:"completion-meta",value:S.meta}),S.message&&F.push({type:"completion-message",value:S.message}),F},C.$updateOnChange=R,C.start=R,k.session.$computeWidth=function(){return this.screenWidth=0},k.isOpen=!1,k.isTopdown=!1,k.autoSelect=!0,k.filterText="",k.isMouseOver=!1,k.data=[],k.setData=function(E,S){k.filterText=S||"",k.setValue(c.stringRepeat(`
`,E.length),-1),k.data=E||[],k.setRow(0)},k.getData=function(E){return k.data[E]},k.getRow=function(){return O.start.row},k.setRow=function(E){E=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,E)),O.start.row!=E&&(k.selection.clearSelection(),O.start.row=O.end.row=E||0,k.session._emit("changeBackMarker"),k.moveCursorTo(E||0,0),k.isOpen&&k._signal("select"))},k.on("changeSelection",function(){k.isOpen&&k.setRow(k.selection.lead.row),k.renderer.scrollCursorIntoView()}),k.hide=function(){this.container.style.display="none",k.anchorPos=null,k.anchor=null,k.isOpen&&(k.isOpen=!1,this._signal("hide"))},k.tryShow=function(E,S,F,D){if(!D&&k.isOpen&&k.anchorPos&&k.anchor&&k.anchorPos.top===E.top&&k.anchorPos.left===E.left&&k.anchor===F)return!0;var P=this.container,L=this.renderer.scrollBar.width||10,N=window.innerHeight-L,W=window.innerWidth-L,j=this.renderer,U=j.$maxLines*S*1.4,z={top:0,bottom:0},Q=N-E.top-3*this.$borderSize-S,K=E.top-3*this.$borderSize;F||(K<=Q||Q>=U?F="bottom":F="top"),F==="top"?(z.bottom=E.top-this.$borderSize,z.top=z.bottom-U):F==="bottom"&&(z.top=E.top+S+this.$borderSize,z.bottom=z.top+U);var H=z.top>=0&&z.bottom<=N;if(!D&&!H)return!1;H?j.$maxPixelHeight=null:F==="top"?j.$maxPixelHeight=K:j.$maxPixelHeight=Q,F==="top"?(P.style.top="",P.style.bottom=N+L-z.bottom+"px",k.isTopdown=!1):(P.style.top=z.top+"px",P.style.bottom="",k.isTopdown=!0),P.style.display="";var J=E.left;return J+P.offsetWidth>W&&(J=W-P.offsetWidth),P.style.left=J+"px",P.style.right="",k.isOpen||(k.isOpen=!0,this._signal("show"),A=null),k.anchorPos=E,k.anchor=F,!0},k.show=function(E,S,F){this.tryShow(E,S,F?"bottom":void 0,!0)},k.goTo=function(E){var S=this.getRow(),F=this.session.getLength()-1;switch(E){case"up":S=S<=0?F:S-1;break;case"down":S=S>=F?-1:S+1;break;case"start":S=0;break;case"end":S=F;break}this.setRow(S)},k.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},k.$imageSize=0,k.$borderSize=1,k}return x}();u.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),r.AcePopup=y,r.$singleLineEditor=b,r.getAriaId=h}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(n,r,i){var a=function(){function o(s){this.editor=s,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return o.prototype.setScreenReaderContent=function(s){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var c=this.popup.getRow(),u=this.popup.renderer.$textLayer,d=u.element.childNodes[c-u.config.firstRow];if(d){for(var f="doc-tooltip ",h=0;h<this._lines.length;h++)f+="ace-inline-screenreader-line-".concat(h," ");d.setAttribute("aria-describedby",f)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=s.split(/\r\n|\r|\n/);var l=this.createCodeBlock();this.screenReaderDiv.appendChild(l)},o.prototype.destroy=function(){this.screenReaderDiv.remove()},o.prototype.createCodeBlock=function(){var s=document.createElement("pre");s.setAttribute("id","ace-inline-screenreader");for(var l=0;l<this._lines.length;l++){var c=document.createElement("code");c.setAttribute("id","ace-inline-screenreader-line-".concat(l));var u=document.createTextNode(this._lines[l]);c.appendChild(u),s.appendChild(c)}return s},o}();r.AceInlineScreenReader=a}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(n,r,i){var a=n("../snippets").snippetManager,o=n("./inline_screenreader").AceInlineScreenReader,s=function(){function l(){this.editor=null}return l.prototype.show=function(c,u,d){if(d=d||"",c&&this.editor&&this.editor!==c&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!c||!u)return!1;this.inlineScreenReader||(this.inlineScreenReader=new o(c));var f=u.snippet?a.getDisplayTextForSnippet(c,u.snippet):u.value;return u.hideInlinePreview||!f||!f.startsWith(d)?!1:(this.editor=c,this.inlineScreenReader.setScreenReaderContent(f),f=f.slice(d.length),f===""?c.removeGhostText():c.setGhostText(f),!0)},l.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},l.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},l.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},l}();r.AceInline=s}),ace.define("ace/autocomplete/util",["require","exports","module"],function(n,r,i){r.parForEach=function(o,s,l){var c=0,u=o.length;u===0&&l();for(var d=0;d<u;d++)s(o[d],function(f,h){c++,c===u&&l(f,h)})};var a=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;r.retrievePrecedingIdentifier=function(o,s,l){l=l||a;for(var c=[],u=s-1;u>=0&&l.test(o[u]);u--)c.push(o[u]);return c.reverse().join("")},r.retrieveFollowingIdentifier=function(o,s,l){l=l||a;for(var c=[],u=s;u<o.length&&l.test(o[u]);u++)c.push(o[u]);return c},r.getCompletionPrefix=function(o){var s=o.getCursorPosition(),l=o.session.getLine(s.row),c;return o.completers.forEach((function(u){u.identifierRegexps&&u.identifierRegexps.forEach((function(d){!c&&d&&(c=this.retrievePrecedingIdentifier(l,s.column,d))}).bind(this))}).bind(this)),c||this.retrievePrecedingIdentifier(l,s.column)},r.triggerAutocomplete=function(o,l){var l=l??o.session.getPrecedingCharacter();return o.completers.some(function(c){if(c.triggerCharacters&&Array.isArray(c.triggerCharacters))return c.triggerCharacters.includes(l)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(n,r,i){var a=n("./keyboard/hash_handler").HashHandler,o=n("./autocomplete/popup").AcePopup,s=n("./autocomplete/inline").AceInline,l=n("./autocomplete/popup").getAriaId,c=n("./autocomplete/util"),u=n("./lib/lang"),d=n("./lib/dom"),f=n("./snippets").snippetManager,h=n("./config"),g=n("./lib/event"),m=n("./lib/scroll").preventParentScroll,v=function(w,_){_.completer&&_.completer.destroy()},b=function(){function w(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new a,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=u.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=u.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=u.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=u.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=u.delayedCall((function(){var _=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!_||this.editor.completers.length===0||(this.completions=new x(w.completionsForLoading),this.openPopup(this.editor,_.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(w,"completionsForLoading",{get:function(){return[{caption:h.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),w.prototype.$init=function(){return this.popup=new o(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(_){this.insertMatch(),_.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),g.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},w.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new s,this.inlineRenderer},w.prototype.getPopup=function(){return this.popup||this.$init()},w.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},w.prototype.$seen=function(_){!this.hasSeen.has(_)&&_&&_.completer&&_.completer.onSeen&&typeof _.completer.onSeen=="function"&&(_.completer.onSeen(this.editor,_),this.hasSeen.add(_))},w.prototype.$onPopupChange=function(_){if(this.inlineRenderer&&this.inlineEnabled){var k=_?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(k),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},w.prototype.$updateGhostText=function(_){var k=this.base.row,R=this.base.column,A=this.editor.getCursorPosition().column,T=this.editor.session.getLine(k).slice(R,A);this.inlineRenderer.show(this.editor,_,T)?this.$seen(_):this.inlineRenderer.hide()},w.prototype.$onPopupRender=function(){var _=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var k=this.popup.getFirstVisibleRow();k<=this.popup.getLastVisibleRow();k++){var R=this.popup.getData(k);R&&(!_||R.hideInlinePreview)&&this.$seen(R)}},w.prototype.$onPopupShow=function(_){this.$onPopupChange(_),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},w.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var _=this.editor.container.parentNode,k=[];_;)k.push(_),_.addEventListener("scroll",this.onLayoutChange,{passive:!0}),_=_.parentNode;this.$elements=k}},w.prototype.unObserveLayoutChanges=function(){var _=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(k){k.removeEventListener("scroll",_.onLayoutChange,{passive:!0})}),this.$elements=null},w.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},w.prototype.$updatePopupPosition=function(){var _=this.editor,k=_.renderer,R=k.layerConfig.lineHeight,A=k.$cursorLayer.getPixelPosition(this.base,!0);A.left-=this.popup.getTextLeftOffset();var T=_.container.getBoundingClientRect();A.top+=T.top-k.layerConfig.offset,A.left+=T.left-_.renderer.scrollLeft,A.left+=k.gutterWidth;var O={top:A.top,left:A.left};k.$ghostText&&k.$ghostTextWidget&&this.base.row===k.$ghostText.position.row&&(O.top+=k.$ghostTextWidget.el.offsetHeight);var M=_.container.getBoundingClientRect().bottom-R,$=M<O.top?{top:M,left:O.left}:O;this.popup.tryShow($,R,"bottom")||this.popup.tryShow(A,R,"top")||this.popup.show(A,R)},w.prototype.openPopup=function(_,k,R){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var A=this.popup.getRow(),T=this.popup.data[A];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:l(this.popup.getRow()),inline:this.inlineEnabled}),_.keyBinding.addKeyboardHandler(this.keyboardHandler);var O;this.stickySelection&&(O=this.popup.data.indexOf(T)),(!O||O===-1)&&(O=0),this.popup.setRow(this.autoSelect?O:-1),O===A&&T!==this.completions.filtered[O]&&this.$onPopupChange();var M=this.inlineRenderer&&this.inlineEnabled;if(O===A&&M){var $=this.popup.getData(this.popup.getRow());this.$updateGhostText($)}R||(this.popup.setTheme(_.getTheme()),this.popup.setFontSize(_.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},w.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},w.prototype.changeListener=function(_){var k=this.editor.selection.lead;(k.row!=this.base.row||k.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},w.prototype.blurListener=function(_){var k=document.activeElement,R=this.editor.textInput.getElement(),A=_.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(_.relatedTarget),T=this.popup&&this.popup.container;k!=R&&k.parentNode!=T&&!A&&k!=this.tooltipNode&&_.relatedTarget!=R&&this.detach()},w.prototype.mousedownListener=function(_){this.detach()},w.prototype.mousewheelListener=function(_){this.popup&&!this.popup.isMouseOver&&this.detach()},w.prototype.mouseOutListener=function(_){this.popup.isOpen&&this.$updatePopupPosition()},w.prototype.goTo=function(_){this.popup.goTo(_)},w.prototype.insertMatch=function(_,k){if(_||(_=this.popup.getData(this.popup.getRow())),!_)return!1;if(_.value==="")return this.detach();var R=this.completions,A=this.getCompletionProvider().insertMatch(this.editor,_,R.filterText,k);return this.completions==R&&this.detach(),A},w.prototype.showPopup=function(_,k){this.editor&&this.detach(),this.activated=!0,this.editor=_,_.completer!=this&&(_.completer&&_.completer.detach(),_.completer=this),_.on("changeSelection",this.changeListener),_.on("blur",this.blurListener),_.on("mousedown",this.mousedownListener),_.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,k)},w.prototype.getCompletionProvider=function(_){return this.completionProvider||(this.completionProvider=new y(_)),this.completionProvider},w.prototype.gatherCompletions=function(_,k){return this.getCompletionProvider().gatherCompletions(_,k)},w.prototype.updateCompletions=function(_,k){if(_&&this.base&&this.completions){var A=this.editor.getCursorPosition(),T=this.editor.session.getTextRange({start:this.base,end:A});if(T==this.completions.filterText)return;if(this.completions.setFilter(T),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==T&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,T,_);return}if(k&&k.matches){var A=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(A.row,A.column),this.base.$insertRight=!0,this.completions=new x(k.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",_)}var R=this.editor.getSession(),A=this.editor.getCursorPosition(),T=c.getCompletionPrefix(this.editor);this.base=R.doc.createAnchor(A.row,A.column-T.length),this.base.$insertRight=!0;var O={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:T,pos:A}).provideCompletions(this.editor,O,(function(M,$,C){var E=$.filtered,S=c.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),C){if(!E.length){var F=!this.autoShown&&this.emptyMessage;if(typeof F=="function"&&(F=this.emptyMessage(S)),F){var D=[{caption:F,value:""}];this.completions=new x(D),this.openPopup(this.editor,S,_),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(E.length==1&&E[0].value==S&&!E[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&E.length==1)return this.insertMatch(E[0])}this.completions=!C&&this.showLoadingState?new x(w.completionsForLoading.concat(E),$.filterText):$,this.openPopup(this.editor,S,_),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!C)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},w.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},w.prototype.updateDocTooltip=function(){var _=this.popup,k=this.completions&&this.completions.filtered,R=k&&(k[_.getHoveredRow()]||k[_.getRow()]),A=null;if(!R||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var T=this.editor.completers.length,O=0;O<T;O++){var M=this.editor.completers[O];if(M.getDocTooltip&&R.completerId===M.id){A=M.getDocTooltip(R);break}}if(!A&&typeof R!="string"&&(A=R),typeof A=="string"&&(A={docText:A}),!A||!(A.docHTML||A.docText))return this.hideDocTooltip();this.showDocTooltip(A)},w.prototype.showDocTooltip=function(_){this.tooltipNode||(this.tooltipNode=d.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",m));var k=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(k.isDark?"ace_dark ":"")+(k.cssClass||"");var R=this.tooltipNode;_.docHTML?R.innerHTML=_.docHTML:_.docText&&(R.textContent=_.docText),R.parentNode||this.popup.container.appendChild(this.tooltipNode);var A=this.popup,T=A.container.getBoundingClientRect(),O=400,M=300,$=A.renderer.scrollBar.width||10,C=T.left,E=window.innerWidth-T.right-$,S=A.isTopdown?T.top:window.innerHeight-$-T.bottom,F=[Math.min(E/O,1),Math.min(C/O,1),Math.min(S/M*.9)],D=Math.max.apply(Math,F),P=R.style;P.display="block",D==F[0]?(P.left=T.right+1+"px",P.right="",P.maxWidth=O*D+"px",P.top=T.top+"px",P.bottom="",P.maxHeight=Math.min(window.innerHeight-$-T.top,M)+"px"):D==F[1]?(P.right=window.innerWidth-T.left+"px",P.left="",P.maxWidth=O*D+"px",P.top=T.top+"px",P.bottom="",P.maxHeight=Math.min(window.innerHeight-$-T.top,M)+"px"):D==F[2]&&(P.left=window.innerWidth-T.left+"px",P.maxWidth=Math.min(O,window.innerWidth)+"px",A.isTopdown?(P.top=T.bottom+"px",P.left=T.left+"px",P.right="",P.bottom="",P.maxHeight=Math.min(window.innerHeight-$-T.bottom,M)+"px"):(P.top=A.container.offsetTop-R.offsetHeight+"px",P.left=T.left+"px",P.right="",P.bottom="",P.maxHeight=Math.min(A.container.offsetTop,M)+"px"))},w.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var _=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==_&&this.editor.focus(),this.tooltipNode=null,_.parentNode&&_.parentNode.removeChild(_)}},w.prototype.onTooltipClick=function(_){for(var k=_.target;k&&k!=this.tooltipNode;){if(k.nodeName=="A"&&k.href){k.rel="noreferrer",k.target="_blank";break}k=k.parentNode}},w.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var _=this.popup.container;_&&_.parentNode&&_.parentNode.removeChild(_)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",v),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},w.for=function(_){return _.completer instanceof w||(_.completer&&(_.completer.destroy(),_.completer=null),h.get("sharedPopups")?(w.$sharedInstance||(w.$sharedInstance=new w),_.completer=w.$sharedInstance):(_.completer=new w,_.once("destroy",v))),_.completer},w}();b.prototype.commands={Up:function(w){w.completer.goTo("up")},Down:function(w){w.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(w){w.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(w){w.completer.goTo("end")},Esc:function(w){w.completer.detach()},Return:function(w){return w.completer.insertMatch()},"Shift-Return":function(w){w.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(w){var _=w.completer.insertMatch();if(!_&&!w.tabstopManager)w.completer.goTo("down");else return _},Backspace:function(w){w.execCommand("backspace");var _=c.getCompletionPrefix(w);!_&&w.completer&&w.completer.detach()},PageUp:function(w){w.completer.popup.gotoPageUp()},PageDown:function(w){w.completer.popup.gotoPageDown()}},b.startCommand={name:"startAutocomplete",exec:function(w,_){var k=b.for(w);k.autoInsert=!1,k.autoSelect=!0,k.autoShown=!1,k.showPopup(w,_),k.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var y=function(){function w(_){this.initialPosition=_,this.active=!0}return w.prototype.insertByIndex=function(_,k,R){return!this.completions||!this.completions.filtered?!1:this.insertMatch(_,this.completions.filtered[k],R)},w.prototype.insertMatch=function(_,k,R){if(!k)return!1;if(_.startOperation({command:{name:"insertMatch"}}),k.completer&&k.completer.insertMatch)k.completer.insertMatch(_,k);else{if(!this.completions)return!1;var A=this.completions.filterText.length,T=0;if(k.range&&k.range.start.row===k.range.end.row&&(A-=this.initialPosition.prefix.length,A+=this.initialPosition.pos.column-k.range.start.column,T+=k.range.end.column-this.initialPosition.pos.column),A||T){var O;_.selection.getAllRanges?O=_.selection.getAllRanges():O=[_.getSelectionRange()];for(var M=0,$;$=O[M];M++)$.start.column-=A,$.end.column+=T,_.session.remove($)}k.snippet?f.insertSnippet(_,k.snippet):this.$insertString(_,k),k.completer&&k.completer.onInsert&&typeof k.completer.onInsert=="function"&&k.completer.onInsert(_,k),k.command&&k.command==="startAutocomplete"&&_.execCommand(k.command)}return _.endOperation(),!0},w.prototype.$insertString=function(_,k){var R=k.value||k;_.execCommand("insertstring",R)},w.prototype.gatherCompletions=function(_,k){var R=_.getSession(),A=_.getCursorPosition(),T=c.getCompletionPrefix(_),O=[];this.completers=_.completers;var M=_.completers.length;return _.completers.forEach(function($,C){$.getCompletions(_,R,A,T,function(E,S){$.hideInlinePreview&&(S=S.map(function(F){return Object.assign(F,{hideInlinePreview:$.hideInlinePreview})})),!E&&S&&(O=O.concat(S)),k(null,{prefix:c.getCompletionPrefix(_),matches:O,finished:--M===0})})}),!0},w.prototype.provideCompletions=function(_,k,R){var A=(function($){var C=$.prefix,E=$.matches;this.completions=new x(E),k.exactMatch&&(this.completions.exactMatch=!0),k.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(C),($.finished||this.completions.filtered.length)&&R(null,this.completions,$.finished)}).bind(this),T=!0,O=null;if(this.gatherCompletions(_,(function($,C){if(this.active){$&&(R($,[],!0),this.detach());var E=C.prefix;if(E.indexOf(C.prefix)===0){if(T){O=C;return}A(C)}}}).bind(this)),T=!1,O){var M=O;O=null,A(M)}},w.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(_){typeof _.cancel=="function"&&_.cancel()})},w}(),x=function(){function w(_,k){this.all=_,this.filtered=_,this.filterText=k||"",this.exactMatch=!1,this.ignoreCaption=!1}return w.prototype.setFilter=function(_){if(_.length>this.filterText&&_.lastIndexOf(this.filterText,0)===0)var k=this.filtered;else var k=this.all;this.filterText=_,k=this.filterCompletions(k,this.filterText),k=k.sort(function(A,T){return T.exactMatch-A.exactMatch||T.$score-A.$score||(A.caption||A.value).localeCompare(T.caption||T.value)});var R=null;k=k.filter(function(A){var T=A.snippet||A.caption||A.value;return T===R?!1:(R=T,!0)}),this.filtered=k},w.prototype.filterCompletions=function(_,k){var R=[],A=k.toUpperCase(),T=k.toLowerCase();e:for(var O=0,M;M=_[O];O++){if(M.skipFilter){M.$score=M.score,R.push(M);continue}var $=!this.ignoreCaption&&M.caption||M.value||M.snippet;if($){var C=-1,E=0,S=0,F,D;if(this.exactMatch){if(k!==$.substr(0,k.length))continue e}else{var P=$.toLowerCase().indexOf(T);if(P>-1)S=P;else for(var L=0;L<k.length;L++){var N=$.indexOf(T[L],C+1),W=$.indexOf(A[L],C+1);if(F=N>=0&&(W<0||N<W)?N:W,F<0)continue e;D=F-C-1,D>0&&(C===-1&&(S+=10),S+=D,E=E|1<<L),C=F}}M.matchMask=E,M.exactMatch=S?0:1,M.$score=(M.score||0)-S,R.push(M)}}return R},w}();r.Autocomplete=b,r.CompletionProvider=y,r.FilteredList=x}),ace.define("ace/marker_group",["require","exports","module"],function(n,r,i){var a=function(){function o(s,l){l&&(this.markerType=l.markerType),this.markers=[],this.session=s,s.addDynamicMarker(this)}return o.prototype.getMarkerAtPosition=function(s){return this.markers.find(function(l){return l.range.contains(s.row,s.column)})},o.prototype.markersComparator=function(s,l){return s.range.start.row-l.range.start.row},o.prototype.setMarkers=function(s){this.markers=s.sort(this.markersComparator).slice(0,this.MAX_MARKERS),this.session._signal("changeBackMarker")},o.prototype.update=function(s,l,c,u){if(!(!this.markers||!this.markers.length))for(var d=u.firstRow,f=u.lastRow,h,g=0,m=0,v=0;v<this.markers.length;v++){var b=this.markers[v];if(!(b.range.end.row<d)&&!(b.range.start.row>f)&&(b.range.start.row===m?g++:(m=b.range.start.row,g=0),!(g>200))){var y=b.range.clipRows(d,f);if(!(y.start.row===y.end.row&&y.start.column===y.end.column)){var x=y.toScreenRange(c);if(x.isEmpty()){h=c.getNextFoldLine(y.end.row,h),h&&h.end.row>y.end.row&&(d=h.end.row);continue}this.markerType==="fullLine"?l.drawFullLineMarker(s,x,b.className,u):x.isMultiLine()?this.markerType==="line"?l.drawMultiLineMarker(s,x,b.className,u):l.drawTextMarker(s,x,b.className,u):l.drawSingleLineMarker(s,x,b.className+" ace_br15",u)}}}},o}();a.prototype.MAX_MARKERS=1e4,r.MarkerGroup=a}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,r,i){var a=n("../range").Range,o=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function s(c,u){var d=c.getTextRange(a.fromPoints({row:0,column:0},u));return d.split(o).length-1}function l(c,u){var d=s(c,u),f=c.getValue().split(o),h=Object.create(null),g=f[d];return f.forEach(function(m,v){if(!(!m||m===g)){var b=Math.abs(d-v),y=f.length-b;h[m]?h[m]=Math.max(y,h[m]):h[m]=y}}),h}r.getCompletions=function(c,u,d,f,h){var g=l(u,d),m=Object.keys(g);h(null,m.map(function(v){return{caption:v,value:v,score:g[v],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/marker_group","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,r,i){var a=n("../snippets").snippetManager,o=n("../autocomplete").Autocomplete,s=n("../config"),l=n("../lib/lang"),c=n("../autocomplete/util"),u=n("../marker_group").MarkerGroup,d=n("../autocomplete/text_completer"),f={getCompletions:function(T,O,M,$,C){if(O.$mode.completer)return O.$mode.completer.getCompletions(T,O,M,$,C);var E=T.session.getState(M.row),S=O.$mode.getCompletions(E,O,M,$);S=S.map(function(F){return F.completerId=f.id,F}),C(null,S)},id:"keywordCompleter"},h=function(T){var O={};return T.replace(/\${(\d+)(:(.*?))?}/g,function(M,$,C,E){return O[$]=E||""}).replace(/\$(\d+?)/g,function(M,$){return O[$]})},g={getCompletions:function(T,O,M,$,C){var E=[],S=O.getTokenAt(M.row,M.column);S&&S.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?E.push("html-tag"):E=a.getActiveScopes(T);var F=a.snippetMap,D=[];E.forEach(function(P){for(var L=F[P]||[],N=L.length;N--;){var W=L[N],j=W.name||W.tabTrigger;j&&D.push({caption:j,snippet:W.content,meta:W.tabTrigger&&!W.name?W.tabTrigger+" ":"snippet",completerId:g.id})}},this),C(null,D)},getDocTooltip:function(T){T.snippet&&!T.docHTML&&(T.docHTML=["<b>",l.escapeHTML(T.caption),"</b>","<hr></hr>",l.escapeHTML(h(T.snippet))].join(""))},id:"snippetCompleter"},m=[g,d,f];r.setCompleters=function(T){m.length=0,T&&m.push.apply(m,T)},r.addCompleter=function(T){m.push(T)},r.textCompleter=d,r.keyWordCompleter=f,r.snippetCompleter=g;var v={name:"expandSnippet",exec:function(T){return a.expandWithTab(T)},bindKey:"Tab"},b=function(T,O){y(O.session.$mode)},y=function(T){typeof T=="string"&&(T=s.$modes[T]),T&&(a.files||(a.files={}),x(T.$id,T.snippetFileId),T.modes&&T.modes.forEach(y))},x=function(T,O){!O||!T||a.files[T]||(a.files[T]={},s.loadModule(O,function(M){M&&(a.files[T]=M,!M.snippets&&M.snippetText&&(M.snippets=a.parseSnippetFile(M.snippetText)),a.register(M.snippets||[],M.scope),M.includeScopes&&(a.snippetMap[M.scope].includeScopes=M.includeScopes,M.includeScopes.forEach(function($){y("ace/mode/"+$)})))}))},w=function(T){var O=T.editor,M=O.completer&&O.completer.activated;if(T.command.name==="backspace")M&&!c.getCompletionPrefix(O)&&O.completer.detach();else if(T.command.name==="insertstring"&&!M){_=T;var $=T.editor.$liveAutocompletionDelay;$?k.delay($):R(T)}},_,k=l.delayedCall(function(){R(_)},0),R=function(T){var O=T.editor,M=c.getCompletionPrefix(O),$=T.args,C=c.triggerAutocomplete(O,$);if(M&&M.length>=O.$liveAutocompletionThreshold||C){var E=o.for(O);E.autoShown=!0,E.showPopup(O)}},A=n("../editor").Editor;n("../config").defineOptions(A.prototype,"editor",{enableBasicAutocompletion:{set:function(T){T?(o.for(this),this.completers||(this.completers=Array.isArray(T)?T:m),this.commands.addCommand(o.startCommand)):this.commands.removeCommand(o.startCommand)},value:!1},enableLiveAutocompletion:{set:function(T){T?(this.completers||(this.completers=Array.isArray(T)?T:m),this.commands.on("afterExec",w)):this.commands.off("afterExec",w)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(T){T?(this.commands.addCommand(v),this.on("changeMode",b),b(null,this)):(this.commands.removeCommand(v),this.off("changeMode",b))},value:!1}}),r.MarkerGroup=u}),function(){ace.require(["ace/ext/language_tools"],function(n){t&&(t.exports=n)})}()}(af)),af.exports}gT();var of={exports:{}},sv;function mT(){return sv||(sv=1,function(t,e){ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(n,r,i){var a=n("../../lib/oop"),o=n("./fold_mode").FoldMode,s=n("../../range").Range,l=r.FoldMode=function(){};a.inherits(l,o),(function(){this.commentBlock=function(c,u){var d=/\S/,f=c.getLine(u),h=f.search(d);if(!(h==-1||f[h]!="#")){for(var g=f.length,m=c.getLength(),v=u,b=u;++u<m;){f=c.getLine(u);var y=f.search(d);if(y!=-1){if(f[y]!="#")break;b=u}}if(b>v){var x=c.getLine(b).length;return new s(v,g,b,x)}}},this.getFoldWidgetRange=function(c,u,d){var f=this.indentationBlock(c,d);if(f||(f=this.commentBlock(c,d),f))return f},this.getFoldWidget=function(c,u,d){var f=c.getLine(d),h=f.search(/\S/),g=c.getLine(d+1),m=c.getLine(d-1),v=m.search(/\S/),b=g.search(/\S/);if(h==-1)return c.foldWidgets[d-1]=v!=-1&&v<b?"start":"","";if(v==-1){if(h==b&&f[h]=="#"&&g[h]=="#")return c.foldWidgets[d-1]="",c.foldWidgets[d+1]="","start"}else if(v==h&&f[h]=="#"&&m[h]=="#"&&c.getLine(d-2).search(/\S/)==-1)return c.foldWidgets[d-1]="start",c.foldWidgets[d+1]="","";return v!=-1&&v<h?c.foldWidgets[d-1]="start":c.foldWidgets[d-1]="",h<b?"start":""}}).call(l.prototype)}),ace.define("ace/mode/snippets",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/text_highlight_rules","ace/mode/folding/coffee"],function(n,r,i){var a=n("../lib/oop"),o=n("./text").Mode,s=n("./text_highlight_rules").TextHighlightRules,l=function(){var f="SELECTION|CURRENT_WORD|SELECTED_TEXT|CURRENT_LINE|LINE_INDEX|LINE_NUMBER|SOFT_TABS|TAB_SIZE|FILENAME|FILEPATH|FULLNAME";this.$rules={start:[{token:"constant.language.escape",regex:/\\[\$}`\\]/},{token:"keyword",regex:"\\$(?:TM_)?(?:"+f+")\\b"},{token:"variable",regex:"\\$\\w+"},{onMatch:function(h,g,m){return m[1]?m[1]++:m.unshift(g,1),this.tokenName},tokenName:"markup.list",regex:"\\${",next:"varDecl"},{onMatch:function(h,g,m){return m[1]?(m[1]--,m[1]||m.splice(0,2),this.tokenName):"text"},tokenName:"markup.list",regex:"}"},{token:"doc.comment",regex:/^\${2}-{5,}$/}],varDecl:[{regex:/\d+\b/,token:"constant.numeric"},{token:"keyword",regex:"(?:TM_)?(?:"+f+")\\b"},{token:"variable",regex:"\\w+"},{regex:/:/,token:"punctuation.operator",next:"start"},{regex:/\//,token:"string.regex",next:"regexp"},{regex:"",next:"start"}],regexp:[{regex:/\\./,token:"escape"},{regex:/\[/,token:"regex.start",next:"charClass"},{regex:"/",token:"string.regex",next:"format"},{token:"string.regex",regex:"."}],charClass:[{regex:"\\.",token:"escape"},{regex:"\\]",token:"regex.end",next:"regexp"},{token:"string.regex",regex:"."}],format:[{regex:/\\[ulULE]/,token:"keyword"},{regex:/\$\d+/,token:"variable"},{regex:"/[gim]*:?",token:"string.regex",next:"start"},{token:"string",regex:"."}]}};a.inherits(l,s),r.SnippetHighlightRules=l;var c=function(){this.$rules={start:[{token:"text",regex:"^\\t",next:"sn-start"},{token:"invalid",regex:/^ \s*/},{token:"comment",regex:/^#.*/},{token:"constant.language.escape",regex:"^regex ",next:"regex"},{token:"constant.language.escape",regex:"^(trigger|endTrigger|name|snippet|guard|endGuard|tabTrigger|key)\\b"}],regex:[{token:"text",regex:"\\."},{token:"keyword",regex:"/"},{token:"empty",regex:"$",next:"start"}]},this.embedRules(l,"sn-",[{token:"text",regex:"^\\t",next:"sn-start"},{onMatch:function(f,h,g){return g.splice(g.length),this.tokenName},tokenName:"text",regex:"^(?!	)",next:"start"}])};a.inherits(c,s),r.SnippetGroupHighlightRules=c;var u=n("./folding/coffee").FoldMode,d=function(){this.HighlightRules=c,this.foldingRules=new u,this.$behaviour=this.$defaultBehaviour};a.inherits(d,o),(function(){this.$indentWithTabs=!0,this.lineCommentStart="#",this.$id="ace/mode/snippets",this.snippetFileId="ace/snippets/snippets"}).call(d.prototype),r.Mode=d}),function(){ace.require(["ace/mode/snippets"],function(n){t&&(t.exports=n)})}()}(of)),of.exports}mT();const C5={};C5.getData=t=>new Promise((e,n)=>{let r={};vT(t).then(i=>{r.arrayBuffer=i;try{r.orientation=wT(i)}catch{r.orientation=-1}e(r)}).catch(i=>{n(i)})});function vT(t){let e=null;return new Promise((n,r)=>{if(t.src)if(/^data\:/i.test(t.src))e=yT(t.src),n(e);else if(/^blob\:/i.test(t.src)){var i=new FileReader;i.onload=function(o){e=o.target.result,n(e)},bT(t.src,function(o){i.readAsArrayBuffer(o)})}else{var a=new XMLHttpRequest;a.onload=function(){if(this.status==200||this.status===0)e=a.response,n(e);else throw"Could not load image";a=null},a.open("GET",t.src,!0),a.responseType="arraybuffer",a.send(null)}else r("img error")})}function bT(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(r){(this.status==200||this.status===0)&&e(this.response)},n.send()}function yT(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/mi)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gmi,"");for(var n=atob(t),r=n.length%2==0?n.length:n.length+1,i=new ArrayBuffer(r),a=new Uint16Array(i),o=0;o<r;o++)a[o]=n.charCodeAt(o);return i}function xT(t,e,n){var r="",i;for(i=e,n+=e;i<n;i++)r+=String.fromCharCode(t.getUint8(i));return r}function wT(t){var e=new DataView(t),n=e.byteLength,r,i,a,o,s,l,c,u,d,f;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(d=2;d<n;){if(e.getUint8(d)===255&&e.getUint8(d+1)===225){c=d;break}d++}if(c&&(i=c+4,a=c+10,xT(e,i,4)==="Exif"&&(l=e.getUint16(a),s=l===18761,(s||l===19789)&&e.getUint16(a+2,s)===42&&(o=e.getUint32(a+4,s),o>=8&&(u=a+o)))),u){for(n=e.getUint16(u,s),f=0;f<n;f++)if(d=u+f*12+2,e.getUint16(d,s)===274){d+=8,r=e.getUint16(d,s);break}}return r}const _T=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},CT=Y({data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0,imgIsQqualCrop:!1}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:()=>[1,1]},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:[Number,String],default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:()=>10,validator:function(t){return Array.isArray(t)?Number(t[0])>=0&&Number(t[1])>=0:Number(t)>=0}},fillColor:{type:String,default:""}},computed:{cropInfo(){let t={};if(t.top=this.cropOffsertY>21?"-21px":"0px",t.width=this.cropW>0?this.cropW:0,t.height=this.cropH>0?this.cropH:0,this.infoTrue){let e=1;this.high&&!this.full&&(e=window.devicePixelRatio),this.enlarge!==1&!this.full&&(e=Math.abs(Number(this.enlarge))),t.width=t.width*e,t.height=t.height*e,this.full&&(t.width=t.width/this.scale,t.height=t.height/this.scale)}return t.width=t.width.toFixed(0),t.height=t.height.toFixed(0),t},isIE(){return!!window.ActiveXObject||"ActiveXObject"in window},passive(){return this.isIE?null:{passive:!1}},isRotateRightOrLeft(){return[1,-1,3,-3].includes(this.rotate)}},watch:{img(){this.checkedImg()},imgs(t){t!==""&&this.reload()},cropW(){this.showPreview()},cropH(){this.showPreview()},cropOffsertX(){this.showPreview()},cropOffsertY(){this.showPreview()},scale(t,e){this.showPreview()},x(){this.showPreview()},y(){this.showPreview()},autoCrop(t){t&&this.goAutoCrop()},autoCropWidth(){this.autoCrop&&this.goAutoCrop()},autoCropHeight(){this.autoCrop&&this.goAutoCrop()},mode(){this.checkedImg()},rotate(){this.showPreview(),this.autoCrop?this.goAutoCrop(this.cropW,this.cropH):(this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion(t){var e=navigator.userAgent.split(" "),n="";let r=0;const i=new RegExp(t,"i");for(var a=0;a<e.length;a++)i.test(e[a])&&(n=e[a]);return n?r=n.split("/")[1].split("."):r=["0","0","0"],r},checkOrientationImage(t,e,n,r){if(this.getVersion("chrome")[0]>=81)e=-1;else if(this.getVersion("safari")[0]>=605){const o=this.getVersion("version");o[0]>13&&o[1]>1&&(e=-1)}else{const o=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(o){let s=o[1];s=s.split("_"),(s[0]>13||s[0]>=13&&s[1]>=4)&&(e=-1)}}let i=document.createElement("canvas"),a=i.getContext("2d");switch(a.save(),e){case 2:i.width=n,i.height=r,a.translate(n,0),a.scale(-1,1);break;case 3:i.width=n,i.height=r,a.translate(n/2,r/2),a.rotate(180*Math.PI/180),a.translate(-n/2,-r/2);break;case 4:i.width=n,i.height=r,a.translate(0,r),a.scale(1,-1);break;case 5:i.height=n,i.width=r,a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:i.width=r,i.height=n,a.translate(r/2,n/2),a.rotate(90*Math.PI/180),a.translate(-n/2,-r/2);break;case 7:i.height=n,i.width=r,a.rotate(.5*Math.PI),a.translate(n,-r),a.scale(-1,1);break;case 8:i.height=n,i.width=r,a.translate(r/2,n/2),a.rotate(-90*Math.PI/180),a.translate(-n/2,-r/2);break;default:i.width=n,i.height=r}a.drawImage(t,0,0,n,r),a.restore(),i.toBlob(o=>{let s=URL.createObjectURL(o);URL.revokeObjectURL(this.imgs),this.imgs=s},"image/"+this.outputType,1)},checkedImg(){if(this.img===null||this.img===""){this.imgs="",this.clearCrop();return}this.loading=!0,this.scale=1,this.rotate=0,this.imgIsQqualCrop=!1,this.clearCrop();let t=new Image;if(t.onload=()=>{if(this.img==="")return this.$emit("img-load",new Error("")),!1;let n=t.width,r=t.height;C5.getData(t).then(i=>{this.orientation=i.orientation||1;let a=Number(this.maxImgSize);if(!this.orientation&&n<a&r<a){this.imgs=this.img;return}n>a&&(r=r/n*a,n=a),r>a&&(n=n/r*a,r=a),this.checkOrientationImage(t,this.orientation,n,r)}).catch(i=>{this.$emit("img-load","error"),this.$emit("img-load-error",i)})},t.onerror=n=>{this.$emit("img-load","error"),this.$emit("img-load-error",n)},this.img.substr(0,4)!=="data"&&(t.crossOrigin=""),this.isIE){var e=new XMLHttpRequest;e.onload=function(){var n=URL.createObjectURL(this.response);t.src=n},e.open("GET",this.img,!0),e.responseType="blob",e.send()}else t.src=this.img},startMove(t){if(t.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=("clientX"in t?t.clientX:t.touches[0].clientX)-this.x,this.moveY=("clientY"in t?t.clientY:t.touches[0].clientY)-this.y,t.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),t.touches.length==2&&(this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=t.offsetX?t.offsetX:t.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=t.offsetY?t.offsetY:t.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX="clientX"in t?t.clientX:t.touches[0].clientX,this.cropY="clientY"in t?t.clientY:t.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale(t){t.preventDefault();let e=this.scale;var n={x:this.touches[0].clientX,y:this.touches[0].clientY},r={x:t.touches[0].clientX,y:t.touches[0].clientY},i={x:this.touches[1].clientX,y:this.touches[1].clientY},a={x:t.touches[1].clientX,y:t.touches[1].clientY},o=Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2)),s=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),l=s-o,c=1;c=c/this.trueWidth>c/this.trueHeight?c/this.trueHeight:c/this.trueWidth,c=c>.1?.1:c;var u=c*l;if(!this.touchNow){if(this.touchNow=!0,l>0?e+=Math.abs(u):l<0&&e>Math.abs(u)&&(e-=Math.abs(u)),this.touches=t.touches,setTimeout(()=>{this.touchNow=!1},8),!this.checkoutImgAxis(this.x,this.y,e))return!1;this.scale=e}},cancelTouchScale(t){window.removeEventListener("touchmove",this.touchScale)},moveImg(t){if(t.preventDefault(),t.touches&&t.touches.length===2)return this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;let e="clientX"in t?t.clientX:t.touches[0].clientX,n="clientY"in t?t.clientY:t.touches[0].clientY,r,i;r=e-this.moveX,i=n-this.moveY,this.$nextTick(()=>{if(this.centerBox){let a=this.getImgAxis(r,i,this.scale),o=this.getCropAxis(),s=this.trueHeight*this.scale,l=this.trueWidth*this.scale,c,u,d,f;switch(this.rotate){case 1:case-1:case 3:case-3:c=this.cropOffsertX-this.trueWidth*(1-this.scale)/2+(s-l)/2,u=this.cropOffsertY-this.trueHeight*(1-this.scale)/2+(l-s)/2,d=c-s+this.cropW,f=u-l+this.cropH;break;default:c=this.cropOffsertX-this.trueWidth*(1-this.scale)/2,u=this.cropOffsertY-this.trueHeight*(1-this.scale)/2,d=c-l+this.cropW,f=u-s+this.cropH;break}a.x1>=o.x1&&(r=c),a.y1>=o.y1&&(i=u),a.x2<=o.x2&&(r=d),a.y2<=o.y2&&(i=f)}this.x=r,this.y=i,this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})})},leaveImg(t){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize(t){t.preventDefault();let e=this.scale;var n=t.deltaY||t.wheelDelta,r=navigator.userAgent.indexOf("Firefox");n=r>0?n*30:n,this.isIE&&(n=-n);var i=this.coe;i=i/this.trueWidth>i/this.trueHeight?i/this.trueHeight:i/this.trueWidth;var a=i*n;a<0?e+=Math.abs(a):e>Math.abs(a)&&(e-=Math.abs(a));let o=a<0?"add":"reduce";if(o!==this.coeStatus&&(this.coeStatus=o,this.coe=.2),this.scaling||(this.scalingSet=setTimeout(()=>{this.scaling=!1,this.coe=this.coe+=.01},50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,e))return!1;this.scale=e},changeScale(t){let e=this.scale;t=t||1;var n=20;if(n=n/this.trueWidth>n/this.trueHeight?n/this.trueHeight:n/this.trueWidth,t=t*n,t>0?e+=Math.abs(t):e>Math.abs(t)&&(e-=Math.abs(t)),!this.checkoutImgAxis(this.x,this.y,e))return!1;this.scale=e},createCrop(t){t.preventDefault();var e="clientX"in t?t.clientX:t.touches?t.touches[0].clientX:0,n="clientY"in t?t.clientY:t.touches?t.touches[0].clientY:0;this.$nextTick(()=>{var r=e-this.cropX,i=n-this.cropY;if(r>0?(this.cropW=r+this.cropChangeX>this.w?this.w-this.cropChangeX:r,this.cropOffsertX=this.cropChangeX):(this.cropW=this.w-this.cropChangeX+Math.abs(r)>this.w?this.cropChangeX:Math.abs(r),this.cropOffsertX=this.cropChangeX+r>0?this.cropChangeX+r:0),!this.fixed)i>0?(this.cropH=i+this.cropChangeY>this.h?this.h-this.cropChangeY:i,this.cropOffsertY=this.cropChangeY):(this.cropH=this.h-this.cropChangeY+Math.abs(i)>this.h?this.cropChangeY:Math.abs(i),this.cropOffsertY=this.cropChangeY+i>0?this.cropChangeY+i:0);else{var a=this.cropW/this.fixedNumber[0]*this.fixedNumber[1];a+this.cropOffsertY>this.h?(this.cropH=this.h-this.cropOffsertY,this.cropW=this.cropH/this.fixedNumber[1]*this.fixedNumber[0],r>0?this.cropOffsertX=this.cropChangeX:this.cropOffsertX=this.cropChangeX-this.cropW):this.cropH=a,this.cropOffsertY=this.cropOffsertY}})},changeCropSize(t,e,n,r,i){t.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=e,this.canChangeY=n,this.changeCropTypeX=r,this.changeCropTypeY=i,this.cropX="clientX"in t?t.clientX:t.touches[0].clientX,this.cropY="clientY"in t?t.clientY:t.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow(t){t.preventDefault();var e="clientX"in t?t.clientX:t.touches?t.touches[0].clientX:0,n="clientY"in t?t.clientY:t.touches?t.touches[0].clientY:0;let r=this.w,i=this.h,a=0,o=0;if(this.centerBox){let c=this.getImgAxis(),u=c.x2,d=c.y2;a=c.x1>0?c.x1:0,o=c.y1>0?c.y1:0,r>u&&(r=u),i>d&&(i=d)}const[s,l]=this.checkCropLimitSize();this.$nextTick(()=>{var c=e-this.cropX,u=n-this.cropY;if(this.canChangeX&&(this.changeCropTypeX===1?this.cropOldW-c<s?(this.cropW=s,this.cropOffsertX=this.cropOldW+this.cropChangeX-a-s):this.cropOldW-c>0?(this.cropW=r-this.cropChangeX-c<=r-a?this.cropOldW-c:this.cropOldW+this.cropChangeX-a,this.cropOffsertX=r-this.cropChangeX-c<=r-a?this.cropChangeX+c:a):(this.cropW=Math.abs(c)+this.cropChangeX<=r?Math.abs(c)-this.cropOldW:r-this.cropOldW-this.cropChangeX,this.cropOffsertX=this.cropChangeX+this.cropOldW):this.changeCropTypeX===2&&(this.cropOldW+c<s?this.cropW=s:this.cropOldW+c>0?(this.cropW=this.cropOldW+c+this.cropOffsertX<=r?this.cropOldW+c:r-this.cropOffsertX,this.cropOffsertX=this.cropChangeX):(this.cropW=r-this.cropChangeX+Math.abs(c+this.cropOldW)<=r-a?Math.abs(c+this.cropOldW):this.cropChangeX-a,this.cropOffsertX=r-this.cropChangeX+Math.abs(c+this.cropOldW)<=r-a?this.cropChangeX-Math.abs(c+this.cropOldW):a))),this.canChangeY&&(this.changeCropTypeY===1?this.cropOldH-u<l?(this.cropH=l,this.cropOffsertY=this.cropOldH+this.cropChangeY-o-l):this.cropOldH-u>0?(this.cropH=i-this.cropChangeY-u<=i-o?this.cropOldH-u:this.cropOldH+this.cropChangeY-o,this.cropOffsertY=i-this.cropChangeY-u<=i-o?this.cropChangeY+u:o):(this.cropH=Math.abs(u)+this.cropChangeY<=i?Math.abs(u)-this.cropOldH:i-this.cropOldH-this.cropChangeY,this.cropOffsertY=this.cropChangeY+this.cropOldH):this.changeCropTypeY===2&&(this.cropOldH+u<l?this.cropH=l:this.cropOldH+u>0?(this.cropH=this.cropOldH+u+this.cropOffsertY<=i?this.cropOldH+u:i-this.cropOffsertY,this.cropOffsertY=this.cropChangeY):(this.cropH=i-this.cropChangeY+Math.abs(u+this.cropOldH)<=i-o?Math.abs(u+this.cropOldH):this.cropChangeY-o,this.cropOffsertY=i-this.cropChangeY+Math.abs(u+this.cropOldH)<=i-o?this.cropChangeY-Math.abs(u+this.cropOldH):o))),this.canChangeX&&this.fixed){var d=this.cropW/this.fixedNumber[0]*this.fixedNumber[1];d<l?(this.cropH=l,this.cropW=this.fixedNumber[0]*l/this.fixedNumber[1],this.changeCropTypeX===1&&(this.cropOffsertX=this.cropChangeX+(this.cropOldW-this.cropW))):d+this.cropOffsertY>i?(this.cropH=i-this.cropOffsertY,this.cropW=this.cropH/this.fixedNumber[1]*this.fixedNumber[0],this.changeCropTypeX===1&&(this.cropOffsertX=this.cropChangeX+(this.cropOldW-this.cropW))):this.cropH=d}if(this.canChangeY&&this.fixed){var f=this.cropH/this.fixedNumber[1]*this.fixedNumber[0];f<s?(this.cropW=s,this.cropH=this.fixedNumber[1]*s/this.fixedNumber[0],this.cropOffsertY=this.cropOldH+this.cropChangeY-this.cropH):f+this.cropOffsertX>r?(this.cropW=r-this.cropOffsertX,this.cropH=this.cropW/this.fixedNumber[0]*this.fixedNumber[1]):this.cropW=f}})},checkCropLimitSize(){let{cropW:t,cropH:e,limitMinSize:n}=this,r=new Array;return Array.isArray(n)?r=n:r=[n,n],t=parseFloat(r[0]),e=parseFloat(r[1]),[t,e]},changeCropEnd(t){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},calculateSize(t,e,n,r,i,a){const o=t/e;let s=i,l=a;return s<n&&(s=n,l=Math.ceil(s/o)),l<r&&(l=r,s=Math.ceil(l*o),s<n&&(s=n,l=Math.ceil(s/o))),s<i&&(s=i,l=Math.ceil(s/o)),l<a&&(l=a,s=Math.ceil(l*o)),{width:s,height:l}},endCrop(){this.cropW===0&&this.cropH===0&&(this.cropping=!1);let[t,e]=this.checkCropLimitSize();const{width:n,height:r}=this.fixed?this.calculateSize(this.fixedNumber[0],this.fixedNumber[1],t,e,this.cropW,this.cropH):{width:t,height:e};n>this.cropW&&(this.cropW=n,this.cropOffsertX+n>this.w&&(this.cropOffsertX=this.w-n)),r>this.cropH&&(this.cropH=r,this.cropOffsertY+r>this.h&&(this.cropOffsertY=this.h-r)),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop(){this.crop=!0},stopCrop(){this.crop=!1},clearCrop(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove(t){if(t.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(t),!1;if(t.touches&&t.touches.length===2)return this.crop=!1,this.startMove(t),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);let e="clientX"in t?t.clientX:t.touches[0].clientX,n="clientY"in t?t.clientY:t.touches[0].clientY,r,i;r=e-this.cropOffsertX,i=n-this.cropOffsertY,this.cropX=r,this.cropY=i,this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop(t,e){let n=0,r=0;t&&(t.preventDefault(),n="clientX"in t?t.clientX:t.touches[0].clientX,r="clientY"in t?t.clientY:t.touches[0].clientY),this.$nextTick(()=>{let i,a,o=n-this.cropX,s=r-this.cropY;if(e&&(o=this.cropOffsertX,s=this.cropOffsertY),o<=0?i=0:o+this.cropW>this.w?i=this.w-this.cropW:i=o,s<=0?a=0:s+this.cropH>this.h?a=this.h-this.cropH:a=s,this.centerBox){let l=this.getImgAxis();i<=l.x1&&(i=l.x1),i+this.cropW>l.x2&&(i=l.x2-this.cropW),a<=l.y1&&(a=l.y1),a+this.cropH>l.y2&&(a=l.y2-this.cropH)}this.cropOffsertX=i,this.cropOffsertY=a,this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})})},getImgAxis(t,e,n){t=t||this.x,e=e||this.y,n=n||this.scale;let r={x1:0,x2:0,y1:0,y2:0},i=this.trueWidth*n,a=this.trueHeight*n;switch(this.rotate){case 0:r.x1=t+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=e+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n;break;case 1:case-1:case 3:case-3:r.x1=t+this.trueWidth*(1-n)/2+(i-a)/2,r.x2=r.x1+this.trueHeight*n,r.y1=e+this.trueHeight*(1-n)/2+(a-i)/2,r.y2=r.y1+this.trueWidth*n;break;default:r.x1=t+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=e+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n;break}return r},getCropAxis(){let t={x1:0,x2:0,y1:0,y2:0};return t.x1=this.cropOffsertX,t.x2=t.x1+this.cropW,t.y1=this.cropOffsertY,t.y2=t.y1+this.cropH,t},leaveCrop(t){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked(t){let e=document.createElement("canvas"),n=e.getContext("2d"),r=new Image,i=this.rotate,a=this.trueWidth,o=this.trueHeight,s=this.cropOffsertX,l=this.cropOffsertY;r.onload=()=>{if(this.cropW!==0){let f=1;this.high&!this.full&&(f=window.devicePixelRatio),this.enlarge!==1&!this.full&&(f=Math.abs(Number(this.enlarge)));let h=this.cropW*f,g=this.cropH*f,m=a*this.scale*f,v=o*this.scale*f,b=(this.x-s+this.trueWidth*(1-this.scale)/2)*f,y=(this.y-l+this.trueHeight*(1-this.scale)/2)*f;switch(d(h,g),n.save(),i){case 0:this.full?(d(h/this.scale,g/this.scale),n.drawImage(r,b/this.scale,y/this.scale,m/this.scale,v/this.scale)):n.drawImage(r,b,y,m,v);break;case 1:case-3:this.full?(d(h/this.scale,g/this.scale),b=b/this.scale+(m/this.scale-v/this.scale)/2,y=y/this.scale+(v/this.scale-m/this.scale)/2,n.rotate(i*90*Math.PI/180),n.drawImage(r,y,-b-v/this.scale,m/this.scale,v/this.scale)):(b=b+(m-v)/2,y=y+(v-m)/2,n.rotate(i*90*Math.PI/180),n.drawImage(r,y,-b-v,m,v));break;case 2:case-2:this.full?(d(h/this.scale,g/this.scale),n.rotate(i*90*Math.PI/180),b=b/this.scale,y=y/this.scale,n.drawImage(r,-b-m/this.scale,-y-v/this.scale,m/this.scale,v/this.scale)):(n.rotate(i*90*Math.PI/180),n.drawImage(r,-b-m,-y-v,m,v));break;case 3:case-1:this.full?(d(h/this.scale,g/this.scale),b=b/this.scale+(m/this.scale-v/this.scale)/2,y=y/this.scale+(v/this.scale-m/this.scale)/2,n.rotate(i*90*Math.PI/180),n.drawImage(r,-y-m/this.scale,b,m/this.scale,v/this.scale)):(b=b+(m-v)/2,y=y+(v-m)/2,n.rotate(i*90*Math.PI/180),n.drawImage(r,-y-m,b,m,v));break;default:this.full?(d(h/this.scale,g/this.scale),n.drawImage(r,b/this.scale,y/this.scale,m/this.scale,v/this.scale)):n.drawImage(r,b,y,m,v)}n.restore()}else{let f=a*this.scale,h=o*this.scale;switch(n.save(),i){case 0:d(f,h),n.drawImage(r,0,0,f,h);break;case 1:case-3:d(h,f),n.rotate(i*90*Math.PI/180),n.drawImage(r,0,-h,f,h);break;case 2:case-2:d(f,h),n.rotate(i*90*Math.PI/180),n.drawImage(r,-f,-h,f,h);break;case 3:case-1:d(h,f),n.rotate(i*90*Math.PI/180),n.drawImage(r,-f,0,f,h);break;default:d(f,h),n.drawImage(r,0,0,f,h)}n.restore()}t(e)};var c=this.img.substr(0,4);c!=="data"&&(r.crossOrigin="Anonymous"),r.src=this.imgs;const u=this.fillColor;function d(f,h){e.width=Math.round(f),e.height=Math.round(h),u&&(n.fillStyle=u,n.fillRect(0,0,e.width,e.height))}},getCropData(t){this.getCropChecked(e=>{t(e.toDataURL("image/"+this.outputType,this.outputSize))})},getCropBlob(t){this.getCropChecked(e=>{e.toBlob(n=>t(n),"image/"+this.outputType,this.outputSize)})},showPreview(){if(this.isCanShow)this.isCanShow=!1,setTimeout(()=>{this.isCanShow=!0},16);else return!1;let t=this.cropW,e=this.cropH,n=this.scale;var r={};r.div={width:`${t}px`,height:`${e}px`};let i=(this.x-this.cropOffsertX)/n,a=(this.y-this.cropOffsertY)/n,o=0;r.w=t,r.h=e,r.url=this.imgs,r.img={width:`${this.trueWidth}px`,height:`${this.trueHeight}px`,transform:`scale(${n})translate3d(${i}px, ${a}px, ${o}px)rotateZ(${this.rotate*90}deg)`},r.html=`
      <div class="show-preview" style="width: ${r.w}px; height: ${r.h}px,; overflow: hidden">
        <div style="width: ${t}px; height: ${e}px">
          <img src=${r.url} style="width: ${this.trueWidth}px; height: ${this.trueHeight}px; transform:
          scale(${n})translate3d(${i}px, ${a}px, ${o}px)rotateZ(${this.rotate*90}deg)">
        </div>
      </div>`,this.$emit("real-time",r)},reload(){let t=new Image;t.onload=()=>{this.w=parseFloat(window.getComputedStyle(this.$refs.cropper).width),this.h=parseFloat(window.getComputedStyle(this.$refs.cropper).height),this.trueWidth=t.width,this.trueHeight=t.height,this.original?this.scale=1:this.scale=this.checkedMode(),this.$nextTick(()=>{this.x=-(this.trueWidth-this.trueWidth*this.scale)/2+(this.w-this.trueWidth*this.scale)/2,this.y=-(this.trueHeight-this.trueHeight*this.scale)/2+(this.h-this.trueHeight*this.scale)/2,this.loading=!1,this.autoCrop&&this.goAutoCrop(),this.$emit("img-load","success"),setTimeout(()=>{this.showPreview()},20)})},t.onerror=()=>{this.$emit("img-load","error")},t.src=this.imgs},checkedMode(){let t=1,e=this.trueWidth,n=this.trueHeight;const r=this.mode.split(" ");switch(r[0]){case"contain":this.trueWidth>this.w&&(t=this.w/this.trueWidth),this.trueHeight*t>this.h&&(t=this.h/this.trueHeight);break;case"cover":e=this.w,t=e/this.trueWidth,n=n*t,n<this.h&&(n=this.h,t=n/this.trueHeight);break;default:try{let i=r[0];if(i.search("px")!==-1){i=i.replace("px",""),e=parseFloat(i);const a=e/this.trueWidth;let o=1,s=r[1];s.search("px")!==-1&&(s=s.replace("px",""),n=parseFloat(s),o=n/this.trueHeight),t=Math.min(a,o)}if(i.search("%")!==-1&&(i=i.replace("%",""),e=parseFloat(i)/100*this.w,t=e/this.trueWidth),r.length===2&&i==="auto"){let a=r[1];a.search("px")!==-1&&(a=a.replace("px",""),n=parseFloat(a),t=n/this.trueHeight),a.search("%")!==-1&&(a=a.replace("%",""),n=parseFloat(a)/100*this.h,t=n/this.trueHeight)}}catch{t=1}}return t},goAutoCrop(t,e){if(this.imgs===""||this.imgs===null)return;this.clearCrop(),this.cropping=!0;let n=this.w,r=this.h;if(this.centerBox){const o=Math.abs(this.rotate)%2>0;let s=(o?this.trueHeight:this.trueWidth)*this.scale,l=(o?this.trueWidth:this.trueHeight)*this.scale;n=s<n?s:n,r=l<r?l:r}var i=t||parseFloat(this.autoCropWidth),a=e||parseFloat(this.autoCropHeight);(i===0||a===0)&&(i=n*.8,a=r*.8),i=i>n?n:i,a=a>r?r:a,this.fixed&&(a=i/this.fixedNumber[0]*this.fixedNumber[1]),a>this.h&&(a=this.h,i=a/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(i,a)},changeCrop(t,e){if(this.centerBox){let n=this.getImgAxis();t>n.x2-n.x1&&(t=n.x2-n.x1,e=t/this.fixedNumber[0]*this.fixedNumber[1]),e>n.y2-n.y1&&(e=n.y2-n.y1,t=e/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=t,this.cropH=e,this.checkCropLimitSize(),this.$nextTick(()=>{this.cropOffsertX=(this.w-this.cropW)/2,this.cropOffsertY=(this.h-this.cropH)/2,this.centerBox&&this.moveCrop(null,!0)})},refresh(){this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.imgIsQqualCrop=!1,this.clearCrop(),this.$nextTick(()=>{this.checkedImg()})},rotateLeft(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear(){this.rotate=0},checkoutImgAxis(t,e,n){t=t||this.x,e=e||this.y,n=n||this.scale;let r=!0;if(this.centerBox){let i=this.getImgAxis(t,e,n),a=this.getCropAxis();i.x1>=a.x1&&(r=!1),i.x2<=a.x2&&(r=!1),i.y1>=a.y1&&(r=!1),i.y2<=a.y2&&(r=!1),r||this.changeImgScale(i,a,n)}return r},changeImgScale(t,e,n){let r=this.trueWidth,i=this.trueHeight,a=r*n,o=i*n;if(a>=this.cropW&&o>=this.cropH)this.scale=n;else{const s=this.cropW/r,l=this.cropH/i,c=this.cropH<=i*s?s:l;this.scale=c,a=r*c,o=i*c}this.imgIsQqualCrop||(t.x1>=e.x1&&(this.isRotateRightOrLeft?this.x=e.x1-(r-a)/2-(a-o)/2:this.x=e.x1-(r-a)/2),t.x2<=e.x2&&(this.isRotateRightOrLeft?this.x=e.x1-(r-a)/2-(a-o)/2-o+this.cropW:this.x=e.x2-(r-a)/2-a),t.y1>=e.y1&&(this.isRotateRightOrLeft?this.y=e.y1-(i-o)/2-(o-a)/2:this.y=e.y1-(i-o)/2),t.y2<=e.y2&&(this.isRotateRightOrLeft?this.y=e.y2-(i-o)/2-(o-a)/2-a:this.y=e.y2-(i-o)/2-o)),(a<this.cropW||o<this.cropH)&&(this.imgIsQqualCrop=!0)}},mounted(){this.support="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";let t=this;var e=navigator.userAgent;this.isIOS=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(n,r,i){for(var a=atob(this.toDataURL(r,i).split(",")[1]),o=a.length,s=new Uint8Array(o),l=0;l<o;l++)s[l]=a.charCodeAt(l);n(new Blob([s],{type:t.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},unmounted(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.cancelScale()}}),kT={key:0,class:"cropper-box"},ST=["src"],ET={class:"cropper-view-box"},TT=["src"],AT={key:1};function OT(t,e,n,r,i,a){return lr(),Hr("div",{class:"vue-cropper",ref:"cropper",onMouseover:e[28]||(e[28]=(...o)=>t.scaleImg&&t.scaleImg(...o)),onMouseout:e[29]||(e[29]=(...o)=>t.cancelScale&&t.cancelScale(...o))},[t.imgs?(lr(),Hr("div",kT,[Uu(_t("div",{class:"cropper-box-canvas",style:Cc({width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+t.x/t.scale+"px,"+t.y/t.scale+"px,0)rotateZ("+t.rotate*90+"deg)"})},[_t("img",{src:t.imgs,alt:"cropper-img",ref:"cropperImg"},null,8,ST)],4),[[zu,!t.loading]])])):Fo("",!0),_t("div",{class:Wy(["cropper-drag-box",{"cropper-move":t.move&&!t.crop,"cropper-crop":t.crop,"cropper-modal":t.cropping}]),onMousedown:e[0]||(e[0]=(...o)=>t.startMove&&t.startMove(...o)),onTouchstart:e[1]||(e[1]=(...o)=>t.startMove&&t.startMove(...o))},null,34),Uu(_t("div",{class:"cropper-crop-box",style:Cc({width:t.cropW+"px",height:t.cropH+"px",transform:"translate3d("+t.cropOffsertX+"px,"+t.cropOffsertY+"px,0)"})},[_t("span",ET,[_t("img",{style:Cc({width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+(t.x-t.cropOffsertX)/t.scale+"px,"+(t.y-t.cropOffsertY)/t.scale+"px,0)rotateZ("+t.rotate*90+"deg)"}),src:t.imgs,alt:"cropper-img"},null,12,TT)]),_t("span",{class:"cropper-face cropper-move",onMousedown:e[2]||(e[2]=(...o)=>t.cropMove&&t.cropMove(...o)),onTouchstart:e[3]||(e[3]=(...o)=>t.cropMove&&t.cropMove(...o))},null,32),t.info?(lr(),Hr("span",{key:0,class:"crop-info",style:Cc({top:t.cropInfo.top})},up(t.cropInfo.width)+"  "+up(t.cropInfo.height),5)):Fo("",!0),t.fixedBox?Fo("",!0):(lr(),Hr("span",AT,[_t("span",{class:"crop-line line-w",onMousedown:e[4]||(e[4]=o=>t.changeCropSize(o,!1,!0,0,1)),onTouchstart:e[5]||(e[5]=o=>t.changeCropSize(o,!1,!0,0,1))},null,32),_t("span",{class:"crop-line line-a",onMousedown:e[6]||(e[6]=o=>t.changeCropSize(o,!0,!1,1,0)),onTouchstart:e[7]||(e[7]=o=>t.changeCropSize(o,!0,!1,1,0))},null,32),_t("span",{class:"crop-line line-s",onMousedown:e[8]||(e[8]=o=>t.changeCropSize(o,!1,!0,0,2)),onTouchstart:e[9]||(e[9]=o=>t.changeCropSize(o,!1,!0,0,2))},null,32),_t("span",{class:"crop-line line-d",onMousedown:e[10]||(e[10]=o=>t.changeCropSize(o,!0,!1,2,0)),onTouchstart:e[11]||(e[11]=o=>t.changeCropSize(o,!0,!1,2,0))},null,32),_t("span",{class:"crop-point point1",onMousedown:e[12]||(e[12]=o=>t.changeCropSize(o,!0,!0,1,1)),onTouchstart:e[13]||(e[13]=o=>t.changeCropSize(o,!0,!0,1,1))},null,32),_t("span",{class:"crop-point point2",onMousedown:e[14]||(e[14]=o=>t.changeCropSize(o,!1,!0,0,1)),onTouchstart:e[15]||(e[15]=o=>t.changeCropSize(o,!1,!0,0,1))},null,32),_t("span",{class:"crop-point point3",onMousedown:e[16]||(e[16]=o=>t.changeCropSize(o,!0,!0,2,1)),onTouchstart:e[17]||(e[17]=o=>t.changeCropSize(o,!0,!0,2,1))},null,32),_t("span",{class:"crop-point point4",onMousedown:e[18]||(e[18]=o=>t.changeCropSize(o,!0,!1,1,0)),onTouchstart:e[19]||(e[19]=o=>t.changeCropSize(o,!0,!1,1,0))},null,32),_t("span",{class:"crop-point point5",onMousedown:e[20]||(e[20]=o=>t.changeCropSize(o,!0,!1,2,0)),onTouchstart:e[21]||(e[21]=o=>t.changeCropSize(o,!0,!1,2,0))},null,32),_t("span",{class:"crop-point point6",onMousedown:e[22]||(e[22]=o=>t.changeCropSize(o,!0,!0,1,2)),onTouchstart:e[23]||(e[23]=o=>t.changeCropSize(o,!0,!0,1,2))},null,32),_t("span",{class:"crop-point point7",onMousedown:e[24]||(e[24]=o=>t.changeCropSize(o,!1,!0,0,2)),onTouchstart:e[25]||(e[25]=o=>t.changeCropSize(o,!1,!0,0,2))},null,32),_t("span",{class:"crop-point point8",onMousedown:e[26]||(e[26]=o=>t.changeCropSize(o,!0,!0,2,2)),onTouchstart:e[27]||(e[27]=o=>t.changeCropSize(o,!0,!0,2,2))},null,32)]))],4),[[zu,t.cropping]])],544)}const MT=_T(CT,[["render",OT],["__scopeId","data-v-a742df44"]]),qp="jinrishici-token";function RT(t,e){return window.localStorage&&window.localStorage.getItem(qp)?FT(t,e,window.localStorage.getItem(qp)):$T(t,e)}function $T(t,e){return k5(function(r){window.localStorage.setItem(qp,r.token),t(r)},e,"https://v2.jinrishici.com/one.json?client=npm-sdk/1.0")}function FT(t,e,n){return k5(t,e,"https://v2.jinrishici.com/one.json?client=npm-sdk/1.0&X-User-Token="+encodeURIComponent(n))}function k5(t,e,n){var r=new XMLHttpRequest;r.open("get",n),r.withCredentials=!0,r.send(),r.onreadystatechange=function(){if(r.readyState===4){var i=JSON.parse(r.responseText);i.status==="success"?t(i):console.error("API"+i.errMessage)}}}var PT=Object.defineProperty,Qu=Object.getOwnPropertySymbols,S5=Object.prototype.hasOwnProperty,E5=Object.prototype.propertyIsEnumerable,lv=(t,e,n)=>e in t?PT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Eo=(t,e)=>{for(var n in e||(e={}))S5.call(e,n)&&lv(t,n,e[n]);if(Qu)for(var n of Qu(e))E5.call(e,n)&&lv(t,n,e[n]);return t},T5=(t,e)=>{var n={};for(var r in t)S5.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qu)for(var r of Qu(t))e.indexOf(r)<0&&E5.call(t,r)&&(n[r]=t[r]);return n};const A5="[vue-draggable-plus]: ";function DT(t){console.warn(A5+t)}function LT(t){console.error(A5+t)}function cv(t,e,n){return n>=0&&n<t.length&&t.splice(n,0,t.splice(e,1)[0]),t}function IT(t){return t.replace(/-(\w)/g,(e,n)=>n?n.toUpperCase():"")}function NT(t){return Object.keys(t).reduce((e,n)=>(typeof t[n]<"u"&&(e[IT(n)]=t[n]),e),{})}function uv(t,e){return Array.isArray(t)&&t.splice(e,1),t}function dv(t,e,n){return Array.isArray(t)&&t.splice(e,0,n),t}function jT(t){return typeof t>"u"}function BT(t){return typeof t=="string"}function hv(t,e,n){const r=t.children[n];t.insertBefore(e,r)}function sf(t){t.parentNode&&t.parentNode.removeChild(t)}function UT(t,e=document){var n;let r=null;return typeof e?.querySelector=="function"?r=(n=e?.querySelector)==null?void 0:n.call(e,t):r=document.querySelector(t),r||DT(`Element not found: ${t}`),r}function zT(t,e,n=null){return function(...r){return t.apply(n,r),e.apply(n,r)}}function HT(t,e){const n=Eo({},t);return Object.keys(e).forEach(r=>{n[r]?n[r]=zT(t[r],e[r]):n[r]=e[r]}),n}function WT(t){return t instanceof HTMLElement}function fv(t,e){Object.keys(t).forEach(n=>{e(n,t[n])})}function VT(t){return t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97)}const GT=Object.assign;/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function pv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pv(Object(n),!0).forEach(function(r){XT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Su(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(e){return typeof e}:Su=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function XT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fi(){return Fi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fi.apply(this,arguments)}function qT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YT(t,e){if(t==null)return{};var n=qT(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var KT="1.15.2";function Mi(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var zi=Mi(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),lc=Mi(/Edge/i),gv=Mi(/firefox/i),El=Mi(/safari/i)&&!Mi(/chrome/i)&&!Mi(/android/i),O5=Mi(/iP(ad|od|hone)/i),M5=Mi(/chrome/i)&&Mi(/android/i),R5={capture:!1,passive:!1};function ht(t,e,n){t.addEventListener(e,n,!zi&&R5)}function ct(t,e,n){t.removeEventListener(e,n,!zi&&R5)}function ed(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function ZT(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Nr(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&ed(t,e):ed(t,e))||r&&t===n)return t;if(t===n)break}while(t=ZT(t))}return null}var mv=/\s+/g;function ir(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(mv," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(mv," ")}}function Pe(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Do(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Pe(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function $5(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function ui(){var t=document.scrollingElement;return t||document.documentElement}function en(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var a,o,s,l,c,u,d;if(t!==window&&t.parentNode&&t!==ui()?(a=t.getBoundingClientRect(),o=a.top,s=a.left,l=a.bottom,c=a.right,u=a.height,d=a.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!zi))do if(i&&i.getBoundingClientRect&&(Pe(i,"transform")!=="none"||n&&Pe(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(Pe(i,"border-top-width")),s-=f.left+parseInt(Pe(i,"border-left-width")),l=o+a.height,c=s+a.width;break}while(i=i.parentNode);if(r&&t!==window){var h=Do(i||t),g=h&&h.a,m=h&&h.d;h&&(o/=m,s/=g,d/=g,u/=m,l=o+u,c=s+d)}return{top:o,left:s,bottom:l,right:c,width:d,height:u}}}function vv(t,e,n){for(var r=na(t,!0),i=en(t)[e];r;){var a=en(r)[n],o=void 0;if(o=i>=a,!o)return r;if(r===ui())break;r=na(r,!1)}return!1}function Yo(t,e,n,r){for(var i=0,a=0,o=t.children;a<o.length;){if(o[a].style.display!=="none"&&o[a]!==De.ghost&&(r||o[a]!==De.dragged)&&Nr(o[a],n.draggable,t,!1)){if(i===e)return o[a];i++}a++}return null}function fm(t,e){for(var n=t.lastElementChild;n&&(n===De.ghost||Pe(n,"display")==="none"||e&&!ed(n,e));)n=n.previousElementSibling;return n||null}function yr(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==De.clone&&(!e||ed(t,e))&&n++;return n}function bv(t){var e=0,n=0,r=ui();if(t)do{var i=Do(t),a=i.a,o=i.d;e+=t.scrollLeft*a,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function JT(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function na(t,e){if(!t||!t.getBoundingClientRect)return ui();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Pe(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ui();if(r||e)return n;r=!0}}while(n=n.parentNode);return ui()}function QT(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function lf(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Tl;function F5(t,e){return function(){if(!Tl){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Tl=setTimeout(function(){Tl=void 0},e)}}}function eA(){clearTimeout(Tl),Tl=void 0}function P5(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function D5(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function L5(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var a,o,s,l;if(!(!Nr(i,e.draggable,t,!1)||i.animated||i===n)){var c=en(i);r.left=Math.min((a=r.left)!==null&&a!==void 0?a:1/0,c.left),r.top=Math.min((o=r.top)!==null&&o!==void 0?o:1/0,c.top),r.right=Math.max((s=r.right)!==null&&s!==void 0?s:-1/0,c.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var sr="Sortable"+new Date().getTime();function tA(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(Pe(r,"display")==="none"||r===De.ghost)){t.push({target:r,rect:en(r)});var i=di({},t[t.length-1].rect);if(r.thisAnimationDuration){var a=Do(r,!0);a&&(i.top-=a.f,i.left-=a.e)}r.fromRect=i}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(JT(t,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var i=!1,a=0;t.forEach(function(o){var s=0,l=o.target,c=l.fromRect,u=en(l),d=l.prevFromRect,f=l.prevToRect,h=o.rect,g=Do(l,!0);g&&(u.top-=g.f,u.left-=g.e),l.toRect=u,l.thisAnimationDuration&&lf(d,u)&&!lf(c,u)&&(h.top-u.top)/(h.left-u.left)===(c.top-u.top)/(c.left-u.left)&&(s=rA(h,d,f,r.options)),lf(u,c)||(l.prevFromRect=c,l.prevToRect=u,s||(s=r.options.animation),r.animate(l,h,u,s)),s&&(i=!0,a=Math.max(a,s),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},s),l.thisAnimationDuration=s)}),clearTimeout(e),i?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),t=[]},animate:function(n,r,i,a){if(a){Pe(n,"transition",""),Pe(n,"transform","");var o=Do(this.el),s=o&&o.a,l=o&&o.d,c=(r.left-i.left)/(s||1),u=(r.top-i.top)/(l||1);n.animatingX=!!c,n.animatingY=!!u,Pe(n,"transform","translate3d("+c+"px,"+u+"px,0)"),this.forRepaintDummy=nA(n),Pe(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Pe(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){Pe(n,"transition",""),Pe(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function nA(t){return t.offsetWidth}function rA(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var co=[],cf={initializeByDefault:!0},cc={mount:function(t){for(var e in cf)cf.hasOwnProperty(e)&&!(e in t)&&(t[e]=cf[e]);co.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),co.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=t+"Global";co.forEach(function(a){e[a.pluginName]&&(e[a.pluginName][i]&&e[a.pluginName][i](di({sortable:e},n)),e.options[a.pluginName]&&e[a.pluginName][t]&&e[a.pluginName][t](di({sortable:e},n)))})},initializePlugins:function(t,e,n,r){co.forEach(function(o){var s=o.pluginName;if(!(!t.options[s]&&!o.initializeByDefault)){var l=new o(t,e,t.options);l.sortable=t,l.options=t.options,t[s]=l,Fi(n,l.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var a=this.modifyOption(t,i,t.options[i]);typeof a<"u"&&(t.options[i]=a)}},getEventProperties:function(t,e){var n={};return co.forEach(function(r){typeof r.eventProperties=="function"&&Fi(n,r.eventProperties.call(e[r.pluginName],t))}),n},modifyOption:function(t,e,n){var r;return co.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[e]=="function"&&(r=i.optionListeners[e].call(t[i.pluginName],n))}),r}};function iA(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,a=t.cloneEl,o=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[sr],!!e){var m,v=e.options,b="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!zi&&!lc?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=o||n,m.from=s||n,m.item=i||n,m.clone=a,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=h?h.lastPutMode:void 0;var y=di(di({},g),cc.getEventProperties(r,e));for(var x in y)m[x]=y[x];n&&n.dispatchEvent(m),v[b]&&v[b].call(e,m)}}var aA=["evt"],Un=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,i=YT(n,aA);cc.pluginEvent.bind(De)(t,e,di({dragEl:be,parentEl:It,ghostEl:ze,rootEl:Ot,nextEl:Ma,lastDownEl:Eu,cloneEl:$t,cloneHidden:ta,dragStarted:wl,putSortable:yn,activeSortable:De.active,originalEvent:r,oldIndex:To,oldDraggableIndex:Al,newIndex:ar,newDraggableIndex:ea,hideGhostForTarget:B5,unhideGhostForTarget:U5,cloneNowHidden:function(){ta=!0},cloneNowShown:function(){ta=!1},dispatchSortableEvent:function(a){$n({sortable:e,name:a,originalEvent:r})}},i))};function $n(t){iA(di({putSortable:yn,cloneEl:$t,targetEl:be,rootEl:Ot,oldIndex:To,oldDraggableIndex:Al,newIndex:ar,newDraggableIndex:ea},t))}var be,It,ze,Ot,Ma,Eu,$t,ta,To,ar,Al,ea,Oc,yn,xo=!1,td=!1,nd=[],Ea,Pr,uf,df,yv,xv,wl,uo,Ol,Ml=!1,Mc=!1,Tu,kn,hf=[],Yp=!1,rd=[],rh=typeof document<"u",Rc=O5,wv=lc||zi?"cssFloat":"float",oA=rh&&!M5&&!O5&&"draggable"in document.createElement("div"),I5=function(){if(rh){if(zi)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),N5=function(t,e){var n=Pe(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=Yo(t,0,e),a=Yo(t,1,e),o=i&&Pe(i),s=a&&Pe(a),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+en(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+en(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o.float&&o.float!=="none"){var u=o.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===u)?"vertical":"horizontal"}return i&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||l>=r&&n[wv]==="none"||a&&n[wv]==="none"&&l+c>r)?"vertical":"horizontal"},sA=function(t,e,n){var r=n?t.left:t.top,i=n?t.right:t.bottom,a=n?t.width:t.height,o=n?e.left:e.top,s=n?e.right:e.bottom,l=n?e.width:e.height;return r===o||i===s||r+a/2===o+l/2},lA=function(t,e){var n;return nd.some(function(r){var i=r[sr].options.emptyInsertThreshold;if(!(!i||fm(r))){var a=en(r),o=t>=a.left-i&&t<=a.right+i,s=e>=a.top-i&&e<=a.bottom+i;if(o&&s)return n=r}}),n},j5=function(t){function e(i,a){return function(o,s,l,c){var u=o.options.group.name&&s.options.group.name&&o.options.group.name===s.options.group.name;if(i==null&&(a||u))return!0;if(i==null||i===!1)return!1;if(a&&i==="clone")return i;if(typeof i=="function")return e(i(o,s,l,c),a)(o,s,l,c);var d=(a?o:s).options.group.name;return i===!0||typeof i=="string"&&i===d||i.join&&i.indexOf(d)>-1}}var n={},r=t.group;(!r||Su(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},B5=function(){!I5&&ze&&Pe(ze,"display","none")},U5=function(){!I5&&ze&&Pe(ze,"display","")};rh&&!M5&&document.addEventListener("click",function(t){if(td)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),td=!1,!1},!0);var Ta=function(t){if(be){t=t.touches?t.touches[0]:t;var e=lA(t.clientX,t.clientY);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[sr]._onDragOver(n)}}},cA=function(t){be&&be.parentNode[sr]._isOutsideThisEl(t.target)};function De(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Fi({},e),t[sr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return N5(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:De.supportPointer!==!1&&"PointerEvent"in window&&!El,emptyInsertThreshold:5};cc.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);j5(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:oA,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ht(t,"pointerdown",this._onTapStart):(ht(t,"mousedown",this._onTapStart),ht(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ht(t,"dragover",this),ht(t,"dragenter",this)),nd.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Fi(this,tA())}De.prototype={constructor:De,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(uo=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,be):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,i=r.preventOnFilter,a=t.type,o=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(o||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=r.filter;if(vA(n),!be&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||r.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&El&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Nr(s,r.draggable,n,!1),!(s&&s.animated)&&Eu!==s)){if(To=yr(s),Al=yr(s,r.draggable),typeof c=="function"){if(c.call(this,t,s,this)){$n({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),Un("filter",e,{evt:t}),i&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(u){if(u=Nr(l,u.trim(),n,!1),u)return $n({sortable:e,rootEl:u,name:"filter",targetEl:s,fromEl:n,toEl:n}),Un("filter",e,{evt:t}),!0}),c)){i&&t.cancelable&&t.preventDefault();return}r.handle&&!Nr(l,r.handle,n,!1)||this._prepareDragStart(t,o,s)}}},_prepareDragStart:function(t,e,n){var r=this,i=r.el,a=r.options,o=i.ownerDocument,s;if(n&&!be&&n.parentNode===i){var l=en(n);if(Ot=i,be=n,It=be.parentNode,Ma=be.nextSibling,Eu=n,Oc=a.group,De.dragged=be,Ea={target:be,clientX:(e||t).clientX,clientY:(e||t).clientY},yv=Ea.clientX-l.left,xv=Ea.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,be.style["will-change"]="all",s=function(){if(Un("delayEnded",r,{evt:t}),De.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!gv&&r.nativeDraggable&&(be.draggable=!0),r._triggerDragStart(t,e),$n({sortable:r,name:"choose",originalEvent:t}),ir(be,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){$5(be,c.trim(),ff)}),ht(o,"dragover",Ta),ht(o,"mousemove",Ta),ht(o,"touchmove",Ta),ht(o,"mouseup",r._onDrop),ht(o,"touchend",r._onDrop),ht(o,"touchcancel",r._onDrop),gv&&this.nativeDraggable&&(this.options.touchStartThreshold=4,be.draggable=!0),Un("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(lc||zi))){if(De.eventCanceled){this._onDrop();return}ht(o,"mouseup",r._disableDelayedDrag),ht(o,"touchend",r._disableDelayedDrag),ht(o,"touchcancel",r._disableDelayedDrag),ht(o,"mousemove",r._delayedDragTouchMoveHandler),ht(o,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&ht(o,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){be&&ff(be),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ct(t,"mouseup",this._disableDelayedDrag),ct(t,"touchend",this._disableDelayedDrag),ct(t,"touchcancel",this._disableDelayedDrag),ct(t,"mousemove",this._delayedDragTouchMoveHandler),ct(t,"touchmove",this._delayedDragTouchMoveHandler),ct(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?ht(document,"pointermove",this._onTouchMove):e?ht(document,"touchmove",this._onTouchMove):ht(document,"mousemove",this._onTouchMove):(ht(be,"dragend",this),ht(Ot,"dragstart",this._onDragStart));try{document.selection?Au(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(xo=!1,Ot&&be){Un("dragStarted",this,{evt:e}),this.nativeDraggable&&ht(document,"dragover",cA);var n=this.options;!t&&ir(be,n.dragClass,!1),ir(be,n.ghostClass,!0),De.active=this,t&&this._appendGhost(),$n({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Pr){this._lastX=Pr.clientX,this._lastY=Pr.clientY,B5();for(var t=document.elementFromPoint(Pr.clientX,Pr.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Pr.clientX,Pr.clientY),t!==e);)e=t;if(be.parentNode[sr]._isOutsideThisEl(t),e)do{if(e[sr]){var n=void 0;if(n=e[sr]._onDragOver({clientX:Pr.clientX,clientY:Pr.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);U5()}},_onTouchMove:function(t){if(Ea){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,i=t.touches?t.touches[0]:t,a=ze&&Do(ze,!0),o=ze&&a&&a.a,s=ze&&a&&a.d,l=Rc&&kn&&bv(kn),c=(i.clientX-Ea.clientX+r.x)/(o||1)+(l?l[0]-hf[0]:0)/(o||1),u=(i.clientY-Ea.clientY+r.y)/(s||1)+(l?l[1]-hf[1]:0)/(s||1);if(!De.active&&!xo){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(ze){a?(a.e+=c-(uf||0),a.f+=u-(df||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Pe(ze,"webkitTransform",d),Pe(ze,"mozTransform",d),Pe(ze,"msTransform",d),Pe(ze,"transform",d),uf=c,df=u,Pr=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ze){var t=this.options.fallbackOnBody?document.body:Ot,e=en(be,!0,Rc,!0,t),n=this.options;if(Rc){for(kn=t;Pe(kn,"position")==="static"&&Pe(kn,"transform")==="none"&&kn!==document;)kn=kn.parentNode;kn!==document.body&&kn!==document.documentElement?(kn===document&&(kn=ui()),e.top+=kn.scrollTop,e.left+=kn.scrollLeft):kn=ui(),hf=bv(kn)}ze=be.cloneNode(!0),ir(ze,n.ghostClass,!1),ir(ze,n.fallbackClass,!0),ir(ze,n.dragClass,!0),Pe(ze,"transition",""),Pe(ze,"transform",""),Pe(ze,"box-sizing","border-box"),Pe(ze,"margin",0),Pe(ze,"top",e.top),Pe(ze,"left",e.left),Pe(ze,"width",e.width),Pe(ze,"height",e.height),Pe(ze,"opacity","0.8"),Pe(ze,"position",Rc?"absolute":"fixed"),Pe(ze,"zIndex","100000"),Pe(ze,"pointerEvents","none"),De.ghost=ze,t.appendChild(ze),Pe(ze,"transform-origin",yv/parseInt(ze.style.width)*100+"% "+xv/parseInt(ze.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,i=n.options;if(Un("dragStart",this,{evt:t}),De.eventCanceled){this._onDrop();return}Un("setupClone",this),De.eventCanceled||($t=D5(be),$t.removeAttribute("id"),$t.draggable=!1,$t.style["will-change"]="",this._hideClone(),ir($t,this.options.chosenClass,!1),De.clone=$t),n.cloneId=Au(function(){Un("clone",n),!De.eventCanceled&&(n.options.removeCloneOnHide||Ot.insertBefore($t,be),n._hideClone(),$n({sortable:n,name:"clone"}))}),!e&&ir(be,i.dragClass,!0),e?(td=!0,n._loopId=setInterval(n._emulateDragOver,50)):(ct(document,"mouseup",n._onDrop),ct(document,"touchend",n._onDrop),ct(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,be)),ht(document,"drop",n),Pe(be,"transform","translateZ(0)")),xo=!0,n._dragStartId=Au(n._dragStarted.bind(n,e,t)),ht(document,"selectstart",n),wl=!0,El&&Pe(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,n=t.target,r,i,a,o=this.options,s=o.group,l=De.active,c=Oc===s,u=o.sort,d=yn||l,f,h=this,g=!1;if(Yp)return;function m(D,P){Un(D,h,di({evt:t,isOwner:c,axis:f?"vertical":"horizontal",revert:a,dragRect:r,targetRect:i,canSort:u,fromSortable:d,target:n,completed:b,onMove:function(L,N){return $c(Ot,e,be,r,L,en(L),t,N)},changed:y},P))}function v(){m("dragOverAnimationCapture"),h.captureAnimationState(),h!==d&&d.captureAnimationState()}function b(D){return m("dragOverCompleted",{insertion:D}),D&&(c?l._hideClone():l._showClone(h),h!==d&&(ir(be,yn?yn.options.ghostClass:l.options.ghostClass,!1),ir(be,o.ghostClass,!0)),yn!==h&&h!==De.active?yn=h:h===De.active&&yn&&(yn=null),d===h&&(h._ignoreWhileAnimating=n),h.animateAll(function(){m("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(n===be&&!be.animated||n===e&&!n.animated)&&(uo=null),!o.dragoverBubble&&!t.rootEl&&n!==document&&(be.parentNode[sr]._isOutsideThisEl(t.target),!D&&Ta(t)),!o.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function y(){ar=yr(be),ea=yr(be,o.draggable),$n({sortable:h,name:"change",toEl:e,newIndex:ar,newDraggableIndex:ea,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=Nr(n,o.draggable,e,!0),m("dragOver"),De.eventCanceled)return g;if(be.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||h._ignoreWhileAnimating===n)return b(!1);if(td=!1,l&&!o.disabled&&(c?u||(a=It!==Ot):yn===this||(this.lastPutMode=Oc.checkPull(this,l,be,t))&&s.checkPut(this,l,be,t))){if(f=this._getDirection(t,n)==="vertical",r=en(be),m("dragOverValid"),De.eventCanceled)return g;if(a)return It=Ot,v(),this._hideClone(),m("revert"),De.eventCanceled||(Ma?Ot.insertBefore(be,Ma):Ot.appendChild(be)),b(!0);var x=fm(e,o.draggable);if(!x||fA(t,f,this)&&!x.animated){if(x===be)return b(!1);if(x&&e===t.target&&(n=x),n&&(i=en(n)),$c(Ot,e,be,r,n,i,t,!!n)!==!1)return v(),x&&x.nextSibling?e.insertBefore(be,x.nextSibling):e.appendChild(be),It=e,y(),b(!0)}else if(x&&hA(t,f,this)){var w=Yo(e,0,o,!0);if(w===be)return b(!1);if(n=w,i=en(n),$c(Ot,e,be,r,n,i,t,!1)!==!1)return v(),e.insertBefore(be,w),It=e,y(),b(!0)}else if(n.parentNode===e){i=en(n);var _=0,k,R=be.parentNode!==e,A=!sA(be.animated&&be.toRect||r,n.animated&&n.toRect||i,f),T=f?"top":"left",O=vv(n,"top","top")||vv(be,"top","top"),M=O?O.scrollTop:void 0;uo!==n&&(k=i[T],Ml=!1,Mc=!A&&o.invertSwap||R),_=pA(t,n,i,f,A?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,Mc,uo===n);var $;if(_!==0){var C=yr(be);do C-=_,$=It.children[C];while($&&(Pe($,"display")==="none"||$===ze))}if(_===0||$===n)return b(!1);uo=n,Ol=_;var E=n.nextElementSibling,S=!1;S=_===1;var F=$c(Ot,e,be,r,n,i,t,S);if(F!==!1)return(F===1||F===-1)&&(S=F===1),Yp=!0,setTimeout(dA,30),v(),S&&!E?e.appendChild(be):n.parentNode.insertBefore(be,S?E:n),O&&P5(O,0,M-O.scrollTop),It=be.parentNode,k!==void 0&&!Mc&&(Tu=Math.abs(k-en(n)[T])),y(),b(!0)}if(e.contains(be))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ct(document,"mousemove",this._onTouchMove),ct(document,"touchmove",this._onTouchMove),ct(document,"pointermove",this._onTouchMove),ct(document,"dragover",Ta),ct(document,"mousemove",Ta),ct(document,"touchmove",Ta)},_offUpEvents:function(){var t=this.el.ownerDocument;ct(t,"mouseup",this._onDrop),ct(t,"touchend",this._onDrop),ct(t,"pointerup",this._onDrop),ct(t,"touchcancel",this._onDrop),ct(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(ar=yr(be),ea=yr(be,n.draggable),Un("drop",this,{evt:t}),It=be&&be.parentNode,ar=yr(be),ea=yr(be,n.draggable),De.eventCanceled){this._nulling();return}xo=!1,Mc=!1,Ml=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kp(this.cloneId),Kp(this._dragStartId),this.nativeDraggable&&(ct(document,"drop",this),ct(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),El&&Pe(document.body,"user-select",""),Pe(be,"transform",""),t&&(wl&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),ze&&ze.parentNode&&ze.parentNode.removeChild(ze),(Ot===It||yn&&yn.lastPutMode!=="clone")&&$t&&$t.parentNode&&$t.parentNode.removeChild($t),be&&(this.nativeDraggable&&ct(be,"dragend",this),ff(be),be.style["will-change"]="",wl&&!xo&&ir(be,yn?yn.options.ghostClass:this.options.ghostClass,!1),ir(be,this.options.chosenClass,!1),$n({sortable:this,name:"unchoose",toEl:It,newIndex:null,newDraggableIndex:null,originalEvent:t}),Ot!==It?(ar>=0&&($n({rootEl:It,name:"add",toEl:It,fromEl:Ot,originalEvent:t}),$n({sortable:this,name:"remove",toEl:It,originalEvent:t}),$n({rootEl:It,name:"sort",toEl:It,fromEl:Ot,originalEvent:t}),$n({sortable:this,name:"sort",toEl:It,originalEvent:t})),yn&&yn.save()):ar!==To&&ar>=0&&($n({sortable:this,name:"update",toEl:It,originalEvent:t}),$n({sortable:this,name:"sort",toEl:It,originalEvent:t})),De.active&&((ar==null||ar===-1)&&(ar=To,ea=Al),$n({sortable:this,name:"end",toEl:It,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Un("nulling",this),Ot=be=It=ze=Ma=$t=Eu=ta=Ea=Pr=wl=ar=ea=To=Al=uo=Ol=yn=Oc=De.dragged=De.ghost=De.clone=De.active=null,rd.forEach(function(t){t.checked=!0}),rd.length=uf=df=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":be&&(this._onDragOver(t),uA(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,n=this.el.children,r=0,i=n.length,a=this.options;r<i;r++)e=n[r],Nr(e,a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||mA(e));return t},sort:function(t,e){var n={},r=this.el;this.toArray().forEach(function(i,a){var o=r.children[a];Nr(o,this.options.draggable,r,!1)&&(n[i]=o)},this),e&&this.captureAnimationState(),t.forEach(function(i){n[i]&&(r.removeChild(n[i]),r.appendChild(n[i]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Nr(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(e===void 0)return n[t];var r=cc.modifyOption(this,t,e);typeof r<"u"?n[t]=r:n[t]=e,t==="group"&&j5(n)},destroy:function(){Un("destroy",this);var t=this.el;t[sr]=null,ct(t,"mousedown",this._onTapStart),ct(t,"touchstart",this._onTapStart),ct(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ct(t,"dragover",this),ct(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),nd.splice(nd.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ta){if(Un("hideClone",this),De.eventCanceled)return;Pe($t,"display","none"),this.options.removeCloneOnHide&&$t.parentNode&&$t.parentNode.removeChild($t),ta=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ta){if(Un("showClone",this),De.eventCanceled)return;be.parentNode==Ot&&!this.options.group.revertClone?Ot.insertBefore($t,be):Ma?Ot.insertBefore($t,Ma):Ot.appendChild($t),this.options.group.revertClone&&this.animate(be,$t),Pe($t,"display",""),ta=!1}}};function uA(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function $c(t,e,n,r,i,a,o,s){var l,c=t[sr],u=c.options.onMove,d;return window.CustomEvent&&!zi&&!lc?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=a||en(e),l.willInsertAfter=s,l.originalEvent=o,t.dispatchEvent(l),u&&(d=u.call(c,l,o)),d}function ff(t){t.draggable=!1}function dA(){Yp=!1}function hA(t,e,n){var r=en(Yo(n.el,0,n.options,!0)),i=L5(n.el,n.options,ze),a=10;return e?t.clientX<i.left-a||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-a||t.clientY<r.bottom&&t.clientX<r.left}function fA(t,e,n){var r=en(fm(n.el,n.options.draggable)),i=L5(n.el,n.options,ze),a=10;return e?t.clientX>i.right+a||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+a||t.clientX>r.right&&t.clientY>r.top}function pA(t,e,n,r,i,a,o,s){var l=r?t.clientY:t.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!o){if(s&&Tu<c*i){if(!Ml&&(Ol===1?l>u+c*a/2:l<d-c*a/2)&&(Ml=!0),Ml)f=!0;else if(Ol===1?l<u+Tu:l>d-Tu)return-Ol}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return gA(e)}return f=f||o,f&&(l<u+c*a/2||l>d-c*a/2)?l>u+c/2?1:-1:0}function gA(t){return yr(be)<yr(t)?1:-1}function mA(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function vA(t){rd.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&rd.push(r)}}function Au(t){return setTimeout(t,0)}function Kp(t){return clearTimeout(t)}rh&&ht(document,"touchmove",function(t){(De.active||xo)&&t.cancelable&&t.preventDefault()});De.utils={on:ht,off:ct,css:Pe,find:$5,is:function(t,e){return!!Nr(t,e,t,!1)},extend:QT,throttle:F5,closest:Nr,toggleClass:ir,clone:D5,index:yr,nextTick:Au,cancelNextTick:Kp,detectDirection:N5,getChild:Yo};De.get=function(t){return t[sr]};De.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(De.utils=di(di({},De.utils),r.utils)),cc.mount(r)})};De.create=function(t,e){return new De(t,e)};De.version=KT;var Qt=[],_l,Zp,Jp=!1,pf,gf,id,Cl;function bA(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(e){var n=e.originalEvent;this.sortable.nativeDraggable?ht(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ht(document,"pointermove",this._handleFallbackAutoScroll):n.touches?ht(document,"touchmove",this._handleFallbackAutoScroll):ht(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var n=e.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?ct(document,"dragover",this._handleAutoScroll):(ct(document,"pointermove",this._handleFallbackAutoScroll),ct(document,"touchmove",this._handleFallbackAutoScroll),ct(document,"mousemove",this._handleFallbackAutoScroll)),_v(),Ou(),eA()},nulling:function(){id=Zp=_l=Jp=Cl=pf=gf=null,Qt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,n){var r=this,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(i,a);if(id=e,n||this.options.forceAutoScrollFallback||lc||zi||El){mf(e,this.options,o,n);var s=na(o,!0);Jp&&(!Cl||i!==pf||a!==gf)&&(Cl&&_v(),Cl=setInterval(function(){var l=na(document.elementFromPoint(i,a),!0);l!==s&&(s=l,Ou()),mf(e,r.options,l,n)},10),pf=i,gf=a)}else{if(!this.options.bubbleScroll||na(o,!0)===ui()){Ou();return}mf(e,this.options,na(o,!1),!1)}}},Fi(t,{pluginName:"scroll",initializeByDefault:!0})}function Ou(){Qt.forEach(function(t){clearInterval(t.pid)}),Qt=[]}function _v(){clearInterval(Cl)}var mf=F5(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,s=e.scrollSpeed,l=ui(),c=!1,u;Zp!==n&&(Zp=n,Ou(),_l=e.scroll,u=e.scrollFn,_l===!0&&(_l=na(n,!0)));var d=0,f=_l;do{var h=f,g=en(h),m=g.top,v=g.bottom,b=g.left,y=g.right,x=g.width,w=g.height,_=void 0,k=void 0,R=h.scrollWidth,A=h.scrollHeight,T=Pe(h),O=h.scrollLeft,M=h.scrollTop;h===l?(_=x<R&&(T.overflowX==="auto"||T.overflowX==="scroll"||T.overflowX==="visible"),k=w<A&&(T.overflowY==="auto"||T.overflowY==="scroll"||T.overflowY==="visible")):(_=x<R&&(T.overflowX==="auto"||T.overflowX==="scroll"),k=w<A&&(T.overflowY==="auto"||T.overflowY==="scroll"));var $=_&&(Math.abs(y-i)<=o&&O+x<R)-(Math.abs(b-i)<=o&&!!O),C=k&&(Math.abs(v-a)<=o&&M+w<A)-(Math.abs(m-a)<=o&&!!M);if(!Qt[d])for(var E=0;E<=d;E++)Qt[E]||(Qt[E]={});(Qt[d].vx!=$||Qt[d].vy!=C||Qt[d].el!==h)&&(Qt[d].el=h,Qt[d].vx=$,Qt[d].vy=C,clearInterval(Qt[d].pid),($!=0||C!=0)&&(c=!0,Qt[d].pid=setInterval((function(){r&&this.layer===0&&De.active._onTouchMove(id);var S=Qt[this.layer].vy?Qt[this.layer].vy*s:0,F=Qt[this.layer].vx?Qt[this.layer].vx*s:0;typeof u=="function"&&u.call(De.dragged.parentNode[sr],F,S,t,id,Qt[this.layer].el)!=="continue"||P5(Qt[this.layer].el,F,S)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=na(f,!1)));Jp=c}},30),z5=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,i=t.activeSortable,a=t.dispatchSortableEvent,o=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var l=n||i;o();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(a("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function pm(){}pm.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=Yo(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:z5};Fi(pm,{pluginName:"revertOnSpill"});function gm(){}gm.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,r=n||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:z5};Fi(gm,{pluginName:"removeOnSpill"});De.mount(new bA);De.mount(gm,pm);function yA(t){return t==null?t:JSON.parse(JSON.stringify(t))}function xA(t){kr()&&ts(t)}function wA(t){kr()?Tr(t):An(t)}let H5=null,W5=null;function Cv(t=null,e=null){H5=t,W5=e}function _A(){return{data:H5,clonedData:W5}}const kv=Symbol("cloneElement");function CA(...t){var e,n;const r=(e=kr())==null?void 0:e.proxy;let i=null;const a=t[0];let[,o,s]=t;Array.isArray(yt(o))||(s=o,o=null);let l=null;const{immediate:c=!0,clone:u=yA,customUpdate:d}=(n=yt(s))!=null?n:{};function f(A){var T;const{from:O,oldIndex:M,item:$}=A;i=Array.from(O.childNodes);const C=yt((T=yt(o))==null?void 0:T[M]),E=u(C);Cv(C,E),$[kv]=E}function h(A){const T=A.item[kv];if(!jT(T)){if(sf(A.item),Oi(o)){const O=[...yt(o)];o.value=dv(O,A.newDraggableIndex,T);return}dv(yt(o),A.newDraggableIndex,T)}}function g(A){const{from:T,item:O,oldIndex:M,oldDraggableIndex:$,pullMode:C,clone:E}=A;if(hv(T,O,M),C==="clone"){sf(E);return}if(Oi(o)){const S=[...yt(o)];o.value=uv(S,$);return}uv(yt(o),$)}function m(A){if(d){d(A);return}const{from:T,item:O,oldIndex:M,oldDraggableIndex:$,newDraggableIndex:C}=A;if(sf(O),hv(T,O,M),Oi(o)){const E=[...yt(o)];o.value=cv(E,$,C);return}cv(yt(o),$,C)}function v(A){const{newIndex:T,oldIndex:O,from:M,to:$}=A;let C=null;const E=T===O&&M===$;try{if(E){let S=null;i?.some((F,D)=>{if(S&&i?.length!==$.childNodes.length)return M.insertBefore(S,F.nextSibling),!0;const P=$.childNodes[D];S=$?.replaceChild(F,P)})}}catch(S){C=S}finally{i=null}An(()=>{if(Cv(),C)throw C})}const b={onUpdate:m,onStart:f,onAdd:h,onRemove:g,onEnd:v};function y(A){const T=yt(a);return A||(A=BT(T)?UT(T,r?.$el):T),A&&!WT(A)&&(A=A.$el),A||LT("Root element not found"),A}function x(){var A;const T=(A=yt(s))!=null?A:{},{immediate:O,clone:M}=T,$=T5(T,["immediate","clone"]);return fv($,(C,E)=>{VT(C)&&($[C]=(S,...F)=>{const D=_A();return GT(S,D),E(S,...F)})}),HT(o===null?{}:b,$)}const w=A=>{A=y(A),l&&_.destroy(),l=new De(A,x())};ye(()=>s,()=>{l&&fv(x(),(A,T)=>{l?.option(A,T)})},{deep:!0});const _={option:(A,T)=>l?.option(A,T),destroy:()=>{l?.destroy(),l=null},save:()=>l?.save(),toArray:()=>l?.toArray(),closest:(...A)=>l?.closest(...A)},k=()=>_?.option("disabled",!0),R=()=>_?.option("disabled",!1);return wA(()=>{c&&w()}),xA(_.destroy),Eo({start:w,pause:k,resume:R},_)}const Qp=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],kA=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...Qp.map(t=>`on${t.replace(/^\S/,e=>e.toUpperCase())}`)],ih=Y({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:kA,emits:["update:modelValue",...Qp],setup(t,{slots:e,emit:n,expose:r,attrs:i}){const a=Qp.reduce((u,d)=>{const f=`on${d.replace(/^\S/,h=>h.toUpperCase())}`;return u[f]=(...h)=>n(d,...h),u},{}),o=V(()=>{const u=Md(t),{modelValue:d}=u,f=T5(u,["modelValue"]),h=Object.entries(f).reduce((g,[m,v])=>{const b=yt(v);return b!==void 0&&(g[m]=b),g},{});return Eo(Eo({},a),NT(Eo(Eo({},i),h)))}),s=V({get:()=>t.modelValue,set:u=>n("update:modelValue",u)}),l=ie(),c=wn(CA(t.target||l,s,o));return r(c),()=>{var u;return Ye(t.tag||"div",{ref:l},(u=e?.default)==null?void 0:u.call(e,c))}}});var vf,Sv;function SA(){if(Sv)return vf;Sv=1;function t(G){return G instanceof Map?G.clear=G.delete=G.set=function(){throw new Error("map is read-only")}:G instanceof Set&&(G.add=G.clear=G.delete=function(){throw new Error("set is read-only")}),Object.freeze(G),Object.getOwnPropertyNames(G).forEach(ue=>{const xe=G[ue],Ue=typeof xe;(Ue==="object"||Ue==="function")&&!Object.isFrozen(xe)&&t(xe)}),G}class e{constructor(ue){ue.data===void 0&&(ue.data={}),this.data=ue.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(G){return G.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(G,...ue){const xe=Object.create(null);for(const Ue in G)xe[Ue]=G[Ue];return ue.forEach(function(Ue){for(const Ut in Ue)xe[Ut]=Ue[Ut]}),xe}const i="</span>",a=G=>!!G.scope,o=(G,{prefix:ue})=>{if(G.startsWith("language:"))return G.replace("language:","language-");if(G.includes(".")){const xe=G.split(".");return[`${ue}${xe.shift()}`,...xe.map((Ue,Ut)=>`${Ue}${"_".repeat(Ut+1)}`)].join(" ")}return`${ue}${G}`};class s{constructor(ue,xe){this.buffer="",this.classPrefix=xe.classPrefix,ue.walk(this)}addText(ue){this.buffer+=n(ue)}openNode(ue){if(!a(ue))return;const xe=o(ue.scope,{prefix:this.classPrefix});this.span(xe)}closeNode(ue){a(ue)&&(this.buffer+=i)}value(){return this.buffer}span(ue){this.buffer+=`<span class="${ue}">`}}const l=(G={})=>{const ue={children:[]};return Object.assign(ue,G),ue};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(ue){this.top.children.push(ue)}openNode(ue){const xe=l({scope:ue});this.add(xe),this.stack.push(xe)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(ue){return this.constructor._walk(ue,this.rootNode)}static _walk(ue,xe){return typeof xe=="string"?ue.addText(xe):xe.children&&(ue.openNode(xe),xe.children.forEach(Ue=>this._walk(ue,Ue)),ue.closeNode(xe)),ue}static _collapse(ue){typeof ue!="string"&&ue.children&&(ue.children.every(xe=>typeof xe=="string")?ue.children=[ue.children.join("")]:ue.children.forEach(xe=>{c._collapse(xe)}))}}class u extends c{constructor(ue){super(),this.options=ue}addText(ue){ue!==""&&this.add(ue)}startScope(ue){this.openNode(ue)}endScope(){this.closeNode()}__addSublanguage(ue,xe){const Ue=ue.root;xe&&(Ue.scope=`language:${xe}`),this.add(Ue)}toHTML(){return new s(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function d(G){return G?typeof G=="string"?G:G.source:null}function f(G){return m("(?=",G,")")}function h(G){return m("(?:",G,")*")}function g(G){return m("(?:",G,")?")}function m(...G){return G.map(xe=>d(xe)).join("")}function v(G){const ue=G[G.length-1];return typeof ue=="object"&&ue.constructor===Object?(G.splice(G.length-1,1),ue):{}}function b(...G){return"("+(v(G).capture?"":"?:")+G.map(Ue=>d(Ue)).join("|")+")"}function y(G){return new RegExp(G.toString()+"|").exec("").length-1}function x(G,ue){const xe=G&&G.exec(ue);return xe&&xe.index===0}const w=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function _(G,{joinWith:ue}){let xe=0;return G.map(Ue=>{xe+=1;const Ut=xe;let zt=d(Ue),Ae="";for(;zt.length>0;){const Ee=w.exec(zt);if(!Ee){Ae+=zt;break}Ae+=zt.substring(0,Ee.index),zt=zt.substring(Ee.index+Ee[0].length),Ee[0][0]==="\\"&&Ee[1]?Ae+="\\"+String(Number(Ee[1])+Ut):(Ae+=Ee[0],Ee[0]==="("&&xe++)}return Ae}).map(Ue=>`(${Ue})`).join(ue)}const k=/\b\B/,R="[a-zA-Z]\\w*",A="[a-zA-Z_]\\w*",T="\\b\\d+(\\.\\d+)?",O="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",M="\\b(0b[01]+)",$="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",C=(G={})=>{const ue=/^#![ ]*\//;return G.binary&&(G.begin=m(ue,/.*\b/,G.binary,/\b.*/)),r({scope:"meta",begin:ue,end:/$/,relevance:0,"on:begin":(xe,Ue)=>{xe.index!==0&&Ue.ignoreMatch()}},G)},E={begin:"\\\\[\\s\\S]",relevance:0},S={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[E]},F={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[E]},D={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},P=function(G,ue,xe={}){const Ue=r({scope:"comment",begin:G,end:ue,contains:[]},xe);Ue.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Ut=b("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Ue.contains.push({begin:m(/[ ]+/,"(",Ut,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Ue},L=P("//","$"),N=P("/\\*","\\*/"),W=P("#","$"),j={scope:"number",begin:T,relevance:0},U={scope:"number",begin:O,relevance:0},z={scope:"number",begin:M,relevance:0},Q={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[E,{begin:/\[/,end:/\]/,relevance:0,contains:[E]}]},K={scope:"title",begin:R,relevance:0},H={scope:"title",begin:A,relevance:0},J={begin:"\\.\\s*"+A,relevance:0};var oe=Object.freeze({__proto__:null,APOS_STRING_MODE:S,BACKSLASH_ESCAPE:E,BINARY_NUMBER_MODE:z,BINARY_NUMBER_RE:M,COMMENT:P,C_BLOCK_COMMENT_MODE:N,C_LINE_COMMENT_MODE:L,C_NUMBER_MODE:U,C_NUMBER_RE:O,END_SAME_AS_BEGIN:function(G){return Object.assign(G,{"on:begin":(ue,xe)=>{xe.data._beginMatch=ue[1]},"on:end":(ue,xe)=>{xe.data._beginMatch!==ue[1]&&xe.ignoreMatch()}})},HASH_COMMENT_MODE:W,IDENT_RE:R,MATCH_NOTHING_RE:k,METHOD_GUARD:J,NUMBER_MODE:j,NUMBER_RE:T,PHRASAL_WORDS_MODE:D,QUOTE_STRING_MODE:F,REGEXP_MODE:Q,RE_STARTERS_RE:$,SHEBANG:C,TITLE_MODE:K,UNDERSCORE_IDENT_RE:A,UNDERSCORE_TITLE_MODE:H});function he(G,ue){G.input[G.index-1]==="."&&ue.ignoreMatch()}function ve(G,ue){G.className!==void 0&&(G.scope=G.className,delete G.className)}function Oe(G,ue){ue&&G.beginKeywords&&(G.begin="\\b("+G.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",G.__beforeBegin=he,G.keywords=G.keywords||G.beginKeywords,delete G.beginKeywords,G.relevance===void 0&&(G.relevance=0))}function Le(G,ue){Array.isArray(G.illegal)&&(G.illegal=b(...G.illegal))}function Re(G,ue){if(G.match){if(G.begin||G.end)throw new Error("begin & end are not supported with match");G.begin=G.match,delete G.match}}function bt(G,ue){G.relevance===void 0&&(G.relevance=1)}const et=(G,ue)=>{if(!G.beforeMatch)return;if(G.starts)throw new Error("beforeMatch cannot be used with starts");const xe=Object.assign({},G);Object.keys(G).forEach(Ue=>{delete G[Ue]}),G.keywords=xe.keywords,G.begin=m(xe.beforeMatch,f(xe.begin)),G.starts={relevance:0,contains:[Object.assign(xe,{endsParent:!0})]},G.relevance=0,delete xe.beforeMatch},I=["of","and","for","in","not","or","if","then","parent","list","value"],B="keyword";function te(G,ue,xe=B){const Ue=Object.create(null);return typeof G=="string"?Ut(xe,G.split(" ")):Array.isArray(G)?Ut(xe,G):Object.keys(G).forEach(function(zt){Object.assign(Ue,te(G[zt],ue,zt))}),Ue;function Ut(zt,Ae){ue&&(Ae=Ae.map(Ee=>Ee.toLowerCase())),Ae.forEach(function(Ee){const Ie=Ee.split("|");Ue[Ie[0]]=[zt,le(Ie[0],Ie[1])]})}}function le(G,ue){return ue?Number(ue):de(G)?0:1}function de(G){return I.includes(G.toLowerCase())}const pe={},ee=G=>{console.error(G)},se=(G,...ue)=>{console.log(`WARN: ${G}`,...ue)},Ce=(G,ue)=>{pe[`${G}/${ue}`]||(console.log(`Deprecated as of ${G}. ${ue}`),pe[`${G}/${ue}`]=!0)},fe=new Error;function Ge(G,ue,{key:xe}){let Ue=0;const Ut=G[xe],zt={},Ae={};for(let Ee=1;Ee<=ue.length;Ee++)Ae[Ee+Ue]=Ut[Ee],zt[Ee+Ue]=!0,Ue+=y(ue[Ee-1]);G[xe]=Ae,G[xe]._emit=zt,G[xe]._multi=!0}function hn(G){if(Array.isArray(G.begin)){if(G.skip||G.excludeBegin||G.returnBegin)throw ee("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),fe;if(typeof G.beginScope!="object"||G.beginScope===null)throw ee("beginScope must be object"),fe;Ge(G,G.begin,{key:"beginScope"}),G.begin=_(G.begin,{joinWith:""})}}function vn(G){if(Array.isArray(G.end)){if(G.skip||G.excludeEnd||G.returnEnd)throw ee("skip, excludeEnd, returnEnd not compatible with endScope: {}"),fe;if(typeof G.endScope!="object"||G.endScope===null)throw ee("endScope must be object"),fe;Ge(G,G.end,{key:"endScope"}),G.end=_(G.end,{joinWith:""})}}function pr(G){G.scope&&typeof G.scope=="object"&&G.scope!==null&&(G.beginScope=G.scope,delete G.scope)}function jn(G){pr(G),typeof G.beginScope=="string"&&(G.beginScope={_wrap:G.beginScope}),typeof G.endScope=="string"&&(G.endScope={_wrap:G.endScope}),hn(G),vn(G)}function tr(G){function ue(Ae,Ee){return new RegExp(d(Ae),"m"+(G.case_insensitive?"i":"")+(G.unicodeRegex?"u":"")+(Ee?"g":""))}class xe{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Ee,Ie){Ie.position=this.position++,this.matchIndexes[this.matchAt]=Ie,this.regexes.push([Ie,Ee]),this.matchAt+=y(Ee)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Ee=this.regexes.map(Ie=>Ie[1]);this.matcherRe=ue(_(Ee,{joinWith:"|"}),!0),this.lastIndex=0}exec(Ee){this.matcherRe.lastIndex=this.lastIndex;const Ie=this.matcherRe.exec(Ee);if(!Ie)return null;const fn=Ie.findIndex((xs,Fh)=>Fh>0&&xs!==void 0),Jt=this.matchIndexes[fn];return Ie.splice(0,fn),Object.assign(Ie,Jt)}}class Ue{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Ee){if(this.multiRegexes[Ee])return this.multiRegexes[Ee];const Ie=new xe;return this.rules.slice(Ee).forEach(([fn,Jt])=>Ie.addRule(fn,Jt)),Ie.compile(),this.multiRegexes[Ee]=Ie,Ie}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Ee,Ie){this.rules.push([Ee,Ie]),Ie.type==="begin"&&this.count++}exec(Ee){const Ie=this.getMatcher(this.regexIndex);Ie.lastIndex=this.lastIndex;let fn=Ie.exec(Ee);if(this.resumingScanAtSamePosition()&&!(fn&&fn.index===this.lastIndex)){const Jt=this.getMatcher(0);Jt.lastIndex=this.lastIndex+1,fn=Jt.exec(Ee)}return fn&&(this.regexIndex+=fn.position+1,this.regexIndex===this.count&&this.considerAll()),fn}}function Ut(Ae){const Ee=new Ue;return Ae.contains.forEach(Ie=>Ee.addRule(Ie.begin,{rule:Ie,type:"begin"})),Ae.terminatorEnd&&Ee.addRule(Ae.terminatorEnd,{type:"end"}),Ae.illegal&&Ee.addRule(Ae.illegal,{type:"illegal"}),Ee}function zt(Ae,Ee){const Ie=Ae;if(Ae.isCompiled)return Ie;[ve,Re,jn,et].forEach(Jt=>Jt(Ae,Ee)),G.compilerExtensions.forEach(Jt=>Jt(Ae,Ee)),Ae.__beforeBegin=null,[Oe,Le,bt].forEach(Jt=>Jt(Ae,Ee)),Ae.isCompiled=!0;let fn=null;return typeof Ae.keywords=="object"&&Ae.keywords.$pattern&&(Ae.keywords=Object.assign({},Ae.keywords),fn=Ae.keywords.$pattern,delete Ae.keywords.$pattern),fn=fn||/\w+/,Ae.keywords&&(Ae.keywords=te(Ae.keywords,G.case_insensitive)),Ie.keywordPatternRe=ue(fn,!0),Ee&&(Ae.begin||(Ae.begin=/\B|\b/),Ie.beginRe=ue(Ie.begin),!Ae.end&&!Ae.endsWithParent&&(Ae.end=/\B|\b/),Ae.end&&(Ie.endRe=ue(Ie.end)),Ie.terminatorEnd=d(Ie.end)||"",Ae.endsWithParent&&Ee.terminatorEnd&&(Ie.terminatorEnd+=(Ae.end?"|":"")+Ee.terminatorEnd)),Ae.illegal&&(Ie.illegalRe=ue(Ae.illegal)),Ae.contains||(Ae.contains=[]),Ae.contains=[].concat(...Ae.contains.map(function(Jt){return ys(Jt==="self"?Ae:Jt)})),Ae.contains.forEach(function(Jt){zt(Jt,Ie)}),Ae.starts&&zt(Ae.starts,Ee),Ie.matcher=Ut(Ie),Ie}if(G.compilerExtensions||(G.compilerExtensions=[]),G.contains&&G.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return G.classNameAliases=r(G.classNameAliases||{}),zt(G)}function Bn(G){return G?G.endsWithParent||Bn(G.starts):!1}function ys(G){return G.variants&&!G.cachedVariants&&(G.cachedVariants=G.variants.map(function(ue){return r(G,{variants:null},ue)})),G.cachedVariants?G.cachedVariants:Bn(G)?r(G,{starts:G.starts?r(G.starts):null}):Object.isFrozen(G)?r(G):G}var Rh="11.11.1";class h8 extends Error{constructor(ue,xe){super(ue),this.name="HTMLInjectionError",this.html=xe}}const $h=n,w0=r,_0=Symbol("nomatch"),f8=7,C0=function(G){const ue=Object.create(null),xe=Object.create(null),Ue=[];let Ut=!0;const zt="Could not find the language '{}', did you forget to load/include a language module?",Ae={disableAutodetect:!0,name:"Plain text",contains:[]};let Ee={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function Ie(me){return Ee.noHighlightRe.test(me)}function fn(me){let $e=me.className+" ";$e+=me.parentNode?me.parentNode.className:"";const st=Ee.languageDetectRe.exec($e);if(st){const St=Vi(st[1]);return St||(se(zt.replace("{}",st[1])),se("Falling back to no-highlight mode for this block.",me)),St?st[1]:"no-highlight"}return $e.split(/\s+/).find(St=>Ie(St)||Vi(St))}function Jt(me,$e,st){let St="",on="";typeof $e=="object"?(St=me,st=$e.ignoreIllegals,on=$e.language):(Ce("10.7.0","highlight(lang, code, ...args) has been deprecated."),Ce("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),on=me,St=$e),st===void 0&&(st=!0);const Or={code:St,language:on};yc("before:highlight",Or);const Gi=Or.result?Or.result:xs(Or.language,Or.code,st);return Gi.code=Or.code,yc("after:highlight",Gi),Gi}function xs(me,$e,st,St){const on=Object.create(null);function Or(we,Me){return we.keywords[Me]}function Gi(){if(!We.keywords){bn.addText(Et);return}let we=0;We.keywordPatternRe.lastIndex=0;let Me=We.keywordPatternRe.exec(Et),Ke="";for(;Me;){Ke+=Et.substring(we,Me.index);const gt=Qr.case_insensitive?Me[0].toLowerCase():Me[0],Cn=Or(We,gt);if(Cn){const[vi,M8]=Cn;if(bn.addText(Ke),Ke="",on[gt]=(on[gt]||0)+1,on[gt]<=f8&&(_c+=M8),vi.startsWith("_"))Ke+=Me[0];else{const R8=Qr.classNameAliases[vi]||vi;Jr(Me[0],R8)}}else Ke+=Me[0];we=We.keywordPatternRe.lastIndex,Me=We.keywordPatternRe.exec(Et)}Ke+=Et.substring(we),bn.addText(Ke)}function xc(){if(Et==="")return;let we=null;if(typeof We.subLanguage=="string"){if(!ue[We.subLanguage]){bn.addText(Et);return}we=xs(We.subLanguage,Et,!0,R0[We.subLanguage]),R0[We.subLanguage]=we._top}else we=Ph(Et,We.subLanguage.length?We.subLanguage:null);We.relevance>0&&(_c+=we.relevance),bn.__addSublanguage(we._emitter,we.language)}function nr(){We.subLanguage!=null?xc():Gi(),Et=""}function Jr(we,Me){we!==""&&(bn.startScope(Me),bn.addText(we),bn.endScope())}function T0(we,Me){let Ke=1;const gt=Me.length-1;for(;Ke<=gt;){if(!we._emit[Ke]){Ke++;continue}const Cn=Qr.classNameAliases[we[Ke]]||we[Ke],vi=Me[Ke];Cn?Jr(vi,Cn):(Et=vi,Gi(),Et=""),Ke++}}function A0(we,Me){return we.scope&&typeof we.scope=="string"&&bn.openNode(Qr.classNameAliases[we.scope]||we.scope),we.beginScope&&(we.beginScope._wrap?(Jr(Et,Qr.classNameAliases[we.beginScope._wrap]||we.beginScope._wrap),Et=""):we.beginScope._multi&&(T0(we.beginScope,Me),Et="")),We=Object.create(we,{parent:{value:We}}),We}function O0(we,Me,Ke){let gt=x(we.endRe,Ke);if(gt){if(we["on:end"]){const Cn=new e(we);we["on:end"](Me,Cn),Cn.isMatchIgnored&&(gt=!1)}if(gt){for(;we.endsParent&&we.parent;)we=we.parent;return we}}if(we.endsWithParent)return O0(we.parent,Me,Ke)}function S8(we){return We.matcher.regexIndex===0?(Et+=we[0],1):(Nh=!0,0)}function E8(we){const Me=we[0],Ke=we.rule,gt=new e(Ke),Cn=[Ke.__beforeBegin,Ke["on:begin"]];for(const vi of Cn)if(vi&&(vi(we,gt),gt.isMatchIgnored))return S8(Me);return Ke.skip?Et+=Me:(Ke.excludeBegin&&(Et+=Me),nr(),!Ke.returnBegin&&!Ke.excludeBegin&&(Et=Me)),A0(Ke,we),Ke.returnBegin?0:Me.length}function T8(we){const Me=we[0],Ke=$e.substring(we.index),gt=O0(We,we,Ke);if(!gt)return _0;const Cn=We;We.endScope&&We.endScope._wrap?(nr(),Jr(Me,We.endScope._wrap)):We.endScope&&We.endScope._multi?(nr(),T0(We.endScope,we)):Cn.skip?Et+=Me:(Cn.returnEnd||Cn.excludeEnd||(Et+=Me),nr(),Cn.excludeEnd&&(Et=Me));do We.scope&&bn.closeNode(),!We.skip&&!We.subLanguage&&(_c+=We.relevance),We=We.parent;while(We!==gt.parent);return gt.starts&&A0(gt.starts,we),Cn.returnEnd?0:Me.length}function A8(){const we=[];for(let Me=We;Me!==Qr;Me=Me.parent)Me.scope&&we.unshift(Me.scope);we.forEach(Me=>bn.openNode(Me))}let wc={};function M0(we,Me){const Ke=Me&&Me[0];if(Et+=we,Ke==null)return nr(),0;if(wc.type==="begin"&&Me.type==="end"&&wc.index===Me.index&&Ke===""){if(Et+=$e.slice(Me.index,Me.index+1),!Ut){const gt=new Error(`0 width match regex (${me})`);throw gt.languageName=me,gt.badRule=wc.rule,gt}return 1}if(wc=Me,Me.type==="begin")return E8(Me);if(Me.type==="illegal"&&!st){const gt=new Error('Illegal lexeme "'+Ke+'" for mode "'+(We.scope||"<unnamed>")+'"');throw gt.mode=We,gt}else if(Me.type==="end"){const gt=T8(Me);if(gt!==_0)return gt}if(Me.type==="illegal"&&Ke==="")return Et+=`
`,1;if(Ih>1e5&&Ih>Me.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Et+=Ke,Ke.length}const Qr=Vi(me);if(!Qr)throw ee(zt.replace("{}",me)),new Error('Unknown language: "'+me+'"');const O8=tr(Qr);let Lh="",We=St||O8;const R0={},bn=new Ee.__emitter(Ee);A8();let Et="",_c=0,Ca=0,Ih=0,Nh=!1;try{if(Qr.__emitTokens)Qr.__emitTokens($e,bn);else{for(We.matcher.considerAll();;){Ih++,Nh?Nh=!1:We.matcher.considerAll(),We.matcher.lastIndex=Ca;const we=We.matcher.exec($e);if(!we)break;const Me=$e.substring(Ca,we.index),Ke=M0(Me,we);Ca=we.index+Ke}M0($e.substring(Ca))}return bn.finalize(),Lh=bn.toHTML(),{language:me,value:Lh,relevance:_c,illegal:!1,_emitter:bn,_top:We}}catch(we){if(we.message&&we.message.includes("Illegal"))return{language:me,value:$h($e),illegal:!0,relevance:0,_illegalBy:{message:we.message,index:Ca,context:$e.slice(Ca-100,Ca+100),mode:we.mode,resultSoFar:Lh},_emitter:bn};if(Ut)return{language:me,value:$h($e),illegal:!1,relevance:0,errorRaised:we,_emitter:bn,_top:We};throw we}}function Fh(me){const $e={value:$h(me),illegal:!1,relevance:0,_top:Ae,_emitter:new Ee.__emitter(Ee)};return $e._emitter.addText(me),$e}function Ph(me,$e){$e=$e||Ee.languages||Object.keys(ue);const st=Fh(me),St=$e.filter(Vi).filter(E0).map(nr=>xs(nr,me,!1));St.unshift(st);const on=St.sort((nr,Jr)=>{if(nr.relevance!==Jr.relevance)return Jr.relevance-nr.relevance;if(nr.language&&Jr.language){if(Vi(nr.language).supersetOf===Jr.language)return 1;if(Vi(Jr.language).supersetOf===nr.language)return-1}return 0}),[Or,Gi]=on,xc=Or;return xc.secondBest=Gi,xc}function p8(me,$e,st){const St=$e&&xe[$e]||st;me.classList.add("hljs"),me.classList.add(`language-${St}`)}function Dh(me){let $e=null;const st=fn(me);if(Ie(st))return;if(yc("before:highlightElement",{el:me,language:st}),me.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",me);return}if(me.children.length>0&&(Ee.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(me)),Ee.throwUnescapedHTML))throw new h8("One of your code blocks includes unescaped HTML.",me.innerHTML);$e=me;const St=$e.textContent,on=st?Jt(St,{language:st,ignoreIllegals:!0}):Ph(St);me.innerHTML=on.value,me.dataset.highlighted="yes",p8(me,st,on.language),me.result={language:on.language,re:on.relevance,relevance:on.relevance},on.secondBest&&(me.secondBest={language:on.secondBest.language,relevance:on.secondBest.relevance}),yc("after:highlightElement",{el:me,result:on,text:St})}function g8(me){Ee=w0(Ee,me)}const m8=()=>{bc(),Ce("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function v8(){bc(),Ce("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let k0=!1;function bc(){function me(){bc()}if(document.readyState==="loading"){k0||window.addEventListener("DOMContentLoaded",me,!1),k0=!0;return}document.querySelectorAll(Ee.cssSelector).forEach(Dh)}function b8(me,$e){let st=null;try{st=$e(G)}catch(St){if(ee("Language definition for '{}' could not be registered.".replace("{}",me)),Ut)ee(St);else throw St;st=Ae}st.name||(st.name=me),ue[me]=st,st.rawDefinition=$e.bind(null,G),st.aliases&&S0(st.aliases,{languageName:me})}function y8(me){delete ue[me];for(const $e of Object.keys(xe))xe[$e]===me&&delete xe[$e]}function x8(){return Object.keys(ue)}function Vi(me){return me=(me||"").toLowerCase(),ue[me]||ue[xe[me]]}function S0(me,{languageName:$e}){typeof me=="string"&&(me=[me]),me.forEach(st=>{xe[st.toLowerCase()]=$e})}function E0(me){const $e=Vi(me);return $e&&!$e.disableAutodetect}function w8(me){me["before:highlightBlock"]&&!me["before:highlightElement"]&&(me["before:highlightElement"]=$e=>{me["before:highlightBlock"](Object.assign({block:$e.el},$e))}),me["after:highlightBlock"]&&!me["after:highlightElement"]&&(me["after:highlightElement"]=$e=>{me["after:highlightBlock"](Object.assign({block:$e.el},$e))})}function _8(me){w8(me),Ue.push(me)}function C8(me){const $e=Ue.indexOf(me);$e!==-1&&Ue.splice($e,1)}function yc(me,$e){const st=me;Ue.forEach(function(St){St[st]&&St[st]($e)})}function k8(me){return Ce("10.7.0","highlightBlock will be removed entirely in v12.0"),Ce("10.7.0","Please use highlightElement now."),Dh(me)}Object.assign(G,{highlight:Jt,highlightAuto:Ph,highlightAll:bc,highlightElement:Dh,highlightBlock:k8,configure:g8,initHighlighting:m8,initHighlightingOnLoad:v8,registerLanguage:b8,unregisterLanguage:y8,listLanguages:x8,getLanguage:Vi,registerAliases:S0,autoDetection:E0,inherit:w0,addPlugin:_8,removePlugin:C8}),G.debugMode=function(){Ut=!1},G.safeMode=function(){Ut=!0},G.versionString=Rh,G.regex={concat:m,lookahead:f,either:b,optional:g,anyNumberOfTimes:h};for(const me in oe)typeof oe[me]=="object"&&t(oe[me]);return Object.assign(G,oe),G},lo=C0({});return lo.newInstance=()=>C0({}),vf=lo,lo.HighlightJS=lo,lo.default=lo,vf}var EA=SA();const zn=tc(EA);function TA(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},a=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(s);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},u={match:/\\'/},d={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],h=t.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),g={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},m=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],v=["true","false"],b={match:/(\/[a-z._-]+)+/},y=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],x=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],w=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],_=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:m,literal:v,built_in:[...y,...x,"set","shopt",...w,..._]},contains:[h,t.SHEBANG(),g,d,a,o,b,s,l,c,u,n]}}const AA=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),OA=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],MA=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],RA=[...OA,...MA],$A=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),FA=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),PA=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),DA=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function LA(t){const e=t.regex,n=AA(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",a=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",s=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+FA.join("|")+")"},{begin:":(:)?("+PA.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+DA.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...s,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...s,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:a},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:$A.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...s,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+RA.join("|")+")\\b"}]}}function IA(t){const a={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:a,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:a,illegal:/["']/}]}]}}var wo="[0-9](_*[0-9])*",Fc=`\\.(${wo})`,Pc="[0-9a-fA-F](_*[0-9a-fA-F])*",Ev={className:"number",variants:[{begin:`(\\b(${wo})((${Fc})|\\.)?|(${Fc}))[eE][+-]?(${wo})[fFdD]?\\b`},{begin:`\\b(${wo})((${Fc})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Fc})[fFdD]?\\b`},{begin:`\\b(${wo})[fFdD]\\b`},{begin:`\\b0[xX]((${Pc})\\.?|(${Pc})?\\.(${Pc}))[pP][+-]?(${wo})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Pc})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function V5(t,e,n){return n===-1?"":t.replace(e,r=>V5(t,e,n-1))}function NA(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+V5("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[u,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,Ev,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},Ev,c]}}const Tv="[A-Za-z$_][0-9A-Za-z$_]*",jA=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],BA=["true","false","null","undefined","NaN","Infinity"],G5=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],X5=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],q5=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],UA=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],zA=[].concat(q5,G5,X5);function HA(t){const e=t.regex,n=(P,{after:L})=>{const N="</"+P[0].slice(1);return P.input.indexOf(N,L)!==-1},r=Tv,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,L)=>{const N=P[0].length+P.index,W=P.input[N];if(W==="<"||W===","){L.ignoreMatch();return}W===">"&&(n(P,{after:N})||L.ignoreMatch());let j;const U=P.input.substring(N);if(j=U.match(/^\s*=/)){L.ignoreMatch();return}if((j=U.match(/^\s+extends\s+/))&&j.index===0){L.ignoreMatch();return}}},s={$pattern:Tv,keyword:jA,literal:BA,built_in:zA,"variable.language":UA},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},y={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},x=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,g,m,v,{match:/\$\d+/},d];f.contains=x.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(x)});const w=[].concat(y,f.contains),_=w.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(w)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:_},R={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...G5,...X5]}},T={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},O={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},M={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function $(P){return e.concat("(?!",P.join("|"),")")}const C={match:e.concat(/\b/,$([...q5,"super","import"].map(P=>`${P}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},E={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},S={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",D={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(F)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),T,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,g,m,v,y,{match:/\$\d+/},d,A,{scope:"attr",match:r+e.lookahead(":"),relevance:0},D,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,t.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},O,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},E,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},C,M,R,S,{match:/\$[(.]/}]}}function WA(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function VA(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},a={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},s=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,s,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},u={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},d=t.inherit(c,{contains:[]}),f=t.inherit(u,{contains:[]});c.contains.push(f),u.contains.push(d);let h=[n,l];return[c,u,d,f].forEach(b=>{b.contains=b.contains.concat(h)}),h=h.concat(c,u),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:h},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:h}]}]},n,a,c,u,{className:"quote",begin:"^>\\s+",contains:h,end:"$"},i,r,l,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function GA(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),a=e.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+r},s={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=t.inherit(t.APOS_STRING_MODE,{illegal:null}),u=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(l)}),d={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(E,S)=>{S.data._beginMatch=E[1]||E[2]},"on:end":(E,S)=>{S.data._beginMatch!==E[1]&&S.ignoreMatch()}},f=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),h=`[ 	
]`,g={scope:"string",variants:[u,c,d,f]},m={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},v=["false","null","true"],b=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],y=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],w={keyword:b,literal:(E=>{const S=[];return E.forEach(F=>{S.push(F),F.toLowerCase()===F?S.push(F.toUpperCase()):S.push(F.toLowerCase())}),S})(v),built_in:y},_=E=>E.map(S=>S.replace(/\|\d+$/,"")),k={variants:[{match:[/new/,e.concat(h,"+"),e.concat("(?!",_(y).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},R=e.concat(r,"\\b(?!\\()"),A={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),R],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),R],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},T={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},O={relevance:0,begin:/\(/,end:/\)/,keywords:w,contains:[T,o,A,t.C_BLOCK_COMMENT_MODE,g,m,k]},M={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",_(b).join("\\b|"),"|",_(y).join("\\b|"),"\\b)"),r,e.concat(h,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[O]};O.contains.push(M);const $=[T,A,t.C_BLOCK_COMMENT_MODE,g,m,k],C={begin:e.concat(/#\[\s*\\?/,e.either(i,a)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:v,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:v,keyword:["new","array"]},contains:["self",...$]},...$,{scope:"meta",variants:[{match:i},{match:a}]}]};return{case_insensitive:!1,keywords:w,contains:[C,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},s,{scope:"variable.language",match:/\$this\b/},o,M,A,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},k,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:w,contains:["self",C,o,A,t.C_BLOCK_COMMENT_MODE,g,m]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},g,m]}}function XA(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],s={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:s,illegal:/#/},u={begin:/\{\{/,relevance:0},d={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,u,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",h=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,g=`\\b|${r.join("|")}`,m={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${h}))[eE][+-]?(${f})[jJ]?(?=${g})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${f})[jJ](?=${g})`}]},v={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:s,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:["self",l,m,d,t.HASH_COMMENT_MODE]}]};return c.contains=[d,m,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:s,illegal:/(<\/|\?)|=>/,contains:[l,m,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},d,v,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[m,b,d]}]}}function qA(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function YA(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},a=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],s=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],d=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],h=u,g=[...c,...l].filter(_=>!u.includes(_)),m={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},v={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={match:e.concat(/\b/,e.either(...h),/\s*\(/),relevance:0,keywords:{built_in:h}};function y(_){return e.concat(/\b/,e.either(..._.map(k=>k.replace(/\s+/,"\\s+"))),/\b/)}const x={scope:"keyword",match:y(f),relevance:0};function w(_,{exceptions:k,when:R}={}){const A=R;return k=k||[],_.map(T=>T.match(/\|\d+$/)||k.includes(T)?T:A(T)?`${T}|0`:T)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:w(g,{when:_=>_.length<3}),literal:a,type:s,built_in:d},contains:[{scope:"type",match:y(o)},x,b,m,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,v]}}const ad="[A-Za-z$_][0-9A-Za-z$_]*",Y5=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],K5=["true","false","null","undefined","NaN","Infinity"],Z5=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],J5=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Q5=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],ew=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],tw=[].concat(Q5,Z5,J5);function KA(t){const e=t.regex,n=(P,{after:L})=>{const N="</"+P[0].slice(1);return P.input.indexOf(N,L)!==-1},r=ad,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,L)=>{const N=P[0].length+P.index,W=P.input[N];if(W==="<"||W===","){L.ignoreMatch();return}W===">"&&(n(P,{after:N})||L.ignoreMatch());let j;const U=P.input.substring(N);if(j=U.match(/^\s*=/)){L.ignoreMatch();return}if((j=U.match(/^\s+extends\s+/))&&j.index===0){L.ignoreMatch();return}}},s={$pattern:ad,keyword:Y5,literal:K5,built_in:tw,"variable.language":ew},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},y={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},x=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,g,m,v,{match:/\$\d+/},d];f.contains=x.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(x)});const w=[].concat(y,f.contains),_=w.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(w)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:_},R={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Z5,...J5]}},T={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},O={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},M={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function $(P){return e.concat("(?!",P.join("|"),")")}const C={match:e.concat(/\b/,$([...Q5,"super","import"].map(P=>`${P}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},E={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},S={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",D={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(F)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),T,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,g,m,v,y,{match:/\$\d+/},d,A,{scope:"attr",match:r+e.lookahead(":"),relevance:0},D,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,t.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},O,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},E,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},C,M,R,S,{match:/\$[(.]/}]}}function ZA(t){const e=t.regex,n=KA(t),r=ad,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},s={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:ad,keyword:Y5.concat(l),literal:K5,built_in:tw.concat(i),"variable.language":ew},u={className:"meta",begin:"@"+r},d=(m,v,b)=>{const y=m.contains.findIndex(x=>x.label===v);if(y===-1)throw new Error("can not find mode to replace");m.contains.splice(y,1,b)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(u);const f=n.contains.find(m=>m.scope==="attr"),h=Object.assign({},f,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,f,h]),n.contains=n.contains.concat([u,a,o,h]),d(n,"shebang",t.SHEBANG()),d(n,"use_strict",s);const g=n.contains.find(m=>m.label==="func.def");return g.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function JA(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},a={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(a,{begin:/\(/,end:/\)/}),s=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[a,l,s,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[a,o,l,s]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const pn=Math.round;function bf(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Av=(t,e,n)=>n===0?t:t/100;function Cs(t,e){const n=e||255;return t>n?n:t<0?0:t}class Ao{constructor(e){gr(this,"isValid",!0),gr(this,"r",0),gr(this,"g",0),gr(this,"b",0),gr(this,"a",1),gr(this,"_h",void 0),gr(this,"_s",void 0),gr(this,"_l",void 0),gr(this,"_v",void 0),gr(this,"_max",void 0),gr(this,"_min",void 0),gr(this,"_brightness",void 0);function n(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let i=function(a){return r.startsWith(a)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):i("rgb")?this.fromRgbString(r):i("hsl")?this.fromHslString(r):(i("hsv")||i("hsb"))&&this.fromHsvString(r)}else if(e instanceof Ao)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=Cs(e.r),this.g=Cs(e.g),this.b=Cs(e.b),this.a=typeof e.a=="number"?Cs(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(a){const o=a/255;return o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),i=e(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=pn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(e,n=50){const r=this._c(e),i=n/100,a=s=>(r[s]-this[s])*i+this[s],o={r:pn(a("r")),g:pn(a("g")),b:pn(a("b")),a:pn(a("a")*100)/100};return this._c(o)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),i=a=>pn((this[a]*this.a+n[a]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const a=pn(this.a*255).toString(16);e+=a.length===2?a:"0"+a}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=pn(this.getSaturation()*100),r=pn(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const i=this.clone();return i[e]=Cs(n,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(i,a){return parseInt(n[i]+n[a||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:i}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const f=pn(r*255);this.r=f,this.g=f,this.b=f}let a=0,o=0,s=0;const l=e/60,c=(1-Math.abs(2*r-1))*n,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(a=c,o=u):l>=1&&l<2?(a=u,o=c):l>=2&&l<3?(o=c,s=u):l>=3&&l<4?(o=u,s=c):l>=4&&l<5?(a=u,s=c):l>=5&&l<6&&(a=c,s=u);const d=r-c/2;this.r=pn((a+d)*255),this.g=pn((o+d)*255),this.b=pn((s+d)*255)}fromHsv({h:e,s:n,v:r,a:i}){this._h=e%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const a=pn(r*255);if(this.r=a,this.g=a,this.b=a,n<=0)return;const o=e/60,s=Math.floor(o),l=o-s,c=pn(r*(1-n)*255),u=pn(r*(1-n*l)*255),d=pn(r*(1-n*(1-l))*255);switch(s){case 0:this.g=d,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=u;break;case 4:this.r=d,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const n=bf(e,Av);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=bf(e,Av);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=bf(e,(r,i)=>i.includes("%")?pn(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var Dc=2,Ov=.16,QA=.05,eO=.05,tO=.15,nw=5,rw=4,nO=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Mv(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Dc*e:Math.round(t.h)+Dc*e:r=n?Math.round(t.h)+Dc*e:Math.round(t.h)-Dc*e,r<0?r+=360:r>=360&&(r-=360),r}function Rv(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-Ov*e:e===rw?r=t.s+Ov:r=t.s+QA*e,r>1&&(r=1),n&&e===nw&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function $v(t,e,n){var r;return n?r=t.v+eO*e:r=t.v-tO*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Fv(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new Ao(t),i=r.toHsv(),a=nw;a>0;a-=1){var o=new Ao({h:Mv(i,a,!0),s:Rv(i,a,!0),v:$v(i,a,!0)});n.push(o)}n.push(r);for(var s=1;s<=rw;s+=1){var l=new Ao({h:Mv(i,s),s:Rv(i,s),v:$v(i,s)});n.push(l)}return e.theme==="dark"?nO.map(function(c){var u=c.index,d=c.amount;return new Ao(e.backgroundColor||"#141414").mix(n[u],d).toHexString()}):n.map(function(c){return c.toHexString()})}const rO=Object.freeze({left:0,top:0,width:16,height:16}),od=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),iw=Object.freeze({...rO,...od}),iO=Object.freeze({...iw,body:"",hidden:!1}),aO=Object.freeze({width:null,height:null}),aw=Object.freeze({...aO,...od});function oO(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function Pv(t,e){const n=oO(t,e);for(const r in iO)r in od?r in t&&!(r in n)&&(n[r]=od[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function sO(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function a(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const s=r[o]&&r[o].parent,l=s&&a(s);l&&(i[o]=[s].concat(l))}return i[o]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(a),i}function Dv(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let a={};function o(s){a=Pv(r[s]||i[s],a)}return o(e),n.forEach(o),Pv(t,a)}function lO(t,e){if(t.icons[e])return Dv(t,e,[]);const n=sO(t,[e])[e];return n?Dv(t,e,n):null}const cO=/(-?[0-9.]*[0-9]+[0-9.]*)/g,uO=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function sd(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(cO);if(r===null||!r.length)return t;const i=[];let a=r.shift(),o=uO.test(a);for(;;){if(o){const s=parseFloat(a);isNaN(s)?i.push(a):i.push(Math.ceil(s*e*n)/n)}else i.push(a);if(a=r.shift(),a===void 0)return i.join("");o=!o}}function dO(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),a=t.indexOf("</"+e);if(i===-1||a===-1)break;const o=t.indexOf(">",a);if(o===-1)break;n+=t.slice(i+1,a).trim(),t=t.slice(0,r).trim()+t.slice(o+1)}return{defs:n,content:t}}function hO(t,e){return t?"<defs>"+t+"</defs>"+e:e}function fO(t,e,n){const r=dO(t);return hO(r.defs,e+r.content+n)}const mm=t=>t==="unset"||t==="undefined"||t==="none";function pO(t,e){const n={...iw,...t},r={...aw,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let a=n.body;[n,r].forEach(m=>{const v=[],b=m.hFlip,y=m.vFlip;let x=m.rotate;b?y?x+=2:(v.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),v.push("scale(-1 1)"),i.top=i.left=0):y&&(v.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),v.push("scale(1 -1)"),i.top=i.left=0);let w;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:w=i.height/2+i.top,v.unshift("rotate(90 "+w.toString()+" "+w.toString()+")");break;case 2:v.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:w=i.width/2+i.left,v.unshift("rotate(-90 "+w.toString()+" "+w.toString()+")");break}x%2===1&&(i.left!==i.top&&(w=i.left,i.left=i.top,i.top=w),i.width!==i.height&&(w=i.width,i.width=i.height,i.height=w)),v.length&&(a=fO(a,'<g transform="'+v.join(" ")+'">',"</g>"))});const o=r.width,s=r.height,l=i.width,c=i.height;let u,d;o===null?(d=s===null?"1em":s==="auto"?c:s,u=sd(d,l/c)):(u=o==="auto"?l:o,d=s===null?sd(u,c/l):s==="auto"?c:s);const f={},h=(m,v)=>{mm(v)||(f[m]=v.toString())};h("width",u),h("height",d);const g=[i.left,i.top,l,c];return f.viewBox=g.join(" "),{attributes:f,viewBox:g,body:a}}function gO(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Lv(t){let e=t.startsWith("<svg>")?t.replace("<svg>","<svg >"):t;return!e.includes(" xmlns:xlink=")&&e.includes(" xlink:")&&(e=e.replace("<svg ",'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ')),e.includes(" xmlns=")||(e=e.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')),gO(e)}function mO(t){return t.replace(/(['"])\s*\n\s*([^>\\/\s])/g,"$1 $2").replace(/(["';{}><])\s*\n\s*/g,"$1").replace(/\s*\n\s*/g," ").replace(/\s+"/g,'"').replace(/="\s+/g,'="').replace(/(\s)+\/>/g,"/>").trim()}const vO=/\swidth\s*=\s*["']([\w.]+)["']/,bO=/\sheight\s*=\s*["']([\w.]+)["']/,yf=/<svg\s+/;function yO(t,e,n){const r=t.slice(0,t.indexOf(">")),i=(a,o)=>{const s=o.exec(r),l=s!=null,c=e[a];return!c&&!mm(c)&&(typeof n=="number"?n>0&&(e[a]=sd(s?.[1]??"1em",n)):s&&(e[a]=s[1])),l};return[i("width",vO),i("height",bO)]}async function ow(t,e,n,r,i,a){const{scale:o,addXmlNs:s=!1}=r??{},{additionalProps:l={},iconCustomizer:c}=r?.customizations??{},u=await i?.()??{};await c?.(e,n,u),Object.keys(l).forEach(m=>{const v=l[m];v!=null&&(u[m]=v)}),a?.(u);const[d,f]=yO(t,u,o);s&&(!t.includes("xmlns=")&&!u.xmlns&&(u.xmlns="http://www.w3.org/2000/svg"),!t.includes("xmlns:xlink=")&&t.includes("xlink:")&&!u["xmlns:xlink"]&&(u["xmlns:xlink"]="http://www.w3.org/1999/xlink"));const h=Object.keys(u).map(m=>m==="width"&&d||m==="height"&&f?null:`${m}="${u[m]}"`).filter(m=>m!=null);if(h.length&&(t=t.replace(yf,`<svg ${h.join(" ")} `)),r){const{defaultStyle:m,defaultClass:v}=r;v&&!t.includes("class=")&&(t=t.replace(yf,`<svg class="${v}" `)),m&&!t.includes("style=")&&(t=t.replace(yf,`<svg style="${m}" `))}const g=r?.usedProps;return g&&(Object.keys(l).forEach(m=>{const v=u[m];v!=null&&(g[m]=v)}),typeof u.width<"u"&&u.width!==null&&(g.width=u.width),typeof u.height<"u"&&u.height!==null&&(g.height=u.height)),t}var Lc={exports:{}},xf,Iv;function xO(){if(Iv)return xf;Iv=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,a=r*365.25;xf=function(u,d){d=d||{};var f=typeof u;if(f==="string"&&u.length>0)return o(u);if(f==="number"&&isFinite(u))return d.long?l(u):s(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var f=parseFloat(d[1]),h=(d[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return f*a;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function s(u){var d=Math.abs(u);return d>=r?Math.round(u/r)+"d":d>=n?Math.round(u/n)+"h":d>=e?Math.round(u/e)+"m":d>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=r?c(u,d,r,"day"):d>=n?c(u,d,n,"hour"):d>=e?c(u,d,e,"minute"):d>=t?c(u,d,t,"second"):u+" ms"}function c(u,d,f,h){var g=d>=f*1.5;return Math.round(u/f)+" "+h+(g?"s":"")}return xf}var wf,Nv;function wO(){if(Nv)return wf;Nv=1;function t(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=a,r.enabled=l,r.humanize=xO(),r.destroy=u,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function n(d){let f=0;for(let h=0;h<d.length;h++)f=(f<<5)-f+d.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=n;function r(d){let f,h=null,g,m;function v(...b){if(!v.enabled)return;const y=v,x=Number(new Date),w=x-(f||x);y.diff=w,y.prev=f,y.curr=x,f=x,b[0]=r.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let _=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(R,A)=>{if(R==="%%")return"%";_++;const T=r.formatters[A];if(typeof T=="function"){const O=b[_];R=T.call(y,O),b.splice(_,1),_--}return R}),r.formatArgs.call(y,b),(y.log||r.log).apply(y,b)}return v.namespace=d,v.useColors=r.useColors(),v.color=r.selectColor(d),v.extend=i,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(g!==r.namespaces&&(g=r.namespaces,m=r.enabled(d)),m),set:b=>{h=b}}),typeof r.init=="function"&&r.init(v),v}function i(d,f){const h=r(this.namespace+(typeof f>"u"?":":f)+d);return h.log=this.log,h}function a(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];const f=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of f)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function o(d,f){let h=0,g=0,m=-1,v=0;for(;h<d.length;)if(g<f.length&&(f[g]===d[h]||f[g]==="*"))f[g]==="*"?(m=g,v=h,g++):(h++,g++);else if(m!==-1)g=m+1,v++,h=v;else return!1;for(;g<f.length&&f[g]==="*";)g++;return g===f.length}function s(){const d=[...r.names,...r.skips.map(f=>"-"+f)].join(",");return r.enable(""),d}function l(d){for(const f of r.skips)if(o(d,f))return!1;for(const f of r.names)if(o(d,f))return!0;return!1}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return wf=t,wf}var jv;function _O(){return jv||(jv=1,function(t,e){var n={};e.formatArgs=i,e.save=a,e.load=o,e.useColors=r,e.storage=s(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(d++,h==="%c"&&(f=d))}),c.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function a(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function o(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function s(){try{return localStorage}catch{}}t.exports=wO()(e);const{formatters:l}=t.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}(Lc,Lc.exports)),Lc.exports}var CO=_O();const sw=tc(CO),kO=sw("@iconify-loader:custom");async function Bv(t,e,n,r){let i;kO(`${e}:${n}`);try{if(typeof t=="function")i=await t(n);else{const a=t[n];i=typeof a=="function"?await a():a}}catch(a){console.warn(`Failed to load custom icon "${n}" in "${e}":`,a);return}if(i){const a=i.indexOf("<svg");a>0&&(i=i.slice(a));const{transform:o}=r?.customizations??{};return i=typeof o=="function"?await o(i,e,n):i,i.startsWith("<svg")?await ow(r?.customizations?.trimCustomSvg===!0?mO(i):i,e,n,r,void 0):(console.warn(`Custom icon "${n}" in "${e}" is not a valid SVG`),i)}}const SO=sw("@iconify-loader:icon");async function lw(t,e,n,r){let i;const{customize:a}=r?.customizations??{};for(const o of n)if(i=lO(t,o),i){SO(`${e}:${o}`);let s={...aw};typeof a=="function"&&(i=Object.assign({},i),s=a(s,i,`${e}:${o}`)??s);const{attributes:{width:l,height:c,...u},body:d}=pO(i,s),f=r?.scale;return await ow(`<svg >${d}</svg>`,e,o,r,()=>({...u}),h=>{const g=(m,v)=>{const b=h[m];let y;if(!mm(b)){if(b)return;typeof f=="number"?f&&(y=sd(v??"1em",f)):y=v}y?h[m]=y:delete h[m]};g("width",l),g("height",c)})}}const cw=async(t,e,n)=>{const r=n?.customCollections?.[t];if(r)if(typeof r=="function"){let i;try{i=await r(e)}catch(a){console.warn(`Failed to load custom icon "${e}" in "${t}":`,a);return}if(i){if(typeof i=="string")return await Bv(()=>i,t,e,n);if("icons"in i){const a=[e,e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.replace(/([a-z])(\d+)/g,"$1-$2")];return await lw(i,t,a,n)}}}else return await Bv(r,t,e,n)},EO=/#/g,TO=/&/g,AO=/\//g,OO=/=/g,vm=/\+/g,MO=/%5e/gi,RO=/%60/gi,$O=/%7c/gi,FO=/%20/gi;function PO(t){return encodeURI(""+t).replace($O,"|")}function eg(t){return PO(typeof t=="string"?t:JSON.stringify(t)).replace(vm,"%2B").replace(FO,"+").replace(EO,"%23").replace(TO,"%26").replace(RO,"`").replace(MO,"^").replace(AO,"%2F")}function _f(t){return eg(t).replace(OO,"%3D")}function uw(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function DO(t){return uw(t.replace(vm," "))}function LO(t){return uw(t.replace(vm," "))}function IO(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=DO(r[1]);if(i==="__proto__"||i==="constructor")continue;const a=LO(r[2]||"");e[i]===void 0?e[i]=a:Array.isArray(e[i])?e[i].push(a):e[i]=[e[i],a]}return e}function NO(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${_f(t)}=${eg(n)}`).join("&"):`${_f(t)}=${eg(e)}`:_f(t)}function jO(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>NO(e,t[e])).filter(Boolean).join("&")}const BO=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,UO=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,zO=/^([/\\]\s*){2,}[^/\\]/,HO=/^\.?\//;function dw(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?BO.test(t):UO.test(t)||(e.acceptRelative?zO.test(t):!1)}function WO(t="",e){return t.endsWith("/")}function VO(t="",e){return(WO(t)?t.slice(0,-1):t)||"/"}function GO(t="",e){return t.endsWith("/")?t:t+"/"}function XO(t,e){if(YO(e)||dw(t))return t;const n=VO(e);return t.startsWith(n)?t:ZO(n,t)}function qO(t,e){const n=JO(t),r={...IO(n.search),...e};return n.search=jO(r),QO(n)}function YO(t){return!t||t==="/"}function KO(t){return t&&t!=="/"}function ZO(t,...e){let n=t||"";for(const r of e.filter(i=>KO(i)))if(n){const i=r.replace(HO,"");n=GO(n)+i}else n=r;return n}const hw=Symbol.for("ufo:protocolRelative");function JO(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,f=""]=n;return{protocol:d.toLowerCase(),pathname:f,href:d+f,auth:"",host:"",search:"",hash:""}}if(!dw(t,{acceptRelative:!0}))return Uv(t);const[,r="",i,a=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",s=""]=a.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(s=s.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=Uv(s);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:c,hash:u,[hw]:!r}}function Uv(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function QO(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",a=t.host||"";return(t.protocol||t[hw]?(t.protocol||"")+"//":"")+i+a+e+n+r}class eM extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function tM(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,a=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${a}${e?` ${e}`:""}`,s=new eM(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(s,l,{get(){return t[l]}});for(const[l,c]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(s,l,{get(){return t.response&&t.response[c]}});return s}const nM=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function zv(t="GET"){return nM.has(t.toUpperCase())}function rM(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const iM=new Set(["image/svg","application/xml","application/xhtml","application/html"]),aM=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function oM(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return aM.test(e)?"json":iM.has(e)||e.startsWith("text/")?"text":"blob"}function sM(t,e,n,r){const i=lM(e?.headers??t?.headers,n?.headers,r);let a;return(n?.query||n?.params||e?.params||e?.query)&&(a={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:a,params:a,headers:i}}function lM(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,a]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,a);return r}async function Ic(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const cM=new Set([408,409,425,429,500,502,503,504]),uM=new Set([101,204,205,304]);function fw(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(s){const l=s.error&&s.error.name==="AbortError"&&!s.options.timeout||!1;if(s.options.retry!==!1&&!l){let u;typeof s.options.retry=="number"?u=s.options.retry:u=zv(s.options.method)?0:1;const d=s.response&&s.response.status||500;if(u>0&&(Array.isArray(s.options.retryStatusCodes)?s.options.retryStatusCodes.includes(d):cM.has(d))){const f=typeof s.options.retryDelay=="function"?s.options.retryDelay(s):s.options.retryDelay||0;return f>0&&await new Promise(h=>setTimeout(h,f)),a(s.request,{...s.options,retry:u-1})}}const c=tM(s);throw Error.captureStackTrace&&Error.captureStackTrace(c,a),c}const a=async function(l,c={}){const u={request:l,options:sM(l,c,t.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await Ic(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=XO(u.request,u.options.baseURL)),u.options.query&&(u.request=qO(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&zv(u.options.method)&&(rM(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let d;if(!u.options.signal&&u.options.timeout){const h=new r;d=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,h.abort(g)},u.options.timeout),u.options.signal=h.signal}try{u.response=await e(u.request,u.options)}catch(h){return u.error=h,u.options.onRequestError&&await Ic(u,u.options.onRequestError),await i(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!uM.has(u.response.status)&&u.options.method!=="HEAD"){const h=(u.options.parseResponse?"json":u.options.responseType)||oM(u.response.headers.get("content-type")||"");switch(h){case"json":{const g=await u.response.text(),m=u.options.parseResponse||X8;u.response._data=m(g);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[h]()}}return u.options.onResponse&&await Ic(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await Ic(u,u.options.onResponseError),await i(u)):u.response},o=async function(l,c){return(await a(l,c))._data};return o.raw=a,o.native=(...s)=>e(...s),o.create=(s={},l={})=>fw({...t,...l,defaults:{...t.defaults,...l.defaults,...s}}),o}const ld=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),dM=ld.fetch?(...t)=>ld.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),hM=ld.Headers,fM=ld.AbortController,pM=fw({fetch:dM,Headers:hM,AbortController:fM}),gM=pM,Mu="default",tg="preflights",mM="shortcuts",vM="imports",bM={[vM]:-200,[tg]:-100,[mM]:-10,[Mu]:0},pw=/[\\:]?[\s'"`;{}]+/g;function yM(t){return t.split(pw)}const xM={name:"@unocss/core/extractor-split",order:0,extract({code:t}){return yM(t)}};function Pt(t=[]){return Array.isArray(t)?t:[t]}function Ur(t){return Array.from(new Set(t))}function Hv(t,e){return t.reduce((n,r)=>(n.findIndex(a=>e(r,a))===-1&&n.push(r),n),[])}function Ht(t){return typeof t=="string"}class gw extends Set{_map=new Map;constructor(e){if(super(),e)for(const n of e)this.add(n)}add(e){return this._map.set(e,(this._map.get(e)??0)+1),super.add(e)}delete(e){return this._map.has(e)?(this._map.delete(e),super.delete(e)):!1}clear(){this._map.clear(),super.clear()}getCount(e){return this._map.get(e)??0}setCount(e,n){return this._map.set(e,n),super.add(e)}}function Cf(t){return t instanceof gw}function Wl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Lo(t){const e=t.length;let n=-1,r,i="";const a=t.charCodeAt(0);for(;++n<e;){if(r=t.charCodeAt(n),r===0){i+="";continue}if(r===37){i+="\\%";continue}if(r===44){i+="\\,";continue}if(r>=1&&r<=31||r===127||n===0&&r>=48&&r<=57||n===1&&r>=48&&r<=57&&a===45){i+=`\\${r.toString(16)} `;continue}if(n===0&&e===1&&r===45){i+=`\\${t.charAt(n)}`;continue}if(r>=128||r===45||r===95||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122){i+=t.charAt(n);continue}i+=`\\${t.charAt(n)}`}return i}const kf=Lo;function wM(){return{events:{},emit(t,...e){(this.events[t]||[]).forEach(n=>n(...e))},on(t,e){return(this.events[t]=this.events[t]||[]).push(e),()=>this.events[t]=(this.events[t]||[]).filter(n=>n!==e)}}}const _M=/[\w\u00A0-\uFFFF%-?]/;function CM(t=""){return _M.test(t)}function kM(t){return typeof t=="function"?{match:t}:t}function Wv(t){return t.length===3}function Ru(t){return t!=null}function SM(){}class EM{_map=new Map;get(e,n){const r=this._map.get(e);if(r)return r.get(n)}getFallback(e,n,r){let i=this._map.get(e);return i||(i=new Map,this._map.set(e,i)),i.has(n)||i.set(n,r),i.get(n)}set(e,n,r){let i=this._map.get(e);return i||(i=new Map,this._map.set(e,i)),i.set(n,r),this}has(e,n){return this._map.get(e)?.has(n)}delete(e,n){return this._map.get(e)?.delete(n)||!1}deleteTop(e){return this._map.delete(e)}map(e){return Array.from(this._map.entries()).flatMap(([n,r])=>Array.from(r.entries()).map(([i,a])=>e(a,n,i)))}}class TM extends Map{getFallback(e,n){const r=this.get(e);return r===void 0?(this.set(e,n),n):r}map(e){const n=[];return this.forEach((r,i)=>{n.push(e(r,i))}),n}flatMap(e){const n=[];return this.forEach((r,i)=>{n.push(...e(r,i))}),n}}function cd(t){return Ht(t)?t:(Array.isArray(t)?t:Object.entries(t)).filter(e=>e[1]!=null)}function AM(t){return Array.isArray(t)?t.find(e=>!Array.isArray(e)||Array.isArray(e[0]))?t.map(e=>cd(e)):[t]:[cd(t)]}function OM(t){return t.filter(([e,n],r)=>{if(e.startsWith("$$"))return!1;for(let i=r-1;i>=0;i--)if(t[i][0]===e&&t[i][1]===n)return!1;return!0})}function Sf(t){return t==null?"":OM(t).map(([e,n])=>n!=null&&typeof n!="function"?`${e}:${n};`:void 0).filter(Boolean).join("")}function Nc(t){return t&&typeof t=="object"&&!Array.isArray(t)}function bm(t,e,n=!1){const r=t,i=e;if(Array.isArray(i))return n&&Array.isArray(i)?[...r,...i]:[...i];const a={...r};return Nc(r)&&Nc(i)&&Object.keys(i).forEach(o=>{Nc(r[o])&&Nc(i[o])||Array.isArray(r[o])&&Array.isArray(i[o])?a[o]=bm(r[o],i[o],n):Object.assign(a,{[o]:i[o]})}),a}function $u(t){let e,n,r;if(Array.isArray(t)){for(n=Array.from({length:e=t.length});e--;)n[e]=(r=t[e])&&typeof r=="object"?$u(r):r;return n}if(Object.prototype.toString.call(t)==="[object Object]"){n={};for(e in t)e==="__proto__"?Object.defineProperty(n,e,{value:$u(t[e]),configurable:!0,enumerable:!0,writable:!0}):n[e]=(r=t[e])&&typeof r=="object"?$u(r):r;return n}return t}function MM(t){return Ht(t[0])}function RM(t){return Ht(t[0])}const jc={};function $M(t=["-",":"]){const e=t.join("|");return jc[e]||(jc[e]=new RegExp(`((?:[!@<~\\w+:_-]|\\[&?>?:?\\S*\\])+?)(${e})\\(((?:[~!<>\\w\\s:/\\\\,%#.$?-]|\\[[^\\]]*?\\])+?)\\)(?!\\s*?=>)`,"gm")),jc[e].lastIndex=0,jc[e]}function FM(t,e=["-",":"],n=5){const r=$M(e);let i,a=t.toString();const o=new Set,s=new Map;do i=!1,a=a.replace(r,(c,u,d,f,h)=>{if(!e.includes(d))return c;i=!0,o.add(u+d);const g=h+u.length+d.length+1,m={length:c.length,items:[]};s.set(h,m);for(const v of[...f.matchAll(/\S+/g)]){const b=g+v.index;let y=s.get(b)?.items;y?s.delete(b):y=[{offset:b,length:v[0].length,className:v[0]}];for(const x of y)x.className=x.className==="~"?u:x.className.replace(/^(!?)(.*)/,`$1${u}${d}$2`),m.items.push(x)}return"$".repeat(c.length)}),n-=1;while(i&&n);let l;if(typeof t=="string"){l="";let c=0;for(const[u,d]of s)l+=t.slice(c,u),l+=d.items.map(f=>f.className).join(" "),c=u+d.length;l+=t.slice(c)}else{l=t;for(const[c,u]of s)l.overwrite(c,c+u.length,u.items.map(d=>d.className).join(" "))}return{prefixes:Array.from(o),hasChanged:i,groupsByOffset:s,get expanded(){return l.toString()}}}function PM(t,e=["-",":"],n=5){const r=FM(t,e,n);return typeof t=="string"?r.expanded:t}const Vv=new Set;function mw(t){Vv.has(t)||(console.warn("[unocss]",t),Vv.add(t))}function vw(t){return Pt(t).flatMap(e=>Array.isArray(e)?[e]:Object.entries(e))}const Gv="_uno_resolved";async function DM(t){let e=typeof t=="function"?await t():await t;if(Gv in e)return e;e={...e},Object.defineProperty(e,Gv,{value:!0,enumerable:!1});const n=e.shortcuts?vw(e.shortcuts):void 0;if(e.shortcuts=n,e.prefix||e.layer){const r=i=>{i[2]||(i[2]={});const a=i[2];a.prefix==null&&e.prefix&&(a.prefix=Pt(e.prefix)),a.layer==null&&e.layer&&(a.layer=e.layer)};n?.forEach(r),e.rules?.forEach(r)}return e}async function bw(t){const e=await DM(t);if(!e.presets)return[e];const n=(await Promise.all((e.presets||[]).flatMap(Pt).flatMap(bw))).flat();return[e,...n]}function LM(t){if(t.length===0)return{};const e=[],n=[];let r=!1;const i=[],a=[],o=[];for(const l of t){if(l.pipeline===!1){r=!0;break}else l.pipeline?.include&&e.push(l.pipeline.include),l.pipeline?.exclude&&n.push(l.pipeline.exclude);l.filesystem&&i.push(l.filesystem),l.inline&&a.push(l.inline),l.plain&&o.push(l.plain)}const s={pipeline:r?!1:{include:Ur(qv(...e)),exclude:Ur(qv(...n))}};return i.length&&(s.filesystem=Ur(i.flat())),a.length&&(s.inline=Ur(a.flat())),o.length&&(s.plain=Ur(o.flat())),s}async function Xv(t={},e={}){const n=Object.assign({},e,t),r=Hv((await Promise.all((n.presets||[]).flatMap(Pt).flatMap(bw))).flat(),(_,k)=>_.name===k.name),i=[...r.filter(_=>_.enforce==="pre"),...r.filter(_=>!_.enforce),...r.filter(_=>_.enforce==="post")],a=[...i,n],o=[...a].reverse(),s=Object.assign({},bM,...a.map(_=>_.layers));function l(_){return Ur(a.flatMap(k=>Pt(k[_]||[])))}const c=l("extractors");let u=o.find(_=>_.extractorDefault!==void 0)?.extractorDefault;u===void 0&&(u=xM),u&&!c.includes(u)&&c.unshift(u),c.sort((_,k)=>(_.order||0)-(k.order||0));const d=l("rules"),f={},h=d.length,g=d.filter(_=>MM(_)?(Pt(_[2]?.prefix||"").forEach(R=>{f[R+_[0]]=_}),!1):!0).reverse(),m={templates:Ur(a.flatMap(_=>Pt(_.autocomplete?.templates))),extractors:a.flatMap(_=>Pt(_.autocomplete?.extractors)).sort((_,k)=>(_.order||0)-(k.order||0)),shorthands:NM(a.map(_=>_.autocomplete?.shorthands||{}))};let v=l("separators");v.length||(v=[":","-"]);const b=l("content"),y=LM(b),x={mergeSelectors:!0,warn:!0,sortLayers:_=>_,...n,blocklist:l("blocklist"),presets:i,envMode:n.envMode||"build",shortcutsLayer:n.shortcutsLayer||"shortcuts",layers:s,theme:IM(a.map(_=>_.theme)),rules:d,rulesSize:h,rulesDynamic:g,rulesStaticMap:f,preprocess:l("preprocess"),postprocess:l("postprocess"),preflights:l("preflights"),autocomplete:m,variants:l("variants").map(kM).sort((_,k)=>(_.order||0)-(k.order||0)),shortcuts:vw(l("shortcuts")).reverse(),extractors:c,safelist:l("safelist"),separators:v,details:n.details??n.envMode==="dev",content:y,transformers:Hv(l("transformers"),(_,k)=>_.name===k.name)},w=l("extendTheme");for(const _ of w)x.theme=_(x.theme,x)||x.theme;for(const _ of a)_?.configResolved?.(x);return x}function IM(t){return t.map(e=>e?$u(e):{}).reduce((e,n)=>bm(e,n),{})}function NM(t){return t.reduce((e,n)=>{const r={};for(const i in n){const a=n[i];Array.isArray(a)?r[i]=`(${a.join("|")})`:r[i]=a}return{...e,...r}},{})}function qv(...t){return t.flatMap(jM)}function jM(t){return Array.isArray(t)?t:t?[t]:[]}const BM="66.2.3",En={shortcutsNoMerge:"$$symbol-shortcut-no-merge",noMerge:"$$symbol-no-merge",variants:"$$symbol-variants",parent:"$$symbol-parent",selector:"$$symbol-selector",layer:"$$symbol-layer",sort:"$$symbol-sort"};class ym{constructor(e={},n={}){this.userConfig=e,this.defaults=n}version=BM;events=wM();config=void 0;cache=new Map;blocked=new Set;parentOrders=new Map;activatedRules=new Set;static async create(e={},n={}){const r=new ym(e,n);return r.config=await Xv(r.userConfig,r.defaults),r.events.emit("config",r.config),r}async setConfig(e,n){e&&(n&&(this.defaults=n),this.userConfig=e,this.blocked.clear(),this.parentOrders.clear(),this.activatedRules.clear(),this.cache.clear(),this.config=await Xv(e,this.defaults),this.events.emit("config",this.config))}async applyExtractors(e,n,r=new Set){const i={original:e,code:e,id:n,extracted:r,envMode:this.config.envMode};for(const a of this.config.extractors){const o=await a.extract?.(i);if(o)if(Cf(o)&&Cf(r))for(const s of o)r.setCount(s,r.getCount(s)+o.getCount(s));else for(const s of o)r.add(s)}return r}makeContext(e,n){const r={rawSelector:e,currentSelector:n[1],theme:this.config.theme,generator:this,symbols:En,variantHandlers:n[2],constructCSS:(...i)=>this.constructCustomCSS(r,...i),variantMatch:n};return r}async parseToken(e,n){if(this.blocked.has(e))return;const r=`${e}${n?` ${n}`:""}`;if(this.cache.has(r))return this.cache.get(r);let i=e;for(const l of this.config.preprocess)i=l(e);if(this.isBlocked(i)){this.blocked.add(e),this.cache.set(r,null);return}const a=await this.matchVariants(e,i);if(a.every(l=>!l||this.isBlocked(l[1]))){this.blocked.add(e),this.cache.set(r,null);return}const o=async l=>{const c=this.makeContext(e,[n||l[0],l[1],l[2],l[3]]);this.config.details&&(c.variants=[...l[3]]);const u=await this.expandShortcut(c.currentSelector,c);return u?await this.stringifyShortcuts(c.variantMatch,c,u[0],u[1]):(await this.parseUtil(c.variantMatch,c))?.map(f=>this.stringifyUtil(f,c)).filter(Ru)},s=(await Promise.all(a.map(l=>o(l)))).flat().filter(l=>!!l);if(s?.length)return this.cache.set(r,s),s;this.cache.set(r,null)}async generate(e,n={}){const{id:r,scope:i,preflights:a=!0,safelist:o=!0,minify:s=!1,extendedInfo:l=!1}=n,c=Ht(e)?await this.applyExtractors(e,r,l?new gw:new Set):Array.isArray(e)?new Set(e):e;if(o){const R={generator:this,theme:this.config.theme};this.config.safelist.flatMap(A=>typeof A=="function"?A(R):A).forEach(A=>{const T=A.trim();T&&!c.has(T)&&c.add(T)})}const u=s?"":`
`,d=new Set([Mu]),f=l?new Map:new Set,h=new Map;let g={};const m=Array.from(c).map(async R=>{if(f.has(R))return;const A=await this.parseToken(R);if(A!=null){f instanceof Map?f.set(R,{data:A,count:Cf(c)?c.getCount(R):-1}):f.add(R);for(const T of A){const O=T[3]||"",M=T[4]?.layer;h.has(O)||h.set(O,[]),h.get(O).push(T),M&&d.add(M)}}});await Promise.all(m),await(async()=>{if(!a)return;const R={generator:this,theme:this.config.theme},A=new Set([]);this.config.preflights.forEach(({layer:T=tg})=>{d.add(T),A.add(T)}),g=Object.fromEntries(await Promise.all(Array.from(A).map(async T=>{const M=(await Promise.all(this.config.preflights.filter($=>($.layer||tg)===T).map(async $=>await $.getCSS(R)))).filter(Boolean).join(u);return[T,M]})))})();const v=this.config.sortLayers(Array.from(d).sort((R,A)=>(this.config.layers[R]??0)-(this.config.layers[A]??0)||R.localeCompare(A))),b={},y=this.config.outputToCssLayers,x=R=>{let A=R;return typeof y=="object"&&(A=y.cssLayerName?.(R)),A===null?null:A??R},w=(R=Mu)=>{if(b[R])return b[R];let A=Array.from(h).sort((M,$)=>(this.parentOrders.get(M[0])??0)-(this.parentOrders.get($[0])??0)||M[0]?.localeCompare($[0]||"")||0).map(([M,$])=>{const C=$.length,E=$.filter(P=>(P[4]?.layer||Mu)===R).sort((P,L)=>P[0]-L[0]||(P[4]?.sort||0)-(L[4]?.sort||0)||P[5]?.currentSelector?.localeCompare(L[5]?.currentSelector??"")||P[1]?.localeCompare(L[1]||"")||P[2]?.localeCompare(L[2]||"")||0).map(([,P,L,,N,,W])=>[[[(P&&HM(P,i))??"",N?.sort??0]],L,!!(W??N?.noMerge)]);if(!E.length)return;const S=E.reverse().map(([P,L,N],W)=>{if(!N&&this.config.mergeSelectors)for(let U=W+1;U<C;U++){const z=E[U];if(z&&!z[2]&&(P&&z[0]||P==null&&z[0]==null)&&z[1]===L)return P&&z[0]&&z[0].push(...P),null}const j=P?Ur(P.sort((U,z)=>U[1]-z[1]||U[0]?.localeCompare(z[0]||"")||0).map(U=>U[0]).filter(Boolean)):[];return j.length?`${j.join(`,${u}`)}{${L}}`:L}).filter(Boolean),F=Array.from(new Set(S)).reverse().join(u);if(!M)return F;const D=M.split(" $$ ");return`${D.join("{")}{${u}${F}${u}${"}".repeat(D.length)}`}).filter(Boolean).join(u);a&&(A=[g[R],A].filter(Boolean).join(u));let T;y&&A&&(T=x(R),T!==null&&(A=`@layer ${T}{${u}${A}${u}}`));const O=s?"":`/* layer: ${R}${T&&T!==R?`, alias: ${T}`:""} */${u}`;return b[R]=A?O+A:""},_=(R=v,A)=>{const T=R.filter(O=>!A?.includes(O));return[y&&T.length>0?`@layer ${T.map(x).filter(Ru).join(", ")};`:void 0,...T.map(O=>w(O)||"")].filter(Boolean).join(u)};return{get css(){return _()},layers:v,matched:f,getLayers:_,getLayer:w,setLayer:async(R,A)=>{const T=await A(w(R));return b[R]=T,T}}}async matchVariants(e,n){const r={rawSelector:e,theme:this.config.theme,generator:this},i=async a=>{let o=!0;const[,,s,l]=a;for(;o;){o=!1;const c=a[1];for(const u of this.config.variants){if(!u.multiPass&&l.has(u))continue;let d=await u.match(c,r);if(d){if(Ht(d)){if(d===c)continue;d={matcher:d}}if(Array.isArray(d)){if(!d.length)continue;if(d.length===1)d=d[0];else{if(u.multiPass)throw new Error("multiPass can not be used together with array return variants");const f=d.map(h=>{const g=h.matcher??c,m=[h,...s],v=new Set(l);return v.add(u),[a[0],g,m,v]});return(await Promise.all(f.map(h=>i(h)))).flat()}}a[1]=d.matcher??c,s.unshift(d),l.add(u),o=!0;break}}if(!o)break;if(s.length>500)throw new Error(`Too many variants applied to "${e}"`)}return[a]};return await i([e,n||e,[],new Set])}applyVariants(e,n=e[4],r=e[1]){const a=n.slice().sort((c,u)=>(c.order||0)-(u.order||0)).reduceRight((c,u)=>d=>{const f=u.body?.(d.entries)||d.entries,h=Array.isArray(u.parent)?u.parent:[u.parent,void 0],g=u.selector?.(d.selector,f);return(u.handle??WM)({...d,entries:f,selector:g||d.selector,parent:h[0]||d.parent,parentOrder:h[1]||d.parentOrder,layer:u.layer||d.layer,sort:u.sort||d.sort},c)},c=>c)({prefix:"",selector:xw(r),pseudo:"",entries:e[2]}),{parent:o,parentOrder:s}=a;o!=null&&s!=null&&this.parentOrders.set(o,s);const l={selector:[a.prefix,a.selector,a.pseudo].join(""),entries:a.entries,parent:o,layer:a.layer,sort:a.sort,noMerge:a.noMerge};for(const c of this.config.postprocess)c(l);return l}constructCustomCSS(e,n,r){const i=cd(n);if(Ht(i))return i;const{selector:a,entries:o,parent:s}=this.applyVariants([0,r||e.rawSelector,i,void 0,e.variantHandlers]),l=`${a}{${Sf(o)}}`;return s?`${s}{${l}}`:l}async parseUtil(e,n,r=!1,i){const a=Ht(e)?await this.matchVariants(e):[e],o=async([l,c,u])=>{this.config.details&&(n.rules=n.rules??[]);const d={...n,variantHandlers:u},f=this.config.rulesStaticMap[c];if(f&&f[1]&&(r||!f[2]?.internal))return this.resolveCSSResult(l,f[1],f,d);for(const h of this.config.rulesDynamic){const[g,m,v]=h;if(v?.internal&&!r)continue;let b=c;if(v?.prefix){const _=Pt(v.prefix);if(i){const k=Pt(i);if(!_.some(R=>k.includes(R)))continue}else{const k=_.find(R=>c.startsWith(R));if(k==null)continue;b=c.slice(k.length)}}const y=b.match(g);if(!y)continue;let x=await m(y,d);if(!x)continue;if(typeof x!="string")if(Symbol.asyncIterator in x){const _=[];for await(const k of x)k&&_.push(k);x=_}else Symbol.iterator in x&&!Array.isArray(x)&&(x=Array.from(x).filter(Ru));const w=this.resolveCSSResult(l,x,h,d);if(w)return w}},s=(await Promise.all(a.map(l=>o(l)))).flat().filter(l=>!!l);if(s.length)return s}resolveCSSResult=(e,n,r,i)=>{const a=AM(n).filter(o=>o.length);if(a.length){this.config.details&&i.rules.push(r),i.generator.activatedRules.add(r);const o=i.generator.config.rules.indexOf(r),s=r[2];return a.map(l=>{if(Ht(l))return[o,l,s];let c=i.variantHandlers,u=s;for(const d of l)d[0]===En.variants?typeof d[1]=="function"?c=d[1](c)||c:c=[...Pt(d[1]),...c]:d[0]===En.parent?c=[{parent:d[1]},...c]:d[0]===En.selector?c=[{selector:d[1]},...c]:d[0]===En.layer?c=[{layer:d[1]},...c]:d[0]===En.sort?u={...u,sort:d[1]}:d[0]===En.noMerge&&(u={...u,noMerge:d[1]});return[o,e,l,u,c]})}};stringifyUtil(e,n){if(!e)return;if(Wv(e))return[e[0],void 0,e[1],void 0,e[2],this.config.details?n:void 0,void 0];const{selector:r,entries:i,parent:a,layer:o,sort:s,noMerge:l}=this.applyVariants(e),c=Sf(i);if(!c)return;const{layer:u,sort:d,...f}=e[3]??{},h={...f,layer:o??u,sort:s??d};return[e[0],r,c,a,h,this.config.details?n:void 0,l]}async expandShortcut(e,n,r=5){if(r===0)return;const i=this.config.details?c=>{n.shortcuts=n.shortcuts??[],n.shortcuts.push(c)}:SM;let a,o,s,l;for(const c of this.config.shortcuts){let u=e;if(c[2]?.prefix){const f=Pt(c[2].prefix).find(h=>e.startsWith(h));if(f==null)continue;u=e.slice(f.length)}if(RM(c)){if(c[0]===u){a=a||c[2],o=c[1],i(c);break}}else{const d=u.match(c[0]);if(d&&(o=c[1](d,n)),o){a=a||c[2],i(c);break}}}if(o&&(s=Ur(Pt(o).filter(Ht).map(c=>PM(c.trim()).split(/\s+/g)).flat()),l=Pt(o).filter(c=>!Ht(c)).map(c=>({handles:[],value:c}))),!o){const c=Ht(e)?await this.matchVariants(e):[e];for(const u of c){const[d,f,h]=u;if(d!==f){const g=await this.expandShortcut(f,n,r-1);g&&(s=g[0].filter(Ht).map(m=>d.replace(f,m)),l=g[0].filter(m=>!Ht(m)).map(m=>({handles:[...m.handles,...h],value:m.value})))}}}if(!(!s?.length&&!l?.length))return[[await Promise.all(Pt(s).map(async c=>(await this.expandShortcut(c,n,r-1))?.[0]||[c])),l].flat(2).filter(c=>!!c),a]}async stringifyShortcuts(e,n,r,i={layer:this.config.shortcutsLayer}){const a=new TM,o=(await Promise.all(Ur(r).map(async u=>{const d=Ht(u)?await this.parseUtil(u,n,!0,i.prefix):[[Number.POSITIVE_INFINITY,"{inline}",cd(u.value),void 0,u.handles]];return!d&&this.config.warn&&mw(`unmatched utility "${u}" in shortcut "${e[1]}"`),d||[]}))).flat(1).filter(Boolean).sort((u,d)=>u[0]-d[0]),[s,,l]=e,c=[];for(const u of o){if(Wv(u)){c.push([u[0],void 0,u[1],void 0,u[2],n,void 0]);continue}const{selector:d,entries:f,parent:h,sort:g,noMerge:m,layer:v}=this.applyVariants(u,[...u[4],...l],s);a.getFallback(v??i.layer,new EM).getFallback(d,h,[[],u[0]])[0].push([f,!!(m??u[3]?.noMerge),g??0])}return c.concat(a.flatMap((u,d)=>u.map(([f,h],g,m)=>{const v=(y,x,w)=>{const _=Math.max(...w.map(R=>R[1])),k=w.map(R=>R[0]);return(y?[k.flat(1)]:k).map(R=>{const A=Sf(R);if(A)return[h,g,A,m,{...i,noMerge:x,sort:_,layer:d},n,void 0]})};return[[f.filter(([,y])=>y).map(([y,,x])=>[y,x]),!0],[f.filter(([,y])=>!y).map(([y,,x])=>[y,x]),!1]].map(([y,x])=>[...v(!1,x,y.filter(([w])=>w.some(_=>_[0]===En.shortcutsNoMerge))),...v(!0,x,y.filter(([w])=>w.every(_=>_[0]!==En.shortcutsNoMerge)))])}).flat(2).filter(Boolean)))}isBlocked(e){return!e||this.config.blocklist.map(n=>Array.isArray(n)?n[0]:n).some(n=>typeof n=="function"?n(e):Ht(n)?n===e:n.test(e))}getBlocked(e){const n=this.config.blocklist.find(r=>{const i=Array.isArray(r)?r[0]:r;return typeof i=="function"?i(e):Ht(i)?i===e:i.test(e)});return n?Array.isArray(n)?n:[n,void 0]:void 0}}async function UM(t,e){return await ym.create(t,e)}const yw=/\s\$\$\s+/g;function zM(t){return yw.test(t)}function HM(t,e){return zM(t)?t.replace(yw,e?` ${e} `:" "):e?`${e} ${t}`:t}const Yv=/^\[(.+?)(~?=)"(.*)"\]$/;function xw(t){return Yv.test(t)?t.replace(Yv,(e,n,r,i)=>`[${kf(n)}${r}"${kf(i)}"]`):`.${kf(t)}`}function WM(t,e){return e(t)}var Kv={};const ww=["academicons","akar-icons","ant-design","arcticons","aws","basil","bi","bitcoin-icons","bpmn","brandico","bubbles","bx","bxl","bxs","bytesize","carbon","catppuccin","cbi","charm","ci","cib","cif","cil","circle-flags","circum","clarity","codex","codicon","covid","cryptocurrency-color","cryptocurrency","cuida","dashicons","devicon-line","devicon-original","devicon-plain","devicon","dinkie-icons","duo-icons","ei","el","emblemicons","emojione-monotone","emojione-v1","emojione","entypo-social","entypo","eos-icons","ep","et","eva","f7","fa-brands","fa-regular","fa-solid","fa","fa6-brands","fa6-regular","fa6-solid","fad","famicons","fe","feather","file-icons","flag","flagpack","flat-color-icons","flat-ui","flowbite","fluent-color","fluent-emoji-flat","fluent-emoji-high-contrast","fluent-emoji","fluent-mdl2","fluent","fontelico","fontisto","formkit","foundation","fxemoji","gala","game-icons","garden","geo","gg","gis","gravity-ui","gridicons","grommet-icons","guidance","healthicons","heroicons-outline","heroicons-solid","heroicons","hugeicons","humbleicons","ic","icomoon-free","icon-park-outline","icon-park-solid","icon-park-twotone","icon-park","iconamoon","iconoir","icons8","il","ion","iwwa","ix","jam","la","lets-icons","line-md","lineicons","logos","ls","lsicon","lucide-lab","lucide","mage","majesticons","maki","map","marketeq","material-icon-theme","material-symbols-light","material-symbols","mdi-light","mdi","medical-icon","memory","meteocons","meteor-icons","mi","mingcute","mono-icons","mynaui","nimbus","nonicons","noto-v1","noto","nrk","octicon","oi","ooui","openmoji","oui","pajamas","pepicons-pencil","pepicons-pop","pepicons-print","pepicons","ph","picon","pixel","pixelarticons","prime","proicons","ps","qlementine-icons","quill","radix-icons","raphael","ri","rivet-icons","si-glyph","si","simple-icons","simple-line-icons","skill-icons","solar","stash","streamline-block","streamline-color","streamline-cyber-color","streamline-cyber","streamline-emojis","streamline-flex-color","streamline-flex","streamline-freehand-color","streamline-freehand","streamline-guidance","streamline-kameleon-color","streamline-logos","streamline-pixel","streamline-plump-color","streamline-plump","streamline-sharp-color","streamline-sharp","streamline-stickies-color","streamline-ultimate-color","streamline-ultimate","streamline","subway","svg-spinners","system-uicons","tabler","tdesign","teenyicons","token-branded","token","topcoat","twemoji","typcn","uil","uim","uis","uit","uiw","unjs","vaadin","vs","vscode-icons","websymbol","weui","whh","wi","wpf","zmdi","zondicons"],VM=3;function GM(t){return(e={})=>{const{scale:n=1,mode:r="auto",prefix:i="i-",warn:a=!1,iconifyCollectionsNames:o,collections:s,extraProperties:l={},customizations:c={},autoInstall:u=!1,collectionsNodeResolvePath:d,layer:f="icons",unit:h,processor:g}=e,m=XM(),v={addXmlNs:!0,scale:n,customCollections:s,autoInstall:u,cwd:d,warn:void 0,customizations:{...c,additionalProps:{...l},trimCustomSvg:!0,async iconCustomizer(y,x,w){await c.iconCustomizer?.(y,x,w),h&&(w.width||(w.width=`${n}${h}`),w.height||(w.height=`${n}${h}`))}}};let b;return{name:"@unocss/preset-icons",enforce:"pre",options:e,layers:{icons:-30},api:{encodeSvgForCss:Lv,parseIconWithLoader:Zv},rules:[[/^([\w:-]+)(?:\?(mask|bg|auto))?$/,async y=>{let[x,w,_=r]=y;b=b||await t(e);const k={},R=await Zv(w,b,{...v,usedProps:k},o);if(!R){a&&!m.isESLint&&mw(`failed to load icon "${x}"`);return}let A;const T=`url("data:image/svg+xml;utf8,${Lv(R.svg)}")`;return _==="auto"&&(_=R.svg.includes("currentColor")?"mask":"bg"),_==="mask"?A={"--un-icon":T,"-webkit-mask":"var(--un-icon) no-repeat",mask:"var(--un-icon) no-repeat","-webkit-mask-size":"100% 100%","mask-size":"100% 100%","background-color":"currentColor",color:"inherit",...k}:A={background:`${T} no-repeat`,"background-size":"100% 100%","background-color":"transparent",...k},g?.(A,{...R,icon:R.name,mode:_}),A},{layer:f,prefix:i}]]}}}function _w(t,e,n=new Map){function r(i){if(ww.includes(i))return n.has(i)||n.set(i,t(`${e}@iconify-json/${i}/icons.json`)),n.get(i)}return async(i,a,o)=>{let s=await cw(i,a,o);if(s)return s;const l=await r(i);if(l){const c=[a,a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a.replace(/([a-z])(\d+)/g,"$1-$2")];s=await lw(l,i,c,o)}return s}}function XM(){const t=typeof process<"u"&&process.stdout,e=t&&!!Kv.VSCODE_CWD,n=t&&!!Kv.ESLINT;return{isNode:t,isVSCode:e,isESLint:n}}async function Zv(t,e,n={},r=[]){let i="",a="",o;const s=new Set([...ww,...r,...Object.keys(n.customCollections||{})]);if(t.includes(":")){if([i,a]=t.split(":"),!s.has(i))return;o=await e(i,a,n)}else{const l=t.split(/-/g);for(let c=VM;c>=1&&(i=l.slice(0,c).join("-"),!(!!s.has(i)&&(a=l.slice(c).join("-"),o=await e(i,a,n),o)));c--);}if(o)return{collection:i,name:a,svg:o}}function qM(t){return _w(gM,t)}const YM=GM(async t=>{const e=t?.customFetch,n=t?.cdn;return e&&n?_w(e,n):n?qM(n):cw});var kl={exports:{}},KM=kl.exports,Jv;function ZM(){return Jv||(Jv=1,function(t,e){(function(n,r){r(e)})(KM,function(n){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(64),s=new Uint8Array(128);for(let M=0;M<a.length;M++){const $=a.charCodeAt(M);o[M]=$,s[$]=M}function l(M,$){let C=0,E=0,S=0;do{const D=M.next();S=s[D],C|=(S&31)<<E,E+=5}while(S&32);const F=C&1;return C>>>=1,F&&(C=-2147483648|-C),$+C}function c(M,$,C){let E=$-C;E=E<0?-E<<1|1:E<<1;do{let S=E&31;E>>>=5,E>0&&(S|=32),M.write(o[S])}while(E>0);return $}function u(M,$){return M.pos>=$?!1:M.peek()!==44}const d=1024*16,f=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode(M){return Buffer.from(M.buffer,M.byteOffset,M.byteLength).toString()}}:{decode(M){let $="";for(let C=0;C<M.length;C++)$+=String.fromCharCode(M[C]);return $}};class h{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(d)}write($){const{buffer:C}=this;C[this.pos++]=$,this.pos===d&&(this.out+=f.decode(C),this.pos=0)}flush(){const{buffer:$,out:C,pos:E}=this;return E>0?C+f.decode($.subarray(0,E)):C}}class g{constructor($){this.pos=0,this.buffer=$}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf($){const{buffer:C,pos:E}=this,S=C.indexOf($,E);return S===-1?C.length:S}}const m=[];function v(M){const{length:$}=M,C=new g(M),E=[],S=[];let F=0;for(;C.pos<$;C.pos++){F=l(C,F);const D=l(C,0);if(!u(C,$)){const U=S.pop();U[2]=F,U[3]=D;continue}const P=l(C,0),W=l(C,0)&1?[F,D,0,0,P,l(C,0)]:[F,D,0,0,P];let j=m;if(u(C,$)){j=[];do{const U=l(C,0);j.push(U)}while(u(C,$))}W.vars=j,E.push(W),S.push(W)}return E}function b(M){const $=new h;for(let C=0;C<M.length;)C=y(M,C,$,[0]);return $.flush()}function y(M,$,C,E){const S=M[$],{0:F,1:D,2:P,3:L,4:N,vars:W}=S;$>0&&C.write(44),E[0]=c(C,F,E[0]),c(C,D,0),c(C,N,0);const j=S.length===6?1:0;c(C,j,0),S.length===6&&c(C,S[5],0);for(const U of W)c(C,U,0);for($++;$<M.length;){const U=M[$],{0:z,1:Q}=U;if(z>P||z===P&&Q>=L)break;$=y(M,$,C,E)}return C.write(44),E[0]=c(C,P,E[0]),c(C,L,0),$}function x(M){const{length:$}=M,C=new g(M),E=[],S=[];let F=0,D=0,P=0,L=0,N=0,W=0,j=0,U=0;do{const z=C.indexOf(";");let Q=0;for(;C.pos<z;C.pos++){if(Q=l(C,Q),!u(C,z)){const Oe=S.pop();Oe[2]=F,Oe[3]=Q;continue}const K=l(C,0),H=K&1,J=K&2,ne=K&4;let oe=null,he=m,ve;if(H){const Oe=l(C,D);P=l(C,D===Oe?P:0),D=Oe,ve=[F,Q,0,0,Oe,P]}else ve=[F,Q,0,0];if(ve.isScope=!!ne,J){const Oe=L,Le=N;L=l(C,L);const Re=Oe===L;N=l(C,Re?N:0),W=l(C,Re&&Le===N?W:0),oe=[L,N,W]}if(ve.callsite=oe,u(C,z)){he=[];do{j=F,U=Q;const Oe=l(C,0);let Le;if(Oe<-1){Le=[[l(C,0)]];for(let Re=-1;Re>Oe;Re--){const bt=j;j=l(C,j),U=l(C,j===bt?U:0);const et=l(C,0);Le.push([et,j,U])}}else Le=[[Oe]];he.push(Le)}while(u(C,z))}ve.bindings=he,E.push(ve),S.push(ve)}F++,C.pos=z+1}while(C.pos<$);return E}function w(M){if(M.length===0)return"";const $=new h;for(let C=0;C<M.length;)C=_(M,C,$,[0,0,0,0,0,0,0]);return $.flush()}function _(M,$,C,E){const S=M[$],{0:F,1:D,2:P,3:L,isScope:N,callsite:W,bindings:j}=S;E[0]<F?(k(C,E[0],F),E[0]=F,E[1]=0):$>0&&C.write(44),E[1]=c(C,S[1],E[1]);const U=(S.length===6?1:0)|(W?2:0)|(N?4:0);if(c(C,U,0),S.length===6){const{4:z,5:Q}=S;z!==E[2]&&(E[3]=0),E[2]=c(C,z,E[2]),E[3]=c(C,Q,E[3])}if(W){const{0:z,1:Q,2:K}=S.callsite;z!==E[4]?(E[5]=0,E[6]=0):Q!==E[5]&&(E[6]=0),E[4]=c(C,z,E[4]),E[5]=c(C,Q,E[5]),E[6]=c(C,K,E[6])}if(j)for(const z of j){z.length>1&&c(C,-z.length,0);const Q=z[0][0];c(C,Q,0);let K=F,H=D;for(let J=1;J<z.length;J++){const ne=z[J];K=c(C,ne[1],K),H=c(C,ne[2],H),c(C,ne[0],0)}}for($++;$<M.length;){const z=M[$],{0:Q,1:K}=z;if(Q>P||Q===P&&K>=L)break;$=_(M,$,C,E)}return E[0]<P?(k(C,E[0],P),E[0]=P,E[1]=0):C.write(44),E[1]=c(C,L,E[1]),$}function k(M,$,C){do M.write(59);while(++$<C)}function R(M){const{length:$}=M,C=new g(M),E=[];let S=0,F=0,D=0,P=0,L=0;do{const N=C.indexOf(";"),W=[];let j=!0,U=0;for(S=0;C.pos<N;){let z;S=l(C,S),S<U&&(j=!1),U=S,u(C,N)?(F=l(C,F),D=l(C,D),P=l(C,P),u(C,N)?(L=l(C,L),z=[S,F,D,P,L]):z=[S,F,D,P]):z=[S],W.push(z),C.pos++}j||A(W),E.push(W),C.pos=N+1}while(C.pos<=$);return E}function A(M){M.sort(T)}function T(M,$){return M[0]-$[0]}function O(M){const $=new h;let C=0,E=0,S=0,F=0;for(let D=0;D<M.length;D++){const P=M[D];if(D>0&&$.write(59),P.length===0)continue;let L=0;for(let N=0;N<P.length;N++){const W=P[N];N>0&&$.write(44),L=c($,W[0],L),W.length!==1&&(C=c($,W[1],C),E=c($,W[2],E),S=c($,W[3],S),W.length!==4&&(F=c($,W[4],F)))}}return $.flush()}n.decode=R,n.decodeGeneratedRanges=x,n.decodeOriginalScopes=v,n.encode=O,n.encodeGeneratedRanges=w,n.encodeOriginalScopes=b,Object.defineProperty(n,"__esModule",{value:!0})})}(kl,kl.exports)),kl.exports}var JM=ZM();class ud{constructor(e){this.bits=e instanceof ud?e.bits.slice():[]}add(e){this.bits[e>>5]|=1<<(e&31)}has(e){return!!(this.bits[e>>5]&1<<(e&31))}}class Vl{constructor(e,n,r){this.start=e,this.end=n,this.original=r,this.intro="",this.outro="",this.content=r,this.storeName=!1,this.edited=!1,this.previous=null,this.next=null}appendLeft(e){this.outro+=e}appendRight(e){this.intro=this.intro+e}clone(){const e=new Vl(this.start,this.end,this.original);return e.intro=this.intro,e.outro=this.outro,e.content=this.content,e.storeName=this.storeName,e.edited=this.edited,e}contains(e){return this.start<e&&e<this.end}eachNext(e){let n=this;for(;n;)e(n),n=n.next}eachPrevious(e){let n=this;for(;n;)e(n),n=n.previous}edit(e,n,r){return this.content=e,r||(this.intro="",this.outro=""),this.storeName=n,this.edited=!0,this}prependLeft(e){this.outro=e+this.outro}prependRight(e){this.intro=e+this.intro}reset(){this.intro="",this.outro="",this.edited&&(this.content=this.original,this.storeName=!1,this.edited=!1)}split(e){const n=e-this.start,r=this.original.slice(0,n),i=this.original.slice(n);this.original=r;const a=new Vl(e,this.end,i);return a.outro=this.outro,this.outro="",this.end=e,this.edited?(a.edit("",!1),this.content=""):this.content=r,a.next=this.next,a.next&&(a.next.previous=a),a.previous=this,this.next=a,a}toString(){return this.intro+this.content+this.outro}trimEnd(e){if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;const n=this.content.replace(e,"");if(n.length)return n!==this.content&&(this.split(this.start+n.length).edit("",void 0,!0),this.edited&&this.edit(n,this.storeName,!0)),!0;if(this.edit("",void 0,!0),this.intro=this.intro.replace(e,""),this.intro.length)return!0}trimStart(e){if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;const n=this.content.replace(e,"");if(n.length){if(n!==this.content){const r=this.split(this.end-n.length);this.edited&&r.edit(n,this.storeName,!0),this.edit("",void 0,!0)}return!0}else if(this.edit("",void 0,!0),this.outro=this.outro.replace(e,""),this.outro.length)return!0}}function QM(){return typeof globalThis<"u"&&typeof globalThis.btoa=="function"?t=>globalThis.btoa(unescape(encodeURIComponent(t))):typeof Buffer=="function"?t=>Buffer.from(t,"utf-8").toString("base64"):()=>{throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")}}const eR=QM();class tR{constructor(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=JM.encode(e.mappings),typeof e.x_google_ignoreList<"u"&&(this.x_google_ignoreList=e.x_google_ignoreList),typeof e.debugId<"u"&&(this.debugId=e.debugId)}toString(){return JSON.stringify(this)}toUrl(){return"data:application/json;charset=utf-8;base64,"+eR(this.toString())}}function nR(t){const e=t.split(`
`),n=e.filter(a=>/^\t+/.test(a)),r=e.filter(a=>/^ {2,}/.test(a));if(n.length===0&&r.length===0)return null;if(n.length>=r.length)return"	";const i=r.reduce((a,o)=>{const s=/^ +/.exec(o)[0].length;return Math.min(s,a)},1/0);return new Array(i+1).join(" ")}function rR(t,e){const n=t.split(/[/\\]/),r=e.split(/[/\\]/);for(n.pop();n[0]===r[0];)n.shift(),r.shift();if(n.length){let i=n.length;for(;i--;)n[i]=".."}return n.concat(r).join("/")}const iR=Object.prototype.toString;function aR(t){return iR.call(t)==="[object Object]"}function Qv(t){const e=t.split(`
`),n=[];for(let r=0,i=0;r<e.length;r++)n.push(i),i+=e[r].length+1;return function(i){let a=0,o=n.length;for(;a<o;){const c=a+o>>1;i<n[c]?o=c:a=c+1}const s=a-1,l=i-n[s];return{line:s,column:l}}}const oR=/\w/;class sR{constructor(e){this.hires=e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null}addEdit(e,n,r,i){if(n.length){const a=n.length-1;let o=n.indexOf(`
`,0),s=-1;for(;o>=0&&a>o;){const c=[this.generatedCodeColumn,e,r.line,r.column];i>=0&&c.push(i),this.rawSegments.push(c),this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,s=o,o=n.indexOf(`
`,o+1)}const l=[this.generatedCodeColumn,e,r.line,r.column];i>=0&&l.push(i),this.rawSegments.push(l),this.advance(n.slice(s+1))}else this.pending&&(this.rawSegments.push(this.pending),this.advance(n));this.pending=null}addUneditedChunk(e,n,r,i,a){let o=n.start,s=!0,l=!1;for(;o<n.end;){if(r[o]===`
`)i.line+=1,i.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,s=!0,l=!1;else{if(this.hires||s||a.has(o)){const c=[this.generatedCodeColumn,e,i.line,i.column];this.hires==="boundary"?oR.test(r[o])?l||(this.rawSegments.push(c),l=!0):(this.rawSegments.push(c),l=!1):this.rawSegments.push(c)}i.column+=1,this.generatedCodeColumn+=1,s=!1}o+=1}this.pending=null}advance(e){if(!e)return;const n=e.split(`
`);if(n.length>1){for(let r=0;r<n.length-1;r++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=n[n.length-1].length}}const ks=`
`,ho={insertLeft:!1,insertRight:!1,storeName:!1};class xm{constructor(e,n={}){const r=new Vl(0,e.length,e);Object.defineProperties(this,{original:{writable:!0,value:e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:r},lastChunk:{writable:!0,value:r},lastSearchedChunk:{writable:!0,value:r},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:n.filename},indentExclusionRanges:{writable:!0,value:n.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new ud},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:void 0},ignoreList:{writable:!0,value:n.ignoreList},offset:{writable:!0,value:n.offset||0}}),this.byStart[0]=r,this.byEnd[e.length]=r}addSourcemapLocation(e){this.sourcemapLocations.add(e)}append(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.outro+=e,this}appendLeft(e,n){if(e=e+this.offset,typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byEnd[e];return r?r.appendLeft(n):this.intro+=n,this}appendRight(e,n){if(e=e+this.offset,typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byStart[e];return r?r.appendRight(n):this.outro+=n,this}clone(){const e=new xm(this.original,{filename:this.filename,offset:this.offset});let n=this.firstChunk,r=e.firstChunk=e.lastSearchedChunk=n.clone();for(;n;){e.byStart[r.start]=r,e.byEnd[r.end]=r;const i=n.next,a=i&&i.clone();a&&(r.next=a,a.previous=r,r=a),n=i}return e.lastChunk=r,this.indentExclusionRanges&&(e.indentExclusionRanges=this.indentExclusionRanges.slice()),e.sourcemapLocations=new ud(this.sourcemapLocations),e.intro=this.intro,e.outro=this.outro,e}generateDecodedMap(e){e=e||{};const n=0,r=Object.keys(this.storedNames),i=new sR(e.hires),a=Qv(this.original);return this.intro&&i.advance(this.intro),this.firstChunk.eachNext(o=>{const s=a(o.start);o.intro.length&&i.advance(o.intro),o.edited?i.addEdit(n,o.content,s,o.storeName?r.indexOf(o.original):-1):i.addUneditedChunk(n,o,this.original,s,this.sourcemapLocations),o.outro.length&&i.advance(o.outro)}),{file:e.file?e.file.split(/[/\\]/).pop():void 0,sources:[e.source?rR(e.file||"",e.source):e.file||""],sourcesContent:e.includeContent?[this.original]:void 0,names:r,mappings:i.raw,x_google_ignoreList:this.ignoreList?[n]:void 0}}generateMap(e){return new tR(this.generateDecodedMap(e))}_ensureindentStr(){this.indentStr===void 0&&(this.indentStr=nR(this.original))}_getRawIndentString(){return this._ensureindentStr(),this.indentStr}getIndentString(){return this._ensureindentStr(),this.indentStr===null?"	":this.indentStr}indent(e,n){const r=/^[^\r\n]/gm;if(aR(e)&&(n=e,e=void 0),e===void 0&&(this._ensureindentStr(),e=this.indentStr||"	"),e==="")return this;n=n||{};const i={};n.exclude&&(typeof n.exclude[0]=="number"?[n.exclude]:n.exclude).forEach(u=>{for(let d=u[0];d<u[1];d+=1)i[d]=!0});let a=n.indentStart!==!1;const o=c=>a?`${e}${c}`:(a=!0,c);this.intro=this.intro.replace(r,o);let s=0,l=this.firstChunk;for(;l;){const c=l.end;if(l.edited)i[s]||(l.content=l.content.replace(r,o),l.content.length&&(a=l.content[l.content.length-1]===`
`));else for(s=l.start;s<c;){if(!i[s]){const u=this.original[s];u===`
`?a=!0:u!=="\r"&&a&&(a=!1,s===l.start||(this._splitChunk(l,s),l=l.next),l.prependRight(e))}s+=1}s=l.end,l=l.next}return this.outro=this.outro.replace(r,o),this}insert(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")}insertLeft(e,n){return ho.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),ho.insertLeft=!0),this.appendLeft(e,n)}insertRight(e,n){return ho.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),ho.insertRight=!0),this.prependRight(e,n)}move(e,n,r){if(e=e+this.offset,n=n+this.offset,r=r+this.offset,r>=e&&r<=n)throw new Error("Cannot move a selection inside itself");this._split(e),this._split(n),this._split(r);const i=this.byStart[e],a=this.byEnd[n],o=i.previous,s=a.next,l=this.byStart[r];if(!l&&a===this.lastChunk)return this;const c=l?l.previous:this.lastChunk;return o&&(o.next=s),s&&(s.previous=o),c&&(c.next=i),l&&(l.previous=a),i.previous||(this.firstChunk=a.next),a.next||(this.lastChunk=i.previous,this.lastChunk.next=null),i.previous=c,a.next=l||null,c||(this.firstChunk=i),l||(this.lastChunk=a),this}overwrite(e,n,r,i){return i=i||{},this.update(e,n,r,{...i,overwrite:!i.contentOnly})}update(e,n,r,i){if(e=e+this.offset,n=n+this.offset,typeof r!="string")throw new TypeError("replacement content must be a string");if(this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}if(n>this.original.length)throw new Error("end is out of bounds");if(e===n)throw new Error("Cannot overwrite a zero-length range  use appendLeft or prependRight instead");this._split(e),this._split(n),i===!0&&(ho.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),ho.storeName=!0),i={storeName:!0});const a=i!==void 0?i.storeName:!1,o=i!==void 0?i.overwrite:!1;if(a){const c=this.original.slice(e,n);Object.defineProperty(this.storedNames,c,{writable:!0,value:!0,enumerable:!0})}const s=this.byStart[e],l=this.byEnd[n];if(s){let c=s;for(;c!==l;){if(c.next!==this.byStart[c.end])throw new Error("Cannot overwrite across a split point");c=c.next,c.edit("",!1)}s.edit(r,a,!o)}else{const c=new Vl(e,n,"").edit(r,a);l.next=c,c.previous=l}return this}prepend(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.intro=e+this.intro,this}prependLeft(e,n){if(e=e+this.offset,typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byEnd[e];return r?r.prependLeft(n):this.intro=n+this.intro,this}prependRight(e,n){if(e=e+this.offset,typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byStart[e];return r?r.prependRight(n):this.outro=n+this.outro,this}remove(e,n){if(e=e+this.offset,n=n+this.offset,this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}if(e===n)return this;if(e<0||n>this.original.length)throw new Error("Character is out of bounds");if(e>n)throw new Error("end must be greater than start");this._split(e),this._split(n);let r=this.byStart[e];for(;r;)r.intro="",r.outro="",r.edit(""),r=n>r.end?this.byStart[r.end]:null;return this}reset(e,n){if(e=e+this.offset,n=n+this.offset,this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}if(e===n)return this;if(e<0||n>this.original.length)throw new Error("Character is out of bounds");if(e>n)throw new Error("end must be greater than start");this._split(e),this._split(n);let r=this.byStart[e];for(;r;)r.reset(),r=n>r.end?this.byStart[r.end]:null;return this}lastChar(){if(this.outro.length)return this.outro[this.outro.length-1];let e=this.lastChunk;do{if(e.outro.length)return e.outro[e.outro.length-1];if(e.content.length)return e.content[e.content.length-1];if(e.intro.length)return e.intro[e.intro.length-1]}while(e=e.previous);return this.intro.length?this.intro[this.intro.length-1]:""}lastLine(){let e=this.outro.lastIndexOf(ks);if(e!==-1)return this.outro.substr(e+1);let n=this.outro,r=this.lastChunk;do{if(r.outro.length>0){if(e=r.outro.lastIndexOf(ks),e!==-1)return r.outro.substr(e+1)+n;n=r.outro+n}if(r.content.length>0){if(e=r.content.lastIndexOf(ks),e!==-1)return r.content.substr(e+1)+n;n=r.content+n}if(r.intro.length>0){if(e=r.intro.lastIndexOf(ks),e!==-1)return r.intro.substr(e+1)+n;n=r.intro+n}}while(r=r.previous);return e=this.intro.lastIndexOf(ks),e!==-1?this.intro.substr(e+1)+n:this.intro+n}slice(e=0,n=this.original.length-this.offset){if(e=e+this.offset,n=n+this.offset,this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}let r="",i=this.firstChunk;for(;i&&(i.start>e||i.end<=e);){if(i.start<n&&i.end>=n)return r;i=i.next}if(i&&i.edited&&i.start!==e)throw new Error(`Cannot use replaced character ${e} as slice start anchor.`);const a=i;for(;i;){i.intro&&(a!==i||i.start===e)&&(r+=i.intro);const o=i.start<n&&i.end>=n;if(o&&i.edited&&i.end!==n)throw new Error(`Cannot use replaced character ${n} as slice end anchor.`);const s=a===i?e-i.start:0,l=o?i.content.length+n-i.end:i.content.length;if(r+=i.content.slice(s,l),i.outro&&(!o||i.end===n)&&(r+=i.outro),o)break;i=i.next}return r}snip(e,n){const r=this.clone();return r.remove(0,e),r.remove(n,r.original.length),r}_split(e){if(this.byStart[e]||this.byEnd[e])return;let n=this.lastSearchedChunk;const r=e>n.end;for(;n;){if(n.contains(e))return this._splitChunk(n,e);n=r?this.byStart[n.end]:this.byEnd[n.start]}}_splitChunk(e,n){if(e.edited&&e.content.length){const i=Qv(this.original)(n);throw new Error(`Cannot split a chunk that has already been edited (${i.line}:${i.column}  "${e.original}")`)}const r=e.split(n);return this.byEnd[n]=e,this.byStart[n]=r,this.byEnd[r.end]=r,e===this.lastChunk&&(this.lastChunk=r),this.lastSearchedChunk=e,!0}toString(){let e=this.intro,n=this.firstChunk;for(;n;)e+=n.toString(),n=n.next;return e+this.outro}isEmpty(){let e=this.firstChunk;do if(e.intro.length&&e.intro.trim()||e.content.length&&e.content.trim()||e.outro.length&&e.outro.trim())return!1;while(e=e.next);return!0}length(){let e=this.firstChunk,n=0;do n+=e.intro.length+e.content.length+e.outro.length;while(e=e.next);return n}trimLines(){return this.trim("[\\r\\n]")}trim(e){return this.trimStart(e).trimEnd(e)}trimEndAborted(e){const n=new RegExp((e||"\\s")+"+$");if(this.outro=this.outro.replace(n,""),this.outro.length)return!0;let r=this.lastChunk;do{const i=r.end,a=r.trimEnd(n);if(r.end!==i&&(this.lastChunk===r&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),a)return!0;r=r.previous}while(r);return!1}trimEnd(e){return this.trimEndAborted(e),this}trimStartAborted(e){const n=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(n,""),this.intro.length)return!0;let r=this.firstChunk;do{const i=r.end,a=r.trimStart(n);if(r.end!==i&&(r===this.lastChunk&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),a)return!0;r=r.next}while(r);return!1}trimStart(e){return this.trimStartAborted(e),this}hasChanged(){return this.original!==this.toString()}_replaceRegexp(e,n){function r(a,o){return typeof n=="string"?n.replace(/\$(\$|&|\d+)/g,(s,l)=>l==="$"?"$":l==="&"?a[0]:+l<a.length?a[+l]:`$${l}`):n(...a,a.index,o,a.groups)}function i(a,o){let s;const l=[];for(;s=a.exec(o);)l.push(s);return l}if(e.global)i(e,this.original).forEach(o=>{if(o.index!=null){const s=r(o,this.original);s!==o[0]&&this.overwrite(o.index,o.index+o[0].length,s)}});else{const a=this.original.match(e);if(a&&a.index!=null){const o=r(a,this.original);o!==a[0]&&this.overwrite(a.index,a.index+a[0].length,o)}}return this}_replaceString(e,n){const{original:r}=this,i=r.indexOf(e);return i!==-1&&this.overwrite(i,i+e.length,n),this}replace(e,n){return typeof e=="string"?this._replaceString(e,n):this._replaceRegexp(e,n)}_replaceAllString(e,n){const{original:r}=this,i=e.length;for(let a=r.indexOf(e);a!==-1;a=r.indexOf(e,a+i))r.slice(a,a+i)!==n&&this.overwrite(a,a+i,n);return this}replaceAll(e,n){if(typeof e=="string")return this._replaceAllString(e,n);if(!e.global)throw new TypeError("MagicString.prototype.replaceAll called with a non-global RegExp argument");return this._replaceRegexp(e,n)}}function wm(t,e,n){if(t==="")return;const r=t.length;let i=0,a=!1,o=0;for(let s=0;s<r;s++)switch(t[s]){case e:a||(a=!0,o=s),i++;break;case n:if(--i,i<0)return;if(i===0)return[t.slice(o,s+1),t.slice(s+1),t.slice(0,o)];break}}function ah(t,e,n,r){if(t===""||(Ht(r)&&(r=[r]),r.length===0))return;const i=t.length;let a=0;for(let o=0;o<i;o++)switch(t[o]){case e:a++;break;case n:if(--a<0)return;break;default:for(const s of r){const l=s.length;if(l&&s===t.slice(o,o+l)&&a===0)return o===0||o===i-l?void 0:[t.slice(0,o),t.slice(o+l)]}}return[t,""]}function Gl(t,e,n,r="(",i=")"){n=n??10;const a=[];let o=0;for(;t!=="";){if(++o>n)return;const s=ah(t,r,i,e);if(!s)return;const[l,c]=s;a.push(l),t=c}if(a.length>0)return a}const _m=["hsl","hsla","hwb","lab","lch","oklab","oklch","rgb","rgba"],lR=["srgb","srgb-linear","display-p3","a98-rgb","prophoto-rgb","rec2020","lab","oklab","xyz","xyz-d50","xyz-d65"],cR=["hsl","hwb","lch","oklch"],uR=["shorter","longer","increasing","decreasing"],Cw=["%alpha","<alpha-value>"],kw=new RegExp(Cw.map(t=>Wl(t)).join("|"),"g");function eb(t){return t?lR.some(e=>t.includes(e))||cR.some(e=>t.includes(e))||uR.some(e=>t.includes(e)):!1}function Oo(t=""){const e=dR(t);if(e==null||e===!1)return;const{type:n,components:r,alpha:i}=e,a=n.toLowerCase();if(r.length!==0&&!(_m.includes(a)&&![1,3].includes(r.length)))return{type:a,components:r.map(o=>typeof o=="string"?o.trim():o),alpha:typeof i=="string"?i.trim():i}}function ng(t,e){if(typeof t=="string")return t.replace(kw,`${e??1}`);const{components:n}=t;let{alpha:r,type:i}=t;return r=e??r,i=i.toLowerCase(),["hsla","rgba"].includes(i)?`${i}(${n.join(", ")}${r==null?"":`, ${r}`})`:(r=r==null?"":` / ${r}`,_m.includes(i)?`${i}(${n.join(" ")}${r})`:`color(${i} ${n.join(" ")}${r})`)}function dR(t){if(!t)return;let e=hR(t);if(e!=null||(e=fR(t),e!=null)||(e=pR(t),e!=null)||(e=mR(t),e!=null)||(e=vR(t),e!=null))return e}function hR(t){const[,e]=t.match(/^#([\da-f]+)$/i)||[];if(e)switch(e.length){case 3:case 4:{const n=Array.from(e,r=>Number.parseInt(r,16)).map(r=>r<<4|r);return{type:"rgb",components:n.slice(0,3),alpha:e.length===3?void 0:Math.round(n[3]/255*100)/100}}case 6:case 8:{const n=Number.parseInt(e,16);return{type:"rgb",components:e.length===6?[n>>16&255,n>>8&255,n&255]:[n>>24&255,n>>16&255,n>>8&255],alpha:e.length===6?void 0:Math.round((n&255)/255*100)/100}}}}function fR(t){const e={rebeccapurple:[102,51,153,1]}[t];if(e!=null)return{type:"rgb",components:e.slice(0,3),alpha:e[3]}}function pR(t){const e=t.match(/^(rgb|rgba|hsl|hsla)\((.+)\)$/i);if(!e)return;const[,n,r]=e,i=Gl(r,",",5);if(i){if([3,4].includes(i.length))return{type:n,components:i.slice(0,3),alpha:i[3]};if(i.length!==1)return!1}}const gR=new RegExp(`^(${_m.join("|")})\\((.+)\\)$`,"i");function mR(t){const e=t.match(gR);if(!e)return;const[,n,r]=e,i=Sw(`${n} ${r}`);if(i){const{alpha:a,components:[o,...s]}=i;return{type:o,components:s,alpha:a}}}function vR(t){const e=t.match(/^color\((.+)\)$/);if(!e)return;const n=Sw(e[1]);if(n){const{alpha:r,components:[i,...a]}=n;return{type:i,components:a,alpha:r}}}function Sw(t){const e=Gl(t," ");if(!e)return;let n=e.length;if(e[n-2]==="/")return{components:e.slice(0,n-2),alpha:e[n-1]};if(e[n-2]!=null&&(e[n-2].endsWith("/")||e[n-1].startsWith("/"))){const a=e.splice(n-2);e.push(a.join(" ")),--n}const r=Gl(e[n-1],"/",2);if(!r)return;if(r.length===1||r[r.length-1]==="")return{components:e};const i=r.pop();return e[n-1]=r.join("/"),{components:e,alpha:i}}const bR=/theme\(\s*(['"])?(.*?)\1?\s*\)/g;function yR(t){return t.includes("theme(")&&t.includes(")")}function xR(t,e,n=!0){const r=Array.from(t.toString().matchAll(bR));if(!r.length)return t;const i=new xm(t);for(const a of r){const o=a[2];if(!o)throw new Error("theme() expect exact one argument, but got 0");const s=wR(o,e,n);s&&i.overwrite(a.index,a.index+a[0].length,s)}return i.toString()}function wR(t,e,n=!0){const[r,i]=t.split("/");let o=r.trim().split(".").reduce((s,l)=>s?.[l],e);if(typeof o=="object"&&(o=o.DEFAULT),typeof o=="string"){if(i){const s=Oo(o);s&&(o=ng(s,i))}return o}else if(n)throw new Error(`theme of "${t}" did not found`)}function tb(t){const e=t.match(/^-?\d+\.?\d*/)?.[0]||"",n=t.slice(e.length);if(n==="px"){const r=Number.parseFloat(e)-.1;return Number.isNaN(r)?t:`${r}${n}`}return`calc(${t} - 0.1px)`}function _R(t){const e=function(r){const i=this.__options?.sequence||[];this.__options.sequence=[];for(const a of i){const o=t[a](r);if(o!=null)return o}};function n(r,i){return r.__options||(r.__options={sequence:[]}),r.__options.sequence.push(i),r}for(const r of Object.keys(t))Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get(){return n(this,r)}});return e}const Ew="__pseudo_placeholder__",ss=Object.fromEntries([["first-letter","::first-letter"],["first-line","::first-line"],"any-link","link","visited","target",["open","[open]"],"default","checked","indeterminate","placeholder-shown","autofill","optional","required","valid","invalid","user-valid","user-invalid","in-range","out-of-range","read-only","read-write","empty","focus-within","hover","focus","focus-visible","active","enabled","disabled","popover-open","root","empty",["even-of-type",":nth-of-type(even)"],["even",":nth-child(even)"],["odd-of-type",":nth-of-type(odd)"],["odd",":nth-child(odd)"],["nth",`:nth-child(${Ew})`],"first-of-type",["first",":first-child"],"last-of-type",["last",":last-child"],"only-child","only-of-type",["backdrop-element","::backdrop"],["placeholder","::placeholder"],["before","::before"],["after","::after"],["file","::file-selector-button"]].map(t=>Array.isArray(t)?t:[t,`:${t}`])),Tw=Object.keys(ss),ls=Object.fromEntries([["backdrop","::backdrop"]].map(t=>Array.isArray(t)?t:[t,`:${t}`])),Aw=Object.keys(ls),CR=["not","is","where","has"],Ow=Object.fromEntries([["selection",["::selection"," *::selection"]],["marker",["::marker"," *::marker"]]]),rg=Object.entries(ss).filter(([,t])=>!t.startsWith("::")).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|"),ig=Object.entries(ls).filter(([,t])=>!t.startsWith("::")).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|"),Na=CR.join("|"),nb=Object.keys(Ow).sort((t,e)=>e.length-t.length).join("|"),kR=["::-webkit-resizer","::-webkit-scrollbar","::-webkit-scrollbar-button","::-webkit-scrollbar-corner","::-webkit-scrollbar-thumb","::-webkit-scrollbar-track","::-webkit-scrollbar-track-piece","::file-selector-button"],rb=Object.entries(ss).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|"),ib=Object.entries(ls).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|");function SR(t,e,n,r){const{h:i,variantGetBracket:a}=r,o=new RegExp(`^(${Wl(e)}:)(\\S+)${Wl(n)}\\1`);let s,l,c,u;const d=g=>{const m=a(`${t}-`,g,[]);if(!m)return;const[v,b]=m,y=i.bracket(v);if(y==null)return;const x=b.split(s,1)?.[0]??"",w=`${e}${Lo(x)}`;return[x,g.slice(g.length-(b.length-x.length-1)),y.includes("&")?y.replace(/&/g,w):`${w}${y}`]},f=g=>{const m=g.match(l)||g.match(c);if(!m)return;const[v,b,y]=m,x=m[3]??"";let w=ss[y]||ls[y]||`:${y}`;return b&&(w=`:${b}(${w})`),[x,g.slice(v.length),`${e}${Lo(x)}${w}`,y]},h=g=>{const m=g.match(u);if(!m)return;const[v,b,y]=m,x=m[3]??"",w=`:${b}(${y})`;return[x,g.slice(v.length),`${e}${Lo(x)}${w}`]};return{name:`pseudo:${t}`,match(g,m){if(s&&l&&c||(s=new RegExp(`(?:${m.generator.config.separators.join("|")})`),l=new RegExp(`^${t}-(?:(?:(${Na})-)?(${rg}))(?:(/[\\w-]+))?(?:${m.generator.config.separators.join("|")})`),c=new RegExp(`^${t}-(?:(?:(${Na})-)?(${ig}))(?:(/[\\w-]+))?(?:${m.generator.config.separators.filter(_=>_!=="-").join("|")})`),u=new RegExp(`^${t}-(?:(${Na})-)?\\[(.+)\\](?:(/[\\w-]+))?(?:${m.generator.config.separators.filter(_=>_!=="-").join("|")})`)),!g.startsWith(t))return;const v=d(g)||f(g)||h(g);if(!v)return;const[b,y,x,w=""]=v;return{matcher:y,handle:(_,k)=>k({..._,prefix:`${x}${n}${_.prefix}`.replace(o,"$1$2:"),sort:Tw.indexOf(w)??Aw.indexOf(w)})}},multiPass:!0}}function ER(t){const{h:e}=t;let n,r,i;return[{name:"pseudo",match(a,o){n&&r||(n=new RegExp(`^(${rb})(?:-(\\d+|\\[\\w+\\]))?(?:${o.generator.config.separators.join("|")})`),r=new RegExp(`^(${ib})(?:${o.generator.config.separators.filter(l=>l!=="-").join("|")})`));const s=a.match(n)||a.match(r);if(s){let l=ss[s[1]]||ls[s[1]]||`:${s[1]}`;if(s[2]){let u;s[2].startsWith("[")&&s[2].endsWith("]")?u=e.bracket(s[2]):u=s[2],u&&(l=l.replace(Ew,u))}let c=Tw.indexOf(s[1]);return c===-1&&(c=Aw.indexOf(s[1])),c===-1&&(c=void 0),{matcher:a.slice(s[0].length),handle:(u,d)=>{const f=l.includes("::")&&!kR.includes(l)?{pseudo:`${u.pseudo}${l}`}:{selector:`${u.selector}${l}`};return d({...u,...f,sort:c,noMerge:!0})}}}},multiPass:!0,autocomplete:`(${rb}|${ib}):`},{name:"pseudo:multi",match(a,o){i||(i=new RegExp(`^(${nb})(?:${o.generator.config.separators.join("|")})`));const s=a.match(i);if(s)return Ow[s[1]].map(c=>({matcher:a.slice(s[0].length),handle:(u,d)=>d({...u,pseudo:`${u.pseudo}${c}`})}))},multiPass:!1,autocomplete:`(${nb}):`}]}function TR(t){const{getBracket:e,h:n}=t;let r,i,a;return{match(o,s){r&&i||(r=new RegExp(`^(${Na})-(${rg})(?:${s.generator.config.separators.join("|")})`),i=new RegExp(`^(${Na})-(${ig})(?:${s.generator.config.separators.filter(c=>c!=="-").join("|")})`),a=new RegExp(`^(${Na})-(\\[.+\\])(?:${s.generator.config.separators.filter(c=>c!=="-").join("|")})`));const l=o.match(r)||o.match(i)||o.match(a);if(l){const c=l[1],d=e(l[2],"[","]")?n.bracket(l[2]):ss[l[2]]||ls[l[2]]||`:${l[2]}`;return{matcher:o.slice(l[0].length),selector:f=>`${f}:${c}(${d})`}}},multiPass:!0,autocomplete:`(${Na})-(${rg}|${ig}):`}}function AR(t,e){const n=!!t?.attributifyPseudo;let r=t?.prefix??"";r=(Array.isArray(r)?r:[r]).filter(Boolean)[0]??"";const i=(a,o)=>SR(a,n?`[${r}${a}=""]`:`.${r}${a}`,o,e);return[i("group"," "),i("peer","~"),i("parent",">"),i("previous","+"),i("group-aria"," "),i("peer-aria","~"),i("parent-aria",">"),i("previous-aria","+")]}const OR=/(part-\[(.+)\]:)(.+)/;function MR(){return{match(t){const e=t.match(OR);if(e){const n=`part(${e[2]})`;return{matcher:t.slice(e[1].length),selector:r=>`${r}::${n}`}}},multiPass:!0}}function Pi(t,e){let n;return{name:t,match(r,i){n||(n=new RegExp(`^${Wl(t)}(?:${i.generator.config.separators.join("|")})`));const a=r.match(n);if(a){const o=r.slice(a[0].length),s=Pt(e).map(l=>({matcher:o,handle:(c,u)=>u({...c,...l(c)})}));return s.length===1?s[0]:s}},autocomplete:`${t}:`}}function Yn(t,e){let n;return{name:t,match(r,i){n||(n=new RegExp(`^${Wl(t)}(?:${i.generator.config.separators.join("|")})`));const a=r.match(n);if(a)return{matcher:r.slice(a[0].length),handle:(o,s)=>s({...o,parent:`${o.parent?`${o.parent} $$ `:""}${e}`})}},autocomplete:`${t}:`}}function uc(t,e,n){if(e.startsWith(`${t}[`)){const[r,i]=wm(e.slice(t.length),"[","]")??[];if(r&&i){for(const a of n)if(i.startsWith(a))return[r,i.slice(a.length),a];return[r,i,""]}}}function Zr(t,e,n){for(const r of Pt(t))if(e.startsWith(r)){const i=uc(r,e,n);if(i){const[a="",o=i[1]]=Zr("/",i[1],n)??[];return[i[0],o,a]}for(const a of n.filter(o=>o!=="/")){const o=e.indexOf(a,r.length);if(o!==-1){const s=e.indexOf("/",r.length),l=s===-1||o<=s;return[e.slice(r.length,l?o:s),e.slice(o+a.length),l?"":e.slice(s+1,o)]}}}}function ab(t){return{"h1,h2,h3,h4,h5,h6":{color:"var(--un-prose-headings)","font-weight":"600","line-height":1.25},a:{color:"var(--un-prose-links)","text-decoration":"underline","font-weight":"500"},"a code":{color:"var(--un-prose-links)"},"p,ul,ol,pre":{margin:"1em 0","line-height":1.75},blockquote:{margin:"1em 0","padding-left":"1em","font-style":"italic","border-left":".25em solid var(--un-prose-borders)"},h1:{margin:"1rem 0","font-size":"2.25em"},h2:{margin:"1.75em 0 .5em","font-size":"1.75em"},h3:{margin:"1.5em 0 .5em","font-size":"1.375em"},h4:{margin:"1em 0","font-size":"1.125em"},"img,video":{"max-width":"100%"},"figure,picture":{margin:"1em 0"},figcaption:{color:"var(--un-prose-captions)","font-size":".875em"},code:{color:"var(--un-prose-code)","font-size":".875em","font-weight":600,"font-family":t.fontFamily?.mono},":not(pre) > code::before,:not(pre) > code::after":{content:'"`"'},pre:{padding:"1.25rem 1.5rem","overflow-x":"auto","border-radius":".375rem"},"pre,code":{"white-space":"pre","word-spacing":"normal","word-break":"normal","word-wrap":"normal","-moz-tab-size":4,"-o-tab-size":4,"tab-size":4,"-webkit-hyphens":"none","-moz-hyphens":"none",hyphens:"none",background:"transparent"},"pre code":{"font-weight":"inherit"},"ol,ul":{"padding-left":"1.25em"},ol:{"list-style-type":"decimal"},'ol[type="A"]':{"list-style-type":"upper-alpha"},'ol[type="a"]':{"list-style-type":"lower-alpha"},'ol[type="A" s]':{"list-style-type":"upper-alpha"},'ol[type="a" s]':{"list-style-type":"lower-alpha"},'ol[type="I"]':{"list-style-type":"upper-roman"},'ol[type="i"]':{"list-style-type":"lower-roman"},'ol[type="I" s]':{"list-style-type":"upper-roman"},'ol[type="i" s]':{"list-style-type":"lower-roman"},'ol[type="1"]':{"list-style-type":"decimal"},ul:{"list-style-type":"disc"},"ol > li::marker,ul > li::marker,summary::marker":{color:"var(--un-prose-lists)"},hr:{margin:"2em 0",border:"1px solid var(--un-prose-hr)"},table:{display:"block",margin:"1em 0","border-collapse":"collapse","overflow-x":"auto"},"tr:nth-child(2n)":{background:"var(--un-prose-bg-soft)"},"td,th":{border:"1px solid var(--un-prose-borders)",padding:".625em 1em"},abbr:{cursor:"help"},kbd:{color:"var(--un-prose-code)",border:"1px solid",padding:".25rem .5rem","font-size":".875em","border-radius":".25rem"},details:{margin:"1em 0",padding:"1.25rem 1.5rem",background:"var(--un-prose-bg-soft)"},summary:{cursor:"pointer","font-weight":"600"}}}const RR=[["headings","h1","h2","h3","h4","h5","h6","th"],["h1"],["h2"],["h3"],["h4"],["h5"],["h6"],["p"],["a"],["blockquote"],["figure"],["figcaption"],["strong"],["em"],["kbd"],["code"],["pre"],["ol"],["ul"],["li"],["table"],["thead"],["tr"],["th"],["td"],["img"],["video"],["hr"]];function $R(t){for(const[e,...n]of RR)if(e===t)return n.length>0?n:[e]}function ob(t){let e="";const{escapedSelector:n,selectorName:r,preflights:i,compatibility:a,important:o}=t,s=a?.noColonNot||a?.noColonWhere;for(const l in i){const c=i[l],u=`:not(:where(.not-${r},.not-${r} *))`,d=l.split(",").map(f=>{const h=f.match(/:[():\-\w]+$/g);if(h){const g=h[0];return f=f.replace(g,""),n.map(m=>s?`${m} ${f}${g}`:`${m} :where(${f})${u}${g}`).join(",")}return null}).filter(f=>f);d.length?e+=d.join(","):e+=n.map(f=>s?l.split(",").map(h=>`${f} ${h}`).join(","):`${f} :where(${l})${u}`).join(","),e+="{";for(const f in c){const h=c[f];e+=`${f}:${h}${o?" !important":""};`}e+="}"}return e}function FR(t,e){const{compatibility:n,selectorName:r,important:i=!1}=e,a=typeof e?.cssExtend=="function"?e.cssExtend(t.theme):e?.cssExtend;let o=Array.from(e.escapedSelectors);return!o[o.length-1].startsWith(".")&&!n?.noColonIs&&(o=[`:is(${o[o.length-1]},.${e.selectorName})`]),typeof i=="string"&&(o=o.map(s=>n?.noColonIs?`${i} ${s}`:`:is(${i}) ${s}`)),ob(a?{escapedSelector:o,selectorName:r,preflights:bm(ab(t.theme),a),compatibility:n,important:i===!0}:{escapedSelector:o,selectorName:r,preflights:ab(t.theme),compatibility:n,important:i===!0})}const PR=t=>{t?.className&&console.warn('[unocss:preset-typography] "className" is deprecated. Please use "selectorName" instead.');const e=new Set,n=t?.selectorName||t?.className||"prose",r=new RegExp(`^${n}$`),i=new RegExp(`^${n}-([-\\w]+)$`),a=new RegExp(`^${n}-invert$`),o=t?.compatibility?.noColonNot||t?.compatibility?.noColonWhere;return{name:"@unocss/preset-typography",enforce:"post",layers:{typography:-20},rules:[[r,(s,{rawSelector:l})=>(e.add(xw(l)),{color:"var(--un-prose-body)","max-width":"65ch"}),{layer:"typography"}],[i,([,s],{theme:l})=>{const c=l.colors?.[s];if(c==null)return;const u=typeof c=="object"?c:{},d={body:700,headings:900,links:900,lists:400,hr:200,captions:500,code:900,borders:200,"bg-soft":100,"invert-body":200,"invert-headings":100,"invert-links":100,"invert-lists":500,"invert-hr":700,"invert-captions":400,"invert-code":100,"invert-borders":700,"invert-bg-soft":800},f={};for(const h in d){const g=d[h],m=u[g]??c;let v=!1;for(const b of Cw)if(m.includes(b)){v=!0,f[`--un-prose-${h}-opacity`]=1,f[`--un-prose-${h}`]=m.replace(b,`var(--un-prose-${h}-opacity)`);break}v||(f[`--un-prose-${h}`]=m)}return f},{layer:"typography"}],[a,()=>({"--un-prose-body":"var(--un-prose-invert-body)","--un-prose-headings":"var(--un-prose-invert-headings)","--un-prose-links":"var(--un-prose-invert-links)","--un-prose-lists":"var(--un-prose-invert-lists)","--un-prose-hr":"var(--un-prose-invert-hr)","--un-prose-captions":"var(--un-prose-invert-captions)","--un-prose-code":"var(--un-prose-invert-code)","--un-prose-borders":"var(--un-prose-invert-borders)","--un-prose-bg-soft":"var(--un-prose-invert-bg-soft)"}),{layer:"typography"}]],variants:[{name:"typography element modifiers",match:s=>{if(s.startsWith(`${n}-`)){const l=new RegExp(`^${n}-(\\w+)[:-].+$`),c=s.match(l)?.[1];if(c){const u=$R(c);if(u?.length)return{matcher:s.slice(n.length+c.length+2),selector:d=>{const f=`:not(:where(.not-${n},.not-${n} *))`;return o?u.map(g=>`${d} ${g}`).join(","):`${d} :is(:where(${u})${f})`}}}}}}],preflights:[{layer:"typography",getCSS:s=>{if(e.size>0)return FR(s,{escapedSelectors:e,...t,selectorName:n})}}]}};function DR(t){let e,n,r=2166136261;for(e=0,n=t.length;e<n;e++)r^=t.charCodeAt(e),r+=(r<<1)+(r<<4)+(r<<7)+(r<<8)+(r<<24);return`00000${(r>>>0).toString(36)}`.slice(-6)}function LR(t,e,n,r){for(const i of Array.from(t.matchAll(n)))if(i!=null){const a=i[0],o=`${r}${DR(a)}`;e.set(o,a),t=t.replace(a,o)}return t}function IR(t,e){for(const[n,r]of e.entries())t=t.replaceAll(n,r);return t}const NR=/\/\/#\s*sourceMappingURL=.*\n?/g;function jR(t){return t.includes("sourceMappingURL=")?t.replace(NR,""):t}const BR=/(?:[\w&:[\]-]|\[\S{1,64}=\S{1,64}\]){1,64}\[\\?['"]?\S{1,64}?['"]\]\]?[\w:-]{0,64}/g,UR=/\[(\\\W|[\w-]){1,64}:[^\s:]{0,64}?("\S{1,64}?"|'\S{1,64}?'|`\S{1,64}?`|[^\s:]{1,64}?)[^\s:]{0,64}?\)?\]/g,zR=/^\[(?:\\\W|[\w-]){1,64}:['"]?\S{1,64}?['"]?\]$/;function HR(t){const e=[];for(const i of t.matchAll(UR))i.index!==0&&!/^[\s'"`]/.test(t[i.index-1]??"")||e.push(i[0]);for(const i of t.matchAll(BR))e.push(i[0]);const n=new Map,r="@unocss-skip-arbitrary-brackets";return t=LR(t,n,/-\[(?!&.+?;)[^\]]*\]/g,r),t&&t.split(pw).forEach(i=>{i.includes(r)&&(i=IR(i,n)),CM(i)&&!zR.test(i)&&e.push(i)}),e}function WR(){return{name:"@unocss/extractor-arbitrary-variants",order:0,extract({code:t}){return HR(jR(t))}}}const VR="@unocss/preset-wind4",ag="$$mini-no-negative",oh={transparent:"transparent",current:"currentColor",inherit:"inherit"},cr={l:["-left"],r:["-right"],t:["-top"],b:["-bottom"],s:["-inline-start"],e:["-inline-end"],x:["-inline"],y:["-block"],"":[""],bs:["-block-start"],be:["-block-end"],is:["-inline-start"],ie:["-inline-end"],block:["-block-start","-block-end"],inline:["-inline-start","-inline-end"]},sb={...cr,x:["-inset-inline"],y:["-inset-block"],s:["-inset-inline-start"],start:["-inset-inline-start"],e:["-inset-inline-end"],end:["-inset-inline-end"],bs:["-inset-block-start"],be:["-inset-block-end"],is:["-inset-inline-start"],ie:["-inset-inline-end"],block:["-inset-block-start","-inset-block-end"],inline:["-inset-inline-start","-inset-inline-end"]},Ef={l:["-top-left","-bottom-left"],r:["-top-right","-bottom-right"],t:["-top-left","-top-right"],b:["-bottom-left","-bottom-right"],tl:["-top-left"],lt:["-top-left"],tr:["-top-right"],rt:["-top-right"],bl:["-bottom-left"],lb:["-bottom-left"],br:["-bottom-right"],rb:["-bottom-right"],"":[""],bs:["-start-start","-start-end"],be:["-end-start","-end-end"],s:["-end-start","-start-start"],is:["-end-start","-start-start"],e:["-start-end","-end-end"],ie:["-start-end","-end-end"],ss:["-start-start"],"bs-is":["-start-start"],"is-bs":["-start-start"],se:["-start-end"],"bs-ie":["-start-end"],"ie-bs":["-start-end"],es:["-end-start"],"be-is":["-end-start"],"is-be":["-end-start"],ee:["-end-end"],"be-ie":["-end-end"],"ie-be":["-end-end"]},Mw={x:["-x"],y:["-y"],z:["-z"],"":["-x","-y"]},GR=["x","y","z"],lb=["top","top center","top left","top right","bottom","bottom center","bottom left","bottom right","left","left center","left top","left bottom","right","right center","right top","right bottom","center","center top","center bottom","center left","center right","center center"],Vr=Object.assign({},...lb.map(t=>({[t.replace(/ /,"-")]:t})),...lb.map(t=>({[t.replace(/\b(\w)\w+/g,"$1").replace(/ /,"")]:t}))),qt=["inherit","initial","revert","revert-layer","unset"],Cm=/^(calc|clamp|min|max)\s*\((.+)\)(.*)/,Rw=/^(var)\s*\((.+)\)(.*)/,dc=/^(-?\d*(?:\.\d+)?)(px|pt|pc|%|r?(?:em|ex|lh|cap|ch|ic)|(?:[sld]?v|cq)(?:[whib]|min|max)|in|cm|mm|rpx)?$/i,XR=/^(-?\d*(?:\.\d+)?)$/,$w=/^(px|[sld]?v[wh])$/i,Fw={px:1,vw:100,vh:100,svw:100,svh:100,dvw:100,dvh:100,lvh:100,lvw:100},km=/^\[(color|image|length|size|position|quoted|string|number|family):/i,qR=/,(?![^()]*\))/g,YR=["color","border-color","background-color","outline-color","text-decoration-color","flex-grow","flex","flex-shrink","caret-color","font","gap","opacity","visibility","z-index","font-weight","zoom","text-shadow","transform","box-shadow","border","background-position","left","right","top","bottom","object-position","max-height","min-height","max-width","min-width","height","width","border-width","margin","padding","outline-width","outline-offset","font-size","line-height","text-indent","vertical-align","border-spacing","letter-spacing","word-spacing","stroke","filter","backdrop-filter","fill","mask","mask-size","mask-border","clip-path","clip","border-radius"];function Yr(t){return+t.toFixed(10)}function KR(t){const e=t.match(dc);if(!e)return;const[,n,r]=e,i=Number.parseFloat(n);if(r&&!Number.isNaN(i))return`${Yr(i)}${r}`}function ZR(t){if(t==="auto"||t==="a")return"auto"}function JR(t){if(!t)return;if($w.test(t))return`${Fw[t]}${t}`;const e=t.match(dc);if(!e)return;const[,n,r]=e,i=Number.parseFloat(n);if(!Number.isNaN(i))return i===0?"0":r?`${Yr(i)}${r}`:`${Yr(i/4)}rem`}function QR(t){if($w.test(t))return`${Fw[t]}${t}`;const e=t.match(dc);if(!e)return;const[,n,r]=e,i=Number.parseFloat(n);if(!Number.isNaN(i))return r?`${Yr(i)}${r}`:`${Yr(i)}px`}function Pw(t){if(!XR.test(t))return;const e=Number.parseFloat(t);if(!Number.isNaN(e))return Yr(e)}function e$(t){t.endsWith("%")&&(t=t.slice(0,-1));const e=Pw(t);if(e!=null)return`${e}%`}function t$(t){if(!t)return;if(t==="full")return"100%";const[e,n]=t.split("/"),r=Number.parseFloat(e)/Number.parseFloat(n);if(!Number.isNaN(r))return r===0?"0":`${Yr(r*100)}%`}function qa(t,e){if(t&&t.startsWith("[")&&t.endsWith("]")){let n,r;const i=t.match(km);if(!i)n=t.slice(1,-1);else{if(!e)r=i[1];else if(i[1]!==e)return;n=t.slice(i[0].length,-1)}if(!n||n==='=""')return;if(n.startsWith("--")){const[o,s]=n.slice(2).split(",");n=`var(--${Lo(o)}${s?`, ${s}`:""})`}let a=0;for(const o of n)if(o==="[")a+=1;else if(o==="]"&&(a-=1,a<0))return;if(a)return;switch(r){case"string":return n.replace(/(^|[^\\])_/g,"$1 ").replace(/\\_/g,"_");case"quoted":return n.replace(/(^|[^\\])_/g,"$1 ").replace(/\\_/g,"_").replace(/(["\\])/g,"\\$1").replace(/^(.+)$/,'"$1"')}return n.replace(/(url\(.*?\))/g,o=>o.replace(/_/g,"\\_")).replace(/(^|[^\\])_/g,"$1 ").replace(/\\_/g,"_").replace(/(?:calc|clamp|max|min)\((.*)/g,o=>{const s=[];return o.replace(/var\((--.+?)[,)]/g,(l,c)=>(s.push(c),l.replace(c,"--un-calc"))).replace(/(-?\d*\.?\d(?!-\d.+[,)](?![^+\-/*])\D)(?:%|[a-z]+)?|\))([+\-/*])/g,"$1 $2 ").replace(/--un-calc/g,()=>s.shift())})}}function n$(t){return qa(t)}function r$(t){return qa(t,"color")}function i$(t){return qa(t,"length")||qa(t,"size")}function a$(t){return qa(t,"position")}function o$(t){return qa(t,"family")}function s$(t){return qa(t,"number")}function l$(t){if(t.startsWith("var("))return t;const e=t.match(/^(?:\$|--)([^\s'"`;{}]+)$/);if(e){const[n,r]=e[1].split(",");return`var(--${Lo(n)}${r?`, ${r}`:""})`}}function c$(t){const e=t.match(/^(-?[0-9.]+)(s|ms)?$/i);if(!e)return;const[,n,r]=e,i=Number.parseFloat(n);if(!Number.isNaN(i))return i===0&&!r?"0s":r?`${Yr(i)}${r}`:`${Yr(i)}ms`}function u$(t){const e=t.match(/^(-?[0-9.]+)(deg|rad|grad|turn)?$/i);if(!e)return;const[,n,r]=e,i=Number.parseFloat(n);if(!Number.isNaN(i))return i===0?"0":r?`${Yr(i)}${r}`:`${Yr(i)}deg`}function d$(t){if(qt.includes(t))return t}function h$(t){if(t.split(",").every(e=>YR.includes(e)))return t}function f$(t){if(["top","left","right","bottom","center"].includes(t))return t}function p$(t){if(t==="none")return"none"}const g$={__proto__:null,auto:ZR,bracket:n$,bracketOfColor:r$,bracketOfFamily:o$,bracketOfLength:i$,bracketOfNumber:s$,bracketOfPosition:a$,cssvar:l$,degree:u$,fraction:t$,global:d$,none:p$,number:Pw,numberWithUnit:KR,percent:e$,position:f$,properties:h$,px:QR,rem:JR,time:c$},m$=_R(g$),Z=m$;function hi(t,e){const n=Z.number(t)??e;if(n!=null){let r=Number(n);return String(n).endsWith("%")&&(r=Number(String(n).slice(0,-1))/100),r}}function Nt(t){function e(r){const i=r.match(dc);if(i){const[,a,o]=i,s=Number.parseFloat(a);if(!Number.isNaN(s))return[s,o]}return[void 0,void 0]}function n(r){let i,a;if(r.spacing?.DEFAULT){const[o,s]=e(r.spacing.DEFAULT);o!=null&&s!=null&&(i=o,a=s)}return Object.entries(r.spacing??{}).reduce((o,[s,l])=>{const[c,u]=e(l);return c!=null&&u!=null&&u===a?o[s]=c/i:o[s]=l,o},{})}return([r,i,a],{theme:o})=>{if(a!=null&&i!=null){const s=n(o);let l;const c=a.startsWith("-");if(c&&(a=a.slice(1)),l=hi(a,s[a]),l!=null)return Number.isNaN(l)?(nt("spacing",a),cr[i].map(u=>[`${t}${u}`,c?`calc(var(--spacing-${a} * -1)`:`var(--spacing-${a})`])):(nt("spacing"),cr[i].map(u=>[`${t}${u}`,`calc(var(--spacing) * ${c?"-":""}${l})`]));if(l=Z.bracket.cssvar.global.auto.fraction.rem(c?`-${a}`:a),l!=null)return cr[i].map(u=>[`${t}${u}`,l])}}}function sh(t,e){let n;const[r,...i]=Gl(t,["/",":"],3)??[];if(r!=null){const g=(r.match(km)??[])[1];(g==null||g==="color")&&(n=[r,...i])}if(!n)return;let a,[o,s,l]=n;eb(s)||eb(Z.bracket(s??""))?l=s:a=s;const c=o.replace(/([a-z])(\d)/g,"$1-$2").split(/-/g),[u]=c;if(!u)return;let{no:d,keys:f,color:h}=v$(e,c)??{};if(!h){const g=Z.bracketOfColor(o),m=g||o;if(Z.numberWithUnit(m))return;/^#[\da-f]+$/i.test(m)?h=m:/^hex-[\da-fA-F]+$/.test(m)?h=`#${m.slice(4)}`:o.startsWith("$")&&(h=Z.cssvar(o)),h=h||g}return{opacity:a,modifier:l&&Z.bracket.cssvar(l)||l,name:u,no:d,color:h??oh[u],alpha:Z.bracket.cssvar.percent(a??""),keys:f,get cssColor(){return Oo(this.color)}}}function v$(t,e){let n,r,i;const a=dd(t,"colors",e);if(typeof a=="object"?"DEFAULT"in a&&(n=a.DEFAULT,r="DEFAULT",i=[...e,r]):typeof a=="string"&&(n=a,i=e,r=e.at(-1)),!!n)return{color:n,no:r,keys:i}}function dd(t,e,n){const r=t[e];function i(a,o){if(!(!a||typeof a!="object")){if(o.length===0)return a;for(let s=o.length;s>0;s--){const l=o.slice(0,s).join("-");if(l in a){const c=a[l];return s===o.length?c:i(c,o.slice(s))}}}}return i(r,n)}function Dw(t,e,n,r){if(!t)return;const{color:i,keys:a,alpha:o,modifier:s}=t,l=r?.generator.config.envMode==="dev"&&i?` /* ${i} */`:"",c={};if(i){const u=[c];if(Object.values(oh).includes(i))c[e]=i;else{const d=`--un-${n}-opacity`,f=a?Gt("colors",a):i;let h=s??(a?"in srgb":"in oklab");!h.startsWith("in ")&&!h.startsWith("var(")&&(h=`in ${h}`),c[e]=`color-mix(${h}, ${f} ${o??`var(${d})`}, transparent)${l}`,u.push(Fe(d,{syntax:"<percentage>",initialValue:"100%"})),a&&(nt("colors",a),s||u.push({[En.parent]:"@supports (color: color-mix(in lab, red, red))",[En.noMerge]:!0,[En.shortcutsNoMerge]:!0,[e]:`color-mix(in oklab, ${f} ${o??`var(${d})`}, transparent)${l}`})),r?.theme&&ch(i,r.theme)}return u}}function cn(t,e){return([,n],r)=>{const i=sh(n??"",r.theme);if(i)return Dw(i,t,e,r)}}function Sm(t,e){const n=[];t=Pt(t);for(let r=0;r<t.length;r++){const i=Gl(t[r]," ",6);if(!i||i.length<3)return t;let a=!1;const o=i.indexOf("inset");o!==-1&&(i.splice(o,1),a=!0);let s="";const l=i.at(-1);if(Oo(i.at(0))){const c=Oo(i.shift());c&&(s=`, ${ng(c)}`)}else if(Oo(l)){const c=Oo(i.pop());c&&(s=`, ${ng(c)}`)}else l&&Rw.test(l)&&(s=`, ${i.pop()}`);n.push(`${a?"inset ":""}${i.join(" ")} var(${e}${s})`)}return n}function Em(t,e){return t!=null&&!!sh(t,e)?.color}const cb=/[a-z]+/gi,Tf=new WeakMap;function lh({theme:t,generator:e},n="breakpoint"){const r=e?.userConfig?.theme?.[n]||t[n];if(!r)return;if(Tf.has(t))return Tf.get(t);const i=Object.entries(r).sort((a,o)=>Number.parseInt(a[1].replace(cb,""))-Number.parseInt(o[1].replace(cb,""))).map(([a,o])=>({point:a,size:o}));return Tf.set(t,i),i}function rt(t,e){return qt.map(n=>[`${t}-${n}`,{[e??t]:n}])}function Fe(t,e={}){const{syntax:n="*",inherits:r=!1,initialValue:i}=e,a={[En.shortcutsNoMerge]:!0,[En.noMerge]:!0,[En.variants]:()=>[{parent:"",layer:"properties",selector:()=>`@property ${t}`}],syntax:JSON.stringify(n),inherits:r?"true":"false"};return i!=null&&(a["initial-value"]=i,x$(t,String(i))),a}function hc(t){return t!=null&&Cm.test(t)}function b$(t){return t[0]==="["&&t.slice(-1)==="]"&&(t=t.slice(1,-1)),Cm.test(t)||dc.test(t)}function y$(t){return t.replace(/(?:^|\B)([A-Z])/g,"-$1").toLowerCase()}function Lw(t,e=!1){return e?t.trim():t.trim().replace(/\s+/g," ").replace(/\/\*[\s\S]*?\*\//g,"")}const Ko=new Set([]);function nt(t,e="DEFAULT"){const n=`${t}:${Pt(e).join("-")}`;Ko.has(n)||Ko.add(n)}function Gt(t,e){return`var(--${t}-${Pt(e).join("-")})`}function ch(t,e){if(t.startsWith("var(")){const n=t.match(/var\(--([\w-]+)(?:,.*)?\)/)?.[1];if(n){const[r,...i]=n.split("-"),a=dd(e,r,i);typeof a=="string"&&(nt(r,i),ch(a,e))}}}const Zo=new Map;function x$(t,e){Zo.has(t)||Zo.set(t,e)}function w$({important:t}){if(t==null||t===!1)return[];const e=n=>n.startsWith(":is(")&&n.endsWith(")")?n:n.includes("::")?n.replace(/(.*?)((?:\s\*)?::.*)/,":is($1)$2"):`:is(${n})`;return[t===!0?n=>{n.layer!=="properties"&&n.entries.forEach(r=>{r[1]!=null&&!String(r[1]).endsWith("!important")&&(r[1]+=" !important")})}:n=>{n.selector.startsWith(t)||(n.selector=`${t} ${e(n.selector)}`)}]}function _$({variablePrefix:t}){return t!=="un-"?[n=>{n.entries.forEach(r=>{r[0]=r[0].replace(/^--un-/,`--${t}`),typeof r[1]=="string"&&(r[1]=r[1].replace(/var\(--un-/g,`var(--${t}`))})}]:[]}function C$(t){return[w$,_$].flatMap(e=>e(t))}const k$={name:"aria",match(t,e){const n=Zr("aria-",t,e.generator.config.separators);if(n){const[r,i]=n,a=Z.bracket(r)??e.theme.aria?.[r]??"";if(a)return{matcher:i,selector:o=>`${o}[aria-${a}]`}}},multiPass:!0,autocomplete:"aria-$aria"};function Bc(t){return{name:`${t}-aria`,match(e,n){const r=Zr(`${t}-aria-`,e,n.generator.config.separators);if(r){const[i,a]=r,o=Z.bracket(i)??n.theme.aria?.[i]??"";if(o)return{matcher:`${t}-[[aria-${o}]]:${a}`}}}}}const S$=[Bc("group"),Bc("peer"),Bc("parent"),Bc("previous")],ub=/(max|min)-\[([^\]]*)\]:/;function E$(){const t={};return{name:"breakpoints",match(e,n){if(ub.test(e)){const i=e.match(ub);return{matcher:e.replace(i[0],""),handle:(o,s)=>s({...o,parent:`${o.parent?`${o.parent} $$ `:""}@media (${i[1]}-width: ${i[2]})`})}}const r=(lh(n)??[]).map(({point:i,size:a},o)=>[i,a,o]);for(const[i,a,o]of r){t[i]||(t[i]=new RegExp(`^((?:([al]t-|[<~]|max-))?${i}(?:${n.generator.config.separators.join("|")}))`));const s=e.match(t[i]);if(!s)continue;const[,l]=s,c=e.slice(l.length);if(c==="container")continue;const u=l.startsWith("lt-")||l.startsWith("<")||l.startsWith("max-"),d=l.startsWith("at-")||l.startsWith("~");let f=3e3;return u?(f-=o+1,{matcher:c,handle:(h,g)=>g({...h,parent:`${h.parent?`${h.parent} $$ `:""}@media (max-width: ${tb(a)})`,parentOrder:f})}):(f+=o+1,d&&o<r.length-1?{matcher:c,handle:(h,g)=>g({...h,parent:`${h.parent?`${h.parent} $$ `:""}@media (min-width: ${a}) and (max-width: ${tb(r[o+1][1])})`,parentOrder:f})}:{matcher:c,handle:(h,g)=>g({...h,parent:`${h.parent?`${h.parent} $$ `:""}@media (min-width: ${a})`,parentOrder:f})})}},multiPass:!0,autocomplete:"(at-|lt-|max-|)$breakpoint:"}}const T$=[Pi("*",t=>({selector:`${t.selector} > *`}))];function Ss(t,e){return{name:`combinator:${t}`,match(n,r){if(!n.startsWith(t))return;const i=r.generator.config.separators;let a=uc(`${t}-`,n,i);if(!a){for(const s of i)if(n.startsWith(`${t}${s}`)){a=["",n.slice(t.length+s.length)];break}if(!a)return}let o=Z.bracket(a[0])??"";return o===""&&(o="*"),{matcher:a[1],selector:s=>`${s}${e}${o}`}},multiPass:!0}}const A$=[Ss("all"," "),Ss("children",">"),Ss("next","+"),Ss("sibling","+"),Ss("siblings","~")],O$=[Pi("svg",t=>({selector:`${t.selector} svg`}))],M$={name:"@",match(t,e){if(t.startsWith("@container"))return;const n=Zr("@",t,e.generator.config.separators);if(n){const[r,i,a]=n,o=Z.bracket(r);let s;if(o?s=Z.numberWithUnit(o):s=e.theme.container?.[r]??"",s){let l=1e3+Object.keys(e.theme.container??{}).indexOf(r);return a&&(l+=1e3),{matcher:i,handle:(c,u)=>u({...c,parent:`${c.parent?`${c.parent} $$ `:""}@container${a?` ${a} `:" "}(min-width: ${s})`,parentOrder:l})}}}},multiPass:!0};function R$(t={}){if(t?.dark==="class"||typeof t.dark=="object"){const{dark:e=".dark",light:n=".light"}=typeof t.dark=="string"?{}:t.dark;return[Pi("dark",r=>({prefix:`${e} $$ ${r.prefix}`})),Pi("light",r=>({prefix:`${n} $$ ${r.prefix}`}))]}return[Yn("dark","@media (prefers-color-scheme: dark)"),Yn("light","@media (prefers-color-scheme: light)")]}const $$=[Pi(".dark",t=>({prefix:`.dark $$ ${t.prefix}`})),Pi(".light",t=>({prefix:`.light $$ ${t.prefix}`})),Yn("@dark","@media (prefers-color-scheme: dark)"),Yn("@light","@media (prefers-color-scheme: light)"),Yn("not-dark","@media not (prefers-color-scheme: dark)")],F$={name:"data",match(t,e){const n=Zr("data-",t,e.generator.config.separators);if(n){const[r,i]=n,a=Z.bracket(r)??e.theme.data?.[r]??"";if(a)return{matcher:i,selector:o=>`${o}[data-${a}]`}}},multiPass:!0};function Uc(t){return{name:`${t}-data`,match(e,n){const r=Zr(`${t}-data-`,e,n.generator.config.separators);if(r){const[i,a,o]=r,s=Z.bracket(i)??n.theme.data?.[i]??"";if(s)return{matcher:`${t}-[[data-${s}]]${o?`/${o}`:""}:${a}`}}}}}const P$=[Uc("group"),Uc("peer"),Uc("parent"),Uc("previous")],D$=[Pi("rtl",t=>({prefix:`[dir="rtl"] $$ ${t.prefix}`})),Pi("ltr",t=>({prefix:`[dir="ltr"] $$ ${t.prefix}`}))];function L$(){let t;return{name:"important",match(e,n){t||(t=new RegExp(`^(important(?:${n.generator.config.separators.join("|")})|!)`));let r;const i=e.match(t);if(i?r=e.slice(i[0].length):e.endsWith("!")&&(r=e.slice(0,-1)),r)return{matcher:r,body:a=>(a.forEach(o=>{o[1]!=null&&(o[1]+=" !important")}),a)}}}}const I$=Yn("noscript","@media (scripting: none)"),N$={name:"scripting",match(t,e){const n=Zr(["script-","scripting-"],t,e.generator.config.separators);if(n){const[r,i]=n;if(["none","initial-only","enabled"].includes(r))return{matcher:i,handle:(o,s)=>s({...o,parent:`${o.parent?`${o.parent} $$ `:""}@media (scripting: ${r})`})}}},multiPass:!0,autocomplete:["(scripting|script)-(none|initial-only|enabled)"]},j$=Yn("print","@media print"),B$={name:"media",match(t,e){const n=Zr("media-",t,e.generator.config.separators);if(n){const[r,i]=n;let a=Z.bracket(r)??"";if(a===""&&(a=e.theme.media?.[r]??""),a)return{matcher:i,handle:(o,s)=>s({...o,parent:`${o.parent?`${o.parent} $$ `:""}@media ${a}`})}}},multiPass:!0,autocomplete:"media-$media"},U$=[Yn("contrast-more","@media (prefers-contrast: more)"),Yn("contrast-less","@media (prefers-contrast: less)")],z$=[Yn("motion-reduce","@media (prefers-reduced-motion: reduce)"),Yn("motion-safe","@media (prefers-reduced-motion: no-preference)")],H$=[Yn("landscape","@media (orientation: landscape)"),Yn("portrait","@media (orientation: portrait)")],W$=[Yn("forced-colors","@media (forced-colors: active)")],V$={name:"selector",match(t,e){const n=uc("selector-",t,e.generator.config.separators);if(n){const[r,i]=n,a=Z.bracket(r);if(a)return{matcher:i,selector:()=>a}}}},G$={name:"layer",match(t,e){const n=Zr("layer-",t,e.generator.config.separators);if(n){const[r,i]=n,a=Z.bracket(r)??r;if(a)return{matcher:i,handle:(o,s)=>s({...o,parent:`${o.parent?`${o.parent} $$ `:""}@layer ${a}`})}}}},X$={name:"uno-layer",match(t,e){const n=Zr("uno-layer-",t,e.generator.config.separators);if(n){const[r,i]=n,a=Z.bracket(r)??r;if(a)return{matcher:i,layer:a}}}},q$={name:"scope",match(t,e){const n=uc("scope-",t,e.generator.config.separators);if(n){const[r,i]=n,a=Z.bracket(r);if(a)return{matcher:i,selector:o=>`${a} $$ ${o}`}}}},Y$={name:"variables",match(t,e){if(!t.startsWith("["))return;const[n,r]=wm(t,"[","]")??[];if(!(n&&r))return;let i;for(const s of e.generator.config.separators)if(r.startsWith(s)){i=r.slice(s.length);break}if(i==null)return;const a=Z.bracket(n)??"",o=a.startsWith("@");if(o||a.includes("&"))return{matcher:i,handle(s,l){const c=o?{parent:`${s.parent?`${s.parent} $$ `:""}${a}`}:{selector:a.replace(/&/g,s.selector)};return l({...s,...c})}}},multiPass:!0},K$={name:"theme-variables",match(t,e){if(yR(t))return{matcher:t,handle(n,r){return r({...n,entries:JSON.parse(xR(JSON.stringify(n.entries),e.theme))})}}}},Z$=[Pi("@hover",t=>({parent:`${t.parent?`${t.parent} $$ `:""}@media (hover: hover) and (pointer: fine)`,selector:`${t.selector||""}:hover`}))],Iw=/^-?[0-9.]+(?:[a-z]+|%)?$/,Nw=/-?[0-9.]+(?:[a-z]+|%)?/,J$=[/\b(opacity|color|flex|backdrop-filter|^filter|transform)\b/];function Q$(t){const e=t.match(Cm)||t.match(Rw);if(e){const[n,r]=ah(`(${e[2]})${e[3]}`,"(",")"," ")??[];if(n)return`calc(${e[1]}${n} * -1)${r?` ${r}`:""}`}}const eF=/\b(hue-rotate)\s*(\(.*)/;function tF(t){const e=t.match(eF);if(e){const[n,r]=ah(e[2],"(",")"," ")??[];if(n){const i=Iw.test(n.slice(1,-1))?n.replace(Nw,a=>a.startsWith("-")?a.slice(1):`-${a}`):`(calc(${n} * -1))`;return`${e[1]}${i}${r?` ${r}`:""}`}}}const nF={name:"negative",match(t){if(t.startsWith("-"))return{matcher:t.slice(1),body:e=>{if(e.find(r=>r[0]===ag))return;let n=!1;return e.forEach(r=>{if(Pt(r[2]).includes(ag))return;const i=r[1]?.toString();if(!i||i==="0"||J$.some(s=>s.test(r[0])))return;const a=Q$(i);if(a){r[1]=a,n=!0;return}const o=tF(i);if(o){r[1]=o,n=!0;return}Iw.test(i)&&(r[1]=i.replace(Nw,s=>s.startsWith("-")?s.slice(1):`-${s}`),n=!0)}),n?e:[]}}}},rF=(t,{theme:e})=>{const n=t.match(/^(.*)\b(placeholder-)(.+)$/);if(n){const[,r="",i,a]=n;if(Em(a,e)||iF(a))return{matcher:`${r}placeholder-$ ${i}${a}`}}};function iF(t){const e=t.match(/^op(?:acity)?-?(.+)$/);return e&&e[1]!=null?Z.bracket.percent(e[1])!=null:!1}function aF(){return ER({h:Z})}function oF(){return TR({getBracket:wm,h:Z})}function sF(t={}){return AR(t,{h:Z,variantGetBracket:uc})}const lF=MR(),cF={name:"starting",match(t){if(t.startsWith("starting:"))return{matcher:t.slice(9),handle:(e,n)=>n({...e,parent:"@starting-style"})}}},uF={name:"supports",match(t,e){const n=Zr("supports-",t,e.generator.config.separators);if(n){const[r,i]=n;let a=Z.bracket(r)??"";if(a===""&&(a=e.theme.supports?.[r]??""),a)return a.startsWith("(")&&a.endsWith(")")||(a=`(${a})`),{matcher:i,handle:(o,s)=>s({...o,parent:`${o.parent?`${o.parent} $$ `:""}@supports ${a}`})}}},multiPass:!0};function dF(t){return[k$,F$,G$,V$,X$,nF,cF,L$(),uF,I$,N$,j$,B$,...U$,...z$,...H$,...W$,E$(),...A$,...O$,rF,...aF(),oF(),...sF(t),lF,...R$(t),...$$,...D$,q$,...T$,M$,Y$,...P$,...S$,K$,...Z$].flat()}const jw={black:"#000",white:"#fff",slate:{50:"oklch(98.4% 0.003 247.858)",100:"oklch(96.8% 0.007 247.896)",200:"oklch(92.9% 0.013 255.508)",300:"oklch(86.9% 0.022 252.894)",400:"oklch(70.4% 0.04 256.788)",500:"oklch(55.4% 0.046 257.417)",600:"oklch(44.6% 0.043 257.281)",700:"oklch(37.2% 0.044 257.287)",800:"oklch(27.9% 0.041 260.031)",900:"oklch(20.8% 0.042 265.755)",950:"oklch(12.9% 0.042 264.695)"},gray:{50:"oklch(98.5% 0.002 247.839)",100:"oklch(96.7% 0.003 264.542)",200:"oklch(92.8% 0.006 264.531)",300:"oklch(87.2% 0.01 258.338)",400:"oklch(70.7% 0.022 261.325)",500:"oklch(55.1% 0.027 264.364)",600:"oklch(44.6% 0.03 256.802)",700:"oklch(37.3% 0.034 259.733)",800:"oklch(27.8% 0.033 256.848)",900:"oklch(21% 0.034 264.665)",950:"oklch(13% 0.028 261.692)"},zinc:{50:"oklch(98.5% 0 0)",100:"oklch(96.7% 0.001 286.375)",200:"oklch(92% 0.004 286.32)",300:"oklch(87.1% 0.006 286.286)",400:"oklch(70.5% 0.015 286.067)",500:"oklch(55.2% 0.016 285.938)",600:"oklch(44.2% 0.017 285.786)",700:"oklch(37% 0.013 285.805)",800:"oklch(27.4% 0.006 286.033)",900:"oklch(21% 0.006 285.885)",950:"oklch(14.1% 0.005 285.823)"},neutral:{50:"oklch(98.5% 0 0)",100:"oklch(97% 0 0)",200:"oklch(92.2% 0 0)",300:"oklch(87% 0 0)",400:"oklch(70.8% 0 0)",500:"oklch(55.6% 0 0)",600:"oklch(43.9% 0 0)",700:"oklch(37.1% 0 0)",800:"oklch(26.9% 0 0)",900:"oklch(20.5% 0 0)",950:"oklch(14.5% 0 0)"},stone:{50:"oklch(98.5% 0.001 106.423)",100:"oklch(97% 0.001 106.424)",200:"oklch(92.3% 0.003 48.717)",300:"oklch(86.9% 0.005 56.366)",400:"oklch(70.9% 0.01 56.259)",500:"oklch(55.3% 0.013 58.071)",600:"oklch(44.4% 0.011 73.639)",700:"oklch(37.4% 0.01 67.558)",800:"oklch(26.8% 0.007 34.298)",900:"oklch(21.6% 0.006 56.043)",950:"oklch(14.7% 0.004 49.25)"},red:{50:"oklch(97.1% 0.013 17.38)",100:"oklch(93.6% 0.032 17.717)",200:"oklch(88.5% 0.062 18.334)",300:"oklch(80.8% 0.114 19.571)",400:"oklch(70.4% 0.191 22.216)",500:"oklch(63.7% 0.237 25.331)",600:"oklch(57.7% 0.245 27.325)",700:"oklch(50.5% 0.213 27.518)",800:"oklch(44.4% 0.177 26.899)",900:"oklch(39.6% 0.141 25.723)",950:"oklch(25.8% 0.092 26.042)"},orange:{50:"oklch(98% 0.016 73.684)",100:"oklch(95.4% 0.038 75.164)",200:"oklch(90.1% 0.076 70.697)",300:"oklch(83.7% 0.128 66.29)",400:"oklch(75% 0.183 55.934)",500:"oklch(70.5% 0.213 47.604)",600:"oklch(64.6% 0.222 41.116)",700:"oklch(55.3% 0.195 38.402)",800:"oklch(47% 0.157 37.304)",900:"oklch(40.8% 0.123 38.172)",950:"oklch(26.6% 0.079 36.259)"},amber:{50:"oklch(98.7% 0.022 95.277)",100:"oklch(96.2% 0.059 95.617)",200:"oklch(92.4% 0.12 95.746)",300:"oklch(87.9% 0.169 91.605)",400:"oklch(82.8% 0.189 84.429)",500:"oklch(76.9% 0.188 70.08)",600:"oklch(66.6% 0.179 58.318)",700:"oklch(55.5% 0.163 48.998)",800:"oklch(47.3% 0.137 46.201)",900:"oklch(41.4% 0.112 45.904)",950:"oklch(27.9% 0.077 45.635)"},yellow:{50:"oklch(98.7% 0.026 102.212)",100:"oklch(97.3% 0.071 103.193)",200:"oklch(94.5% 0.129 101.54)",300:"oklch(90.5% 0.182 98.111)",400:"oklch(85.2% 0.199 91.936)",500:"oklch(79.5% 0.184 86.047)",600:"oklch(68.1% 0.162 75.834)",700:"oklch(55.4% 0.135 66.442)",800:"oklch(47.6% 0.114 61.907)",900:"oklch(42.1% 0.095 57.708)",950:"oklch(28.6% 0.066 53.813)"},lime:{50:"oklch(98.6% 0.031 120.757)",100:"oklch(96.7% 0.067 122.328)",200:"oklch(93.8% 0.127 124.321)",300:"oklch(89.7% 0.196 126.665)",400:"oklch(84.1% 0.238 128.85)",500:"oklch(76.8% 0.233 130.85)",600:"oklch(64.8% 0.2 131.684)",700:"oklch(53.2% 0.157 131.589)",800:"oklch(45.3% 0.124 130.933)",900:"oklch(40.5% 0.101 131.063)",950:"oklch(27.4% 0.072 132.109)"},green:{50:"oklch(98.2% 0.018 155.826)",100:"oklch(96.2% 0.044 156.743)",200:"oklch(92.5% 0.084 155.995)",300:"oklch(87.1% 0.15 154.449)",400:"oklch(79.2% 0.209 151.711)",500:"oklch(72.3% 0.219 149.579)",600:"oklch(62.7% 0.194 149.214)",700:"oklch(52.7% 0.154 150.069)",800:"oklch(44.8% 0.119 151.328)",900:"oklch(39.3% 0.095 152.535)",950:"oklch(26.6% 0.065 152.934)"},emerald:{50:"oklch(97.9% 0.021 166.113)",100:"oklch(95% 0.052 163.051)",200:"oklch(90.5% 0.093 164.15)",300:"oklch(84.5% 0.143 164.978)",400:"oklch(76.5% 0.177 163.223)",500:"oklch(69.6% 0.17 162.48)",600:"oklch(59.6% 0.145 163.225)",700:"oklch(50.8% 0.118 165.612)",800:"oklch(43.2% 0.095 166.913)",900:"oklch(37.8% 0.077 168.94)",950:"oklch(26.2% 0.051 172.552)"},teal:{50:"oklch(98.4% 0.014 180.72)",100:"oklch(95.3% 0.051 180.801)",200:"oklch(91% 0.096 180.426)",300:"oklch(85.5% 0.138 181.071)",400:"oklch(77.7% 0.152 181.912)",500:"oklch(70.4% 0.14 182.503)",600:"oklch(60% 0.118 184.704)",700:"oklch(51.1% 0.096 186.391)",800:"oklch(43.7% 0.078 188.216)",900:"oklch(38.6% 0.063 188.416)",950:"oklch(27.7% 0.046 192.524)"},cyan:{50:"oklch(98.4% 0.019 200.873)",100:"oklch(95.6% 0.045 203.388)",200:"oklch(91.7% 0.08 205.041)",300:"oklch(86.5% 0.127 207.078)",400:"oklch(78.9% 0.154 211.53)",500:"oklch(71.5% 0.143 215.221)",600:"oklch(60.9% 0.126 221.723)",700:"oklch(52% 0.105 223.128)",800:"oklch(45% 0.085 224.283)",900:"oklch(39.8% 0.07 227.392)",950:"oklch(30.2% 0.056 229.695)"},sky:{50:"oklch(97.7% 0.013 236.62)",100:"oklch(95.1% 0.026 236.824)",200:"oklch(90.1% 0.058 230.902)",300:"oklch(82.8% 0.111 230.318)",400:"oklch(74.6% 0.16 232.661)",500:"oklch(68.5% 0.169 237.323)",600:"oklch(58.8% 0.158 241.966)",700:"oklch(50% 0.134 242.749)",800:"oklch(44.3% 0.11 240.79)",900:"oklch(39.1% 0.09 240.876)",950:"oklch(29.3% 0.066 243.157)"},blue:{50:"oklch(97% 0.014 254.604)",100:"oklch(93.2% 0.032 255.585)",200:"oklch(88.2% 0.059 254.128)",300:"oklch(80.9% 0.105 251.813)",400:"oklch(70.7% 0.165 254.624)",500:"oklch(62.3% 0.214 259.815)",600:"oklch(54.6% 0.245 262.881)",700:"oklch(48.8% 0.243 264.376)",800:"oklch(42.4% 0.199 265.638)",900:"oklch(37.9% 0.146 265.522)",950:"oklch(28.2% 0.091 267.935)"},indigo:{50:"oklch(96.2% 0.018 272.314)",100:"oklch(93% 0.034 272.788)",200:"oklch(87% 0.065 274.039)",300:"oklch(78.5% 0.115 274.713)",400:"oklch(67.3% 0.182 276.935)",500:"oklch(58.5% 0.233 277.117)",600:"oklch(51.1% 0.262 276.966)",700:"oklch(45.7% 0.24 277.023)",800:"oklch(39.8% 0.195 277.366)",900:"oklch(35.9% 0.144 278.697)",950:"oklch(25.7% 0.09 281.288)"},violet:{50:"oklch(96.9% 0.016 293.756)",100:"oklch(94.3% 0.029 294.588)",200:"oklch(89.4% 0.057 293.283)",300:"oklch(81.1% 0.111 293.571)",400:"oklch(70.2% 0.183 293.541)",500:"oklch(60.6% 0.25 292.717)",600:"oklch(54.1% 0.281 293.009)",700:"oklch(49.1% 0.27 292.581)",800:"oklch(43.2% 0.232 292.759)",900:"oklch(38% 0.189 293.745)",950:"oklch(28.3% 0.141 291.089)"},purple:{50:"oklch(97.7% 0.014 308.299)",100:"oklch(94.6% 0.033 307.174)",200:"oklch(90.2% 0.063 306.703)",300:"oklch(82.7% 0.119 306.383)",400:"oklch(71.4% 0.203 305.504)",500:"oklch(62.7% 0.265 303.9)",600:"oklch(55.8% 0.288 302.321)",700:"oklch(49.6% 0.265 301.924)",800:"oklch(43.8% 0.218 303.724)",900:"oklch(38.1% 0.176 304.987)",950:"oklch(29.1% 0.149 302.717)"},fuchsia:{50:"oklch(97.7% 0.017 320.058)",100:"oklch(95.2% 0.037 318.852)",200:"oklch(90.3% 0.076 319.62)",300:"oklch(83.3% 0.145 321.434)",400:"oklch(74% 0.238 322.16)",500:"oklch(66.7% 0.295 322.15)",600:"oklch(59.1% 0.293 322.896)",700:"oklch(51.8% 0.253 323.949)",800:"oklch(45.2% 0.211 324.591)",900:"oklch(40.1% 0.17 325.612)",950:"oklch(29.3% 0.136 325.661)"},pink:{50:"oklch(97.1% 0.014 343.198)",100:"oklch(94.8% 0.028 342.258)",200:"oklch(89.9% 0.061 343.231)",300:"oklch(82.3% 0.12 346.018)",400:"oklch(71.8% 0.202 349.761)",500:"oklch(65.6% 0.241 354.308)",600:"oklch(59.2% 0.249 0.584)",700:"oklch(52.5% 0.223 3.958)",800:"oklch(45.9% 0.187 3.815)",900:"oklch(40.8% 0.153 2.432)",950:"oklch(28.4% 0.109 3.907)"},rose:{50:"oklch(96.9% 0.015 12.422)",100:"oklch(94.1% 0.03 12.58)",200:"oklch(89.2% 0.058 10.001)",300:"oklch(81% 0.117 11.638)",400:"oklch(71.2% 0.194 13.428)",500:"oklch(64.5% 0.246 16.439)",600:"oklch(58.6% 0.253 17.585)",700:"oklch(51.4% 0.222 16.935)",800:"oklch(45.5% 0.188 13.697)",900:"oklch(41% 0.159 10.272)",950:"oklch(27.1% 0.105 12.094)"},light:{50:"oklch(99.4% 0 0)",100:"oklch(99.11% 0 0)",200:"oklch(98.51% 0 0)",300:"oklch(98.16% 0.0017 247.84)",400:"oklch(97.31% 0 0)",500:"oklch(96.12% 0 0)",600:"oklch(96.32% 0.0034 247.86)",700:"oklch(94.17% 0.0052 247.88)",800:"oklch(91.09% 0.007 247.9)",900:"oklch(90.72% 0.0051 228.82)",950:"oklch(89.23% 0.006 239.83)"},dark:{50:"oklch(40.91% 0 0)",100:"oklch(35.62% 0 0)",200:"oklch(31.71% 0 0)",300:"oklch(29.72% 0 0)",400:"oklch(25.2% 0 0)",500:"oklch(23.93% 0 0)",600:"oklch(22.73% 0.0038 286.09)",700:"oklch(22.21% 0 0)",800:"oklch(20.9% 0 0)",900:"oklch(16.84% 0 0)",950:"oklch(13.44% 0 0)"}};Object.values(jw).forEach(t=>{typeof t!="string"&&t!==void 0&&(t.DEFAULT=t.DEFAULT||t[400])});const hF={keyframes:{pulse:"{0%, 100% {opacity:1} 50% {opacity:.5}}",bounce:"{0%, 100% {transform:translateY(-25%);animation-timing-function:cubic-bezier(0.8,0,1,1)} 50% {transform:translateY(0);animation-timing-function:cubic-bezier(0,0,0.2,1)}}",spin:"{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}",ping:"{0%{transform:scale(1);opacity:1}75%,100%{transform:scale(2);opacity:0}}","bounce-alt":"{from,20%,53%,80%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1);transform:translate3d(0,0,0)}40%,43%{animation-timing-function:cubic-bezier(0.755,0.05,0.855,0.06);transform:translate3d(0,-30px,0)}70%{animation-timing-function:cubic-bezier(0.755,0.05,0.855,0.06);transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}",flash:"{from,50%,to{opacity:1}25%,75%{opacity:0}}","pulse-alt":"{from{transform:scale3d(1,1,1)}50%{transform:scale3d(1.05,1.05,1.05)}to{transform:scale3d(1,1,1)}}","rubber-band":"{from{transform:scale3d(1,1,1)}30%{transform:scale3d(1.25,0.75,1)}40%{transform:scale3d(0.75,1.25,1)}50%{transform:scale3d(1.15,0.85,1)}65%{transform:scale3d(0.95,1.05,1)}75%{transform:scale3d(1.05,0.95,1)}to{transform:scale3d(1,1,1)}}","shake-x":"{from,to{transform:translate3d(0,0,0)}10%,30%,50%,70%,90%{transform:translate3d(-10px,0,0)}20%,40%,60%,80%{transform:translate3d(10px,0,0)}}","shake-y":"{from,to{transform:translate3d(0,0,0)}10%,30%,50%,70%,90%{transform:translate3d(0,-10px,0)}20%,40%,60%,80%{transform:translate3d(0,10px,0)}}","head-shake":"{0%{transform:translateX(0)}6.5%{transform:translateX(-6px) rotateY(-9deg)}18.5%{transform:translateX(5px) rotateY(7deg)}31.5%{transform:translateX(-3px) rotateY(-5deg)}43.5%{transform:translateX(2px) rotateY(3deg)}50%{transform:translateX(0)}}",swing:"{20%{transform:rotate3d(0,0,1,15deg)}40%{transform:rotate3d(0,0,1,-10deg)}60%{transform:rotate3d(0,0,1,5deg)}80%{transform:rotate3d(0,0,1,-5deg)}to{transform:rotate3d(0,0,1,0deg)}}",tada:"{from{transform:scale3d(1,1,1)}10%,20%{transform:scale3d(0.9,0.9,0.9) rotate3d(0,0,1,-3deg)}30%,50%,70%,90%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,3deg)}40%,60%,80%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,-3deg)}to{transform:scale3d(1,1,1)}}",wobble:"{from{transform:translate3d(0,0,0)}15%{transform:translate3d(-25%,0,0) rotate3d(0,0,1,-5deg)}30%{transform:translate3d(20%,0,0) rotate3d(0,0,1,3deg)}45%{transform:translate3d(-15%,0,0) rotate3d(0,0,1,-3deg)}60%{transform:translate3d(10%,0,0) rotate3d(0,0,1,2deg)}75%{transform:translate3d(-5%,0,0) rotate3d(0,0,1,-1deg)}to{transform:translate3d(0,0,0)}}",jello:"{from,11.1%,to{transform:translate3d(0,0,0)}22.2%{transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{transform:skewX(6.25deg) skewY(6.25deg)}44.4%{transform:skewX(-3.125deg)skewY(-3.125deg)}55.5%{transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{transform:skewX(-0.78125deg) skewY(-0.78125deg)}77.7%{transform:skewX(0.390625deg) skewY(0.390625deg)}88.8%{transform:skewX(-0.1953125deg) skewY(-0.1953125deg)}}","heart-beat":"{0%{transform:scale(1)}14%{transform:scale(1.3)}28%{transform:scale(1)}42%{transform:scale(1.3)}70%{transform:scale(1)}}",hinge:"{0%{transform-origin:top left;animation-timing-function:ease-in-out}20%,60%{transform:rotate3d(0,0,1,80deg);transform-origin:top left;animation-timing-function:ease-in-out}40%,80%{transform:rotate3d(0,0,1,60deg);transform-origin:top left;animation-timing-function:ease-in-out}to{transform:translate3d(0,700px,0);opacity:0}}","jack-in-the-box":"{from{opacity:0;transform-origin:center bottom;transform:scale(0.1) rotate(30deg)}50%{transform:rotate(-10deg)}70%{transform:rotate(3deg)}to{transform:scale(1)}}","light-speed-in-left":"{from{opacity:0;transform:translate3d(-100%,0,0) skewX(-30deg)}60%{opacity:1;transform:skewX(20deg)}80%{transform:skewX(-5deg)}to{transform:translate3d(0,0,0)}}","light-speed-in-right":"{from{opacity:0;transform:translate3d(100%,0,0) skewX(-30deg)}60%{opacity:1;transform:skewX(20deg)}80%{transform:skewX(-5deg)}to{transform:translate3d(0,0,0)}}","light-speed-out-left":"{from{opacity:1}to{opacity:0;transform:translate3d(-100%,0,0) skewX(30deg)}}","light-speed-out-right":"{from{opacity:1}to{opacity:0;transform:translate3d(100%,0,0) skewX(30deg)}}",flip:"{from{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,0) rotate3d(0,1,0,-360deg);animation-timing-function:ease-out}40%{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,150px) rotate3d(0,1,0,-190deg);animation-timing-function:ease-out}50%{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,150px) rotate3d(0,1,0,-170deg);animation-timing-function:ease-in}80%{transform:perspective(400px) scale3d(0.95,0.95,0.95) translate3d(0,0,0) rotate3d(0,1,0,0deg);animation-timing-function:ease-in}to{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,0) rotate3d(0,1,0,0deg);animation-timing-function:ease-in}}","flip-in-x":"{from{transform:perspective(400px) rotate3d(1,0,0,90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotate3d(1,0,0,-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotate3d(1,0,0,10deg);opacity:1}80%{transform:perspective(400px) rotate3d(1,0,0,-5deg)}to{transform:perspective(400px)}}","flip-in-y":"{from{transform:perspective(400px) rotate3d(0,1,0,90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotate3d(0,1,0,-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotate3d(0,1,0,10deg);opacity:1}80%{transform:perspective(400px) rotate3d(0,1,0,-5deg)}to{transform:perspective(400px)}}","flip-out-x":"{from{transform:perspective(400px)}30%{transform:perspective(400px) rotate3d(1,0,0,-20deg);opacity:1}to{transform:perspective(400px) rotate3d(1,0,0,90deg);opacity:0}}","flip-out-y":"{from{transform:perspective(400px)}30%{transform:perspective(400px) rotate3d(0,1,0,-15deg);opacity:1}to{transform:perspective(400px) rotate3d(0,1,0,90deg);opacity:0}}","rotate-in":"{from{transform-origin:center;transform:rotate3d(0,0,1,-200deg);opacity:0}to{transform-origin:center;transform:translate3d(0,0,0);opacity:1}}","rotate-in-down-left":"{from{transform-origin:left bottom;transform:rotate3d(0,0,1,-45deg);opacity:0}to{transform-origin:left bottom;transform:translate3d(0,0,0);opacity:1}}","rotate-in-down-right":"{from{transform-origin:right bottom;transform:rotate3d(0,0,1,45deg);opacity:0}to{transform-origin:right bottom;transform:translate3d(0,0,0);opacity:1}}","rotate-in-up-left":"{from{transform-origin:left top;transform:rotate3d(0,0,1,45deg);opacity:0}to{transform-origin:left top;transform:translate3d(0,0,0);opacity:1}}","rotate-in-up-right":"{from{transform-origin:right bottom;transform:rotate3d(0,0,1,-90deg);opacity:0}to{transform-origin:right bottom;transform:translate3d(0,0,0);opacity:1}}","rotate-out":"{from{transform-origin:center;opacity:1}to{transform-origin:center;transform:rotate3d(0,0,1,200deg);opacity:0}}","rotate-out-down-left":"{from{transform-origin:left bottom;opacity:1}to{transform-origin:left bottom;transform:rotate3d(0,0,1,45deg);opacity:0}}","rotate-out-down-right":"{from{transform-origin:right bottom;opacity:1}to{transform-origin:right bottom;transform:rotate3d(0,0,1,-45deg);opacity:0}}","rotate-out-up-left":"{from{transform-origin:left bottom;opacity:1}to{transform-origin:left bottom;transform:rotate3d(0,0,1,-45deg);opacity:0}}","rotate-out-up-right":"{from{transform-origin:right bottom;opacity:1}to{transform-origin:left bottom;transform:rotate3d(0,0,1,90deg);opacity:0}}","roll-in":"{from{opacity:0;transform:translate3d(-100%,0,0) rotate3d(0,0,1,-120deg)}to{opacity:1;transform:translate3d(0,0,0)}}","roll-out":"{from{opacity:1}to{opacity:0;transform:translate3d(100%,0,0) rotate3d(0,0,1,120deg)}}","zoom-in":"{from{opacity:0;transform:scale3d(0.3,0.3,0.3)}50%{opacity:1}}","zoom-in-down":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,-1000px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,60px,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-in-left":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(-1000px,0,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(10px,0,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-in-right":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(1000px,0,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(-10px,0,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-in-up":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,1000px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,-60px,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-out":"{from{opacity:1}50%{opacity:0;transform:scale3d(0.3,0.3,0.3)}to{opacity:0}}","zoom-out-down":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,-60px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}to{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,2000px,0);transform-origin:center bottom;animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-out-left":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(42px,0,0)}to{opacity:0;transform:scale(0.1) translate3d(-2000px,0,0);transform-origin:left center}}","zoom-out-right":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(-42px,0,0)}to{opacity:0;transform:scale(0.1) translate3d(2000px,0,0);transform-origin:right center}}","zoom-out-up":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,60px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}to{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,-2000px,0);transform-origin:center bottom;animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","bounce-in":"{from,20%,40%,60%,80%,to{animation-timing-function:ease-in-out}0%{opacity:0;transform:scale3d(0.3,0.3,0.3)}20%{transform:scale3d(1.1,1.1,1.1)}40%{transform:scale3d(0.9,0.9,0.9)}60%{transform:scale3d(1.03,1.03,1.03);opacity:1}80%{transform:scale3d(0.97,0.97,0.97)}to{opacity:1;transform:scale3d(1,1,1)}}","bounce-in-down":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:translate3d(0,0,0)}}","bounce-in-left":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:translate3d(0,0,0)}}","bounce-in-right":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:translate3d(0,0,0)}}","bounce-in-up":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translate3d(0,0,0)}}","bounce-out":"{20%{transform:scale3d(0.9,0.9,0.9)}50%,55%{opacity:1;transform:scale3d(1.1,1.1,1.1)}to{opacity:0;transform:scale3d(0.3,0.3,0.3)}}","bounce-out-down":"{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}","bounce-out-left":"{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}","bounce-out-right":"{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}","bounce-out-up":"{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}","slide-in-down":"{from{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-in-left":"{from{transform:translate3d(-100%,0,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-in-right":"{from{transform:translate3d(100%,0,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-in-up":"{from{transform:translate3d(0,100%,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-out-down":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(0,100%,0)}}","slide-out-left":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(-100%,0,0)}}","slide-out-right":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(100%,0,0)}}","slide-out-up":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(0,-100%,0)}}","fade-in":"{from{opacity:0}to{opacity:1}}","fade-in-down":"{from{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-down-big":"{from{opacity:0;transform:translate3d(0,-2000px,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-left":"{from{opacity:0;transform:translate3d(-100%,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-left-big":"{from{opacity:0;transform:translate3d(-2000px,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-right":"{from{opacity:0;transform:translate3d(100%,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-right-big":"{from{opacity:0;transform:translate3d(2000px,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-up":"{from{opacity:0;transform:translate3d(0,100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-up-big":"{from{opacity:0;transform:translate3d(0,2000px,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-top-left":"{from{opacity:0;transform:translate3d(-100%,-100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-top-right":"{from{opacity:0;transform:translate3d(100%,-100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-bottom-left":"{from{opacity:0;transform:translate3d(-100%,100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-bottom-right":"{from{opacity:0;transform:translate3d(100%,100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-out":"{from{opacity:1}to{opacity:0}}","fade-out-down":"{from{opacity:1}to{opacity:0;transform:translate3d(0,100%,0)}}","fade-out-down-big":"{from{opacity:1}to{opacity:0;transform:translate3d(0,2000px,0)}}","fade-out-left":"{from{opacity:1}to{opacity:0;transform:translate3d(-100%,0,0)}}","fade-out-left-big":"{from{opacity:1}to{opacity:0;transform:translate3d(-2000px,0,0)}}","fade-out-right":"{from{opacity:1}to{opacity:0;transform:translate3d(100%,0,0)}}","fade-out-right-big":"{from{opacity:1}to{opacity:0;transform:translate3d(2000px,0,0)}}","fade-out-up":"{from{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}","fade-out-up-big":"{from{opacity:1}to{opacity:0;transform:translate3d(0,-2000px,0)}}","fade-out-top-left":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(-100%,-100%,0)}}","fade-out-top-right":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(100%,-100%,0)}}","fade-out-bottom-left":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(-100%,100%,0)}}","fade-out-bottom-right":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(100%,100%,0)}}","back-in-up":"{0%{opacity:0.7;transform:translateY(1200px) scale(0.7)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-in-down":"{0%{opacity:0.7;transform:translateY(-1200px) scale(0.7)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-in-right":"{0%{opacity:0.7;transform:translateX(2000px) scale(0.7)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-in-left":"{0%{opacity:0.7;transform:translateX(-2000px) scale(0.7)}80%{opacity:0.7;transform:translateX(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-out-up":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:0.7;transform:translateY(-700px) scale(0.7)}}","back-out-down":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:0.7;transform:translateY(700px) scale(0.7)}}","back-out-right":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:0.7;transform:translateX(2000px) scale(0.7)}}","back-out-left":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateX(-2000px) scale(0.7)}100%{opacity:0.7;transform:translateY(-700px) scale(0.7)}}"},durations:{pulse:"2s","heart-beat":"1.3s","bounce-in":"0.75s","bounce-out":"0.75s","flip-out-x":"0.75s","flip-out-y":"0.75s",hinge:"2s"},timingFns:{pulse:"cubic-bezier(0.4,0,.6,1)",ping:"cubic-bezier(0,0,.2,1)","head-shake":"ease-in-out","heart-beat":"ease-in-out","pulse-alt":"ease-in-out","light-speed-in-left":"ease-out","light-speed-in-right":"ease-out","light-speed-out-left":"ease-in","light-speed-out-right":"ease-in"},properties:{"bounce-alt":{"transform-origin":"center bottom"},jello:{"transform-origin":"center"},swing:{"transform-origin":"top center"},flip:{"backface-visibility":"visible"},"flip-in-x":{"backface-visibility":"visible !important"},"flip-in-y":{"backface-visibility":"visible !important"},"flip-out-x":{"backface-visibility":"visible !important"},"flip-out-y":{"backface-visibility":"visible !important"},"rotate-in":{"transform-origin":"center"},"rotate-in-down-left":{"transform-origin":"left bottom"},"rotate-in-down-right":{"transform-origin":"right bottom"},"rotate-in-up-left":{"transform-origin":"left bottom"},"rotate-in-up-right":{"transform-origin":"right bottom"},"rotate-out":{"transform-origin":"center"},"rotate-out-down-left":{"transform-origin":"left bottom"},"rotate-out-down-right":{"transform-origin":"right bottom"},"rotate-out-up-left":{"transform-origin":"left bottom"},"rotate-out-up-right":{"transform-origin":"right bottom"},hinge:{"transform-origin":"top left"},"zoom-out-down":{"transform-origin":"center bottom"},"zoom-out-left":{"transform-origin":"left center"},"zoom-out-right":{"transform-origin":"right center"},"zoom-out-up":{"transform-origin":"center bottom"}},counts:{spin:"infinite",ping:"infinite",pulse:"infinite","pulse-alt":"infinite",bounce:"infinite","bounce-alt":"infinite"},category:{pulse:"Attention Seekers",bounce:"Attention Seekers",spin:"Attention Seekers",ping:"Attention Seekers","bounce-alt":"Attention Seekers",flash:"Attention Seekers","pulse-alt":"Attention Seekers","rubber-band":"Attention Seekers","shake-x":"Attention Seekers","shake-y":"Attention Seekers","head-shake":"Attention Seekers",swing:"Attention Seekers",tada:"Attention Seekers",wobble:"Attention Seekers",jello:"Attention Seekers","heart-beat":"Attention Seekers",hinge:"Specials","jack-in-the-box":"Specials","light-speed-in-left":"Lightspeed","light-speed-in-right":"Lightspeed","light-speed-out-left":"Lightspeed","light-speed-out-right":"Lightspeed",flip:"Flippers","flip-in-x":"Flippers","flip-in-y":"Flippers","flip-out-x":"Flippers","flip-out-y":"Flippers","rotate-in":"Rotating Entrances","rotate-in-down-left":"Rotating Entrances","rotate-in-down-right":"Rotating Entrances","rotate-in-up-left":"Rotating Entrances","rotate-in-up-right":"Rotating Entrances","rotate-out":"Rotating Exits","rotate-out-down-left":"Rotating Exits","rotate-out-down-right":"Rotating Exits","rotate-out-up-left":"Rotating Exits","rotate-out-up-right":"Rotating Exits","roll-in":"Specials","roll-out":"Specials","zoom-in":"Zooming Entrances","zoom-in-down":"Zooming Entrances","zoom-in-left":"Zooming Entrances","zoom-in-right":"Zooming Entrances","zoom-in-up":"Zooming Entrances","zoom-out":"Zooming Exits","zoom-out-down":"Zooming Exits","zoom-out-left":"Zooming Exits","zoom-out-right":"Zooming Exits","zoom-out-up":"Zooming Exits","bounce-in":"Bouncing Entrances","bounce-in-down":"Bouncing Entrances","bounce-in-left":"Bouncing Entrances","bounce-in-right":"Bouncing Entrances","bounce-in-up":"Bouncing Entrances","bounce-out":"Bouncing Exits","bounce-out-down":"Bouncing Exits","bounce-out-left":"Bouncing Exits","bounce-out-right":"Bouncing Exits","bounce-out-up":"Bouncing Exits","slide-in-down":"Sliding Entrances","slide-in-left":"Sliding Entrances","slide-in-right":"Sliding Entrances","slide-in-up":"Sliding Entrances","slide-out-down":"Sliding Exits","slide-out-left":"Sliding Exits","slide-out-right":"Sliding Exits","slide-out-up":"Sliding Exits","fade-in":"Fading Entrances","fade-in-down":"Fading Entrances","fade-in-down-big":"Fading Entrances","fade-in-left":"Fading Entrances","fade-in-left-big":"Fading Entrances","fade-in-right":"Fading Entrances","fade-in-right-big":"Fading Entrances","fade-in-up":"Fading Entrances","fade-in-up-big":"Fading Entrances","fade-in-top-left":"Fading Entrances","fade-in-top-right":"Fading Entrances","fade-in-bottom-left":"Fading Entrances","fade-in-bottom-right":"Fading Entrances","fade-out":"Fading Exits","fade-out-down":"Fading Exits","fade-out-down-big":"Fading Exits","fade-out-left":"Fading Exits","fade-out-left-big":"Fading Exits","fade-out-right":"Fading Exits","fade-out-right-big":"Fading Exits","fade-out-up":"Fading Exits","fade-out-up-big":"Fading Exits","fade-out-top-left":"Fading Exits","fade-out-top-right":"Fading Exits","fade-out-bottom-left":"Fading Exits","fade-out-bottom-right":"Fading Exits","back-in-up":"Back Entrances","back-in-down":"Back Entrances","back-in-right":"Back Entrances","back-in-left":"Back Entrances","back-out-up":"Back Exits","back-out-down":"Back Exits","back-out-right":"Back Exits","back-out-left":"Back Exits"}},fF={busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},pF={DEFAULT:"8px",xs:"4px",sm:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},gF={sans:["ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'].join(","),serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"].join(","),mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"].join(",")},mF={xs:{fontSize:"0.75rem",lineHeight:"1rem"},sm:{fontSize:"0.875rem",lineHeight:"1.25rem"},base:{fontSize:"1rem",lineHeight:"1.5rem"},lg:{fontSize:"1.125rem",lineHeight:"1.75rem"},xl:{fontSize:"1.25rem",lineHeight:"1.75rem"},"2xl":{fontSize:"1.5rem",lineHeight:"2rem"},"3xl":{fontSize:"1.875rem",lineHeight:"2.25rem"},"4xl":{fontSize:"2.25rem",lineHeight:"2.5rem"},"5xl":{fontSize:"3rem",lineHeight:"1"},"6xl":{fontSize:"3.75rem",lineHeight:"1"},"7xl":{fontSize:"4.5rem",lineHeight:"1"},"8xl":{fontSize:"6rem",lineHeight:"1"},"9xl":{fontSize:"8rem",lineHeight:"1"}},vF={thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},bF={tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},yF={none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2"},xF={DEFAULT:"1.5rem",none:"0",sm:"thin",md:"medium",lg:"thick"},wF={portrait:"(orientation: portrait)",landscape:"(orientation: landscape)",os_dark:"(prefers-color-scheme: dark)",os_light:"(prefers-color-scheme: light)",motion_ok:"(prefers-reduced-motion: no-preference)",motion_not_ok:"(prefers-reduced-motion: reduce)",high_contrast:"(prefers-contrast: high)",low_contrast:"(prefers-contrast: low)",opacity_ok:"(prefers-reduced-transparency: no-preference)",opacity_not_ok:"(prefers-reduced-transparency: reduce)",use_data_ok:"(prefers-reduced-data: no-preference)",use_data_not_ok:"(prefers-reduced-data: reduce)",touch:"(hover: none) and (pointer: coarse)",stylus:"(hover: none) and (pointer: fine)",pointer:"(hover) and (pointer: coarse)",mouse:"(hover) and (pointer: fine)",hd_color:"(dynamic-range: high)"},_F={DEFAULT:"0.25rem",xs:"0.75rem",sm:"0.875rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"},CF={DEFAULT:"0.25rem",none:"0",xs:"0.125rem",sm:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem","4xl":"2rem"},kF={DEFAULT:["0 1px 3px 0 rgb(0 0 0 / 0.1)","0 1px 2px -1px rgb(0 0 0 / 0.1)"],"2xs":"0 1px rgb(0 0 0 / 0.05)",xs:"0 1px 2px 0 rgb(0 0 0 / 0.05)",sm:["0 1px 3px 0 rgb(0 0 0 / 0.1)","0 1px 2px -1px rgb(0 0 0 / 0.1)"],md:["0 4px 6px -1px rgb(0 0 0 / 0.1)","0 2px 4px -2px rgb(0 0 0 / 0.1)"],lg:["0 10px 15px -3px rgb(0 0 0 / 0.1)","0 4px 6px -4px rgb(0 0 0 / 0.1)"],xl:["0 20px 25px -5px rgb(0 0 0 / 0.1)","0 8px 10px -6px rgb(0 0 0 / 0.1)"],"2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",none:"0 0 rgb(0 0 0 / 0)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)"},SF={"2xs":"inset 0 1px rgb(0 0 0 / 0.05)",xs:"inset 0 1px 1px rgb(0 0 0 / 0.05)",sm:"inset 0 2px 4px rgb(0 0 0 / 0.05)",none:"0 0 rgb(0 0 0 / 0)"},EF={DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],xs:"0 1px 1px rgb(0 0 0 / 0.05)",sm:"0 1px 2px rgb(0 0 0 / 0.15)",md:"0 3px 3px rgb(0 0 0 / 0.12)",lg:"0 4px 4px rgb(0 0 0 / 0.15)",xl:"0 9px 7px rgb(0 0 0 / 0.1)","2xl":"0 25px 25px rgb(0 0 0 / 0.15)"},TF={none:"0 0 rgb(0 0 0 / 0)","2xs":"0 1px 0 rgb(0 0 0 / 0.15)",xs:"0 1px 1px rgb(0 0 0 / 0.2)",sm:["0 1px 0 rgb(0 0 0 / 0.075)","0 1px 1px rgb(0 0 0 / 0.075)","0 2px 2px rgb(0 0 0 / 0.075)"],md:["0 1px 1px rgb(0 0 0 / 0.1)","0 1px 2px rgb(0 0 0 / 0.1)","0 2px 4px rgb(0 0 0 / 0.1)"],lg:["0 1px 2px rgb(0 0 0 / 0.1)","0 3px 2px rgb(0 0 0 / 0.1)","0 4px 8px rgb(0 0 0 / 0.1)"]},AF={dramatic:"100px",near:"300px",normal:"500px",midrange:"800px",distant:"1200px"},OF={transition:{duration:"150ms",timingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},font:{family:"var(--font-sans)",featureSettings:"var(--font-sans--font-feature-settings)",variationSettings:"var(--font-sans--font-variation-settings)"},monoFont:{family:"var(--font-mono)",featureSettings:"var(--font-mono--font-feature-settings)",variationSettings:"var(--font-mono--font-variation-settings)"}},MF={"3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",prose:"65ch"},Bw={sm:"40rem",md:"48rem",lg:"64rem",xl:"80rem","2xl":"96rem"},RF={...Bw},$F={grid:"(display: grid)"},FF={linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)",DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)"},PF={none:"none",all:"all",colors:["color","background-color","border-color","text-decoration-color","fill","stroke","--un-gradient-from","--un-gradient-via","--un-gradient-to"].join(","),opacity:"opacity",shadow:"box-shadow",transform:["transform","translate","scale","rotate"].join(","),get DEFAULT(){return[this.colors,this.opacity,this.shadow,this.transform,"filter","-webkit-backdrop-filter","backdrop-filter"].join(",")}},DF={font:gF,colors:jw,spacing:_F,breakpoint:Bw,verticalBreakpoint:RF,text:mF,fontWeight:vF,tracking:bF,leading:yF,textStrokeWidth:xF,radius:CF,shadow:kF,insetShadow:SF,dropShadow:EF,textShadow:TF,ease:FF,animation:hF,blur:pF,perspective:AF,property:PF,default:OF,container:MF,aria:fF,media:wF,supports:$F},LF=[[/^@container(?:\/(\w+))?(?:-(normal))?$/,([,t,e])=>({"container-type":e??"inline-size","container-name":t})]],IF=/@media \(min-width: (.+)\)/,NF=[[/^__container$/,(t,e)=>{const{theme:n,variantHandlers:r}=e,i=n.containers?.padding;let a;Ht(i)?a=i:a=i?.DEFAULT;const o=n.containers?.maxWidth;let s;for(const c of r){const u=c.handle?.({},d=>d)?.parent;if(Ht(u)){const d=u.match(IF)?.[1];if(d){const h=(lh(e)??[]).find(g=>g.size===d)?.point;o?h&&(s=o?.[h]):s=d,h&&!Ht(i)&&(a=i?.[h]??a)}}}const l={"max-width":s};return r.length||(l.width="100%"),n.containers?.center&&(l["margin-left"]="auto",l["margin-right"]="auto"),i&&(l["padding-left"]=a,l["padding-right"]=a),l},{internal:!0}]],jF=[[/^(?:(\w+)[:-])?container$/,([,t],e)=>{let n=(lh(e)??[]).map(i=>i.point);if(t){if(!n.includes(t))return;n=n.slice(n.indexOf(t))}const r=n.map(i=>`${i}:__container`);return t||r.unshift("__container"),r}]],BF=[...jF],db={mid:"middle",base:"baseline",btm:"bottom",baseline:"baseline",top:"top",start:"top",middle:"middle",bottom:"bottom",end:"bottom","text-top":"text-top","text-bottom":"text-bottom",sub:"sub",super:"super",...Object.fromEntries(qt.map(t=>[t,t]))},UF=[[/^(?:vertical|align|v)-(.+)$/,([,t])=>({"vertical-align":db[t]??Z.bracket.cssvar.numberWithUnit(t)}),{autocomplete:[`(vertical|align|v)-(${Object.keys(db).join("|")})`,"(vertical|align|v)-<percentage>"]}]],hb=["center","left","right","justify","start","end"],zF=[...hb.map(t=>[`text-${t}`,{"text-align":t}]),...[...qt,...hb].map(t=>[`text-align-${t}`,{"text-align":t}])],HF=[[/^(?:animate-)?keyframes-(.+)$/,([,t],{theme:e})=>{const n=e.animation?.keyframes?.[t];if(n)return[`@keyframes ${t}${n}`,{animation:t}]},{autocomplete:["animate-keyframes-$animation.keyframes","keyframes-$animation.keyframes"]}],[/^animate-(.+)$/,([,t],{theme:e})=>{const n=e.animation?.keyframes?.[t];if(n){const r=e.animation?.durations?.[t]??"1s",i=e.animation?.timingFns?.[t]??"linear",a=e.animation?.counts?.[t]??1,o=e.animation?.properties?.[t];return[`@keyframes ${t}${n}`,{animation:`${t} ${r} ${i} ${a}`,...o}]}return{animation:Z.bracket.cssvar(t)}},{autocomplete:"animate-$animation.keyframes"}],[/^animate-name-(.+)/,([,t])=>({"animation-name":Z.bracket.cssvar(t)??t})],[/^animate-duration-(.+)$/,([,t],{theme:e})=>({"animation-duration":e.duration?.[t||"DEFAULT"]??Z.bracket.cssvar.time(t)}),{autocomplete:["animate-duration"]}],[/^animate-delay-(.+)$/,([,t],{theme:e})=>({"animation-delay":e.duration?.[t||"DEFAULT"]??Z.bracket.cssvar.time(t)}),{autocomplete:["animate-delay"]}],[/^animate-ease(?:-(.+))?$/,([,t],{theme:e})=>({"animation-timing-function":e.ease?.[t||"DEFAULT"]??Z.bracket.cssvar(t)}),{autocomplete:["animate-ease","animate-ease-$ease"]}],[/^animate-(fill-mode-|fill-|mode-)?(.+)$/,([,t,e])=>["none","forwards","backwards","both",t?qt:[]].includes(e)?{"animation-fill-mode":e}:void 0,{autocomplete:["animate-(fill|mode|fill-mode)","animate-(fill|mode|fill-mode)-(none|forwards|backwards|both|inherit|initial|revert|revert-layer|unset)","animate-(none|forwards|backwards|both|inherit|initial|revert|revert-layer|unset)"]}],[/^animate-(direction-)?(.+)$/,([,t,e])=>["normal","reverse","alternate","alternate-reverse",t?qt:[]].includes(e)?{"animation-direction":e}:void 0,{autocomplete:["animate-direction","animate-direction-(normal|reverse|alternate|alternate-reverse|inherit|initial|revert|revert-layer|unset)","animate-(normal|reverse|alternate|alternate-reverse|inherit|initial|revert|revert-layer|unset)"]}],[/^animate-(?:iteration-count-|iteration-|count-)(.+)$/,([,t])=>({"animation-iteration-count":Z.bracket.cssvar(t)??t.replace(/-/g,",")}),{autocomplete:["animate-(iteration|count|iteration-count)","animate-(iteration|count|iteration-count)-<num>"]}],[/^animate-(play-state-|play-|state-)?(.+)$/,([,t,e])=>["paused","running",t?qt:[]].includes(e)?{"animation-play-state":e}:void 0,{autocomplete:["animate-(play|state|play-state)","animate-(play|state|play-state)-(paused|running|inherit|initial|revert|revert-layer|unset)","animate-(paused|running|inherit|initial|revert|revert-layer|unset)"]}],["animate-none",{animation:"none"}],...rt("animate","animation")],Uw={"gradient-position":Fe("--un-gradient-position"),"gradient-from":Fe("--un-gradient-from",{syntax:"<color>",initialValue:"#0000"}),"gradient-via":Fe("--un-gradient-via",{syntax:"<color>",initialValue:"#0000"}),"gradient-to":Fe("--un-gradient-to",{syntax:"<color>",initialValue:"#0000"}),"gradient-stops":Fe("--un-gradient-stops"),"gradient-via-stops":Fe("--un-gradient-via-stops"),"gradient-from-position":Fe("--un-gradient-from-position",{syntax:"<length-percentage>",initialValue:"0%"}),"gradient-via-position":Fe("--un-gradient-via-position",{syntax:"<length-percentage>",initialValue:"50%"}),"gradient-to-position":Fe("--un-gradient-to-position",{syntax:"<length-percentage>",initialValue:"100%"})};function fb(t){let e="in oklab";if(t)if(t.startsWith("[")&&t.endsWith("]"))e=t.slice(1,-1);else switch(t){case"longer":case"shorter":case"increasing":case"decreasing":e=`in oklch ${t} hue`;break;default:e=`in ${t}`}return e}function WF(){return function*([,t,e],{theme:n}){const r={},i=sh(e,n);if(i){const{color:a,keys:o,alpha:s}=i;if(a){if(Object.values(oh).includes(a))r[`--un-gradient-${t}`]=a;else{r[`--un-${t}-opacity`]=s;const l=o?Gt("colors",o):a;r[`--un-gradient-${t}`]=`color-mix(in oklab, ${l} var(--un-${t}-opacity), transparent)`,yield Fe(`--un-${t}-opacity`,{syntax:"<percentage>",initialValue:"100%"})}o&&nt("colors",o),n&&ch(a,n)}}else r[`--un-gradient-${t}`]=Z.bracket.cssvar(e);if(r[`--un-gradient-${t}`]){switch(t){case"from":yield{...r,"--un-gradient-stops":"var(--un-gradient-via-stops, var(--un-gradient-position), var(--un-gradient-from) var(--un-gradient-from-position), var(--un-gradient-to) var(--un-gradient-to-position))"};break;case"via":yield{...r,"--un-gradient-via-stops":"var(--un-gradient-position), var(--un-gradient-from) var(--un-gradient-from-position), var(--un-gradient-via) var(--un-gradient-via-position), var(--un-gradient-to) var(--un-gradient-to-position)","--un-gradient-stops":"var(--un-gradient-via-stops)"};break;case"to":yield{...r,"--un-gradient-stops":"var(--un-gradient-via-stops, var(--un-gradient-position), var(--un-gradient-from) var(--un-gradient-from-position), var(--un-gradient-to) var(--un-gradient-to-position))"};break;case"stops":yield{...r};break}for(const a of Object.values(Uw))yield a}}}function VF(){return function*([,t,e]){yield{[`--un-gradient-${t}-position`]:`${Z.bracket.cssvar.percent(e)}`};for(const n of Object.values(Uw))yield n}}const GF=[[/^bg-(linear|radial|conic)-([^/]+)(?:\/(.+))?$/,([,t,e,n])=>{let r;if(Z.number(e)!=null?r=`${Z.number(e)}deg ${fb(n)};`:r=Z.bracket(e),r)return{"--un-gradient-position":r,"background-image":`${t}-gradient(var(--un-gradient-stops))`}},{autocomplete:["bg-(linear|radial|conic)","(from|to|via)-$colors","(from|to|via)-(op|opacity)","(from|to|via)-(op|opacity)-<percent>"]}],[/^(from|via|to|stops)-(.+)$/,WF()],[/^(from|via|to)-op(?:acity)?-?(.+)$/,([,t,e])=>({[`--un-${t}-opacity`]:Z.bracket.percent(e)})],[/^(from|via|to)-([\d.]+%)$/,VF()],[/^bg-((?:repeating-)?(?:linear|radial|conic))$/,([,t])=>({"background-image":`${t}-gradient(var(--un-gradient, var(--un-gradient-stops, rgb(255 255 255 / 0))))`}),{autocomplete:["bg-gradient-repeating","bg-gradient-(linear|radial|conic)","bg-gradient-repeating-(linear|radial|conic)"]}],[/^bg-(linear|radial|conic)(?:-to-([rltb]{1,2}))?(?:\/(.+))?$/,([,t,e,n])=>({"--un-gradient-position":`${e in Vr?`to ${Vr[e]} `:" "}${fb(n)}`,"background-image":`${t}-gradient(var(--un-gradient-stops))`}),{autocomplete:`bg-gradient-to-(${Object.keys(Vr).filter(t=>t.length<=2&&Array.from(t).every(e=>"rltb".includes(e))).join("|")})`}],["bg-none",{"background-image":"none"}],["box-decoration-slice",{"box-decoration-break":"slice"}],["box-decoration-clone",{"box-decoration-break":"clone"}],...rt("box-decoration","box-decoration-break"),["bg-auto",{"background-size":"auto"}],["bg-cover",{"background-size":"cover"}],["bg-contain",{"background-size":"contain"}],["bg-fixed",{"background-attachment":"fixed"}],["bg-local",{"background-attachment":"local"}],["bg-scroll",{"background-attachment":"scroll"}],["bg-clip-border",{"-webkit-background-clip":"border-box","background-clip":"border-box"}],["bg-clip-content",{"-webkit-background-clip":"content-box","background-clip":"content-box"}],["bg-clip-padding",{"-webkit-background-clip":"padding-box","background-clip":"padding-box"}],["bg-clip-text",{"-webkit-background-clip":"text","background-clip":"text"}],...qt.map(t=>[`bg-clip-${t}`,{"-webkit-background-clip":t,"background-clip":t}]),[/^bg-([-\w]{3,})$/,([,t])=>({"background-position":Vr[t]})],["bg-repeat",{"background-repeat":"repeat"}],["bg-no-repeat",{"background-repeat":"no-repeat"}],["bg-repeat-x",{"background-repeat":"repeat-x"}],["bg-repeat-y",{"background-repeat":"repeat-y"}],["bg-repeat-round",{"background-repeat":"round"}],["bg-repeat-space",{"background-repeat":"space"}],...rt("bg-repeat","background-repeat"),["bg-origin-border",{"background-origin":"border-box"}],["bg-origin-padding",{"background-origin":"padding-box"}],["bg-origin-content",{"background-origin":"content-box"}],...rt("bg-origin","background-origin")],pb=[[/^outline-(?:width-|size-)?(.+)$/,zw,{autocomplete:"outline-(width|size)-<num>"}],[/^outline-(?:color-)?(.+)$/,XF,{autocomplete:"outline-$colors"}],[/^outline-op(?:acity)?-?(.+)$/,([,t])=>({"--un-outline-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"outline-(op|opacity)-<percent>"}],[/^outline-offset-(.+)$/,([,t])=>({"outline-offset":Z.bracket.cssvar.global.px(t)}),{autocomplete:"outline-(offset)-<num>"}],["outline-offset-none",{"outline-offset":"0"}],["outline",[{"outline-style":"var(--un-outline-style)","outline-width":"1px"},Fe("--un-outline-style",{initialValue:"solid"})]],["outline-hidden",[{"outline-style":"none"},{[En.parent]:"@media (forced-colors: active)",outline:"2px solid transparent","outline-offset":"2px"}]],["outline-none",{"--un-outline-style":"none","outline-style":"none"}],...["auto","dashed","dotted","double","solid","groove","ridge","inset","outset",...qt].map(t=>[`outline-${t}`,{"--un-outline-style":t,"outline-style":t}])];function*zw([,t]){const e=Z.bracket.cssvar.global.px(t);e!=null&&(yield{"outline-style":"var(--un-outline-style)","outline-width":e},yield Fe("--un-outline-style",{initialValue:"solid"}))}function*XF(t,e){if(hc(Z.bracket(t[1])))yield*zw(t);else{const n=cn("outline-color","outline")(t,e);if(n)for(const r of n)yield r}}const qF=[["appearance-auto",{"-webkit-appearance":"auto",appearance:"auto"}],["appearance-none",{"-webkit-appearance":"none",appearance:"none"}]];function YF(t){const e=Z.bracket(t);return e&&Z.properties(e)?e:Z.properties.auto.cssvar.global(t)??{contents:"contents",scroll:"scroll-position"}[t]}const gb=[[/^will-change-(.+)/,([,t])=>({"will-change":YF(t)})]],Af={disc:"disc",circle:"circle",square:"square",decimal:"decimal","zero-decimal":"decimal-leading-zero",greek:"lower-greek",roman:"lower-roman","upper-roman":"upper-roman",alpha:"lower-alpha","upper-alpha":"upper-alpha",latin:"lower-latin","upper-latin":"upper-latin"},KF=[[/^list-(.+?)(?:-(outside|inside))?$/,([,t,e])=>{const n=Af[t];if(n)return e?{"list-style-position":e,"list-style-type":n}:{"list-style-type":n}},{autocomplete:[`list-(${Object.keys(Af).join("|")})`,`list-(${Object.keys(Af).join("|")})-(outside|inside)`]}],["list-outside",{"list-style-position":"outside"}],["list-inside",{"list-style-position":"inside"}],["list-none",{"list-style-type":"none"}],[/^list-image-(.+)$/,([,t])=>{if(/^\[url\(.+\)\]$/.test(t))return{"list-style-image":Z.bracket(t)}}],["list-image-none",{"list-style-image":"none"}],...rt("list","list-style-type")],ZF=[[/^accent-(.+)$/,cn("accent-color","accent"),{autocomplete:"accent-$colors"}],[/^accent-op(?:acity)?-?(.+)$/,([,t])=>({"--un-accent-opacity":Z.bracket.percent(t)}),{autocomplete:["accent-(op|opacity)","accent-(op|opacity)-<percent>"]}]],JF=[[/^caret-(.+)$/,cn("caret-color","caret"),{autocomplete:"caret-$colors"}],[/^caret-op(?:acity)?-?(.+)$/,([,t])=>({"--un-caret-opacity":Z.bracket.percent(t)}),{autocomplete:["caret-(op|opacity)","caret-(op|opacity)-<percent>"]}]],QF=[["image-render-auto",{"image-rendering":"auto"}],["image-render-edge",{"image-rendering":"crisp-edges"}],["image-render-pixel",[["-ms-interpolation-mode","nearest-neighbor"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-pixelated"],["image-rendering","pixelated"]]]],eP=[["overscroll-auto",{"overscroll-behavior":"auto"}],["overscroll-contain",{"overscroll-behavior":"contain"}],["overscroll-none",{"overscroll-behavior":"none"}],...rt("overscroll","overscroll-behavior"),["overscroll-x-auto",{"overscroll-behavior-x":"auto"}],["overscroll-x-contain",{"overscroll-behavior-x":"contain"}],["overscroll-x-none",{"overscroll-behavior-x":"none"}],...rt("overscroll-x","overscroll-behavior-x"),["overscroll-y-auto",{"overscroll-behavior-y":"auto"}],["overscroll-y-contain",{"overscroll-behavior-y":"contain"}],["overscroll-y-none",{"overscroll-behavior-y":"none"}],...rt("overscroll-y","overscroll-behavior-y")],tP=[["scroll-auto",{"scroll-behavior":"auto"}],["scroll-smooth",{"scroll-behavior":"smooth"}],...rt("scroll","scroll-behavior")],ja=["solid","dashed","dotted","double","hidden","none","groove","ridge","inset","outset",...qt],nP=[[/^(?:border|b)()(?:-(.+))?$/,Lr,{autocomplete:"(border|b)-<directions>"}],[/^(?:border|b)-([xy])(?:-(.+))?$/,Lr],[/^(?:border|b)-([rltbse])(?:-(.+))?$/,Lr],[/^(?:border|b)-(block|inline)(?:-(.+))?$/,Lr],[/^(?:border|b)-([bi][se])(?:-(.+))?$/,Lr],[/^(?:border|b)-()(?:width|size)-(.+)$/,Lr,{autocomplete:["(border|b)-<num>","(border|b)-<directions>-<num>"]}],[/^(?:border|b)-([xy])-(?:width|size)-(.+)$/,Lr],[/^(?:border|b)-([rltbse])-(?:width|size)-(.+)$/,Lr],[/^(?:border|b)-(block|inline)-(?:width|size)-(.+)$/,Lr],[/^(?:border|b)-([bi][se])-(?:width|size)-(.+)$/,Lr],[/^(?:border|b)-()(?:color-)?(.+)$/,Es,{autocomplete:["(border|b)-$colors","(border|b)-<directions>-$colors"]}],[/^(?:border|b)-([xy])-(?:color-)?(.+)$/,Es],[/^(?:border|b)-([rltbse])-(?:color-)?(.+)$/,Es],[/^(?:border|b)-(block|inline)-(?:color-)?(.+)$/,Es],[/^(?:border|b)-([bi][se])-(?:color-)?(.+)$/,Es],[/^(?:border|b)-()op(?:acity)?-?(.+)$/,Ts,{autocomplete:"(border|b)-(op|opacity)-<percent>"}],[/^(?:border|b)-([xy])-op(?:acity)?-?(.+)$/,Ts],[/^(?:border|b)-([rltbse])-op(?:acity)?-?(.+)$/,Ts],[/^(?:border|b)-(block|inline)-op(?:acity)?-?(.+)$/,Ts],[/^(?:border|b)-([bi][se])-op(?:acity)?-?(.+)$/,Ts],[/^(?:border-|b-)?(?:rounded|rd)()(?:-(.+))?$/,As,{autocomplete:["(border|b)-(rounded|rd)","(border|b)-(rounded|rd)-$radius","(rounded|rd)","(rounded|rd)-$radius"]}],[/^(?:border-|b-)?(?:rounded|rd)-([rltbse])(?:-(.+))?$/,As],[/^(?:border-|b-)?(?:rounded|rd)-([rltb]{2})(?:-(.+))?$/,As],[/^(?:border-|b-)?(?:rounded|rd)-([bise][se])(?:-(.+))?$/,As],[/^(?:border-|b-)?(?:rounded|rd)-([bi][se]-[bi][se])(?:-(.+))?$/,As],[/^(?:border|b)-(?:style-)?()(.+)$/,Os,{autocomplete:["(border|b)-style",`(border|b)-(${ja.join("|")})`,"(border|b)-<directions>-style",`(border|b)-<directions>-(${ja.join("|")})`,`(border|b)-<directions>-style-(${ja.join("|")})`,`(border|b)-style-(${ja.join("|")})`]}],[/^(?:border|b)-([xy])-(?:style-)?(.+)$/,Os],[/^(?:border|b)-([rltbse])-(?:style-)?(.+)$/,Os],[/^(?:border|b)-(block|inline)-(?:style-)?(.+)$/,Os],[/^(?:border|b)-([bi][se])-(?:style-)?(.+)$/,Os]];function rP(t){return([,e],n)=>{const r=sh(e,n.theme),i=Dw(r,`border${t}-color`,`border${t}`,n);if(i){const a=i[0];return r?.color&&!Object.values(oh).includes(r.color)&&!r.alpha&&t&&t!==""&&(a[`--un-border${t}-opacity`]="var(--un-border-opacity)"),i}}}function Lr([,t="",e="1"]){const n=Z.bracket.cssvar.global.px(e);if(t in cr&&n!=null)return cr[t].map(r=>[`border${r}-width`,n])}function Es([,t="",e],n){if(t in cr){if(hc(Z.bracket(e)))return Lr(["",t,e]);if(Em(e,n.theme)){const r=cr[t].map(i=>rP(i)(["",e],n)).filter(Ru);return[r.map(i=>i[0]).reduce((i,a)=>(Object.assign(i,a),i),{}),...r.flatMap(i=>i.slice(1))]}}}function Ts([,t="",e]){const n=Z.bracket.percent.cssvar(e);if(t in cr&&n!=null)return cr[t].map(r=>[`--un-border${r}-opacity`,n])}function As([,t="",e="DEFAULT"],{theme:n}){if(t in Ef){if(e==="full")return Ef[t].map(i=>[`border${i}-radius`,"calc(infinity * 1px)"]);const r=n.radius?.[e]??Z.bracket.cssvar.global.fraction.rem(e);if(r!=null){const i=n.radius&&e in n.radius;return i&&nt("radius",e),Ef[t].map(a=>[`border${a}-radius`,i?Gt("radius",e):r])}}}function Os([,t="",e]){if(ja.includes(e)&&t in cr)return[["--un-border-style",e],...cr[t].map(n=>[`border${n}-style`,e])]}const iP=[[/^op(?:acity)?-?(.+)$/,([,t])=>({opacity:Z.bracket.percent.cssvar(t)})]],aP=/^\[url\(.+\)\]$/,oP=/^\[(?:length|size):.+\]$/,sP=/^\[position:.+\]$/,lP=/^\[(?:linear|conic|radial)-gradient\(.+\)\]$/,cP=/^\[image:.+\]$/,uP=[[/^bg-(.+)$/,(...t)=>{const e=t[0][1];if(aP.test(e))return{"--un-url":Z.bracket(e),"background-image":"var(--un-url)"};if(oP.test(e)&&Z.bracketOfLength(e)!=null)return{"background-size":Z.bracketOfLength(e).split(" ").map(n=>Z.fraction.auto.px.cssvar(n)??n).join(" ")};if((b$(e)||sP.test(e))&&Z.bracketOfPosition(e)!=null)return{"background-position":Z.bracketOfPosition(e).split(" ").map(n=>Z.position.fraction.auto.px.cssvar(n)??n).join(" ")};if(lP.test(e)||cP.test(e)){const n=Z.bracket(e);if(n)return{"background-image":(n.startsWith("http")?`url(${n})`:Z.cssvar(n))??n}}return cn("background-color","bg")(...t)},{autocomplete:"bg-$colors"}],[/^bg-op(?:acity)?-?(.+)$/,([,t])=>({"--un-bg-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"bg-(op|opacity)-<percent>"}]],dP=[[/^(?:color-)?scheme-(.+)$/,([,t])=>({"color-scheme":t.split("-").join(" ")})]],hP=[[/^columns-(.+)$/,([,t])=>({columns:Z.bracket.global.number.auto.numberWithUnit(t)}),{autocomplete:"columns-<num>"}],["break-before-auto",{"break-before":"auto"}],["break-before-avoid",{"break-before":"avoid"}],["break-before-all",{"break-before":"all"}],["break-before-avoid-page",{"break-before":"avoid-page"}],["break-before-page",{"break-before":"page"}],["break-before-left",{"break-before":"left"}],["break-before-right",{"break-before":"right"}],["break-before-column",{"break-before":"column"}],...rt("break-before"),["break-inside-auto",{"break-inside":"auto"}],["break-inside-avoid",{"break-inside":"avoid"}],["break-inside-avoid-page",{"break-inside":"avoid-page"}],["break-inside-avoid-column",{"break-inside":"avoid-column"}],...rt("break-inside"),["break-after-auto",{"break-after":"auto"}],["break-after-avoid",{"break-after":"avoid"}],["break-after-all",{"break-after":"all"}],["break-after-avoid-page",{"break-after":"avoid-page"}],["break-after-page",{"break-after":"page"}],["break-after-left",{"break-after":"left"}],["break-after-right",{"break-after":"right"}],["break-after-column",{"break-after":"column"}],...rt("break-after")],mb=["solid","double","dotted","dashed","wavy",...qt],fP=[[/^(?:decoration-)?(underline|overline|line-through)$/,([,t])=>({"text-decoration-line":t}),{autocomplete:"decoration-(underline|overline|line-through)"}],[/^(?:underline|decoration)-(?:size-)?(.+)$/,Hw,{autocomplete:"(underline|decoration)-<num>"}],[/^(?:underline|decoration)-(auto|from-font)$/,([,t])=>({"text-decoration-thickness":t}),{autocomplete:"(underline|decoration)-(auto|from-font)"}],[/^(?:underline|decoration)-(.+)$/,pP,{autocomplete:"(underline|decoration)-$colors"}],[/^(?:underline|decoration)-op(?:acity)?-?(.+)$/,([,t])=>({"--un-line-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"(underline|decoration)-(op|opacity)-<percent>"}],[/^(?:underline|decoration)-offset-(.+)$/,([,t])=>({"text-underline-offset":Z.auto.bracket.cssvar.global.px(t)}),{autocomplete:"(underline|decoration)-(offset)-<num>"}],...mb.map(t=>[`underline-${t}`,{"text-decoration-style":t}]),...mb.map(t=>[`decoration-${t}`,{"text-decoration-style":t}]),["no-underline",{"text-decoration":"none"}],["decoration-none",{"text-decoration":"none"}]];function Hw([,t]){return{"text-decoration-thickness":Z.bracket.cssvar.global.px(t)}}function pP(t,e){if(hc(Z.bracket(t[1])))return Hw(t);const n=cn("text-decoration-color","line")(t,e);if(n){const r=n[0];return r["-webkit-text-decoration-color"]=r["text-decoration-color"],n}}const gP=[[/^pa?()-?(.+)$/,Nt("padding"),{autocomplete:["(m|p)<num>","(m|p)-<num>"]}],[/^p-?xy()()$/,Nt("padding"),{autocomplete:"(m|p)-(xy)"}],[/^p-?([xy])(?:-?(.+))?$/,Nt("padding")],[/^p-?([rltbse])(?:-?(.+))?$/,Nt("padding"),{autocomplete:"(m|p)<directions>-<num>"}],[/^p-(block|inline)(?:-(.+))?$/,Nt("padding"),{autocomplete:"(m|p)-(block|inline)-<num>"}],[/^p-?([bi][se])(?:-?(.+))?$/,Nt("padding"),{autocomplete:"(m|p)-(bs|be|is|ie)-<num>"}]],mP=[[/^ma?()-?(.+)$/,Nt("margin")],[/^m-?xy()()$/,Nt("margin")],[/^m-?([xy])(?:-?(.+))?$/,Nt("margin")],[/^m-?([rltbse])(?:-?(.+))?$/,Nt("margin")],[/^m-(block|inline)(?:-(.+))?$/,Nt("margin")],[/^m-?([bi][se])(?:-?(.+))?$/,Nt("margin")]],vP=[[/^space-([xy])-(.+)$/,bP,{autocomplete:["space-(x|y)","space-(x|y)-reverse","space-(x|y)-$spacing"]}],[/^space-([xy])-reverse$/,function*([,t],{symbols:e}){yield{[e.selector]:Ba,[`--un-space-${t}-reverse`]:"1"},yield Fe(`--un-space-${t}-reverse`,{initialValue:0})}]];function Ba(t){const e=">:not(:last-child)";return t.includes(e)?t:`${t}${e}`}function*bP([,t,e],{theme:n,symbols:r}){let i;const a=hi(e);if(a!=null?(nt("spacing"),i=`calc(var(--spacing) * ${a})`):i=n.spacing?.[e]??Z.bracket.cssvar.auto.fraction.rem(e||"1"),i!=null){const o=cr[t==="x"?"inline":"block"].map((s,l)=>{const c=`margin${s}`,u=` calc(${i} * ${l===0?`var(--un-space-${t}-reverse)`:`calc(1 - var(--un-space-${t}-reverse))`})`;return[c,u]});o&&(yield{[r.selector]:Ba,[`--un-space-${t}-reverse`]:"0",...Object.fromEntries(o)},yield Fe(`--un-space-${t}-reverse`,{initialValue:0}))}}const yP=[[/^divide-(.+)$/,function*(t,e){const n=cn("border-color","divide")(t,e);n&&(yield{[e.symbols.selector]:Ba,...n[0]},yield n[1])},{autocomplete:"divide-$colors"}],[/^divide-op(?:acity)?-?(.+)$/,function*([,t],{symbols:e}){yield{[e.selector]:Ba,"--un-divide-opacity":Z.bracket.percent(t)}},{autocomplete:["divide-(op|opacity)","divide-(op|opacity)-<percent>"]}],[/^divide-?([xy])$/,vb,{autocomplete:["divide-(x|y)","divide-(x|y)-reverse"]}],[/^divide-?([xy])-?(.+)$/,vb],[/^divide-?([xy])-reverse$/,function*([,t],{symbols:e}){yield{[e.selector]:Ba,[`--un-divide-${t}-reverse`]:"1"},yield Fe(`--un-divide-${t}-reverse`,{initialValue:0})}],[new RegExp(`^divide-(${ja.join("|")})$`),function*([,t],{symbols:e}){yield{[e.selector]:Ba,"border-style":t}},{autocomplete:ja.map(t=>`divide-${t}`)}]];function*vb([,t,e],{symbols:n}){let r=Z.bracket.cssvar.px(e||"1");if(r!=null){r==="0"&&(r="0px");const a={x:["-left","-right"],y:["-top","-bottom"]}[t].map(o=>{const s=o.endsWith("left")||o.endsWith("top")?`calc(${r} * var(--un-divide-${t}-reverse))`:`calc(${r} * calc(1 - var(--un-divide-${t}-reverse)))`;return[[`border${o}-width`,s],[`border${o}-style`,"var(--un-border-style)"]]});a&&(yield{[n.selector]:Ba,[`--un-divide-${t}-reverse`]:0,...Object.fromEntries(a.flat())},yield Fe(`--un-divide-${t}-reverse`,{initialValue:0}),yield Fe("--un-border-style",{initialValue:"solid"}))}}const Ww=["blur","brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"],og=Ww.map(t=>Fe(`--un-${t}`)),hd=Ww.map(t=>`var(--un-${t},)`).join(" "),Vw=["backdrop-blur","backdrop-brightness","backdrop-contrast","backdrop-grayscale","backdrop-hue-rotate","backdrop-invert","backdrop-opacity","backdrop-saturate","backdrop-sepia"],xP=Vw.map(t=>Fe(`--un-${t}`)),fd=Vw.map(t=>`var(--un-${t},)`).join(" ");function Of(t){let e=Z.bracket.cssvar(t||"");if(e!=null||(e=t?Z.percent(t):"100%",e!=null&&Number.parseFloat(e.slice(0,-1))<=100))return e}function xi(t,e){return([,n,r],{theme:i})=>{const a=e(r,i)??(r==="none"?"0":"");if(a!=="")return n?[{[`--un-${n}${t}`]:`${t}(${a})`,"-webkit-backdrop-filter":fd,"backdrop-filter":fd},...xP]:[{[`--un-${t}`]:`${t}(${a})`,filter:hd},...og]}}function wP([,t],{theme:e}){let n=e.dropShadow?.[t||"DEFAULT"];if(n!=null)return[{"--un-drop-shadow":`drop-shadow(${Sm(n,"--un-drop-shadow-color").join(") drop-shadow(")})`,filter:hd},...og];if(n=Z.bracket.cssvar(t)??(t==="none"?"":void 0),n!=null)return[{"--un-drop-shadow":n&&`drop-shadow(${n})`,filter:hd},...og]}const _P=[[/^(?:(backdrop-)|filter-)?blur(?:-(.+))?$/,xi("blur",(t,e)=>e.blur?.[t||"DEFAULT"]||Z.bracket.cssvar.px(t)),{autocomplete:["(backdrop|filter)-blur-$blur","blur-$blur","filter-blur"]}],[/^(?:(backdrop-)|filter-)?brightness-(.+)$/,xi("brightness",t=>Z.bracket.cssvar.percent(t)),{autocomplete:["(backdrop|filter)-brightness-<percent>","brightness-<percent>"]}],[/^(?:(backdrop-)|filter-)?contrast-(.+)$/,xi("contrast",t=>Z.bracket.cssvar.percent(t)),{autocomplete:["(backdrop|filter)-contrast-<percent>","contrast-<percent>"]}],[/^(?:filter-)?drop-shadow(?:-(.+))?$/,wP,{autocomplete:["filter-drop","filter-drop-shadow","filter-drop-shadow-color","drop-shadow","drop-shadow-color","filter-drop-shadow-$dropShadow","drop-shadow-$dropShadow","filter-drop-shadow-color-$colors","drop-shadow-color-$colors","filter-drop-shadow-color-(op|opacity)","drop-shadow-color-(op|opacity)","filter-drop-shadow-color-(op|opacity)-<percent>","drop-shadow-color-(op|opacity)-<percent>"]}],[/^(?:filter-)?drop-shadow-color-(.+)$/,cn("--un-drop-shadow-color","drop-shadow")],[/^(?:filter-)?drop-shadow-color-op(?:acity)?-?(.+)$/,([,t])=>({"--un-drop-shadow-opacity":Z.bracket.percent(t)})],[/^(?:(backdrop-)|filter-)?grayscale(?:-(.+))?$/,xi("grayscale",Of),{autocomplete:["(backdrop|filter)-grayscale","(backdrop|filter)-grayscale-<percent>","grayscale-<percent>"]}],[/^(?:(backdrop-)|filter-)?hue-rotate-(.+)$/,xi("hue-rotate",t=>Z.bracket.cssvar.degree(t))],[/^(?:(backdrop-)|filter-)?invert(?:-(.+))?$/,xi("invert",Of),{autocomplete:["(backdrop|filter)-invert","(backdrop|filter)-invert-<percent>","invert-<percent>"]}],[/^(backdrop-)op(?:acity)?-(.+)$/,xi("opacity",t=>Z.bracket.cssvar.percent(t)),{autocomplete:["backdrop-(op|opacity)","backdrop-(op|opacity)-<percent>"]}],[/^(?:(backdrop-)|filter-)?saturate-(.+)$/,xi("saturate",t=>Z.bracket.cssvar.percent(t)),{autocomplete:["(backdrop|filter)-saturate","(backdrop|filter)-saturate-<percent>","saturate-<percent>"]}],[/^(?:(backdrop-)|filter-)?sepia(?:-(.+))?$/,xi("sepia",Of),{autocomplete:["(backdrop|filter)-sepia","(backdrop|filter)-sepia-<percent>","sepia-<percent>"]}],["filter",{filter:hd}],["backdrop-filter",{"-webkit-backdrop-filter":fd,"backdrop-filter":fd}],["filter-none",{filter:"none"}],["backdrop-filter-none",{"-webkit-backdrop-filter":"none","backdrop-filter":"none"}],...qt.map(t=>[`filter-${t}`,{filter:t}]),...qt.map(t=>[`backdrop-filter-${t}`,{"-webkit-backdrop-filter":t,"backdrop-filter":t}])],CP=[["flex",{display:"flex"}],["inline-flex",{display:"inline-flex"}],["flex-inline",{display:"inline-flex"}],[/^flex-(.*)$/,([,t])=>({flex:Z.bracket(t)!=null?Z.bracket(t).split(" ").map(e=>Z.cssvar.fraction(e)??e).join(" "):Z.cssvar.fraction(t)})],["flex-1",{flex:"1 1 0%"}],["flex-auto",{flex:"1 1 auto"}],["flex-initial",{flex:"0 1 auto"}],["flex-none",{flex:"none"}],[/^(?:flex-)?shrink(?:-(.*))?$/,([,t=""])=>({"flex-shrink":Z.bracket.cssvar.number(t)??1}),{autocomplete:["flex-shrink-<num>","shrink-<num>"]}],[/^(?:flex-)?grow(?:-(.*))?$/,([,t=""])=>({"flex-grow":Z.bracket.cssvar.number(t)??1}),{autocomplete:["flex-grow-<num>","grow-<num>"]}],[/^(?:flex-)?basis-(.+)$/,([,t])=>{const e=hi(t);return e!=null?(nt("spacing"),{"flex-basis":`calc(var(--spacing) * ${e})`}):{"flex-basis":Z.bracket.cssvar.auto.fraction.rem(t)}},{autocomplete:["flex-basis-$spacing","basis-$spacing"]}],["flex-row",{"flex-direction":"row"}],["flex-row-reverse",{"flex-direction":"row-reverse"}],["flex-col",{"flex-direction":"column"}],["flex-col-reverse",{"flex-direction":"column-reverse"}],["flex-wrap",{"flex-wrap":"wrap"}],["flex-wrap-reverse",{"flex-wrap":"wrap-reverse"}],["flex-nowrap",{"flex-wrap":"nowrap"}]],bb={"":"",x:"column-",y:"row-",col:"column-",row:"row-"};function Mf([,t="",e]){const n=hi(e);return n!=null?(nt("spacing"),{[`${bb[t]}gap`]:`calc(var(--spacing) * ${n})`}):{[`${bb[t]}gap`]:Z.bracket.cssvar.global.rem(e)}}const kP=[[/^(?:flex-|grid-)?gap-?()(.+)$/,Mf,{autocomplete:["gap-$spacing","gap-<num>"]}],[/^(?:flex-|grid-)?gap-([xy])-?(.+)$/,Mf,{autocomplete:["gap-(x|y)-$spacing","gap-(x|y)-<num>"]}],[/^(?:flex-|grid-)?gap-(col|row)-?(.+)$/,Mf,{autocomplete:["gap-(col|row)-$spacing","gap-(col|row)-<num>"]}]];function ii(t){return t.replace("col","column")}function SP(t){switch(t){case"min":return"min-content";case"max":return"max-content";case"fr":return"minmax(0,1fr)"}return Z.bracket.cssvar.auto.rem(t)}const EP=[["grid",{display:"grid"}],["inline-grid",{display:"inline-grid"}],[/^(?:grid-)?(row|col)-(.+)$/,([,t,e])=>({[`grid-${ii(t)}`]:Z.bracket.number.cssvar.auto(e)})],[/^(?:grid-)?(row|col)-span-(.+)$/,([,t,e])=>{if(e==="full")return{[`grid-${ii(t)}`]:"1/-1"};const n=Z.bracket.number.cssvar(e);if(n!=null)return{[`grid-${ii(t)}`]:`span ${n}/span ${n}`}},{autocomplete:"(grid-row|grid-col|row|col)-span-<num>"}],[/^(?:grid-)?(row|col)-start-(.+)$/,([,t,e])=>({[`grid-${ii(t)}-start`]:Z.bracket.cssvar(e)??e})],[/^(?:grid-)?(row|col)-end-(.+)$/,([,t,e])=>({[`grid-${ii(t)}-end`]:Z.bracket.cssvar(e)??e}),{autocomplete:"(grid-row|grid-col|row|col)-(start|end)-<num>"}],[/^(?:grid-)?auto-(rows|cols)-(.+)$/,([,t,e])=>({[`grid-auto-${ii(t)}`]:SP(e)}),{autocomplete:"(grid-auto|auto)-(rows|cols)-<num>"}],[/^(?:grid-auto-flow|auto-flow|grid-flow)-(.+)$/,([,t])=>({"grid-auto-flow":Z.bracket.cssvar(t)})],[/^(?:grid-auto-flow|auto-flow|grid-flow)-(row|col|dense|row-dense|col-dense)$/,([,t])=>({"grid-auto-flow":ii(t).replace("-"," ")}),{autocomplete:["(grid-auto-flow|auto-flow|grid-flow)-(row|col|dense|row-dense|col-dense)"]}],[/^(?:grid-)?(rows|cols)-(.+)$/,([,t,e])=>({[`grid-template-${ii(t)}`]:Z.bracket.cssvar(e)})],[/^(?:grid-)?(rows|cols)-minmax-([\w.-]+)$/,([,t,e])=>({[`grid-template-${ii(t)}`]:`repeat(auto-fill,minmax(${e},1fr))`})],[/^(?:grid-)?(rows|cols)-(\d+)$/,([,t,e])=>({[`grid-template-${ii(t)}`]:`repeat(${e},minmax(0,1fr))`}),{autocomplete:"(grid-rows|grid-cols|rows|cols)-<num>"}],[/^grid-area(s)?-(.+)$/,([,t,e])=>t!=null?{"grid-template-areas":Z.cssvar(e)??e.split("-").map(n=>`"${Z.bracket(n)}"`).join(" ")}:{"grid-area":Z.bracket.cssvar(e)}],["grid-rows-none",{"grid-template-rows":"none"}],["grid-cols-none",{"grid-template-columns":"none"}],["grid-rows-subgrid",{"grid-template-rows":"subgrid"}],["grid-cols-subgrid",{"grid-template-columns":"subgrid"}]],zc=["auto","hidden","clip","visible","scroll","overlay",...qt],TP=[[/^(?:overflow|of)-(.+)$/,([,t])=>zc.includes(t)?{overflow:t}:void 0,{autocomplete:[`(overflow|of)-(${zc.join("|")})`,`(overflow|of)-(x|y)-(${zc.join("|")})`]}],[/^(?:overflow|of)-([xy])-(.+)$/,([,t,e])=>zc.includes(e)?{[`overflow-${t}`]:e}:void 0]],AP=[[/^line-clamp-(\d+)$/,([,t])=>({overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":t}),{autocomplete:["line-clamp","line-clamp-(1|2|3|4|5|6|none)"]}],["line-clamp-none",{overflow:"visible",display:"block","-webkit-box-orient":"horizontal","-webkit-line-clamp":"unset"}]],OP=[[/^\$ placeholder-(.+)$/,cn("color","placeholder"),{autocomplete:"placeholder-$colors"}],[/^\$ placeholder-op(?:acity)?-?(.+)$/,([,t])=>({"--un-placeholder-opacity":Z.bracket.percent(t)}),{autocomplete:["placeholder-(op|opacity)","placeholder-(op|opacity)-<percent>"]}]],MP=[[/^(?:position-|pos-)?(relative|absolute|fixed|sticky)$/,([,t])=>({position:t}),{autocomplete:["(position|pos)-<position>","(position|pos)-<globalKeyword>","<position>"]}],[/^(?:position-|pos-)([-\w]+)$/,([,t])=>qt.includes(t)?{position:t}:void 0],[/^(?:position-|pos-)?(static)$/,([,t])=>({position:t})]],Gw=[["justify-start",{"justify-content":"flex-start"}],["justify-end",{"justify-content":"flex-end"}],["justify-center",{"justify-content":"center"}],["justify-between",{"justify-content":"space-between"}],["justify-around",{"justify-content":"space-around"}],["justify-evenly",{"justify-content":"space-evenly"}],["justify-stretch",{"justify-content":"stretch"}],["justify-left",{"justify-content":"left"}],["justify-right",{"justify-content":"right"}],["justify-center-safe",{"justify-content":"safe center"}],["justify-end-safe",{"justify-content":"safe flex-end"}],["justify-normal",{"justify-content":"normal"}],...rt("justify","justify-content"),["justify-items-start",{"justify-items":"start"}],["justify-items-end",{"justify-items":"end"}],["justify-items-center",{"justify-items":"center"}],["justify-items-stretch",{"justify-items":"stretch"}],["justify-items-center-safe",{"justify-items":"safe center"}],["justify-items-end-safe",{"justify-items":"safe flex-end"}],...rt("justify-items"),["justify-self-auto",{"justify-self":"auto"}],["justify-self-start",{"justify-self":"start"}],["justify-self-end",{"justify-self":"end"}],["justify-self-center",{"justify-self":"center"}],["justify-self-stretch",{"justify-self":"stretch"}],["justify-self-baseline",{"justify-self":"baseline"}],["justify-self-center-safe",{"justify-self":"safe center"}],["justify-self-end-safe",{"justify-self":"safe flex-end"}],...rt("justify-self")],RP=[[/^order-(.+)$/,([,t])=>({order:Z.bracket.cssvar.number(t)})],["order-first",{order:"calc(-infinity)"}],["order-last",{order:"calc(infinity)"}],["order-none",{order:"0"}]],Xw=[["content-center",{"align-content":"center"}],["content-start",{"align-content":"flex-start"}],["content-end",{"align-content":"flex-end"}],["content-between",{"align-content":"space-between"}],["content-around",{"align-content":"space-around"}],["content-evenly",{"align-content":"space-evenly"}],["content-baseline",{"align-content":"baseline"}],["content-center-safe",{"align-content":"safe center"}],["content-end-safe",{"align-content":"safe flex-end"}],["content-stretch",{"align-content":"stretch"}],["content-normal",{"align-content":"normal"}],...rt("content","align-content"),["items-start",{"align-items":"flex-start"}],["items-end",{"align-items":"flex-end"}],["items-center",{"align-items":"center"}],["items-baseline",{"align-items":"baseline"}],["items-stretch",{"align-items":"stretch"}],["items-baseline-last",{"align-items":"last baseline"}],["items-center-safe",{"align-items":"safe center"}],["items-end-safe",{"align-items":"safe flex-end"}],...rt("items","align-items"),["self-auto",{"align-self":"auto"}],["self-start",{"align-self":"flex-start"}],["self-end",{"align-self":"flex-end"}],["self-center",{"align-self":"center"}],["self-stretch",{"align-self":"stretch"}],["self-baseline",{"align-self":"baseline"}],["self-baseline-last",{"align-self":"last baseline"}],["self-center-safe",{"align-self":"safe center"}],["self-end-safe",{"align-self":"safe flex-end"}],...rt("self","align-self")],qw=[["place-content-center",{"place-content":"center"}],["place-content-start",{"place-content":"start"}],["place-content-end",{"place-content":"end"}],["place-content-between",{"place-content":"space-between"}],["place-content-around",{"place-content":"space-around"}],["place-content-evenly",{"place-content":"space-evenly"}],["place-content-stretch",{"place-content":"stretch"}],["place-content-baseline",{"place-content":"baseline"}],["place-content-center-safe",{"place-content":"safe center"}],["place-content-end-safe",{"place-content":"safe flex-end"}],...rt("place-content"),["place-items-start",{"place-items":"start"}],["place-items-end",{"place-items":"end"}],["place-items-center",{"place-items":"center"}],["place-items-stretch",{"place-items":"stretch"}],["place-items-baseline",{"place-items":"baseline"}],["place-items-center-safe",{"place-items":"safe center"}],["place-items-end-safe",{"place-items":"safe flex-end"}],...rt("place-items"),["place-self-auto",{"place-self":"auto"}],["place-self-start",{"place-self":"start"}],["place-self-end",{"place-self":"end"}],["place-self-center",{"place-self":"center"}],["place-self-stretch",{"place-self":"stretch"}],["place-self-center-safe",{"place-self":"safe center"}],["place-self-end-safe",{"place-self":"safe flex-end"}],...rt("place-self")],$P=[...Gw,...Xw,...qw].flatMap(([t,e])=>[[`flex-${t}`,e],[`grid-${t}`,e]]);function sg(t){const e=hi(t);return e!=null?(nt("spacing"),`calc(var(--spacing) * ${e})`):Z.bracket.cssvar.global.auto.fraction.rem(t)}function Ms([,t,e]){const n=sg(e);if(n!=null&&t in sb)return sb[t].map(r=>[r.slice(1),n])}const FP=[[/^(?:position-|pos-)?inset-(.+)$/,([,t])=>({inset:sg(t)}),{autocomplete:["(position|pos)-inset-<directions>-$spacing","(position|pos)-inset-(block|inline)-$spacing","(position|pos)-inset-(bs|be|is|ie)-$spacing","(position|pos)-(top|left|right|bottom)-$spacing"]}],[/^(?:position-|pos-)?(start|end)-(.+)$/,Ms],[/^(?:position-|pos-)?inset-([xy])-(.+)$/,Ms],[/^(?:position-|pos-)?inset-([rltbse])-(.+)$/,Ms],[/^(?:position-|pos-)?inset-(block|inline)-(.+)$/,Ms],[/^(?:position-|pos-)?inset-([bi][se])-(.+)$/,Ms],[/^(?:position-|pos-)?(top|left|right|bottom)-(.+)$/,([,t,e])=>({[t]:sg(e)})]],PP=[["float-left",{float:"left"}],["float-right",{float:"right"}],["float-start",{float:"inline-start"}],["float-end",{float:"inline-end"}],["float-none",{float:"none"}],...rt("float"),["clear-left",{clear:"left"}],["clear-right",{clear:"right"}],["clear-both",{clear:"both"}],["clear-start",{clear:"inline-start"}],["clear-end",{clear:"inline-end"}],["clear-none",{clear:"none"}],...rt("clear")],DP=[[/^(?:position-|pos-)?z([\d.]+)$/,([,t])=>({"z-index":Z.number(t)})],[/^(?:position-|pos-)?z-(.+)$/,([,t])=>({"z-index":Z.bracket.cssvar.global.auto.number(t)}),{autocomplete:"z-<num>"}]],LP=[["box-border",{"box-sizing":"border-box"}],["box-content",{"box-sizing":"content-box"}],...rt("box","box-sizing")],IP=[[/^(where|\?)$/,(t,{constructCSS:e,generator:n})=>{if(n.userConfig.envMode==="dev")return`@keyframes __un_qm{0%{box-shadow:inset 4px 4px #ff1e90, inset -4px -4px #ff1e90}100%{box-shadow:inset 8px 8px #3399ff, inset -8px -8px #3399ff}} ${e({animation:"__un_qm 0.5s ease-in-out alternate infinite"})}`}]],lg={shadow:Fe("--un-shadow",{initialValue:"0 0 #0000"}),shadowColor:Fe("--un-shadow-color"),insetShadow:Fe("--un-inset-shadow",{initialValue:"0 0 #0000"}),insetShadowColor:Fe("--un-inset-shadow-color"),ringColor:Fe("--un-ring-color"),ringShadow:Fe("--un-ring-shadow",{initialValue:"0 0 #0000"}),insetRingColor:Fe("--un-inset-ring-color"),insetRingShadow:Fe("--un-inset-ring-shadow",{initialValue:"0 0 #0000"}),ringInset:Fe("--un-ring-inset"),ringOffsetWidth:Fe("--un-ring-offset-width",{syntax:"<length>",initialValue:"0px"}),ringOffsetColor:Fe("--un-ring-offset-color"),ringOffsetShadow:Fe("--un-ring-offset-shadow",{initialValue:"0 0 #0000"})},NP=[[/^shadow(?:-(.+))?$/,yb("shadow"),{autocomplete:["shadow-$colors","shadow-$shadow"]}],[/^shadow-op(?:acity)?-?(.+)$/,([,t])=>({"--un-shadow-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"shadow-(op|opacity)-<percent>"}],[/^inset-shadow(?:-(.+))?$/,yb("insetShadow"),{autocomplete:["inset-shadow-$colors","inset-shadow-$insetShadow"]}],[/^inset-shadow-op(?:acity)?-?(.+)$/,([,t])=>({"--un-inset-shadow-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"shadow-(op|opacity)-<percent>"}]];function yb(t){return(e,n)=>{const[,r]=e,{theme:i}=n,a=i[t]?.[r||"DEFAULT"],o=r?Z.bracket.cssvar(r):void 0,s=y$(t);return(a!=null||o!=null)&&!Em(o,i)?[{[`--un-${s}`]:Sm(a||o,`--un-${s}-color`).join(","),"box-shadow":"var(--un-inset-shadow), var(--un-inset-ring-shadow), var(--un-ring-offset-shadow), var(--un-ring-shadow), var(--un-shadow)"},...Object.values(lg)]:cn(`--un-${s}-color`,s)(e,n)}}const jP=[[/^ring(?:-(.+))?$/,([,t])=>{const e=Z.bracket.px(t||"1");if(e!=null)return[{"--un-ring-shadow":`var(--un-ring-inset,) 0 0 0 calc(${e} + var(--un-ring-offset-width)) var(--un-ring-color, currentColor)`,"box-shadow":"var(--un-inset-shadow), var(--un-inset-ring-shadow), var(--un-ring-offset-shadow), var(--un-ring-shadow), var(--un-shadow)"},...Object.values(lg)]}],[/^ring-(.+)$/,cn("--un-ring-color","ring"),{autocomplete:"ring-$colors"}],[/^ring-op(?:acity)?-?(.+)$/,([,t])=>({"--un-ring-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"ring-(op|opacity)-<percent>"}],[/^inset-ring(?:-(.+))?$/,([,t])=>{const e=Z.bracket.px(t||"1");if(e!=null)return[{"--un-inset-ring-shadow":`inset 0 0 0 ${e} var(--un-inset-ring-color, currentColor)`,"box-shadow":"var(--un-inset-shadow), var(--un-inset-ring-shadow), var(--un-ring-offset-shadow), var(--un-ring-shadow), var(--un-shadow)"},...Object.values(lg)]}],[/^inset-ring-(.+)$/,cn("--un-inset-ring-color","inset-ring"),{autocomplete:"inset-ring-$colors"}],[/^inset-ring-op(?:acity)?-?(.+)$/,([,t])=>({"--un-inset-ring-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"inset-ring-(op|opacity)-<percent>"}],[/^ring-offset(?:-(?:width-|size-)?(.+))?$/,([,t])=>{const e=Z.bracket.cssvar.px(t||"1");if(e!=null)return{"--un-ring-offset-width":e,"--un-ring-offset-shadow":"var(--un-ring-inset,) 0 0 0 var(--un-ring-offset-width) var(--un-ring-offset-color)"}},{autocomplete:"ring-offset-$colors"}],[/^ring-offset-(.+)$/,cn("--un-ring-offset-color","ring-offset"),{autocomplete:"ring-offset-$colors"}],[/^ring-offset-op(?:acity)?-?(.+)$/,([,t])=>({"--un-ring-offset-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"ring-offset-(op|opacity)-<percent>"}],["ring-inset",{"--un-ring-inset":"inset"}]],BP=[...["x","y","both"].map(t=>[`snap-${t}`,[{"scroll-snap-type":`${t} var(--un-scroll-snap-strictness)`},Fe("--un-scroll-snap-strictness",{initialValue:"proximity"})]]),...["mandatory","proximity"].map(t=>[`snap-${t}`,[{"--un-scroll-snap-strictness":t},Fe("--un-scroll-snap-strictness",{initialValue:"proximity"})]]),["snap-none",{"scroll-snap-type":"none"}],["snap-start",{"scroll-snap-align":"start"}],["snap-end",{"scroll-snap-align":"end"}],["snap-center",{"scroll-snap-align":"center"}],["snap-align-none",{"scroll-snap-align":"none"}],["snap-normal",{"scroll-snap-stop":"normal"}],["snap-always",{"scroll-snap-stop":"always"}],[/^scroll-ma?()-?(.+)$/,Nt("scroll-margin"),{autocomplete:["scroll-(m|p|ma|pa|block|inline)","scroll-(m|p|ma|pa|block|inline)-$spacing","scroll-(m|p|ma|pa|block|inline)-(x|y|r|l|t|b|bs|be|is|ie)","scroll-(m|p|ma|pa|block|inline)-(x|y|r|l|t|b|bs|be|is|ie)-$spacing"]}],[/^scroll-m-?([xy])-?(.+)$/,Nt("scroll-margin")],[/^scroll-m-?([rltb])-?(.+)$/,Nt("scroll-margin")],[/^scroll-m-(block|inline)-(.+)$/,Nt("scroll-margin")],[/^scroll-m-?([bi][se])-?(.+)$/,Nt("scroll-margin")],[/^scroll-pa?()-?(.+)$/,Nt("scroll-padding")],[/^scroll-p-?([xy])-?(.+)$/,Nt("scroll-padding")],[/^scroll-p-?([rltb])-?(.+)$/,Nt("scroll-padding")],[/^scroll-p-(block|inline)-(.+)$/,Nt("scroll-padding")],[/^scroll-p-?([bi][se])-?(.+)$/,Nt("scroll-padding")]],UP={h:"height",w:"width",inline:"inline-size",block:"block-size"};function fo(t,e){return`${t||""}${UP[e]}`}function Hc(t,e,n){let r;const i=["container","spacing"];for(const a of i)if(t[a]?.[n]){nt(a,n),r=Gt(a,n);break}if(!r)switch(n){case"fit":case"max":case"min":r=`${n}-content`;break;case"screen":r=e==="w"?"100vw":"100vh";break}return!r&&Z.number(n)!=null&&(nt("spacing"),r=`calc(var(--spacing) * ${Z.number(n)})`),r??Z.bracket.cssvar.global.auto.none.fraction.rem(n)}const zP=[[/^size-(min-|max-)?(.+)$/,([,t,e],{theme:n})=>({[fo(t,"w")]:Hc(n,"w",e),[fo(t,"h")]:Hc(n,"h",e)})],[/^(?:size-)?(min-|max-)?([wh])-?(.+)$/,([,t,e,n],{theme:r})=>({[fo(t,e)]:Hc(r,e,n)})],[/^(?:size-)?(min-|max-)?(block|inline)-(.+)$/,([,t,e,n],{theme:r})=>({[fo(t,e)]:Hc(r,e,n)}),{autocomplete:["(w|h)-<num>","(w|h)-(full|screen|fit|max|min)","(max|min)-(w|h)-<num>","(max|min)-(w|h)-(full|screen|fit|max|min)","(block|inline)-<num>","(block|inline)-(full|screen|fit|max|min)","(max|min)-(w|h|block|inline)","(max|min)-(w|h|block|inline)-<num>","(max|min)-(w|h|block|inline)-(full|screen|fit|max|min)"]}],[/^(?:size-)?(min-|max-)?(h)-screen-(.+)$/,([,t,e,n],r)=>({[fo(t,e)]:xb(r,n,"verticalBreakpoint")})],[/^(?:size-)?(min-|max-)?(w)-screen-(.+)$/,([,t,e,n],r)=>({[fo(t,e)]:xb(r,n)}),{autocomplete:["(w|h)-screen","(min|max)-(w|h)-screen","h-screen-$breakpoint","(min|max)-h-screen-$breakpoint","w-screen-$breakpoint","(min|max)-w-screen-$breakpoint"]}]];function xb(t,e,n="breakpoint"){const r=lh(t,n);if(r)return r.find(i=>i.point===e)?.size}function HP(t){if(/^\d+\/\d+$/.test(t))return t;switch(t){case"square":return"1/1";case"video":return"16/9"}return Z.bracket.cssvar.global.auto.number(t)}const WP=[[/^(?:size-)?aspect-(?:ratio-)?(.+)$/,([,t])=>({"aspect-ratio":HP(t)}),{autocomplete:["aspect-(square|video|ratio)","aspect-ratio-(square|video)"]}]],VP=["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out"],Rf=["size","layout","paint","style"],GP=[["inline",{display:"inline"}],["block",{display:"block"}],["inline-block",{display:"inline-block"}],["contents",{display:"contents"}],["flow-root",{display:"flow-root"}],["list-item",{display:"list-item"}],["hidden",{display:"none"}],[/^display-(.+)$/,([,t])=>({display:Z.bracket.cssvar.global(t)})]],XP=[["visible",{visibility:"visible"}],["invisible",{visibility:"hidden"}],["collapse",{visibility:"collapse"}],["backface-visible",{"backface-visibility":"visible"}],["backface-hidden",{"backface-visibility":"hidden"}],...rt("backface","backface-visibility")],qP=[[/^cursor-(.+)$/,([,t])=>({cursor:Z.bracket.cssvar.global(t)})],...VP.map(t=>[`cursor-${t}`,{cursor:t}])],YP=[[/^contain-(.*)$/,([,t])=>Z.bracket(t)!=null?{contain:Z.bracket(t).split(" ").map(e=>Z.cssvar.fraction(e)??e).join(" ")}:Rf.includes(t)?[{"--un-contain-size":t,contain:Rf.map(e=>`var(--un-contain-${e})`).join(" ")},...Rf.map(e=>Fe(`--un-contain-${e}`))]:void 0],["contain-strict",{contain:"strict"}],["contain-content",{contain:"content"}],["contain-none",{contain:"none"}]],KP=[["pointer-events-auto",{"pointer-events":"auto"}],["pointer-events-none",{"pointer-events":"none"}],...rt("pointer-events")],ZP=[["resize-x",{resize:"horizontal"}],["resize-y",{resize:"vertical"}],["resize",{resize:"both"}],["resize-none",{resize:"none"}],...rt("resize")],JP=[["select-auto",{"-webkit-user-select":"auto","user-select":"auto"}],["select-all",{"-webkit-user-select":"all","user-select":"all"}],["select-text",{"-webkit-user-select":"text","user-select":"text"}],["select-none",{"-webkit-user-select":"none","user-select":"none"}],...rt("select","user-select")],QP=[[/^(?:whitespace-|ws-)([-\w]+)$/,([,t])=>["normal","nowrap","pre","pre-line","pre-wrap","break-spaces",...qt].includes(t)?{"white-space":t}:void 0,{autocomplete:"(whitespace|ws)-(normal|nowrap|pre|pre-line|pre-wrap|break-spaces)"}]],eD=[[/^intrinsic-size-(.+)$/,([,t])=>({"contain-intrinsic-size":Z.bracket.cssvar.global.fraction.rem(t)}),{autocomplete:"intrinsic-size-<num>"}],["content-visibility-visible",{"content-visibility":"visible"}],["content-visibility-hidden",{"content-visibility":"hidden"}],["content-visibility-auto",{"content-visibility":"auto"}],...rt("content-visibility")],tD=[[/^content-(.+)$/,([,t])=>{if(Z.bracket.cssvar(t)!=null)return[{"--un-content":Z.bracket.cssvar(t),content:"var(--un-content)"},Fe("--un-content",{initialValue:'""'})]}],["content-empty",{content:'""'}],["content-none",{content:"none"}]],nD=[["break-normal",{"overflow-wrap":"normal","word-break":"normal"}],["break-words",{"overflow-wrap":"break-word"}],["break-all",{"word-break":"break-all"}],["break-keep",{"word-break":"keep-all"}],["break-anywhere",{"overflow-wrap":"anywhere"}]],rD=[["text-wrap",{"text-wrap":"wrap"}],["text-nowrap",{"text-wrap":"nowrap"}],["text-balance",{"text-wrap":"balance"}],["text-pretty",{"text-wrap":"pretty"}]],iD=[["truncate",{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}],["text-truncate",{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}],["text-ellipsis",{"text-overflow":"ellipsis"}],["text-clip",{"text-overflow":"clip"}]],aD=[["case-upper",{"text-transform":"uppercase"}],["case-lower",{"text-transform":"lowercase"}],["case-capital",{"text-transform":"capitalize"}],["case-normal",{"text-transform":"none"}],["uppercase",{"text-transform":"uppercase"}],["lowercase",{"text-transform":"lowercase"}],["capitalize",{"text-transform":"capitalize"}],["normal-case",{"text-transform":"none"}],...rt("case","text-transform")],oD=[["italic",{"font-style":"italic"}],["not-italic",{"font-style":"normal"}],["font-italic",{"font-style":"italic"}],["font-not-italic",{"font-style":"normal"}],["oblique",{"font-style":"oblique"}],["not-oblique",{"font-style":"normal"}],["font-oblique",{"font-style":"oblique"}],["font-not-oblique",{"font-style":"normal"}]],sD=[["antialiased",{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"}],["subpixel-antialiased",{"-webkit-font-smoothing":"auto","-moz-osx-font-smoothing":"auto"}]],lD=[...["manual","auto","none",...qt].map(t=>[`hyphens-${t}`,{"-webkit-hyphens":t,"-ms-hyphens":t,hyphens:t}])],cD=[["write-vertical-right",{"writing-mode":"vertical-rl"}],["write-vertical-left",{"writing-mode":"vertical-lr"}],["write-normal",{"writing-mode":"horizontal-tb"}],...rt("write","writing-mode")],uD=[["write-orient-mixed",{"text-orientation":"mixed"}],["write-orient-sideways",{"text-orientation":"sideways"}],["write-orient-upright",{"text-orientation":"upright"}],...rt("write-orient","text-orientation")],dD=[["sr-only",{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0,0,0,0)","white-space":"nowrap","border-width":0}],["not-sr-only",{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto","white-space":"normal"}]],hD=[["isolate",{isolation:"isolate"}],["isolate-auto",{isolation:"auto"}],["isolation-auto",{isolation:"auto"}]],fD=[["object-cover",{"object-fit":"cover"}],["object-contain",{"object-fit":"contain"}],["object-fill",{"object-fit":"fill"}],["object-scale-down",{"object-fit":"scale-down"}],["object-none",{"object-fit":"none"}],[/^object-(.+)$/,([,t])=>{if(Vr[t])return{"object-position":Vr[t]};if(Z.bracketOfPosition(t)!=null)return{"object-position":Z.bracketOfPosition(t).split(" ").map(e=>Z.position.fraction.auto.px.cssvar(e)??e).join(" ")}},{autocomplete:`object-(${Object.keys(Vr).join("|")})`}]],pD=[["bg-blend-multiply",{"background-blend-mode":"multiply"}],["bg-blend-screen",{"background-blend-mode":"screen"}],["bg-blend-overlay",{"background-blend-mode":"overlay"}],["bg-blend-darken",{"background-blend-mode":"darken"}],["bg-blend-lighten",{"background-blend-mode":"lighten"}],["bg-blend-color-dodge",{"background-blend-mode":"color-dodge"}],["bg-blend-color-burn",{"background-blend-mode":"color-burn"}],["bg-blend-hard-light",{"background-blend-mode":"hard-light"}],["bg-blend-soft-light",{"background-blend-mode":"soft-light"}],["bg-blend-difference",{"background-blend-mode":"difference"}],["bg-blend-exclusion",{"background-blend-mode":"exclusion"}],["bg-blend-hue",{"background-blend-mode":"hue"}],["bg-blend-saturation",{"background-blend-mode":"saturation"}],["bg-blend-color",{"background-blend-mode":"color"}],["bg-blend-luminosity",{"background-blend-mode":"luminosity"}],["bg-blend-normal",{"background-blend-mode":"normal"}],...rt("bg-blend","background-blend")],gD=[["mix-blend-multiply",{"mix-blend-mode":"multiply"}],["mix-blend-screen",{"mix-blend-mode":"screen"}],["mix-blend-overlay",{"mix-blend-mode":"overlay"}],["mix-blend-darken",{"mix-blend-mode":"darken"}],["mix-blend-lighten",{"mix-blend-mode":"lighten"}],["mix-blend-color-dodge",{"mix-blend-mode":"color-dodge"}],["mix-blend-color-burn",{"mix-blend-mode":"color-burn"}],["mix-blend-hard-light",{"mix-blend-mode":"hard-light"}],["mix-blend-soft-light",{"mix-blend-mode":"soft-light"}],["mix-blend-difference",{"mix-blend-mode":"difference"}],["mix-blend-exclusion",{"mix-blend-mode":"exclusion"}],["mix-blend-hue",{"mix-blend-mode":"hue"}],["mix-blend-saturation",{"mix-blend-mode":"saturation"}],["mix-blend-color",{"mix-blend-mode":"color"}],["mix-blend-luminosity",{"mix-blend-mode":"luminosity"}],["mix-blend-plus-lighter",{"mix-blend-mode":"plus-lighter"}],["mix-blend-normal",{"mix-blend-mode":"normal"}],...rt("mix-blend")],mD=[["min-h-dvh",{"min-height":"100dvh"}],["min-h-svh",{"min-height":"100svh"}],["min-h-lvh",{"min-height":"100lvh"}],["h-dvh",{height:"100dvh"}],["h-svh",{height:"100svh"}],["h-lvh",{height:"100lvh"}],["max-h-dvh",{"max-height":"100dvh"}],["max-h-svh",{"max-height":"100svh"}],["max-h-lvh",{"max-height":"100lvh"}]],vD=[["forced-color-adjust-auto",{"forced-color-adjust":"auto"}],["forced-color-adjust-none",{"forced-color-adjust":"none"}]],bD=[["field-sizing-fixed",{"field-sizing":"fixed"}],["field-sizing-content",{"field-sizing":"content"}]],yD=[[/^fill-(.+)$/,cn("fill","fill"),{autocomplete:"fill-$colors"}],[/^fill-op(?:acity)?-?(.+)$/,([,t])=>({"--un-fill-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"fill-(op|opacity)-<percent>"}],["fill-none",{fill:"none"}],[/^stroke-(?:width-|size-)?(.+)$/,Yw],[/^stroke-dash-(.+)$/,([,t])=>({"stroke-dasharray":Z.bracket.cssvar.number(t)}),{autocomplete:"stroke-dash-<num>"}],[/^stroke-offset-(.+)$/,([,t])=>({"stroke-dashoffset":Z.bracket.cssvar.px.numberWithUnit(t)})],[/^stroke-(.+)$/,xD,{autocomplete:"stroke-$colors"}],[/^stroke-op(?:acity)?-?(.+)$/,([,t])=>({"--un-stroke-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"stroke-(op|opacity)-<percent>"}],["stroke-cap-square",{"stroke-linecap":"square"}],["stroke-cap-round",{"stroke-linecap":"round"}],["stroke-cap-auto",{"stroke-linecap":"butt"}],["stroke-join-arcs",{"stroke-linejoin":"arcs"}],["stroke-join-bevel",{"stroke-linejoin":"bevel"}],["stroke-join-clip",{"stroke-linejoin":"miter-clip"}],["stroke-join-round",{"stroke-linejoin":"round"}],["stroke-join-auto",{"stroke-linejoin":"miter"}],["stroke-none",{stroke:"none"}]];function Yw([,t]){return{"stroke-width":Z.bracket.cssvar.fraction.px.number(t)}}function xD(t,e){return hc(Z.bracket(t[1]))?Yw(t):cn("stroke","stroke")(t,e)}const wD=[["inline-table",{display:"inline-table"}],["table",{display:"table"}],["table-caption",{display:"table-caption"}],["table-cell",{display:"table-cell"}],["table-column",{display:"table-column"}],["table-column-group",{display:"table-column-group"}],["table-footer-group",{display:"table-footer-group"}],["table-header-group",{display:"table-header-group"}],["table-row",{display:"table-row"}],["table-row-group",{display:"table-row-group"}],["border-collapse",{"border-collapse":"collapse"}],["border-separate",{"border-collapse":"separate"}],[/^border-spacing-(.+)$/,function*([,t],{theme:e}){const n=wb(t,e);if(n!=null){yield{"--un-border-spacing-x":n,"--un-border-spacing-y":n,"border-spacing":"var(--un-border-spacing-x) var(--un-border-spacing-y)"};for(const r of["x","y"])yield Fe(`--un-border-spacing-${r}`,{syntax:"<length>",initialValue:"0"})}},{autocomplete:["border-spacing","border-spacing-$spacing"]}],[/^border-spacing-([xy])-(.+)$/,function*([,t,e],{theme:n}){const r=wb(e,n);if(r!=null){yield{[`--un-border-spacing-${t}`]:r,"border-spacing":"var(--un-border-spacing-x) var(--un-border-spacing-y)"};for(const i of["x","y"])yield Fe(`--un-border-spacing-${i}`,{syntax:"<length>",initialValue:"0"})}},{autocomplete:["border-spacing-(x|y)","border-spacing-(x|y)-$spacing"]}],["caption-top",{"caption-side":"top"}],["caption-bottom",{"caption-side":"bottom"}],["table-auto",{"table-layout":"auto"}],["table-fixed",{"table-layout":"fixed"}],["table-empty-cells-visible",{"empty-cells":"show"}],["table-empty-cells-hidden",{"empty-cells":"hide"}]];function wb(t,e){let n=e.spacing?.[t];if(!n){const r=hi(t);r!=null?(nt("spacing"),n=`calc(var(--spacing) * ${r})`):n=Z.bracket.cssvar.global.auto.fraction.rem(t)}return n}const $f="var(--un-pan-x) var(--un-pan-y) var(--un-pinch-zoom)",Ff=["pan-x","pan-y","pinch-zoom"].map(t=>Fe(`--un-${t}`)),_D=[[/^touch-pan-(x|left|right)$/,function*([,t]){yield{"--un-pan-x":`pan-${t}`,"touch-action":$f};for(const e of Ff)yield e},{autocomplete:["touch-pan","touch-pan-(x|left|right|y|up|down)"]}],[/^touch-pan-(y|up|down)$/,function*([,t]){yield{"--un-pan-y":`pan-${t}`,"touch-action":$f};for(const e of Ff)yield e}],[/^touch-pinch-zoom$/,function*(){yield{"--un-pinch-zoom":"pinch-zoom","touch-action":$f};for(const t of Ff)yield t}],["touch-auto",{"touch-action":"auto"}],["touch-manipulation",{"touch-action":"manipulation"}],["touch-none",{"touch-action":"none"}],...rt("touch","touch-action")],Wc=["translate","rotate","scale"],Tm=["var(--un-rotate-x)","var(--un-rotate-y)","var(--un-rotate-z)","var(--un-skew-x)","var(--un-skew-y)"].join(" "),Am=Tm,CD=["translateZ(0)",Tm].join(" "),kD=[[/^(?:transform-)?origin-(.+)$/,([,t])=>({"transform-origin":Vr[t]??Z.bracket.cssvar(t)}),{autocomplete:[`transform-origin-(${Object.keys(Vr).join("|")})`,`origin-(${Object.keys(Vr).join("|")})`]}],[/^(?:transform-)?perspect(?:ive)?-(.+)$/,([,t],{theme:e})=>{let n;if(e.perspective?.[t]?(nt("perspective",t),n=Gt("perspective",t)):n=Z.bracket.cssvar.px.numberWithUnit(t),n!=null)return{perspective:n}},{autocomplete:["transform-perspective-<num>","perspective-<num>","perspective-$perspective"]}],[/^(?:transform-)?perspect(?:ive)?-origin-(.+)$/,([,t])=>{const e=Z.bracket.cssvar(t)??(t.length>=3?Vr[t]:void 0);if(e!=null)return{"perspective-origin":e}}],[/^(?:transform-)?translate-()(.+)$/,_b],[/^(?:transform-)?translate-([xyz])-(.+)$/,_b],[/^(?:transform-)?rotate-()(.+)$/,kb],[/^(?:transform-)?rotate-([xyz])-(.+)$/,kb],[/^(?:transform-)?skew-()(.+)$/,Sb],[/^(?:transform-)?skew-([xy])-(.+)$/,Sb,{autocomplete:["transform-skew-(x|y)-<percent>","skew-(x|y)-<percent>"]}],[/^(?:transform-)?scale-()(.+)$/,Cb],[/^(?:transform-)?scale-([xyz])-(.+)$/,Cb,{autocomplete:[`transform-(${Wc.join("|")})-<percent>`,`transform-(${Wc.join("|")})-(x|y|z)-<percent>`,`(${Wc.join("|")})-<percent>`,`(${Wc.join("|")})-(x|y|z)-<percent>`]}],["transform-3d",{"transform-style":"preserve-3d"}],["transform-flat",{"transform-style":"flat"}],[/^transform-(border|content|fill|stroke|view)$/,([,t])=>({"transform-box":`${t}-box`})],["transform",{transform:Am}],["transform-cpu",{transform:Tm}],["transform-gpu",{transform:CD}],["transform-none",{transform:"none"}],...rt("transform")];function _b([,t,e]){const n=hi(e)??Z.bracket.cssvar.none.fraction.rem(e);if(n!=null)return n==="none"?{translate:"none"}:(nt("spacing"),[[...Om(t,typeof n=="number"?`calc(var(--spacing) * ${n})`:n,"translate"),["translate",`var(--un-translate-x) var(--un-translate-y)${t==="z"?" var(--un-translate-z)":""}`,ag]],...["x","y","z"].map(r=>Fe(`--un-translate-${r}`,{initialValue:0}))])}function Cb([,t,e]){const n=Z.bracket.cssvar.none.fraction.percent(e);if(n!=null)return n==="none"?{scale:"none"}:[[...Om(t,n,"scale"),["scale",`var(--un-scale-x) var(--un-scale-y)${t==="z"?" var(--un-scale-z)":""}`]],...["x","y","z"].map(r=>Fe(`--un-scale-${r}`,{initialValue:1}))]}function kb([,t="",e]){const n=Z.bracket.cssvar.none.degree(e);if(n!=null)return n==="none"?{rotate:"none"}:t?[[...Om(t,n.endsWith("deg")?`rotate${t.toUpperCase()}(${n})`:n,"rotate"),["transform",Am]],...["x","y","z"].map(r=>Fe(`--un-rotate-${r}`,{initialValue:`rotate${r.toUpperCase()}(0)`})),...["x","y"].map(r=>Fe(`--un-skew-${r}`,{initialValue:`skew${r.toUpperCase()}(0)`}))]:{rotate:Z.bracket.cssvar.degree(e)}}function Sb([,t,e]){const n=Z.bracket.cssvar.degree(e),r=Mw[t];if(n!=null&&r)return[[...r.map(i=>[`--un-skew${i}`,n.endsWith("deg")?`skew${i.slice(1).toUpperCase()}(${n})`:n]),["transform",Am]],...["x","y","z"].map(i=>Fe(`--un-rotate-${i}`,{initialValue:`rotate${i.toUpperCase()}(0)`})),...["x","y"].map(i=>Fe(`--un-skew-${i}`,{initialValue:`skew${i.toUpperCase()}(0)`}))]}function Om(t,e,n){const r=e.split(qR);return t||!t&&r.length===1?Mw[t].map(i=>[`--un-${n}${i}`,e]):r.map((i,a)=>[`--un-${n}-${GR[a]}`,i])}function Eb(t,e){let n;if(Z.cssvar(t)!=null)n=Z.cssvar(t);else{t.startsWith("[")&&t.endsWith("]")&&(t=t.slice(1,-1));const r=t.split(",").map(i=>e.property?.[i]??Z.properties(i));r.every(Boolean)&&(n=r.join(","))}return n}const SD=[[/^transition(?:-(\D+?))?(?:-(\d+))?$/,([,t,e],{theme:n})=>{nt("default",["transition","timingFunction"]),nt("default",["transition","duration"]);const r={"transition-property":n.property?.DEFAULT,"transition-timing-function":`var(--un-ease, ${Gt("default",["transition","timingFunction"])})`,"transition-duration":`var(--un-duration, ${Gt("default",["transition","duration"])})`};if(!t&&!e)return{...r};if(t!=null){const i=Eb(t,n);if(i)return{"--un-duration":e&&Z.time(e),...r,"transition-property":i}}else if(e!=null)return{"--un-duration":Z.time(e),...r}}],[/^(?:transition-)?duration-(.+)$/,([,t])=>({"--un-duration":Z.bracket.cssvar.time(t),"transition-duration":Z.bracket.cssvar.time(t)})],[/^(?:transition-)?delay-(.+)$/,([,t])=>({"transition-delay":Z.bracket.cssvar.time(t)})],[/^(?:transition-)?ease(?:-(.+))?$/,([,t="DEFAULT"],{theme:e})=>{let n;return e.ease?.[t]?(nt("ease",t),n=Gt("ease",t)):n=Z.bracket.cssvar(t),[{"--un-ease":n,"transition-timing-function":n},Fe("--un-ease")]},{autocomplete:["transition-ease-(linear|in|out|in-out)","ease-(linear|in|out|in-out)"]}],[/^(?:transition-)?property-(.+)$/,([,t],{theme:e})=>{const n=Z.global(t)||Eb(t,e);if(n)return{"transition-property":n}},{autocomplete:[`transition-property-(${[...qt].join("|")})`]}],["transition-none",{transition:"none"}],...rt("transition"),["transition-discrete",{"transition-behavior":"allow-discrete"}],["transition-normal",{"transition-behavior":"normal"}]],ED=[[/^text-(.+)$/,$D,{autocomplete:"text-$text"}],[/^(?:text|font)-size-(.+)$/,Kw,{autocomplete:"text-size-$text"}],[/^text-(?:color-)?(.+)$/,FD,{autocomplete:"text-$colors"}],[/^(?:color|c)-(.+)$/,cn("color","text")],[/^(?:text|color|c)-(.+)$/,([,t])=>qt.includes(t)?{color:t}:void 0,{autocomplete:`(text|color|c)-(${qt.join("|")})`}],[/^(?:text|color|c)-op(?:acity)?-?(.+)$/,([,t])=>({"--un-text-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"(text|color|c)-(op|opacity)-<percent>"}],[/^fw-?([^-]+)$/,([,t],{theme:e})=>{let n;return e.fontWeight?.[t]?(nt("fontWeight",t),n=Gt("fontWeight",t)):n=Z.bracket.cssvar.global.number(t),{"--un-font-weight":n,"font-weight":n}},{autocomplete:["(font|fw)-(100|200|300|400|500|600|700|800|900)","(font|fw)-$fontWeight"]}],[/^(?:font-)?(?:leading|lh|line-height)-(.+)$/,([,t],{theme:e})=>{let n;if(e.leading?.[t]?(nt("leading",t),n=Gt("leading",t)):hi(t)?(nt("spacing"),n=`calc(var(--spacing) * ${hi(t)})`):n=Z.bracket.cssvar.global.rem(t),n!=null)return[{"--un-leading":n,"line-height":n},Fe("--un-leading")]},{autocomplete:"(leading|lh|line-height)-$leading"}],["font-synthesis-weight",{"font-synthesis":"weight"}],["font-synthesis-style",{"font-synthesis":"style"}],["font-synthesis-small-caps",{"font-synthesis":"small-caps"}],["font-synthesis-none",{"font-synthesis":"none"}],[/^font-synthesis-(.+)$/,([,t])=>({"font-synthesis":Z.bracket.cssvar.global(t)})],[/^(?:font-)?tracking-(.+)$/,([,t],{theme:e})=>{let n;return e.tracking?.[t]?(nt("tracking",t),n=Gt("tracking",t)):n=Z.bracket.cssvar.global.rem(t),{"--un-tracking":n,"letter-spacing":n}},{autocomplete:"tracking-$tracking"}],[/^(?:font-)?word-spacing-(.+)$/,([,t],{theme:e})=>{const n=e.tracking?.[t]?Gt("tracking",t):Z.bracket.cssvar.global.rem(t);return{"--un-word-spacing":n,"word-spacing":n}},{autocomplete:"word-spacing-$spacing"}],["font-stretch-normal",{"font-stretch":"normal"}],["font-stretch-ultra-condensed",{"font-stretch":"ultra-condensed"}],["font-stretch-extra-condensed",{"font-stretch":"extra-condensed"}],["font-stretch-condensed",{"font-stretch":"condensed"}],["font-stretch-semi-condensed",{"font-stretch":"semi-condensed"}],["font-stretch-semi-expanded",{"font-stretch":"semi-expanded"}],["font-stretch-expanded",{"font-stretch":"expanded"}],["font-stretch-extra-expanded",{"font-stretch":"extra-expanded"}],["font-stretch-ultra-expanded",{"font-stretch":"ultra-expanded"}],[/^font-stretch-(.+)$/,([,t])=>({"font-stretch":Z.bracket.cssvar.fraction.global(t)}),{autocomplete:"font-stretch-<percentage>"}],[/^font-(.+)$/,([,t],{theme:e})=>{let n;if(e.font?.[t])return nt("font",t),n=Gt("font",t),{"font-family":n};if(e.fontWeight?.[t])return nt("fontWeight",t),n=Gt("fontWeight",t),{"--un-font-weight":n,"font-weight":n};if(n=Z.number(t),n!=null)return{"--un-font-weight":n,"font-weight":n};if(n=Z.bracketOfFamily(t),n!=null&&Z.number(n)==null)return n=Z.cssvar(n)??n,{"font-family":n};if(n=Z.bracketOfNumber(t),n!=null)return n=Z.cssvar.number(n),{"--un-font-weight":n,"font-weight":n};if(n=Z.bracket(t),n!=null&&Z.number(n)!=null){const r=Z.number(n);return{"--un-font-weight":r,"font-weight":r}}if(n=Z.bracket.cssvar.global(t),n!=null)return{"font-family":n}},{autocomplete:["font-$font","font-$fontWeight"]}]],TD=[[/^tab(?:-(.+))?$/,([,t])=>{const e=Z.bracket.cssvar.global.number(t||"4");if(e!=null)return{"-moz-tab-size":e,"-o-tab-size":e,"tab-size":e}}]],AD=[[/^indent-(.+)$/,([,t])=>{let e=hi(t);if(e!=null)return nt("spacing"),{"text-indent":`calc(var(--spacing) * ${e})`};if(e=Z.bracket.cssvar.auto.global.rem(t),e!=null)return{"text-indent":e}}]],OD=[[/^text-stroke(?:-(.+))?$/,([,t="DEFAULT"],{theme:e})=>(e.textStrokeWidth?.[t]&&nt("textStrokeWidth",t),{"-webkit-text-stroke-width":e.textStrokeWidth?.[t]?Gt("textStrokeWidth",t):Z.bracket.cssvar.px(t)}),{autocomplete:"text-stroke-$textStrokeWidth"}],[/^text-stroke-(.+)$/,cn("-webkit-text-stroke-color","text-stroke"),{autocomplete:"text-stroke-$colors"}],[/^text-stroke-op(?:acity)?-?(.+)$/,([,t])=>({"--un-text-stroke-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"text-stroke-(op|opacity)-<percent>"}]],Tb=/op(?:acity)?-/,MD=[[/^text-shadow(?:-(.+))?$/,(t,e)=>{const[n,r="DEFAULT"]=t,i=e.theme.textShadow?.[r];return i!=null?{"--un-text-shadow":Sm(i,"--un-text-shadow-color").join(","),"text-shadow":"var(--un-text-shadow)"}:Tb.test(r)?{"--un-text-shadow-opacity":Z.bracket.percent.cssvar(r.replace(Tb,""))}:cn("--un-text-shadow-color","text-shadow")(t,e)??{"text-shadow":Z.bracket.cssvar.global(r)}},{autocomplete:["text-shadow-$textShadow","text-shadow(-color)?-$colors","text-shadow(-color)?-(op|opacity)-<percent>"]}],[/^text-shadow-color-(.+)$/,cn("--un-text-shadow-color","text-shadow"),{autocomplete:"text-shadow-color-$colors"}],[/^text-shadow-color-op(?:acity)?-?(.+)$/,([,t])=>({"--un-text-shadow-opacity":Z.bracket.percent.cssvar(t)}),{autocomplete:"text-shadow-color-(op|opacity)-<percent>"}]],qi=[Fe("--un-ordinal"),Fe("--un-slashed-zero"),Fe("--un-numeric-figure"),Fe("--un-numeric-spacing"),Fe("--un-numeric-fraction")],Yi={"font-variant-numeric":"var(--un-ordinal) var(--un-slashed-zero) var(--un-numeric-figure) var(--un-numeric-spacing) var(--un-numeric-fraction)"},RD=[["ordinal",[{"--un-ordinal":"ordinal",...Yi},...qi]],["slashed-zero",[{"--un-slashed-zero":"slashed-zero",...Yi},...qi]],["lining-nums",[{"--un-numeric-figure":"lining-nums",...Yi},...qi]],["oldstyle-nums",[{"--un-numeric-figure":"oldstyle-nums",...Yi},...qi]],["proportional-nums",[{"--un-numeric-spacing":"proportional-nums",...Yi},...qi]],["tabular-nums",[{"--un-numeric-spacing":"tabular-nums",...Yi},...qi]],["diagonal-fractions",[{"--un-numeric-fraction":"diagonal-fractions",...Yi},...qi]],["stacked-fractions",[{"--un-numeric-fraction":"stacked-fractions",...Yi},...qi]],["normal-nums",[{"font-variant-numeric":"normal"}]]];function $D([,t="base"],{theme:e}){const n=PD(t,"length");if(!n)return;const[r,i]=n,a=e.text?.[r];let o;if(i&&(e.leading?.[i]?(nt("leading",i),o=Gt("leading",i)):o=Z.bracket.cssvar.global.rem(i)),a)return nt("text",[r,"fontSize"]),nt("text",[r,"lineHeight"]),a.letterSpacing&&nt("text",[r,"letterSpacing"]),{"font-size":Gt("text",[r,"fontSize"]),"line-height":o??`var(--un-leading, ${Gt("text",[r,"lineHeight"])})`,"letter-spacing":a.letterSpacing?Gt("text",[r,"letterSpacing"]):void 0};const s=Z.bracketOfLength.rem(r);return o&&s?{"font-size":s,"line-height":o}:{"font-size":Z.bracketOfLength.rem(t)}}function Kw([,t],{theme:e}){if(e.text?.[t]!=null)return nt("text",[t,"fontSize"]),nt("text",[t,"lineHeight"]),{"font-size":Gt("text",[t,"fontSize"]),"line-height":`var(--un-leading, ${Gt("text",[t,"lineHeight"])})`};{const n=Z.bracket.cssvar.global.rem(t);if(n)return{"font-size":n}}}function FD(t,e){return hc(Z.bracket(t[1]))?Kw(t,e):cn("color","text")(t,e)}function PD(t,e){const[n,r]=ah(t,"[","]",["/",":"])??[];if(n!=null){const i=(n.match(km)??[])[1];if(i==null||i===e)return[n,r]}}const DD={backface:"backface-visibility",break:"word-break",case:"text-transform",content:"align-content",fw:"font-weight",items:"align-items",justify:"justify-content",select:"user-select",self:"align-self",vertical:"vertical-align",visible:"visibility",whitespace:"white-space",ws:"white-space","bg-blend":"background-blend-mode","bg-clip":"-webkit-background-clip","bg-image":"background-image","bg-origin":"background-origin","bg-position":"background-position","bg-repeat":"background-repeat","bg-size":"background-size","mix-blend":"mix-blend-mode",object:"object-fit","object-position":"object-position",write:"writing-mode","write-orient":"text-orientation"},LD=[[/^(.+?)-(\$.+)$/,([,t,e])=>{const n=DD[t];if(n)return{[n]:Z.cssvar(e)}}]],ID=[[/^\[(.*)\]$/,([t,e])=>{if(!e.includes(":"))return;const[n,...r]=e.split(":"),i=r.join(":");if(!jD(e)&&/^[\w-]+$/.test(n)&&ND(i)){const a=Z.bracket(`[${i}]`);if(a)return{[n]:a}}}]];function ND(t){let e=0;function n(r){for(;e<t.length;)if(e+=1,t[e]===r)return!0;return!1}for(e=0;e<t.length;e++){const r=t[e];if("\"`'".includes(r)){if(!n(r))return!1}else if(r==="("){if(!n(")"))return!1}else if("[]{}:".includes(r))return!1}return!0}function jD(t){if(!t.includes("://"))return!1;try{return new URL(t).host!==""}catch{return!1}}const BD=[[/^view-transition-([\w-]+)$/,([,t])=>({"view-transition-name":t})]],UD=[ED,TD,AD,OD,MD,mP,gP,zF,UF,qF,pb,gb,KF,ZF,JF,QF,eP,pb,tP,gb,nP,uP,iP,dP,NF,LF,fP,CP,kP,EP,zP,WP,GP,XP,qP,YP,KP,ZP,JP,QP,eD,tD,nD,rD,iD,aD,oD,sD,jP,NP,kD,SD,LD,ID,Xw,LP,$P,PP,FP,Gw,RP,qw,MP,DP,TP,yD,HF,GF,lD,cD,uD,vD,dD,hD,fD,pD,gD,mD,hP,_P,AP,OP,BP,wD,_D,RD,BD,vP,yP,bD,IP].flat();function zD(){return{getCSS:()=>{if(Zo.size>0){const t="@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b))))",e="*, ::before, ::after, ::backdrop",n=Array.from(Zo.entries()).map(([r,i])=>`${r}:${i};`).join("");return`${t}{${e}{${n}}}`}},layer:"properties"}}const HD=`
/*
  1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)
  2. Remove default margins and padding
  3. Reset all borders.
*/

*,
::after,
::before,
::backdrop,
::file-selector-button {
  box-sizing: border-box; /* 1 */
  margin: 0; /* 2 */
  padding: 0; /* 2 */
  border: 0 solid; /* 3 */
}

/*
  1. Use a consistent sensible line-height in all browsers.
  2. Prevent adjustments of font size after orientation changes in iOS.
  3. Use a more readable tab size.
  4. Use the user's configured \`sans\` font-family by default.
  5. Use the user's configured \`sans\` font-feature-settings by default.
  6. Use the user's configured \`sans\` font-variation-settings by default.
  7. Disable tap highlights on iOS.
*/

html,
:host {
  line-height: 1.5; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
  tab-size: 4; /* 3 */
  font-family: var(
    --default-font-family,
    ui-sans-serif,
    system-ui,
    sans-serif,
    'Apple Color Emoji',
    'Segoe UI Emoji',
    'Segoe UI Symbol',
    'Noto Color Emoji'
  ); /* 4 */
  font-feature-settings: var(--default-font-featureSettings, normal); /* 5 */
  font-variation-settings: var(--default-font-variationSettings, normal); /* 6 */
  -webkit-tap-highlight-color: transparent; /* 7 */
}

/*
  1. Add the correct height in Firefox.
  2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)
  3. Reset the default border style to a 1px solid border.
*/

hr {
  height: 0; /* 1 */
  color: inherit; /* 2 */
  border-top-width: 1px; /* 3 */
}

/*
  Add the correct text decoration in Chrome, Edge, and Safari.
*/

abbr:where([title]) {
  -webkit-text-decoration: underline dotted;
  text-decoration: underline dotted;
}

/*
  Remove the default font size and weight for headings.
*/

h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: inherit;
  font-weight: inherit;
}

/*
  Reset links to optimize for opt-in styling instead of opt-out.
*/

a {
  color: inherit;
  -webkit-text-decoration: inherit;
  text-decoration: inherit;
}

/*
  Add the correct font weight in Edge and Safari.
*/

b,
strong {
  font-weight: bolder;
}

/*
  1. Use the user's configured \`mono\` font-family by default.
  2. Use the user's configured \`mono\` font-feature-settings by default.
  3. Use the user's configured \`mono\` font-variation-settings by default.
  4. Correct the odd \`em\` font sizing in all browsers.
*/

code,
kbd,
samp,
pre {
  font-family: var(
    --default-monoFont-family,
    ui-monospace,
    SFMono-Regular,
    Menlo,
    Monaco,
    Consolas,
    'Liberation Mono',
    'Courier New',
    monospace
  ); /* 1 */
  font-feature-settings: var(--default-monoFont-featureSettings, normal); /* 2 */
  font-variation-settings: var(--default-monoFont-variationSettings, normal); /* 3 */
  font-size: 1em; /* 4 */
}

/*
  Add the correct font size in all browsers.
*/

small {
  font-size: 80%;
}

/*
  Prevent \`sub\` and \`sup\` elements from affecting the line height in all browsers.
*/

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub {
  bottom: -0.25em;
}

sup {
  top: -0.5em;
}

/*
  1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)
  2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)
  3. Remove gaps between table borders by default.
*/

table {
  text-indent: 0; /* 1 */
  border-color: inherit; /* 2 */
  border-collapse: collapse; /* 3 */
}

/*
  Use the modern Firefox focus style for all focusable elements.
*/

:-moz-focusring {
  outline: auto;
}

/*
  Add the correct vertical alignment in Chrome and Firefox.
*/

progress {
  vertical-align: baseline;
}

/*
  Add the correct display in Chrome and Safari.
*/

summary {
  display: list-item;
}

/*
  Make lists unstyled by default.
*/

ol,
ul,
menu {
  list-style: none;
}

/*
  1. Make replaced elements \`display: block\` by default. (https://github.com/mozdevs/cssremedy/issues/14)
  2. Add \`vertical-align: middle\` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)
      This can trigger a poorly considered lint error in some tools but is included by design.
*/

img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
  display: block; /* 1 */
  vertical-align: middle; /* 2 */
}

/*
  Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)
*/

img,
video {
  max-width: 100%;
  height: auto;
}

/*
  1. Inherit font styles in all browsers.
  2. Remove border radius in all browsers.
  3. Remove background color in all browsers.
  4. Ensure consistent opacity for disabled states in all browsers.
*/

button,
input,
select,
optgroup,
textarea,
::file-selector-button {
  font: inherit; /* 1 */
  font-feature-settings: inherit; /* 1 */
  font-variation-settings: inherit; /* 1 */
  letter-spacing: inherit; /* 1 */
  color: inherit; /* 1 */
  border-radius: 0; /* 2 */
  background-color: transparent; /* 3 */
  opacity: 1; /* 4 */
}

/*
  Restore default font weight.
*/

:where(select:is([multiple], [size])) optgroup {
  font-weight: bolder;
}

/*
  Restore indentation.
*/

:where(select:is([multiple], [size])) optgroup option {
  padding-inline-start: 20px;
}

/*
  Restore space after button.
*/

::file-selector-button {
  margin-inline-end: 4px;
}

/*
  Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)
*/

::placeholder {
  opacity: 1;
}

/*
  Set the default placeholder color to a semi-transparent version of the current text color in browsers that do not
  crash when using \`color-mix()\` with \`currentcolor\`. (https://github.com/tailwindlabs/tailwindcss/issues/17194)
*/

@supports (not (-webkit-appearance: -apple-pay-button)) /* Not Safari */ or
  (contain-intrinsic-size: 1px) /* Safari 17+ */ {
  ::placeholder {
    color: color-mix(in oklab, currentcolor 50%, transparent);
  }
}

/*
  Prevent resizing textareas horizontally by default.
*/

textarea {
  resize: vertical;
}

/*
  Remove the inner padding in Chrome and Safari on macOS.
*/

::-webkit-search-decoration {
  -webkit-appearance: none;
}

/*
  1. Ensure date/time inputs have the same height when empty in iOS Safari.
  2. Ensure text alignment can be changed on date/time inputs in iOS Safari.
*/

::-webkit-date-and-time-value {
  min-height: 1lh; /* 1 */
  text-align: inherit; /* 2 */
}

/*
  Prevent height from changing on date/time inputs in macOS Safari when the input is set to \`display: block\`.
*/

::-webkit-datetime-edit {
  display: inline-flex;
}

/*
  Remove excess padding from pseudo-elements in date/time inputs to ensure consistent height across browsers.
*/

::-webkit-datetime-edit-fields-wrapper {
  padding: 0;
}

::-webkit-datetime-edit,
::-webkit-datetime-edit-year-field,
::-webkit-datetime-edit-month-field,
::-webkit-datetime-edit-day-field,
::-webkit-datetime-edit-hour-field,
::-webkit-datetime-edit-minute-field,
::-webkit-datetime-edit-second-field,
::-webkit-datetime-edit-millisecond-field,
::-webkit-datetime-edit-meridiem-field {
  padding-block: 0;
}

/*
  Remove the additional \`:invalid\` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)
*/

:-moz-ui-invalid {
  box-shadow: none;
}

/*
  Correct the inability to style the border radius in iOS Safari.
*/

button,
input:where([type='button'], [type='reset'], [type='submit']),
::file-selector-button {
  appearance: button;
}

/*
  Correct the cursor style of increment and decrement buttons in Safari.
*/

::-webkit-inner-spin-button,
::-webkit-outer-spin-button {
  height: auto;
}

/*
  Make elements with the HTML hidden attribute stay hidden by default.
*/

[hidden]:where(:not([hidden='until-found'])) {
  display: none !important;
}
`;function WD(t){if(t.preflights?.reset!==!1)return{getCSS:({generator:e})=>(nt("font","sans"),nt("font","mono"),nt("default",["font","family"]),nt("default",["monoFont","family"]),Lw(HD,e.config.envMode==="dev")),layer:"base"}}const VD=["spacing","breakpoint","verticalBreakpoint","shadow","insetShadow","dropShadow","textShadow","animation","property","aria","media","supports"];function GD(t,e){const n=new Map([["--spacing",t.spacing.DEFAULT]]),r=a=>a.replace(kw,"1");function i(a,o){for(const s in a)Array.isArray(a[s])?n.set(`--${o}-${s}`,r(a[s].join(","))):typeof a[s]=="object"?i(a[s],`${o}-${s}`):n.set(`--${o}-${s}`,r(a[s]))}for(const a in t)e.includes(a)&&i(t[a],a);return n}function XD(t){return{layer:"theme",getCSS(e){const{theme:n,generator:r}=e,i=Ur(r.config.safelist.flatMap(c=>typeof c=="function"?c(e):c)),{mode:a,process:o}=t.preflights.theme;if(a===!1)return;if(i.length>0)for(const c of i){const[u,...d]=c.trim().split(":");if(u in n&&d.length<=1){const f=d.length===0?["DEFAULT"]:d[0].split("-"),h=dd(n,u,f);typeof h=="string"&&(nt(u,f),ch(h,n))}}let s;const l=c=>{if(o)for(const f of c)for(const h of Pt(o))h(f,e);const u=c.map(([f,h])=>f&&h?`${f}: ${h};`:void 0).filter(Boolean);if(u.length===0)return;const d=u.join(`
`);return Lw(`
:root, :host {
${d}
}`,r.config.envMode==="dev")};if(a==="on-demand"){if(Ko.size===0)return;s=Array.from(Ko).map(c=>{const[u,d]=c.split(":"),f=dd(n,u,d.split("-"));if(typeof f=="string")return[`--${u}${`${u==="spacing"&&d==="DEFAULT"?"":`-${d}`}`}`,f]}).filter(Boolean)}else{const c=Object.keys(n).filter(u=>!VD.includes(u));s=Array.from(GD(n,c))}return l(s)}}}const qD=t=>[WD(t),XD(t),zD()].filter(Boolean),YD={position:["relative","absolute","fixed","sticky","static"],globalKeyword:qt},KD=(t={})=>{t.dark=t.dark??"class",t.attributifyPseudo=t.attributifyPseudo??!1,t.variablePrefix=t.variablePrefix??"un-",t.important=t.important??!1;const e=typeof t.preflights?.theme=="boolean"||typeof t.preflights?.theme=="string"?{mode:t.preflights.theme??"on-demand"}:{mode:t.preflights?.theme?.mode??"on-demand",...t.preflights?.theme};return t.preflights={reset:t.preflights?.reset??!0,theme:e},{name:VR,rules:UD,shortcuts:BF,theme:DF,layers:{properties:-200,theme:-150,base:-100},preflights:qD(t),variants:dF(t),prefix:t.prefix,postprocess:C$(t),extractorDefault:t.arbitraryVariants===!1?void 0:WR(),autocomplete:{shorthands:YD},options:t,configResolved(){Ko.clear(),Zo.clear()},meta:{themeDeps:Ko,propertyDeps:Zo}}},ZD="en",JD={_default:"The {field} is not valid",alpha:"The {field} field may only contain alphabetic characters",alpha_num:"The {field} field may only contain alpha-numeric characters",alpha_dash:"The {field} field may contain alpha-numeric characters as well as dashes and underscores",alpha_spaces:"The {field} field may only contain alphabetic characters as well as spaces",between:"The {field} field must be between 0:{min} and 1:{max}",confirmed:"The {field} field confirmation does not match",digits:"The {field} field must be numeric and exactly contain 0:{length} digits",dimensions:"The {field} field must be 0:{width} pixels by 1:{height} pixels",email:"The {field} field must be a valid email",not_one_of:"The {field} field is not a valid value",ext:"The {field} field is not a valid file",image:"The {field} field must be an image",integer:"The {field} field must be an integer",length:"The {field} field must be 0:{length} long",max_value:"The {field} field must be 0:{max} or less",max:"The {field} field may not be greater than 0:{length} characters",mimes:"The {field} field must have a valid file type",min_value:"The {field} field must be 0:{min} or more",min:"The {field} field must be at least 0:{length} characters",numeric:"The {field} field may only contain numeric characters",one_of:"The {field} field is not a valid value",regex:"The {field} field format is invalid",required_if:"The {field} field is required",required:"The {field} field is required",size:"The {field} field size must be less than 0:{size}KB",url:"The {field} field is not a valid URL"},QD={code:ZD,messages:JD},eL="zh_CN",tL={_default:"{field}",alpha:"{field}",alpha_dash:"{field}",alpha_num:"{field}",alpha_spaces:"{field}",between:"{field}0:{min}1:{max}",confirmed:"{field}0:{target}",digits:"{field}0:{length}",dimensions:"{field}0:{width}1:{height}",email:"{field}",not_one_of:"{field}",ext:"{field}",image:"{field}",one_of:"{field}",integer:"{field}",length:"{field}0:{length}",max:"{field}0:{length}",max_value:"{field}0:{max}",mimes:"{field}",min:"{field}0:{length}",min_value:"{field}0:{min}",numeric:"{field}",regex:"{field}",required:"{field}",required_if:"{field}",size:"{field}0:{size}KB",url:"{field}URL"},nL={code:eL,messages:tL};var Ab;const Zw=typeof window<"u",rL=t=>typeof t=="string",Fu=()=>{};Zw&&(Ab=window?.navigator)!=null&&Ab.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function cg(t){return typeof t=="function"?t():yt(t)}function iL(t,e){function n(...r){t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})}return n}function aL(t,e={}){let n,r;return i=>{const a=cg(t),o=cg(e.maxWait);if(n&&clearTimeout(n),a<=0||o!==void 0&&o<=0)return r&&(clearTimeout(r),r=null),i();o&&!r&&(r=setTimeout(()=>{n&&clearTimeout(n),r=null,i()},o)),n=setTimeout(()=>{r&&clearTimeout(r),r=null,i()},a)}}function oL(t){return t}function sL(t){return U8()?(es(t),!0):!1}function lL(t,e=200,n={}){return iL(aL(e,n),t)}function Pf(t,e=200,n={}){if(e<=0)return t;const r=ie(t.value),i=lL(()=>{r.value=t.value},e,n);return ye(t,()=>i()),r}function Jw(t,e,n){return ye(t,(r,i,a)=>{r&&e(r,i,a)},n)}function cL(t){var e;const n=cg(t);return(e=n?.$el)!=null?e:n}const Qw=Zw?window:void 0;function Vc(...t){let e,n,r,i;if(rL(t[0])?([n,r,i]=t,e=Qw):[e,n,r,i]=t,!e)return Fu;let a=Fu;const o=ye(()=>cL(e),l=>{a(),l&&(l.addEventListener(n,r,i),a=()=>{l.removeEventListener(n,r,i),a=Fu})},{immediate:!0,flush:"post"}),s=()=>{o(),a()};return sL(s),s}const Ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mb="__vueuse_ssr_handlers__";Ob[Mb]=Ob[Mb]||{};const uL={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function dL(t={}){const{reactive:e=!1,target:n=Qw,aliasMap:r=uL,passive:i=!0,onEventFired:a=Fu}=t,o=wn(new Set),s={toJSON(){return{}},current:o},l=e?wn(s):s,c=new Set,u=new Set;function d(m,v){m in l&&(e?l[m]=v:l[m].value=v)}function f(){for(const m of u)d(m,!1)}function h(m,v){var b,y;const x=(b=m.key)==null?void 0:b.toLowerCase(),w=[(y=m.code)==null?void 0:y.toLowerCase(),x].filter(Boolean);x&&(v?o.add(x):o.delete(x));for(const _ of w)u.add(_),d(_,v);x==="meta"&&!v?(c.forEach(_=>{o.delete(_),d(_,!1)}),c.clear()):typeof m.getModifierState=="function"&&m.getModifierState("Meta")&&v&&[...o,...w].forEach(_=>c.add(_))}Vc(n,"keydown",m=>(h(m,!0),a(m)),{passive:i}),Vc(n,"keyup",m=>(h(m,!1),a(m)),{passive:i}),Vc("blur",f,{passive:!0}),Vc("focus",f,{passive:!0});const g=new Proxy(l,{get(m,v,b){if(typeof v!="string")return Reflect.get(m,v,b);if(v=v.toLowerCase(),v in r&&(v=r[v]),!(v in l))if(/[+_-]/.test(v)){const x=v.split(/[+_-]/g).map(w=>w.trim());l[v]=V(()=>x.every(w=>yt(g[w])))}else l[v]=ie(!1);const y=Reflect.get(m,v,b);return e?yt(y):y}});return g}var Rb;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Rb||(Rb={}));var hL=Object.defineProperty,$b=Object.getOwnPropertySymbols,fL=Object.prototype.hasOwnProperty,pL=Object.prototype.propertyIsEnumerable,Fb=(t,e,n)=>e in t?hL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gL=(t,e)=>{for(var n in e||(e={}))fL.call(e,n)&&Fb(t,n,e[n]);if($b)for(var n of $b(e))pL.call(e,n)&&Fb(t,n,e[n]);return t};const mL={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};gL({linear:oL},mL);function Di(t){return Array.isArray?Array.isArray(t):n_(t)==="[object Array]"}function vL(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function bL(t){return t==null?"":vL(t)}function si(t){return typeof t=="string"}function e_(t){return typeof t=="number"}function yL(t){return t===!0||t===!1||xL(t)&&n_(t)=="[object Boolean]"}function t_(t){return typeof t=="object"}function xL(t){return t_(t)&&t!==null}function or(t){return t!=null}function Df(t){return!t.trim().length}function n_(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const wL="Incorrect 'index' type",_L=t=>`Invalid value for key ${t}`,CL=t=>`Pattern length exceeds max of ${t}.`,kL=t=>`Missing ${t} property in key`,SL=t=>`Property 'weight' in key '${t}' must be a positive integer`,Pb=Object.prototype.hasOwnProperty;let EL=class{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=r_(r);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function r_(t){let e=null,n=null,r=null,i=1,a=null;if(si(t)||Di(t))r=t,e=Db(t),n=ug(t);else{if(!Pb.call(t,"name"))throw new Error(kL("name"));const o=t.name;if(r=o,Pb.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(SL(o));e=Db(o),n=ug(o),a=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:a}}function Db(t){return Di(t)?t:t.split(".")}function ug(t){return Di(t)?t.join("."):t}function TL(t,e){let n=[],r=!1;const i=(a,o,s)=>{if(or(a))if(!o[s])n.push(a);else{let l=o[s];const c=a[l];if(!or(c))return;if(s===o.length-1&&(si(c)||e_(c)||yL(c)))n.push(bL(c));else if(Di(c)){r=!0;for(let u=0,d=c.length;u<d;u+=1)i(c[u],o,s+1)}else o.length&&i(c,o,s+1)}};return i(t,si(e)?e.split("."):e,0),r?n:n[0]}const AL={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},OL={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},ML={location:0,threshold:.6,distance:100},RL={useExtendedSearch:!1,getFn:TL,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var je={...OL,...AL,...ML,...RL};const $L=/[^ ]+/g;function FL(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const a=i.match($L).length;if(n.has(a))return n.get(a);const o=1/Math.pow(a,.5*t),s=parseFloat(Math.round(o*r)/r);return n.set(a,s),s},clear(){n.clear()}}}let Mm=class{constructor({getFn:e=je.getFn,fieldNormWeight:n=je.fieldNormWeight}={}){this.norm=FL(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,si(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();si(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!or(e)||Df(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,a)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(or(o)){if(Di(o)){let s=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(or(u))if(si(u)&&!Df(u)){let d={v:u,i:c,n:this.norm.get(u)};s.push(d)}else Di(u)&&u.forEach((d,f)=>{l.push({nestedArrIndex:f,value:d})})}r.$[a]=s}else if(si(o)&&!Df(o)){let s={v:o,n:this.norm.get(o)};r.$[a]=s}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}};function i_(t,e,{getFn:n=je.getFn,fieldNormWeight:r=je.fieldNormWeight}={}){const i=new Mm({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(r_)),i.setSources(e),i.create(),i}function PL(t,{getFn:e=je.getFn,fieldNormWeight:n=je.fieldNormWeight}={}){const{keys:r,records:i}=t,a=new Mm({getFn:e,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(i),a}function Gc(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=je.distance,ignoreLocation:a=je.ignoreLocation}={}){const o=e/t.length;if(a)return o;const s=Math.abs(r-n);return i?o+s/i:s?1:o}function DL(t=[],e=je.minMatchCharLength){let n=[],r=-1,i=-1,a=0;for(let o=t.length;a<o;a+=1){let s=t[a];s&&r===-1?r=a:!s&&r!==-1&&(i=a-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[a-1]&&a-r>=e&&n.push([r,a-1]),n}const Ra=32;function LL(t,e,n,{location:r=je.location,distance:i=je.distance,threshold:a=je.threshold,findAllMatches:o=je.findAllMatches,minMatchCharLength:s=je.minMatchCharLength,includeMatches:l=je.includeMatches,ignoreLocation:c=je.ignoreLocation}={}){if(e.length>Ra)throw new Error(CL(Ra));const u=e.length,d=t.length,f=Math.max(0,Math.min(r,d));let h=a,g=f;const m=s>1||l,v=m?Array(d):[];let b;for(;(b=t.indexOf(e,g))>-1;){let R=Gc(e,{currentLocation:b,expectedLocation:f,distance:i,ignoreLocation:c});if(h=Math.min(R,h),g=b+u,m){let A=0;for(;A<u;)v[b+A]=1,A+=1}}g=-1;let y=[],x=1,w=u+d;const _=1<<u-1;for(let R=0;R<u;R+=1){let A=0,T=w;for(;A<T;)Gc(e,{errors:R,currentLocation:f+T,expectedLocation:f,distance:i,ignoreLocation:c})<=h?A=T:w=T,T=Math.floor((w-A)/2+A);w=T;let O=Math.max(1,f-T+1),M=o?d:Math.min(f+T,d)+u,$=Array(M+2);$[M+1]=(1<<R)-1;for(let C=M;C>=O;C-=1){let E=C-1,S=n[t.charAt(E)];if(m&&(v[E]=+!!S),$[C]=($[C+1]<<1|1)&S,R&&($[C]|=(y[C+1]|y[C])<<1|1|y[C+1]),$[C]&_&&(x=Gc(e,{errors:R,currentLocation:E,expectedLocation:f,distance:i,ignoreLocation:c}),x<=h)){if(h=x,g=E,g<=f)break;O=Math.max(1,2*f-g)}}if(Gc(e,{errors:R+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:c})>h)break;y=$}const k={isMatch:g>=0,score:Math.max(.001,x)};if(m){const R=DL(v,s);R.length?l&&(k.indices=R):k.isMatch=!1}return k}function IL(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}let a_=class{constructor(e,{location:n=je.location,threshold:r=je.threshold,distance:i=je.distance,includeMatches:a=je.includeMatches,findAllMatches:o=je.findAllMatches,minMatchCharLength:s=je.minMatchCharLength,isCaseSensitive:l=je.isCaseSensitive,ignoreLocation:c=je.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(f,h)=>{this.chunks.push({pattern:f,alphabet:IL(f),startIndex:h})},d=this.pattern.length;if(d>Ra){let f=0;const h=d%Ra,g=d-h;for(;f<g;)u(this.pattern.substr(f,Ra),f),f+=Ra;if(h){const m=d-Ra;u(this.pattern.substr(m),m)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let g={isMatch:!0,score:0};return r&&(g.indices=[[0,e.length-1]]),g}const{location:i,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:l,ignoreLocation:c}=this.options;let u=[],d=0,f=!1;this.chunks.forEach(({pattern:g,alphabet:m,startIndex:v})=>{const{isMatch:b,score:y,indices:x}=LL(e,g,m,{location:i+v,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:l,includeMatches:r,ignoreLocation:c});b&&(f=!0),d+=y,b&&x&&(u=[...u,...x])});let h={isMatch:f,score:f?d/this.chunks.length:1};return f&&r&&(h.indices=u),h}},wa=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Lb(e,this.multiRegex)}static isSingleMatch(e){return Lb(e,this.singleRegex)}search(){}};function Lb(t,e){const n=t.match(e);return n?n[1]:null}let NL=class extends wa{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}},jL=class extends wa{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},BL=class extends wa{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}},UL=class extends wa{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},zL=class extends wa{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},HL=class extends wa{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},o_=class extends wa{constructor(e,{location:n=je.location,threshold:r=je.threshold,distance:i=je.distance,includeMatches:a=je.includeMatches,findAllMatches:o=je.findAllMatches,minMatchCharLength:s=je.minMatchCharLength,isCaseSensitive:l=je.isCaseSensitive,ignoreLocation:c=je.ignoreLocation}={}){super(e),this._bitapSearch=new a_(e,{location:n,threshold:r,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},s_=class extends wa{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],a=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+a,i.push([r,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}};const dg=[NL,s_,BL,UL,HL,zL,jL,o_],Ib=dg.length,WL=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,VL="|";function GL(t,e={}){return t.split(VL).map(n=>{let r=n.trim().split(WL).filter(a=>a&&!!a.trim()),i=[];for(let a=0,o=r.length;a<o;a+=1){const s=r[a];let l=!1,c=-1;for(;!l&&++c<Ib;){const u=dg[c];let d=u.isMultiMatch(s);d&&(i.push(new u(d,e)),l=!0)}if(!l)for(c=-1;++c<Ib;){const u=dg[c];let d=u.isSingleMatch(s);if(d){i.push(new u(d,e));break}}}return i})}const XL=new Set([o_.type,s_.type]);class qL{constructor(e,{isCaseSensitive:n=je.isCaseSensitive,includeMatches:r=je.includeMatches,minMatchCharLength:i=je.minMatchCharLength,ignoreLocation:a=je.ignoreLocation,findAllMatches:o=je.findAllMatches,location:s=je.location,threshold:l=je.threshold,distance:c=je.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:o,ignoreLocation:a,location:s,threshold:l,distance:c},this.pattern=n?e:e.toLowerCase(),this.query=GL(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let a=0,o=[],s=0;for(let l=0,c=n.length;l<c;l+=1){const u=n[l];o.length=0,a=0;for(let d=0,f=u.length;d<f;d+=1){const h=u[d],{isMatch:g,indices:m,score:v}=h.search(e);if(g){if(a+=1,s+=v,r){const b=h.constructor.type;XL.has(b)?o=[...o,...m]:o.push(m)}}else{s=0,a=0,o.length=0;break}}if(a){let d={isMatch:!0,score:s/a};return r&&(d.indices=o),d}}return{isMatch:!1,score:1}}}const hg=[];function YL(...t){hg.push(...t)}function fg(t,e){for(let n=0,r=hg.length;n<r;n+=1){let i=hg[n];if(i.condition(t,e))return new i(t,e)}return new a_(t,e)}const pd={AND:"$and",OR:"$or"},pg={PATH:"$path",PATTERN:"$val"},gg=t=>!!(t[pd.AND]||t[pd.OR]),KL=t=>!!t[pg.PATH],ZL=t=>!Di(t)&&t_(t)&&!gg(t),Nb=t=>({[pd.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function l_(t,e,{auto:n=!0}={}){const r=i=>{let a=Object.keys(i);const o=KL(i);if(!o&&a.length>1&&!gg(i))return r(Nb(i));if(ZL(i)){const l=o?i[pg.PATH]:a[0],c=o?i[pg.PATTERN]:i[l];if(!si(c))throw new Error(_L(l));const u={keyId:ug(l),pattern:c};return n&&(u.searcher=fg(c,e)),u}let s={children:[],operator:a[0]};return a.forEach(l=>{const c=i[l];Di(c)&&c.forEach(u=>{s.children.push(r(u))})}),s};return gg(t)||(t=Nb(t)),r(t)}function JL(t,{ignoreFieldNorm:e=je.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:a,score:o})=>{const s=i?i.weight:null;r*=Math.pow(o===0&&s?Number.EPSILON:o,(s||1)*(e?1:a))}),n.score=r})}function QL(t,e){const n=t.matches;e.matches=[],or(n)&&n.forEach(r=>{if(!or(r.indices)||!r.indices.length)return;const{indices:i,value:a}=r;let o={indices:i,value:a};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),e.matches.push(o)})}function eI(t,e){e.score=t.score}function tI(t,e,{includeMatches:n=je.includeMatches,includeScore:r=je.includeScore}={}){const i=[];return n&&i.push(QL),r&&i.push(eI),t.map(a=>{const{idx:o}=a,s={item:e[o],refIndex:o};return i.length&&i.forEach(l=>{l(a,s)}),s})}let Ya=class{constructor(e,n={},r){this.options={...je,...n},this.options.useExtendedSearch,this._keyStore=new EL(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof Mm))throw new Error(wL);this._myIndex=n||i_(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){or(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const a=this._docs[r];e(a,r)&&(this.removeAt(r),r-=1,i-=1,n.push(a))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:a,sortFn:o,ignoreFieldNorm:s}=this.options;let l=si(e)?si(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return JL(l,{ignoreFieldNorm:s}),a&&l.sort(o),e_(n)&&n>-1&&(l=l.slice(0,n)),tI(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=fg(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:a,i:o,n:s})=>{if(!or(a))return;const{isMatch:l,score:c,indices:u}=n.searchIn(a);l&&i.push({item:a,idx:o,matches:[{score:c,value:a,norm:s,indices:u}]})}),i}_searchLogical(e){const n=l_(e,this.options),r=(s,l,c)=>{if(!s.children){const{keyId:d,searcher:f}=s,h=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:f});return h&&h.length?[{idx:c,item:l,matches:h}]:[]}const u=[];for(let d=0,f=s.children.length;d<f;d+=1){const h=s.children[d],g=r(h,l,c);if(g.length)u.push(...g);else if(s.operator===pd.AND)return[]}return u},i=this._myIndex.records,a={},o=[];return i.forEach(({$:s,i:l})=>{if(or(s)){let c=r(n,s,l);c.length&&(a[l]||(a[l]={idx:l,item:s,matches:[]},o.push(a[l])),c.forEach(({matches:u})=>{a[l].matches.push(...u)}))}}),o}_searchObjectList(e){const n=fg(e,this.options),{keys:r,records:i}=this._myIndex,a=[];return i.forEach(({$:o,i:s})=>{if(!or(o))return;let l=[];r.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:o[u],searcher:n}))}),l.length&&a.push({idx:s,item:o,matches:l})}),a}_findMatches({key:e,value:n,searcher:r}){if(!or(n))return[];let i=[];if(Di(n))n.forEach(({v:a,i:o,n:s})=>{if(!or(a))return;const{isMatch:l,score:c,indices:u}=r.searchIn(a);l&&i.push({score:c,key:e,value:a,idx:o,norm:s,indices:u})});else{const{v:a,n:o}=n,{isMatch:s,score:l,indices:c}=r.searchIn(a);s&&i.push({score:l,key:e,value:a,norm:o,indices:c})}return i}};Ya.version="6.6.2";Ya.createIndex=i_;Ya.parseIndex=PL;Ya.config=je;Ya.parseQuery=l_;YL(qL);const po=wn({selectedNode:"",selectedGroup:"",shouldRerender:!1,search:"",filtered:{count:0,items:new Map,groups:new Set}}),cs=()=>({isSearching:V(()=>po.search!==""),resetStore:()=>{po.search="",po.filtered.count=0,po.filtered.items=new Map,po.filtered.groups=new Set},...Md(po)});function nI(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const rI=nI(),uh=()=>({emitter:rI});function iI(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function aI(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}const oI=["command-theme"],sI={"command-root":""},lI=Y({name:"CommandRoot"}),mg=Y({...lI,props:{theme:{type:String,default:"default"},fuseOptions:{type:Object,default:()=>({threshold:.2,keys:["label"]})}},emits:["select-item"],setup(t,{emit:e}){const n=t,r='[command-item=""]',i="command-item-key",a='[command-group=""]',o="command-group-key",s='[command-group-heading=""]',l=`${r}:not([aria-disabled="true"])`,c=`${r}[aria-selected="true"]`,u="command-item-select",d="data-value";Ui("theme",n.theme||"default");const{selectedNode:f,search:h,filtered:g,shouldRerender:m}=cs(),{emitter:v}=uh(),b=ie(),y=Pf(ie(new Map),333),x=Pf(ie(new Set),333),w=Pf(ie(new Map)),_=V(()=>{const z=[];for(const[Q,K]of y.value.entries())z.push({key:Q,label:K});return z}),k=V(()=>{const z=Ya.createIndex(n.fuseOptions.keys,_.value);return new Ya(_.value,n.fuseOptions,z)}),R=()=>{var z,Q,K;const H=A();H&&(((z=H.parentElement)==null?void 0:z.firstElementChild)===H&&((K=(Q=H.closest(a))==null?void 0:Q.querySelector(s))==null||K.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))},A=()=>{var z;return(z=b.value)==null?void 0:z.querySelector(c)},T=()=>{var z;const Q=(z=b.value)==null?void 0:z.querySelectorAll(a);return Q?Array.from(Q):[]},O=(z=b.value)=>{const Q=z?.querySelectorAll(r);return Q?Array.from(Q):[]},M=(z=b.value)=>{const Q=z?.querySelectorAll(l);return Q?Array.from(Q):[]},$=()=>{const[z]=M();z&&z.getAttribute(i)&&(f.value=z.getAttribute(i)||"")},C=z=>{const Q=M()[z];Q&&(f.value=Q.getAttribute(i)||"")},E=z=>{const Q=A(),K=M(),H=K.findIndex(ne=>ne===Q),J=K[H+z];J?f.value=J.getAttribute(i)||"":z>0?C(0):C(K.length-1)},S=z=>{const Q=A();let K=Q?.closest(a),H=null;for(;K&&!H;)K=z>0?iI(K,a):aI(K,a),H=K?.querySelector(l);H?f.value=H.getAttribute(i)||"":E(z)},F=()=>C(0),D=()=>C(M().length-1),P=z=>{z.preventDefault(),z.metaKey?D():z.altKey?S(1):E(1)},L=z=>{z.preventDefault(),z.metaKey?F():z.altKey?S(-1):E(-1)},N=z=>{switch(z.key){case"n":case"j":{z.ctrlKey&&P(z);break}case"ArrowDown":{P(z);break}case"p":case"k":{z.ctrlKey&&L(z);break}case"ArrowUp":{L(z);break}case"Home":{F();break}case"End":{D();break}case"Enter":{const Q=A();if(Q){const K=new Event(u);Q.dispatchEvent(K)}}}},W=()=>{if(!h.value){g.value.count=x.value.size;return}g.value.groups=new Set;const z=new Map,Q=k.value.search(h.value).map(K=>K.item);for(const{key:K,label:H}of Q)z.set(K,H);for(const[K,H]of w.value)for(const J of H)z.get(J)&&g.value.groups.add(K);g.value.count=z.size,g.value.items=z},j=()=>{const z=T(),Q=O();for(const K of Q){const H=K.getAttribute(i)||"",J=K.getAttribute(d)||"";x.value.add(H),y.value.set(H,J),g.value.count=y.value.size}for(const K of z){const H=O(K),J=K.getAttribute(o)||"",ne=new Set("");for(const oe of H){const he=oe.getAttribute(i)||"";ne.add(he)}w.value.set(J,ne)}};ye(()=>f.value,z=>{z&&An(R)},{deep:!0}),ye(()=>h.value,()=>{m.value||(W(),An($))}),v.on("selectItem",z=>{e("select-item",z)});const U=z=>{z&&(m.value=z,j(),An(()=>{W(),$(),m.value=!1}))};return v.on("rerenderList",U),Tr(()=>{j(),An($)}),(z,Q)=>(lr(),Hr("div",{class:Wy(t.theme),onKeydown:N,ref_key:"commandRef",ref:b,"command-theme":t.theme},[_t("div",sI,[Ha(z.$slots,"default")])],42,oI))}}),cI={"command-dialog":""},uI={"command-dialog-mask":""},dI={"command-dialog-wrapper":""},hI={"command-dialog-header":""},fI={"command-dialog-body":""},pI={key:0,"command-dialog-footer":""},gI=Y({name:"Command.Dialog"}),mI=Y({...gI,props:{visible:{type:Boolean},theme:{}},emits:["select-item"],setup(t,{emit:e}){const n=t,{resetStore:r}=cs(),{emitter:i}=uh(),a=ie();return i.on("selectItem",o=>{e("select-item",o)}),Jw(()=>n.visible,r),Rd(r),(o,s)=>(lr(),$0(B8,{to:"body",ref_key:"dialogRef",ref:a},[p(Ll,{name:"command-dialog",appear:""},{default:F0(()=>[o.visible?(lr(),$0(mg,{key:0,theme:o.theme},{default:F0(()=>[_t("div",cI,[_t("div",uI,[_t("div",dI,[_t("div",hI,[Ha(o.$slots,"header")]),_t("div",fI,[Ha(o.$slots,"body")]),o.$slots.footer?(lr(),Hr("div",pI,[Ha(o.$slots,"footer")])):Fo("",!0)])])])]),_:3},8,["theme"])):Fo("",!0)]),_:3})],512))}});let c_=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const vI=["command-group-key","data-value"],bI={key:0,"command-group-heading":""},yI={"command-group-items":"",role:"group"},xI=Y({name:"Command.Group"}),wI=Y({...xI,props:{heading:{}},setup(t){const e=V(()=>`command-group-${c_()}`),{filtered:n,isSearching:r}=cs(),i=V(()=>r.value?n.value.groups.has(e.value):!0);return(a,o)=>Uu((lr(),Hr("div",{"command-group":"",role:"presentation",key:e.value,"command-group-key":e.value,"data-value":a.heading},[a.heading?(lr(),Hr("div",bI,up(a.heading),1)):Fo("",!0),_t("div",yI,[Ha(a.$slots,"default")])],8,vI)),[[zu,i.value]])}}),_I=["placeholder","value"],CI=Y({name:"Command.Input"}),kI=Y({...CI,props:{placeholder:{},value:{}},emits:["input","update:value"],setup(t,{emit:e}){const n=ie(null),{search:r}=cs(),i=V(()=>r.value),a=o=>{const s=o,l=o.target;r.value=l?.value,e("input",s),e("update:value",r.value)};return ec(()=>{var o;(o=n.value)==null||o.focus()}),(o,s)=>(lr(),Hr("input",{ref_key:"inputRef",ref:n,"command-input":"","auto-focus":"","auto-complete":"off","auto-correct":"off","spell-check":!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,placeholder:o.placeholder,value:i.value,onInput:a},null,40,_I))}}),SI=["aria-selected","aria-disabled","command-item-key"],EI=Y({name:"Command.Item"}),TI=Y({...EI,props:{shortcut:{},perform:{type:Function}},emits:["select"],setup(t,{emit:e}){const n=t,r="command-item-select",i="data-value",{current:a}=dL(),{selectedNode:o,filtered:s,isSearching:l}=cs(),{emitter:c}=uh(),u=ie(),d=V(()=>`command-item-${c_()}`),f=V(()=>{const m=s.value.items.get(d.value);return l.value?m!==void 0:!0}),h=V(()=>Array.from(a)),g=()=>{var m;const v={key:d.value,value:((m=u.value)==null?void 0:m.getAttribute(i))||""};e("select",v),c.emit("selectItem",v)};return Jw(h,m=>{n.shortcut&&n.shortcut.length>0&&n.shortcut.every(v=>a.has(v.toLowerCase()))&&n.perform&&n.perform()}),ec(()=>{var m;(m=u.value)==null||m.addEventListener(r,g)}),Rd(()=>{var m;(m=u.value)==null||m.removeEventListener(r,g)}),(m,v)=>Uu((lr(),Hr("div",{ref_key:"itemRef",ref:u,"command-item":"",role:"option","aria-selected":yt(o)===d.value,"aria-disabled":!f.value,key:d.value,"command-item-key":d.value,onClick:g},[Ha(m.$slots,"default")],8,SI)),[[zu,f.value]])}}),AI=Y({name:"Command.List"}),OI=Y({...AI,setup(t){const{emitter:e}=uh(),n=ie(),r=ie();let i=null,a;return ec(()=>{a=r.value;const o=n.value;let s;if(a&&o)return i=new ResizeObserver(l=>{s=requestAnimationFrame(()=>{const c=a?.offsetHeight;o?.style.setProperty("--command-list-height",`${c?.toFixed(1)}px`),e.emit("rerenderList",!0)})}),i.observe(a),()=>{cancelAnimationFrame(s),i?.unobserve(a)}}),Rd(()=>{i!==null&&a&&i.unobserve(a)}),(o,s)=>(lr(),Hr("div",{"command-list":"",role:"listbox","aria-label":"Suggestions",ref_key:"listRef",ref:n},[_t("div",{"command-list-sizer":"",ref_key:"heightRef",ref:r},[Ha(o.$slots,"default")],512)],512))}}),MI=Y({name:"Command.Empty",setup(t,{attrs:e,slots:n}){const{filtered:r}=cs(),i=V(()=>r.value.count===0);return()=>i.value?Ye("div",{"command-empty":"",role:"presentation",...e},n):Ye("div",{"command-empty":"hidden",role:"presentation",style:{display:"none"},...e})}}),RI=Y({name:"Command.Loading",setup(t,{attrs:e,slots:n}){return()=>Ye("div",{"command-loading":"",role:"progressbar",...e},n)}}),$I=Y({name:"Command.Separator",setup(t,{attrs:e,slots:n}){return()=>Ye("div",{"command-separator":"",role:"separator",...e})}}),Aa=Object.assign(mg,{Root:mg,Dialog:mI,Empty:MI,Group:wI,Input:kI,Item:TI,List:OI,Loading:RI,Separator:$I}),FI=Y({name:"DuxAutoComplete",props:{path:String,params:Object,pagination:{type:Boolean,default:!0},valueField:{type:String,default:"id"},labelField:{type:String,default:"name"},multiple:Boolean},extends:N0,setup(t,{emit:e,slots:n}){const r=Be(t,"value",e,{passive:!0,defaultValue:t.defaultValue||void 0}),i=Te(t,"path"),a=Te(t,"params",{}),{onSearch:o,loading:s,options:l}=tm({path:i.value||"",params:a.value,pagination:t.pagination,optionValue:t.valueField||"id"});return ye(r,()=>{o(r.value||"")},{immediate:!0}),()=>p(N0,kt(t,{loading:s.value,clearable:!0,options:l.value?.map(c=>({label:c[t.labelField||"name"],value:c[t.valueField||"id"]})),showEmpty:!0,value:r.value,"onUpdate:value":c=>r.value=c}),{...n})}}),u_=Y({name:"DuxCascader",props:{path:String,params:Object},extends:dp,setup(t,{emit:e,slots:n}){const r=Te(t,"path",""),i=Te(t,"params",{}),a=Be(t,"value",e,{passive:!0,defaultValue:t.defaultValue}),{options:o,loading:s}=oc({path:r.value,params:i.value}),l=V(()=>{const{path:c,params:u,...d}=t;return d});return()=>p(pa,{show:s.value,class:"w-full",size:16},{default:()=>[p(dp,kt(l.value,{clearable:!0,options:o.value,value:a.value,"onUpdate:value":c=>a.value=c}),{...n})]})}}),d_=Y({name:"DuxMention",props:{path:String,params:Object,labelField:{type:String,default:"name"},valueField:{type:String,default:"name"}},extends:j0,setup(t,{emit:e,slots:n}){const r=Be(t,"value",e,{passive:!0,defaultValue:t.defaultValue}),i=ie([]),a=ie(!1),o=Te(t,"path"),s=Te(t,"params",{}),{mutateAsync:l}=eo({path:o.value,query:s.value,method:"GET"}),c=u=>{if(!o.value||!u){i.value=[];return}a.value=!0,l({query:{keyword:u,limit:10}}).then(d=>{i.value=d?.data?.map(f=>({label:f[t.labelField||"name"],value:f[t.valueField||"name"]}))||[]}).catch(()=>{i.value=[]}).finally(()=>{a.value=!1})};return()=>p(j0,kt(t,{value:r.value,"onUpdate:value":u=>r.value=u,options:i.value,onSearch:c,loading:a.value}),{...n})}});function PI(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const h_=Y({name:"DuxSelect",props:{path:String,params:Object,pagination:{type:Boolean,default:!0},avatarField:{type:String},imageField:{type:String},descField:{type:String},multiple:Boolean},extends:Ga,setup(t,{emit:e,slots:n}){const r=Te(t,"params",{}),i=Te(t,"path"),a=Be(t,"value",e,{passive:!0,defaultValue:t.defaultValue}),o=Te(t,"labelField","name"),s=Te(t,"valueField","id"),l=Te(t,"avatarField",""),c=Te(t,"imageField",""),u=Te(t,"descField",""),{onSearch:d,loading:f,pagination:h,options:g,pageCount:m}=tm({path:i.value||"",params:r.value,defaultValue:a.value,pagination:t.pagination,optionLabel:o.value,optionValue:s.value}),v=V(()=>{const{labelField:b,valueField:y,avatarField:x,imageField:w,descField:_,...k}=t;return k});return()=>p(Ga,kt(v.value,{onSearch:d,loading:f.value,filterable:!!t.pagination,clearable:!0,remote:!0,options:g.value,value:a.value,"onUpdate:value":b=>a.value=b,multiple:t.multiple,onClear:()=>{d("")},renderLabel:b=>c.value||u.value?p(hp,{align:"center",size:"small",wrapItem:!1,style:{padding:"6px 0"}},{default:()=>[c.value&&p(aa,{src:b?.raw?.[c.value],objectFit:"cover",width:32,height:32},null),l.value&&p(Il,{round:!0,src:b?.raw?.[l.value],size:32},{default:()=>[b?.raw?.[o.value]?.charAt?.(0)]}),p(hp,{vertical:!0,size:0,wrapItem:!1},{default:()=>[p("div",null,[b?.raw?.[o.value]]),u.value&&p("div",{style:{opacity:.6}},[b?.raw?.[u.value]])]})]}):b?.raw?.[o.value],renderTag:({option:b,handleClose:y})=>{let x;return t.multiple?p(Uo,{type:"primary",size:t.size,closable:!0,round:!0,onClose:()=>{y()},style:{"--n-padding":"0"}},PI(x=jb(b,o.value,c.value,l.value,u.value))?x:{default:()=>[x]}):jb(b,o.value,c.value,l.value,u.value)}}),{action:()=>t.pagination?p(Pd,{size:"small",page:h.value.page,"onUpdate:page":b=>h.value.page=b,pageSlot:3,pageCount:m.value,pageSize:h.value.pageSize},null):null,...n})}});function jb(t,e,n,r,i){return n||i||r?p(hp,{align:"center",size:"small",style:{padding:"6px 0"},wrapItem:!1},{default:()=>[n&&p(aa,{src:t?.raw?.[n],objectFit:"cover",width:22,height:22},null),r&&p(Il,{round:!0,src:t?.raw?.[r]||"",size:22},{default:()=>[t?.raw?.[e]?.charAt?.(0)]}),p("div",null,[t?.raw?.[e]])]}):t?.raw?.[e]||""}const f_=Y({name:"DuxTransfer",props:{path:String,params:{type:Object},labelField:{type:String,default:"name"},valueField:{type:String,default:"id"},imageField:{type:String},descField:{type:String}},extends:B0,setup(t,{emit:e}){const n=Be(t,"value",e,{passive:!0,defaultValue:t.defaultValue||[]}),r=Te(t,"path",""),i=Te(t,"params",{}),a=ie([]),{data:o,isLoading:s}=ic({path:r.value,filters:i.value});return ye(o,l=>{a.value=l?.value?.data?.map(c=>({label:c[t.labelField||"name"],value:c[t.valueField||"id"],raw:c}))||[]},{immediate:!0}),()=>p("div",{class:"w-full"},[p(pa,{show:s.value},{default:()=>[p(B0,kt(t,{value:n.value,"onUpdate:value":l=>n.value=l,options:a.value,renderTargetLabel:({option:l})=>t.imageField||t.descField?p("div",{style:{padding:"0 6px",display:"flex",alignItems:"center",gap:"4px"}},[t.imageField&&p(Il,{round:!0,src:l?.raw[t.imageField],size:32},null),p("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"}},[p("div",null,[l?.raw[t.labelField||"name"]]),t.descField&&p("div",{style:{opacity:.6}},[l?.raw[t.descField||"desc"]])])]):l?.raw[t.labelField||"name"]}),null)]})])}}),DI=Y({name:"DuxTree",props:{path:String,params:Object,height:String,value:Array,defaultValue:Array,hookProps:Object},extends:Hu,setup(t,{emit:e}){const n=Te(t,"params",{}),r=Te(t,"path",""),i=Be(t,"value",e,{passive:!0,deep:!0,defaultValue:t.defaultValue||[]}),a=ie([]),{options:o,loading:s,expanded:l}=oc({path:r.value,params:n.value,...t.hookProps});ye(l,u=>{a.value=u});const c=V(()=>{const{hookProps:u,height:d,...f}=t;return f});return()=>p(pa,{show:s.value},{default:()=>[p(pi,{style:{height:t.height||"300px"}},{default:()=>[p(Hu,kt(c.value,{cascade:!0,checkable:!0,defaultExpandAll:!0,selectable:!1,expandedKeys:a.value,onUpdateExpandedKeys:u=>{a.value=u},data:o.value||[],checkedKeys:i.value||[],onUpdateCheckedKeys:u=>{i.value=u,t.onUpdateValue?.(u)}}),null)]})]})}}),p_=Y({name:"DuxTreeSelect",props:{path:String,params:Object,hookProps:Object},extends:fp,setup(t,{emit:e}){const n=Te(t,"params",{}),r=Te(t,"path",""),i=Be(t,"value",e,{passive:!0,deep:!0,defaultValue:t.defaultValue||[]}),{options:a,loading:o}=oc({path:r.value,params:n.value,...t.hookProps});return()=>p(fp,kt(t,{loading:o.value,options:a.value,value:i.value,"onUpdate:value":s=>i.value=s}),null)}});function g_(t){const e=j3(t);return{options:V(()=>{const n=e.getMenu(!0).map(r=>({...r,key:r.name,icon:r?.icon?()=>Ye("div",{class:`${r.icon} size-5`}):void 0,labelName:r.label,label:()=>r.path?Ye(z8,{to:{path:r.path}},{default:()=>r.label}):r.label}));return Vo(n,{idKey:"key",parentKey:"parent",childrenKey:"children",sortKey:"sort"},void 0)}),...e}}function m_(){const t=ro(),{tabs:e,current:n}=$d(t),r=gn(),i=V(()=>({value:n.value,defaultValue:n.value||"",onClose:a=>{t.delTab(a,o=>{r.push(o.path||"")})},onUpdateValue:a=>{t.changeTab(a,o=>{r.push(o.path||"")})}}));return{...t,tabs:e,current:n,tabsProps:i}}function v_(t){const e=Te(t,"filters",{}),n=Te(t,"sorters",{}),r=Te(t,"columns",[]),i=ie({}),a=ie([]),o=ie({...e.value,...i.value});qy([e,i],([b,y])=>{Object.keys(o.value).forEach(x=>{delete o.value[x]}),Object.assign(o.value,b,y)},{debounce:300,deep:!0});const s=em({...t,filters:o.value,sorters:n.value}),l=ie([]);ye(r,b=>{l.value=b},{immediate:!0});const c=V(()=>l.value.filter(b=>b.show!==!1&&"key"in b).map(b=>b.key)),u=b=>{const y=In(r.value)?.map(x=>(!("key"in x)||!x?.key||!("title"in x)||!x?.title||b.includes(x.key)||(x.show=!1),x));l.value=[...y]},d=b=>{s.checkeds.value=b},f=b=>{const y=Array.isArray(b)?b:[b],x={};y?.forEach(w=>{w?.columnKey&&w.order&&(x[w.columnKey]=w.order==="ascend"?"asc":"desc")}),s.onUpdateSorters(x)},h=b=>{const y={...i.value};Object.entries(b).forEach(([x,w])=>{y[x]=w}),i.value=y},g=b=>{a.value=b};ye([()=>t?.expanded,s.list],([b,y])=>{b&&(a.value=Qd(y,t.key||"id","children"))});const m=V(()=>({page:s.page.value,pageSize:s.pageSize.value,pageCount:s.pageCount.value,pageSizes:s.pageSizes,pageSlot:5,onUpdatePage:s.onUpdatePage,onUpdatePageSize:s.onUpdatePageSize,showSizePicker:!0,showQuickJumper:!0})),v=V(()=>({remote:!0,checkedRowKeys:s.checkeds.value,expandedRowKeys:a.value,onUpdateCheckedRowKeys:d,onUpdateExpandedRowKeys:g,onUpdateSorter:f,onUpdateFilters:h,loading:s.isLoading.value,data:s.list.value,columns:l.value.filter(b=>b.show!==!1)}));return{...s,tablePagination:m,table:v,columns:l,columnSelected:c,onUpdateColumnSelected:u}}function LI(t){const e=no(t),n=new Map;return ye(()=>e.uploadFiles.value,r=>{r.forEach(i=>{const a=n.get(i.id);a&&(i.status==="uploading"&&i.progress&&a.onProgress?a.onProgress({percent:i.progress.percent||0}):i.status==="success"?(a.onFinish?.(),n.delete(i.id)):i.status==="error"&&(a.onError?.(),n.delete(i.id)))})},{deep:!0}),{...e,request:r=>{const{file:i,onFinish:a,onError:o,onProgress:s}=r,l=i.file;if(!l){o?.();return}e.addFiles([l],"file").then(()=>{const c=e.uploadFiles.value.find(u=>u.file===l);if(!c){o?.();return}n.set(c.id,{onFinish:a,onError:o,onProgress:s}),e.trigger().catch(()=>{n.delete(c.id),o?.()})}).catch(()=>{o?.()})}}}const GW=Object.freeze(Object.defineProperty({__proto__:null,DuxAutoComplete:FI,DuxCascader:u_,DuxMention:d_,DuxSelect:h_,DuxTransfer:f_,DuxTree:DI,DuxTreeSelect:p_,useNaiveMenu:g_,useNaiveTab:m_,useNaiveTable:v_,useNaiveUpload:LI},Symbol.toStringTag,{value:"Module"}));var Pu={exports:{}},II=Pu.exports,Bb;function NI(){return Bb||(Bb=1,function(t,e){(function(n,r){t.exports=r()})(II,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",g="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var S=["th","st","nd","rd"],F=E%100;return"["+E+(S[(F-20)%10]||S[F]||S[0])+"]"}},x=function(E,S,F){var D=String(E);return!D||D.length>=S?E:""+Array(S+1-D.length).join(F)+E},w={s:x,z:function(E){var S=-E.utcOffset(),F=Math.abs(S),D=Math.floor(F/60),P=F%60;return(S<=0?"+":"-")+x(D,2,"0")+":"+x(P,2,"0")},m:function E(S,F){if(S.date()<F.date())return-E(F,S);var D=12*(F.year()-S.year())+(F.month()-S.month()),P=S.clone().add(D,d),L=F-P<0,N=S.clone().add(D+(L?-1:1),d);return+(-(D+(F-P)/(L?P-N:N-P))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:d,y:h,w:u,d:c,D:g,h:l,m:s,s:o,ms:a,Q:f}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},_="en",k={};k[_]=y;var R="$isDayjsObject",A=function(E){return E instanceof $||!(!E||!E[R])},T=function E(S,F,D){var P;if(!S)return _;if(typeof S=="string"){var L=S.toLowerCase();k[L]&&(P=L),F&&(k[L]=F,P=L);var N=S.split("-");if(!P&&N.length>1)return E(N[0])}else{var W=S.name;k[W]=S,P=W}return!D&&P&&(_=P),P||!D&&_},O=function(E,S){if(A(E))return E.clone();var F=typeof S=="object"?S:{};return F.date=E,F.args=arguments,new $(F)},M=w;M.l=T,M.i=A,M.w=function(E,S){return O(E,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var $=function(){function E(F){this.$L=T(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[R]=!0}var S=E.prototype;return S.parse=function(F){this.$d=function(D){var P=D.date,L=D.utc;if(P===null)return new Date(NaN);if(M.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var N=P.match(v);if(N){var W=N[2]-1||0,j=(N[7]||"0").substring(0,3);return L?new Date(Date.UTC(N[1],W,N[3]||1,N[4]||0,N[5]||0,N[6]||0,j)):new Date(N[1],W,N[3]||1,N[4]||0,N[5]||0,N[6]||0,j)}}return new Date(P)}(F),this.init()},S.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},S.$utils=function(){return M},S.isValid=function(){return this.$d.toString()!==m},S.isSame=function(F,D){var P=O(F);return this.startOf(D)<=P&&P<=this.endOf(D)},S.isAfter=function(F,D){return O(F)<this.startOf(D)},S.isBefore=function(F,D){return this.endOf(D)<O(F)},S.$g=function(F,D,P){return M.u(F)?this[D]:this.set(P,F)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(F,D){var P=this,L=!!M.u(D)||D,N=M.p(F),W=function(ne,oe){var he=M.w(P.$u?Date.UTC(P.$y,oe,ne):new Date(P.$y,oe,ne),P);return L?he:he.endOf(c)},j=function(ne,oe){return M.w(P.toDate()[ne].apply(P.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(oe)),P)},U=this.$W,z=this.$M,Q=this.$D,K="set"+(this.$u?"UTC":"");switch(N){case h:return L?W(1,0):W(31,11);case d:return L?W(1,z):W(0,z+1);case u:var H=this.$locale().weekStart||0,J=(U<H?U+7:U)-H;return W(L?Q-J:Q+(6-J),z);case c:case g:return j(K+"Hours",0);case l:return j(K+"Minutes",1);case s:return j(K+"Seconds",2);case o:return j(K+"Milliseconds",3);default:return this.clone()}},S.endOf=function(F){return this.startOf(F,!1)},S.$set=function(F,D){var P,L=M.p(F),N="set"+(this.$u?"UTC":""),W=(P={},P[c]=N+"Date",P[g]=N+"Date",P[d]=N+"Month",P[h]=N+"FullYear",P[l]=N+"Hours",P[s]=N+"Minutes",P[o]=N+"Seconds",P[a]=N+"Milliseconds",P)[L],j=L===c?this.$D+(D-this.$W):D;if(L===d||L===h){var U=this.clone().set(g,1);U.$d[W](j),U.init(),this.$d=U.set(g,Math.min(this.$D,U.daysInMonth())).$d}else W&&this.$d[W](j);return this.init(),this},S.set=function(F,D){return this.clone().$set(F,D)},S.get=function(F){return this[M.p(F)]()},S.add=function(F,D){var P,L=this;F=Number(F);var N=M.p(D),W=function(z){var Q=O(L);return M.w(Q.date(Q.date()+Math.round(z*F)),L)};if(N===d)return this.set(d,this.$M+F);if(N===h)return this.set(h,this.$y+F);if(N===c)return W(1);if(N===u)return W(7);var j=(P={},P[s]=r,P[l]=i,P[o]=n,P)[N]||1,U=this.$d.getTime()+F*j;return M.w(U,this)},S.subtract=function(F,D){return this.add(-1*F,D)},S.format=function(F){var D=this,P=this.$locale();if(!this.isValid())return P.invalidDate||m;var L=F||"YYYY-MM-DDTHH:mm:ssZ",N=M.z(this),W=this.$H,j=this.$m,U=this.$M,z=P.weekdays,Q=P.months,K=P.meridiem,H=function(oe,he,ve,Oe){return oe&&(oe[he]||oe(D,L))||ve[he].slice(0,Oe)},J=function(oe){return M.s(W%12||12,oe,"0")},ne=K||function(oe,he,ve){var Oe=oe<12?"AM":"PM";return ve?Oe.toLowerCase():Oe};return L.replace(b,function(oe,he){return he||function(ve){switch(ve){case"YY":return String(D.$y).slice(-2);case"YYYY":return M.s(D.$y,4,"0");case"M":return U+1;case"MM":return M.s(U+1,2,"0");case"MMM":return H(P.monthsShort,U,Q,3);case"MMMM":return H(Q,U);case"D":return D.$D;case"DD":return M.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return H(P.weekdaysMin,D.$W,z,2);case"ddd":return H(P.weekdaysShort,D.$W,z,3);case"dddd":return z[D.$W];case"H":return String(W);case"HH":return M.s(W,2,"0");case"h":return J(1);case"hh":return J(2);case"a":return ne(W,j,!0);case"A":return ne(W,j,!1);case"m":return String(j);case"mm":return M.s(j,2,"0");case"s":return String(D.$s);case"ss":return M.s(D.$s,2,"0");case"SSS":return M.s(D.$ms,3,"0");case"Z":return N}return null}(oe)||N.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(F,D,P){var L,N=this,W=M.p(D),j=O(F),U=(j.utcOffset()-this.utcOffset())*r,z=this-j,Q=function(){return M.m(N,j)};switch(W){case h:L=Q()/12;break;case d:L=Q();break;case f:L=Q()/3;break;case u:L=(z-U)/6048e5;break;case c:L=(z-U)/864e5;break;case l:L=z/i;break;case s:L=z/r;break;case o:L=z/n;break;default:L=z}return P?L:M.a(L)},S.daysInMonth=function(){return this.endOf(d).$D},S.$locale=function(){return k[this.$L]},S.locale=function(F,D){if(!F)return this.$L;var P=this.clone(),L=T(F,D,!0);return L&&(P.$L=L),P},S.clone=function(){return M.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},E}(),C=$.prototype;return O.prototype=C,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",c],["$M",d],["$y",h],["$D",g]].forEach(function(E){C[E[1]]=function(S){return this.$g(S,E[0],E[1])}}),O.extend=function(E,S){return E.$i||(E(S,$,O),E.$i=!0),O},O.locale=T,O.isDayjs=A,O.unix=function(E){return O(1e3*E)},O.en=k[_],O.Ls=k,O.p={},O})}(Pu)),Pu.exports}var jI=NI();const BI=tc(jI),dh=Y({name:"DuxDrawEmpty",setup(){return()=>p("svg",{viewBox:"0 0 150 178",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("defs",null,[p("linearGradient",{id:"paint_linear_1_218_0",x1:"75.000000",y1:"17.000000",x2:"75.000000",y2:"167.000000",gradientUnits:"userSpaceOnUse"},[p("stop",{"stop-color":"rgb(var(--ui-color-primary) / .2)"},null),p("stop",{offset:"1.000000","stop-color":"rgb(var(--ui-color-primary) / .2)"},null)])]),p("path",{id:"Ellipse 652",d:"M150 92C150 133.42 116.42 167 75 167C33.57 167 0 133.42 0 92C0 50.57 33.57 17 75 17C116.42 17 150 50.57 150 92Z",fill:"url(#paint_linear_1_218_0)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("g",null,[p("path",{id:"Rectangle 5615",d:"M32 60L118 60C120.76 60 123 62.23 123 65L123 170C123 172.76 120.76 175 118 175L32 175C29.23 175 27 172.76 27 170L27 65C27 62.23 29.23 60 32 60Z",fill:"rgb(var(--ui-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),p("path",{id:"Rectangle 5617",d:"M39 75L65 75C66.65 75 68 76.34 68 78C68 79.65 66.65 81 65 81L39 81C37.34 81 36 79.65 36 78C36 76.34 37.34 75 39 75Z",fill:"rgb(var(--ui-color-primary-300))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5618",d:"M39 88L83 88C84.65 88 86 89.34 86 91C86 92.65 84.65 94 83 94L39 94C37.34 94 36 92.65 36 91C36 89.34 37.34 88 39 88Z",fill:"rgb(var(--ui-color-primary-100))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5617",d:"M39 102L65 102C66.65 102 68 103.34 68 105C68 106.65 66.65 108 65 108L39 108C37.34 108 36 106.65 36 105C36 103.34 37.34 102 39 102Z",fill:"rgb(var(--ui-color-primary-300))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5618",d:"M39 115L83 115C84.65 115 86 116.34 86 118C86 119.65 84.65 121 83 121L39 121C37.34 121 36 119.65 36 118C36 116.34 37.34 115 39 115Z",fill:"rgb(var(--ui-color-primary-100))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5617",d:"M39 129L65 129C66.65 129 68 130.34 68 132C68 133.65 66.65 135 65 135L39 135C37.34 135 36 133.65 36 132C36 130.34 37.34 129 39 129Z",fill:"rgb(var(--ui-color-primary-300))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5618",d:"M39 142L83 142C84.65 142 86 143.34 86 145C86 146.65 84.65 148 83 148L39 148C37.34 148 36 146.65 36 145C36 143.34 37.34 142 39 142Z",fill:"rgb(var(--ui-color-primary-100))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("g",null,[p("path",{id:"Rectangle 5616",d:"M32 9L118 9C120.76 9 123 11.23 123 14L123 44C123 46.76 120.76 49 118 49L32 49C29.23 49 27 46.76 27 44L27 14C27 11.23 29.23 9 32 9Z",fill:"rgb(var(--ui-color-primary))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),p("path",{id:"Rectangle 5617",d:"M39 20L65 20C66.65 20 68 21.34 68 23C68 24.65 66.65 26 65 26L39 26C37.34 26 36 24.65 36 23C36 21.34 37.34 20 39 20Z",fill:"rgb(var(--ui-color-primary-300))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5618",d:"M39 33L83 33C84.65 33 86 34.34 86 36C86 37.65 84.65 39 83 39L39 39C37.34 39 36 37.65 36 36C36 34.34 37.34 33 39 33Z",fill:"rgb(var(--ui-color-gray-100))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)])}});var Lf={exports:{}},Ub;function UI(){return Ub||(Ub=1,function(t){var e=(()=>{var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(w,_,k)=>_ in w?n(w,_,{enumerable:!0,configurable:!0,writable:!0,value:k}):w[_]=k,c=(w,_)=>{for(var k in _||(_={}))o.call(_,k)&&l(w,k,_[k]);if(a)for(var k of a(_))s.call(_,k)&&l(w,k,_[k]);return w},u=(w,_)=>{for(var k in _)n(w,k,{get:_[k],enumerable:!0})},d=(w,_,k,R)=>{if(_&&typeof _=="object"||typeof _=="function")for(let A of i(_))!o.call(w,A)&&A!==k&&n(w,A,{get:()=>_[A],enumerable:!(R=r(_,A))||R.enumerable});return w},f=w=>d(n({},"__esModule",{value:!0}),w),h=(w,_,k)=>l(w,typeof _!="symbol"?_+"":_,k),g={};u(g,{DEFAULT_OPTIONS:()=>b,DEFAULT_UUID_LENGTH:()=>v,default:()=>x});var m="5.3.2",v=6,b={dictionary:"alphanum",shuffle:!0,debug:!1,length:v,counter:0},y=class{constructor(_={}){h(this,"counter"),h(this,"debug"),h(this,"dict"),h(this,"version"),h(this,"dictIndex",0),h(this,"dictRange",[]),h(this,"lowerBound",0),h(this,"upperBound",0),h(this,"dictLength",0),h(this,"uuidLength"),h(this,"_digit_first_ascii",48),h(this,"_digit_last_ascii",58),h(this,"_alpha_lower_first_ascii",97),h(this,"_alpha_lower_last_ascii",123),h(this,"_hex_last_ascii",103),h(this,"_alpha_upper_first_ascii",65),h(this,"_alpha_upper_last_ascii",91),h(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),h(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),h(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),h(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),h(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),h(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),h(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),h(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),h(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),h(this,"log",(...M)=>{const $=[...M];if($[0]="[short-unique-id] ".concat(M[0]),this.debug===!0&&typeof console<"u"&&console!==null){console.log(...$);return}}),h(this,"_normalizeDictionary",(M,$)=>{let C;if(M&&Array.isArray(M)&&M.length>1)C=M;else{C=[],this.dictIndex=0;const E="_".concat(M,"_dict_ranges"),S=this._dict_ranges[E];let F=0;for(const[,P]of Object.entries(S)){const[L,N]=P;F+=Math.abs(N-L)}C=new Array(F);let D=0;for(const[,P]of Object.entries(S)){this.dictRange=P,this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1];const L=this.lowerBound<=this.upperBound,N=this.lowerBound,W=this.upperBound;if(L)for(let j=N;j<W;j++)C[D++]=String.fromCharCode(j),this.dictIndex=j;else for(let j=N;j>W;j--)C[D++]=String.fromCharCode(j),this.dictIndex=j}C.length=D}if($){const E=C.length;for(let S=E-1;S>0;S--){const F=Math.floor(Math.random()*(S+1));[C[S],C[F]]=[C[F],C[S]]}}return C}),h(this,"setDictionary",(M,$)=>{this.dict=this._normalizeDictionary(M,$),this.dictLength=this.dict.length,this.setCounter(0)}),h(this,"seq",()=>this.sequentialUUID()),h(this,"sequentialUUID",()=>{const M=this.dictLength,$=this.dict;let C=this.counter;const E=[];do{const F=C%M;C=Math.trunc(C/M),E.push($[F])}while(C!==0);const S=E.join("");return this.counter+=1,S}),h(this,"rnd",(M=this.uuidLength||v)=>this.randomUUID(M)),h(this,"randomUUID",(M=this.uuidLength||v)=>{if(M===null||typeof M>"u"||M<1)throw new Error("Invalid UUID Length Provided");const $=new Array(M),C=this.dictLength,E=this.dict;for(let S=0;S<M;S++){const F=Math.floor(Math.random()*C);$[S]=E[F]}return $.join("")}),h(this,"fmt",(M,$)=>this.formattedUUID(M,$)),h(this,"formattedUUID",(M,$)=>{const C={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return M.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,S=>{const F=S.slice(0,2),D=Number.parseInt(S.slice(2),10);return F==="$s"?C[F]().padStart(D,"0"):F==="$t"&&$?C[F](D,$):C[F](D)})}),h(this,"availableUUIDs",(M=this.uuidLength)=>Number.parseFloat(([...new Set(this.dict)].length**M).toFixed(0))),h(this,"_collisionCache",new Map),h(this,"approxMaxBeforeCollision",(M=this.availableUUIDs(this.uuidLength))=>{const $=M,C=this._collisionCache.get($);if(C!==void 0)return C;const E=Number.parseFloat(Math.sqrt(Math.PI/2*M).toFixed(20));return this._collisionCache.set($,E),E}),h(this,"collisionProbability",(M=this.availableUUIDs(this.uuidLength),$=this.uuidLength)=>Number.parseFloat((this.approxMaxBeforeCollision(M)/this.availableUUIDs($)).toFixed(20))),h(this,"uniqueness",(M=this.availableUUIDs(this.uuidLength))=>{const $=Number.parseFloat((1-this.approxMaxBeforeCollision(M)/M).toFixed(20));return $>1?1:$<0?0:$}),h(this,"getVersion",()=>this.version),h(this,"stamp",(M,$)=>{const C=Math.floor(+($||new Date)/1e3).toString(16);if(typeof M=="number"&&M===0)return C;if(typeof M!="number"||M<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join(`
`));const E=M-9,S=Math.round(Math.random()*(E>15?15:E)),F=this.randomUUID(E);return"".concat(F.substring(0,S)).concat(C).concat(F.substring(S)).concat(S.toString(16))}),h(this,"parseStamp",(M,$)=>{if($&&!/t0|t[1-9]\d{1,}/.test($))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");const C=$?$.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,S=>{const F={$r:L=>[...Array(L)].map(()=>"r").join(""),$s:L=>[...Array(L)].map(()=>"s").join(""),$t:L=>[...Array(L)].map(()=>"t").join("")},D=S.slice(0,2),P=Number.parseInt(S.slice(2),10);return F[D](P)}).replace(/^(.*?)(t{8,})(.*)$/g,(S,F,D)=>M.substring(F.length,F.length+D.length)):M;if(C.length===8)return new Date(Number.parseInt(C,16)*1e3);if(C.length<10)throw new Error("Stamp length invalid");const E=Number.parseInt(C.substring(C.length-1),16);return new Date(Number.parseInt(C.substring(E,E+8),16)*1e3)}),h(this,"setCounter",M=>{this.counter=M}),h(this,"validate",(M,$)=>{const C=$?this._normalizeDictionary($):this.dict;return M.split("").every(E=>C.includes(E))});const k=c(c({},b),_);this.counter=0,this.debug=!1,this.dict=[],this.version=m;const{dictionary:R,shuffle:A,length:T,counter:O}=k;this.uuidLength=T,this.setDictionary(R,A),this.setCounter(O),this.debug=k.debug,this.log(this.dict),this.log("Generator instantiated with Dictionary Size ".concat(this.dictLength," and counter set to ").concat(this.counter)),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this)}};h(y,"default",y);var x=y;return f(g)})();t.exports=e.default,typeof window<"u"&&(e=e.default)}(Lf)),Lf.exports}var zI=UI();const b_=tc(zI);function X(t,e,n){return(e=function(r){var i=function(a,o){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var l=s.call(a,o);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(a)}(r,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zb(Object(n),!0).forEach(function(r){X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rt(t,e){if(t==null)return{};var n,r,i=function(o,s){if(o==null)return{};var l={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(s.indexOf(c)>=0)continue;l[c]=o[c]}return l}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}let Hb=class{constructor(){X(this,"browserShadowBlurConstant",1),X(this,"DPI",96),X(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),X(this,"perfLimitSizeTotal",2097152),X(this,"maxCacheSideLimit",4096),X(this,"minCacheSideLimit",256),X(this,"disableStyleCopyPaste",!1),X(this,"enableGLFiltering",!0),X(this,"textureSize",4096),X(this,"forceGLPutImageData",!1),X(this,"cachesBoundsOfCurve",!1),X(this,"fontPaths",{}),X(this,"NUM_FRACTION_DIGITS",4)}};const ut=new class extends Hb{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=q(q({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new Hb,n=t?.reduce((r,i)=>(r[i]=e[i],r),{})||e;this.configure(n)}},ua=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return console[t]("fabric",...n)};let li=class extends Error{constructor(e,n){super("fabric: ".concat(e),n)}},HI=class extends li{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}},WI=class{},VI=class extends WI{testPrecision(e,n){const r="precision ".concat(n,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,r),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const n=e.getContext("webgl");n&&(this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(r=>this.testPrecision(n,r)),n.getExtension("WEBGL_lose_context").loseContext(),ua("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const GI={};let Wb;const fi=()=>Wb||(Wb={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new VI,dispose(){},copyPasteData:GI}),us=()=>fi().document,hh=()=>fi().window,y_=()=>{var t;return Math.max((t=ut.devicePixelRatio)!==null&&t!==void 0?t:hh().devicePixelRatio,1)},Rl=new class{constructor(){X(this,"charWidthsCache",{}),X(this,"boundsOfCurveCache",{})}getFontCache(t){let{fontFamily:e,fontStyle:n,fontWeight:r}=t;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const i=this.charWidthsCache[e],a="".concat(n.toLowerCase(),"_").concat((r+"").toLowerCase());return i[a]||(i[a]={}),i[a]}clearFontCache(t){(t=(t||"").toLowerCase())?this.charWidthsCache[t]&&delete this.charWidthsCache[t]:this.charWidthsCache={}}limitDimsByArea(t){const{perfLimitSizeTotal:e}=ut,n=Math.sqrt(e*t);return[Math.floor(n),Math.floor(e/n)]}},vg="6.7.0";function Du(){}const fc=Math.PI/2,gd=2*Math.PI,Rm=Math.PI/180,Nn=Object.freeze([1,0,0,1,0,0]),$m=16,Ki=.4477152502,Ze="center",pt="left",Kn="top",bg="bottom",Wt="right",Zn="none",Fm=/\r?\n/,x_="moving",fh="scaling",w_="rotating",Pm="rotate",__="skewing",Xl="resizing",XI="modifyPoly",qI="modifyPath",md="changed",ph="scale",er="scaleX",Sr="scaleY",ds="skewX",hs="skewY",un="fill",Jn="stroke",vd="modified",go="json",If="svg",Se=new class{constructor(){this[go]=new Map,this[If]=new Map}has(t){return this[go].has(t)}getClass(t){const e=this[go].get(t);if(!e)throw new li("No class registered for ".concat(t));return e}setClass(t,e){e?this[go].set(e,t):(this[go].set(t.type,t),this[go].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[If].get(t)}setSVGClass(t,e){this[If].set(e??t.type.toLowerCase(),t)}},bd=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach(e=>e.abort()),t}cancelByCanvas(t){if(!t)return[];const e=this.filter(n=>{var r;return n.target===t||typeof n.target=="object"&&((r=n.target)===null||r===void 0?void 0:r.canvas)===t});return e.forEach(n=>n.abort()),e}cancelByTarget(t){if(!t)return[];const e=this.filter(n=>n.target===t);return e.forEach(n=>n.abort()),e}};let YI=class{constructor(){X(this,"__eventListeners",{})}on(e,n){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(r=>{let[i,a]=r;this.on(i,a)}),()=>this.off(e);if(n){const r=e;return this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(n),()=>this.off(r,n)}return()=>!1}once(e,n){if(typeof e=="object"){const r=[];return Object.entries(e).forEach(i=>{let[a,o]=i;r.push(this.once(a,o))}),()=>r.forEach(i=>i())}if(n){const r=this.on(e,function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];n.call(this,...a),r()});return r}return()=>!1}_removeEventListener(e,n){if(this.__eventListeners[e])if(n){const r=this.__eventListeners[e],i=r.indexOf(n);i>-1&&r.splice(i,1)}else this.__eventListeners[e]=[]}off(e,n){if(this.__eventListeners)if(e===void 0)for(const r in this.__eventListeners)this._removeEventListener(r);else typeof e=="object"?Object.entries(e).forEach(r=>{let[i,a]=r;this._removeEventListener(i,a)}):this._removeEventListener(e,n)}fire(e,n){var r;if(!this.__eventListeners)return;const i=(r=this.__eventListeners[e])===null||r===void 0?void 0:r.concat();if(i)for(let a=0;a<i.length;a++)i[a].call(this,n||{})}};const _o=(t,e)=>{const n=t.indexOf(e);return n!==-1&&t.splice(n,1),t},Li=t=>{if(t===0)return 1;switch(Math.abs(t)/fc){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},Ii=t=>{if(t===0)return 0;const e=t/fc,n=Math.sign(t);switch(e){case 1:return n;case 2:return 0;case 3:return-n}return Math.sin(t)};class re{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=n)}add(e){return new re(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new re(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new re(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new re(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new re(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new re(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new re(this.x/e.x,this.y/e.y)}scalarDivide(e){return new re(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return n=Math.max(Math.min(1,n),0),new re(this.x+(e.x-this.x)*n,this.y+(e.y-this.y)*n)}distanceFrom(e){const n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n*n+r*r)}midPointFrom(e){return this.lerp(e)}min(e){return new re(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new re(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,n){return this.x=e,this.y=n,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const n=this.x,r=this.y;this.x=e.x,this.y=e.y,e.x=n,e.y=r}clone(){return new re(this.x,this.y)}rotate(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dm;const r=Ii(e),i=Li(e),a=this.subtract(n);return new re(a.x*i-a.y*r,a.x*r+a.y*i).add(n)}transform(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new re(e[0]*this.x+e[2]*this.y+(n?0:e[4]),e[1]*this.x+e[3]*this.y+(n?0:e[5]))}}const Dm=new re(0,0),Lu=t=>!!t&&Array.isArray(t._objects);function C_(t){class e extends t{constructor(){super(...arguments),X(this,"_objects",[])}_onObjectAdded(r){}_onObjectRemoved(r){}_onStackOrderChanged(r){}add(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const o=this._objects.push(...i);return i.forEach(s=>this._onObjectAdded(s)),o}insertAt(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return this._objects.splice(r,0,...a),a.forEach(s=>this._onObjectAdded(s)),this._objects.length}remove(){const r=this._objects,i=[];for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return o.forEach(l=>{const c=r.indexOf(l);c!==-1&&(r.splice(c,1),i.push(l),this._onObjectRemoved(l))}),i}forEachObject(r){this.getObjects().forEach((i,a,o)=>r(i,a,o))}getObjects(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...i))}item(r){return this._objects[r]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(r,i){return!!this._objects.includes(r)||!!i&&this._objects.some(a=>a instanceof e&&a.contains(r,!0))}complexity(){return this._objects.reduce((r,i)=>r+=i.complexity?i.complexity():0,0)}sendObjectToBack(r){return!(!r||r===this._objects[0])&&(_o(this._objects,r),this._objects.unshift(r),this._onStackOrderChanged(r),!0)}bringObjectToFront(r){return!(!r||r===this._objects[this._objects.length-1])&&(_o(this._objects,r),this._objects.push(r),this._onStackOrderChanged(r),!0)}sendObjectBackwards(r,i){if(!r)return!1;const a=this._objects.indexOf(r);if(a!==0){const o=this.findNewLowerIndex(r,a,i);return _o(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0}return!1}bringObjectForward(r,i){if(!r)return!1;const a=this._objects.indexOf(r);if(a!==this._objects.length-1){const o=this.findNewUpperIndex(r,a,i);return _o(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0}return!1}moveObjectTo(r,i){return r!==this._objects[i]&&(_o(this._objects,r),this._objects.splice(i,0,r),this._onStackOrderChanged(r),!0)}findNewLowerIndex(r,i,a){let o;if(a){o=i;for(let s=i-1;s>=0;--s)if(r.isOverlapping(this._objects[s])){o=s;break}}else o=i-1;return o}findNewUpperIndex(r,i,a){let o;if(a){o=i;for(let s=i+1;s<this._objects.length;++s)if(r.isOverlapping(this._objects[s])){o=s;break}}else o=i+1;return o}collectObjects(r){let{left:i,top:a,width:o,height:s}=r,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=[],u=new re(i,a),d=u.add(new re(o,s));for(let f=this._objects.length-1;f>=0;f--){const h=this._objects[f];h.selectable&&h.visible&&(l&&h.intersectsWithRect(u,d)||h.isContainedWithinRect(u,d)||l&&h.containsPoint(u)||l&&h.containsPoint(d))&&c.push(h)}return c}}return e}class k_ extends YI{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const n in e)this.set(n,e[n])}_setObject(e){for(const n in e)this._set(n,e[n])}set(e,n){return typeof e=="object"?this._setObject(e):this._set(e,n),this}_set(e,n){this[e]=n}toggle(e){const n=this.get(e);return typeof n=="boolean"&&this.set(e,!n),this}get(e){return this[e]}}function Iu(t){return hh().requestAnimationFrame(t)}function KI(t){return hh().cancelAnimationFrame(t)}let ZI=0;const da=()=>ZI++,Ni=()=>{const t=us().createElement("canvas");if(!t||t.getContext===void 0)throw new li("Failed to create `canvas` element");return t},JI=()=>us().createElement("img"),Er=t=>{const e=Ni();return e.width=t.width,e.height=t.height,e},S_=(t,e,n)=>t.toDataURL("image/".concat(e),n),E_=(t,e,n)=>new Promise((r,i)=>{t.toBlob(r,"image/".concat(e),n)}),Xt=t=>t*Rm,ji=t=>t/Rm,QI=t=>t.every((e,n)=>e===Nn[n]),Vn=(t,e,n)=>new re(t).transform(e,n),Gr=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:r,y:i}=new re(t[4],t[5]).transform(n,!0);return n[4]=-r,n[5]=-i,n},xn=(t,e,n)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]],Lm=(t,e)=>t.reduceRight((n,r)=>r&&n?xn(r,n,e):r||n,void 0)||Nn.concat(),T_=t=>{let[e,n]=t;return Math.atan2(n,e)},yd=t=>{const e=T_(t),n=Math.pow(t[0],2)+Math.pow(t[1],2),r=Math.sqrt(n),i=(t[0]*t[3]-t[2]*t[1])/r,a=Math.atan2(t[0]*t[2]+t[1]*t[3],n);return{angle:ji(e),scaleX:r,scaleY:i,skewX:ji(a),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},pc=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function fs(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:n=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Xt(t),i=Li(r),a=Ii(r);return[i,a,-a,i,e?e-(i*e-a*n):0,n?n-(a*e+i*n):0]}const Im=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},A_=t=>Math.tan(Xt(t)),O_=t=>[1,0,A_(t),1,0,0],M_=t=>[1,A_(t),0,1,0,0],gh=t=>{let{scaleX:e=1,scaleY:n=1,flipX:r=!1,flipY:i=!1,skewX:a=0,skewY:o=0}=t,s=Im(r?-e:e,i?-n:n);return a&&(s=xn(s,O_(a),!0)),o&&(s=xn(s,M_(o),!0)),s},eN=t=>{const{translateX:e=0,translateY:n=0,angle:r=0}=t;let i=pc(e,n);r&&(i=xn(i,fs({angle:r})));const a=gh(t);return QI(a)||(i=xn(i,a)),i},Nu=function(t){let{signal:e,crossOrigin:n=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,i){if(e&&e.aborted)return i(new HI("loadImage"));const a=JI();let o;e&&(o=function(l){a.src="",i(l)},e.addEventListener("abort",o,{once:!0}));const s=function(){a.onload=a.onerror=null,o&&e?.removeEventListener("abort",o),r(a)};t?(a.onload=s,a.onerror=function(){o&&e?.removeEventListener("abort",o),i(new li("Error loading ".concat(a.src)))},n&&(a.crossOrigin=n),a.src=t):s()})},ql=function(t){let{signal:e,reviver:n=Du}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,i)=>{const a=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map(o=>Se.getClass(o.type).fromObject(o,{signal:e}).then(s=>(n(o,s),a.push(s),s)))).then(r).catch(o=>{a.forEach(s=>{s.dispose&&s.dispose()}),i(o)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},mh=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,r)=>{const i=[];e&&e.addEventListener("abort",r,{once:!0});const a=Object.values(t).map(s=>s&&s.type&&Se.has(s.type)?ql([s],{signal:e}).then(l=>{let[c]=l;return i.push(c),c}):s),o=Object.keys(t);Promise.all(a).then(s=>s.reduce((l,c,u)=>(l[o[u]]=c,l),{})).then(n).catch(s=>{i.forEach(l=>{l.dispose&&l.dispose()}),r(s)}).finally(()=>{e&&e.removeEventListener("abort",r)})})},ps=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,n)=>(n in t&&(e[n]=t[n]),e),{})},Nm=(t,e)=>Object.keys(t).reduce((n,r)=>(e(t[r],r,t)&&(n[r]=t[r]),n),{}),Tt=(t,e)=>parseFloat(Number(t).toFixed(e)),Yl=t=>"matrix("+t.map(e=>Tt(e,ut.NUM_FRACTION_DIGITS)).join(" ")+")",wr=t=>!!t&&t.toLive!==void 0,Vb=t=>!!t&&typeof t.toObject=="function",Gb=t=>!!t&&t.offsetX!==void 0&&"source"in t,$a=t=>!!t&&"multiSelectionStacking"in t;function R_(t){const e=t&&zr(t);let n=0,r=0;if(!t||!e)return{left:n,top:r};let i=t;const a=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(n=o.scrollLeft||a.scrollLeft||0,r=o.scrollTop||a.scrollTop||0):(n+=i.scrollLeft||0,r+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:n,top:r}}const zr=t=>t.ownerDocument||null,$_=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},F_=function(t,e,n){let{width:r,height:i}=n,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=r,t.height=i,a>1&&(t.setAttribute("width",(r*a).toString()),t.setAttribute("height",(i*a).toString()),e.scale(a,a))},yg=(t,e)=>{let{width:n,height:r}=e;n&&(t.style.width=typeof n=="number"?"".concat(n,"px"):n),r&&(t.style.height=typeof r=="number"?"".concat(r,"px"):r)};function Xb(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=Zn,t}class P_{constructor(e){X(this,"_originalCanvasStyle",void 0),X(this,"lower",void 0);const n=this.createLowerCanvas(e);this.lower={el:n,ctx:n.getContext("2d")}}createLowerCanvas(e){const n=(r=e)&&r.getContext!==void 0?e:e&&us().getElementById(e)||Ni();var r;if(n.hasAttribute("data-fabric"))throw new li("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=n.style.cssText,n.setAttribute("data-fabric","main"),n.classList.add("lower-canvas"),n}cleanupDOM(e){let{width:n,height:r}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(n)),i.setAttribute("height","".concat(r)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,n){const{el:r,ctx:i}=this.lower;F_(r,i,e,n)}setCSSDimensions(e){yg(this.lower.el,e)}calcOffset(){return function(e){var n;const r=e&&zr(e),i={left:0,top:0};if(!r)return i;const a=((n=$_(e))===null||n===void 0?void 0:n.getComputedStyle(e,null))||{};i.left+=parseInt(a.borderLeftWidth,10)||0,i.top+=parseInt(a.borderTopWidth,10)||0,i.left+=parseInt(a.paddingLeft,10)||0,i.top+=parseInt(a.paddingTop,10)||0;let o={left:0,top:0};const s=r.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const l=R_(e);return{left:o.left+l.left-(s.clientLeft||0)+i.left,top:o.top+l.top-(s.clientTop||0)+i.top}}(this.lower.el)}dispose(){fi().dispose(this.lower.el),delete this.lower}}const tN={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Nn]};class gc extends C_(k_){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return gc.ownDefaults}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(n),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new P_(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=super.insertAt(e,...r);return r.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),a}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(ua("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?y_():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,n){return this.setDimensions({width:e},n)}setHeight(e,n){return this.setDimensions({height:e},n)}_setDimensionsImpl(e){let{cssOnly:n=!1,backstoreOnly:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!n){const i=q({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}r||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,n){this._setDimensionsImpl(e,n),n&&n.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,n){const r=e,i=[...this.viewportTransform],a=Vn(e,Gr(i));i[0]=n,i[3]=n;const o=Vn(a,i);i[4]+=r.x-o.x,i[5]+=r.y-o.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new re(0,0),e)}absolutePan(e){const n=[...this.viewportTransform];return n[4]=-e.x,n[5]=-e.y,this.setViewportTransform(n)}relativePan(e){return this.absolutePan(new re(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Iu(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,n=this.height,r=Gr(this.viewportTransform),i=Vn({x:0,y:0},r),a=Vn({x:e,y:n},r),o=i.min(a),s=i.max(a);return this.vptCoords={tl:o,tr:new re(s.x,o.y),bl:new re(o.x,s.y),br:s}}cancelRequestedRender(){this.nextRenderHandle&&(KI(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,n){if(this.destroyed)return;const r=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(e,n),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,n){const r=this.viewportTransform;e.save(),e.transform(...r),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()}_renderObjects(e,n){for(let r=0,i=n.length;r<i;++r)n[r]&&n[r].render(e)}_renderBackgroundOrOverlay(e,n){const r=this["".concat(n,"Color")],i=this["".concat(n,"Image")],a=this.viewportTransform,o=this["".concat(n,"Vpt")];if(!r&&!i)return;const s=wr(r);if(r){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=s?r.toLive(e):r,o&&e.transform(...a),s){e.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);const l=r.gradientTransform||r.patternTransform;l&&e.transform(...l)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:l}=this;this.skipOffscreen=o,o&&e.transform(...a),i.render(e),this.skipOffscreen=l,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new re(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new re(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new re(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new re(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new re(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Vn(this.getCenterPoint(),Gr(this.viewportTransform))}_centerObject(e,n){e.setXY(n,Ze,Ze),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,n){const r=this.clipPath,i=r&&!r.excludeFromExport?this._toObject(r,e,n):null;return q(q(q({version:vg},ps(this,n)),{},{objects:this._objects.filter(a=>!a.excludeFromExport).map(a=>this._toObject(a,e,n))},this.__serializeBgOverlay(e,n)),i?{clipPath:i}:null)}_toObject(e,n,r){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const a=e[n](r);return this.includeDefaultValues||(e.includeDefaultValues=!!i),a}__serializeBgOverlay(e,n){const r={},i=this.backgroundImage,a=this.overlayImage,o=this.backgroundColor,s=this.overlayColor;return wr(o)?o.excludeFromExport||(r.background=o.toObject(n)):o&&(r.background=o),wr(s)?s.excludeFromExport||(r.overlay=s.toObject(n)):s&&(r.overlay=s),i&&!i.excludeFromExport&&(r.backgroundImage=this._toObject(i,e,n)),a&&!a.excludeFromExport&&(r.overlayImage=this._toObject(a,e,n)),r}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e.reviver=n;const r=[];return this._setSVGPreamble(r,e),this._setSVGHeader(r,e),this.clipPath&&r.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",n),this._setSVGObjects(r,n),this.clipPath&&r.push(`</g>
`),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",n),r.push("</svg>"),r.join("")}_setSVGPreamble(e,n){n.suppressPreamble||e.push('<?xml version="1.0" encoding="',n.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,n){const r=n.width||"".concat(this.width),i=n.height||"".concat(this.height),a=ut.NUM_FRACTION_DIGITS,o=n.viewBox;let s;if(o)s='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;s='viewBox="'.concat(Tt(-l[4]/l[0],a)," ").concat(Tt(-l[5]/l[3],a)," ").concat(Tt(this.width/l[0],a)," ").concat(Tt(this.height/l[3],a),'" ')}else s='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',i,'" ',s,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",vg,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(n),`</defs>
`)}createSVGClipPathMarkup(e){const n=this.clipPath;return n?(n.clipPathId="CLIPPATH_".concat(da()),'<clipPath id="'.concat(n.clipPathId,`" >
`).concat(n.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const n=this["".concat(e,"Color")];if(wr(n)){const r=this["".concat(e,"Vpt")],i=this.viewportTransform,a={isType:()=>!1,width:this.width/(r?i[0]:1),height:this.height/(r?i[3]:1)};return n.toSVG(a,{additionalTransform:r?Yl(i):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],n={},r=ut.fontPaths;this._objects.forEach(function a(o){e.push(o),Lu(o)&&o._objects.forEach(a)}),e.forEach(a=>{if(!(o=a)||typeof o._renderText!="function")return;var o;const{styles:s,fontFamily:l}=a;!n[l]&&r[l]&&(n[l]=!0,s&&Object.values(s).forEach(c=>{Object.values(c).forEach(u=>{let{fontFamily:d=""}=u;!n[d]&&r[d]&&(n[d]=!0)})}))});const i=Object.keys(n).map(a=>`		@font-face {
			font-family: '`.concat(a,`';
			src: url('`).concat(r[a],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,n){this.forEachObject(r=>{r.excludeFromExport||this._setSVGObject(e,r,n)})}_setSVGObject(e,n,r){e.push(n.toSVG(r))}_setSVGBgOverlayImage(e,n,r){const i=this[n];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(r))}_setSVGBgOverlayColor(e,n){const r=this["".concat(n,"Color")];if(r)if(wr(r)){const i=r.repeat||"",a=this.width,o=this.height,s=this["".concat(n,"Vpt")]?Yl(Gr(this.viewportTransform)):"";e.push('<rect transform="'.concat(s," translate(").concat(a/2,",").concat(o/2,')" x="').concat(r.offsetX-a/2,'" y="').concat(r.offsetY-o/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!Gb(r)?a:r.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!Gb(r)?o:r.source.height,'" fill="url(#SVGID_').concat(r.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',`></rect>
`)}loadFromJSON(e,n){let{signal:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new li("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:a=[],backgroundImage:o,background:s,overlayImage:l,overlay:c,clipPath:u}=i,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([ql(a,{reviver:n,signal:r}),mh({backgroundImage:o,backgroundColor:s,overlayImage:l,overlayColor:c,clipPath:u},{signal:r})]).then(f=>{let[h,g]=f;return this.clear(),this.add(...h),this.set(i),this.set(g),this.renderOnAddRemove=d,this})}clone(e){const n=this.toObject(e);return this.cloneWithoutData().loadFromJSON(n)}cloneWithoutData(){const e=Er(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:n="png",quality:r=1,multiplier:i=1,enableRetinaScaling:a=!1}=e,o=i*(a?this.getRetinaScaling():1);return S_(this.toCanvasElement(o,e),n,r)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:n="png",quality:r=1,multiplier:i=1,enableRetinaScaling:a=!1}=e,o=i*(a?this.getRetinaScaling():1);return E_(this.toCanvasElement(o,e),n,r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:n,height:r,left:i,top:a,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(n||this.width)*e,l=(r||this.height)*e,c=this.getZoom(),u=this.width,d=this.height,f=this.skipControlsDrawing,h=c*e,g=this.viewportTransform,m=[h,0,0,h,(g[4]-(i||0))*e,(g[5]-(a||0))*e],v=this.enableRetinaScaling,b=Er({width:s,height:l}),y=o?this._objects.filter(x=>o(x)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=m,this.width=s,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(b.getContext("2d"),y),this.viewportTransform=g,this.width=u,this.height=d,this.calcViewportBoundaries(),this.enableRetinaScaling=v,this.skipControlsDrawing=f,b}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),bd.cancelByCanvas(this),this.disposed=!0,new Promise((e,n)=>{const r=()=>{this.destroy(),e(!0)};r.kill=n,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=r:r()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}X(gc,"ownDefaults",tN);const nN=["touchstart","touchmove","touchend"],rN=t=>{const e=R_(t.target),n=function(r){const i=r.changedTouches;return i&&i[0]?i[0]:r}(t);return new re(n.clientX+e.left,n.clientY+e.top)},xg=t=>nN.includes(t.type)||t.pointerType==="touch",qb=t=>{t.preventDefault(),t.stopPropagation()},Ri=t=>{let e=0,n=0,r=0,i=0;for(let a=0,o=t.length;a<o;a++){const{x:s,y:l}=t[a];(s>r||!a)&&(r=s),(s<e||!a)&&(e=s),(l>i||!a)&&(i=l),(l<n||!a)&&(n=l)}return{left:e,top:n,width:r-e,height:i-n}},iN=["translateX","translateY","scaleX","scaleY"],aN=(t,e)=>xd(t,xn(e,t.calcOwnMatrix())),xd=(t,e)=>{const n=yd(e),{translateX:r,translateY:i,scaleX:a,scaleY:o}=n,s=Rt(n,iN),l=new re(r,i);t.flipX=!1,t.flipY=!1,Object.assign(t,s),t.set({scaleX:a,scaleY:o}),t.setPositionByOrigin(l,Ze,Ze)},oN=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},D_=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),jm=(t,e,n)=>{const r=t/2,i=e/2,a=[new re(-r,-i),new re(r,-i),new re(-r,i),new re(r,i)].map(s=>s.transform(n)),o=Ri(a);return new re(o.width,o.height)},vh=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nn;return xn(Gr(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nn),t)},Io=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nn,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nn;return t.transform(vh(e,n))},sN=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nn,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nn;return t.transform(vh(e,n),!0)},lN=(t,e,n)=>{const r=vh(e,n);return xd(t,xn(r,t.calcOwnMatrix())),r},L_=(t,e)=>{var n;const{transform:{target:r}}=e;(n=r.canvas)===null||n===void 0||n.fire("object:".concat(t),q(q({},e),{},{target:r})),r.fire(t,e)},cN={left:-.5,top:-.5,center:0,bottom:.5,right:.5},nn=t=>typeof t=="string"?cN[t]:t-.5,wd="not-allowed";function I_(t){return nn(t.originX)===nn(Ze)&&nn(t.originY)===nn(Ze)}function Yb(t){return .5-nn(t)}const qr=(t,e)=>t[e],N_=(t,e,n,r)=>({e:t,transform:e,pointer:new re(n,r)});function j_(t,e){const n=t.getTotalAngle()+ji(Math.atan2(e.y,e.x))+360;return Math.round(n%360/45)}function Bm(t,e,n,r,i){var a;let{target:o,corner:s}=t;const l=o.controls[s],c=((a=o.canvas)===null||a===void 0?void 0:a.getZoom())||1,u=o.padding/c,d=function(f,h,g,m){const v=f.getRelativeCenterPoint(),b=g!==void 0&&m!==void 0?f.translateToGivenOrigin(v,Ze,Ze,g,m):new re(f.left,f.top);return(f.angle?h.rotate(-Xt(f.angle),v):h).subtract(b)}(o,new re(r,i),e,n);return d.x>=u&&(d.x-=u),d.x<=-u&&(d.x+=u),d.y>=u&&(d.y-=u),d.y<=u&&(d.y+=u),d.x-=l.offsetX,d.y-=l.offsetY,d}const uN=(t,e,n,r)=>{const{target:i,offsetX:a,offsetY:o}=e,s=n-a,l=r-o,c=!qr(i,"lockMovementX")&&i.left!==s,u=!qr(i,"lockMovementY")&&i.top!==l;return c&&i.set(pt,s),u&&i.set(Kn,l),(c||u)&&L_(x_,N_(t,e,n,r)),c||u},Kb={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Nf=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),Zb=(t,e,n,r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),a=Math.min(t,e,n);let o,s;const l=(i+a)/2;if(i===a)o=s=0;else{const c=i-a;switch(s=l>.5?c/(2-i-a):c/(i+a),i){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4}o/=6}return[Math.round(360*o),Math.round(100*s),Math.round(100*l),r]},Jb=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},Xc=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),Qb=t=>{let[e,n,r,i=1]=t;const a=Math.round(.3*e+.59*n+.11*r);return[a,a,a,i]};class vt{constructor(e){if(X(this,"isUnrecognised",!1),e)if(e instanceof vt)this.setSource([...e._source]);else if(Array.isArray(e)){const[n,r,i,a=1]=e;this.setSource([n,r,i,a])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in Kb&&(e=Kb[e]),e==="transparent"?[255,255,255,0]:vt.sourceFromHex(e)||vt.sourceFromRgb(e)||vt.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,n,r]=this.getSource();return"rgb(".concat(e,",").concat(n,",").concat(r,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,n,r]=Zb(...this.getSource());return"hsl(".concat(e,",").concat(n,"%,").concat(r,"%)")}toHsla(){const[e,n,r,i]=Zb(...this.getSource());return"hsla(".concat(e,",").concat(n,"%,").concat(r,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,n,r,i]=this.getSource();return"".concat(Xc(e)).concat(Xc(n)).concat(Xc(r)).concat(Xc(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(Qb(this.getSource())),this}toBlackWhite(e){const[n,,,r]=Qb(this.getSource()),i=n<(e||127)?0:255;return this.setSource([i,i,i,r]),this}overlayWith(e){e instanceof vt||(e=new vt(e));const n=this.getSource(),r=e.getSource(),[i,a,o]=n.map((s,l)=>Math.round(.5*s+.5*r[l]));return this.setSource([i,a,o,n[3]]),this}static fromRgb(e){return vt.fromRgba(e)}static fromRgba(e){return new vt(vt.sourceFromRgb(e))}static sourceFromRgb(e){const n=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(n){const[r,i,a]=n.slice(1,4).map(o=>{const s=parseFloat(o);return o.endsWith("%")?Math.round(2.55*s):s});return[r,i,a,Jb(n[4])]}}static fromHsl(e){return vt.fromHsla(e)}static fromHsla(e){return new vt(vt.sourceFromHsl(e))}static sourceFromHsl(e){const n=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!n)return;const r=(vt.parseAngletoDegrees(n[1])%360+360)%360/360,i=parseFloat(n[2])/100,a=parseFloat(n[3])/100;let o,s,l;if(i===0)o=s=l=a;else{const c=a<=.5?a*(i+1):a+i-a*i,u=2*a-c;o=Nf(u,c,r+1/3),s=Nf(u,c,r),l=Nf(u,c,r-1/3)}return[Math.round(255*o),Math.round(255*s),Math.round(255*l),Jb(n[4])]}static fromHex(e){return new vt(vt.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const n=e.slice(e.indexOf("#")+1);let r;r=n.length<=4?n.split("").map(l=>l+l):n.match(/.{2}/g);const[i,a,o,s=255]=r.map(l=>parseInt(l,16));return[i,a,o,s/255]}}static parseAngletoDegrees(e){const n=e.toLowerCase(),r=parseFloat(n);return n.includes("rad")?ji(r):n.includes("turn")?360*r:r}}const No=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$m;const n=/\D{0,2}$/.exec(t),r=parseFloat(t),i=ut.DPI;switch(n?.[0]){case"mm":return r*i/25.4;case"cm":return r*i/2.54;case"in":return r*i;case"pt":return r*i/72;case"pc":return r*i/72*12;case"em":return r*e;default:return r}},dN=t=>{const[e,n]=t.trim().split(" "),[r,i]=(a=e)&&a!==Zn?[a.slice(1,4),a.slice(5,8)]:a===Zn?[a,a]:["Mid","Mid"];var a;return{meetOrSlice:n||"meet",alignX:r,alignY:i}},Kl=function(t,e){let n,r,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)n="url(#SVGID_".concat(e.id,")");else{const a=new vt(e),o=a.getAlpha();n=a.toRgb(),o!==1&&(r=o.toString())}else n="none";return i?"".concat(t,": ").concat(n,"; ").concat(r?"".concat(t,"-opacity: ").concat(r,"; "):""):"".concat(t,'="').concat(n,'" ').concat(r?"".concat(t,'-opacity="').concat(r,'" '):"")};class B_{getSvgStyles(e){const n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):Zn,a=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=this.opacity!==void 0?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=e?"":this.getSvgFilter(),f=Kl(un,this.fill);return[Kl(Jn,this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",l,"; ",f,"fill-rule: ",n,"; ","opacity: ",c,";",d,u].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(Yl(r));return"".concat(i).concat(n,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:n,additionalTransform:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),a=e.indexOf("COMMON_PARTS");return e[a]=i,n?n(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:n,reviver:r,withShadow:i,additionalTransform:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=n?"":'style="'.concat(this.getSvgStyles(),'" '),s=i?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,d=this.stroke,f=this.fill,h=this.shadow,g=[],m=e.indexOf("COMMON_PARTS");let v;l&&(l.clipPathId="CLIPPATH_".concat(da()),v='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(r),`</clipPath>
`)),u&&g.push("<g ",s,this.getSvgCommons(),` >
`),g.push("<g ",this.getSvgTransform(!1),u?"":s+this.getSvgCommons(),` >
`);const b=[o,c,n?"":this.addPaintOrder()," ",a?'transform="'.concat(a,'" '):""].join("");return e[m]=b,wr(f)&&g.push(f.toSVG(this)),wr(d)&&g.push(d.toSVG(this)),h&&g.push(h.toSVG(this)),l&&g.push(v),g.push(e.join("")),g.push(`</g>
`),u&&g.push(`</g>
`),r?r(g.join("")):g.join("")}addPaintOrder(){return this.paintFirst!==un?' paint-order="'.concat(this.paintFirst,'" '):""}}function bh(t){return new RegExp("^("+t.join("|")+")\\b","i")}const Ka="textDecorationThickness",U_=["fontSize","fontWeight","fontFamily","fontStyle"],z_=["underline","overline","linethrough"],H_=[...U_,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],W_=[...H_,...z_,"textBackgroundColor","direction",Ka],hN=[...U_,...z_,Jn,"strokeWidth",un,"deltaY","textBackgroundColor",Ka],fN={_reNewline:Fm,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:pt,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:pt,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[Ka]:66.667},oi="justify",_d="justify-left",$l="justify-right",Fl="justify-center";var e2,t2,n2;const Xr=String.raw(e2||(e2=mi(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),jf=String.raw(t2||(t2=mi(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),pN=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Xr+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Xr+"))?\\s+(.*)"),gN={cx:pt,x:pt,r:"radius",cy:Kn,y:Kn,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":Ka},Bf="font-size",Uf="clip-path";bh(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);bh(["symbol","image","marker","pattern","view","svg"]);const r2=bh(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(n2||(n2=mi(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),Xr,jf,Xr,jf,Xr,jf,Xr));const mN=new re(1,0),V_=new re,G_=(t,e)=>t.rotate(e),wg=(t,e)=>new re(e).subtract(t),_g=t=>t.distanceFrom(V_),Cg=(t,e)=>Math.atan2(Pl(t,e),bN(t,e)),vN=t=>Cg(mN,t),Um=t=>t.eq(V_)?t:t.scalarDivide(_g(t)),X_=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Um(new re(-t.y,t.x).scalarMultiply(e?1:-1))},Pl=(t,e)=>t.x*e.y-t.y*e.x,bN=(t,e)=>t.x*e.x+t.y*e.y,i2=(t,e,n)=>{if(t.eq(e)||t.eq(n))return!0;const r=Pl(e,n),i=Pl(e,t),a=Pl(n,t);return r>=0?i>=0&&a<=0:!(i<=0&&a>=0)},a2="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",o2=new RegExp("(?:\\s|^)"+a2+a2+"("+Xr+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class $i{constructor(e){const n=typeof e=="string"?$i.parseShadow(e):e;Object.assign(this,$i.ownDefaults,n),this.id=da()}static parseShadow(e){const n=e.trim(),[,r=0,i=0,a=0]=(o2.exec(n)||[]).map(o=>parseFloat(o)||0);return{color:(n.replace(o2,"")||"rgb(0,0,0)").trim(),offsetX:r,offsetY:i,blur:a}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const n=G_(new re(this.offsetX,this.offsetY),Xt(-e.angle)),r=new vt(this.color);let i=40,a=40;return e.width&&e.height&&(i=100*Tt((Math.abs(n.x)+this.blur)/e.width,ut.NUM_FRACTION_DIGITS)+20,a=100*Tt((Math.abs(n.y)+this.blur)/e.height,ut.NUM_FRACTION_DIGITS)+20),e.flipX&&(n.x*=-1),e.flipY&&(n.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(a,'%" height="').concat(100+2*a,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Tt(this.blur?this.blur/2:0,ut.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Tt(n.x,ut.NUM_FRACTION_DIGITS),'" dy="').concat(Tt(n.y,ut.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(r.toRgb(),'" flood-opacity="').concat(r.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},n=$i.ownDefaults;return this.includeDefaultValues?e:Nm(e,(r,i)=>r!==n[i])}static async fromObject(e){return new this(e)}}X($i,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),X($i,"type","shadow"),Se.setClass($i,"shadow");const Jo=(t,e,n)=>Math.max(t,Math.min(e,n)),yN=[Kn,pt,er,Sr,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",ds,hs],Hi=[un,Jn,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],xN={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:pt,originY:Kn,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:un,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},wN=(t,e,n,r)=>-n*Math.cos(t/r*fc)+n+e,_N=()=>!1;class zm{constructor(e){let{startValue:n,byValue:r,duration:i=500,delay:a=0,easing:o=wN,onStart:s=Du,onChange:l=Du,onComplete:c=Du,abort:u=_N,target:d}=e;X(this,"_state","pending"),X(this,"durationProgress",0),X(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=a,this.easing=o,this._onStart=s,this._onChange=l,this._onComplete=c,this._abort=u,this.target=d,this.startValue=n,this.byValue=r,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=n=>{this._state==="pending"&&(this.startTime=n||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Iu(e),this.delay):Iu(e)}tick(e){const n=(e||+new Date)-this.startTime,r=Math.min(n,this.duration);this.durationProgress=r/this.duration;const{value:i,valueProgress:a}=this.calculate(r);this.value=Object.freeze(i),this.valueProgress=a,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):n>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Iu(this.tick)))}register(){bd.push(this)}unregister(){bd.remove(this)}abort(){this._state="aborted",this.unregister()}}const CN=["startValue","endValue"];class kN extends zm{constructor(e){let{startValue:n=0,endValue:r=100}=e;super(q(q({},Rt(e,CN)),{},{startValue:n,byValue:r-n}))}calculate(e){const n=this.easing(e,this.startValue,this.byValue,this.duration);return{value:n,valueProgress:Math.abs((n-this.startValue)/this.byValue)}}}const SN=["startValue","endValue"];class EN extends zm{constructor(e){let{startValue:n=[0],endValue:r=[100]}=e;super(q(q({},Rt(e,SN)),{},{startValue:n,byValue:r.map((i,a)=>i-n[a])}))}calculate(e){const n=this.startValue.map((r,i)=>this.easing(e,r,this.byValue[i],this.duration,i));return{value:n,valueProgress:Math.abs((n[0]-this.startValue[0])/this.byValue[0])}}}const TN=["startValue","endValue","easing","onChange","onComplete","abort"],AN=(t,e,n,r)=>e+n*(1-Math.cos(t/r*fc)),zf=t=>t&&((e,n,r)=>t(new vt(e).toRgba(),n,r));class ON extends zm{constructor(e){let{startValue:n,endValue:r,easing:i=AN,onChange:a,onComplete:o,abort:s}=e,l=Rt(e,TN);const c=new vt(n).getSource(),u=new vt(r).getSource();super(q(q({},l),{},{startValue:c,byValue:u.map((d,f)=>d-c[f]),easing:i,onChange:zf(a),onComplete:zf(o),abort:zf(s)}))}calculate(e){const[n,r,i,a]=this.startValue.map((s,l)=>this.easing(e,s,this.byValue[l],this.duration,l)),o=[...[n,r,i].map(Math.round),Jo(0,a,1)];return{value:o,valueProgress:o.map((s,l)=>this.byValue[l]!==0?Math.abs((s-this.startValue[l])/this.byValue[l]):0).find(s=>s!==0)||0}}}function q_(t){const e=(n=>Array.isArray(n.startValue)||Array.isArray(n.endValue))(t)?new EN(t):new kN(t);return e.start(),e}function MN(t){const e=new ON(t);return e.start(),e}class Ft{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(n=>n.eq(e))}append(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.points=this.points.concat(n.filter(i=>!this.includes(i))),this}static isPointContained(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(n.eq(r))return e.eq(n);if(n.x===r.x)return e.x===n.x&&(i||e.y>=Math.min(n.y,r.y)&&e.y<=Math.max(n.y,r.y));if(n.y===r.y)return e.y===n.y&&(i||e.x>=Math.min(n.x,r.x)&&e.x<=Math.max(n.x,r.x));{const a=wg(n,r),o=wg(n,e).divide(a);return i?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,n){const r=new re(e).setX(Math.min(e.x-1,...n.map(a=>a.x)));let i=0;for(let a=0;a<n.length;a++){const o=this.intersectSegmentSegment(n[a],n[(a+1)%n.length],e,r);if(o.includes(e))return!0;i+=+(o.status==="Intersection")}return i%2==1}static intersectLineLine(e,n,r,i){let a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const s=n.x-e.x,l=n.y-e.y,c=i.x-r.x,u=i.y-r.y,d=e.x-r.x,f=e.y-r.y,h=c*f-u*d,g=s*f-l*d,m=u*s-c*l;if(m!==0){const v=h/m,b=g/m;return(a||0<=v&&v<=1)&&(o||0<=b&&b<=1)?new Ft("Intersection").append(new re(e.x+v*s,e.y+v*l)):new Ft}if(h===0||g===0){const v=a||o||Ft.isPointContained(e,r,i)||Ft.isPointContained(n,r,i)||Ft.isPointContained(r,e,n)||Ft.isPointContained(i,e,n);return new Ft(v?"Coincident":void 0)}return new Ft("Parallel")}static intersectSegmentLine(e,n,r,i){return Ft.intersectLineLine(e,n,r,i,!1,!0)}static intersectSegmentSegment(e,n,r,i){return Ft.intersectLineLine(e,n,r,i,!1,!1)}static intersectLinePolygon(e,n,r){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const a=new Ft,o=r.length;for(let s,l,c,u=0;u<o;u++){if(s=r[u],l=r[(u+1)%o],c=Ft.intersectLineLine(e,n,s,l,i,!1),c.status==="Coincident")return c;a.append(...c.points)}return a.points.length>0&&(a.status="Intersection"),a}static intersectSegmentPolygon(e,n,r){return Ft.intersectLinePolygon(e,n,r,!1)}static intersectPolygonPolygon(e,n){const r=new Ft,i=e.length,a=[];for(let o=0;o<i;o++){const s=e[o],l=e[(o+1)%i],c=Ft.intersectSegmentPolygon(s,l,n);c.status==="Coincident"?(a.push(c),r.append(s,l)):r.append(...c.points)}return a.length>0&&a.length===e.length?new Ft("Coincident"):(r.points.length>0&&(r.status="Intersection"),r)}static intersectPolygonRectangle(e,n,r){const i=n.min(r),a=n.max(r),o=new re(a.x,i.y),s=new re(i.x,a.y);return Ft.intersectPolygonPolygon(e,[i,o,a,s])}}class RN extends k_{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Vn(e,this.group.calcTransformMatrix()):e}setXY(e,n,r){this.group&&(e=Vn(e,Gr(this.group.calcTransformMatrix()))),this.setRelativeXY(e,n,r)}getRelativeXY(){return new re(this.left,this.top)}setRelativeXY(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,n,r)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:n,br:r,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),a=[e,n,r,i];if(this.group){const o=this.group.calcTransformMatrix();return a.map(s=>Vn(s,o))}return a}intersectsWithRect(e,n){return Ft.intersectPolygonRectangle(this.getCoords(),e,n).status==="Intersection"}intersectsWithObject(e){const n=Ft.intersectPolygonPolygon(this.getCoords(),e.getCoords());return n.status==="Intersection"||n.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(n=>e.containsPoint(n))}isContainedWithinRect(e,n){const{left:r,top:i,width:a,height:o}=this.getBoundingRect();return r>=e.x&&r+a<=n.x&&i>=e.y&&i+o<=n.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return Ft.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:n}=this.canvas.vptCoords;return!!this.getCoords().some(r=>r.x<=n.x&&r.x>=e.x&&r.y<=n.y&&r.y>=e.y)||!!this.intersectsWithRect(e,n)||this.containsPoint(e.midPointFrom(n))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:n}=this.canvas.vptCoords;return this.intersectsWithRect(e,n)?!0:this.getCoords().every(r=>(r.x>=n.x||r.x<=e.x)&&(r.y>=n.y||r.y<=e.y))&&this.containsPoint(e.midPointFrom(n))}getBoundingRect(){return Ri(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(er,e),this._set(Sr,e),this.setCoords()}scaleToWidth(e){const n=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/n)}scaleToHeight(e){const n=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/n)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?ji(T_(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||Nn.concat()}calcACoords(){const e=fs({angle:this.angle}),{x:n,y:r}=this.getRelativeCenterPoint(),i=pc(n,r),a=xn(i,e),o=this._getTransformedDimensions(),s=o.x/2,l=o.y/2;return{tl:Vn({x:-s,y:-l},a),tr:Vn({x:s,y:-l},a),bl:Vn({x:-s,y:l},a),br:Vn({x:s,y:l},a)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=[];return!e&&this.group&&(n=this.group.transformMatrixKey(e)),n.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,nn(this.originX),nn(this.originY)),n}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.calcOwnMatrix();if(e||!this.group)return n;const r=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every((a,o)=>a===r[o])?i.value:(this.group&&(n=xn(this.group.calcTransformMatrix(!1),n)),this.matrixCache={key:r,value:n},n)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),n=this.ownMatrixCache;if(n&&n.key===e)return n.value;const r=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:r.x,translateY:r.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},a=eN(i);return this.ownMatrixCache={key:e,value:a},a}_getNonTransformedDimensions(){return new re(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=q({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),r=n.strokeWidth;let i=r,a=0;this.strokeUniform&&(i=0,a=r);const o=n.width+i,s=n.height+i;let l;return l=n.skewX===0&&n.skewY===0?new re(o*n.scaleX,s*n.scaleY):jm(o,s,gh(n)),l.scalarAdd(a)}translateToGivenOrigin(e,n,r,i,a){let o=e.x,s=e.y;const l=nn(i)-nn(n),c=nn(a)-nn(r);if(l||c){const u=this._getTransformedDimensions();o+=l*u.x,s+=c*u.y}return new re(o,s)}translateToCenterPoint(e,n,r){if(n===Ze&&r===Ze)return e;const i=this.translateToGivenOrigin(e,n,r,Ze,Ze);return this.angle?i.rotate(Xt(this.angle),e):i}translateToOriginPoint(e,n,r){const i=this.translateToGivenOrigin(e,Ze,Ze,n,r);return this.angle?i.rotate(Xt(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Vn(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new re(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,n){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,n)}setPositionByOrigin(e,n,r){const i=this.translateToCenterPoint(e,n,r),a=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:a.x,top:a.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),pt,Kn)}}const $N=["type"],FN=["extraParam"];let Ci=class ju extends RN{static getDefaults(){return ju.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){ua("warn","Setting type has no effect",e)}constructor(e){super(),X(this,"_cacheContext",null),Object.assign(this,ju.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=Ni(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const n=e.width,r=e.height,i=ut.maxCacheSideLimit,a=ut.minCacheSideLimit;if(n<=i&&r<=i&&n*r<=ut.perfLimitSizeTotal)return n<a&&(e.width=a),r<a&&(e.height=a),e;const o=n/r,[s,l]=Rl.limitDimsByArea(o),c=Jo(a,s,i),u=Jo(a,l,i);return n>c&&(e.zoomX/=n/c,e.width=c,e.capped=!0),r>u&&(e.zoomY/=r/u,e.height=u,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),n=this._getTransformedDimensions({skewX:0,skewY:0}),r=n.x*e.x/this.scaleX,i=n.y*e.y/this.scaleY;return{width:Math.ceil(r+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:r,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,n=this._cacheContext,{width:r,height:i,zoomX:a,zoomY:o,x:s,y:l}=this._limitCacheSize(this._getCacheCanvasDimensions()),c=r!==e.width||i!==e.height,u=this.zoomX!==a||this.zoomY!==o;if(!e||!n)return!1;if(c||u){r!==e.width||i!==e.height?(e.width=r,e.height=i):(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height));const d=s/2,f=l/2;return this.cacheTranslationX=Math.round(e.width/2-d)+d,this.cacheTranslationY=Math.round(e.height/2-f)+f,n.translate(this.cacheTranslationX,this.cacheTranslationY),n.scale(a,o),this.zoomX=a,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const n=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,r=this.calcTransformMatrix(!n);e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}getObjectScaling(){if(!this.group)return new re(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=yd(this.calcTransformMatrix());return new re(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const n=this.canvas.getZoom(),r=this.getCanvasRetinaScaling();return e.scalarMultiply(n*r)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,n){e!==er&&e!==Sr||(n=this._constrainScale(n)),e===er&&n<0?(this.flipX=!this.flipX,n*=-1):e==="scaleY"&&n<0?(this.flipY=!this.flipY,n*=-1):e!=="shadow"||!n||n instanceof $i||(n=new $i(n));const r=this[e]!==n;return this[e]=n,r&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||r&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:n,zoomY:r,cacheTranslationX:i,cacheTranslationY:a}=this,{width:o,height:s}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:n,zoomY:r,cacheTranslationX:i,cacheTranslationY:a,width:o,height:s,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Jn&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,n,r){e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(r,0,0),e.restore()}drawObject(e,n,r){const i=this.fill,a=this.stroke;n?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,r),this.fill=i,this.stroke=a}createClipPathLayer(e,n){const r=Er(n),i=r.getContext("2d");if(i.translate(n.cacheTranslationX,n.cacheTranslationY),i.scale(n.zoomX,n.zoomY),e._cacheCanvas=r,n.parentClipPaths.forEach(a=>{a.transform(i)}),n.parentClipPaths.push(e),e.absolutePositioned){const a=Gr(this.calcTransformMatrix());i.transform(a[0],a[1],a[2],a[3],a[4],a[5])}return e.transform(i),e.drawObject(i,!0,n),r}_drawClipPath(e,n,r){if(!n)return;n._transformDone=!0;const i=this.createClipPathLayer(n,r);this.drawClipPathOnCache(e,n,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const n=this._cacheCanvas,r=this._cacheContext;return!(!n||!r||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(n&&r&&!e&&(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),r.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const n=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,n){const r=n.stroke;r&&(e.lineWidth=n.strokeWidth,e.lineCap=n.strokeLineCap,e.lineDashOffset=n.strokeDashOffset,e.lineJoin=n.strokeLineJoin,e.miterLimit=n.strokeMiterLimit,wr(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(e,r):(e.strokeStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.strokeStyle=n.stroke)}_setFillStyles(e,n){let{fill:r}=n;r&&(wr(r)?(e.fillStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.fillStyle=r)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,n){n&&n.length!==0&&e.setLineDash(n)}_setShadow(e){if(!this.shadow)return;const n=this.shadow,r=this.canvas,i=this.getCanvasRetinaScaling(),[a,,,o]=r?.viewportTransform||Nn,s=a*i,l=o*i,c=n.nonScaling?new re(1,1):this.getObjectScaling();e.shadowColor=n.color,e.shadowBlur=n.blur*ut.browserShadowBlurConstant*(s+l)*(c.x+c.y)/4,e.shadowOffsetX=n.offsetX*s*c.x,e.shadowOffsetY=n.offsetY*l*c.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,n){if(!wr(n))return{offsetX:0,offsetY:0};const r=n.gradientTransform||n.patternTransform,i=-this.width/2+n.offsetX||0,a=-this.height/2+n.offsetY||0;return n.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,a):e.transform(1,0,0,1,i,a),r&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:i,offsetY:a}}_renderPaintInOrder(e){this.paintFirst===Jn?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const n=this.getObjectScaling();e.scale(1/n.x,1/n.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,n){var r;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),a=this.getCanvasRetinaScaling(),o=i.x/this.scaleX/a,s=i.y/this.scaleY/a,l=Er({width:Math.ceil(o),height:Math.ceil(s)}),c=l.getContext("2d");c&&(c.beginPath(),c.moveTo(0,0),c.lineTo(o,0),c.lineTo(o,s),c.lineTo(0,s),c.closePath(),c.translate(o/2,s/2),c.scale(i.zoomX/this.scaleX/a,i.zoomY/this.scaleY/a),this._applyPatternGradientTransform(c,n),c.fillStyle=n.toLive(e),c.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(a*this.scaleX/i.zoomX,a*this.scaleY/i.zoomY),e.strokeStyle=(r=c.createPattern(l,"no-repeat"))!==null&&r!==void 0?r:"")}_findCenterFromElement(){return new re(this.left+this.width/2,this.top+this.height/2)}clone(e){const n=this.toObject(e);return this.constructor.fromObject(n)}cloneAsImage(e){const n=this.toCanvasElement(e);return new(Se.getClass("image"))(n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=D_(this),r=this.group,i=this.shadow,a=Math.abs,o=e.enableRetinaScaling?y_():1,s=(e.multiplier||1)*o,l=e.canvasProvider||(y=>new gc(y,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&oN(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&lN(this,this.getViewportTransform()),this.setCoords();const c=Ni(),u=this.getBoundingRect(),d=this.shadow,f=new re;if(d){const y=d.blur,x=d.nonScaling?new re(1,1):this.getObjectScaling();f.x=2*Math.round(a(d.offsetX)+y)*a(x.x),f.y=2*Math.round(a(d.offsetY)+y)*a(x.y)}const h=u.width+f.x,g=u.height+f.y;c.width=Math.ceil(h),c.height=Math.ceil(g);const m=l(c);e.format==="jpeg"&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new re(m.width/2,m.height/2),Ze,Ze);const v=this.canvas;m._objects=[this],this.set("canvas",m),this.setCoords();const b=m.toCanvasElement(s||1,e);return this.set("canvas",v),this.shadow=i,r&&(this.group=r),this.set(n),this.setCoords(),m._objects=[],m.destroy(),b}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return S_(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return E_(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.includes(this.constructor.type)||n.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:n,originX:r,originY:i}=this;if(n){const{x:a,y:o}=this.getRelativeCenterPoint();this.originX=Ze,this.originY=Ze,this.left=a,this.top=o}if(this.set("angle",e),n){const{x:a,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),r,i);this.left=a,this.top=o,this.originX=r,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){bd.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&fi().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,n){return Object.entries(e).reduce((r,i)=>{let[a,o]=i;return r[a]=this._animate(a,o,n),r},{})}_animate(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),a=this.constructor.colorProperties.includes(i[i.length-1]),{abort:o,startValue:s,onChange:l,onComplete:c}=r,u=q(q({},r),{},{target:this,startValue:s??i.reduce((d,f)=>d[f],this),endValue:n,abort:o?.bind(this),onChange:(d,f,h)=>{i.reduce((g,m,v)=>(v===i.length-1&&(g[m]=d),g[m]),this),l&&l(d,f,h)},onComplete:(d,f,h)=>{this.setCoords(),c&&c(d,f,h)}});return a?MN(u):q_(u)}isDescendantOf(e){const{parent:n,group:r}=this;return n===e||r===e||!!n&&n.isDescendantOf(e)||!!r&&r!==n&&r.isDescendantOf(e)}getAncestors(){const e=[];let n=this;do n=n.parent,n&&e.push(n);while(n);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const n=this.getAncestors(),r=e.getAncestors();if(n.length===0&&r.length>0&&this===r[r.length-1])return{fork:[],otherFork:[e,...r.slice(0,r.length-1)],common:[this]};for(let i,a=0;a<n.length;a++){if(i=n[a],i===e)return{fork:[this,...n.slice(0,a)],otherFork:[],common:n.slice(a)};for(let o=0;o<r.length;o++){if(this===r[o])return{fork:[],otherFork:[e,...r.slice(0,o)],common:[this,...n]};if(i===r[o])return{fork:[this,...n.slice(0,a)],otherFork:[e,...r.slice(0,o)],common:n.slice(a)}}}return{fork:[this,...n],otherFork:[e,...r],common:[]}}hasCommonAncestors(e){const n=this.findCommonAncestors(e);return n&&!!n.common.length}isInFrontOf(e){if(this===e)return;const n=this.findCommonAncestors(e);if(n.fork.includes(e))return!0;if(n.otherFork.includes(this))return!1;const r=n.common[0]||this.canvas;if(!r)return;const i=n.fork.pop(),a=n.otherFork.pop(),o=r._objects.indexOf(i),s=r._objects.indexOf(a);return o>-1&&o>s}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(ju.customProperties,this.constructor.customProperties||[]);let n;const r=ut.NUM_FRACTION_DIGITS,{clipPath:i,fill:a,stroke:o,shadow:s,strokeDashArray:l,left:c,top:u,originX:d,originY:f,width:h,height:g,strokeWidth:m,strokeLineCap:v,strokeDashOffset:b,strokeLineJoin:y,strokeUniform:x,strokeMiterLimit:w,scaleX:_,scaleY:k,angle:R,flipX:A,flipY:T,opacity:O,visible:M,backgroundColor:$,fillRule:C,paintFirst:E,globalCompositeOperation:S,skewX:F,skewY:D}=this;i&&!i.excludeFromExport&&(n=i.toObject(e.concat("inverted","absolutePositioned")));const P=N=>Tt(N,r),L=q(q({},ps(this,e)),{},{type:this.constructor.type,version:vg,originX:d,originY:f,left:P(c),top:P(u),width:P(h),height:P(g),fill:Vb(a)?a.toObject():a,stroke:Vb(o)?o.toObject():o,strokeWidth:P(m),strokeDashArray:l&&l.concat(),strokeLineCap:v,strokeDashOffset:b,strokeLineJoin:y,strokeUniform:x,strokeMiterLimit:P(w),scaleX:P(_),scaleY:P(k),angle:P(R),flipX:A,flipY:T,opacity:P(O),shadow:s&&s.toObject(),visible:M,backgroundColor:$,fillRule:C,paintFirst:E,globalCompositeOperation:S,skewX:P(F),skewY:P(D)},n?{clipPath:n}:null);return this.includeDefaultValues?L:this._removeDefaultValues(L)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const n=this.constructor.getDefaults(),r=Object.keys(n).length>0?n:Object.getPrototypeOf(this);return Nm(e,(i,a)=>{if(a===pt||a===Kn||a==="type")return!0;const o=r[a];return i!==o&&!(Array.isArray(i)&&Array.isArray(o)&&i.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let n=Rt(e,$N),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=r,a=Rt(r,FN);return mh(n,a).then(o=>i?(delete o[i],new this(n[i],o)):new this(o))}static fromObject(e,n){return this._fromObject(e,n)}};X(Ci,"stateProperties",yN),X(Ci,"cacheProperties",Hi),X(Ci,"ownDefaults",xN),X(Ci,"type","FabricObject"),X(Ci,"colorProperties",[un,Jn,"backgroundColor"]),X(Ci,"customProperties",[]),Se.setClass(Ci),Se.setClass(Ci,"object");const gs=(t,e,n)=>(r,i,a,o)=>{const s=e(r,i,a,o);return s&&L_(t,q(q({},N_(r,i,a,o)),n)),s};function ms(t){return(e,n,r,i)=>{const{target:a,originX:o,originY:s}=n,l=a.getRelativeCenterPoint(),c=a.translateToOriginPoint(l,o,s),u=t(e,n,r,i);return a.setPositionByOrigin(c,n.originX,n.originY),u}}const s2=gs(Xl,ms((t,e,n,r)=>{const i=Bm(e,e.originX,e.originY,n,r);if(nn(e.originX)===nn(Ze)||nn(e.originX)===nn(Wt)&&i.x<0||nn(e.originX)===nn(pt)&&i.x>0){const{target:a}=e,o=a.strokeWidth/(a.strokeUniform?a.scaleX:1),s=I_(e)?2:1,l=a.width,c=Math.abs(i.x*s/a.scaleX)-o;return a.set("width",Math.max(c,1)),l!==a.width}return!1}));function PN(t,e,n,r,i){r=r||{};const a=this.sizeX||r.cornerSize||i.cornerSize,o=this.sizeY||r.cornerSize||i.cornerSize,s=r.transparentCorners!==void 0?r.transparentCorners:i.transparentCorners,l=s?Jn:un,c=!s&&(r.cornerStrokeColor||i.cornerStrokeColor);let u,d=e,f=n;t.save(),t.fillStyle=r.cornerColor||i.cornerColor||"",t.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor||"",a>o?(u=a,t.scale(1,o/a),f=n*a/o):o>a?(u=o,t.scale(a/o,1),d=e*o/a):u=a,t.beginPath(),t.arc(d,f,u/2,0,gd,!1),t[l](),c&&t.stroke(),t.restore()}function DN(t,e,n,r,i){r=r||{};const a=this.sizeX||r.cornerSize||i.cornerSize,o=this.sizeY||r.cornerSize||i.cornerSize,s=r.transparentCorners!==void 0?r.transparentCorners:i.transparentCorners,l=s?Jn:un,c=!s&&(r.cornerStrokeColor||i.cornerStrokeColor),u=a/2,d=o/2;t.save(),t.fillStyle=r.cornerColor||i.cornerColor||"",t.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor||"",t.translate(e,n);const f=i.getTotalAngle();t.rotate(Xt(f)),t["".concat(l,"Rect")](-u,-d,a,o),c&&t.strokeRect(-u,-d,a,o),t.restore()}class Ir{constructor(e){X(this,"visible",!0),X(this,"actionName",ph),X(this,"angle",0),X(this,"x",0),X(this,"y",0),X(this,"offsetX",0),X(this,"offsetY",0),X(this,"sizeX",0),X(this,"sizeY",0),X(this,"touchSizeX",0),X(this,"touchSizeY",0),X(this,"cursorStyle","crosshair"),X(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,n,r,i){var a;let{tl:o,tr:s,br:l,bl:c}=i;return((a=n.canvas)===null||a===void 0?void 0:a.getActiveObject())===n&&n.isControlVisible(e)&&Ft.isPointInPolygon(r,[o,s,l,c])}getActionHandler(e,n,r){return this.actionHandler}getMouseDownHandler(e,n,r){return this.mouseDownHandler}getMouseUpHandler(e,n,r){return this.mouseUpHandler}cursorStyleHandler(e,n,r){return n.cursorStyle}getActionName(e,n,r){return n.actionName}getVisibility(e,n){var r,i;return(r=(i=e._controlsVisibility)===null||i===void 0?void 0:i[n])!==null&&r!==void 0?r:this.visible}setVisibility(e,n,r){this.visible=e}positionHandler(e,n,r,i){return new re(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(n)}calcCornerCoords(e,n,r,i,a,o){const s=Lm([pc(r,i),fs({angle:e}),Im((a?this.touchSizeX:this.sizeX)||n,(a?this.touchSizeY:this.sizeY)||n)]);return{tl:new re(-.5,-.5).transform(s),tr:new re(.5,-.5).transform(s),br:new re(.5,.5).transform(s),bl:new re(-.5,.5).transform(s)}}render(e,n,r,i,a){((i=i||{}).cornerStyle||a.cornerStyle)==="circle"?PN.call(this,e,n,r,i,a):DN.call(this,e,n,r,i,a)}}const LN=(t,e,n)=>n.lockRotation?wd:e.cursorStyle,IN=gs(w_,ms((t,e,n,r)=>{let{target:i,ex:a,ey:o,theta:s,originX:l,originY:c}=e;const u=i.translateToOriginPoint(i.getRelativeCenterPoint(),l,c);if(qr(i,"lockRotation"))return!1;const d=Math.atan2(o-u.y,a-u.x),f=Math.atan2(r-u.y,n-u.x);let h=ji(f-d+s);if(i.snapAngle&&i.snapAngle>0){const m=i.snapAngle,v=i.snapThreshold||m,b=Math.ceil(h/m)*m,y=Math.floor(h/m)*m;Math.abs(h-y)<v?h=y:Math.abs(h-b)<v&&(h=b)}h<0&&(h=360+h),h%=360;const g=i.angle!==h;return i.angle=h,g}));function Y_(t,e){const n=e.canvas,r=t[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function K_(t,e,n){const r=qr(t,"lockScalingX"),i=qr(t,"lockScalingY");if(r&&i||!e&&(r||i)&&n||r&&e==="x"||i&&e==="y")return!0;const{width:a,height:o,strokeWidth:s}=t;return a===0&&s===0&&e!=="y"||o===0&&s===0&&e!=="x"}const NN=["e","se","s","sw","w","nw","n","ne","e"],Sl=(t,e,n)=>{const r=Y_(t,n);if(K_(n,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",r))return wd;const i=j_(n,e);return"".concat(NN[i],"-resize")};function Hm(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const a=e.target,o=i.by,s=Y_(t,a);let l,c,u,d,f,h;if(K_(a,o,s))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,u=e.scaleY*e.gestureScale;else{if(l=Bm(e,e.originX,e.originY,n,r),f=o!=="y"?Math.sign(l.x||e.signX||1):1,h=o!=="x"?Math.sign(l.y||e.signY||1):1,e.signX||(e.signX=f),e.signY||(e.signY=h),qr(a,"lockScalingFlip")&&(e.signX!==f||e.signY!==h))return!1;if(d=a._getTransformedDimensions(),s&&!o){const v=Math.abs(l.x)+Math.abs(l.y),{original:b}=e,y=v/(Math.abs(d.x*b.scaleX/a.scaleX)+Math.abs(d.y*b.scaleY/a.scaleY));c=b.scaleX*y,u=b.scaleY*y}else c=Math.abs(l.x*a.scaleX/d.x),u=Math.abs(l.y*a.scaleY/d.y);I_(e)&&(c*=2,u*=2),e.signX!==f&&o!=="y"&&(e.originX=Yb(e.originX),c*=-1,e.signX=f),e.signY!==h&&o!=="x"&&(e.originY=Yb(e.originY),u*=-1,e.signY=h)}const g=a.scaleX,m=a.scaleY;return o?(o==="x"&&a.set(er,c),o==="y"&&a.set(Sr,u)):(!qr(a,"lockScalingX")&&a.set(er,c),!qr(a,"lockScalingY")&&a.set(Sr,u)),g!==a.scaleX||m!==a.scaleY}const qc=gs(fh,ms((t,e,n,r)=>Hm(t,e,n,r))),jN=gs(fh,ms((t,e,n,r)=>Hm(t,e,n,r,{by:"x"}))),BN=gs(fh,ms((t,e,n,r)=>Hm(t,e,n,r,{by:"y"}))),UN=["target","ex","ey","skewingSide"],Hf={x:{counterAxis:"y",scale:er,skew:ds,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Sr,skew:hs,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},zN=["ns","nesw","ew","nwse"],HN=(t,e,n)=>{if(e.x!==0&&qr(n,"lockSkewingY")||e.y!==0&&qr(n,"lockSkewingX"))return wd;const r=j_(n,e)%4;return"".concat(zN[r],"-resize")};function Z_(t,e,n,r,i){const{target:a}=n,{counterAxis:o,origin:s,lockSkewing:l,skew:c,flip:u}=Hf[t];if(qr(a,l))return!1;const{origin:d,flip:f}=Hf[o],h=nn(n[d])*(a[f]?-1:1),g=-Math.sign(h)*(a[u]?-1:1),m=.5*-((a[c]===0&&Bm(n,Ze,Ze,r,i)[t]>0||a[c]>0?1:-1)*g)+.5;return gs(__,ms((b,y,x,w)=>function(_,k,R){let{target:A,ex:T,ey:O,skewingSide:M}=k,$=Rt(k,UN);const{skew:C}=Hf[_],E=R.subtract(new re(T,O)).divide(new re(A.scaleX,A.scaleY))[_],S=A[C],F=$[C],D=Math.tan(Xt(F)),P=_==="y"?A._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:A._getTransformedDimensions({scaleX:1,scaleY:1}).y,L=2*E*M/Math.max(P,1)+D,N=ji(Math.atan(L));A.set(C,N);const W=S!==A[C];if(W&&_==="y"){const{skewX:j,scaleX:U}=A,z=A._getTransformedDimensions({skewY:S}),Q=A._getTransformedDimensions(),K=j!==0?z.x/Q.x:1;K!==1&&A.set(er,K*U)}return W}(t,y,new re(x,w))))(e,q(q({},n),{},{[s]:m,skewingSide:g}),r,i)}const WN=(t,e,n,r)=>Z_("x",t,e,n,r),VN=(t,e,n,r)=>Z_("y",t,e,n,r);function yh(t,e){return t[e.canvas.altActionKey]}const Yc=(t,e,n)=>{const r=yh(t,n);return e.x===0?r?ds:Sr:e.y===0?r?hs:er:""},Mo=(t,e,n)=>yh(t,n)?HN(0,e,n):Sl(t,e,n),l2=(t,e,n,r)=>yh(t,e.target)?VN(t,e,n,r):jN(t,e,n,r),c2=(t,e,n,r)=>yh(t,e.target)?WN(t,e,n,r):BN(t,e,n,r),J_=()=>({ml:new Ir({x:-.5,y:0,cursorStyleHandler:Mo,actionHandler:l2,getActionName:Yc}),mr:new Ir({x:.5,y:0,cursorStyleHandler:Mo,actionHandler:l2,getActionName:Yc}),mb:new Ir({x:0,y:.5,cursorStyleHandler:Mo,actionHandler:c2,getActionName:Yc}),mt:new Ir({x:0,y:-.5,cursorStyleHandler:Mo,actionHandler:c2,getActionName:Yc}),tl:new Ir({x:-.5,y:-.5,cursorStyleHandler:Sl,actionHandler:qc}),tr:new Ir({x:.5,y:-.5,cursorStyleHandler:Sl,actionHandler:qc}),bl:new Ir({x:-.5,y:.5,cursorStyleHandler:Sl,actionHandler:qc}),br:new Ir({x:.5,y:.5,cursorStyleHandler:Sl,actionHandler:qc}),mtr:new Ir({x:0,y:-.5,actionHandler:IN,cursorStyleHandler:LN,offsetY:-40,withConnection:!0,actionName:Pm})}),GN=()=>({mr:new Ir({x:.5,y:0,actionHandler:s2,cursorStyleHandler:Mo,actionName:Xl}),ml:new Ir({x:-.5,y:0,actionHandler:s2,cursorStyleHandler:Mo,actionName:Xl})}),XN=()=>q(q({},J_()),GN());class Zl extends Ci{static getDefaults(){return q(q({},super.getDefaults()),Zl.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),Zl.ownDefaults),this.setOptions(e)}static createControls(){return{controls:J_()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const n=e._currentTransform,r=n.target,i=n.action;if(this===r&&i&&i.startsWith(ph))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const r=Object.entries(this.oCoords);for(let i=r.length-1;i>=0;i--){const[a,o]=r[i],s=this.controls[a];if(s.shouldActivate(a,this,e,n?o.touchCorner:o.corner))return this.__corner=a,{key:a,control:s,coord:this.oCoords[a]}}}calcOCoords(){const e=this.getViewportTransform(),n=this.getCenterPoint(),r=pc(n.x,n.y),i=fs({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),a=xn(r,i),o=xn(e,a),s=xn(o,[1/e[0],0,0,1/e[3],0,0]),l=this.group?yd(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const c=this._calculateCurrentDimensions(l),u={};return this.forEachControl((d,f)=>{const h=d.positionHandler(c,s,this,d);u[f]=Object.assign(h,this._calcCornerCoords(d,h))}),u}_calcCornerCoords(e,n){const r=this.getTotalAngle();return{corner:e.calcCornerCoords(r,this.cornerSize,n.x,n.y,!1,this),touchCorner:e.calcCornerCoords(r,this.touchCornerSize,n.x,n.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const n in this.controls)e(this.controls[n],n,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const n=this.getRelativeCenterPoint(),r=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(n.x,n.y),e.scale(1/i[0],1/i[3]),e.rotate(Xt(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore()}strokeBorders(e,n){e.strokeRect(-n.x/2,-n.y/2,n.x,n.y)}_drawBorders(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=q({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},r);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,n),i.hasControls&&this.drawControlsConnectingLines(e,n),e.restore()}_renderControls(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:r,hasControls:i}=this,a=q({hasBorders:r,hasControls:i},n),o=this.getViewportTransform(),s=a.hasBorders,l=a.hasControls,c=xn(o,this.calcTransformMatrix()),u=yd(c);e.save(),e.translate(u.translateX,u.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),e.rotate(Xt(this.group?u.angle:this.angle)),s&&this.drawBorders(e,u,n),l&&this.drawControls(e,n),e.restore()}drawBorders(e,n,r){let i;if(r&&r.forActiveSelection||this.group){const a=jm(this.width,this.height,gh(n)),o=this.isStrokeAccountedForInDimensions()?Dm:(this.strokeUniform?new re().scalarAdd(this.canvas?this.canvas.getZoom():1):new re(n.scaleX,n.scaleY)).scalarMultiply(this.strokeWidth);i=a.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,r)}drawControlsConnectingLines(e,n){let r=!1;e.beginPath(),this.forEachControl((i,a)=>{i.withConnection&&i.getVisibility(this,a)&&(r=!0,e.moveTo(i.x*n.x,i.y*n.y),e.lineTo(i.x*n.x+i.offsetX,i.y*n.y+i.offsetY))}),r&&e.stroke()}drawControls(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const r=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:a,cornerColor:o}=this,s=q({cornerStrokeColor:i,cornerDashArray:a,cornerColor:o},n);e.setTransform(r,0,0,r,0,0),e.strokeStyle=e.fillStyle=s.cornerColor,this.transparentCorners||(e.strokeStyle=s.cornerStrokeColor),this._setLineDash(e,s.cornerDashArray),this.forEachControl((l,c)=>{if(l.getVisibility(this,c)){const u=this.oCoords[c];l.render(e,u.x,u.y,s,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,n){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=n}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(n=>{let[r,i]=n;return this.setControlVisible(r,i)})}clearContextTop(e){if(!this.canvas)return;const n=this.canvas.contextTop;if(!n)return;const r=this.canvas.viewportTransform;n.save(),n.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(n);const i=this.width+4,a=this.height+4;return n.clearRect(-i/2,-a/2,i,a),e||n.restore(),n}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function Q_(t,e){return e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))})}),t}X(Zl,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class On extends Zl{}Q_(On,[B_]),Se.setClass(On),Se.setClass(On,"object");const qN=(t,e,n,r)=>{const i=2*(r=Math.round(r))+1,{data:a}=t.getImageData(e-r,n-r,i,i);for(let o=3;o<a.length;o+=4)if(a[o]>0)return!1;return!0};class e6{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new re(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new re(1/this.options.scaleX,1/this.options.scaleY):new re(1,1)}createSideVector(e,n){const r=wg(e,n);return this.options.strokeUniform?r.multiply(this.scale):r}projectOrthogonally(e,n,r){return this.applySkew(e.add(this.calcOrthogonalProjection(e,n,r)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const n=new re(e);return n.y+=n.x*Math.tan(Xt(this.options.skewY)),n.x+=n.y*Math.tan(Xt(this.options.skewX)),n}scaleUnitVector(e,n){return e.multiply(this.strokeUniformScalar).scalarMultiply(n)}}const YN=new re;class jo extends e6{static getOrthogonalRotationFactor(e,n){const r=n?Cg(e,n):vN(e);return Math.abs(r)<fc?-1:1}constructor(e,n,r,i){super(i),X(this,"AB",void 0),X(this,"AC",void 0),X(this,"alpha",void 0),X(this,"bisector",void 0),this.A=new re(e),this.B=new re(n),this.C=new re(r),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=Cg(this.AB,this.AC),this.bisector=Um(G_(this.AB.eq(YN)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,n),a=X_(i),o=jo.getOrthogonalRotationFactor(a,this.bisector);return this.scaleUnitVector(a,r*o)}projectBevel(){const e=[];return(this.alpha%gd==0?[this.B]:[this.B,this.C]).forEach(n=>{e.push(this.projectOrthogonally(this.A,n)),e.push(this.projectOrthogonally(this.A,n,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],n=Math.abs(this.alpha),r=1/Math.sin(n/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*r),a=this.options.strokeUniform?_g(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return _g(i)/this.strokeProjectionMagnitude<=a&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,n){const r=[],i=new re(jo.getOrthogonalRotationFactor(this.bisector),jo.getOrthogonalRotationFactor(new re(this.bisector.y,this.bisector.x)));return[new re(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new re(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(a=>{i2(a,e,n)&&r.push(this.A.add(a))}),r}projectRoundWithSkew(e,n){const r=[],{skewX:i,skewY:a,scaleX:o,scaleY:s,strokeUniform:l}=this.options,c=new re(Math.tan(Xt(i)),Math.tan(Xt(a))),u=this.strokeProjectionMagnitude,d=l?u/s/Math.sqrt(1/s**2+1/o**2*c.y**2):u/Math.sqrt(1+c.y**2),f=new re(Math.sqrt(Math.max(u**2-d**2,0)),d),h=l?u/Math.sqrt(1+c.x**2*(1/s)**2/(1/o+1/o*c.x*c.y)**2):u/Math.sqrt(1+c.x**2/(1+c.x*c.y)**2),g=new re(h,Math.sqrt(Math.max(u**2-h**2,0)));return[g,g.scalarMultiply(-1),f,f.scalarMultiply(-1)].map(m=>this.applySkew(l?m.multiply(this.strokeUniformScalar):m)).forEach(m=>{i2(m,e,n)&&r.push(this.applySkew(this.A).add(m))}),r}projectRound(){const e=[];e.push(...this.projectBevel());const n=this.alpha%gd==0,r=this.applySkew(this.A),i=e[n?0:2].subtract(r),a=e[n?1:0].subtract(r),o=n?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),s=Pl(i,o)>0,l=s?i:a,c=s?a:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(l,c)):e.push(...this.projectRoundNoSkew(l,c)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class u2 extends e6{constructor(e,n,r){super(r),this.A=new re(e),this.T=new re(n)}calcOrthogonalProjection(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,n);return this.scaleUnitVector(X_(i),r)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const n=new re(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(n)),this.applySkew(this.A.subtract(n)))}else e.push(...new jo(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const n=new re(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(n),this.A.subtract(n))}else{const n=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),r=this.scaleUnitVector(Um(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(r);e.push(i.add(n),i.subtract(n))}return e.map(n=>this.applySkew(n))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const KN=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const r=[];if(t.length===0)return r;const i=t.reduce((a,o)=>(a[a.length-1].eq(o)||a.push(new re(o)),a),[new re(t[0])]);if(i.length===1)n=!0;else if(!n){const a=i[0],o=((s,l)=>{for(let c=s.length-1;c>=0;c--)if(l(s[c],c,s))return c;return-1})(i,s=>!s.eq(a));i.splice(o+1)}return i.forEach((a,o,s)=>{let l,c;o===0?(c=s[1],l=n?a:s[s.length-1]):o===s.length-1?(l=s[o-1],c=n?a:s[0]):(l=s[o-1],c=s[o+1]),n&&s.length===1?r.push(...new u2(a,a,e).project()):!n||o!==0&&o!==s.length-1?r.push(...new jo(a,l,c,e).project()):r.push(...new u2(a,o===0?c:l,e).project())}),r},Wm=t=>{const e={};return Object.keys(t).forEach(n=>{e[n]={},Object.keys(t[n]).forEach(r=>{e[n][r]=q({},t[n][r])})}),e},ZN=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let Rs;const Vm=t=>{if(Rs||Rs||(Rs="Intl"in hh()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),Rs){const e=Rs.segment(t);return Array.from(e).map(n=>{let{segment:r}=n;return r})}return JN(t)},JN=t=>{const e=[];for(let n,r=0;r<t.length;r++)(n=QN(t,r))!==!1&&e.push(n);return e},QN=(t,e)=>{const n=t.charCodeAt(e);if(isNaN(n))return"";if(n<55296||n>57343)return t.charAt(e);if(55296<=n&&n<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1},Gm=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textDecorationThickness!==e.textDecorationThickness||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||n&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},ej=(t,e)=>{const n=e.split(`
`),r=[];let i=-1,a={};t=Wm(t);for(let o=0;o<n.length;o++){const s=Vm(n[o]);if(t[o])for(let l=0;l<s.length;l++){i++;const c=t[o][l];c&&Object.keys(c).length>0&&(Gm(a,c,!0)?r.push({start:i,end:i+1,style:c}):r[r.length-1].end++),a=c||{}}else i+=s.length,a={}}return r},tj=(t,e)=>{if(!Array.isArray(t))return Wm(t);const n=e.split(Fm),r={};let i=-1,a=0;for(let o=0;o<n.length;o++){const s=Vm(n[o]);for(let l=0;l<s.length;l++)i++,t[a]&&t[a].start<=i&&i<t[a].end&&(r[o]=r[o]||{},r[o][l]=q({},t[a].style),i===t[a].end-1&&a++)}return r},_a=["display","transform",un,"fill-opacity","fill-rule","opacity",Jn,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function d2(t,e){const n=t.nodeName,r=t.getAttribute("class"),i=t.getAttribute("id"),a="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+n,"i"),e=e.replace(o,""),i&&e.length&&(o=new RegExp("#"+i+a,"i"),e=e.replace(o,"")),r&&e.length){const s=r.split(" ");for(let l=s.length;l--;)o=new RegExp("\\."+s[l]+a,"i"),e=e.replace(o,"")}return e.length===0}function nj(t,e){let n=!0;const r=d2(t,e.pop());return r&&e.length&&(n=function(i,a){let o,s=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&a.length;)s&&(o=a.pop()),s=d2(i=i.parentElement,o);return a.length===0}(t,e)),r&&n&&e.length===0}const rj=t=>{var e;return(e=gN[t])!==null&&e!==void 0?e:t},ij=new RegExp("(".concat(Xr,")"),"gi"),aj=t=>t.replace(ij," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var h2,f2,p2,g2,m2,v2,b2;const Ln="(".concat(Xr,")"),oj=String.raw(h2||(h2=mi(["(skewX)(",")"],["(skewX)\\(","\\)"])),Ln),sj=String.raw(f2||(f2=mi(["(skewY)(",")"],["(skewY)\\(","\\)"])),Ln),lj=String.raw(p2||(p2=mi(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Ln,Ln,Ln),cj=String.raw(g2||(g2=mi(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Ln,Ln),uj=String.raw(m2||(m2=mi(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Ln,Ln),dj=String.raw(v2||(v2=mi(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Ln,Ln,Ln,Ln,Ln,Ln),Xm="(?:".concat(dj,"|").concat(uj,"|").concat(lj,"|").concat(cj,"|").concat(oj,"|").concat(sj,")"),hj="(?:".concat(Xm,"*)"),fj=String.raw(b2||(b2=mi(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),hj),pj=new RegExp(fj),gj=new RegExp(Xm),mj=new RegExp(Xm,"g");function kg(t){const e=[];if(!(t=aj(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!pj.test(t))return[...Nn];for(const n of t.matchAll(mj)){const r=gj.exec(n[0]);if(!r)continue;let i=Nn;const a=r.filter(g=>!!g),[,o,...s]=a,[l,c,u,d,f,h]=s.map(g=>parseFloat(g));switch(o){case"translate":i=pc(l,c);break;case Pm:i=fs({angle:l},{x:c,y:u});break;case ph:i=Im(l,c);break;case ds:i=O_(l);break;case hs:i=M_(l);break;case"matrix":i=[l,c,u,d,f,h]}e.push(i)}return Lm(e)}function vj(t,e,n,r){const i=Array.isArray(e);let a,o=e;if(t!==un&&t!==Jn||e!==Zn){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")o=e===Zn?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")o=n&&n.transformMatrix?xn(n.transformMatrix,kg(e)):kg(e);else if(t==="visible")o=e!==Zn&&e!=="hidden",n&&n.visible===!1&&(o=!1);else if(t==="opacity")o=parseFloat(e),n&&n.opacity!==void 0&&(o*=n.opacity);else if(t==="textAnchor")o=e==="start"?pt:e==="end"?Wt:Ze;else if(t==="charSpacing"||t===Ka)a=No(e,r)/r*1e3;else if(t==="paintFirst"){const s=e.indexOf(un),l=e.indexOf(Jn);o=un,(s>-1&&l>-1&&l<s||s===-1&&l>-1)&&(o=Jn)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";a=i?e.map(No):No(e,r)}}else o="";return!i&&isNaN(a)?o:a}function bj(t,e){const n=t.match(pN);if(!n)return;const r=n[1],i=n[3],a=n[4],o=n[5],s=n[6];r&&(e.fontStyle=r),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),a&&(e.fontSize=No(a)),s&&(e.fontFamily=s),o&&(e.lineHeight=o==="normal"?1:o)}function yj(t,e){t.replace(/;\s*$/,"").split(";").forEach(n=>{if(!n)return;const[r,i]=n.split(":");e[r.trim().toLowerCase()]=i.trim()})}function xj(t){const e={},n=t.getAttribute("style");return n&&(typeof n=="string"?yj(n,e):function(r,i){Object.entries(r).forEach(a=>{let[o,s]=a;s!==void 0&&(i[o.toLowerCase()]=s)})}(n,e)),e}const wj={stroke:"strokeOpacity",fill:"fillOpacity"};function Wi(t,e,n){if(!t)return{};let r,i={},a=$m;t.parentNode&&r2.test(t.parentNode.nodeName)&&(i=Wi(t.parentElement,e,n),i.fontSize&&(r=a=No(i.fontSize)));const o=q(q(q({},e.reduce((c,u)=>{const d=t.getAttribute(u);return d&&(c[u]=d),c},{})),function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={};for(const f in u)nj(c,f.split(" "))&&(d=q(q({},d),u[f]));return d}(t,n)),xj(t));o[Uf]&&t.setAttribute(Uf,o[Uf]),o[Bf]&&(r=No(o[Bf],a),o[Bf]="".concat(r));const s={};for(const c in o){const u=rj(c),d=vj(u,o[c],i,r);s[u]=d}s&&s.font&&bj(s.font,s);const l=q(q({},i),s);return r2.test(t.nodeName)?l:function(c){const u=On.getDefaults();return Object.entries(wj).forEach(d=>{let[f,h]=d;if(c[h]===void 0||c[f]==="")return;if(c[f]===void 0){if(!u[f])return;c[f]=u[f]}if(c[f].indexOf("url(")===0)return;const g=new vt(c[f]);c[f]=g.setAlpha(Tt(g.getAlpha()*c[h],2)).toRgba()}),c}(l)}const _j=["left","top","width","height","visible"],t6=["rx","ry"];class Br extends On{static getDefaults(){return q(q({},super.getDefaults()),Br.ownDefaults)}constructor(e){super(),Object.assign(this,Br.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:n}=this;e&&!n?this.ry=e:n&&!e&&(this.rx=n)}_render(e){const{width:n,height:r}=this,i=-n/2,a=-r/2,o=this.rx?Math.min(this.rx,n/2):0,s=this.ry?Math.min(this.ry,r/2):0,l=o!==0||s!==0;e.beginPath(),e.moveTo(i+o,a),e.lineTo(i+n-o,a),l&&e.bezierCurveTo(i+n-Ki*o,a,i+n,a+Ki*s,i+n,a+s),e.lineTo(i+n,a+r-s),l&&e.bezierCurveTo(i+n,a+r-Ki*s,i+n-Ki*o,a+r,i+n-o,a+r),e.lineTo(i+o,a+r),l&&e.bezierCurveTo(i+Ki*o,a+r,i,a+r-Ki*s,i,a+r-s),e.lineTo(i,a+s),l&&e.bezierCurveTo(i,a+Ki*s,i+Ki*o,a,i+o,a),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...t6,...e])}_toSVG(){const{width:e,height:n,rx:r,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-n/2,'" rx="').concat(r,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(n,`" />
`)]}static async fromElement(e,n,r){const i=Wi(e,this.ATTRIBUTE_NAMES,r),{left:a=0,top:o=0,width:s=0,height:l=0,visible:c=!0}=i,u=Rt(i,_j);return new this(q(q(q({},n),u),{},{left:a,top:o,width:s,height:l,visible:!!(c&&s&&l)}))}}X(Br,"type","Rect"),X(Br,"cacheProperties",[...Hi,...t6]),X(Br,"ownDefaults",{rx:0,ry:0}),X(Br,"ATTRIBUTE_NAMES",[..._a,"x","y","rx","ry","width","height"]),Se.setClass(Br),Se.setSVGClass(Br);const Ti="initialization",Cd="added",qm="removed",kd="imperative",n6=(t,e)=>{const{strokeUniform:n,strokeWidth:r,width:i,height:a,group:o}=e,s=o&&o!==t?vh(o.calcTransformMatrix(),t.calcTransformMatrix()):null,l=s?e.getRelativeCenterPoint().transform(s):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),u=n&&c?sN(new re(r,r),void 0,t.calcTransformMatrix()):Dm,d=!n&&c?r:0,f=jm(i+d,a+d,Lm([s,e.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(f),l.add(f)]};class xh{calcLayoutResult(e,n){if(this.shouldPerformLayout(e))return this.calcBoundingBox(n,e)}shouldPerformLayout(e){let{type:n,prevStrategy:r,strategy:i}=e;return n===Ti||n===kd||!!r&&i!==r}shouldLayoutClipPath(e){let{type:n,target:{clipPath:r}}=e;return n!==Ti&&r&&!r.absolutePositioned}getInitialSize(e,n){return n.size}calcBoundingBox(e,n){const{type:r,target:i}=n;if(r===kd&&n.overrides)return n.overrides;if(e.length===0)return;const{left:a,top:o,width:s,height:l}=Ri(e.map(d=>n6(i,d)).reduce((d,f)=>d.concat(f),[])),c=new re(s,l),u=new re(a,o).add(c.scalarDivide(2));if(r===Ti){const d=this.getInitialSize(n,{size:c,center:u});return{center:u,relativeCorrection:new re(0,0),size:d}}return{center:u.transform(i.calcOwnMatrix()),size:c}}}X(xh,"type","strategy");class Sg extends xh{shouldPerformLayout(e){return!0}}X(Sg,"type","fit-content"),Se.setClass(Sg);const Cj=["strategy"],kj=["target","strategy","bubbles","prevStrategy"],r6="layoutManager";class Jl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Sg;X(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const n=q(q({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(n);const r=this.getLayoutResult(n);r&&this.commitLayout(n,r),this.onAfterLayout(n,r),this._prevLayoutStrategy=n.strategy}attachHandlers(e,n){const{target:r}=n;return[vd,x_,Xl,w_,fh,__,md,XI,qI].map(i=>e.on(i,a=>this.performLayout(i===vd?{type:"object_modified",trigger:i,e:a,target:r}:{type:"object_modifying",trigger:i,e:a,target:r})))}subscribe(e,n){this.unsubscribe(e,n);const r=this.attachHandlers(e,n);this._subscriptions.set(e,r)}unsubscribe(e,n){(this._subscriptions.get(e)||[]).forEach(r=>r()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(n=>this.unsubscribe(n,e))}subscribeTargets(e){e.targets.forEach(n=>this.subscribe(n,e))}onBeforeLayout(e){const{target:n,type:r}=e,{canvas:i}=n;if(r===Ti||r===Cd?this.subscribeTargets(e):r===qm&&this.unsubscribeTargets(e),n.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:n,context:e}),r===kd&&e.deep){const a=Rt(e,Cj);n.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(q(q({},a),{},{bubbles:!1,target:o})))}}getLayoutResult(e){const{target:n,strategy:r,type:i}=e,a=r.calcLayoutResult(e,n.getObjects());if(!a)return;const o=i===Ti?new re:n.getRelativeCenterPoint(),{center:s,correction:l=new re,relativeCorrection:c=new re}=a,u=o.subtract(s).add(l).transform(i===Ti?Nn:Gr(n.calcOwnMatrix()),!0).add(c);return{result:a,prevCenter:o,nextCenter:s,offset:u}}commitLayout(e,n){const{target:r}=e,{result:{size:i},nextCenter:a}=n;var o,s;r.set({width:i.x,height:i.y}),this.layoutObjects(e,n),e.type===Ti?r.set({left:(o=e.x)!==null&&o!==void 0?o:a.x+i.x*nn(r.originX),top:(s=e.y)!==null&&s!==void 0?s:a.y+i.y*nn(r.originY)}):(r.setPositionByOrigin(a,Ze,Ze),r.setCoords(),r.set("dirty",!0))}layoutObjects(e,n){const{target:r}=e;r.forEachObject(i=>{i.group===r&&this.layoutObject(e,n,i)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,n,r.clipPath)}layoutObject(e,n,r){let{offset:i}=n;r.set({left:r.left+i.x,top:r.top+i.y})}onAfterLayout(e,n){const{target:r,strategy:i,bubbles:a,prevStrategy:o}=e,s=Rt(e,kj),{canvas:l}=r;r.fire("layout:after",{context:e,result:n}),l&&l.fire("object:layout:after",{context:e,result:n,target:r});const c=r.parent;a&&c!=null&&c.layoutManager&&((s.path||(s.path=[])).push(r),c.layoutManager.performLayout(q(q({},s),{},{target:c}))),r.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(n=>n.forEach(r=>r())),e.clear()}toObject(){return{type:r6,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}Se.setClass(Jl,r6);const Sj=["type","objects","layoutManager"];class Ej extends Jl{performLayout(){}}class Va extends C_(On){static getDefaults(){return q(q({},super.getDefaults()),Va.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),X(this,"_activeObjects",[]),X(this,"__objectSelectionTracker",void 0),X(this,"__objectSelectionDisposer",void 0),Object.assign(this,Va.ownDefaults),this.setOptions(n),this.groupInit(e,n)}groupInit(e,n){var r;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(r=n.layoutManager)!==null&&r!==void 0?r:new Jl,this.layoutManager.performLayout({type:Ti,target:this,targets:[...e],x:n.left,y:n.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(ua("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(ua("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((n,r,i)=>this.canEnterGroup(n)&&i.indexOf(n)===r)}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=this._filterObjectsBeforeEnteringGroup(n),a=super.add(...i);return this._onAfterObjectsChange(Cd,i),a}insertAt(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=this._filterObjectsBeforeEnteringGroup(r),o=super.insertAt(e,...a);return this._onAfterObjectsChange(Cd,a),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(qm,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,n){this.exitGroup(e,n),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,n){this.layoutManager.performLayout({type:e,targets:n,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,n){const r=this[e];return super._set(e,n),e==="canvas"&&r!==n&&(this._objects||[]).forEach(i=>{i._set(e,n)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,n){let{target:r}=n;const i=this._activeObjects;if(e)i.push(r),this._set("dirty",!0);else if(i.length>0){const a=i.indexOf(r);a>-1&&(i.splice(a,1),this._set("dirty",!0))}}_watchObject(e,n){e&&this._watchObject(!1,n),e?(n.on("selected",this.__objectSelectionTracker),n.on("deselected",this.__objectSelectionDisposer)):(n.off("selected",this.__objectSelectionTracker),n.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,n){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,n)}_enterGroup(e,n){n&&xd(e,xn(Gr(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const r=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();r&&(r===e||e.isDescendantOf(r))&&this._activeObjects.push(e)}exitGroup(e,n){this._exitGroup(e,n),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,n){e._set("group",void 0),n||(xd(e,xn(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const r=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;r>-1&&this._activeObjects.splice(r,1)}shouldCache(){const e=On.prototype.shouldCache.call(this);if(e){for(let n=0;n<this._objects.length;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,n,r){this._renderBackground(e);for(let a=0;a<this._objects.length;a++){var i;const o=this._objects[a];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&o.group!==this?(e.save(),e.transform(...Gr(this.calcTransformMatrix())),o.render(e),e.restore()):o.group===this&&o.render(e)}this._drawClipPath(e,this.clipPath,r)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(q({target:this,type:kd},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,n){const r=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const a=i.includeDefaultValues;i.includeDefaultValues=r;const o=i[e||"toObject"](n);return i.includeDefaultValues=a,o})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.layoutManager.toObject();return q(q(q({},super.toObject(["subTargetCheck","interactive",...e])),n.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:n}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const n=Br.prototype._toSVG.call(this),r=n.indexOf("COMMON_PARTS");n[r]='for="group" ';const i=n.join("");return e?e(i):i}_toSVG(e){const n=["<g ","COMMON_PARTS",` >
`],r=this._createSVGBgRect(e);r&&n.push("		",r);for(let i=0;i<this._objects.length;i++)n.push("		",this._objects[i].toSVG(e));return n.push(`</g>
`),n}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",n=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),n].join("")}toClipPathSVG(e){const n=[],r=this._createSVGBgRect(e);r&&n.push("	",r);for(let i=0;i<this._objects.length;i++)n.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(n,{reviver:e})}static fromObject(e,n){let{type:r,objects:i=[],layoutManager:a}=e,o=Rt(e,Sj);return Promise.all([ql(i,n),mh(o,n)]).then(s=>{let[l,c]=s;const u=new this(l,q(q(q({},o),c),{},{layoutManager:new Ej}));if(a){const d=Se.getClass(a.type),f=Se.getClass(a.strategy);u.layoutManager=new d(new f)}else u.layoutManager=new Jl;return u.layoutManager.subscribeTargets({type:Ti,target:u,targets:u.getObjects()}),u.setCoords(),u})}}X(Va,"type","Group"),X(Va,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),Se.setClass(Va);const Tj=(t,e)=>Math.min(e.width/t.width,e.height/t.height),Aj=(t,e)=>Math.max(e.width/t.width,e.height/t.height),Eg="\\s*,?\\s*",$s="".concat(Eg,"(").concat(Xr,")"),Oj="".concat($s).concat($s).concat($s).concat(Eg,"([01])").concat(Eg,"([01])").concat($s).concat($s),Mj={m:"l",M:"L"},Rj=(t,e,n,r,i,a,o,s,l,c,u)=>{const d=Li(t),f=Ii(t),h=Li(e),g=Ii(e),m=n*i*h-r*a*g+o,v=r*i*h+n*a*g+s;return["C",c+l*(-n*i*f-r*a*d),u+l*(-r*i*f+n*a*d),m+l*(n*i*g+r*a*h),v+l*(r*i*g-n*a*h),m,v]},y2=(t,e,n,r)=>{const i=Math.atan2(e,t),a=Math.atan2(r,n);return a>=i?a-i:2*Math.PI-(i-a)};function x2(t,e,n,r,i,a,o,s){let l;if(ut.cachesBoundsOfCurve&&(l=[...arguments].join(),Rl.boundsOfCurveCache[l]))return Rl.boundsOfCurveCache[l];const c=Math.sqrt,u=Math.abs,d=[],f=[[0,0],[0,0]];let h=6*t-12*n+6*i,g=-3*t+9*n-9*i+3*o,m=3*n-3*t;for(let w=0;w<2;++w){if(w>0&&(h=6*e-12*r+6*a,g=-3*e+9*r-9*a+3*s,m=3*r-3*e),u(g)<1e-12){if(u(h)<1e-12)continue;const T=-m/h;0<T&&T<1&&d.push(T);continue}const _=h*h-4*m*g;if(_<0)continue;const k=c(_),R=(-h+k)/(2*g);0<R&&R<1&&d.push(R);const A=(-h-k)/(2*g);0<A&&A<1&&d.push(A)}let v=d.length;const b=v,y=i6(t,e,n,r,i,a,o,s);for(;v--;){const{x:w,y:_}=y(d[v]);f[0][v]=w,f[1][v]=_}f[0][b]=t,f[1][b]=e,f[0][b+1]=o,f[1][b+1]=s;const x=[new re(Math.min(...f[0]),Math.min(...f[1])),new re(Math.max(...f[0]),Math.max(...f[1]))];return ut.cachesBoundsOfCurve&&(Rl.boundsOfCurveCache[l]=x),x}const $j=(t,e,n)=>{let[r,i,a,o,s,l,c,u]=n;const d=((f,h,g,m,v,b,y)=>{if(g===0||m===0)return[];let x=0,w=0,_=0;const k=Math.PI,R=y*Rm,A=Ii(R),T=Li(R),O=.5*(-T*f-A*h),M=.5*(-T*h+A*f),$=g**2,C=m**2,E=M**2,S=O**2,F=$*C-$*E-C*S;let D=Math.abs(g),P=Math.abs(m);if(F<0){const oe=Math.sqrt(1-F/($*C));D*=oe,P*=oe}else _=(v===b?-1:1)*Math.sqrt(F/($*E+C*S));const L=_*D*M/P,N=-_*P*O/D,W=T*L-A*N+.5*f,j=A*L+T*N+.5*h;let U=y2(1,0,(O-L)/D,(M-N)/P),z=y2((O-L)/D,(M-N)/P,(-O-L)/D,(-M-N)/P);b===0&&z>0?z-=2*k:b===1&&z<0&&(z+=2*k);const Q=Math.ceil(Math.abs(z/k*2)),K=[],H=z/Q,J=8/3*Math.sin(H/4)*Math.sin(H/4)/Math.sin(H/2);let ne=U+H;for(let oe=0;oe<Q;oe++)K[oe]=Rj(U,ne,T,A,D,P,W,j,J,x,w),x=K[oe][5],w=K[oe][6],U=ne,ne+=H;return K})(c-t,u-e,i,a,s,l,o);for(let f=0,h=d.length;f<h;f++)d[f][1]+=t,d[f][2]+=e,d[f][3]+=t,d[f][4]+=e,d[f][5]+=t,d[f][6]+=e;return d},Fj=t=>{let e=0,n=0,r=0,i=0;const a=[];let o,s=0,l=0;for(const c of t){const u=[...c];let d;switch(u[0]){case"l":u[1]+=e,u[2]+=n;case"L":e=u[1],n=u[2],d=["L",e,n];break;case"h":u[1]+=e;case"H":e=u[1],d=["L",e,n];break;case"v":u[1]+=n;case"V":n=u[1],d=["L",e,n];break;case"m":u[1]+=e,u[2]+=n;case"M":e=u[1],n=u[2],r=u[1],i=u[2],d=["M",e,n];break;case"c":u[1]+=e,u[2]+=n,u[3]+=e,u[4]+=n,u[5]+=e,u[6]+=n;case"C":s=u[3],l=u[4],e=u[5],n=u[6],d=["C",u[1],u[2],s,l,e,n];break;case"s":u[1]+=e,u[2]+=n,u[3]+=e,u[4]+=n;case"S":o==="C"?(s=2*e-s,l=2*n-l):(s=e,l=n),e=u[3],n=u[4],d=["C",s,l,u[1],u[2],e,n],s=d[3],l=d[4];break;case"q":u[1]+=e,u[2]+=n,u[3]+=e,u[4]+=n;case"Q":s=u[1],l=u[2],e=u[3],n=u[4],d=["Q",s,l,e,n];break;case"t":u[1]+=e,u[2]+=n;case"T":o==="Q"?(s=2*e-s,l=2*n-l):(s=e,l=n),e=u[1],n=u[2],d=["Q",s,l,e,n];break;case"a":u[6]+=e,u[7]+=n;case"A":$j(e,n,u).forEach(f=>a.push(f)),e=u[6],n=u[7];break;case"z":case"Z":e=r,n=i,d=["Z"]}d?(a.push(d),o=d[0]):o=""}return a},Sd=(t,e,n,r)=>Math.sqrt((n-t)**2+(r-e)**2),i6=(t,e,n,r,i,a,o,s)=>l=>{const c=l**3,u=(h=>3*h**2*(1-h))(l),d=(h=>3*h*(1-h)**2)(l),f=(h=>(1-h)**3)(l);return new re(o*c+i*u+n*d+t*f,s*c+a*u+r*d+e*f)},a6=t=>t**2,o6=t=>2*t*(1-t),s6=t=>(1-t)**2,Pj=(t,e,n,r,i,a,o,s)=>l=>{const c=a6(l),u=o6(l),d=s6(l),f=3*(d*(n-t)+u*(i-n)+c*(o-i)),h=3*(d*(r-e)+u*(a-r)+c*(s-a));return Math.atan2(h,f)},Dj=(t,e,n,r,i,a)=>o=>{const s=a6(o),l=o6(o),c=s6(o);return new re(i*s+n*l+t*c,a*s+r*l+e*c)},Lj=(t,e,n,r,i,a)=>o=>{const s=1-o,l=2*(s*(n-t)+o*(i-n)),c=2*(s*(r-e)+o*(a-r));return Math.atan2(c,l)},w2=(t,e,n)=>{let r=new re(e,n),i=0;for(let a=1;a<=100;a+=1){const o=t(a/100);i+=Sd(r.x,r.y,o.x,o.y),r=o}return i},Ij=(t,e)=>{let n,r=0,i=0,a={x:t.x,y:t.y},o=q({},a),s=.01,l=0;const c=t.iterator,u=t.angleFinder;for(;i<e&&s>1e-4;)o=c(r),l=r,n=Sd(a.x,a.y,o.x,o.y),n+i>e?(r-=s,s/=2):(a=o,r+=s,i+=n);return q(q({},o),{},{angle:u(l)})},l6=t=>{let e,n,r=0,i=0,a=0,o=0,s=0;const l=[];for(const c of t){const u={x:i,y:a,command:c[0],length:0};switch(c[0]){case"M":n=u,n.x=o=i=c[1],n.y=s=a=c[2];break;case"L":n=u,n.length=Sd(i,a,c[1],c[2]),i=c[1],a=c[2];break;case"C":e=i6(i,a,c[1],c[2],c[3],c[4],c[5],c[6]),n=u,n.iterator=e,n.angleFinder=Pj(i,a,c[1],c[2],c[3],c[4],c[5],c[6]),n.length=w2(e,i,a),i=c[5],a=c[6];break;case"Q":e=Dj(i,a,c[1],c[2],c[3],c[4]),n=u,n.iterator=e,n.angleFinder=Lj(i,a,c[1],c[2],c[3],c[4]),n.length=w2(e,i,a),i=c[3],a=c[4];break;case"Z":n=u,n.destX=o,n.destY=s,n.length=Sd(i,a,o,s),i=o,a=s}r+=n.length,l.push(n)}return l.push({length:r,x:i,y:a}),l},Nj=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l6(t),r=0;for(;e-n[r].length>0&&r<n.length-2;)e-=n[r].length,r++;const i=n[r],a=e/i.length,o=t[r];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return q(q({},new re(i.x,i.y).lerp(new re(i.destX,i.destY),a)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return q(q({},new re(i.x,i.y).lerp(new re(o[1],o[2]),a)),{},{angle:Math.atan2(o[2]-i.y,o[1]-i.x)});case"C":case"Q":return Ij(i,e)}},jj=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),_2=new RegExp(Oj,"g"),Bj=new RegExp(Xr,"gi"),Uj={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},zj=t=>{var e;const n=[],r=(e=t.match(jj))!==null&&e!==void 0?e:[];for(const i of r){const a=i[0];if(a==="z"||a==="Z"){n.push([a]);continue}const o=Uj[a.toLowerCase()];let s=[];if(a==="a"||a==="A"){_2.lastIndex=0;for(let l=null;l=_2.exec(i);)s.push(...l.slice(1))}else s=i.match(Bj)||[];for(let l=0;l<s.length;l+=o){const c=new Array(o),u=Mj[a];c[0]=l>0&&u?u:a;for(let d=0;d<o;d++)c[d+1]=parseFloat(s[l+d]);n.push(c)}}return n},Hj=(t,e)=>t.map(n=>n.map((r,i)=>i===0||e===void 0?r:Tt(r,e)).join(" ")).join(" ");function Tg(t,e){const n=t.style;n&&e&&(typeof e=="string"?n.cssText+=";"+e:Object.entries(e).forEach(r=>{let[i,a]=r;return n.setProperty(i,a)}))}class Wj extends P_{constructor(e){let{allowTouchScrolling:n=!1,containerClass:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),X(this,"upper",void 0),X(this,"container",void 0);const{el:i}=this.lower,a=this.createUpperCanvas();this.upper={el:a,ctx:a.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:n}),this.applyCanvasStyle(a,{allowTouchScrolling:n,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(r),i.parentNode&&i.parentNode.replaceChild(o,i),o.append(i,a),this.container=o}createUpperCanvas(){const{el:e}=this.lower,n=Ni();return n.className=e.className,n.classList.remove("lower-canvas"),n.classList.add("upper-canvas"),n.setAttribute("data-fabric","top"),n.style.cssText=e.style.cssText,n.setAttribute("draggable","true"),n}createContainerElement(){const e=us().createElement("div");return e.setAttribute("data-fabric","wrapper"),Tg(e,{position:"relative"}),Xb(e),e}applyCanvasStyle(e,n){const{styles:r,allowTouchScrolling:i}=n;Tg(e,q(q({},r),{},{"touch-action":i?"manipulation":Zn})),Xb(e)}setDimensions(e,n){super.setDimensions(e,n);const{el:r,ctx:i}=this.upper;F_(r,i,e,n)}setCSSDimensions(e){super.setCSSDimensions(e),yg(this.upper.el,e),yg(this.container,e)}cleanupDOM(e){const n=this.container,{el:r}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),n.removeChild(i),n.removeChild(r),n.parentNode&&n.parentNode.replaceChild(r,n)}dispose(){super.dispose(),fi().dispose(this.upper.el),delete this.upper,delete this.container}}class wh extends gc{constructor(){super(...arguments),X(this,"targets",[]),X(this,"_hoveredTargets",[]),X(this,"_objectsToRender",void 0),X(this,"_currentTransform",null),X(this,"_groupSelector",null),X(this,"contextTopDirty",!1)}static getDefaults(){return q(q({},super.getDefaults()),wh.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new Wj(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(n=>!n.group&&n!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const n=this.getRetinaScaling(),r=Math.ceil((2*e+1)*n);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=r,this.pixelFindContext.scale(n,n)}isTargetTransparent(e,n,r){const i=this.targetFindTolerance,a=this.pixelFindContext;this.clearContext(a),a.save(),a.translate(-n+i,-r+i),a.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(a),e.selectionBackgroundColor=o,a.restore();const s=Math.round(i*this.getRetinaScaling());return qN(a,s,s,s)}_isSelectionKeyPressed(e){const n=this.selectionKey;return!!n&&(Array.isArray(n)?!!n.find(r=>!!r&&e[r]===!0):e[n])}_shouldClearSelection(e,n){const r=this.getActiveObjects(),i=this._activeObject;return!!(!n||n&&i&&r.length>1&&r.indexOf(n)===-1&&i!==n&&!this._isSelectionKeyPressed(e)||n&&!n.evented||n&&!n.selectable&&i&&i!==n)}_shouldCenterTransform(e,n,r){if(!e)return;let i;return n===ph||n===er||n===Sr||n===Xl?i=this.centeredScaling||e.centeredScaling:n===Pm&&(i=this.centeredRotation||e.centeredRotation),i?!r:r}_getOriginFromCorner(e,n){const r={x:e.originX,y:e.originY};return n&&(["ml","tl","bl"].includes(n)?r.x=Wt:["mr","tr","br"].includes(n)&&(r.x=pt),["tl","mt","tr"].includes(n)?r.y=bg:["bl","mb","br"].includes(n)&&(r.y=Kn)),r}_setupCurrentTransform(e,n,r){var i;const a=n.group?Io(this.getScenePoint(e),void 0,n.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:s}=n.getActiveControl()||{},l=r&&s?(i=s.getActionHandler(e,n,s))===null||i===void 0?void 0:i.bind(s):uN,c=((h,g,m,v)=>{if(!g||!h)return"drag";const b=v.controls[g];return b.getActionName(m,b,v)})(r,o,e,n),u=e[this.centeredKey],d=this._shouldCenterTransform(n,c,u)?{x:Ze,y:Ze}:this._getOriginFromCorner(n,o),f={target:n,action:c,actionHandler:l,actionPerformed:!1,corner:o,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:a.x-n.left,offsetY:a.y-n.top,originX:d.x,originY:d.y,ex:a.x,ey:a.y,lastX:a.x,lastY:a.y,theta:Xt(n.angle),width:n.width,height:n.height,shiftKey:e.shiftKey,altKey:u,original:q(q({},D_(n)),{},{originX:d.x,originY:d.y})};this._currentTransform=f,this.fire("before:transform",{e,transform:f})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:n,y:r,deltaX:i,deltaY:a}=this._groupSelector,o=new re(n,r).transform(this.viewportTransform),s=new re(n+i,r+a).transform(this.viewportTransform),l=this.selectionLineWidth/2;let c=Math.min(o.x,s.x),u=Math.min(o.y,s.y),d=Math.max(o.x,s.x),f=Math.max(o.y,s.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,u,d-c,f-u)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=l,u+=l,d-=l,f-=l,On.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,u,d-c,f-u))}findTarget(e){if(this.skipTargetFind)return;const n=this.getViewportPoint(e),r=this._activeObject,i=this.getActiveObjects();if(this.targets=[],r&&i.length>=1){if(r.findControl(n,xg(e))||i.length>1&&this.searchPossibleTargets([r],n))return r;if(r===this.searchPossibleTargets([r],n)){if(this.preserveObjectStacking){const a=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,n);return e[this.altSelectionKey]&&o&&o!==r?(this.targets=a,r):o}return r}}return this.searchPossibleTargets(this._objects,n)}_pointIsInObjectSelectionArea(e,n){let r=e.getCoords();const i=this.getZoom(),a=e.padding/i;if(a){const[o,s,l,c]=r,u=Math.atan2(s.y-o.y,s.x-o.x),d=Li(u)*a,f=Ii(u)*a,h=d+f,g=d-f;r=[new re(o.x-g,o.y-h),new re(s.x+h,s.y-g),new re(l.x+g,l.y+h),new re(c.x-h,c.y+g)]}return Ft.isPointInPolygon(n,r)}_checkTarget(e,n){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Io(n,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,n.x,n.y)))}_searchPossibleTargets(e,n){let r=e.length;for(;r--;){const i=e[r];if(this._checkTarget(i,n)){if(Lu(i)&&i.subTargetCheck){const a=this._searchPossibleTargets(i._objects,n);a&&this.targets.push(a)}return i}}}searchPossibleTargets(e,n){const r=this._searchPossibleTargets(e,n);if(r&&Lu(r)&&r.interactive&&this.targets[0]){const i=this.targets;for(let a=i.length-1;a>0;a--){const o=i[a];if(!Lu(o)||!o.interactive)return o}return i[0]}return r}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.upperCanvasEl,i=r.getBoundingClientRect();let a=rN(e),o=i.width||0,s=i.height||0;o&&s||(Kn in i&&bg in i&&(s=Math.abs(i.top-i.bottom)),Wt in i&&pt in i&&(o=Math.abs(i.right-i.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,n||(a=Io(a,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(a.x/=l,a.y/=l);const c=o===0||s===0?new re(1,1):new re(r.width/o,r.height/s);return a.multiply(c)}_setDimensionsImpl(e,n){this._resetTransformEventData(),super._setDimensionsImpl(e,n),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Ni(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return $a(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,n){let r=!1,i=!1;const a=this.getActiveObjects(),o=[],s=[];e.forEach(l=>{a.includes(l)||(r=!0,l.fire("deselected",{e:n,target:l}),s.push(l))}),a.forEach(l=>{e.includes(l)||(r=!0,l.fire("selected",{e:n,target:l}),o.push(l))}),e.length>0&&a.length>0?(i=!0,r&&this.fire("selection:updated",{e:n,selected:o,deselected:s})):a.length>0?(i=!0,this.fire("selection:created",{e:n,selected:o})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:n,deselected:s})),i&&(this._objectsToRender=void 0)}setActiveObject(e,n){const r=this.getActiveObjects(),i=this._setActiveObject(e,n);return this._fireSelectionEvents(r,n),i}_setActiveObject(e,n){const r=this._activeObject;return r!==e&&!(!this._discardActiveObject(n,e)&&this._activeObject)&&!e.onSelect({e:n})&&(this._activeObject=e,$a(e)&&r!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,n){const r=this._activeObject;return!!r&&!r.onDeselect({e,object:n})&&(this._currentTransform&&this._currentTransform.target===r&&this.endCurrentTransform(e),$a(r)&&r===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const n=this.getActiveObjects(),r=this.getActiveObject();n.length&&this.fire("before:selection:cleared",{e,deselected:[r]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(n,e),i}endCurrentTransform(e){const n=this._currentTransform;this._finalizeCurrentTransform(e),n&&n.target&&(n.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const n=this._currentTransform,r=n.target,i={e,target:r,transform:n,action:n.action};r._scaling&&(r._scaling=!1),r.setCoords(),n.actionPerformed&&(this.fire("object:modified",i),r.fire(vd,i))}setViewportTransform(e){super.setViewportTransform(e);const n=this._activeObject;n&&n.setCoords()}destroy(){const e=this._activeObject;$a(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const n=this._activeObject;n&&n._renderControls(e)}_toObject(e,n,r){const i=this._realizeGroupTransformOnObject(e),a=super._toObject(e,n,r);return e.set(i),a}_realizeGroupTransformOnObject(e){const{group:n}=e;if(n&&$a(n)&&this._activeObject===n){const r=ps(e,["angle","flipX","flipY",pt,er,Sr,ds,hs,Kn]);return aN(e,n.calcOwnMatrix()),r}return{}}_setSVGObject(e,n,r){const i=this._realizeGroupTransformOnObject(n);super._setSVGObject(e,n,r),n.set(i)}}X(wh,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class Vj{constructor(e){X(this,"targets",[]),X(this,"__disposer",void 0);const n=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},r=e.upperCanvasEl;r.addEventListener("click",n),this.__disposer=()=>r.removeEventListener("click",n)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),_o(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var n;!((n=this.target)===null||n===void 0)&&n.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const Gj=["target","oldTarget","fireCanvas","e"],rr={passive:!1},mo=(t,e)=>{const n=t.getViewportPoint(e),r=t.getScenePoint(e);return{viewportPoint:n,scenePoint:r,pointer:n,absolutePointer:r}},Zi=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.addEventListener(...n)},mr=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.removeEventListener(...n)},Xj={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class Ag extends wh{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),X(this,"_isClick",void 0),X(this,"textEditingManager",new Vj(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(n=>{this[n]=this[n].bind(this)}),this.addOrRemove(Zi,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,n){const r=this.upperCanvasEl,i=this._getEventPrefix();e($_(r),"resize",this._onResize),e(r,i+"down",this._onMouseDown),e(r,"".concat(i,"move"),this._onMouseMove,rr),e(r,"".concat(i,"out"),this._onMouseOut),e(r,"".concat(i,"enter"),this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"click",this._onClick),e(r,"dblclick",this._onClick),e(r,"dragstart",this._onDragStart),e(r,"dragend",this._onDragEnd),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,rr)}removeListeners(){this.addOrRemove(mr,"remove");const e=this._getEventPrefix(),n=zr(this.upperCanvasEl);mr(n,"".concat(e,"up"),this._onMouseUp),mr(n,"touchend",this._onTouchEnd,rr),mr(n,"".concat(e,"move"),this._onMouseMove,rr),mr(n,"touchmove",this._onMouseMove,rr),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const n=this._hoveredTarget,r=q({e},mo(this,e));this.fire("mouse:out",q(q({},r),{},{target:n})),this._hoveredTarget=void 0,n&&n.fire("mouseout",q({},r)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",q(q({},r),{},{target:i})),i&&i.fire("mouseout",q({},r))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",q({e},mo(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const n=this.getActiveObject();if(n&&n.onDragStart(e)){this._dragSource=n;const r={e,target:n};return this.fire("dragstart",r),n.fire("dragstart",r),void Zi(this.upperCanvasEl,"drag",this._onDragProgress)}qb(e)}_renderDragEffects(e,n,r){let i=!1;const a=this._dropTarget;a&&a!==n&&a!==r&&(a.clearContextTop(),i=!0),n?.clearContextTop(),r!==n&&r?.clearContextTop();const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),n&&(o.save(),n.transform(o),n.renderDragSourceEffect(e),o.restore(),i=!0),r&&(o.save(),r.transform(o),r.renderDropTargetEffect(e),o.restore(),i=!0),o.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const n=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Zn,r=n?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:n,dropTarget:r};mr(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const n={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",n),this._dragSource&&this._dragSource.fire("drag",n)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const n="dragover",{target:r,targets:i}=this.findDragTargets(e),a=this._dragSource,o={e,target:r,subTargets:i,dragSource:a,canDrop:!1,dropTarget:void 0};let s;this.fire(n,o),this._fireEnterLeaveEvents(r,o),r&&(r.canDrop(e)&&(s=r),r.fire(n,o));for(let l=0;l<i.length;l++){const c=i[l];c.canDrop(e)&&(s=c),c.fire(n,o)}this._renderDragEffects(e,a,s),this._dropTarget=s}_onDragEnter(e){const{target:n,targets:r}=this.findDragTargets(e),i={e,target:n,subTargets:r,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(n,i)}_onDragLeave(e){const n={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",n),this._fireEnterLeaveEvents(void 0,n),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:n,targets:r}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",q({e,target:n,subTargets:r,dragSource:this._dragSource},mo(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const n=this.findTarget(e),r=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:n,subTargets:r});return this.stopContextMenu&&qb(e),this._basicEventHandler("contextmenu",i),!1}_onClick(e){const n=e.detail;n>3||n<2||(this._cacheTransformEventData(e),n==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),n==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const n=e.changedTouches;return n?n[0]&&n[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let n=!this.allowTouchScrolling;const r=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||r&&this._target===r)&&(n=!0),n&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,a=this._getEventPrefix(),o=zr(i);Zi(o,"touchend",this._onTouchEnd,rr),n&&Zi(o,"touchmove",this._onMouseMove,rr),mr(i,"".concat(a,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const n=this.upperCanvasEl,r=this._getEventPrefix();mr(n,"".concat(r,"move"),this._onMouseMove,rr);const i=zr(n);Zi(i,"".concat(r,"up"),this._onMouseUp),Zi(i,"".concat(r,"move"),this._onMouseMove,rr)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const n=this._getEventPrefix(),r=zr(this.upperCanvasEl);mr(r,"touchend",this._onTouchEnd,rr),mr(r,"touchmove",this._onMouseMove,rr),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Zi(this.upperCanvasEl,"".concat(n,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const n=this.upperCanvasEl,r=this._getEventPrefix();if(this._isMainEvent(e)){const i=zr(this.upperCanvasEl);mr(i,"".concat(r,"up"),this._onMouseUp),mr(i,"".concat(r,"move"),this._onMouseMove,rr),Zi(n,"".concat(r,"move"),this._onMouseMove,rr)}}_onMouseMove(e){const n=this.getActiveObject();!this.allowTouchScrolling&&(!n||!n.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const n=this.getActiveObject();return!!n!=!!e||n&&e&&n!==e}__onMouseUp(e){var n;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const r=this._currentTransform,i=this._isClick,a=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let s,l,c=!1;if(r&&(this._finalizeCurrentTransform(e),c=r.actionPerformed),!i){const u=a===this._activeObject;this.handleSelection(e),c||(c=this._shouldRender(a)||!u&&a===this._activeObject)}if(a){const u=a.findControl(this.getViewportPoint(e),xg(e)),{key:d,control:f}=u||{};if(l=d,a.selectable&&a!==this._activeObject&&a.activeOn==="up")this.setActiveObject(a,e),c=!0;else if(f){const h=f.getMouseUpHandler(e,a,f);h&&(s=this.getScenePoint(e),h.call(f,e,r,s.x,s.y))}a.isMoving=!1}if(r&&(r.target!==a||r.corner!==l)){const u=r.target&&r.target.controls[r.corner],d=u&&u.getMouseUpHandler(e,r.target,u);s=s||this.getScenePoint(e),d&&d.call(u,e,r,s.x,s.y)}this._setCursorFromEvent(e,a),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,a&&(a.__corner=void 0),c?this.requestRenderAll():i||(n=this._activeObject)!==null&&n!==void 0&&n.isEditing||this.renderTop()}_basicEventHandler(e,n){const{target:r,subTargets:i=[]}=n;this.fire(e,n),r&&r.fire(e,n);for(let a=0;a<i.length;a++)i[a]!==r&&i[a].fire(e,n);return n}_handleEvent(e,n,r){const i=this._target,a=this.targets||[],o=q(q(q({e,target:i,subTargets:a},mo(this,e)),{},{transform:this._currentTransform},n==="up:before"||n==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),n==="down:before"||n==="down"?r:{});this.fire("mouse:".concat(n),o),i&&i.fire("mouse".concat(n),o);for(let s=0;s<a.length;s++)a[s]!==i&&a[s].fire("mouse".concat(n),o)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const n=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(n,{e,pointer:n}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const n=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(n,{e,pointer:n})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const n=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:n}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let n=this._target,r=!!n&&n===this._activeObject;const{button:i}=e;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(e,"down",{alreadySelected:r}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let a=this._shouldRender(n),o=!1;if(this.handleMultiSelection(e,n)?(n=this._activeObject,o=!0,a=!0):this._shouldClearSelection(e,n)&&this.discardActiveObject(e),this.selection&&(!n||!n.selectable&&!n.isEditing&&n!==this._activeObject)){const s=this.getScenePoint(e);this._groupSelector={x:s.x,y:s.y,deltaY:0,deltaX:0}}if(r=!!n&&n===this._activeObject,n){n.selectable&&n.activeOn==="down"&&this.setActiveObject(n,e);const s=n.findControl(this.getViewportPoint(e),xg(e));if(n===this._activeObject&&(s||!o)){this._setupCurrentTransform(e,n,r);const l=s?s.control:void 0,c=this.getScenePoint(e),u=l&&l.getMouseDownHandler(e,n,l);u&&u.call(l,e,this._currentTransform,c.x,c.y)}}a&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:r}),a&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Io(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const n=this._groupSelector;if(n){const r=this.getScenePoint(e);n.deltaX=r.x-n.x,n.deltaY=r.y-n.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const r=this.findTarget(e);this._setCursorFromEvent(e,r),this._fireOverOutEvents(e,r)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,n){const r=this._hoveredTarget,i=this._hoveredTargets,a=this.targets,o=Math.max(i.length,a.length);this.fireSyntheticInOutEvents("mouse",{e,target:n,oldTarget:r,fireCanvas:!0});for(let s=0;s<o;s++)this.fireSyntheticInOutEvents("mouse",{e,target:a[s],oldTarget:i[s]});this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,n){const r=this._draggedoverTarget,i=this._hoveredTargets,a=this.targets,o=Math.max(i.length,a.length);this.fireSyntheticInOutEvents("drag",q(q({},n),{},{target:e,oldTarget:r,fireCanvas:!0}));for(let s=0;s<o;s++)this.fireSyntheticInOutEvents("drag",q(q({},n),{},{target:a[s],oldTarget:i[s]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,n){let{target:r,oldTarget:i,fireCanvas:a,e:o}=n,s=Rt(n,Gj);const{targetIn:l,targetOut:c,canvasIn:u,canvasOut:d}=Xj[e],f=i!==r;if(i&&f){const h=q(q({},s),{},{e:o,target:i,nextTarget:r},mo(this,o));a&&this.fire(d,h),i.fire(c,h)}if(r&&f){const h=q(q({},s),{},{e:o,target:r,previousTarget:i},mo(this,o));a&&this.fire(u,h),r.fire(l,h)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const n=this.getScenePoint(e),r=this._currentTransform,i=r.target,a=i.group?Io(n,void 0,i.group.calcTransformMatrix()):n;r.shiftKey=e.shiftKey,r.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,r,a),r.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,n,r){const{action:i,actionHandler:a,target:o}=n,s=!!a&&a(e,n,r.x,r.y);s&&o.setCoords(),i==="drag"&&s&&(n.target.isMoving=!0,this.setCursor(n.target.moveCursor||this.moveCursor)),n.actionPerformed=n.actionPerformed||s}_setCursorFromEvent(e,n){if(!n)return void this.setCursor(this.defaultCursor);let r=n.hoverCursor||this.hoverCursor;const i=$a(this._activeObject)?this._activeObject:null,a=(!i||n.group!==i)&&n.findControl(this.getViewportPoint(e));if(a){const o=a.control;this.setCursor(o.cursorStyleHandler(e,o,n))}else n.subTargetCheck&&this.targets.concat().reverse().map(o=>{r=o.hoverCursor||r}),this.setCursor(r)}handleMultiSelection(e,n){const r=this._activeObject,i=$a(r);if(r&&this._isSelectionKeyPressed(e)&&this.selection&&n&&n.selectable&&(r!==n||i)&&(i||!n.isDescendantOf(r)&&!r.isDescendantOf(n))&&!n.onSelect({e})&&!r.getActiveControl()){if(i){const a=r.getObjects();if(n===r){const o=this.getViewportPoint(e);if(!(n=this.searchPossibleTargets(a,o)||this.searchPossibleTargets(this._objects,o))||!n.selectable)return!1}n.group===r?(r.remove(n),this._hoveredTarget=n,this._hoveredTargets=[...this.targets],r.size()===1&&this._setActiveObject(r.item(0),e)):(r.multiSelectAdd(n),this._hoveredTarget=r,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(a,e)}else{r.isEditing&&r.exitEditing();const a=new(Se.getClass("ActiveSelection"))([],{canvas:this});a.multiSelectAdd(r,n),this._hoveredTarget=a,this._setActiveObject(a,e),this._fireSelectionEvents([r],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:n,y:r,deltaX:i,deltaY:a}=this._groupSelector,o=new re(n,r),s=o.add(new re(i,a)),l=o.min(s),c=o.max(s).subtract(l),u=this.collectObjects({left:l.x,top:l.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),d=o.eq(s)?u[0]?[u[0]]:[]:u.length>1?u.filter(f=>!f.onSelect({e})).reverse():u;if(d.length===1)this.setActiveObject(d[0],e);else if(d.length>1){const f=Se.getClass("ActiveSelection");this.setActiveObject(new f(d,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const c6={x1:0,y1:0,x2:0,y2:0},qj=q(q({},c6),{},{r1:0,r2:0}),Ro=(t,e)=>isNaN(t)&&typeof e=="number"?e:t,Yj=/^(\d+\.\d+)%|(\d+)%$/;function u6(t){return t&&Yj.test(t)}function d6(t,e){const n=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(u6(t)?100:1):NaN;return Jo(0,Ro(n,e),1)}const Kj=/\s*;\s*/,Zj=/\s*:\s*/;function Jj(t,e){let n,r;const i=t.getAttribute("style");if(i){const o=i.split(Kj);o[o.length-1]===""&&o.pop();for(let s=o.length;s--;){const[l,c]=o[s].split(Zj).map(u=>u.trim());l==="stop-color"?n=c:l==="stop-opacity"&&(r=c)}}const a=new vt(n||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:d6(t.getAttribute("offset"),0),color:a.toRgb(),opacity:Ro(parseFloat(r||t.getAttribute("stop-opacity")||""),1)*a.getAlpha()*e}}function Qj(t,e){const n=[],r=t.getElementsByTagName("stop"),i=d6(e,1);for(let a=r.length;a--;)n.push(Jj(r[a],i));return n}function h6(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function f6(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Dr(t,e){return t.getAttribute(e)}function eB(t,e){return function(n,r){let i,{width:a,height:o,gradientUnits:s}=r;return Object.keys(n).reduce((l,c)=>{const u=n[c];return u==="Infinity"?i=1:u==="-Infinity"?i=0:(i=typeof u=="string"?parseFloat(u):u,typeof u=="string"&&u6(u)&&(i*=.01,s==="pixels"&&(c!=="x1"&&c!=="x2"&&c!=="r2"||(i*=a),c!=="y1"&&c!=="y2"||(i*=o)))),l[c]=i,l},{})}(h6(t)==="linear"?function(n){return{x1:Dr(n,"x1")||0,y1:Dr(n,"y1")||0,x2:Dr(n,"x2")||"100%",y2:Dr(n,"y2")||0}}(t):function(n){return{x1:Dr(n,"fx")||Dr(n,"cx")||"50%",y1:Dr(n,"fy")||Dr(n,"cy")||"50%",r1:0,x2:Dr(n,"cx")||"50%",y2:Dr(n,"cy")||"50%",r2:Dr(n,"r")||"50%"}}(t),q(q({},e),{},{gradientUnits:f6(t)}))}class Kc{constructor(e){const{type:n="linear",gradientUnits:r="pixels",coords:i={},colorStops:a=[],offsetX:o=0,offsetY:s=0,gradientTransform:l,id:c}=e||{};Object.assign(this,{type:n,gradientUnits:r,coords:q(q({},n==="radial"?qj:c6),i),colorStops:a,offsetX:o,offsetY:s,gradientTransform:l,id:c?"".concat(c,"_").concat(da()):da()})}addColorStop(e){for(const n in e){const r=new vt(e[n]);this.colorStops.push({offset:parseFloat(n),color:r.toRgb(),opacity:r.getAlpha()})}return this}toObject(e){return q(q({},ps(this,e)),{},{type:this.type,coords:q({},this.coords),colorStops:this.colorStops.map(n=>q({},n)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],i=this.gradientTransform?this.gradientTransform.concat():Nn.concat(),a=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(d=>q({},d)).sort((d,f)=>d.offset-f.offset);let s=-this.offsetX,l=-this.offsetY;var c;a==="objectBoundingBox"?(s/=e.width,l/=e.height):(s+=e.width/2,l+=e.height/2),(c=e)&&typeof c._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(s-=e.pathOffset.x,l-=e.pathOffset.y),i[4]-=s,i[5]-=l;const u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(a,'"'),'gradientTransform="'.concat(n?n+" ":"").concat(Yl(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:d,y1:f,x2:h,y2:g}=this.coords;r.push("<linearGradient ",u,' x1="',d,'" y1="',f,'" x2="',h,'" y2="',g,`">
`)}else if(this.type==="radial"){const{x1:d,y1:f,x2:h,y2:g,r1:m,r2:v}=this.coords,b=m>v;r.push("<radialGradient ",u,' cx="',b?d:h,'" cy="',b?f:g,'" r="',b?m:v,'" fx="',b?h:d,'" fy="',b?g:f,`">
`),b&&(o.reverse(),o.forEach(x=>{x.offset=1-x.offset}));const y=Math.min(m,v);if(y>0){const x=y/Math.max(m,v);o.forEach(w=>{w.offset+=x*(1-w.offset)})}}return o.forEach(d=>{let{color:f,offset:h,opacity:g}=d;r.push("<stop ",'offset="',100*h+"%",'" style="stop-color:',f,g!==void 0?";stop-opacity: "+g:";",`"/>
`)}),r.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),r.join("")}toLive(e){const{x1:n,y1:r,x2:i,y2:a,r1:o,r2:s}=this.coords,l=this.type==="linear"?e.createLinearGradient(n,r,i,a):e.createRadialGradient(n,r,o,i,a,s);return this.colorStops.forEach(c=>{let{color:u,opacity:d,offset:f}=c;l.addColorStop(f,d!==void 0?new vt(u).setAlpha(d).toRgba():u)}),l}static async fromObject(e){const{colorStops:n,gradientTransform:r}=e;return new this(q(q({},e),{},{colorStops:n?n.map(i=>q({},i)):void 0,gradientTransform:r?[...r]:void 0}))}static fromElement(e,n,r){const i=f6(e),a=n._findCenterFromElement();return new this(q({id:e.getAttribute("id")||void 0,type:h6(e),coords:eB(e,{width:r.viewBoxWidth||r.width,height:r.viewBoxHeight||r.height}),colorStops:Qj(e,r.opacity),gradientUnits:i,gradientTransform:kg(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:n.width/2-a.x,offsetY:n.height/2-a.y}:{offsetX:0,offsetY:0}))}}X(Kc,"type","Gradient"),Se.setClass(Kc,"gradient"),Se.setClass(Kc,"linear"),Se.setClass(Kc,"radial");const tB=["type","source","patternTransform"];class Wf{get type(){return"pattern"}set type(e){ua("warn","Setting type has no effect",e)}constructor(e){X(this,"repeat","repeat"),X(this,"offsetX",0),X(this,"offsetY",0),X(this,"crossOrigin",""),this.id=da(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:n,crossOrigin:r}=this;return q(q({},ps(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:n,crossOrigin:r,offsetX:Tt(this.offsetX,ut.NUM_FRACTION_DIGITS),offsetY:Tt(this.offsetY,ut.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:n,height:r}=e;const{source:i,repeat:a,id:o}=this,s=Ro(this.offsetX/n,0),l=Ro(this.offsetY/r,0),c=a==="repeat-y"||a==="no-repeat"?1+Math.abs(s||0):Ro(i.width/n,0),u=a==="repeat-x"||a==="no-repeat"?1+Math.abs(l||0):Ro(i.height/r,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(s,'" y="').concat(l,'" width="').concat(c,'" height="').concat(u,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,n){let{type:r,source:i,patternTransform:a}=e,o=Rt(e,tB);const s=await Nu(i,q(q({},n),{},{crossOrigin:o.crossOrigin}));return new this(q(q({},o),{},{patternTransform:a&&a.slice(0),source:s}))}}X(Wf,"type","Pattern"),Se.setClass(Wf),Se.setClass(Wf,"pattern");const nB=["path","left","top"],rB=["d"];class Fa extends On{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:r,left:i,top:a}=n,o=Rt(n,nB);super(),Object.assign(this,Fa.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof i=="number"&&this.set(pt,i),typeof a=="number"&&this.set(Kn,a)}_setPath(e,n){this.path=Fj(Array.isArray(e)?e:zj(e)),this.setBoundingBox(n)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new re(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const n=-this.pathOffset.x,r=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+n,i[2]+r);break;case"M":e.moveTo(i[1]+n,i[2]+r);break;case"C":e.bezierCurveTo(i[1]+n,i[2]+r,i[3]+n,i[4]+r,i[5]+n,i[6]+r);break;case"Q":e.quadraticCurveTo(i[1]+n,i[2]+r,i[3]+n,i[4]+r);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q(q({},super.toObject(e)),{},{path:this.path.map(n=>n.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.toObject(e);return this.sourcePath&&(delete n.path,n.sourcePath=this.sourcePath),n}_toSVG(){const e=Hj(this.path,ut.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=ut.NUM_FRACTION_DIGITS;return" translate(".concat(Tt(-this.pathOffset.x,e),", ").concat(Tt(-this.pathOffset.y,e),")")}toClipPathSVG(e){const n=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:n})}toSVG(e){const n=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:n})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:n,height:r,pathOffset:i}=this._calcDimensions();this.set({width:n,height:r,pathOffset:i}),e&&this.setPositionByOrigin(i,Ze,Ze)}_calcBoundsFromPath(){const e=[];let n=0,r=0,i=0,a=0;for(const o of this.path)switch(o[0]){case"L":i=o[1],a=o[2],e.push({x:n,y:r},{x:i,y:a});break;case"M":i=o[1],a=o[2],n=i,r=a;break;case"C":e.push(...x2(i,a,o[1],o[2],o[3],o[4],o[5],o[6])),i=o[5],a=o[6];break;case"Q":e.push(...x2(i,a,o[1],o[2],o[1],o[2],o[3],o[4])),i=o[3],a=o[4];break;case"Z":i=n,a=r}return Ri(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return q(q({},e),{},{pathOffset:new re(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,n,r){const i=Wi(e,this.ATTRIBUTE_NAMES,r),{d:a}=i;return new this(a,q(q(q({},Rt(i,rB)),n),{},{left:void 0,top:void 0}))}}X(Fa,"type","Path"),X(Fa,"cacheProperties",[...Hi,"path","fillRule"]),X(Fa,"ATTRIBUTE_NAMES",[..._a,"d"]),Se.setClass(Fa),Se.setSVGClass(Fa);const iB=["left","top","radius"],p6=["radius","startAngle","endAngle","counterClockwise"];class ai extends On{static getDefaults(){return q(q({},super.getDefaults()),ai.ownDefaults)}constructor(e){super(),Object.assign(this,ai.ownDefaults),this.setOptions(e)}_set(e,n){return super._set(e,n),e==="radius"&&this.setRadius(n),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Xt(this.startAngle),Xt(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(er)}getRadiusY(){return this.get("radius")*this.get(Sr)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...p6,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:n}=this,r=Xt(this.startAngle),i=Xt(this.endAngle),a=Li(r)*n,o=Ii(r)*n,s=Li(i)*n,l=Ii(i)*n,c=e>180?1:0,u=this.counterClockwise?0:1;return['<path d="M '.concat(a," ").concat(o," A ").concat(n," ").concat(n," 0 ").concat(c," ").concat(u," ").concat(s," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,n,r){const i=Wi(e,this.ATTRIBUTE_NAMES,r),{left:a=0,top:o=0,radius:s=0}=i;return new this(q(q({},Rt(i,iB)),{},{radius:s,left:a-s,top:o-s}))}static fromObject(e){return super._fromObject(e)}}X(ai,"type","Circle"),X(ai,"cacheProperties",[...Hi,...p6]),X(ai,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),X(ai,"ATTRIBUTE_NAMES",["cx","cy","r",..._a]),Se.setClass(ai),Se.setSVGClass(ai);const aB=["x1","y1","x2","y2"],oB=["x1","y1","x2","y2"],Og=["x1","x2","y1","y2"];class Pa extends On{constructor(){let[e,n,r,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Pa.ownDefaults),this.setOptions(a),this.x1=e,this.x2=r,this.y1=n,this.y2=i,this._setWidthHeight();const{left:o,top:s}=a;typeof o=="number"&&this.set(pt,o),typeof s=="number"&&this.set(Kn,s)}_setWidthHeight(){const{x1:e,y1:n,x2:r,y2:i}=this;this.width=Math.abs(r-e),this.height=Math.abs(i-n);const{left:a,top:o,width:s,height:l}=Ri([{x:e,y:n},{x:r,y:i}]),c=new re(a+s/2,o+l/2);this.setPositionByOrigin(c,Ze,Ze)}_set(e,n){return super._set(e,n),Og.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const n=this.calcLinePoints();e.moveTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineWidth=this.strokeWidth;const r=e.strokeStyle;var i;wr(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=r}_findCenterFromElement(){return new re((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q(q({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:n,y1:r,y2:i,width:a,height:o}=this,s=e<=n?-1:1,l=r<=i?-1:1;return{x1:s*a/2,x2:s*-a/2,y1:l*o/2,y2:l*-o/2}}_toSVG(){const{x1:e,x2:n,y1:r,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(r,'" x2="').concat(n,'" y2="').concat(i,`" />
`)]}static async fromElement(e,n,r){const i=Wi(e,this.ATTRIBUTE_NAMES,r),{x1:a=0,y1:o=0,x2:s=0,y2:l=0}=i;return new this([a,o,s,l],Rt(i,aB))}static fromObject(e){let{x1:n,y1:r,x2:i,y2:a}=e,o=Rt(e,oB);return this._fromObject(q(q({},o),{},{points:[n,r,i,a]}),{extraParam:"points"})}}X(Pa,"type","Line"),X(Pa,"cacheProperties",[...Hi,...Og]),X(Pa,"ATTRIBUTE_NAMES",_a.concat(Og)),Se.setClass(Pa),Se.setSVGClass(Pa);class Ua extends On{static getDefaults(){return q(q({},super.getDefaults()),Ua.ownDefaults)}constructor(e){super(),Object.assign(this,Ua.ownDefaults),this.setOptions(e)}_render(e){const n=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-n,r),e.lineTo(0,-r),e.lineTo(n,r),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,n=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(n,",0 ").concat(-n,",").concat(e," ").concat(n),'" />']}}X(Ua,"type","Triangle"),X(Ua,"ownDefaults",{width:100,height:100}),Se.setClass(Ua),Se.setSVGClass(Ua);const g6=["rx","ry"];let vo=class Mg extends On{static getDefaults(){return q(q({},super.getDefaults()),Mg.ownDefaults)}constructor(e){super(),Object.assign(this,Mg.ownDefaults),this.setOptions(e)}_set(e,n){switch(super._set(e,n),e){case"rx":this.rx=n,this.set("width",2*n);break;case"ry":this.ry=n,this.set("height",2*n)}return this}getRx(){return this.get("rx")*this.get(er)}getRy(){return this.get("ry")*this.get(Sr)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...g6,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,gd,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,n,r){const i=Wi(e,this.ATTRIBUTE_NAMES,r);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}};function sB(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),n=[];for(let r=0;r<e.length;r+=2)n.push({x:parseFloat(e[r]),y:parseFloat(e[r+1])});return n}X(vo,"type","Ellipse"),X(vo,"cacheProperties",[...Hi,...g6]),X(vo,"ownDefaults",{rx:0,ry:0}),X(vo,"ATTRIBUTE_NAMES",[..._a,"cx","cy","rx","ry"]),Se.setClass(vo),Se.setSVGClass(vo);const lB=["left","top"],m6={exactBoundingBox:!1};let Qi=class Rg extends On{static getDefaults(){return q(q({},super.getDefaults()),Rg.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),X(this,"strokeDiff",void 0),Object.assign(this,Rg.ownDefaults),this.setOptions(n),this.points=e;const{left:r,top:i}=n;this.initialized=!0,this.setBoundingBox(!0),typeof r=="number"&&this.set(pt,r),typeof i=="number"&&this.set(Kn,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return KN(this.points,e,this.isOpen())}_calcDimensions(e){e=q({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const n=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(c=>c.projectedPoint):this.points;if(n.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new re,strokeOffset:new re,strokeDiff:new re};const r=Ri(n),i=gh(q(q({},e),{},{scaleX:1,scaleY:1})),a=Ri(this.points.map(c=>Vn(c,i,!0))),o=new re(this.scaleX,this.scaleY);let s=r.left+r.width/2,l=r.top+r.height/2;return this.exactBoundingBox&&(s-=l*Math.tan(Xt(this.skewX)),l-=s*Math.tan(Xt(this.skewY))),q(q({},r),{},{pathOffset:new re(s,l),strokeOffset:new re(a.left,a.top).subtract(new re(r.left,r.top)).multiply(o),strokeDiff:new re(r.width,r.height).subtract(new re(a.width,a.height)).multiply(o)})}_findCenterFromElement(){const e=Ri(this.points);return new re(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:n,top:r,width:i,height:a,pathOffset:o,strokeOffset:s,strokeDiff:l}=this._calcDimensions();this.set({width:i,height:a,pathOffset:o,strokeOffset:s,strokeDiff:l}),e&&this.setPositionByOrigin(new re(n+i/2,r+a/2),Ze,Ze)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new re(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some(s=>this.strokeUniform||this.constructor.layoutProperties.includes(s))){var n,r;const{width:s,height:l}=this._calcDimensions(e);o=new re((n=e.width)!==null&&n!==void 0?n:s,(r=e.height)!==null&&r!==void 0?r:l)}else{var i,a;o=new re((i=e.width)!==null&&i!==void 0?i:this.width,(a=e.height)!==null&&a!==void 0?a:this.height)}return o.multiply(new re(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,n){const r=this.initialized&&this[e]!==n,i=super._set(e,n);return this.exactBoundingBox&&r&&((e===er||e===Sr)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q(q({},super.toObject(e)),{},{points:this.points.map(n=>{let{x:r,y:i}=n;return{x:r,y:i}})})}_toSVG(){const e=[],n=this.pathOffset.x,r=this.pathOffset.y,i=ut.NUM_FRACTION_DIGITS;for(let a=0,o=this.points.length;a<o;a++)e.push(Tt(this.points[a].x-n,i),",",Tt(this.points[a].y-r,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const n=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(n&&!isNaN(this.points[n-1].y)){e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-i);for(let a=0;a<n;a++){const o=this.points[a];e.lineTo(o.x-r,o.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,n,r){return new this(sB(e.getAttribute("points")),q(q({},Rt(Wi(e,this.ATTRIBUTE_NAMES,r),lB)),n))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}};X(Qi,"ownDefaults",m6),X(Qi,"type","Polyline"),X(Qi,"layoutProperties",[ds,hs,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),X(Qi,"cacheProperties",[...Hi,"points"]),X(Qi,"ATTRIBUTE_NAMES",[..._a]),Se.setClass(Qi),Se.setSVGClass(Qi);class Zc extends Qi{isOpen(){return!1}}X(Zc,"ownDefaults",m6),X(Zc,"type","Polygon"),Se.setClass(Zc),Se.setSVGClass(Zc);class v6 extends On{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const n=e===void 0?this.styles:{line:this.styles[e]};for(const r in n)for(const i in n[r])for(const a in n[r][i])return!1;return!0}styleHas(e,n){if(!this.styles||n!==void 0&&!this.styles[n])return!1;const r=n===void 0?this.styles:{0:this.styles[n]};for(const i in r)for(const a in r[i])if(r[i][a][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const n=this.styles;let r,i,a=0,o=!0,s=0;for(const l in n){r=0;for(const c in n[l]){const u=n[l][c]||{};a++,u[e]!==void 0?(i?u[e]!==i&&(o=!1):i=u[e],u[e]===this[e]&&delete u[e]):o=!1,Object.keys(u).length!==0?r++:delete n[l][c]}r===0&&delete n[l]}for(let l=0;l<this._textLines.length;l++)s+=this._textLines[l].length;o&&a===s&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const n=this.styles;let r,i,a;for(i in n){for(a in r=n[i],r)delete r[a][e],Object.keys(r[a]).length===0&&delete r[a];Object.keys(r).length===0&&delete n[i]}}_extendStyles(e,n){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(r)||this._setLineStyle(r);const a=Nm(q(q({},this._getStyleDeclaration(r,i)),n),o=>o!==void 0);this._setStyleDeclaration(r,i,a)}getSelectionStyles(e,n,r){const i=[];for(let a=e;a<(n||e);a++)i.push(this.getStyleAtPosition(a,r));return i}getStyleAtPosition(e,n){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e);return n?this.getCompleteStyleDeclaration(r,i):this._getStyleDeclaration(r,i)}setSelectionStyles(e,n,r){for(let i=n;i<(r||n);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,n){var r;const i=this.styles&&this.styles[e];return i&&(r=i[n])!==null&&r!==void 0?r:{}}getCompleteStyleDeclaration(e,n){return q(q({},ps(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,n))}_setStyleDeclaration(e,n,r){this.styles[e][n]=r}_deleteStyleDeclaration(e,n){delete this.styles[e][n]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}X(v6,"_styleProperties",hN);const cB=/  +/g,uB=/"/g;function Vf(t,e,n,r,i){return"		".concat(function(a,o){let{left:s,top:l,width:c,height:u}=o,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ut.NUM_FRACTION_DIGITS;const f=Kl(un,a,!1),[h,g,m,v]=[s,l,c,u].map(b=>Tt(b,d));return"<rect ".concat(f,' x="').concat(h,'" y="').concat(g,'" width="').concat(m,'" height="').concat(v,'"></rect>')}(t,{left:e,top:n,width:r,height:i}),`
`)}const dB=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Gf;class Pn extends v6{static getDefaults(){return q(q({},super.getDefaults()),Pn.ownDefaults)}constructor(e,n){super(),X(this,"__charBounds",[]),Object.assign(this,Pn.ownDefaults),this.setOptions(n),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=l6(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(oi)&&this.enlargeSpaces()}enlargeSpaces(){let e,n,r,i,a,o,s;for(let l=0,c=this._textLines.length;l<c;l++)if((this.textAlign===oi||l!==c-1&&!this.isEndOfWrapping(l))&&(i=0,a=this._textLines[l],n=this.getLineWidth(l),n<this.width&&(s=this.textLines[l].match(this._reSpacesAndTabs)))){r=s.length,e=(this.width-n)/r;for(let u=0;u<=a.length;u++)o=this.__charBounds[l][u],this._reSpaceAndTab.test(a[u])?(o.width+=e,o.kernedWidth+=e,o.left+=i,i+=e):o.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,n){const r=n?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<r.length;i++){if(e<=r[i].length)return{lineIndex:i,charIndex:e};e-=r[i].length+this.missingNewlineOffset(i,n)}return{lineIndex:i-1,charIndex:r[i-1].length<e?r[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),n=this.fontSize;return e.width+=n*e.zoomX,e.height+=n*e.zoomY,e}_render(e){const n=this.path;n&&!n.isNotVisible()&&n._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===Jn?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,n,r){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Ze:e.textBaseline="middle";break;case"ascender":e.textBaseline=Kn;break;case"descender":e.textBaseline=bg}e.font=this._getFontDeclaration(n,r)}calcTextWidth(){let e=this.getLineWidth(0);for(let n=1,r=this._textLines.length;n<r;n++){const i=this.getLineWidth(n);i>e&&(e=i)}return e}_renderTextLine(e,n,r,i,a,o){this._renderChars(e,n,r,i,a,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const n=e.fillStyle,r=this._getLeftOffset();let i=this._getTopOffset();for(let a=0,o=this._textLines.length;a<o;a++){const s=this.getHeightOfLine(a);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",a)){i+=s;continue}const l=this._textLines[a].length,c=this._getLineLeftOffset(a);let u,d,f=0,h=0,g=this.getValueOfPropertyAt(a,0,"textBackgroundColor");for(let m=0;m<l;m++){const v=this.__charBounds[a][m];d=this.getValueOfPropertyAt(a,m,"textBackgroundColor"),this.path?(e.save(),e.translate(v.renderLeft,v.renderTop),e.rotate(v.angle),e.fillStyle=d,d&&e.fillRect(-v.width/2,-s/this.lineHeight*(1-this._fontSizeFraction),v.width,s/this.lineHeight),e.restore()):d!==g?(u=r+c+h,this.direction==="rtl"&&(u=this.width-u-f),e.fillStyle=g,g&&e.fillRect(u,i,f,s/this.lineHeight),h=v.left,f=v.width,g=d):f+=v.kernedWidth}d&&!this.path&&(u=r+c+h,this.direction==="rtl"&&(u=this.width-u-f),e.fillStyle=d,e.fillRect(u,i,f,s/this.lineHeight)),i+=s}e.fillStyle=n,this._removeShadow(e)}_measureChar(e,n,r,i){const a=Rl.getFontCache(n),o=this._getFontDeclaration(n),s=r+e,l=r&&o===this._getFontDeclaration(i),c=n.fontSize/this.CACHE_FONT_SIZE;let u,d,f,h;if(r&&a[r]!==void 0&&(f=a[r]),a[e]!==void 0&&(h=u=a[e]),l&&a[s]!==void 0&&(d=a[s],h=d-f),u===void 0||f===void 0||d===void 0){const g=function(){return Gf||(Gf=Er({width:0,height:0}).getContext("2d")),Gf}();this._setTextStyles(g,n,!0),u===void 0&&(h=u=g.measureText(e).width,a[e]=u),f===void 0&&l&&r&&(f=g.measureText(r).width,a[r]=f),l&&d===void 0&&(d=g.measureText(s).width,a[s]=d,h=d-f)}return{width:u*c,kernedWidth:h*c}}getHeightOfChar(e,n){return this.getValueOfPropertyAt(e,n,"fontSize")}measureLine(e){const n=this._measureLine(e);return this.charSpacing!==0&&(n.width-=this._getWidthOfCharSpacing()),n.width<0&&(n.width=0),n}_measureLine(e){let n,r,i=0;const a=this.pathSide===Wt,o=this.path,s=this._textLines[e],l=s.length,c=new Array(l);this.__charBounds[e]=c;for(let u=0;u<l;u++){const d=s[u];r=this._getGraphemeBox(d,e,u,n),c[u]=r,i+=r.kernedWidth,n=d}if(c[l]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let u=0;const d=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case pt:u=a?d-i:0;break;case Ze:u=(d-i)/2;break;case Wt:u=a?0:d-i}u+=this.pathStartOffset*(a?-1:1);for(let f=a?l-1:0;a?f>=0:f<l;a?f--:f++)r=c[f],u>d?u%=d:u<0&&(u+=d),this._setGraphemeOnPath(u,r),u+=r.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,n){const r=e+n.kernedWidth/2,i=this.path,a=Nj(i.path,r,i.segmentsInfo);n.renderLeft=a.x-i.pathOffset.x,n.renderTop=a.y-i.pathOffset.y,n.angle=a.angle+(this.pathSide===Wt?Math.PI:0)}_getGraphemeBox(e,n,r,i,a){const o=this.getCompleteStyleDeclaration(n,r),s=i?this.getCompleteStyleDeclaration(n,r-1):{},l=this._measureChar(e,o,i,s);let c,u=l.kernedWidth,d=l.width;this.charSpacing!==0&&(c=this._getWidthOfCharSpacing(),d+=c,u+=c);const f={width:d,left:0,height:o.fontSize,kernedWidth:u,deltaY:o.deltaY};if(r>0&&!a){const h=this.__charBounds[n][r-1];f.left=h.left+h.width+l.kernedWidth-l.width}return f}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let n=this.getHeightOfChar(e,0);for(let r=1,i=this._textLines[e].length;r<i;r++)n=Math.max(this.getHeightOfChar(e,r),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,n=0;for(let r=0,i=this._textLines.length;r<i;r++)e=this.getHeightOfLine(r),n+=r===i-1?e/this.lineHeight:e;return n}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,n){e.save();let r=0;const i=this._getLeftOffset(),a=this._getTopOffset();for(let o=0,s=this._textLines.length;o<s;o++){const l=this.getHeightOfLine(o),c=l/this.lineHeight,u=this._getLineLeftOffset(o);this._renderTextLine(n,e,this._textLines[o],i+u,a+r+c,o),r+=l}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(un))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,n,r,i,a,o){const s=this.getHeightOfLine(o),l=this.textAlign.includes(oi),c=this.path,u=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!c,d=this.direction==="ltr",f=this.direction==="ltr"?1:-1,h=n.direction;let g,m,v,b,y,x="",w=0;if(n.save(),h!==this.direction&&(n.canvas.setAttribute("dir",d?"ltr":"rtl"),n.direction=d?"ltr":"rtl",n.textAlign=d?pt:Wt),a-=s*this._fontSizeFraction/this.lineHeight,u)return this._renderChar(e,n,o,0,r.join(""),i,a),void n.restore();for(let _=0,k=r.length-1;_<=k;_++)b=_===k||this.charSpacing||c,x+=r[_],v=this.__charBounds[o][_],w===0?(i+=f*(v.kernedWidth-v.width),w+=v.width):w+=v.kernedWidth,l&&!b&&this._reSpaceAndTab.test(r[_])&&(b=!0),b||(g=g||this.getCompleteStyleDeclaration(o,_),m=this.getCompleteStyleDeclaration(o,_+1),b=Gm(g,m,!1)),b&&(c?(n.save(),n.translate(v.renderLeft,v.renderTop),n.rotate(v.angle),this._renderChar(e,n,o,_,x,-w/2,0),n.restore()):(y=i,this._renderChar(e,n,o,_,x,y,a)),x="",g=m,i+=f*w,w=0);n.restore()}_applyPatternGradientTransformText(e){const n=this.width+this.strokeWidth,r=this.height+this.strokeWidth,i=Er({width:n,height:r}),a=i.getContext("2d");return i.width=n,i.height=r,a.beginPath(),a.moveTo(0,0),a.lineTo(n,0),a.lineTo(n,r),a.lineTo(0,r),a.closePath(),a.translate(n/2,r/2),a.fillStyle=e.toLive(a),this._applyPatternGradientTransform(a,e),a.fill(),a.createPattern(i,"no-repeat")}handleFiller(e,n,r){let i,a;return wr(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(i=-this.width/2,a=-this.height/2,e.translate(i,a),e[n]=this._applyPatternGradientTransformText(r),{offsetX:i,offsetY:a}):(e[n]=r.toLive(e),this._applyPatternGradientTransform(e,r)):(e[n]=r,{offsetX:0,offsetY:0})}_setStrokeStyles(e,n){let{stroke:r,strokeWidth:i}=n;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",r)}_setFillStyles(e,n){let{fill:r}=n;return this.handleFiller(e,"fillStyle",r)}_renderChar(e,n,r,i,a,o,s){const l=this._getStyleDeclaration(r,i),c=this.getCompleteStyleDeclaration(r,i),u=e==="fillText"&&c.fill,d=e==="strokeText"&&c.stroke&&c.strokeWidth;if(d||u){if(n.save(),n.font=this._getFontDeclaration(c),l.textBackgroundColor&&this._removeShadow(n),l.deltaY&&(s+=l.deltaY),u){const f=this._setFillStyles(n,c);n.fillText(a,o-f.offsetX,s-f.offsetY)}if(d){const f=this._setStrokeStyles(n,c);n.strokeText(a,o-f.offsetX,s-f.offsetY)}n.restore()}}setSuperscript(e,n){this._setScript(e,n,this.superscript)}setSubscript(e,n){this._setScript(e,n,this.subscript)}_setScript(e,n,r){const i=this.get2DCursorLocation(e,!0),a=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),s={fontSize:a*r.size,deltaY:o+a*r.baseline};this.setSelectionStyles(s,e,n)}_getLineLeftOffset(e){const n=this.getLineWidth(e),r=this.width-n,i=this.textAlign,a=this.direction,o=this.isEndOfWrapping(e);let s=0;return i===oi||i===Fl&&!o||i===$l&&!o||i===_d&&!o?0:(i===Ze&&(s=r/2),i===Wt&&(s=r),i===Fl&&(s=r/2),i===$l&&(s=r),a==="rtl"&&(i===Wt||i===oi||i===$l?s=0:i===pt||i===_d?s=-r:i!==Ze&&i!==Fl||(s=-r/2)),s)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:n}=this.measureLine(e);return this.__lineWidths[e]=n,n}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,n,r){var i;return(i=this._getStyleDeclaration(e,n)[r])!==null&&i!==void 0?i:this[r]}_renderTextDecoration(e,n){if(!this[n]&&!this.styleHas(n))return;let r=this._getTopOffset();const i=this._getLeftOffset(),a=this.path,o=this._getWidthOfCharSpacing(),s=n==="linethrough"?.5:n==="overline"?1:0,l=this.offsets[n];for(let c=0,u=this._textLines.length;c<u;c++){const d=this.getHeightOfLine(c);if(!this[n]&&!this.styleHas(n,c)){r+=d;continue}const f=this._textLines[c],h=d/this.lineHeight,g=this._getLineLeftOffset(c);let m=0,v=0,b=this.getValueOfPropertyAt(c,0,n),y=this.getValueOfPropertyAt(c,0,un),x=this.getValueOfPropertyAt(c,0,Ka),w=b,_=y,k=x;const R=r+h*(1-this._fontSizeFraction);let A=this.getHeightOfChar(c,0),T=this.getValueOfPropertyAt(c,0,"deltaY");for(let $=0,C=f.length;$<C;$++){const E=this.__charBounds[c][$];w=this.getValueOfPropertyAt(c,$,n),_=this.getValueOfPropertyAt(c,$,un),k=this.getValueOfPropertyAt(c,$,Ka);const S=this.getHeightOfChar(c,$),F=this.getValueOfPropertyAt(c,$,"deltaY");if(a&&w&&_){const D=this.fontSize*k/1e3;e.save(),e.fillStyle=y,e.translate(E.renderLeft,E.renderTop),e.rotate(E.angle),e.fillRect(-E.kernedWidth/2,l*S+F-s*D,E.kernedWidth,D),e.restore()}else if((w!==b||_!==y||S!==A||k!==x||F!==T)&&v>0){const D=this.fontSize*x/1e3;let P=i+g+m;this.direction==="rtl"&&(P=this.width-P-v),b&&y&&x&&(e.fillStyle=y,e.fillRect(P,R+l*A+T-s*D,v,D)),m=E.left,v=E.width,b=w,x=k,y=_,A=S,T=F}else v+=E.kernedWidth}let O=i+g+m;this.direction==="rtl"&&(O=this.width-O-v),e.fillStyle=_;const M=this.fontSize*k/1e3;w&&_&&k&&e.fillRect(O,R+l*A+T-s*M,v-o,M),r+=d}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:n=this.fontStyle,fontWeight:r=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||Pn.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[n,r,"".concat(a?this.CACHE_FONT_SIZE:i,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return Vm(e)}_splitTextIntoLines(e){const n=e.split(this._reNewline),r=new Array(n.length),i=[`
`];let a=[];for(let o=0;o<n.length;o++)r[o]=this.graphemeSplit(n[o]),a=a.concat(r[o],i);return a.pop(),{_unwrappedLines:r,lines:n,graphemeText:a,graphemeLines:r}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q(q({},super.toObject([...W_,...e])),{},{styles:ej(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,n){const{textLayoutProperties:r}=this.constructor;super.set(e,n);let i=!1,a=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),i=i||r.includes(o),a=a||o==="path";else i=r.includes(e),a=e==="path";return a&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,n,r){const i=Wi(e,Pn.ATTRIBUTE_NAMES,r),a=q(q({},n),i),{textAnchor:o=pt,textDecoration:s="",dx:l=0,dy:c=0,top:u=0,left:d=0,fontSize:f=$m,strokeWidth:h=1}=a,g=Rt(a,dB),m=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),q({left:d+l,top:u+c,underline:s.includes("underline"),overline:s.includes("overline"),linethrough:s.includes("line-through"),strokeWidth:0,fontSize:f},g)),v=m.getScaledHeight()/m.height,b=((m.height+m.strokeWidth)*m.lineHeight-m.height)*v,y=m.getScaledHeight()+b;let x=0;return o===Ze&&(x=m.getScaledWidth()/2),o===Wt&&(x=m.getScaledWidth()),m.set({left:m.left-x,top:m.top-(y-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:h}),m}static fromObject(e){return this._fromObject(q(q({},e),{},{styles:tj(e.styles||{},e.text)}),{extraParam:"text"})}}X(Pn,"textLayoutProperties",H_),X(Pn,"cacheProperties",[...Hi,...W_]),X(Pn,"ownDefaults",fN),X(Pn,"type","Text"),X(Pn,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),X(Pn,"ATTRIBUTE_NAMES",_a.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Q_(Pn,[class extends B_{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0}),n=this.path;return n?e+n._createBaseSVGMarkup(n._toSVG(),{reviver:t,withShadow:!0,additionalTransform:Yl(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:n}=t;const r=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(uB,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",r?'text-decoration="'.concat(r,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",n.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const n=[],r=[];let i,a=t;this.backgroundColor&&r.push(...Vf(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,s=this._textLines.length;o<s;o++)i=this._getLineLeftOffset(o),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(r,o,e+i,a),this._setSVGTextLineText(n,o,e+i,a),a+=this.getHeightOfLine(o);return{textSpans:n,textBgRects:r}}_createTextCharSpan(t,e,n,r,i){const a=ut.NUM_FRACTION_DIGITS,o=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(cB)),s=o?'style="'.concat(o,'"'):"",l=e.deltaY,c=l?' dy="'.concat(Tt(l,a),'" '):"",{angle:u,renderLeft:d,renderTop:f,width:h}=i;let g="";if(d!==void 0){const m=h/2;u&&(g=' rotate="'.concat(Tt(ji(u),a),'"'));const v=fs({angle:ji(u)});v[4]=d,v[5]=f;const b=new re(-m,0).transform(v);n=b.x,r=b.y}return'<tspan x="'.concat(Tt(n,a),'" y="').concat(Tt(r,a),'" ').concat(c).concat(g).concat(s,">").concat(ZN(t),"</tspan>")}_setSVGTextLineText(t,e,n,r){const i=this.getHeightOfLine(e),a=this.textAlign.includes(oi),o=this._textLines[e];let s,l,c,u,d,f="",h=0;r+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let g=0,m=o.length-1;g<=m;g++)d=g===m||this.charSpacing||this.path,f+=o[g],c=this.__charBounds[e][g],h===0?(n+=c.kernedWidth-c.width,h+=c.width):h+=c.kernedWidth,a&&!d&&this._reSpaceAndTab.test(o[g])&&(d=!0),d||(s=s||this.getCompleteStyleDeclaration(e,g),l=this.getCompleteStyleDeclaration(e,g+1),d=Gm(s,l,!0)),d&&(u=this._getStyleDeclaration(e,g),t.push(this._createTextCharSpan(f,u,n,r,c)),f="",s=l,this.direction==="rtl"?n-=h:n+=h,h=0)}_setSVGTextLineBg(t,e,n,r){const i=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight;let o,s=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let u=0;u<i.length;u++){const{left:d,width:f,kernedWidth:h}=this.__charBounds[e][u];o=this.getValueOfPropertyAt(e,u,"textBackgroundColor"),o!==c?(c&&t.push(...Vf(c,n+l,r,s,a)),l=d,s=f,c=o):s+=h}o&&t.push(...Vf(c,n+l,r,s,a))}_getSVGLineTopOffset(t){let e,n=0;for(e=0;e<t;e++)n+=this.getHeightOfLine(e);const r=this.getHeightOfLine(e);return{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," text-decoration-thickness: ").concat(Tt(this.textDecorationThickness*this.getObjectScaling().y/10,ut.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:n,strokeWidth:r,stroke:i,fill:a,fontSize:o,fontStyle:s,fontWeight:l,deltaY:c,textDecorationThickness:u,linethrough:d,overline:f,underline:h}=t,g=this.getSvgTextDecoration({underline:h??this.underline,overline:f??this.overline,linethrough:d??this.linethrough}),m=u||this.textDecorationThickness;return[i?Kl(Jn,i):"",r?"stroke-width: ".concat(r,"; "):"",n?"font-family: ".concat(n.includes("'")||n.includes('"')?n:"'".concat(n,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",s?"font-style: ".concat(s,"; "):"",l?"font-weight: ".concat(l,"; "):"",g?"text-decoration: ".concat(g,"; text-decoration-thickness: ").concat(Tt(m*this.getObjectScaling().y/10,ut.NUM_FRACTION_DIGITS),"%; "):"",a?Kl(un,a):"",c?"baseline-shift: ".concat(-c,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter(e=>t[e.replace("-","")]).join(" ")}}]),Se.setClass(Pn),Se.setSVGClass(Pn);class hB{constructor(e){X(this,"target",void 0),X(this,"__mouseDownInPlace",!1),X(this,"__dragStartFired",!1),X(this,"__isDraggingOver",!1),X(this,"__dragStartSelection",void 0),X(this,"__dragImageDisposer",void 0),X(this,"_dispose",void 0),this.target=e;const n=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{n.forEach(r=>r()),this._dispose=void 0}}isPointerOverSelection(e){const n=this.target,r=n.getSelectionStartFromPointer(e);return n.isEditing&&r>=n.selectionStart&&r<=n.selectionEnd&&n.selectionStart<n.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const n=this.isActive();return n&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,n}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,n){var r;let{selectionStart:i,selectionEnd:a}=n;const o=this.target,s=o.canvas,l=new re(o.flipX?-1:1,o.flipY?-1:1),c=o._getCursorBoundaries(i),u=new re(c.left+c.leftOffset,c.top+c.topOffset).multiply(l).transform(o.calcTransformMatrix()),d=s.getScenePoint(e).subtract(u),f=o.getCanvasRetinaScaling(),h=o.getBoundingRect(),g=u.subtract(new re(h.left,h.top)),m=s.viewportTransform,v=g.add(d).transform(m,!0),b=o.backgroundColor,y=Wm(o.styles);o.backgroundColor="";const x={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(x,0,i),o.setSelectionStyles(x,a,o.text.length),o.dirty=!0;const w=o.toCanvasElement({enableRetinaScaling:s.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=b,o.styles=y,o.dirty=!0,Tg(w,{position:"fixed",left:"".concat(-w.width,"px"),border:Zn,width:"".concat(w.width/f,"px"),height:"".concat(w.height/f,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{w.remove()},zr(e.target||this.target.hiddenTextarea).body.appendChild(w),(r=e.dataTransfer)===null||r===void 0||r.setDragImage(w,v.x,v.y)}onDragStart(e){this.__dragStartFired=!0;const n=this.target,r=this.isActive();if(r&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:n.selectionStart,selectionEnd:n.selectionEnd},a=n._text.slice(i.selectionStart,i.selectionEnd).join(""),o=q({text:n.text,value:a},i);e.dataTransfer.setData("text/plain",a),e.dataTransfer.setData("application/fabric",JSON.stringify({value:a,styles:n.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return n.abortCursorAnimation(),r}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const n=this.target.getSelectionStartFromPointer(e),r=this.__dragStartSelection;return n<r.selectionStart||n>r.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:n}=e;const r=this.targetCanDrop(n);!this.__isDraggingOver&&r&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:n}=e,r=this.targetCanDrop(n);!this.__isDraggingOver&&r?this.__isDraggingOver=!0:this.__isDraggingOver&&!r&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(n.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var n;const{e:r}=e,i=r.defaultPrevented;this.__isDraggingOver=!1,r.preventDefault();let a=(n=r.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain");if(a&&!i){const o=this.target,s=o.canvas;let l=o.getSelectionStartFromPointer(r);const{styles:c}=r.dataTransfer.types.includes("application/fabric")?JSON.parse(r.dataTransfer.getData("application/fabric")):{},u=a[Math.max(0,a.length-1)],d=0;if(this.__dragStartSelection){const f=this.__dragStartSelection.selectionStart,h=this.__dragStartSelection.selectionEnd;l>f&&l<=h?l=f:l>h&&(l-=h-f),o.removeChars(f,h),delete this.__dragStartSelection}o._reNewline.test(u)&&(o._reNewline.test(o._text[l])||l===o._text.length)&&(a=a.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(a,c,l),s.setActiveObject(o),o.enterEditing(r),o.selectionStart=Math.min(l+d,o._text.length),o.selectionEnd=Math.min(o.selectionStart+a.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(md,{index:l+d,action:"drop"}),s.fire("text:changed",{target:o}),s.contextTopDirty=!0,s.requestRenderAll()}}dragEndHandler(e){let{e:n}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var r;const i=this.target,a=this.target.canvas,{selectionStart:o,selectionEnd:s}=this.__dragStartSelection,l=((r=n.dataTransfer)===null||r===void 0?void 0:r.dropEffect)||Zn;l===Zn?(i.selectionStart=o,i.selectionEnd=s,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),l==="move"&&(i.removeChars(o,s),i.selectionStart=i.selectionEnd=o,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(md,{index:o,action:"dragend"}),a.fire("text:changed",{target:i}),a.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const C2=/[ \n\.,;!\?\-]/;let fB=class extends Pn{constructor(){super(...arguments),X(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:n,duration:r,delay:i,onComplete:a}=e;return q_({startValue:this._currentCursorOpacity,endValue:n,duration:r,delay:i,onComplete:a,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(n=>{n&&!n.isDone()&&(e=!0,n.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let n=0,r=e-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)n++,r--;for(;/\S/.test(this._text[r])&&r>-1;)n++,r--;return e-n}findWordBoundaryRight(e){let n=0,r=e;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)n++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)n++,r++;return e+n}findLineBoundaryLeft(e){let n=0,r=e-1;for(;!/\n/.test(this._text[r])&&r>-1;)n++,r--;return e-n}findLineBoundaryRight(e){let n=0,r=e;for(;!/\n/.test(this._text[r])&&r<this._text.length;)n++,r++;return e+n}searchWordBoundary(e,n){const r=this._text;let i=e>0&&this._reSpace.test(r[e])&&(n===-1||!Fm.test(r[e-1]))?e-1:e,a=r[i];for(;i>0&&i<r.length&&!C2.test(a);)i+=n,a=r[i];return n===-1&&C2.test(a)&&i++,i}selectWord(e){var n;e=(n=e)!==null&&n!==void 0?n:this.selectionStart;const r=this.searchWordBoundary(e,-1),i=Math.max(r,this.searchWordBoundary(e,1));this.selectionStart=r,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var n;e=(n=e)!==null&&n!==void 0?n:this.selectionStart;const r=this.findLineBoundaryLeft(e),i=this.findLineBoundaryRight(e);this.selectionStart=r,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const n=this.hiddenTextarea;zr(n).activeElement!==n&&n.focus();const r=this.getSelectionStartFromPointer(e),i=this.selectionStart,a=this.selectionEnd;(r===this.__selectionStartOnMouseDown&&i!==a||i!==r&&a!==r)&&(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===a||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,n,r){const i=r.slice(0,e),a=this.graphemeSplit(i).length;if(e===n)return{selectionStart:a,selectionEnd:a};const o=r.slice(e,n);return{selectionStart:a,selectionEnd:a+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,n,r){const i=r.slice(0,e).join("").length;return e===n?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+r.slice(e,n).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const n=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=n.selectionEnd,this.inCompositionMode||(this.selectionStart=n.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,n=this._getCursorBoundaries(e),r=this.get2DCursorLocation(e),i=r.lineIndex,a=r.charIndex,o=this.getValueOfPropertyAt(i,a,"fontSize")*this.lineHeight,s=n.leftOffset,l=this.getCanvasRetinaScaling(),c=this.canvas.upperCanvasEl,u=c.width/l,d=c.height/l,f=u-o,h=d-o,g=new re(n.left+s,n.top+n.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new re(c.clientWidth/u,c.clientHeight/d));return g.x<0&&(g.x=0),g.x>f&&(g.x=f),g.y<0&&(g.y=0),g.y>h&&(g.y=h),g.x+=this.canvas._offset.left,g.y+=this.canvas._offset.top,{left:"".concat(g.x,"px"),top:"".concat(g.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(vd),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,n){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:a,charIndex:o}=this.get2DCursorLocation(n,!0);if(r!==a){if(this.styles[r])for(let s=i;s<this._unwrappedTextLines[r].length;s++)delete this.styles[r][s];if(this.styles[a])for(let s=o;s<this._unwrappedTextLines[a].length;s++){const l=this.styles[a][s];l&&(this.styles[r]||(this.styles[r]={}),this.styles[r][i+s-o]=l)}for(let s=r+1;s<=a;s++)delete this.styles[s];this.shiftLineStyles(a,r-a)}else if(this.styles[r]){const s=this.styles[r],l=o-i;for(let c=i;c<o;c++)delete s[c];for(const c in this.styles[r]){const u=parseInt(c,10);u>=o&&(s[u-l]=s[c],delete s[c])}}}shiftLineStyles(e,n){const r=Object.assign({},this.styles);for(const i in this.styles){const a=parseInt(i,10);a>e&&(this.styles[a+n]=r[a],r[a-n]||delete this.styles[a])}}insertNewlineStyleObject(e,n,r,i){const a={},o=this._unwrappedTextLines[e].length,s=o===n;let l=!1;r||(r=1),this.shiftLineStyles(e,r);const c=this.styles[e]?this.styles[e][n===0?n:n-1]:void 0;for(const d in this.styles[e]){const f=parseInt(d,10);f>=n&&(l=!0,a[f-n]=this.styles[e][d],s&&n===0||delete this.styles[e][d])}let u=!1;for(l&&!s&&(this.styles[e+r]=a,u=!0),(u||o>n)&&r--;r>0;)i&&i[r-1]?this.styles[e+r]={0:q({},i[r-1])}:c?this.styles[e+r]={0:q({},c)}:delete this.styles[e+r],r--;this._forceClearCache=!0}insertCharStyleObject(e,n,r,i){this.styles||(this.styles={});const a=this.styles[e],o=a?q({},a):{};r||(r=1);for(const l in o){const c=parseInt(l,10);c>=n&&(a[c+r]=o[c],o[c-r]||delete a[c])}if(this._forceClearCache=!0,i){for(;r--;)Object.keys(i[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][n+r]=q({},i[r]));return}if(!a)return;const s=a[n?n-1:1];for(;s&&r--;)this.styles[e][n+r]=q({},s)}insertNewStyleBlock(e,n,r){const i=this.get2DCursorLocation(n,!0),a=[0];let o,s=0;for(let l=0;l<e.length;l++)e[l]===`
`?(s++,a[s]=0):a[s]++;for(a[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,a[0],r),r=r&&r.slice(a[0]+1)),s&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+a[0],s),o=1;o<s;o++)a[o]>0?this.insertCharStyleObject(i.lineIndex+o,0,a[o],r):r&&this.styles[i.lineIndex+o]&&r[0]&&(this.styles[i.lineIndex+o][0]=r[0]),r=r&&r.slice(a[o]+1);a[o]>0&&this.insertCharStyleObject(i.lineIndex+o,0,a[o],r)}removeChars(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,n),this._text.splice(e,n-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;i>r&&this.removeStyleFromTo(r,i);const a=this.graphemeSplit(e);this.insertNewStyleBlock(a,r,n),this._text=[...this._text.slice(0,r),...a,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,n,r){r<=e?(n===e?this._selectionDirection=pt:this._selectionDirection===Wt&&(this._selectionDirection=pt,this.selectionEnd=e),this.selectionStart=r):r>e&&r<n?this._selectionDirection===Wt?this.selectionEnd=r:this.selectionStart=r:(n===e?this._selectionDirection=Wt:this._selectionDirection===pt&&(this._selectionDirection=Wt,this.selectionStart=n),this.selectionEnd=r)}};class pB extends fB{initHiddenTextarea(){const e=this.canvas&&zr(this.canvas.getElement())||us(),n=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[s,l]=o;return n.setAttribute(s,l)});const{top:r,left:i,fontSize:a}=this._calcTextareaPosition();n.style.cssText="position: absolute; top: ".concat(r,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(a,";"),(this.hiddenTextareaContainer||e.body).appendChild(n),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[s,l]=o;return n.addEventListener(s,this[l].bind(this))}),this.hiddenTextarea=n}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const n=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in n)this[n[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const n=this.fromPaste,{value:r,selectionStart:i,selectionEnd:a}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(md),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void o();const s=this._splitTextIntoLines(r).graphemeText,l=this._text.length,c=s.length,u=this.selectionStart,d=this.selectionEnd,f=u!==d;let h,g,m,v,b=c-l;const y=this.fromStringToGraphemeSelection(i,a,r),x=u>y.selectionStart;f?(g=this._text.slice(u,d),b+=d-u):c<l&&(g=x?this._text.slice(d+b,d):this._text.slice(u,u-b));const w=s.slice(y.selectionEnd-b,y.selectionEnd);if(g&&g.length&&(w.length&&(h=this.getSelectionStyles(u,u+1,!1),h=w.map(()=>h[0])),f?(m=u,v=d):x?(m=d-g.length,v=d):(m=d,v=d+g.length),this.removeStyleFromTo(m,v)),w.length){const{copyPasteData:_}=fi();n&&w.join("")===_.copiedText&&!ut.disableStyleCopyPaste&&(h=_.copiedTextStyle),this.insertNewStyleBlock(w,u,h)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:n}=e;const{selectionStart:r,selectionEnd:i}=n;this.compositionStart=r,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=fi();e.copiedText=this.getSelectedText(),ut.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,n){let r,i=this._getLineLeftOffset(e);return n>0&&(r=this.__charBounds[e][n-1],i+=r.left+r.width),i}getDownCursorOffset(e,n){const r=this._getSelectionForOffset(e,n),i=this.get2DCursorLocation(r),a=i.lineIndex;if(a===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-r;const o=i.charIndex,s=this._getWidthBeforeCursor(a,o),l=this._getIndexOnLine(a+1,s);return this._textLines[a].slice(o).length+l+1+this.missingNewlineOffset(a)}_getSelectionForOffset(e,n){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&n?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,n){const r=this._getSelectionForOffset(e,n),i=this.get2DCursorLocation(r),a=i.lineIndex;if(a===0||e.metaKey||e.keyCode===33)return-r;const o=i.charIndex,s=this._getWidthBeforeCursor(a,o),l=this._getIndexOnLine(a-1,s),c=this._textLines[a].slice(0,o),u=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+l-c.length+(1-u)}_getIndexOnLine(e,n){const r=this._textLines[e];let i,a,o=this._getLineLeftOffset(e),s=0;for(let l=0,c=r.length;l<c;l++)if(i=this.__charBounds[e][l].width,o+=i,o>n){a=!0;const u=o-i,d=o,f=Math.abs(u-n);s=Math.abs(d-n)<f?l:l-1;break}return a||(s=r.length-1),s}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,n){const r=this["get".concat(e,"CursorOffset")](n,this._selectionDirection===Wt);if(n.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),r!==0){const i=this.text.length;this.selectionStart=Jo(0,this.selectionStart,i),this.selectionEnd=Jo(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const n=this._selectionDirection===pt?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,n),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,n,r){let i;if(e.altKey)i=this["findWordBoundary".concat(r)](this[n]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[n]+=r==="Left"?-1:1,!0;i=this["findLineBoundary".concat(r)](this[n])}return i!==void 0&&this[n]!==i&&(this[n]=i,!0)}_moveLeft(e,n){return this._move(e,n,"Left")}_moveRight(e,n){return this._move(e,n,"Right")}moveCursorLeftWithoutShift(e){let n=!0;return this._selectionDirection=pt,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(n=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,n}moveCursorLeftWithShift(e){return this._selectionDirection===Wt&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=pt,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,n){const r="moveCursor".concat(e).concat(n.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[r](n)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===pt&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Wt,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let n=!0;return this._selectionDirection=Wt,this.selectionStart===this.selectionEnd?(n=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,n}}const k2=t=>!!t.button;let gB=class extends pB{constructor(){super(...arguments),X(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new hB(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:n,alreadySelected:r}=e;this.canvas&&this.editable&&!k2(n)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(n)||(this.canvas.textEditingManager.register(this),r&&(this.inCompositionMode=!1,this.setCursorByClick(n)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=r||this.isEditing)))}mouseUpHandler(e){let{e:n,transform:r}=e;const i=this.draggableTextDelegate.end(n);if(this.canvas){this.canvas.textEditingManager.unregister(this);const a=this.canvas._activeObject;if(a&&a!==this)return}!this.editable||this.group&&!this.group.interactive||r&&r.actionPerformed||k2(n)||i||this.selected&&!this.getActiveControl()&&(this.enterEditing(n),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const n=this.getSelectionStartFromPointer(e),r=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(r,i,n):(this.selectionStart=n,this.selectionEnd=n),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const n=this.canvas.getScenePoint(e).transform(Gr(this.calcTransformMatrix())).add(new re(-this._getLeftOffset(),-this._getTopOffset()));let r=0,i=0,a=0;for(let c=0;c<this._textLines.length&&r<=n.y;c++)r+=this.getHeightOfLine(c),a=c,c>0&&(i+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));let o=Math.abs(this._getLineLeftOffset(a));const s=this._textLines[a].length,l=this.__charBounds[a];for(let c=0;c<s;c++){const u=o+l[c].kernedWidth;if(n.x<=u){Math.abs(n.x-u)<=Math.abs(n.x-o)&&i++;break}o=u,i++}return Math.min(this.flipX?s-i:i,this._text.length)}};const Jc="moveCursorUp",Qc="moveCursorDown",eu="moveCursorLeft",tu="moveCursorRight",nu="exitEditing",S2=(t,e)=>{const n=e.getRetinaScaling();t.setTransform(n,0,0,n,0,0);const r=e.viewportTransform;t.transform(r[0],r[1],r[2],r[3],r[4],r[5])},mB=q({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:nu,27:nu,33:Jc,34:Qc,35:tu,36:eu,37:eu,38:Jc,39:tu,40:Qc},keysMapRtl:{9:nu,27:nu,33:Jc,34:Qc,35:eu,36:tu,37:tu,38:Jc,39:eu,40:Qc},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Ai extends gB{static getDefaults(){return q(q({},super.getDefaults()),Ai.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,n){super(e,q(q({},Ai.ownDefaults),n)),this.initBehavior()}_set(e,n){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=n,this):(e==="canvas"&&(this.canvas instanceof Ag&&this.canvas.textEditingManager.remove(this),n instanceof Ag&&n.textEditingManager.add(this)),super._set(e,n))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,n){this[e]!==n&&(this._fireSelectionChanged(),this[e]=n),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,r=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,n,r)}setSelectionStyles(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,n,r)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,n)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const n=this.isEditing;this.isEditing=!1;const r=super.toCanvasElement(e);return this.isEditing=n,r}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const n=this._getCursorBoundaries(),r=this.findAncestorsWithClipPath(),i=r.length>0;let a,o=e;if(i){a=Er(e.canvas),o=a.getContext("2d"),S2(o,this.canvas);const s=this.calcTransformMatrix();o.transform(s[0],s[1],s[2],s[3],s[4],s[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(o,n):this.renderCursor(o,n),i)for(const s of r){const l=s.clipPath,c=Er(e.canvas),u=c.getContext("2d");if(S2(u,this.canvas),!l.absolutePositioned){const d=s.calcTransformMatrix();u.transform(d[0],d[1],d[2],d[3],d[4],d[5])}l.transform(u),l.drawObject(u,!0,{}),this.drawClipPathOnCache(o,l,c)}i&&(e.setTransform(1,0,0,1,0,0),e.drawImage(a,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let n=this;for(;n;)n.clipPath&&e.push(n),n=n.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1?arguments[1]:void 0;const r=this._getLeftOffset(),i=this._getTopOffset(),a=this._getCursorBoundariesOffsets(e,n);return{left:r,top:i,leftOffset:a.left,topOffset:a.top}}_getCursorBoundariesOffsets(e,n){return n?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let n=0,r=0;const{charIndex:i,lineIndex:a}=this.get2DCursorLocation(e);for(let c=0;c<a;c++)n+=this.getHeightOfLine(c);const o=this._getLineLeftOffset(a),s=this.__charBounds[a][i];s&&(r=s.left),this.charSpacing!==0&&i===this._textLines[a].length&&(r-=this._getWidthOfCharSpacing());const l={top:n,left:o+(r>0?r:0)};return this.direction==="rtl"&&(this.textAlign===Wt||this.textAlign===oi||this.textAlign===$l?l.left*=-1:this.textAlign===pt||this.textAlign===_d?l.left=o-(r>0?r:0):this.textAlign!==Ze&&this.textAlign!==Fl||(l.left=o-(r>0?r:0))),l}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,n){this._renderCursor(e,n,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const r=this.get2DCursorLocation(e),i=r.lineIndex,a=r.charIndex>0?r.charIndex-1:0,o=this.getValueOfPropertyAt(i,a,"fontSize"),s=this.getObjectScaling().x*this.canvas.getZoom(),l=this.cursorWidth/s,c=this.getValueOfPropertyAt(i,a,"deltaY"),u=n.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,a,"fill"),opacity:this._currentCursorOpacity,left:n.left+n.leftOffset-l/2,top:u+n.top+c,width:l,height:o}}_renderCursor(e,n,r){const{color:i,opacity:a,left:o,top:s,width:l,height:c}=this.getCursorRenderingData(r,n);e.fillStyle=i,e.globalAlpha=a,e.fillRect(o,s,l,c)}renderSelection(e,n){const r={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,r,n)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const n=this.getSelectionStartFromPointer(e);this.renderCursorAt(n)}_renderSelection(e,n,r){const i=n.selectionStart,a=n.selectionEnd,o=this.textAlign.includes(oi),s=this.get2DCursorLocation(i),l=this.get2DCursorLocation(a),c=s.lineIndex,u=l.lineIndex,d=s.charIndex<0?0:s.charIndex,f=l.charIndex<0?0:l.charIndex;for(let h=c;h<=u;h++){const g=this._getLineLeftOffset(h)||0;let m=this.getHeightOfLine(h),v=0,b=0,y=0;if(h===c&&(b=this.__charBounds[c][d].left),h>=c&&h<u)y=o&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5;else if(h===u)if(f===0)y=this.__charBounds[u][f].left;else{const R=this._getWidthOfCharSpacing();y=this.__charBounds[u][f-1].left+this.__charBounds[u][f-1].width-R}v=m,(this.lineHeight<1||h===u&&this.lineHeight>1)&&(m/=this.lineHeight);let x=r.left+g+b,w=m,_=0;const k=y-b;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",w=1,_=m):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Wt||this.textAlign===oi||this.textAlign===$l?x=this.width-x-k:this.textAlign===pt||this.textAlign===_d?x=r.left+g-y:this.textAlign!==Ze&&this.textAlign!==Fl||(x=r.left+g-y)),e.fillRect(x,r.top+r.topOffset+_,k,w),r.topOffset+=v}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,un)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),n=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:n}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}X(Ai,"ownDefaults",mB),X(Ai,"type","IText"),Se.setClass(Ai),Se.setClass(Ai,"i-text");class ra extends Ai{static getDefaults(){return q(q({},super.getDefaults()),ra.ownDefaults)}constructor(e,n){super(e,q(q({},ra.ownDefaults),n))}static createControls(){return{controls:XN()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(oi)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let n=0,r=0,i=0;const a={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[i]===`
`&&o>0?(r=0,i++,n++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&o>0&&(r++,i++),a[o]={line:n,offset:r},i+=e.graphemeLines[o].length,r+=e.graphemeLines[o].length;return a}styleHas(e,n){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[n];r&&(n=r.line)}return super.styleHas(e,n)}isEmptyStyles(e){if(!this.styles)return!0;let n,r=0,i=e+1,a=!1;const o=this._styleMap[e],s=this._styleMap[e+1];o&&(e=o.line,r=o.offset),s&&(i=s.line,a=i===e,n=s.offset);const l=e===void 0?this.styles:{line:this.styles[e]};for(const c in l)for(const u in l[c]){const d=parseInt(u,10);if(d>=r&&(!a||d<n))for(const f in l[c][u])return!1}return!0}_getStyleDeclaration(e,n){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[e];if(!r)return{};e=r.line,n=r.offset+n}return super._getStyleDeclaration(e,n)}_setStyleDeclaration(e,n,r){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+n,r)}_deleteStyleDeclaration(e,n){const r=this._styleMap[e];super._deleteStyleDeclaration(r.line,r.offset+n)}_getLineStyle(e){const n=this._styleMap[e];return!!this.styles[n.line]}_setLineStyle(e){const n=this._styleMap[e];super._setLineStyle(n.line)}_wrapText(e,n){this.isWrapping=!0;const r=this.getGraphemeDataForRender(e),i=[];for(let a=0;a<r.wordsData.length;a++)i.push(...this._wrapLine(a,n,r));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const n=this.splitByGrapheme,r=n?"":" ";let i=0;return{wordsData:e.map((a,o)=>{let s=0;const l=n?this.graphemeSplit(a):this.wordSplit(a);return l.length===0?[{word:[],width:0}]:l.map(c=>{const u=n?[c]:this.graphemeSplit(c),d=this._measureWord(u,o,s);return i=Math.max(d,i),s+=u.length+r.length,{word:u,width:d}})}),largestWordWidth:i}}_measureWord(e,n){let r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=0;for(let o=0,s=e.length;o<s;o++)a+=this._getGraphemeBox(e[o],n,o+i,r,!0).kernedWidth,r=e[o];return a}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,n,r){let{largestWordWidth:i,wordsData:a}=r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const s=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,c=[],u=l?"":" ";let d=0,f=[],h=0,g=0,m=!0;n-=o;const v=Math.max(n,i,this.dynamicMinWidth),b=a[e];let y;for(h=0,y=0;y<b.length;y++){const{word:x,width:w}=b[y];h+=x.length,d+=g+w-s,d>v&&!m?(c.push(f),f=[],d=w,m=!0):d+=s,m||l||f.push(u),f=f.concat(x),g=l?0:this._measureWord([u],e,h),h++,m=!1}return y&&c.push(f),i+o>this.dynamicMinWidth&&(this.dynamicMinWidth=i-s+o),c}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,n){return this.splitByGrapheme&&!n?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const n=super._splitTextIntoLines(e),r=this._wrapText(n.lines,this.width),i=new Array(r.length);for(let a=0;a<r.length;a++)i[a]=r[a].join("");return n.lines=i,n.graphemeLines=r,n}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const n in this._styleMap){const r=parseInt(n,10);if(this._textLines[r]){const i=this._styleMap[n].line;e.set("".concat(i),!0)}}for(const n in this.styles)e.has(n)||delete this.styles[n]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}X(ra,"type","Textbox"),X(ra,"textLayoutProperties",[...Ai.textLayoutProperties,"width"]),X(ra,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),Se.setClass(ra);class E2 extends xh{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,n){const{target:r}=e,{clipPath:i,group:a}=r;if(!i||!this.shouldPerformLayout(e))return;const{width:o,height:s}=Ri(n6(r,i)),l=new re(o,s);if(i.absolutePositioned)return{center:Io(i.getRelativeCenterPoint(),void 0,a?a.calcTransformMatrix():void 0),size:l};{const c=i.getRelativeCenterPoint().transform(r.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:u=new re,correction:d=new re}=this.calcBoundingBox(n,e)||{};return{center:u.add(c),correction:d.subtract(c),size:l}}return{center:r.getRelativeCenterPoint().add(c),size:l}}}}X(E2,"type","clip-path"),Se.setClass(E2);let T2=class extends xh{getInitialSize(e,n){let{target:r}=e,{size:i}=n;return new re(r.width||i.x,r.height||i.y)}};X(T2,"type","fixed"),Se.setClass(T2);class vB extends Jl{subscribeTargets(e){const n=e.target;e.targets.reduce((r,i)=>(i.parent&&r.add(i.parent),r),new Set).forEach(r=>{r.layoutManager.subscribeTargets({target:r,targets:[n]})})}unsubscribeTargets(e){const n=e.target,r=n.getObjects();e.targets.reduce((i,a)=>(a.parent&&i.add(a.parent),i),new Set).forEach(i=>{!r.some(a=>a.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[n]})})}}class za extends Va{static getDefaults(){return q(q({},super.getDefaults()),za.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,za.ownDefaults),this.setOptions(n);const{left:r,top:i,layoutManager:a}=n;this.groupInit(e,{left:r,top:i,layoutManager:a??new vB})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.multiSelectionStacking==="selection-order"?this.add(...n):n.forEach(i=>{const a=this._objects.findIndex(s=>s.isInFrontOf(i)),o=a===-1?this.size():a;this.insertAt(o,i)})}canEnterGroup(e){return this.getObjects().some(n=>n.isDescendantOf(e)||e.isDescendantOf(n))?(ua("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,n){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,n)}exitGroup(e,n){this._exitGroup(e,n),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,n){super._onAfterObjectsChange(e,n);const r=new Set;n.forEach(i=>{const{parent:a}=i;a&&r.add(a)}),e===qm?r.forEach(i=>{i._onAfterObjectsChange(Cd,n)}):r.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,n,r){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=q(q({hasControls:!1},r),{},{forActiveSelection:!0});for(let a=0;a<this._objects.length;a++)this._objects[a]._renderControls(e,i);super._renderControls(e,n),e.restore()}}X(za,"type","ActiveSelection"),X(za,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),Se.setClass(za),Se.setClass(za,"activeSelection");class bB{constructor(){X(this,"resources",{})}applyFilters(e,n,r,i,a){const o=a.getContext("2d");if(!o)return;o.drawImage(n,0,0,r,i);const s={sourceWidth:r,sourceHeight:i,imageData:o.getImageData(0,0,r,i),originalEl:n,originalImageData:o.getImageData(0,0,r,i),canvasEl:a,ctx:o,filterBackend:this};e.forEach(c=>{c.applyTo(s)});const{imageData:l}=s;return l.width===r&&l.height===i||(a.width=l.width,a.height=l.height),o.putImageData(l,0,0),s}}class b6{constructor(){let{tileSize:e=ut.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),X(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,n){this.dispose(),this.createWebGLCanvas(e,n)}createWebGLCanvas(e,n){const r=Er({width:e,height:n}),i=r.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=r,this.gl=i)}applyFilters(e,n,r,i,a,o){const s=this.gl,l=a.getContext("2d");if(!s||!l)return;let c;o&&(c=this.getCachedTexture(o,n));const u={originalWidth:n.width||n.naturalWidth||0,originalHeight:n.height||n.naturalHeight||0,sourceWidth:r,sourceHeight:i,destinationWidth:r,destinationHeight:i,context:s,sourceTexture:this.createTexture(s,r,i,c?void 0:n),targetTexture:this.createTexture(s,r,i),originalTexture:c||this.createTexture(s,r,i,c?void 0:n),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},d=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,d),e.forEach(f=>{f&&f.applyTo(u)}),function(f){const h=f.targetCanvas,g=h.width,m=h.height,v=f.destinationWidth,b=f.destinationHeight;g===v&&m===b||(h.width=v,h.height=b)}(u),this.copyGLTo2D(s,u),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(u.sourceTexture),s.deleteTexture(u.targetTexture),s.deleteFramebuffer(d),l.setTransform(1,0,0,1,0,0),u}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,n,r,i,a){const{NEAREST:o,TEXTURE_2D:s,RGBA:l,UNSIGNED_BYTE:c,CLAMP_TO_EDGE:u,TEXTURE_MAG_FILTER:d,TEXTURE_MIN_FILTER:f,TEXTURE_WRAP_S:h,TEXTURE_WRAP_T:g}=e,m=e.createTexture();return e.bindTexture(s,m),e.texParameteri(s,d,a||o),e.texParameteri(s,f,a||o),e.texParameteri(s,h,u),e.texParameteri(s,g,u),i?e.texImage2D(s,0,l,l,c,i):e.texImage2D(s,0,l,n,r,0,l,c,null),m}getCachedTexture(e,n,r){const{textureCache:i}=this;if(i[e])return i[e];{const a=this.createTexture(this.gl,n.width,n.height,n,r);return a&&(i[e]=a),a}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,n){const r=e.canvas,i=n.targetCanvas,a=i.getContext("2d");if(!a)return;a.translate(0,i.height),a.scale(1,-1);const o=r.height-i.height;a.drawImage(r,0,o,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,n){const r=n.targetCanvas.getContext("2d"),i=n.destinationWidth,a=n.destinationHeight,o=i*a*4;if(!r)return;const s=new Uint8Array(this.imageBuffer,0,o),l=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,i,a,e.RGBA,e.UNSIGNED_BYTE,s);const c=new ImageData(l,i,a);r.putImageData(c,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,n={renderer:"",vendor:""};if(!e)return n;const r=e.getExtension("WEBGL_debug_renderer_info");if(r){const i=e.getParameter(r.UNMASKED_RENDERER_WEBGL),a=e.getParameter(r.UNMASKED_VENDOR_WEBGL);i&&(n.renderer=i.toLowerCase()),a&&(n.vendor=a.toLowerCase())}return this.gpuInfo=n,n}}let Xf;function yB(){const{WebGLProbe:t}=fi();return t.queryWebGL(Ni()),ut.enableGLFiltering&&t.isSupported(ut.textureSize)?new b6({tileSize:ut.textureSize}):new bB}function qf(){return!Xf&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Xf=yB()),Xf}const xB=["filters","resizeFilter","src","crossOrigin","type"],y6=["cropX","cropY"];class Gn extends On{static getDefaults(){return q(q({},super.getDefaults()),Gn.ownDefaults)}constructor(e,n){super(),X(this,"_lastScaleX",1),X(this,"_lastScaleY",1),X(this,"_filterScalingX",1),X(this,"_filterScalingY",1),this.filters=[],Object.assign(this,Gn.ownDefaults),this.setOptions(n),this.cacheKey="texture".concat(da()),this.setElement(typeof e=="string"?(this.canvas&&zr(this.canvas.getElement())||us()).getElementById(e):e,n)}getElement(){return this._element}setElement(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(r),(n=e.classList)===null||n===void 0||n.add(Gn.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const n=qf(!1);n instanceof b6&&n.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const n=this[e];n&&fi().dispose(n),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const n=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-n,-r),e.lineTo(n,-r),e.lineTo(n,r),e.lineTo(-n,r),e.lineTo(-n,-r),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=[];return this.filters.forEach(r=>{r&&n.push(r.toObject())}),q(q({},super.toObject([...y6,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],n=this._element,r=-this.width/2,i=-this.height/2;let a=[],o=[],s="",l="";if(!n)return[];if(this.hasCrop()){const c=da();a.push('<clipPath id="imageCrop_'+c+`">
`,'	<rect x="'+r+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),s=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(r-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(n.width||n.naturalWidth,'" height="').concat(n.height||n.naturalHeight,'"').concat(l).concat(s,`></image>
`)),this.stroke||this.strokeDashArray){const c=this.fill;this.fill=null,o=['	<rect x="'.concat(r,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=c}return a=this.paintFirst!==un?a.concat(o,e):a.concat(e,o),a}getSrc(e){const n=e?this._element:this._originalElement;return n?n.toDataURL?n.toDataURL():this.srcFromAttribute?n.getAttribute("src")||"":n.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:n,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Nu(e,{crossOrigin:n,signal:r}).then(i=>{n!==void 0&&this.set({crossOrigin:n}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,n=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),i=r.x,a=r.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>n&&a>n)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=a);const s=Er(o),{width:l,height:c}=o;this._element=s,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=a,qf().applyFilters([e],o,l,c,this._element),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(a=>a&&!a.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const n=this._originalElement,r=n.naturalWidth||n.width,i=n.naturalHeight||n.height;if(this._element===this._originalElement){const a=Er({width:r,height:i});this._element=a,this._filteredEl=a}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,i),this._lastScaleX=1,this._lastScaleY=1);qf().applyFilters(e,this._originalElement,r,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const n=this._element;if(!n)return;const r=this._filterScalingX,i=this._filterScalingY,a=this.width,o=this.height,s=Math.max(this.cropX,0),l=Math.max(this.cropY,0),c=n.naturalWidth||n.width,u=n.naturalHeight||n.height,d=s*r,f=l*i,h=Math.min(a*r,c-d),g=Math.min(o*i,u-f),m=-a/2,v=-o/2,b=Math.min(a,c/r-s),y=Math.min(o,u/i-l);n&&e.drawImage(n,d,f,h,g,m,v,b,y)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this.getOriginalSize();this.width=e||r.width,this.height=n||r.height}parsePreserveAspectRatioAttribute(){const e=dN(this.preserveAspectRatio||""),n=this.width,r=this.height,i={width:n,height:r};let a,o=this._element.width,s=this._element.height,l=1,c=1,u=0,d=0,f=0,h=0;return!e||e.alignX===Zn&&e.alignY===Zn?(l=n/o,c=r/s):(e.meetOrSlice==="meet"&&(l=c=Tj(this._element,i),a=(n-o*l)/2,e.alignX==="Min"&&(u=-a),e.alignX==="Max"&&(u=a),a=(r-s*c)/2,e.alignY==="Min"&&(d=-a),e.alignY==="Max"&&(d=a)),e.meetOrSlice==="slice"&&(l=c=Aj(this._element,i),a=o-n/l,e.alignX==="Mid"&&(f=a/2),e.alignX==="Max"&&(f=a),a=s-r/c,e.alignY==="Mid"&&(h=a/2),e.alignY==="Max"&&(h=a),o=n/l,s=r/c)),{width:o,height:s,scaleX:l,scaleY:c,offsetLeft:u,offsetTop:d,cropX:f,cropY:h}}static fromObject(e,n){let{filters:r,resizeFilter:i,src:a,crossOrigin:o,type:s}=e,l=Rt(e,xB);return Promise.all([Nu(a,q(q({},n),{},{crossOrigin:o})),r&&ql(r,n),i&&ql([i],n),mh(l,n)]).then(c=>{let[u,d=[],[f]=[],h={}]=c;return new this(u,q(q({},l),{},{src:a,filters:d,resizeFilter:f},h))})}static fromURL(e){let{crossOrigin:n=null,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return Nu(e,{crossOrigin:n,signal:r}).then(a=>new this(a,i))}static async fromElement(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const i=Wi(e,this.ATTRIBUTE_NAMES,r);return this.fromURL(i["xlink:href"]||i.href,n,i).catch(a=>(ua("log","Unable to parse Image",a),null))}}X(Gn,"type","Image"),X(Gn,"cacheProperties",[...Hi,...y6]),X(Gn,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),X(Gn,"CSS_CANVAS","canvas-img"),X(Gn,"ATTRIBUTE_NAMES",[..._a,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),Se.setClass(Gn),Se.setSVGClass(Gn);bh(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const _h=t=>t.webgl!==void 0,Ym="precision highp float",wB=`
    `.concat(Ym,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),_B=["type"],CB=["type"],kB=new RegExp(Ym,"g");class dn{get type(){return this.constructor.type}constructor(){let e=Rt(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_B);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return wB}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=fi();i!=="highp"&&(n=n.replace(kB,Ym.replace("highp",i)));const a=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),s=e.createProgram();if(!a||!o||!s)throw new li("Vertex, fragment shader or program creation error");if(e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new li("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(a)));if(e.shaderSource(o,n),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new li("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(s,a),e.attachShader(s,o),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw new li('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(s)));const l=this.getUniformLocations(e,s)||{};return l.uStepW=e.getUniformLocation(s,"uStepW"),l.uStepH=e.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:this.getAttributeLocations(e,s),uniformLocations:l}}getAttributeLocations(e,n){return{aPosition:e.getAttribLocation(n,"aPosition")}}getUniformLocations(e,n){const r=this.constructor.uniformLocations,i={};for(let a=0;a<r.length;a++)i[r[a]]=e.getUniformLocation(n,r[a]);return i}sendAttributeData(e,n,r){const i=n.aPosition,a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}_setupFrameBuffer(e){const n=e.context;if(e.passes>1){const r=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===r&&e.sourceHeight===i||(n.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(n,r,i)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.targetTexture,0)}else n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish()}_swapTextures(e){e.passes--,e.pass++;const n=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=n}isNeutralState(e){return!1}applyTo(e){_h(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const n=this.getCacheKey();return e.programCache[n]||(e.programCache[n]=this.createProgram(e.context)),e.programCache[n]}applyToWebGL(e){const n=e.context,r=this.retrieveShader(e);e.pass===0&&e.originalTexture?n.bindTexture(n.TEXTURE_2D,e.originalTexture):n.bindTexture(n.TEXTURE_2D,e.sourceTexture),n.useProgram(r.program),this.sendAttributeData(n,r.attributeLocations,e.aPosition),n.uniform1f(r.uniformLocations.uStepW,1/e.sourceWidth),n.uniform1f(r.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(n,r.uniformLocations),n.viewport(0,0,e.destinationWidth,e.destinationHeight),n.drawArrays(n.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,n,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,n),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,n){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:n,sourceHeight:r}=e,i=Er({width:n,height:r});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return q({type:this.type},e.reduce((n,r)=>(n[r]=this[r],n),{}))}toJSON(){return this.toObject()}static async fromObject(e,n){return new this(Rt(e,CB))}}X(dn,"type","BaseFilter"),X(dn,"uniformLocations",[]);const SB={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class ru extends dn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(SB[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:n}}=e;const r=new vt(this.color).getSource(),i=this.alpha,a=r[0]*i,o=r[1]*i,s=r[2]*i,l=1-i;for(let c=0;c<n.length;c+=4){const u=n[c],d=n[c+1],f=n[c+2];let h,g,m;switch(this.mode){case"multiply":h=u*a/255,g=d*o/255,m=f*s/255;break;case"screen":h=255-(255-u)*(255-a)/255,g=255-(255-d)*(255-o)/255,m=255-(255-f)*(255-s)/255;break;case"add":h=u+a,g=d+o,m=f+s;break;case"difference":h=Math.abs(u-a),g=Math.abs(d-o),m=Math.abs(f-s);break;case"subtract":h=u-a,g=d-o,m=f-s;break;case"darken":h=Math.min(u,a),g=Math.min(d,o),m=Math.min(f,s);break;case"lighten":h=Math.max(u,a),g=Math.max(d,o),m=Math.max(f,s);break;case"overlay":h=a<128?2*u*a/255:255-2*(255-u)*(255-a)/255,g=o<128?2*d*o/255:255-2*(255-d)*(255-o)/255,m=s<128?2*f*s/255:255-2*(255-f)*(255-s)/255;break;case"exclusion":h=a+u-2*a*u/255,g=o+d-2*o*d/255,m=s+f-2*s*f/255;break;case"tint":h=a+u*l,g=o+d*l,m=s+f*l}n[c]=h,n[c+1]=g,n[c+2]=m}}sendUniformData(e,n){const r=new vt(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(n.uColor,r)}}X(ru,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),X(ru,"type","BlendColor"),X(ru,"uniformLocations",["uColor"]),Se.setClass(ru);const EB={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},TB=["type","image"];class iu extends dn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return EB[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const n=e.context,r=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(n,r,n.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(n,n.TEXTURE1)}createTexture(e,n){return e.getCachedTexture(n.cacheKey,n.getElement())}calculateMatrix(){const e=this.image,{width:n,height:r}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/n,-e.top/r,1]}applyTo2d(e){let{imageData:{data:n,width:r,height:i},filterBackend:{resources:a}}=e;const o=this.image;a.blendImage||(a.blendImage=Ni());const s=a.blendImage,l=s.getContext("2d");s.width!==r||s.height!==i?(s.width=r,s.height=i):l.clearRect(0,0,r,i),l.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),l.drawImage(o.getElement(),0,0,r,i);const c=l.getImageData(0,0,r,i).data;for(let u=0;u<n.length;u+=4){const d=n[u],f=n[u+1],h=n[u+2],g=n[u+3],m=c[u],v=c[u+1],b=c[u+2],y=c[u+3];switch(this.mode){case"multiply":n[u]=d*m/255,n[u+1]=f*v/255,n[u+2]=h*b/255,n[u+3]=g*y/255;break;case"mask":n[u+3]=y}}}sendUniformData(e,n){const r=this.calculateMatrix();e.uniform1i(n.uImage,1),e.uniformMatrix3fv(n.uTransformMatrix,!1,r)}toObject(){return q(q({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,n){let{type:r,image:i}=e,a=Rt(e,TB);return Gn.fromObject(i,n).then(o=>new this(q(q({},a),{},{image:o})))}}X(iu,"type","BlendImage"),X(iu,"defaults",{mode:"multiply",alpha:1}),X(iu,"uniformLocations",["uTransformMatrix","uImage"]),Se.setClass(iu);class au extends dn{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){_h(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:n,width:r,height:i}}=e;this.aspectRatio=r/i,this.horizontal=!0;let a=this.getBlurValue()*r;const o=new Uint8ClampedArray(n),s=15,l=4*r;for(let c=0;c<n.length;c+=4){let u=0,d=0,f=0,h=0,g=0;const m=c-c%l,v=m+l;for(let b=-14;b<s;b++){const y=b/s,x=4*Math.floor(a*y),w=1-Math.abs(y);let _=c+x;_<m?_=m:_>v&&(_=v);const k=n[_+3]*w;u+=n[_]*k,d+=n[_+1]*k,f+=n[_+2]*k,h+=k,g+=w}o[c]=u/h,o[c+1]=d/h,o[c+2]=f/h,o[c+3]=h/g}this.horizontal=!1,a=this.getBlurValue()*i;for(let c=0;c<o.length;c+=4){let u=0,d=0,f=0,h=0,g=0;const m=c%l,v=o.length-l+m;for(let b=-14;b<s;b++){const y=b/s,x=Math.floor(a*y)*l,w=1-Math.abs(y);let _=c+x;_<m?_=m:_>v&&(_=v);const k=o[_+3]*w;u+=o[_]*k,d+=o[_+1]*k,f+=o[_+2]*k,h+=k,g+=w}n[c]=u/h,n[c+1]=d/h,n[c+2]=f/h,n[c+3]=h/g}}sendUniformData(e,n){const r=this.chooseRightDelta();e.uniform2fv(n.uDelta,r)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:n,aspectRatio:r}=this;return n?r>1&&(e=1/r):r<1&&(e=r),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}X(au,"type","Blur"),X(au,"defaults",{blur:0}),X(au,"uniformLocations",["uDelta"]),Se.setClass(au);class ou extends dn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=Math.round(255*this.brightness);for(let i=0;i<n.length;i+=4)n[i]+=r,n[i+1]+=r,n[i+2]+=r}isNeutralState(){return this.brightness===0}sendUniformData(e,n){e.uniform1f(n.uBrightness,this.brightness)}}X(ou,"type","Brightness"),X(ou,"defaults",{brightness:0}),X(ou,"uniformLocations",["uBrightness"]),Se.setClass(ou);const x6={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class $o extends dn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const n=e.imageData.data,r=this.matrix,i=this.colorsOnly;for(let a=0;a<n.length;a+=4){const o=n[a],s=n[a+1],l=n[a+2];if(n[a]=o*r[0]+s*r[1]+l*r[2]+255*r[4],n[a+1]=o*r[5]+s*r[6]+l*r[7]+255*r[9],n[a+2]=o*r[10]+s*r[11]+l*r[12]+255*r[14],!i){const c=n[a+3];n[a]+=c*r[3],n[a+1]+=c*r[8],n[a+2]+=c*r[13],n[a+3]=o*r[15]+s*r[16]+l*r[17]+c*r[18]+255*r[19]}}}sendUniformData(e,n){const r=this.matrix,i=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],a=[r[4],r[9],r[14],r[19]];e.uniformMatrix4fv(n.uColorMatrix,!1,i),e.uniform4fv(n.uConstants,a)}toObject(){return q(q({},super.toObject()),{},{matrix:[...this.matrix]})}}function io(t,e){var n;const r=(X(n=class extends $o{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),X(n,"defaults",{colorsOnly:!1,matrix:e}),n);return Se.setClass(r,t),r}X($o,"type","ColorMatrix"),X($o,"defaults",x6),X($o,"uniformLocations",["uColorMatrix","uConstants"]),Se.setClass($o);io("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);io("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);io("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);io("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);io("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);io("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);io("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class A2 extends dn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){_h(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(n=>{n.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,n){return Promise.all((e.subFilters||[]).map(r=>Se.getClass(r.type).fromObject(r,n))).then(r=>new this({subFilters:r}))}}X(A2,"type","Composed"),Se.setClass(A2);class su extends dn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:n}}=e;const r=Math.floor(255*this.contrast),i=259*(r+255)/(255*(259-r));for(let a=0;a<n.length;a+=4)n[a]=i*(n[a]-128)+128,n[a+1]=i*(n[a+1]-128)+128,n[a+2]=i*(n[a+2]-128)+128}sendUniformData(e,n){e.uniform1f(n.uContrast,this.contrast)}}X(su,"type","Contrast"),X(su,"defaults",{contrast:0}),X(su,"uniformLocations",["uContrast"]),Se.setClass(su);const AB={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class lu extends dn{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return AB[this.getCacheKey()]}applyTo2d(e){const n=e.imageData,r=n.data,i=this.matrix,a=Math.round(Math.sqrt(i.length)),o=Math.floor(a/2),s=n.width,l=n.height,c=e.ctx.createImageData(s,l),u=c.data,d=this.opaque?1:0;let f,h,g,m,v,b,y,x,w,_,k,R,A;for(k=0;k<l;k++)for(_=0;_<s;_++){for(v=4*(k*s+_),f=0,h=0,g=0,m=0,A=0;A<a;A++)for(R=0;R<a;R++)y=k+A-o,b=_+R-o,y<0||y>=l||b<0||b>=s||(x=4*(y*s+b),w=i[A*a+R],f+=r[x]*w,h+=r[x+1]*w,g+=r[x+2]*w,d||(m+=r[x+3]*w));u[v]=f,u[v+1]=h,u[v+2]=g,u[v+3]=d?r[v+3]:m}e.imageData=c}sendUniformData(e,n){e.uniform1fv(n.uMatrix,this.matrix)}toObject(){return q(q({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}X(lu,"type","Convolute"),X(lu,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),X(lu,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),Se.setClass(lu);const w6="Gamma";class cu extends dn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:n}}=e;const r=this.gamma,i=1/r[0],a=1/r[1],o=1/r[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const s=this.rgbValues;for(let l=0;l<256;l++)s.r[l]=255*Math.pow(l/255,i),s.g[l]=255*Math.pow(l/255,a),s.b[l]=255*Math.pow(l/255,o);for(let l=0;l<n.length;l+=4)n[l]=s.r[n[l]],n[l+1]=s.g[n[l+1]],n[l+2]=s.b[n[l+2]]}sendUniformData(e,n){e.uniform3fv(n.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:w6,gamma:this.gamma.concat()}}}X(cu,"type",w6),X(cu,"defaults",{gamma:[1,1,1]}),X(cu,"uniformLocations",["uGamma"]),Se.setClass(cu);const OB={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class uu extends dn{applyTo2d(e){let{imageData:{data:n}}=e;for(let r,i=0;i<n.length;i+=4){const a=n[i],o=n[i+1],s=n[i+2];switch(this.mode){case"average":r=(a+o+s)/3;break;case"lightness":r=(Math.min(a,o,s)+Math.max(a,o,s))/2;break;case"luminosity":r=.21*a+.72*o+.07*s}n[i+2]=n[i+1]=n[i]=r}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return OB[this.mode]}sendUniformData(e,n){e.uniform1i(n.uMode,1)}isNeutralState(){return!1}}X(uu,"type","Grayscale"),X(uu,"defaults",{mode:"average"}),X(uu,"uniformLocations",["uMode"]),Se.setClass(uu);const MB=q(q({},x6),{},{rotation:0});class Yf extends $o{calculateMatrix(){const e=this.rotation*Math.PI,n=Li(e),r=Ii(e),i=1/3,a=Math.sqrt(i)*r,o=1-n;this.matrix=[n+o/3,i*o-a,i*o+a,0,0,i*o+a,n+i*o,i*o-a,0,0,i*o-a,i*o+a,n+i*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}X(Yf,"type","HueRotation"),X(Yf,"defaults",MB),Se.setClass(Yf);class du extends dn{applyTo2d(e){let{imageData:{data:n}}=e;for(let r=0;r<n.length;r+=4)n[r]=255-n[r],n[r+1]=255-n[r+1],n[r+2]=255-n[r+2],this.alpha&&(n[r+3]=255-n[r+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,n){e.uniform1i(n.uInvert,Number(this.invert)),e.uniform1i(n.uAlpha,Number(this.alpha))}}X(du,"type","Invert"),X(du,"defaults",{alpha:!1,invert:!0}),X(du,"uniformLocations",["uInvert","uAlpha"]),Se.setClass(du);class hu extends dn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=this.noise;for(let i=0;i<n.length;i+=4){const a=(.5-Math.random())*r;n[i]+=a,n[i+1]+=a,n[i+2]+=a}}sendUniformData(e,n){e.uniform1f(n.uNoise,this.noise/255),e.uniform1f(n.uSeed,Math.random())}isNeutralState(){return this.noise===0}}X(hu,"type","Noise"),X(hu,"defaults",{noise:0}),X(hu,"uniformLocations",["uNoise","uSeed"]),Se.setClass(hu);class fu extends dn{applyTo2d(e){let{imageData:{data:n,width:r,height:i}}=e;for(let a=0;a<i;a+=this.blocksize)for(let o=0;o<r;o+=this.blocksize){const s=4*a*r+4*o,l=n[s],c=n[s+1],u=n[s+2],d=n[s+3];for(let f=a;f<Math.min(a+this.blocksize,i);f++)for(let h=o;h<Math.min(o+this.blocksize,r);h++){const g=4*f*r+4*h;n[g]=l,n[g+1]=c,n[g+2]=u,n[g+3]=d}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,n){e.uniform1f(n.uBlocksize,this.blocksize)}}X(fu,"type","Pixelate"),X(fu,"defaults",{blocksize:4}),X(fu,"uniformLocations",["uBlocksize"]),Se.setClass(fu);class pu extends dn{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=255*this.distance,i=new vt(this.color).getSource(),a=[i[0]-r,i[1]-r,i[2]-r],o=[i[0]+r,i[1]+r,i[2]+r];for(let s=0;s<n.length;s+=4){const l=n[s],c=n[s+1],u=n[s+2];l>a[0]&&c>a[1]&&u>a[2]&&l<o[0]&&c<o[1]&&u<o[2]&&(n[s+3]=0)}}sendUniformData(e,n){const r=new vt(this.color).getSource(),i=this.distance,a=[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1],o=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];e.uniform4fv(n.uLow,a),e.uniform4fv(n.uHigh,o)}}X(pu,"type","RemoveColor"),X(pu,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),X(pu,"uniformLocations",["uLow","uHigh"]),Se.setClass(pu);class gu extends dn{sendUniformData(e,n){e.uniform2fv(n.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(n.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),n=this.tempScale,r=this.getFilterWindow(),i=new Array(r);for(let a=1;a<=r;a++)i[a-1]=e(a*n);return i}generateShader(e){const n=new Array(e);for(let r=1;r<=e;r++)n[r-1]="".concat(r,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(n.map((r,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(r,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(r,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){_h(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return n=>{if(n>=e||n<=-e)return 0;if(n<11920929e-14&&n>-11920929e-14)return 1;const r=(n*=Math.PI)/e;return Math.sin(n)/n*Math.sin(r)/r}}applyTo2d(e){const n=e.imageData,r=this.scaleX,i=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/i;const a=n.width,o=n.height,s=Math.round(a*r),l=Math.round(o*i);let c;c=this.resizeType==="sliceHack"?this.sliceByTwo(e,a,o,s,l):this.resizeType==="hermite"?this.hermiteFastResize(e,a,o,s,l):this.resizeType==="bilinear"?this.bilinearFiltering(e,a,o,s,l):this.resizeType==="lanczos"?this.lanczosResize(e,a,o,s,l):new ImageData(s,l),e.imageData=c}sliceByTwo(e,n,r,i,a){const o=e.imageData,s=.5;let l=!1,c=!1,u=n*s,d=r*s;const f=e.filterBackend.resources;let h=0,g=0;const m=n;let v=0;f.sliceByTwo||(f.sliceByTwo=Ni());const b=f.sliceByTwo;(b.width<1.5*n||b.height<r)&&(b.width=1.5*n,b.height=r);const y=b.getContext("2d");for(y.clearRect(0,0,1.5*n,r),y.putImageData(o,0,0),i=Math.floor(i),a=Math.floor(a);!l||!c;)n=u,r=d,i<Math.floor(u*s)?u=Math.floor(u*s):(u=i,l=!0),a<Math.floor(d*s)?d=Math.floor(d*s):(d=a,c=!0),y.drawImage(b,h,g,n,r,m,v,u,d),h=m,g=v,v+=d;return y.getImageData(h,g,i,a)}lanczosResize(e,n,r,i,a){const o=e.imageData.data,s=e.ctx.createImageData(i,a),l=s.data,c=this.lanczosCreate(this.lanczosLobes),u=this.rcpScaleX,d=this.rcpScaleY,f=2/this.rcpScaleX,h=2/this.rcpScaleY,g=Math.ceil(u*this.lanczosLobes/2),m=Math.ceil(d*this.lanczosLobes/2),v={},b={x:0,y:0},y={x:0,y:0};return function x(w){let _,k,R,A,T,O,M,$,C,E,S;for(b.x=(w+.5)*u,y.x=Math.floor(b.x),_=0;_<a;_++){for(b.y=(_+.5)*d,y.y=Math.floor(b.y),T=0,O=0,M=0,$=0,C=0,k=y.x-g;k<=y.x+g;k++)if(!(k<0||k>=n)){E=Math.floor(1e3*Math.abs(k-b.x)),v[E]||(v[E]={});for(let F=y.y-m;F<=y.y+m;F++)F<0||F>=r||(S=Math.floor(1e3*Math.abs(F-b.y)),v[E][S]||(v[E][S]=c(Math.sqrt(Math.pow(E*f,2)+Math.pow(S*h,2))/1e3)),R=v[E][S],R>0&&(A=4*(F*n+k),T+=R,O+=R*o[A],M+=R*o[A+1],$+=R*o[A+2],C+=R*o[A+3]))}A=4*(_*i+w),l[A]=O/T,l[A+1]=M/T,l[A+2]=$/T,l[A+3]=C/T}return++w<i?x(w):s}(0)}bilinearFiltering(e,n,r,i,a){let o,s,l,c,u,d,f,h,g,m,v,b,y,x=0;const w=this.rcpScaleX,_=this.rcpScaleY,k=4*(n-1),R=e.imageData.data,A=e.ctx.createImageData(i,a),T=A.data;for(f=0;f<a;f++)for(h=0;h<i;h++)for(u=Math.floor(w*h),d=Math.floor(_*f),g=w*h-u,m=_*f-d,y=4*(d*n+u),v=0;v<4;v++)o=R[y+v],s=R[y+4+v],l=R[y+k+v],c=R[y+k+4+v],b=o*(1-g)*(1-m)+s*g*(1-m)+l*m*(1-g)+c*g*m,T[x++]=b;return A}hermiteFastResize(e,n,r,i,a){const o=this.rcpScaleX,s=this.rcpScaleY,l=Math.ceil(o/2),c=Math.ceil(s/2),u=e.imageData.data,d=e.ctx.createImageData(i,a),f=d.data;for(let h=0;h<a;h++)for(let g=0;g<i;g++){const m=4*(g+h*i);let v=0,b=0,y=0,x=0,w=0,_=0,k=0;const R=(h+.5)*s;for(let A=Math.floor(h*s);A<(h+1)*s;A++){const T=Math.abs(R-(A+.5))/c,O=(g+.5)*o,M=T*T;for(let $=Math.floor(g*o);$<(g+1)*o;$++){let C=Math.abs(O-($+.5))/l;const E=Math.sqrt(M+C*C);E>1&&E<-1||(v=2*E*E*E-3*E*E+1,v>0&&(C=4*($+A*n),k+=v*u[C+3],y+=v,u[C+3]<255&&(v=v*u[C+3]/250),x+=v*u[C],w+=v*u[C+1],_+=v*u[C+2],b+=v))}}f[m]=x/b,f[m+1]=w/b,f[m+2]=_/b,f[m+3]=k/y}return d}}X(gu,"type","Resize"),X(gu,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),X(gu,"uniformLocations",["uDelta","uTaps"]),Se.setClass(gu);class mu extends dn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=-this.saturation;for(let i=0;i<n.length;i+=4){const a=n[i],o=n[i+1],s=n[i+2],l=Math.max(a,o,s);n[i]+=l!==a?(l-a)*r:0,n[i+1]+=l!==o?(l-o)*r:0,n[i+2]+=l!==s?(l-s)*r:0}}sendUniformData(e,n){e.uniform1f(n.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}X(mu,"type","Saturation"),X(mu,"defaults",{saturation:0}),X(mu,"uniformLocations",["uSaturation"]),Se.setClass(mu);class vu extends dn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=-this.vibrance;for(let i=0;i<n.length;i+=4){const a=n[i],o=n[i+1],s=n[i+2],l=Math.max(a,o,s),c=(a+o+s)/3,u=2*Math.abs(l-c)/255*r;n[i]+=l!==a?(l-a)*u:0,n[i+1]+=l!==o?(l-o)*u:0,n[i+2]+=l!==s?(l-s)*u:0}}sendUniformData(e,n){e.uniform1f(n.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}X(vu,"type","Vibrance"),X(vu,"defaults",{vibrance:0}),X(vu,"uniformLocations",["uVibrance"]),Se.setClass(vu);const RB={type:"circle",name:"",icon:"i-tabler:circle",category:"basic",defaultProps:{type:"circle",left:100,top:100,width:100,height:100,angle:0,scaleX:1,scaleY:1,visible:!0,locked:!1,radius:50,fill:"#00ff00",stroke:"",strokeWidth:0,strokeDashArray:null,opacity:1,label:""},createFabricObject:t=>{const e=new ai({left:t.left,top:t.top,radius:t.radius,fill:t.fill,stroke:t.stroke||void 0,strokeWidth:t.strokeWidth,strokeDashArray:t.strokeDashArray,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY,opacity:t.opacity,visible:t.visible,selectable:!t.locked,evented:!t.locked,strokeUniform:!0,lockUniScaling:!0});return e.label=t.label,e},getPropsFromFabricObject:t=>{const e=t,n=e.scaleX||1,r=e.scaleY||1,i=Math.round((e.radius||50)*Math.max(n,r));return{type:"circle",left:Math.round(e.left||0),top:Math.round(e.top||0),width:i*2,height:i*2,angle:Math.round(e.angle||0),scaleX:1,scaleY:1,visible:e.visible!==!1,locked:!e.selectable,radius:i,fill:e.fill||"#00ff00",stroke:e.stroke||"",strokeWidth:Math.round(e.strokeWidth||0),strokeDashArray:e.strokeDashArray||null,opacity:e.opacity||1,label:e.label||""}},getToolbarControls:t=>[{key:"label",label:"",type:"text",value:t.label,options:{placeholder:""}},{key:"radius",label:"",type:"number",value:t.radius,options:{min:1,max:1e3,step:1}},{key:"fill",label:"",type:"color",value:t.fill},{key:"stroke",label:"",type:"color",value:t.stroke},{key:"strokeWidth",label:"",type:"number",value:t.strokeWidth,options:{min:0,max:50,step:1}},{key:"opacity",label:"",type:"slider",value:t.opacity,options:{min:0,max:1,step:.01}}],onPropsChange:(t,e)=>{const n=e;n.set({radius:t.radius,fill:t.fill,stroke:t.stroke||void 0,strokeWidth:t.strokeWidth,opacity:t.opacity}),n.label=t.label}},$B={type:"image",name:"",icon:"i-tabler:photo",category:"basic",defaultProps:{id:"",type:"image",left:100,top:100,width:200,height:200,angle:0,scaleX:1,scaleY:1,visible:!0,locked:!1,src:"",opacity:1},createFabricObject:t=>Gn.fromURL(t.src||"",{crossOrigin:"anonymous"}).then(e=>(e.set({left:t.left,top:t.top,width:t.width,height:t.height,angle:t.angle,opacity:t.opacity,visible:t.visible,selectable:!t.locked,evented:!t.locked}),e)),getPropsFromFabricObject:t=>{const e=t,n=(e.width||200)*(e.scaleX||1),r=(e.height||200)*(e.scaleY||1);return{type:"image",left:Math.round(e.left||0),top:Math.round(e.top||0),width:Math.round(n),height:Math.round(r),angle:Math.round(e.angle||0),scaleX:e.scaleX||1,scaleY:e.scaleY||1,visible:e.visible!==!1,locked:!e.selectable,src:e.getSrc()||"",opacity:e.opacity||1,cropX:0,cropY:0,borderRadius:0}},getToolbarControls:t=>[{key:"src",label:"",type:"image",value:t.src,options:{placeholder:""}},{key:"width",label:"",type:"number",value:t.width,options:{min:10,max:2e3,step:1}},{key:"height",label:"",type:"number",value:t.height,options:{min:10,max:2e3,step:1}},{key:"opacity",label:"",type:"slider",value:t.opacity,options:{min:0,max:1,step:.01}}],onPropsChange:(t,e)=>{const n=e;if(t.src&&t.src!==(n.getSrc()||"")){n.setSrc(t.src,{crossOrigin:"anonymous"}).then(()=>{const s=n.getElement().width,l=n.getElement().height,c=n.canvas,u=c?.width||800,d=c?.height||600,f=u/s,h=d/l,g=Math.min(f,h,1);n.set({left:t.left,top:t.top,width:s,height:l,scaleX:g,scaleY:g,angle:t.angle,opacity:t.opacity,visible:t.visible,selectable:!t.locked,evented:!t.locked}),n.setCoords(),n.canvas?.renderAll(),n.canvas?.fire("object:modified",{target:n})});return}if(!t.src){n.setSrc("").then(()=>{n.set({width:200,height:200}),n.setCoords(),n.canvas?.renderAll(),n.canvas?.fire("object:modified",{target:n})});return}const r=n.width||200,i=n.height||200,a=t.width/r,o=t.height/i;n.set({left:t.left,top:t.top,scaleX:a,scaleY:o,angle:t.angle,opacity:t.opacity,visible:t.visible,selectable:!t.locked,evented:!t.locked}),n.setCoords(),n.canvas?.renderAll(),n.canvas?.fire("object:modified",{target:n})}},FB={type:"rect",name:"",icon:"i-tabler:square",category:"basic",defaultProps:{id:"",type:"rect",left:100,top:100,width:100,height:100,angle:0,scaleX:1,scaleY:1,visible:!0,locked:!1,fill:"#ff0000",stroke:"",strokeWidth:0,strokeDashArray:null,rx:0,ry:0,opacity:1,label:""},createFabricObject:t=>{const e=new Br({left:t.left,top:t.top,width:t.width,height:t.height,fill:t.fill,stroke:t.stroke||void 0,strokeWidth:t.strokeWidth,strokeDashArray:t.strokeDashArray,rx:t.rx,ry:t.ry,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY,opacity:t.opacity,visible:t.visible,selectable:!t.locked,evented:!t.locked,strokeUniform:!0,uniformScaling:!1});return e.setControlsVisibility({mtr:!0,mt:!0,mb:!0,ml:!0,mr:!0,tl:!0,tr:!0,bl:!0,br:!0}),e.label=t.label,e},getPropsFromFabricObject:t=>{const e=t,n=e.scaleX||1,r=e.scaleY||1;return{type:"rect",left:Math.round(e.left||0),top:Math.round(e.top||0),width:Math.round((e.width||100)*n),height:Math.round((e.height||100)*r),angle:Math.round(e.angle||0),scaleX:1,scaleY:1,visible:e.visible!==!1,locked:!e.selectable,fill:e.fill||"#ff0000",stroke:e.stroke||"",strokeWidth:Math.round(e.strokeWidth||0),strokeDashArray:e.strokeDashArray||null,rx:Math.round(e.rx||0),ry:Math.round(e.ry||0),opacity:e.opacity||1,label:e.label||""}},getToolbarControls:t=>[{key:"label",label:"",type:"text",value:t.label,options:{placeholder:""}},{key:"width",label:"",type:"number",value:t.width,options:{min:1,max:2e3,step:1}},{key:"height",label:"",type:"number",value:t.height,options:{min:1,max:2e3,step:1}},{key:"fill",label:"",type:"color",value:t.fill},{key:"stroke",label:"",type:"color",value:t.stroke},{key:"strokeWidth",label:"",type:"number",value:t.strokeWidth,options:{min:0,max:50,step:1}},{key:"rx",label:"",type:"number",value:t.rx,options:{min:0,max:100,step:1}},{key:"opacity",label:"",type:"slider",value:t.opacity,options:{min:0,max:1,step:.01}}],onPropsChange:(t,e)=>{const n=e;n.set({width:t.width,height:t.height,fill:t.fill,stroke:t.stroke||void 0,strokeWidth:t.strokeWidth,rx:t.rx,ry:t.rx,opacity:t.opacity}),n.label=t.label}},PB={type:"text",name:"",icon:"i-tabler:typography",category:"basic",defaultProps:{id:"",type:"text",left:100,top:100,width:200,angle:0,scaleX:1,scaleY:1,visible:!0,locked:!1,text:"",fontSize:20,fontFamily:"Arial",fill:"#000000",textAlign:"left",fontWeight:"normal",fontStyle:"normal",underline:!1,linethrough:!1},createFabricObject:t=>{const e=new ra(t.text,{left:t.left,top:t.top,width:t.width,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY,visible:t.visible,selectable:!t.locked,evented:!t.locked,fontSize:t.fontSize,fontFamily:t.fontFamily,fill:t.fill,textAlign:t.textAlign,fontWeight:t.fontWeight,fontStyle:t.fontStyle,underline:t.underline,linethrough:t.linethrough,splitByGrapheme:!0,lockScalingY:!0,setControlsVisibility:{mt:!1,mb:!1}});let n=t.fontSize;return e.on("mousedown",()=>{n=e.fontSize||20}),e.on("scaling",()=>{const r=e.scaleX||1,i=Math.round(n*r),a=Math.max(8,Math.min(200,i));e.set({fontSize:a,scaleX:1,scaleY:1}),e.canvas?.requestRenderAll()}),e.on("mousedblclick",()=>{e.enterEditing(),e.selectAll()}),e},getPropsFromFabricObject:t=>{const e=t;return{left:Math.round(e.left||0),top:Math.round(e.top||0),width:Math.round(e.width||0),angle:Math.round(e.angle||0),scaleX:e.scaleX||1,scaleY:e.scaleY||1,visible:e.visible!==!1,locked:!e.selectable,text:e.text||"",fontSize:Math.round(e.fontSize||20),fontFamily:e.fontFamily||"Arial",fill:e.fill,textAlign:e.textAlign||"left",fontWeight:e.fontWeight||"normal",fontStyle:e.fontStyle||"normal",underline:e.underline||!1,linethrough:e.linethrough||!1}},onPropsChange:(t,e)=>{e.set({left:t.left,top:t.top,width:t.width,angle:t.angle,visible:t.visible,selectable:!t.locked,evented:!t.locked,text:t.text,fontSize:t.fontSize,fontFamily:t.fontFamily,fill:t.fill,textAlign:t.textAlign,fontWeight:t.fontWeight,fontStyle:t.fontStyle,underline:t.underline,linethrough:t.linethrough})},getToolbarControls:t=>[{key:"text",label:"",type:"text",value:t.text},{key:"fontSize",label:"",type:"number",value:t.fontSize,options:{min:8,max:200,step:1}},{key:"fontFamily",label:"",type:"select",value:t.fontFamily,options:{choices:[{label:"Arial",value:"Arial"},{label:"",value:"Microsoft YaHei"},{label:"",value:"SimSun"},{label:"",value:"SimHei"}]}},{key:"fill",label:"",type:"color",value:t.fill},{key:"textAlign",label:"",type:"select",value:t.textAlign,options:{choices:[{label:"",value:"left"},{label:"",value:"center"},{label:"",value:"right"}]}},{key:"fontWeight",label:"",type:"select",value:t.fontWeight,options:{choices:[{label:"",value:"normal"},{label:"",value:"bold"}]}},{key:"fontStyle",label:"",type:"select",value:t.fontStyle,options:{choices:[{label:"",value:"normal"},{label:"",value:"italic"}]}},{key:"underline",label:"",type:"switch",value:t.underline},{key:"linethrough",label:"",type:"switch",value:t.linethrough}]};let DB=class{elements=new Map;register(e){this.elements.set(e.type,e)}registerAll(e){e.forEach(n=>this.register(n))}get(e){return this.elements.get(e)||null}getAll(){return Array.from(this.elements.values())}getByCategory(e){return this.getAll().filter(n=>n.category===e)}getCategories(){const e=new Set(this.getAll().map(n=>n.category));return Array.from(e)}};const mc=new DB;mc.registerAll([PB,FB,RB,$B]);const _6=mc.getAll(),Co=t=>mc.get(t),LB=t=>mc.getByCategory(t),ao=Y({name:"DuxPageStatus",props:{title:String,desc:String,bordered:{type:Boolean,default:!0}},setup(t,{slots:e}){return()=>p(hr,{class:"size-full flex items-center justify-center",bordered:t.bordered},{default:()=>[p("div",{class:"flex flex-col gap-6 justify-center items-center py-10"},[p("div",{class:"w-40"},[e.default?.()]),p("div",{class:"flex flex-col items-center justify-center gap-2"},[p("div",{class:"text-lg text-default font-bold"},[t?.title]),p("div",{class:"text-muted"},[t?.desc])]),p("div",{class:"flex justify-center items-center gap-4"},[e.action?.()])])]})}});function IB(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const Km=Y({name:"DuxPage404",setup(t){const e=ha(),n=gn(),{t:r}=_e();function i(){n.push({path:e.path,query:{...e.query,t:Date.now()}})}return()=>p(ao,{title:r("pages.404.title"),desc:r("pages.404.desc")},{default:()=>p("div",null,[p(dh,null,null)]),action:()=>{let a;return p(ge,{onClick:i,renderIcon:()=>p("div",{class:"n-icon i-tabler:refresh"},null)},IB(a=r("components.button.refresh"))?a:{default:()=>[a]})}})}});Km.displayName="DuxPage404";function vs(t){const e=t?.min??!1,n=t?.showLegend??!e,r=e&&(t?.showXAxisLabel||t?.showYAxisLabel);return{grid:{left:e?"0%":"10",right:e?"0%":"10",top:e?"2%":"15%",bottom:e?"0%":"10%",containLabel:!e||r},tooltip:{show:!0},legend:{show:n,top:"0",bottom:"0"}}}function C6(t){const e=vs(t),n=t?.min??!1,r=V(()=>t?.labels?.length?t.labels:Array.isArray(t?.data)&&t.data.length>0&&typeof t.data[0]=="object"&&t.data[0]!==null&&"name"in t.data[0]?t.data.map(f=>f.name):[]),i=V(()=>{if(!t?.data?.length)return[{name:t?.name||"Series",data:[],stack:void 0}];const f=t.data[0];return typeof f=="object"&&f!==null&&"data"in f&&Array.isArray(f.data)?t.data:typeof f=="object"&&f!==null&&"name"in f&&"value"in f?[{name:t?.name||"Series",data:t.data.map(h=>h.value),stack:void 0}]:typeof f=="number"?[{name:t?.name||"Series",data:t.data,stack:void 0}]:[{name:t?.name||"Series",data:[],stack:void 0}]}),a=t?.showXAxisLabel??!n,o=t?.showYAxisLabel??!n,s=t?.showXAxisLine??!n,l=t?.showYAxisLine??!n,c=t?.showGridLine??!1,u=t?.showSplitArea??!1,d=t?.showSplitArea??!n;return{commonOption:e,xAxisData:r,seriesData:i,xAxisConfig:{axisLabel:{show:a,showMinLabel:!n,showMaxLabel:!n},axisLine:{show:s},axisTick:{show:s},splitLine:{show:c},splitArea:{show:u}},yAxisConfig:{axisLabel:{show:o,showMinLabel:!n,showMaxLabel:!n},axisLine:{show:l},axisTick:{show:l},splitLine:{show:c},splitArea:{show:d}},isMin:n}}function $g(t){const{commonOption:e,xAxisData:n,seriesData:r,xAxisConfig:i,yAxisConfig:a,isMin:o}=C6(t);return{option:V(()=>{const s=r.value.length>1&&(t?.showLegend??!o);return{...e,legend:{...e.legend,show:s},tooltip:{...e.tooltip,trigger:"axis"},xAxis:{type:t?.horizontal?"value":"category",data:t?.horizontal?void 0:n.value,...i,axisLabel:{...i.axisLabel},splitArea:{...i.splitArea,show:i.splitArea?.show??!t?.horizontal}},yAxis:{type:t?.horizontal?"category":"value",data:t?.horizontal?n.value:void 0,...a,axisLabel:{...a.axisLabel},splitNumber:o?3:void 0,splitArea:{...a.splitArea}},series:r.value.map((l,c)=>{const u=!!(t?.stack||l.stack),d=c===0,f=c===r.value.length-1;let h=o?2:4;return u&&(d&&f?h=o?2:4:d?h=[0,0,h,h]:f?h=[h,h,0,0]:h=0),{type:"bar",name:l.name,stack:t?.stack||l.stack,data:l.data,barMaxWidth:40,itemStyle:{borderRadius:h}}})}})}}function k6(t){const{commonOption:e,xAxisData:n,seriesData:r,xAxisConfig:i,yAxisConfig:a,isMin:o}=C6(t);return{option:V(()=>{const s=r.value.length>1&&(t?.showLegend??!o);return{...e,legend:{...e.legend,show:s},tooltip:{...e.tooltip,trigger:"axis"},xAxis:{type:"category",data:n.value,boundaryGap:!o,...i,axisLabel:{...i.axisLabel},splitArea:{...i.splitArea,show:i.splitArea?.show??!1}},yAxis:{type:"value",...a,axisLabel:{...a.axisLabel},splitNumber:o?3:void 0,splitArea:{...a.splitArea}},series:r.value.map(l=>({type:"line",name:l.name,stack:t?.stack||l.stack,data:l.data,smooth:t?.smooth??!1,symbol:o?"none":"circle",symbolSize:o?0:6,lineStyle:{width:2}}))}})}}function Ch(t){const e=vs(t),n=t?.min??!1,r=V(()=>t?.data?.map?.(s=>({name:s.name,value:s.value}))||[]),i=ie([]);ye(()=>t?.data,()=>{i.value=t?.data?.map?.(s=>({...s,status:!0}))||[]},{immediate:!0});const a=V(()=>i.value?.reduce((s,l)=>(s[l.name]=l.status,s),{})),o=V(()=>(t?.data?.length||0)>1&&(t?.showLegend??!n));return{commonOption:e,data:r,legendData:i,selected:a,shouldShowLegend:o,isMin:n}}function S6(t){const{commonOption:e,data:n,legendData:r,selected:i,shouldShowLegend:a,isMin:o}=Ch(t);return{option:V(()=>{const s={...e};return delete s.grid,{...s,tooltip:{...e.tooltip,trigger:"item"},legend:{...e.legend,show:a.value,selected:i.value},series:{type:"pie",top:o?"0%":"10%",radius:o?"100%":"65%",center:["50%","50%"],label:{show:!o},labelLine:{show:!o},emphasis:{scale:!o,scaleSize:o?0:10},data:n.value}}}),legendData:r}}function E6(t){const{commonOption:e,data:n,legendData:r,selected:i,shouldShowLegend:a,isMin:o}=Ch(t),s=V(()=>r.value?.reduce((l,c)=>Z8(l,Number(c.value)),0)||0);return{option:V(()=>{const l={...e};return delete l.grid,{...l,tooltip:{...e.tooltip,trigger:"item"},legend:{...e.legend,show:a.value,selected:i.value},graphic:o?[]:[{type:"text",left:"center",top:"45%",style:{text:t?.ringLabel||"Total",textAlign:"center",fontSize:14}},{type:"text",left:"center",top:"55%",style:{text:String(s.value),textAlign:"center",fontSize:16}}],series:{top:o?"0%":"10%",type:"pie",radius:o?["30%","100%"]:["40%","70%"],center:["50%","50%"],label:{show:!o},labelLine:{show:!o},emphasis:{scale:!o,scaleSize:o?0:10},data:n.value}}}),legendData:r}}function T6(t){const{commonOption:e,data:n,legendData:r,selected:i,shouldShowLegend:a,isMin:o}=Ch(t);return{option:V(()=>{const s={...e};return delete s.grid,{...s,tooltip:{...e.tooltip,trigger:"item"},legend:{...e.legend,show:a.value,selected:i.value},series:{type:"pie",top:o?"0%":"10%",radius:o?"100%":"70%",center:["50%","50%"],roseType:"area",label:{show:!o},labelLine:{show:!o},emphasis:{scale:!o,scaleSize:o?0:10},data:n.value}}}),legendData:r}}function A6(t){const{commonOption:e,data:n,legendData:r,selected:i,shouldShowLegend:a,isMin:o}=Ch(t);return{option:V(()=>{const s={...e};return delete s.grid,{...s,tooltip:{...e.tooltip,trigger:"item"},legend:{...e.legend,show:a.value,selected:i.value},series:{type:"funnel",top:o?"0%":"15%",left:o?"0%":"10%",right:o?"0%":"10%",bottom:o?"0%":"5%",label:{show:!o},data:n.value}}}),legendData:r}}function O6(t){const e=vs(t),n=t?.min??!1;return{option:V(()=>{const r={...e};delete r.grid;const i=(t?.data?.length||0)>1&&(t?.showLegend??!n);return{...r,tooltip:{...e.tooltip,trigger:"item"},legend:{...e.legend,show:i,left:"center"},radar:{indicator:t?.indicator||[],splitArea:{show:!n},center:["50%","50%"],radius:n?"100%":"50%",axisName:{color:n?"transparent":void 0}},series:[{type:"radar",data:t?.data||[],lineStyle:{width:n?1:2},areaStyle:{opacity:n?.3:.5}}]}})}}function M6(t){const e=vs(t),n=t?.min??!1;return{option:V(()=>({...e,tooltip:{...e.tooltip,trigger:"item"},visualMap:{show:!n,min:0,max:Math.max(...t?.data?.map(r=>r.value)||[100]),left:"left",top:"bottom",calculable:!0},series:[{type:"map",map:t?.mapName||"china",data:t?.data||[],label:{show:!n}}]}))}}function R6(t){const e=vs(t),n=t?.min??!1;return{option:V(()=>{const r=Array.isArray(t?.data)&&t?.data.length>0&&Array.isArray(t?.data[0]);let i;if(r){const a=t?.data,o=Array.isArray(t?.name)?t?.name:[t?.name||"TreeMap"];i=a.map((s,l)=>({name:o[l]||`TreeMap ${l+1}`,type:"treemap",data:s,label:{show:!n},itemStyle:{borderWidth:n?1:2},top:`${15+l*(60/a.length)}%`,height:`${70/a.length-5}%`,breadcrumb:{show:!1},roam:n?!1:"move",nodeClick:!n,levels:[{itemStyle:{borderWidth:0,gapWidth:n?1:2}}]}))}else i=[{name:Array.isArray(t?.name)?t?.name[0]:t?.name||"TreeMap",type:"treemap",data:t?.data||[],label:{show:!n},itemStyle:{borderWidth:n?1:2},breadcrumb:{show:!n},roam:n?!1:"move",nodeClick:!n,levels:[{itemStyle:{borderWidth:0,gapWidth:n?1:2}}]}];return{...e,legend:{...e.legend},tooltip:{...e.tooltip,trigger:"item"},grid:{...e.grid,top:r?"15%":"10%",bottom:r?"15%":"5%"},series:i}})}}function $6(t,e){switch(t){case"bar":return $g(e);case"line":return k6(e);case"pie":return S6(e);case"ring":return E6(e);case"rose":return T6(e);case"radar":return O6(e);case"map":return M6(e);case"funnel":return A6(e);case"treemap":return R6(e);default:return $g(e)}}const Zm=Y({name:"DuxChart",props:{height:{type:String,default:"50px"},min:{type:Boolean,default:!1},type:{type:String,default:"bar"},option:{type:Object,default:{}},class:{type:String,default:""}},extends:pp,setup(t){const e=V(()=>{const{min:r,height:i,option:a,...o}=t;return o}),{option:n}=$6(t.type,{min:t.min,...t.option});return()=>p(pp,kt({style:{minHeight:t.height}},e.value,{option:n.value,autoresize:!0,theme:"default",initOptions:{renderer:"svg"}}),null)}}),F6=Y({name:"DuxCodeEditor",props:{defaultValue:{type:String,default:""},value:{type:String,default:""},lang:{type:String,default:"json"},readonly:Boolean},setup(t,{emit:e}){const n=Be(t,"value",e,{passive:!0,defaultValue:t.defaultValue||""}),r=va();return()=>p("div",{class:"border border-muted"},[p(PC,{readonly:t.readonly,theme:r.isDark.value?"tomorrow_night":"tomorrow",value:n.value,"onUpdate:value":i=>n.value=i,lang:t.lang||"json",class:"h-60"},null)])}}),Jm=Y({name:"DuxModal",props:{title:{type:String},component:{type:[Function,Object]},componentProps:Object,width:{type:[Number,String],default:500},modalProps:{type:Object},draggable:{type:Boolean,default:!0}},setup(t){const{visible:e,resolve:n,reject:r,vanish:i}=Wd({duration:1e3}),a=t?.componentProps||{};a.title=t.title,a.onConfirm=n,a.onClose=r;const o=typeof t.component=="function"?Lg(t.component):t.component;return()=>p(Dd,kt({displayDirective:"show",show:e.value,onAfterLeave:()=>{i()},onClose:()=>{r()},onEsc:()=>{r()},draggable:t.draggable,class:"bg-white rounded dark:shadow-gray-950/80  dark:bg-gray-800/60 backdrop-blur",role:"dialog","aria-modal":"true"},t.modalProps,{autoFocus:!1}),{default:({draggableClass:s})=>p("div",{class:["max-w-full shadow-lg"],style:{width:typeof t.width=="number"?`${t.width}px`:t.width}},[p(Vy,null,{default:()=>p(o,kt(a,{title:t.title,handle:s}),null),fallback:()=>p(pa,{show:!0},{default:()=>[p("div",{class:"h-100"},null)]})})])})}});function fr(){const t=Vd(Jm);return{show:e=>t(e)}}const P6=Y({name:"DuxImageCrop",props:{defaultValue:{type:String,default:""},value:{type:String,default:""},path:{type:String,default:""},circle:{type:Boolean,default:!0}},setup(t,{emit:e}){const{t:n}=_e(),r=Be(t,"value",e,{passive:!0,defaultValue:t.defaultValue||""}),{config:i}=lt(),a=fr(),o=_n(),s=no({path:t.path||i.apiPath?.upload||"upload",params:{mime:"image/png"},autoUpload:!0,onSuccess:l=>{r.value=l.data?.url,o.success(n("components.upload.success"))},onError:l=>{o.error(l.message||n("components.upload.failed"))}});return()=>p("div",{class:["relative size-80px overflow-hidden group",t.circle&&"rounded-full"],onClick:()=>{a.show({component:()=>Mn(()=>Promise.resolve().then(()=>NB),void 0).then(l=>l.DuxImageCropModal),componentProps:{value:r.value,onConfirm:l=>{r.value=l}}})?.then?.(l=>{l&&(l.name="image.png",l.mime="image/png",s.addFiles([l],"blob"))}).catch(()=>{})}},[p(qo,{src:r.value,circle:t.circle,size:80},null),p("div",{class:"absolute size-full bg-gray-900/30 items-center justify-center inset-0 cursor-pointer hidden z-1 group-hover:flex"},[p("div",{class:"i-tabler:pencil size-4 text-white/90"},null)])])}}),bs=Y({name:"DuxModalPage",props:{title:{type:String,default:""},draggable:{type:Boolean,default:!1},handle:{type:String},onClose:{type:Function,default:()=>{}}},setup(t,{slots:e}){const n=ie();return ye(n,r=>{r&&An(()=>{r.$el?.focus?.()})}),()=>p("div",{class:"flex flex-col"},[p("div",{class:["px-4 py-3 border-b border-muted rounded-t flex justify-between items-center  bg-white dark:bg-gray-800/50",t.draggable&&"cursor-move",t.handle]},[p("div",{class:"text-base font-bold"},[t.title]),p("div",{class:"flex justify-end gap-2"},[p(ge,{text:!0,onClick:t.onClose,"aria-label":"close",ref:n},{icon:()=>p("div",{class:"i-tabler:x"},null)})])]),p("div",{class:"p-4"},[e.default?.()]),e.footer?.()&&p("div",{class:"flex justify-end gap-2 p-3 rounded-b border-t border-muted bg-muted dark:bg-gray-800/50"},[e.footer?.()])])}});function O2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const Qm=Y({props:{value:String,onConfirm:Function},setup(t){const{t:e}=_e(),n=ie(),r=ie(t.value||""),{open:i,files:a}=Ng({accept:"image/*"});ye(a,s=>{if(s&&s.length>0){const l=s[0],c=new Blob([l],{type:l.type});r.value=URL.createObjectURL(c)}});const o=()=>{i()};return()=>p(bs,{title:e("components.crop.title")},{default:()=>p("div",{class:"h-100"},[p(MT,{ref:n,img:r.value,autoCrop:!0,centerBox:!0,canMove:!1,fixed:!0,outputType:"png",mode:"contain"},null)]),footer:()=>{let s,l;return p("div",{class:"flex-1 flex justify-between items-center"},[p("div",{class:"flex items-center gap-2"},[p(ge,{type:"primary",secondary:!0,onClick:()=>{o()}},O2(s=e("components.crop.select"))?s:{default:()=>[s]}),p(ge,{secondary:!0,onClick:()=>{n.value.changeScale(1)}},{default:()=>[p("div",{class:"i-tabler:zoom-in"},null)]}),p(ge,{secondary:!0,onClick:()=>{n.value.changeScale(-1)}},{default:()=>[p("div",{class:"i-tabler:zoom-out"},null)]}),p(ge,{secondary:!0,onClick:()=>{n.value.rotateLeft()}},{default:()=>[p("div",{class:"i-tabler:rotate"},null)]}),p(ge,{secondary:!0,onClick:()=>{n.value.rotateRight()}},{default:()=>[p("div",{class:"i-tabler:rotate-clockwise"},null)]})]),p(ge,{type:"primary",onClick:()=>{n.value.getCropBlob(c=>{t.onConfirm?.(c)})}},O2(l=e("components.crop.confirm"))?l:{default:()=>[l]})])}})}}),NB=Object.freeze(Object.defineProperty({__proto__:null,DuxImageCropModal:Qm},Symbol.toStringTag,{value:"Module"})),D6=Y({name:"DuxDashboardHello",props:{title:String,desc:String,data:Array},setup(t){return()=>p("div",{class:"rounded p-6 py-5 flex flex-col md:flex-row gap-4 items-center justify-between bg-primary text-sm text-white overflow-hidden relative border border-primary-6"},[p("div",{class:"flex flex-1 flex-col gap-1 text-center md:text-left"},[p("div",{class:"text-lg"},[t.title]),p("div",{class:"opacity-70"},[t.desc])]),p("div",{class:"flex justify-end divide-x divide-white/20"},[t.data?.map((e,n)=>p("div",{key:n,class:"flex flex-col justify-center items-center px-4"},[p("div",null,[e.label]),p("div",{class:"text-lg font-bold",onClick:e?.onClick},[e.value||0])]))]),p("div",{class:"absolute top-7 -right-20 rounded-full size-40 bg-white/8"},null),p("div",{class:"absolute top-0 -right-20 rounded-full size-50 bg-white/8"},null),p("div",{class:"absolute -top-7 -right-18 rounded-full size-60 bg-white/8"},null)])}}),L6=Y({name:"DuxDashboardHelloBig",props:{title:String,desc:String,data:Array},setup(t){const e=ie(t.desc);return Tr(()=>{t.desc||RT(n=>{e.value=n.data.content})}),()=>p(hr,null,{default:()=>[p("div",{class:"transition-all flex justify-between items-center overflow-hidden"},[p("div",{class:"flex flex-col gap-2 md:gap-4 p-6 md:p-10"},[p("div",{class:"text-xl font-bold"},[t.title]),p("div",{class:"text-muted text-sm"},[e.value]),p("div",{class:"flex gap-4 text-sm text-muted flex-warp whitespace-nowrap"},[t.data?.map((n,r)=>p("div",{class:"flex gap-1 items-center",key:r},[p("div",{class:xt(["text-primary",n.color?`text-${n.color}`:"text-primary",n.icon])},null),p("div",null,[n.label]),p("div",null,[Dt("("),n.value||"0",Dt(")")])]))])]),p("div",{class:"pt-6 items-end hidden md:flex"},[p("svg",{class:"w-70 h-40",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",width:"751.15479",height:"558.14695",viewBox:"0 0 751.15479 558.14695"},[p("path",{d:"M865.65741,724.88374c7.97-18.67,13.59-38.99,10.93-59.1a65.244,65.244,0,0,0-5.88-19.65,59.55844,59.55844,0,0,0-9.22-13.93,8.35,8.35,0,0,0-10.57-1.7c-.26.15-.52.31-.76.48a8.751,8.751,0,0,0-2.97,3.63,6.28289,6.28289,0,0,0-.31.86005,8.93814,8.93814,0,0,0-.29,3.79,95.57036,95.57036,0,0,1-.9,31.11q-.765,3.915-1.87,7.76a77.51261,77.51261,0,0,0-5.27-5.93,65.32224,65.32224,0,0,0-16.45-12.12h-.01c-.03-.02-.05-.03-.08-.05-7.38-3.76-17.22-2.2-22.97.36-.38.16-.74.34-1.09.51-3,1.54-4.49,3.31-3.21,4.47.29.25.58.51.85.77a95.69757,95.69757,0,0,1,21.06,28.34v.01a93.30453,93.30453,0,0,1,5.21,13.16c1.93,6.23,3.53,13.14,7.3,18.22a16.379,16.379,0,0,0,1.25,1.53l33.68-.27c.08-.04.15-.07.23-.11l1.34.05c-.05-.24-.11005-.48-.17-.72v-.02c-.03-.13-.07-.27-.1-.39-.03-.1-.05-.19-.07-.27.06-.15.12-.29.19-.44C865.55737,725.11372,865.60742,725.00374,865.65741,724.88374Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),p("path",{d:"M865.48737,726.33375a.44053.44053,0,0,1-.69.3,18.26524,18.26524,0,0,0-4.51-2.39c-.01-.01-.01,0-.01,0a37.984,37.984,0,0,0-6.24-1.66c-.02,0-.03-.01-.05-.01-.86-.17-1.72-.32-2.58-.48-4.18-.77-8.43-1.7-12.05-4.08a12.2766,12.2766,0,0,1-5.63-8.33c-.53-3.35.13995-6.72.42-10.06.02-.24.04-.49.05-.73.02-.31.03-.61.03-.91a19.40059,19.40059,0,0,0-1.78-8.8,34.90484,34.90484,0,0,0-6.36-8.94q-1.995-2.145-4.16-4.13h-.01c-.06-.06-.11005-.11-.17-.16,0-.01-.01-.02-.02-.03a81.07415,81.07415,0,0,0-20.75-13.7c-.27-.12006-.55005-.25-.83-.37006-.73-.32995-1.46-.63995-2.2-.94995.35-.17.71-.35,1.09-.51a82.98906,82.98906,0,0,1,23.09,14.66c.23.2.46.41.68.62q2.59506,2.40006,4.94,5.03a32.50591,32.50591,0,0,1,5.99,9.16,20.41207,20.41207,0,0,1,1.39,8.58c-.02.56-.06,1.12-.11,1.69-.31,3.37-1,6.85-.23,10.22.88,3.84,3.86,6.52,7.32,8.16a31.63562,31.63562,0,0,0,7.16,2.22c5.1,1.07,10.37,1.59,14.83,4.33h.01c.06995.05.14.09.19995.13.01,0,.01,0,.01.01a9.48583,9.48583,0,0,1,.93.63c.02.01.04.03.06.04a.57133.57133,0,0,1,.08.07A.44417.44417,0,0,1,865.48737,726.33375Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("path",{d:"M822.54456,676.01669a12.20505,12.20505,0,0,0-.4048-15.79909c-.39207-.43523-1.08681.15359-.69422.58939a11.30162,11.30162,0,0,1,.34651,14.69723c-.3699.45429.38472.96417.75251.51247Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("path",{d:"M834.51715,697.953a23.52427,23.52427,0,0,1-16.57968-4.36164c-.47343-.34593-.98534.407-.51248.75251a24.46876,24.46876,0,0,0,17.26189,4.50361c.58286-.06946.41-.96357-.16973-.89448Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("path",{d:"M801.03741,662.11372c-.02.04-.04.07-.06.11005a7.76357,7.76357,0,0,1-5.39,3.92c-.27-.26-.56-.52-.85-.77a.33369.33369,0,0,1,.15-.05,6.90857,6.90857,0,0,0,5.26-3.47c.05-.07995.1-.17.14-.25a.45106.45106,0,0,1,.63-.12A.46977.46977,0,0,1,801.03741,662.11372Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("path",{d:"M297.68366,176.36968a67.89449,67.89449,0,0,0-67.8179,67.8179V504.08739a67.8945,67.8945,0,0,0,67.8179,67.8179H902.31634a67.8945,67.8945,0,0,0,67.8179-67.8179V244.18758a67.89449,67.89449,0,0,0-67.8179-67.8179Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))",style:"isolation:isolate"},null),p("path",{d:"M902.31634,577.34844H297.68366a73.3436,73.3436,0,0,1-73.261-73.261V244.18758a73.3436,73.3436,0,0,1,73.261-73.261H902.31634a73.3436,73.3436,0,0,1,73.26105,73.261V504.08739A73.3436,73.3436,0,0,1,902.31634,577.34844ZM297.68366,181.81283a62.44539,62.44539,0,0,0-62.37475,62.37475V504.08739a62.44539,62.44539,0,0,0,62.37475,62.37475H902.31634a62.44539,62.44539,0,0,0,62.37475-62.37475V244.18758a62.44539,62.44539,0,0,0-62.37475-62.37475Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))",style:"isolation:isolate"},null),p("path",{d:"M601.62347,230.17926H314.08a23.19146,23.19146,0,0,0-23.15155,23.15155v129.6921a21.81835,21.81835,0,0,0,.38106,4.10053c.09069.61682.23588,1.2156.38095,1.81438A23.22593,23.22593,0,0,0,314.08,406.17446H601.62347c.47175,0,.94351-.01816,1.39711-.05448h.32657v-.01816a1.38119,1.38119,0,0,0,.2722-.018c.0907,0,.19956-.01816.29026-.01816a.16309.16309,0,0,0,.09069-.01817c.19956-.01816.39923-.03632.58062-.05448.32658-.05438.65315-.0907.96168-.14507a.308.308,0,0,1,.12691-.01816.35874.35874,0,0,1,.1815-.03633.0666.0666,0,0,1,.05437-.01816c.19967-.03621.39923-.07253.59878-.127a2.0948,2.0948,0,0,0,.32658-.07253c.39922-.0907.79833-.1814,1.17939-.30842.1814-.05448.34474-.0907.52613-.14518.23588-.07254.48992-.16334.7258-.254a2.86042,2.86042,0,0,0,.3629-.127.09422.09422,0,0,0,.07253-.03621,16.2231,16.2231,0,0,0,1.54219-.6351c.43554-.19956.85281-.41728,1.27009-.635.16334-.07254.30841-.16335.47175-.254a.38141.38141,0,0,0,.10886-.07254c.41728-.254.83466-.50808,1.23377-.744.01816-.01805.01816-.03621.03632-.03621a.01779.01779,0,0,0,.01817-.01816,13.87442,13.87442,0,0,0,1.23376-.87087h.01816c.10886-.09081.19956-.16334.29026-.23588.127-.09081.254-.19967.3629-.29036.21771-.1814.43543-.3629.635-.5443a2.78525,2.78525,0,0,0,.34473-.30841c.30853-.2722.59878-.56245.889-.85282a5.1333,5.1333,0,0,0,.43555-.47176,7.52669,7.52669,0,0,0,.635-.68947c.18139-.23577.38106-.47165.56245-.70753a8.12348,8.12348,0,0,0,.59878-.78017c.32658-.43554.61683-.871.90719-1.34273.23588-.381.47176-.78018.68948-1.17929.10886-.19955.21771-.41738.32657-.6351.01816,0,.01816-.01805.01816-.03621.19956-.38106.38095-.76212.5443-1.16123.07253-.16335.14518-.30842.19955-.47176.14518-.30841.254-.635.38106-.96156.19956-.59878.39911-1.21572.56246-1.83255.14507-.59878.29025-1.19756.38095-1.81438a21.81835,21.81835,0,0,0,.38106-4.10053V253.33081A23.19146,23.19146,0,0,0,601.62347,230.17926Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-primary))"},null),p("rect",{x:"66.50584",y:"96.4476",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),p("rect",{x:"66.50584",y:"116.40582",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),p("rect",{x:"66.50584",y:"136.36403",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),p("rect",{x:"66.50584",y:"156.32225",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),p("rect",{x:"66.50584",y:"176.28047",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),p("rect",{x:"66.50584",y:"196.23869",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),p("path",{d:"M624.394,387.12344c-.0907.61682-.23588,1.2156-.38095,1.81438H291.18249a14.99887,14.99887,0,0,1-.21772-1.81438Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),p("g",{opacity:"0.1"},[p("path",{d:"M624.775,354.93629v28.08662a21.81835,21.81835,0,0,1-.38106,4.10053c-.0907.61682-.23588,1.2156-.38095,1.81438-.16335.61683-.3629,1.23377-.56246,1.83255-.127.32657-.23588.65315-.38106.96156-.05437.16334-.127.30841-.19955.47176-.16335.39911-.34474.78017-.5443,1.16123,0,.01816,0,.03621-.01816.03621-.10886.21772-.21771.43555-.32657.6351-.21772.39911-.4536.79834-.68948,1.17929-.29036.47175-.58061.90719-.90719,1.34273a8.12348,8.12348,0,0,1-.59878.78017c-.18139.23588-.38106.47176-.56245.70753a7.52669,7.52669,0,0,1-.635.68947,5.1333,5.1333,0,0,1-.43555.47176c-.29025.29037-.5805.58062-.889.85282a2.78525,2.78525,0,0,1-.34473.30841c-.19956.1814-.41728.3629-.635.5443-.10886.09069-.23588.19955-.3629.29036-.0907.07254-.1814.14507-.29026.23588h-.01816a13.87442,13.87442,0,0,1-1.23376.87087.01779.01779,0,0,1-.01817.01816c-.01816,0-.01816.01816-.03632.03621-.254.18151-.52613.34474-.79833.50808-.14518.0907-.29026.16323-.43544.23588a.38141.38141,0,0,1-.10886.07254c-.16334.09069-.30841.1815-.47175.254-.41728.21771-.83455.43543-1.27009.635a16.2231,16.2231,0,0,1-1.54219.6351.09422.09422,0,0,1-.07253.03621,2.86042,2.86042,0,0,1-.3629.127c-.23588.0907-.48992.1815-.7258.254-.18139.05448-.34473.0907-.52613.14518-.38106.127-.78017.21772-1.17939.30842a2.0948,2.0948,0,0,1-.32658.07253c-.19955.05449-.39911.09081-.59878.127a.0666.0666,0,0,0-.05437.01816.35874.35874,0,0,0-.1815.03633.308.308,0,0,0-.12691.01816c-.30853.05437-.6351.09069-.96168.14507-.18139.01816-.38106.03632-.58062.05448a.16309.16309,0,0,1-.09069.01817c-.19956.01816-.38106.03621-.56246.05437h-.03632c-.19956.01816-.39911.01816-.59867.03632-.3629.01816-.7258.01816-1.08869.01816H314.08a23.22593,23.22593,0,0,1-22.38954-17.23664h-.508a14.99887,14.99887,0,0,1-.21772-1.81438c-.01816-.34474-.03632-.70764-.03632-1.05238V354.42821a43.14762,43.14762,0,0,1,11.231,1.83254c9.87026,3.01183,19.4683,8.11025,29.774,8.11025.81649,0,1.66931-.03622,2.50386-.10886,10.85009-.90719,19.2869-7.63849,26.30856-15.24076.56245-.59878,1.12491-1.19755,1.65115-1.81438,1.32446-1.46965,2.59456-2.97562,3.82832-4.46342A97.67852,97.67852,0,0,1,379.416,329.06316c.78017-.6351,1.56034-1.23376,2.35867-1.81438a33.5112,33.5112,0,0,1,16.00288-6.40483c.74385-.07253,1.48781-.127,2.23166-.14507,7.76561-.23588,15.05936,2.55823,21.70006,6.5499.96157.58062,1.92324,1.17928,2.8486,1.81438a108.35117,108.35117,0,0,1,9.16261,6.949A175.16547,175.16547,0,0,0,447.87262,347.207c.3629.254.7258.508,1.08859.72569.56245.38106,1.14307.744,1.72368,1.08869a41.9322,41.9322,0,0,0,16.4021,6.187c.19956.03632.41728.07265.635.0907,9.453,1.10686,18.2527-1.68737,26.2904-6.2777.99789-.58061,2.01394-1.17939,2.99378-1.81438a123.97436,123.97436,0,0,0,17.58138-14.15217c1.41516-1.32458,2.8486-2.6672,4.33629-3.99167.67143-.59877,1.34274-1.21571,2.03221-1.81438,10.77734-9.47114,23.20593-18.14384,37.88423-18.14384.61694,0,1.25193.01817,1.887.05438,10.55973.50808,19.8312,5.62465,27.61486,12.12007a84.69952,84.69952,0,0,1,6.47737,5.96939c.09069.0907.16334.16323.254.254.508.508,1.016,1.0341,1.48781,1.56034,5.80605,6.07814,11.15839,12.57367,17.47252,18.14384.68947.635,1.397,1.23377,2.1228,1.81438a59.24951,59.24951,0,0,0,6.89463,4.93507C623.61379,354.30119,624.1944,354.62777,624.775,354.93629Z",transform:"translate(-224.42261 -170.92653)"},null)]),p("g",{opacity:"0.1"},[p("path",{d:"M624.775,327.52087v55.502a21.81835,21.81835,0,0,1-.38106,4.10053c-.0907.61682-.23588,1.2156-.38095,1.81438-.16335.61683-.3629,1.23377-.56246,1.83255-.127.32657-.23588.65315-.38106.96156-.05437.16334-.127.30841-.19955.47176-.16335.39911-.34474.78017-.5443,1.16123,0,.01816,0,.03621-.01816.03621-.10886.21772-.21771.43555-.32657.6351-.21772.39911-.4536.79834-.68948,1.17929-.29036.47175-.58061.90719-.90719,1.34273a8.12348,8.12348,0,0,1-.59878.78017c-.18139.23588-.38106.47176-.56245.70753a7.52669,7.52669,0,0,1-.635.68947,5.1333,5.1333,0,0,1-.43555.47176c-.29025.29037-.5805.58062-.889.85282a2.78525,2.78525,0,0,1-.34473.30841c-.19956.1814-.41728.3629-.635.5443-.10886.09069-.23588.19955-.3629.29036-.0907.07254-.1814.14507-.29026.23588h-.01816a13.87442,13.87442,0,0,1-1.23376.87087.01779.01779,0,0,1-.01817.01816c-.01816,0-.01816.01816-.03632.03621-.254.18151-.52613.34474-.79833.50808-.14518.0907-.29026.16323-.43544.23588a.38141.38141,0,0,1-.10886.07254c-.16334.09069-.30841.1815-.47175.254-.41728.21771-.83455.43543-1.27009.635a16.2231,16.2231,0,0,1-1.54219.6351.09422.09422,0,0,1-.07253.03621,2.86042,2.86042,0,0,1-.3629.127c-.23588.0907-.48992.1815-.7258.254-.18139.05448-.34473.0907-.52613.14518-.38106.127-.78017.21772-1.17939.30842a2.0948,2.0948,0,0,1-.32658.07253c-.19955.05449-.39911.09081-.59878.127a.0666.0666,0,0,0-.05437.01816.35874.35874,0,0,0-.1815.03633.308.308,0,0,0-.12691.01816c-.30853.05437-.6351.09069-.96168.14507-.18139.01816-.38106.03632-.58062.05448a.16309.16309,0,0,1-.09069.01817c-.0907,0-.19956.01816-.29026.01816a1.38119,1.38119,0,0,1-.2722.018.95767.95767,0,0,1-.23588.01816h-.09069c-.0907.01816-.19956.01816-.30842.03632-.3629.01816-.7258.01816-1.08869.01816H314.08a23.22593,23.22593,0,0,1-22.38954-17.23664c-.14507-.59878-.29026-1.19756-.38095-1.81438a21.81835,21.81835,0,0,1-.38106-4.10053V350.70875c.635-.5443,1.25193-1.10675,1.86886-1.68737.635-.59878,1.25182-1.19755,1.86876-1.81438a139.23351,139.23351,0,0,0,14.71463-18.14384c.14518-.19955.29036-.38106.41738-.58061.29025-.41728.5805-.8165.889-1.23377a142.58682,142.58682,0,0,1,14.71462-18.14384c.61694-.61693,1.23377-1.21571,1.86887-1.81438,6.74946-6.35034,14.44242-11.08586,23.51434-12.21088,12.50113-1.56034,24.13128,4.22755,34.41891,12.21088.762.59867,1.50586,1.19745,2.24982,1.81438,3.51991,2.86665,6.85831,5.98745,10.01532,9.09008.83466.83455,1.68748,1.66921,2.54019,2.50386,2.19544,2.19533,4.44526,4.39078,6.71324,6.5499.65315.61683,1.28825,1.21561,1.9414,1.81438,9.07192,8.40061,18.88768,15.78516,30.55416,18.14384.79833.16323,1.61483.30841,2.43132.41727a40.6162,40.6162,0,0,0,13.245-.41727c.7258-.127,1.43332-.29036,2.15912-.47176,10.92262-2.70341,21.0468-9.50735,30.20953-17.67208.65315-.59877,1.32446-1.19755,1.97761-1.81438,4.68115-4.3364,9.12641-8.98122,13.28131-13.5535,1.37894-1.524,2.79411-3.06632,4.20938-4.59034.58061-.59877,1.14307-1.19755,1.70552-1.81438a153.33059,153.33059,0,0,1,19.84936-18.14383c.85271-.63511,1.70553-1.23377,2.55824-1.81439,9.59816-6.5499,20.08524-10.75928,31.60664-10.088,9.50735.5443,18.19821,4.46332,26.0182,10.088.79833.58062,1.59666,1.17928,2.395,1.81439a108.69841,108.69841,0,0,1,16.20244,16.09357c.56245.67131,1.12491,1.36079,1.68736,2.05026.29036.34474.56245.70764.85282,1.05226l.59866.76212c4.80817,6.00561,9.43482,12.24709,14.35184,18.14384Z",transform:"translate(-224.42261 -170.92653)"},null)]),p("g",{opacity:"0.1"},[p("path",{d:"M624.775,304.6052v78.41771a21.81835,21.81835,0,0,1-.38106,4.10053c-.0907.61682-.23588,1.2156-.38095,1.81438-.16335.61683-.3629,1.23377-.56246,1.83255-.127.32657-.23588.65315-.38106.96156-.05437.16334-.127.30841-.19955.47176-.16335.39911-.34474.78017-.5443,1.16123,0,.01816,0,.03621-.01816.03621-.10886.21772-.21771.43555-.32657.6351-.21772.39911-.4536.79834-.68948,1.17929-.29036.47175-.58061.90719-.90719,1.34273a8.12348,8.12348,0,0,1-.59878.78017c-.18139.23588-.38106.47176-.56245.70753a7.52669,7.52669,0,0,1-.635.68947,5.1333,5.1333,0,0,1-.43555.47176c-.29025.29037-.5805.58062-.889.85282a2.78525,2.78525,0,0,1-.34473.30841c-.19956.1814-.41728.3629-.635.5443-.10886.09069-.23588.19955-.3629.29036-.0907.07254-.1814.14507-.29026.23588h-.01816a13.87442,13.87442,0,0,1-1.23376.87087.01779.01779,0,0,1-.01817.01816c-.01816,0-.01816.01816-.03632.03621-.254.18151-.52613.34474-.79833.50808-.14518.0907-.29026.16323-.43544.23588a.38141.38141,0,0,1-.10886.07254c-.16334.09069-.30841.1815-.47175.254-.41728.21771-.83455.43543-1.27009.635a16.2231,16.2231,0,0,1-1.54219.6351.09422.09422,0,0,1-.07253.03621,2.86042,2.86042,0,0,1-.3629.127c-.23588.0907-.48992.1815-.7258.254-.18139.05448-.34473.0907-.52613.14518-.38106.127-.78017.21772-1.17939.30842a2.0948,2.0948,0,0,1-.32658.07253c-.19955.05449-.39911.09081-.59878.127a.0666.0666,0,0,0-.05437.01816.35874.35874,0,0,0-.1815.03633.308.308,0,0,0-.12691.01816c-.30853.05437-.6351.09069-.96168.14507-.18139.01816-.38106.03632-.58062.05448a.16309.16309,0,0,1-.09069.01817c-.0907,0-.19956.01816-.29026.01816a1.38119,1.38119,0,0,1-.2722.018.0634.0634,0,0,1-.03632.01816h-.29025c-.4536.03632-.92536.05448-1.39711.05448H314.08a23.22593,23.22593,0,0,1-22.38954-17.23664c-.14507-.59878-.29026-1.19756-.38095-1.81438a21.81835,21.81835,0,0,1-.38106-4.10053V336.17552q2.74881-3.56526,5.51568-7.11236c.47176-.61694.94352-1.21571,1.41527-1.81438,2.4857-3.19333,4.98956-6.35034,7.56595-9.43482,2.46754-2.95745,5.0622-5.87858,7.76562-8.709.58061-.59877,1.16112-1.21571,1.7599-1.81438a100.85065,100.85065,0,0,1,23.46-18.14383c1.1794-.65316,2.37684-1.25193,3.59256-1.81439a56.0621,56.0621,0,0,1,20.52067-5.35245,56.98994,56.98994,0,0,1,27.1069,5.35245c1.27.54429,2.5219,1.16123,3.75567,1.81439,8.87236,4.57217,17.20043,10.977,25.00226,18.14383.67131.58062,1.3063,1.19745,1.95957,1.81438,6.187,5.80605,12.04742,12.02938,17.63575,18.14384.41738.4536.83466.92535,1.25193,1.37895.127.14507.2722.29025.39922.43543,5.44315,5.98745,11.24909,12.04754,17.418,17.67208.16334.16323.34474.30842.52613.47176.67131.61683,1.34274,1.2156,2.0321,1.81438,2.43132,2.15912,4.93518,4.22744,7.47536,6.187a97.28013,97.28013,0,0,0,19.54084,11.95684c1.46964.67131,2.95745,1.27009,4.46342,1.81438a53.6583,53.6583,0,0,0,26.05452,3.08448,51.91031,51.91031,0,0,0,11.81166-3.08448c1.45148-.54429,2.86675-1.16123,4.26375-1.81438,9.19894-4.35457,17.50885-10.94079,25.38332-18.14384.65315-.59878,1.30631-1.19755,1.95946-1.81438,4.48158-4.20938,8.836-8.58211,13.13612-12.80954,1.81438-1.77818,3.66509-3.5744,5.57017-5.3343.65326-.59877,1.32457-1.19755,1.99589-1.81438,2.28614-2.05026,4.64481-4.0642,7.076-5.96939a90.8935,90.8935,0,0,1,19.45025-12.17445c.59867-.2722,1.21561-.52624,1.81439-.76212.92535-.381,1.85059-.72568,2.77595-1.05226A48.65691,48.65691,0,0,1,624.775,304.6052Z",transform:"translate(-224.42261 -170.92653)"},null)]),p("circle",{cx:"138.17399",cy:"116.40582",r:"5.44315",fill:"rgba(var(--ui-color-gray-100))"},null),p("circle",{cx:"221.63563",cy:"176.28047",r:"5.44315",fill:"rgba(var(--ui-color-gray-100))"},null),p("circle",{cx:"334.12741",cy:"136.36403",r:"5.44315",fill:"rgba(var(--ui-color-gray-100))"},null),p("path",{d:"M806.14077,353.73233H677.79307a4.63111,4.63111,0,1,0,0,9.26221h128.3477a4.6311,4.6311,0,1,0,0-9.26221Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),p("path",{d:"M806.14077,423.86046H677.79307a4.6311,4.6311,0,1,0,0,9.26221h128.3477a4.6311,4.6311,0,1,0,0-9.26221Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),p("path",{d:"M806.14077,493.98859H677.79307a4.6311,4.6311,0,1,0,0,9.2622h128.3477a4.6311,4.6311,0,1,0,0-9.2622Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),p("circle",{cx:"659.48782",cy:"187.78333",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),p("path",{d:"M882.33268,364.72906a1.2861,1.2861,0,0,1-1.02908-.5147l-3.15519-4.207a1.28645,1.28645,0,1,1,2.05837-1.54367l2.06424,2.7521,5.30172-7.95247a1.2865,1.2865,0,0,1,2.14087,1.42725l-6.31038,9.46557a1.287,1.287,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("circle",{cx:"659.48782",cy:"257.91146",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),p("path",{d:"M882.33268,434.85719a1.2861,1.2861,0,0,1-1.02908-.5147l-3.15519-4.207a1.28645,1.28645,0,1,1,2.05837-1.54367l2.06424,2.7521,5.30172-7.95247a1.2865,1.2865,0,1,1,2.14087,1.42724l-6.31038,9.46558a1.28705,1.28705,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("circle",{cx:"659.48782",cy:"328.03959",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),p("path",{d:"M806.14077,283.6042H677.79307a4.6311,4.6311,0,1,0,0,9.26221h128.3477a4.6311,4.6311,0,1,0,0-9.26221Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),p("circle",{cx:"659.48782",cy:"117.6552",r:"11.5653",fill:"rgba(var(--ui-color-primary))"},null),p("path",{d:"M882.33268,294.60093a1.28612,1.28612,0,0,1-1.02908-.51469l-3.15519-4.207a1.28645,1.28645,0,1,1,2.05837-1.54367l2.06424,2.7521,5.30172-7.95247a1.2865,1.2865,0,1,1,2.14087,1.42725l-6.31038,9.46557a1.287,1.287,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("circle",{cx:"621.11583",cy:"117.6552",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),p("circle",{cx:"621.11583",cy:"187.78333",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),p("circle",{cx:"621.11583",cy:"257.91146",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),p("circle",{cx:"621.11583",cy:"328.03959",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),p("path",{d:"M882.33268,504.98532a1.2861,1.2861,0,0,1-1.02908-.5147l-3.15519-4.207a1.28645,1.28645,0,1,1,2.05837-1.54368l2.06424,2.75211,5.30172-7.95248a1.2865,1.2865,0,0,1,2.14087,1.42725l-6.31038,9.46558a1.28705,1.28705,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("path",{d:"M865.65741,724.88374a.42584.42584,0,0,1-.15.35.57519.57519,0,0,1-.27.11.39112.39112,0,0,1-.46-.29c-1.38-4.64-4.76-8.2-7.96-11.69-2.88-3.13-5.71-6.43-7.16-10.5a12.279,12.279,0,0,1,.52-10.05,17.72487,17.72487,0,0,1,1.73-2.62c1.43-1.82,3.13-3.44,4.66-5.16.16-.18005.32-.37.47-.55.21-.23.4-.47.58-.71a19.34546,19.34546,0,0,0,3.87-8.1,34.7963,34.7963,0,0,0,.31-10.97q-.29993-2.91-.83-5.78c-.02-.09-.03-.17-.05-.25a80.77148,80.77148,0,0,0-8.32-23.47c-.15-.27-.29-.54-.44-.8-.64-1.16-1.3-2.30005-2-3.42.24-.17.5-.33.76-.48a82.83115,82.83115,0,0,1,5.97,11.63,81.254,81.254,0,0,1,4.87,16.05c.07.3.12.61.17.91.42,2.31.73,4.65.92,6.98a32.336,32.336,0,0,1-.74,10.92,20.376,20.376,0,0,1-4.07,7.71q-.51.645-1.08,1.26c-1.52,1.66-3.2,3.27-4.57,5.08a15.11022,15.11022,0,0,0-1.77,2.94c-1.61,3.6-.85,7.54.93,10.92,3.22,6.15,9.36005,10.34,12.63,16.37a18.607,18.607,0,0,1,1.46,3.49A.50132.50132,0,0,1,865.65741,724.88374Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("path",{d:"M861.51365,659.19926a12.20506,12.20506,0,0,0,9.18893-12.85841c-.051-.58356-.96023-.53171-.90915.05263a11.30161,11.30161,0,0,1-8.57207,11.94353c-.56886.14-.27332,1.00146.29229.86225Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("path",{d:"M857.86593,683.92248A23.52433,23.52433,0,0,1,847.254,670.45783c-.16973-.56123-1.03177-.26827-.86225.29229a24.4688,24.4688,0,0,0,11.07117,13.98874c.5072.29546.90747-.52252.403-.81638Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("path",{d:"M852.7074,635.15376c-.04.02-.07.03-.11.05a7.70346,7.70346,0,0,1-5.72.27,6.28289,6.28289,0,0,1,.31-.86005,6.83258,6.83258,0,0,0,4.97-.21c.09-.03.17-.07.26-.11005a.4575.4575,0,0,1,.58.28A.48084.48084,0,0,1,852.7074,635.15376Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("path",{d:"M802.86062,481.92005a9.36228,9.36228,0,0,0-2.57888-14.1224l6.03863-32.71779-15.92105,6.74026-3.29352,30.036a9.413,9.413,0,0,0,15.75482,10.06392Z",transform:"translate(-224.42261 -170.92653)",fill:"#ffb6b6"},null),p("path",{d:"M812.57739,385.08375l-5.06-17.01-35.68-55.67a26.34992,26.34992,0,0,0-7.01-5.78,26.562,26.562,0,0,0-34.68,38.66,24.72027,24.72027,0,0,0,2.43,2.9l46.21,47.66,2.63,2.72,4.16,10.52,1.64,47.97,1.47.35,12.95,3.05,1.81.43,3.03-15.67,1.9-7.49a79.542,79.542,0,0,0,2.43-19.54c0-2.03-.07-4.07-.23-6.1Z",transform:"translate(-224.42261 -170.92653)",fill:"#3f3d56"},null),p("polygon",{points:"539.105 544.946 526.715 544.946 520.821 497.156 539.107 497.157 539.105 544.946",fill:"#ffb6b6"},null),p("path",{d:"M763.19739,711.82374l-13.22-5.37-.39-.16-7.3,5.53a15.54247,15.54247,0,0,0-15.53,14.87c-.02.22-.02.45-.02.68v.51h39.95v-16.06Z",transform:"translate(-224.42261 -170.92653)",fill:"#2f2e41"},null),p("polygon",{points:"515.51 520.231 504.831 526.514 475.514 488.316 491.274 479.043 515.51 520.231",fill:"#ffb6b6"},null),p("path",{d:"M747.30737,697.45375l-1.44995-2.47-5.25-8.92-2.73,1.61-.28.16-14.12,2.08-.42005.06006-3.48,8.47a15.54944,15.54944,0,0,0-5.52,21.29l.26.43,34.43-20.26Z",transform:"translate(-224.42261 -170.92653)",fill:"#2f2e41"},null),p("path",{d:"M779.21956,423.71246c5.809,17.51982,5.19483,36.5371-1.39627,56.9478L776.103,550.825l-5.52558,44.25873a75.7829,75.7829,0,0,1,5.04271,27.17369c-.02349,24.35193-1.66085,58.94778-9.96248,75.19971H746.01211l-4.43472-72.3734-5.29208-36.38819-.65241-38.99314-.569-34.00831L713.70294,546.93l-20.757,30.35273,20.63144,34.801,18,56-19,16-21.55387-40.86343-10.44613-12.13657L652.0614,569.353l2.5627-8.59494a203.32945,203.32945,0,0,1,22.78278-50.22981l0,0,28.364-65.83044Z",transform:"translate(-224.42261 -170.92653)",fill:"#2f2e41"},null),p("path",{d:"M781.73737,417.86372l-3.24-6.48.29-15.54.97-52.54a50.40424,50.40424,0,0,0-14.93-36.68,49.36031,49.36031,0,0,0-9.56-7.43l-6.96-4.16-3.52-8.94-32.46.79-.07,8.67-.03,3.05-11.63,18.54.01.08.24,33.74.48,67.16,3.21,10.41-4.85,12.12,2.58,7.72,2.06-.33,69.38-11.09a13.62235,13.62235,0,0,0,7.53-5.98,12.39286,12.39286,0,0,0,.89-1.74A13.6477,13.6477,0,0,0,781.73737,417.86372Z",transform:"translate(-224.42261 -170.92653)",fill:"#3f3d56"},null),p("circle",{cx:"501.15853",cy:"74.55104",r:"29.49581",fill:"#ffb6b6"},null),p("path",{d:"M743.92951,269.91828c3.11538-2.19191,6.27-6.36464,8.37132-9.48836a35.418,35.418,0,0,0,5.07724-28.35134,10.799,10.799,0,0,0-2.6107-5.16613,4.64357,4.64357,0,0,0-5.36785-.98026,9.67951,9.67951,0,0,0-.49932-7.6741,17.05878,17.05878,0,0,0-5.12609-5.9366,28.40871,28.40871,0,0,0-28.97472-3.02462c-1.83046.87913,1.10421-5.75566-.81534-5.09324a7.86193,7.86193,0,0,1-5.93489-.0222c-1.82627-.88782-7.76266,4.61941-7.09343,2.70223a8.95783,8.95783,0,0,0-1.867,15.029c1.53993,1.26378,3.45059,1.97732,5.13232,3.04517a14.6133,14.6133,0,0,1,4.73027,18.79462,19.36034,19.36034,0,0,1,5.66333-2.55476,6.55283,6.55283,0,0,1,5.85079,1.32188,7.36207,7.36207,0,0,1,1.86036,5.53078c-.03838,2.00235-.48727,3.98073-.513,5.98328-.07557,5.876-3.06687,17.08687,1.53045,20.146C726.97132,276.59373,739.67588,272.911,743.92951,269.91828Z",transform:"translate(-224.42261 -170.92653)",fill:"#2f2e41"},null),p("path",{d:"M561.7215,317.221a9.36225,9.36225,0,0,0,14.16776,2.31676l28.786,16.68193-.99821-17.2602-27.18261-13.19527A9.413,9.413,0,0,0,561.7215,317.221Z",transform:"translate(-224.42261 -170.92653)",fill:"#ffb6b6"},null),p("path",{d:"M747.61737,312.05372a26.57075,26.57075,0,0,0-35.36-16.5c-.32.13-.64.27-.96.41l-63.86,29.07-24.86-2.95-32.18-11.24-.82,1.27-7.23,11.17-1.01,1.56,34.52,20.41,3.66.76a24.73314,24.73314,0,0,1,15.68,10.67l13.38,4.4,52.27-10.12,29.3-5.68,1.66-.32a26.63789,26.63789,0,0,0,17.07-24.84A26.37168,26.37168,0,0,0,747.61737,312.05372Z",transform:"translate(-224.42261 -170.92653)",fill:"#3f3d56"},null),p("path",{d:"M521.67365,450.86213H310.326a4.63111,4.63111,0,0,0,0,9.26221h211.3477a4.63111,4.63111,0,1,0,0-9.26221Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),p("circle",{cx:"375.02071",cy:"284.91313",r:"11.5653",fill:"rgba(var(--ui-color-primary))"},null),p("path",{d:"M597.86557,461.85886a1.2861,1.2861,0,0,1-1.02908-.5147l-3.1552-4.207a1.28645,1.28645,0,1,1,2.05838-1.54367l2.06423,2.7521,5.30172-7.95247a1.2865,1.2865,0,1,1,2.14087,1.42725l-6.31038,9.46557a1.287,1.287,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("circle",{cx:"336.64871",cy:"284.91313",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),p("path",{d:"M520.67365,506.86213H309.326a4.63111,4.63111,0,0,0,0,9.26221h211.3477a4.6311,4.6311,0,1,0,0-9.26221Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),p("circle",{cx:"374.02071",cy:"340.91313",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),p("path",{d:"M596.86557,517.85886a1.2861,1.2861,0,0,1-1.02908-.5147l-3.1552-4.207a1.28645,1.28645,0,1,1,2.05838-1.54367l2.06423,2.7521,5.30172-7.95247a1.2865,1.2865,0,1,1,2.14087,1.42725l-6.31038,9.46557a1.287,1.287,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),p("circle",{cx:"335.64871",cy:"340.91313",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null)])])])]})}}),I6=Y({name:"DuxDashboardQuickItem",props:{icon:String,title:String,color:String,onClick:Function},setup(t){return()=>p("div",{class:"flex flex-col justify-center items-center "},[p("div",{class:"flex flex-col gap-1  justify-center items-center p-2 pb-1 hover:bg-elevated cursor-pointer",onClick:t?.onClick},[p("div",{class:xt(["p-1 rounded flex justify-center items-center text-white",`bg-${t.color||"primary"}`])},[p("div",{class:xt(["size-7",t.icon])},null)]),p("div",{class:"text-muted"},[t.title])])])}}),N6=Y({name:"DuxDashboardQuick",props:{data:Array,col:{type:Number,default:6}},setup(t,{slots:e}){const n=["primary","info","success","warning","error"];return()=>p("div",{class:xt(["grid gap-2",`grid-cols-${J8(t.col/2)}`,`xl:grid-cols-${t.col}`])},[t.data?.map((r,i)=>{const a=n[i%n.length];return p(I6,{icon:r?.icon,title:r?.title,color:a,onClick:r?.onClick,key:i},null)}),e.default?.()])}}),e0=Y({name:"Message",props:{text:{type:String},desc:{type:String},simple:{type:Boolean,default:!1}},setup(t){const{t:e}=_e();return()=>p("div",{class:"flex justify-center p-2"},[p("div",{class:xt(["flex flex-row items-center",t.simple?"flex-col":"gap-2"])},[p("div",null,[p("svg",{class:"size-60px",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg"},[p("defs",null,[p("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[p("stop",{offset:"0%",style:"stop-color:rgb(var(--ui-color-primary));stop-opacity:0.1"},null),p("stop",{offset:"100%",style:"stop-color:rgb(var(--ui-color-primary));stop-opacity:0.05"},null)]),p("linearGradient",{id:"boxGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[p("stop",{offset:"0%",style:"stop-color:rgb(var(--ui-bg-elevated));stop-opacity:1"},null),p("stop",{offset:"100%",style:"stop-color:rgb(var(--ui-bg-muted));stop-opacity:1"},null)])]),p("circle",{cx:"100",cy:"100",r:"85",fill:"url(#bgGradient)"},null),p("g",{transform:"translate(100, 100)"},[p("ellipse",{cx:"0",cy:"35",rx:"45",ry:"8",fill:"rgb(var(--ui-color-gray-300))",opacity:"0.3"},null),p("path",{d:"M -35 -10 L -35 25 Q -35 30 -30 30 L 30 30 Q 35 30 35 25 L 35 -5 Q 35 -10 30 -10 L 5 -10 L -5 -20 L -30 -20 Q -35 -20 -35 -15 Z",fill:"url(#boxGradient)",stroke:"rgb(var(--ui-color-gray-300))","stroke-width":"1"},null),p("path",{d:"M -5 -20 L 5 -10 L 15 -10 Q 20 -10 20 -15 Q 20 -20 15 -20 Z",fill:"rgb(var(--ui-color-primary))",opacity:"0.8"},null),p("g",{transform:"translate(0, -5)",opacity:"0.6"},[p("rect",{x:"-8",y:"-5",width:"16",height:"20",rx:"2",fill:"rgb(var(--ui-bg-elevated))",stroke:"rgb(var(--ui-color-gray-400))","stroke-width":"0.5"},null),p("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"rgb(var(--ui-color-gray-400))","stroke-width":"1",opacity:"0.5"},null),p("line",{x1:"-5",y1:"4",x2:"3",y2:"4",stroke:"rgb(var(--ui-color-gray-400))","stroke-width":"1",opacity:"0.5"},null),p("line",{x1:"-5",y1:"8",x2:"5",y2:"8",stroke:"rgb(var(--ui-color-gray-400))","stroke-width":"1",opacity:"0.5"},null)]),p("circle",{cx:"-25",cy:"-25",r:"2",fill:"rgb(var(--ui-color-primary))",opacity:"0.4"},[p("animate",{attributeName:"opacity",values:"0.4;0.8;0.4",dur:"2s",repeatCount:"indefinite"},null)]),p("circle",{cx:"25",cy:"-15",r:"1.5",fill:"rgb(var(--ui-color-primary))",opacity:"0.3"},[p("animate",{attributeName:"opacity",values:"0.3;0.6;0.3",dur:"3s",repeatCount:"indefinite"},null)]),p("circle",{cx:"20",cy:"25",r:"1",fill:"rgb(var(--ui-color-primary))",opacity:"0.2"},[p("animate",{attributeName:"opacity",values:"0.2;0.5;0.2",dur:"4s",repeatCount:"indefinite"},null)])])])]),p("div",{class:"flex flex-col gap-0"},[p("div",{class:xt(["text-default",t.simple?"text-center":""])},[t.text||e("pages.empty.title")]),!t.simple&&p("div",{class:"text-muted"},[t.desc||e("pages.empty.desc")])])])])}}),t0=Y({name:"DuxDynamicData",props:{createAction:{type:Boolean,default:!0},deleteAction:{type:Boolean,default:!0},columns:Array,createCallback:Function,onCreate:Function,value:{type:Array,default:[]},defaultValue:{type:Array,default:[]}},setup(t,{emit:e}){const n=Be(t,"value",e,{passive:!0,defaultValue:t.defaultValue||[],deep:!0}),{renderAsync:r}=ca(),i=o=>{const s=n.value?.[0][o],l=[...n.value||[]].map(c=>({...c,[o]:s}));n.value=[...l]},a=V(()=>{let o=t.columns?.length||0;return(t.createAction||t.deleteAction)&&(o+=1),o});return()=>p(ih,kt({modelValue:n.value},{"onUpdate:modelValue":o=>{n.value=o}},{handle:".sort-handle",target:".sort-target",animation:150}),{default:()=>[p("div",{class:"overflow-auto w-full"},[p(dC,{class:"table-fixed w-full"},{default:()=>[p("thead",null,[p("tr",null,[p("th",{style:{width:"40px"}},null),t.columns?.map((o,s)=>p("th",{key:s,style:{width:`${o.width}px`}},[p("div",{class:"flex items-center justify-between"},[p("div",null,[o.title]),o.copy&&p("div",null,[p(ge,{onClick:()=>{i(o.key)},renderIcon:()=>p("div",{class:"i-tabler:pencil-down t-icon"},null),text:!0,type:"primary"},null)])])])),(t.createAction||t.deleteAction)&&p("th",{class:"w-15"},[t.createAction&&p(ge,{tertiary:!0,type:"primary",circle:!0,renderIcon:()=>p("div",{class:"i-tabler:plus h-4 w-4"},null),onClick:()=>{t?.onCreate?t.onCreate():(n.value||(n.value=[]),n.value?.push(t?.createCallback?.(n.value)||{}))}},null)])])]),p("tbody",{class:"sort-target"},[n.value&&n.value?.length>0?n.value.map((o,s)=>p("tr",{key:s},[p("td",null,[p("div",{class:"sort-handle i-tabler:grid-dots size-4 cursor-move"},null)]),t.columns?.map((l,c)=>{const u=typeof l.schema=="function"?l.schema(o,s):l.schema;return p("td",{key:c},[l.schema?Ye(r({data:Array.isArray(u)?u:[u],context:{rowIndex:s,model:n.value,row:o}})):l.render?.(o,s)||o[l.key]])}),(t.createAction||t.deleteAction)&&p("td",{class:"w-15"},[t.deleteAction&&p(ge,{tertiary:!0,type:"error",circle:!0,renderIcon:()=>p("div",{class:"i-tabler:trash h-4 w-4"},null),onClick:()=>{n.value.splice(s,1)}},null)])])):p("tr",null,[p("td",{colspan:a.value},[p(e0,null,null)])])])]})])]})}}),j6=Y({name:"DuxDynamicSelect",props:{rowKey:{type:String,default:"id"},path:String,columns:Array,filterColumns:Array,filterSchema:{type:Array},value:{type:Array,default:[]},defaultValue:{type:Array,default:[]}},setup(t,{emit:e}){const n=Be(t,"value",e,{passive:!0,defaultValue:t.defaultValue,deep:!0}),r=fr(),i=to(),{t:a}=_e(),o=ie(!0);return ye([n,o],()=>{if(!o.value||!n.value||n.value.length===0)return;const s=n.value?.map(l=>l[t.rowKey])||[];i.request({path:t.path,query:{ids:s?.join(",")||""}}).then(l=>{o.value=!1,l?.data?.forEach((c,u)=>{n.value.some(d=>d[t.rowKey]===c[t.rowKey])?n.value[u]={...n.value[u],...c}:n.value.push(c)})})}),()=>p(t0,{value:n.value,"onUpdate:value":s=>n.value=s,columns:t.columns,onCreate:()=>{r.show({component:()=>Mn(()=>import("./selectModal-DUIHt5Dy.js"),__vite__mapDeps([12,8,4,9,1,10,2,7,6,5,11])),componentProps:{path:t.path,columns:t.filterColumns,filterSchema:t.filterSchema},width:1e3,title:a("components.button.select")}).then(s=>{o.value=!1,s?.forEach(l=>{n.value.some(c=>c[t.rowKey]===l[t.rowKey])||n.value.push(l)})})}},null)}});function Kf(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const B6=Y({name:"DuxDialog",props:{title:String,content:String,type:String,formSchema:Array,defaultValue:Object,render:Function},setup(t){const{t:e}=_e(),{visible:n,resolve:r,reject:i,vanish:a}=Wd({duration:1e3}),o=wn({title:t?.title,content:t?.content,button:"default"});t.type==="confirm"&&(o.title=o.title||e("components.dialog.confirm.title"),o.content=o.content||e("components.dialog.confirm.content"),o.button="primary"),t.type==="success"&&(o.title=o.title||e("components.dialog.success.title"),o.content=o.content||e("components.dialog.success.content"),o.button="success"),t.type==="error"&&(o.title=o.title||e("components.dialog.error.title"),o.content=o.content||e("components.dialog.error.content"),o.button="error"),t.type==="prompt"&&(o.title=o.title||e("components.dialog.prompt.title"),o.button="primary");const s=ie({...t.defaultValue}),{render:l}=ca({data:t.formSchema||[],context:{form:s.value}});return()=>p(Dd,{displayDirective:"show",show:n.value,onAfterLeave:()=>{a()},onClose:()=>{i()},onEsc:()=>{i()},role:"dialog","aria-modal":"true",draggable:!0},{default:({draggableClass:c})=>{let u,d,f;return p("div",{class:["w-400px rounded border border-muted max-w-full shadow-lg shadow-gray-950/10 bg-white/70 dark:shadow-gray-950/80  dark:bg-gray-900/70 backdrop-blur"]},[t.type!=="node"?p("div",{class:["p-6 pb-2 flex gap-4",c]},[p("div",null,[(t.type==="confirm"||t.type==="prompt")&&p("div",{class:"bg-warning bg-opacity-10 text-warning rounded-full p-2"},[p("div",{class:"i-tabler:info-circle size-5"},null)]),t.type==="success"&&p("div",{class:"bg-success bg-opacity-10 text-success rounded-full p-2"},[p("div",{class:"i-tabler:check size-5"},null)]),t.type==="error"&&p("div",{class:"bg-error bg-opacity-10 text-error rounded-full p-2"},[p("div",{class:"i-tabler:alert-triangle size-5"},null)])]),p("div",{class:"flex flex-1 flex-col gap-2"},[p("div",{class:"text-base font-bold"},[o.title]),t.type==="prompt"?p(Zy,{labelAlign:"left",showLabel:!1,showFeedback:!1,class:"py-2"},Kf(u=Ye(l))?u:{default:()=>[u]}):p("div",{class:"text-sm text-gray-500"},[o.content])])]):p("div",{class:"p-4 flex flex-col gap-4"},[p("div",{class:"text-base font-bold"},[o.title]),t.render?.()]),p("div",{class:"px-4  pb-4 flex justify-end gap-2"},[(t.type==="confirm"||t.type==="prompt")&&p(ge,{tertiary:!0,"aria-label":e("components.button.cancel"),type:o.button,onClick:()=>{i()}},Kf(d=e("components.button.cancel"))?d:{default:()=>[d]}),p(ge,{"aria-label":e("components.button.confirm"),type:o.button,onClick:()=>{r(s.value)}},Kf(f=e("components.button.confirm"))?f:{default:()=>[f]})])])}})}});function kh(){const t=Vd(B6),e=n=>t(n);return{confirm:n=>e({...n,type:"confirm"}),success:n=>e({...n,type:"success"}),error:n=>e({...n,type:"error"}),prompt:n=>e({...n,type:"prompt"}),node:n=>e({...n,type:"node"})}}const U6=Y({name:"DuxDrawer",props:{title:String,width:[Number,String],maxWidth:[Number],placement:{type:String,default:"right"},component:{type:[Function,Object],required:!0},componentProps:Object},setup(t){const{visible:e,resolve:n,reject:r,vanish:i}=Wd({duration:1e3}),a=t?.componentProps||{};a.title=t.title,a.onConfirm=n,a.onClose=r;const o=typeof t.component=="function"?Lg(t.component):t.component;return()=>p(zo,{closeOnEsc:!1,maskClosable:!1,minWidth:200,maxWidth:t?.maxWidth||800,defaultWidth:t?.width||400,resizable:!0,placement:t.placement,show:e.value,onUpdateShow:()=>n(),onAfterLeave:()=>{i()},onEsc:()=>{r()},autoFocus:!1},{default:()=>[p("div",{class:"h-full"},[p(Vy,null,{default:()=>p(o,a,null),fallback:()=>p(pa,{show:!0,class:"h-full"},{default:()=>[p("div",{class:"flex-1 min-h-1"},null)]})})])]})}});function z6(){const t=Vd(U6);return{show:e=>t(e)}}function n0(t){const e=fr(),n=z6(),r=kh(),{t:i}=_e(),a=_n(),o=lt(),s=gn(),l=eo({onSuccess:g=>{a.success(g.message||i("common.success"))},onError:g=>{a.error(g.message||i("common.error"))}}),c=R3({onSuccess:g=>{a.success(g.message||i("common.success"))},onError:g=>{a.error(g.message||i("common.error"))}}),u=t?.path||o.getPath(),d=g=>{const m=i(g.item.title||"",{},g.item.title),v=i(g.item.label||"",{},g.item.label);if(g.item.type==="modal"){const b=g.item,y=typeof b.componentProps=="function"?b.componentProps(g.data):b.componentProps;e.show({title:m||v,component:b.component,componentProps:{id:g.id,...y},width:b.width,draggable:b.draggable!==void 0?b.draggable:!0})}if(g.item.type==="drawer"){const b=g.item,y=typeof b.componentProps=="function"?b.componentProps(g.data):b.componentProps;n.show({title:m||v,component:b.component,componentProps:{id:g.id,...y},width:b.width,maxWidth:b.maxWidth})}if(g.item.type==="confirm"){const b=g.item;r.confirm({title:m||v,content:b.content}).then(y=>{y&&b.callback?.(g.id,g.data)})}if(g.item.type==="request"){const b=g.item;r.confirm({title:m||v,content:b.content}).then(()=>{const y=typeof b.data=="function"?b.data(g.id,g.data):b.data,x=(b.method||"post").toLowerCase(),w=typeof b.path=="function"?b.path(g.id,g.data):b.path||u;l.mutate({path:w,method:x,payload:y})})}if(g.item.type==="delete"){const b=g.item;r.confirm({title:m||v,content:b.content}).then(()=>{c.mutate({id:g.id,path:typeof b.path=="function"?b.path(g.id,g.data):b.path||u})})}if(g.item.type==="link"){const b=g.item;let y=typeof b.path=="function"?b.path?.(g.id,g.data):g.id?`${b.path||u}${g.data===void 0?"":`/${g.id}`}`:b.path||u;y.startsWith("/")||(y=o.getRoutePath(y)),s.push(y)}g.item.type==="callback"&&g.item.callback?.(g.id,g.data)},f=H6(),h=W6();return{target:d,renderTable:g=>(m,v)=>{const b={id:m[g.key||t?.key||"id"],data:m,index:v,target:d,text:g.text!==void 0?g.text:t?.text||!1,align:g.align!==void 0?g.align:t?.align||"left"};return(g.type||t?.type)==="button"?f.render({...b,action:g||t}):h.render({...b,action:g||t})},renderAction:g=>{const m={target:d,text:g.text!==void 0?g.text:t?.text||!1,align:g.align!==void 0?g.align:t?.align||"left"};return(g.type||t?.type)==="button"?f.render({...m,action:g||t}):h.render({...m,action:g||t})}}}function H6(){const{t}=_e();return{render:e=>{const n=e.action.items?.filter(r=>!r.show||r.show?.(e.data,e.index)).map((r,i)=>Ye(ge,{key:i,type:r.color||(r.type==="delete"?"error":"primary"),text:e.text,secondary:!e.text,onClick:()=>{e?.target?.({id:e.id,data:e.data,item:r})},renderIcon:r.icon?()=>Ye("div",{class:["n-icon",r.icon]}):void 0},()=>t(r.label||"",{},r.label)));return Ye("div",{class:["flex gap-2 flex-wrap items-center",e.align==="right"?"justify-end":e.align==="center"?"justify-center":"justify-start"]},n)}}}function W6(){const{t}=_e();return{render:e=>{const n=e.action.items?.filter(r=>!r.show||r.show?.(e.data,e.index)).map((r,i)=>({label:t(r.label||"",{},r.label),key:i,icon:r.icon?()=>Ye("div",{class:["n-icon",r.icon]}):void 0,onSelect:()=>{e?.target?.({id:e.id,data:e.data,item:r})}}));return Ye(ns,{trigger:"click",options:n,onSelect:(r,i)=>{i?.onSelect?.()}},()=>[Ye("div",{class:["flex items-center",e.align==="right"?"justify-end":e.align==="center"?"justify-center":"justify-start"]},Ye(ge,{type:"default",text:e.text,secondary:!e.text,renderIcon:()=>Ye("div",{class:["n-icon","i-tabler:dots-vertical"]})}))])}}}function V6(){const{t}=_e(),e=to(),n=ie(!1),r=ie({loaded:0,total:0,percent:0,speed:0,speedText:"0 B/s",remainingTime:0}),i=_n(),a=s=>{if(s===0)return"0 B/s";const l=["B/s","KB/s","MB/s","GB/s"],c=Math.floor(Math.log(s)/Math.log(1024));return`${(s/1024**c).toFixed(1)} ${l[c]}`},o=(s,l)=>{const c=window.URL||window.webkitURL,u=c.createObjectURL(s),d=document.createElement("a");d.href=u,d.download=l||"",document.body.appendChild(d),d.click(),document.body.removeChild(d),c.revokeObjectURL(u)};return{file:(s,l,c,u,d)=>{n.value=!0,r.value={loaded:0,total:0,percent:0,speed:0,speedText:"0 B/s",remainingTime:0};const f=Date.now();e.request({path:s,method:"GET",query:l,onDownloadProgress:h=>{const g=(Date.now()-f)/1e3,m=g>0?h.loaded/g:0,v=(h.total||0)-h.loaded,b=m>0?v/m:0,y={loaded:h.loaded,total:h.total,percent:h.percent||0,speed:Math.round(m),speedText:a(m),remainingTime:Math.round(b)};r.value=y,d?.(y)}}).then(h=>{const g=c||h.data.headers["content-type"],m=h.data.headers["content-disposition"];if(u||(u=BI().format("YYYY-MM-DD-HH:mm:ss"),g&&(u=`${u}.${nx.getExtension(g)}`)),m){const y=/filename=["']?([^"']+)/.exec(m);y&&y?.length>1&&(u=decodeURIComponent(y[1]))}const v=h.data?.data instanceof Blob?h.data?.data:new Blob([h.data?.data],{type:g||"application/octet-stream"});o(v,u);const b={loaded:r.value.total||r.value.loaded,total:r.value.total||r.value.loaded,percent:100,speed:0,speedText:a(0),remainingTime:0};r.value=b,d?.(b)}).catch(h=>{i.error(h.error||t("hooks.download.failed"))}).finally(()=>{n.value=!1})},url:(s,l)=>{const c=document.createElement("a");c.href=s,c.download=l||"",document.body.appendChild(c),c.click(),document.body.removeChild(c)},blob:o,base64:(s,l)=>{const c=atob(s.split(",")[1]),u=Array.from({length:c.length});for(let h=0;h<c.length;h++)u[h]=c.charCodeAt(h);const d=new Uint8Array(u),f=new Blob([d],{type:"application/octet-stream"});o(f,l)},loading:n,progress:r,image:s=>{fetch(s).then(l=>{l.blob().then(c=>{o(c)})}).catch(l=>{i.error(l.error||t("hooks.download.failed"))})}}}function G6(){let t=document.querySelector("#preview-image");if(!t){const e=document.createElement("div");e.id="preview-image",e.style.display="none",document.body.appendChild(e),t=e}return{show:(e,n)=>{if(!e.length)return;const r=new MouseEvent("click",{bubbles:!0,cancelable:!0}),i=e.map(a=>Ye(aa,{width:100,src:a}));i.length>1?P0(Ye(Ky,{},{default:()=>i}),t):P0(i[0],t),t?.querySelectorAll(".n-image img")[n||0]?.dispatchEvent(r)}}}function X6(t){const e=ie([]),n=ie(!1),r=ie(null),i=Te(t,"path","area"),a=Te(t,"value",[]),o=Te(t,"maxLevel",4),{request:s}=to(),{data:l,isFetching:c}=rs({queryKey:[i,r],queryFn:async()=>{if(!r.value)return null;const g={level:r.value.level};return r.value.name&&(g[t.nameField||"name"]=r.value.name),s({path:i.value,method:"GET",query:g})},enabled:V(()=>!!r.value),staleTime:1/0,gcTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1}),u=g=>{const m=t.labelField||"name",v=t.valueField||"value";return g.map(b=>({label:b[m]||b.name||b.label,value:b[v]||b.value||b.name||b.code}))},d=(g,m)=>{for(;e.value.length<=g;)e.value.push([]);e.value[g]=m,e.value=[...e.value]};ye(l,g=>{if(!g?.data||!r.value)return;const m=r.value.level;if(d(m,u(g.data)),n.value&&a.value.length>m){const v=a.value[m],b=v&&(o.value===0||m<o.value-1);r.value=b?{level:m+1,name:v}:null,b||(n.value=!1)}else r.value=null});const f=(g,m)=>{a.value=[...a.value.slice(0,m),g],e.value=e.value.slice(0,m+1),(o.value===0||m<o.value-1)&&(r.value={level:m+1,name:g})};ye(a,g=>{n.value||(e.value=[],n.value=g&&g.length>0,r.value={level:0})},{immediate:!0});const h=V(()=>c.value);return{regions:V(()=>e.value),onChange:f,isLoading:h,value:a}}function r0(t){const{t:e}=_e(),n=_n(),r=hC(),i=ie(null);return v_({...t,onExportSuccess:a=>{i.value?.destroy(),i.value=null,r.success({title:e("hooks.table.exportSuccess"),content:e("hooks.table.exportSuccessContent",{count:a?.data?.length||0}),duration:6e3})},onExportProgress:a=>{!i.value&&a&&(i.value=r.create({title:e("hooks.table.exportProgress"),content:()=>e("hooks.table.exportProgressContent",{page:a.page||1}),avatar:()=>p(Ho,{class:"size-10 text-sm",type:"circle",percentage:50},{default:()=>[p("div",{class:"text-xs"},[a.page||1])]}),onClose:()=>{i.value=null}}))},onExportError:a=>{i.value?.destroy(),i.value=null,n.error(e("hooks.table.exportFailedContent",{error:a?.message||e("common.unknownError")}))},onImportSuccess:a=>{i.value?.destroy(),i.value=null,r.success({title:e("hooks.table.importSuccess"),content:e("hooks.table.importSuccessContent",{count:a?.processedItems||0}),duration:6e3})},onImportProgress:a=>{i.value||(i.value=r.create({title:e("hooks.table.importProgress"),content:()=>e("hooks.table.importProgressContent",{processed:a?.processedItems||0,total:a?.totalItems||0}),avatar:()=>p(Ho,{class:"size-10 text-sm",type:"circle",percentage:a?.percentage||0},{default:()=>[p("div",{class:"text-xs"},[a?.percentage||0,Dt("%")])]}),onClose:()=>{i.value=null}}))},onImportError:a=>{i.value?.destroy(),i.value=null,n.error(e("hooks.table.importFailedContent",{error:a?.message||e("common.unknownError")}))}})}function q6(){return{render:t=>(e,n)=>{const r=t?.key||"status",i=Xy(t.maps,o=>o?o?.value===Cr(e,r):!1),a=i?t.maps?.[i]:void 0;return a?p("div",{class:["flex gap-1 items-center",`text-${i}`]},[a.icon?p("div",{class:`size-4 ${a.icon}`},null):null,p("span",{class:"text-sm"},[a?.label])]):null}}}function jB(){const{t}=_e(),e=_n(),{copy:n}=rC();return{render:r=>(i,a)=>{const o=Cr(i,r.key||"");return p("div",{class:"flex"},[o&&o!=="-"?p("div",{class:"flex justify-start items-center gap-1"},[p("div",null,[o]),p("div",{class:"cursor-pointer i-tabler:copy size-4 text-muted hover:text-primary",onClick:()=>{n(o).then(()=>e.success(t("hooks.table.copySuccess"))).catch(()=>e.error(t("hooks.table.copyFailed")))}},null)]):"-"])}}}const BB=Y({name:"TableColumnHidden",props:{value:{type:String,default:""},percent:{type:Number,default:30}},setup(t){const e=ie(!0);return()=>t.value?p("div",{class:"flex justify-start items-center gap-1"},[p("div",{class:"font-mono"},[e.value?zB(t.value,t.percent):t.value]),p("div",{class:["cursor-pointer  size-4 text-muted hover:text-primary transition-all duration-150",e.value?"i-tabler:eye":"i-tabler:eye-off"],onClick:()=>{e.value=!e.value}},null)]):"-"}});function UB(){return{render:t=>(e,n)=>{const r=Cr(e,t.key||"");return p(BB,{value:r,percent:t.percent},null)}}}function zB(t,e=30){if(!t||t.length<4)return t;const n=t.length,r=Math.ceil(n*e/100),i=Math.floor((n-r)/2);return t.slice(0,i)+"*".repeat(r)+t.slice(i+r)}function Y6(){return{render:t=>(e,n)=>{let r=Cr(e,t.key||"")||[];return r=Array.isArray(r)?r:[r],p("div",{class:"flex flex-wrap gap-2"},[r.length>0?r.map((i,a)=>p(aa,{key:a,src:i,width:t.imageWidth||40,height:t.imageHeight||40,objectFit:"cover",fallbackSrc:"data:image/svg+xml;base64,"},{placeholder:()=>Ye(Po,{width:t.imageWidth||40,height:t.imageHeight||40}),error:()=>Ye(Po,{width:t.imageWidth||40,height:t.imageHeight||40})})):p(Po,{height:40},null)])}}}const HB=Y({name:"TableColumnInput",props:{data:{type:Object,required:!0},field:{type:String,default:""},path:{type:String,required:!0},tag:{type:Object}},setup(t){const{t:e}=_e(),n=ie(!1),r=ie(""),{mutateAsync:i}=eo(),a=_n(),o=s=>{i({path:t.path,method:"PATCH",payload:{[t.field]:s}}).then(()=>{a.success(e("hooks.table.saveSuccess"))}).catch(l=>{a.error(l.message)})};return()=>n.value?p("div",{class:"flex gap-2"},[p("div",null,[Ye(t.tag||Ve,{value:r.value,"onUpdate:value":s=>r.value=s,autofocus:!0})]),p(ge,{type:"primary",onClick:()=>{r.value!==t.data[t.field]?o(r.value):n.value=!1},renderIcon:()=>p("div",{class:"size-4 i-tabler:check"},null)},null)]):p("div",{class:"flex"},[p("div",{class:"flex justify-start items-center gap-1"},[p("div",null,[t.data[t.field]===void 0||t.data[t.field]===""?"-":t.data[t.field]]),p("div",{class:"cursor-pointer i-tabler:pencil size-4 text-muted hover:text-primary",onClick:()=>{r.value=t.data[t.field],n.value=!0}},null)])])}});function WB(t){return{render:e=>(n,r)=>{const i=typeof t?.path=="function"?t?.path(n):`${t?.path}/${Cr(n,t?.rowKey||"id")}`;return p(HB,{data:n,field:e.key,path:i,tag:e.tag},null)}}}function K6(){return{render:t=>(e,n)=>{const r=typeof t.maps=="function"?t.maps(e):t.maps;return p("div",{class:"flex flex-col gap-1"},[r?.map(i=>p("div",{class:"flex gap-2 "},[p("div",{class:"flex text-muted items-center gap-1 whitespace-nowrap"},[i.icon&&p("div",{class:["size-4",i.icon]},null),i.label]),p("div",null,[i?.render?i.render(Cr(e,i.key||"")):Cr(e,i.key||"")||"-"])]))])}}}function Z6(){return{render:t=>(e,n)=>{const r=typeof t.title=="function"?t.title(e):Cr(e,t.title||""),i=typeof t.desc=="function"?t.desc(e):Cr(e,t.desc||""),a=typeof t.image=="function"?t.image(e):Cr(e,t.image||"");return p(sc,{title:r,desc:i,avatar:t.avatar,image:a,imageWidth:t.imageWidth,imageHeight:t.imageHeight},null)}}}function J6(){return{render:t=>(e,n)=>{const r=t?.key||"status",i=Xy(t.maps,o=>o?o?.value===Cr(e,r):!1),a=i?t.maps?.[i]:void 0;return a?p(Uo,{round:!0,bordered:!0,type:i},{icon:()=>p(Vt,null,[i==="success"&&p("div",{class:"n-icon i-tabler:circle-check-filled"},null),i==="error"&&p("div",{class:"n-icon i-tabler:circle-x-filled"},null),i==="warning"&&p("div",{class:"n-icon i-tabler:exclamation-circle-filled"},null),(i==="default"||i==="info")&&p("div",{class:"n-icon i-tabler:info-circle-filled"},null)]),default:()=>p("span",{class:"text-sm"},[a?.label])}):null}}}function Q6(t){const{mutateAsync:e}=eo(),n=_n();return{render:r=>(i,a)=>{const o=r.key||"status",s=typeof t?.path=="function"?t?.path(i):`${t?.path}/${Cr(i,t?.rowKey||"id")}`;return p(He,{value:!!i[o],onUpdateValue:l=>{i[o]=l,e({path:s,method:"PATCH",payload:{[o]:l}}).then(()=>{i[o]=l}).catch(c=>{i[o]=!l,n.error(c.message)})}},null)}}}function VB(t){const{getPath:e}=lt(),n=t?.path||e(),r=t?.rowKey||"id",i=Z6(),a=Y6(),o=Q6({path:n,rowKey:r}),s=J6(),l=q6(),c=K6(),u=WB({path:n,rowKey:r}),d=jB(),f=UB();return{renderMedia:i.render,renderImage:a.render,renderSwitch:o.render,renderStatus:s.render,renderMap:c.render,renderInput:u.render,renderCopy:d.render,renderHidden:f.render,renderColor:l.render}}function e4(t){const e=an("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return GB(t)()}function GB(t){return fa(`ui-${t}`,()=>{const e=ie(!0),n=ie(!1),r=o=>{e.value=o},i=o=>{n.value=o},a=ie(!1);return{menuCollapsed:e,setMenuCollapsed:r,cmdVisible:a,setCmdVisible:o=>{a.value=o},menuMobileCollapsed:n,setMenuMobileCollapsed:i}},{persist:{pick:["menuCollapsed"]}})}function oo(){const t=e4(),{menuCollapsed:e,cmdVisible:n,menuMobileCollapsed:r}=$d(t);return{menuCollapsed:e,setMenuCollapsed:t.setMenuCollapsed,menuMobileCollapsed:r,setMenuMobileCollapsed:t.setMenuMobileCollapsed,cmdVisible:n,setCmdVisible:t.setCmdVisible}}const t4=Y({name:"ModalTab",props:{draggable:{type:Boolean,default:!1},defaultTab:{type:String,default:"0"},handle:{type:Object,default:()=>ie()},onClose:{type:Function,default:()=>{}}},setup(t,{slots:e}){return()=>p("div",{class:"flex flex-col"},[p(Ja,{type:"line",defaultValue:t.defaultTab,class:"app-modal-tabs",size:"large",style:{"--n-pane-padding-right":"16px","--n-pane-padding-left":"16px"}},{default:()=>e.default?.(),prefix:()=>t.draggable?p("div",{class:"pl-4 cursor-move flex items-center",ref:t.handle},[p("div",{class:"i-tabler:grid-dots size-4"},null)]):null,suffix:()=>p("div",{class:"pr-4 flex items-center"},[p(ge,{text:!0,onClick:t.onClose,"aria-label":"close"},{icon:()=>p("div",{class:"i-tabler:x size-4"},null)})])}),e.footer?.()&&p("div",{class:"flex justify-end gap-2 p-3 rounded-b border-t border-muted bg-muted dark:bg-gray-800/50"},[e.footer?.()])])}}),n4=Y({name:"DuxGrid",props:{cols:{type:Number,default:2},spac:{type:Number,default:2}},setup(t,{slots:e}){return()=>p("div",{class:`w-full grid md:grid-cols-${t?.cols||2} grid-cols-1 gap-${t?.spac||2}`},[e.default?.()])}}),Ql=Y({name:"DuxWidgetEditorPreview",props:{class:String,select:String,modelValue:Array,onUpdate:Function,onSelect:Function},setup(t){const e=an("editor.use");return()=>p(Vt,null,[p(ih,kt({modelValue:t.modelValue||[],animation:150,group:"widget",handle:".editor-handle",class:t.class||xt(["h-full flex flex-col gap-2",!t.modelValue||t.modelValue?.length===0?"p-2":""])},{"onUpdate:modelValue":n=>{t.onUpdate?.(n)}}),{default:()=>[t.modelValue?.map((n,r)=>{const i=e?.components?.value?.find(o=>o.name===n.name),a={options:n.options};return i?.nested&&(a.children=n.children||[],a.onChildren=o=>{n.children=o}),p("div",{class:xt(["border p-2 rounded-sm relative w-full",e?.selected.value===n.key?"bg-primary/10 border-primary border-solid":"border-accented border-dashed"]),key:n.key,onClick:o=>{o.stopPropagation(),e?.selected&&(e.selected.value=n.key)}},[p("div",null,[i?.component(a)]),e?.selected.value===n.key&&p(Vt,null,[p("div",{class:"absolute right-0 bottom-0  bg-primary flex px-1 rounded-tl z-1"},[p("div",{class:"p-1 text-inverted cursor-pointer  hover:text-inverted/80",onClick:()=>{e.copyData(n.key,r)}},[p("div",{class:"i-tabler:copy"},null)]),p("div",{class:"p-1 text-inverted  cursor-pointer hover:text-inverted/80"},[p("div",{class:"i-tabler:trash-x",onClick:()=>{e?.deleteData(n.key,r)}},null)])]),p("div",{class:"absolute left-0 top-0  bg-primary p-1 text-inverted rounded-br z-1 editor-handle"},[p("div",{class:"i-tabler:arrows-move "},null)])])])})]})])}}),Bi=Y({name:"DuxFormLayout",props:{labelPlacement:{type:String,default:"left"},labelAlign:{type:String,default:"left"},labelWidth:{type:Number},inline:{type:Boolean,default:!1},divider:{type:Boolean,default:!1}},setup(t,{slots:e}){return Ui("dux.form",{labelPlacement:Te(t,"labelPlacement"),labelAlign:Te(t,"labelAlign"),labelWidth:Te(t,"labelWidth"),divider:Te(t,"divider")}),()=>p("div",{class:["flex ",t.divider||t.labelPlacement==="page"?" divide-y divide-default dark:divide-gray-800":"",t.inline?"flex-row":"flex-col",t.labelPlacement==="page"||t.labelPlacement==="setting"?"container mx-auto":"gap-4"]},[e?.default?.()])}}),r4=Y({name:"WidgetEditorSetting",props:{actionRender:Function},setup(t){const e=an("editor.use"),n=V(()=>e?.getData(e.selected.value)),r=V(()=>e?.components.value?.find(i=>i.name===n.value?.name));return()=>p("div",{class:"flex-none  p-2 max-w-full w-220px overflow-y-auto bg-default",key:n.value?.key},[r.value?.setting?.({value:n.value?.options,"update:modelValue":i=>{n?.value&&(n.value.options=i)}})||p("div",{class:"flex flex-col gap-2 h-full"},[p("div",{class:"flex-1 min-h-0"},[e?.settingPage?.component?.({value:e.value.value.config,"update:modelValue":i=>{e.value.value.config=i}})]),t?.actionRender?.(e)])])}}),Je=Y({name:"WidgetEditorSettingCard",props:{title:String,icon:String},setup(t,{slots:e}){return()=>p("div",{class:"flex flex-col"},[p("div",{class:"bg-elevated rounded py-2 px-4 flex justify-center items-center gap-2"},[p("div",null,[t.title])]),p("div",{class:"py-4 flex-1"},[p(Bi,{labelPlacement:"top"},{default:()=>[e.default?.()]})])])}});function XB(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const qB=Y({name:"WidgetEditorGrid",props:{options:Object,children:{type:Array,default:[]},onChildren:Function},setup(t){const e=V(()=>t.options?.col||2),n=V(()=>{const r=[...t.children||[]],i=e.value;for(;r.length<i;)r.push([]);for(let a=0;a<i;a++)Array.isArray(r[a])||(r[a]=[]);return r});return()=>{let r;return p(n4,{cols:e.value,spac:t.options?.spac},XB(r=n.value.map((i,a)=>{const o=i;return p("div",{key:a,class:xt({"rounded border border-dashed border-accented":!o?.length})},[p(Ql,{modelValue:o,onUpdate:s=>{const l=[...n.value];l[a]=s,t.onChildren?.(l)}},null)])}))?r:{default:()=>[r]})}}}),YB=Y({name:"WidgetEditorGridSetting",props:{value:{type:Object,default:()=>({col:2,spac:2})}},setup(t,{emit:e}){const{t:n}=_e(),r=Be(t,"value",e);return()=>p(Je,{title:n("components.designEditor.grid.title"),icon:"i-tabler:grid-4x4"},{default:()=>[p(Wu,{label:n("components.designEditor.grid.columns"),path:"col"},{default:()=>[p(sn,{value:r.value.col,"onUpdate:value":i=>r.value.col=i,min:1,max:12,placeholder:n("components.designEditor.grid.columnsPlaceholder")},null)]}),p(Wu,{label:n("components.designEditor.grid.spacing"),path:"spac"},{default:()=>[p(sn,{value:r.value.spac,"onUpdate:value":i=>r.value.spac=i,min:0,max:100,placeholder:n("components.designEditor.grid.spacingPlaceholder")},null)]})]})}});function KB(t){const{children:e,convertToJsonSchema:n}=t||{};let r=[];return e?.length&&n&&(r=e.flatMap(i=>Array.isArray(i)?n(i):[])),{tag:"dux-grid",attrs:{cols:t?.options?.col||2,spac:t?.options?.spac||2},children:r}}function i0(t){return{name:"dux-grid",icon:"i-tabler:grid-4x4",label:t("components.designEditor.grid.label"),group:"layout",nested:!0,component:e=>p(qB,e,null),setting:e=>p(YB,e,null),settingDefault:{col:2,spac:2},json:KB}}function i4({settingPage:t}){const e=ie([]),n=ie([]),r=ie(),i=ie({config:t?.default||{},data:[]}),a=()=>{e.value=[]},o=()=>{n.value=[]},s=m=>{e.value.findIndex(v=>v.name===m.name)===-1&&e.value.push(m)},l=m=>{n.value.findIndex(v=>v.name===m.name)===-1&&n.value.push(m)},c=V(()=>n.value.map(m=>({name:m.name,label:m.label,icon:m.icon,children:e.value.filter(v=>v.group===m.name)}))),u=(m,v)=>{for(const b of v)if(b){if(Array.isArray(b)){const y=u(m,b);if(y)return y;continue}if(b.key===m)return b;if(b.children&&b.children.length){const y=u(m,b.children);if(y)return y}}},d=m=>{if(m)return u(m,i.value.data)},{randomUUID:f}=new b_({length:10}),h=m=>m?.map(v=>{if(v)return Array.isArray(v)?h(v):(v.key=f(),v.children&&v.children.length>0&&(v.children=h(v.children)),v)}).filter(v=>v!==void 0),g=(m,v,b)=>{for(const y of m)if(y){if(Array.isArray(y)){const x=g(y,v,y);if(x)return x;continue}if(y.key===v)return b;if(y.children&&y.children.length){const x=g(y.children,v,y);if(x)return x}}};return{clearGroup:o,clearComponent:a,addComponent:s,addGroup:l,tree:c,components:e,group:n,getData:d,selected:r,value:i,copyData:(m,v)=>{const b=d(m),y=JSON.parse(JSON.stringify(b));y.key=f(),y.children&&y.children.length>0&&(y.children=h(y.children));const x=g(i.value.data,m);x?Array.isArray(x)?x.splice(v+1,0,y):x.children?.splice(v+1,0,y):i.value.data?.splice(v+1,0,y)},deleteData:(m,v)=>{const b=g(i.value.data,m);b?Array.isArray(b)?b.splice(v,1):b.children?.splice(v,1):i.value.data?.splice(v,1),r.value=void 0},settingPage:t}}const Fg=Y({name:"DuxDesignEditor",props:{data:Object,onUpdateData:Function,groups:Array,components:Array,settingPage:Object,actionRender:Function,previewWrapper:Function},setup(t){const{t:e}=_e(),n=i4({settingPage:t.settingPage});Ui("editor.use",n),ye([()=>t.components,()=>t.groups],()=>{n.clearGroup(),n.clearComponent(),n.addGroup({name:"layout",label:e("components.designEditor.layout")||"Layout",icon:"i-tabler:layout"}),t.groups?.forEach(o=>{n.addGroup(o)}),n.addComponent(i0(e)),t.components?.forEach(o=>{n.addComponent(o)})},{immediate:!0,deep:!0});const r=ie(),{randomUUID:i}=new b_({length:10}),a=o=>({key:i(),name:o.name,options:In(o.settingDefault)});return ye(()=>t.data,o=>{const s=t.settingPage?.default||{};n.value.value={config:{...s,...In(o?.config||{})},data:In(o?.data||[])}},{deep:!0,immediate:!0}),ye(()=>n.value.value,o=>{o!==t.data&&t.onUpdateData?.(o)},{deep:!0}),()=>p(hr,{class:"h-full",shadow:!0},{default:()=>[p("div",{class:"h-full flex flex-row  text-default"},[p("div",{class:"flex-none flex flex-col gap-2  border-r border-default bg-default p-2"},[p(M2,{title:e("components.designEditor.all")||"All",icon:"i-tabler:hexagons",active:!r.value,onClick:()=>{r.value=void 0}},null),n.group.value?.map((o,s)=>p(M2,{key:s,active:r.value===o.name,title:o.label,icon:o.icon,onClick:()=>{r.value=o.name}},null))]),p("div",{class:"flex-none text-xs w-180px bg-default",id:"comp-list"},[p(pi,null,{default:()=>[p("div",{class:"flex flex-col gap-4 p-2"},[n.tree.value?.filter(o=>r.value?o.name===r.value:!0).map(o=>p("div",{key:o.name,class:"flex flex-col gap-2"},[p("div",{class:"bg-muted border border-muted rounded p-2 flex justify-center"},[o.label]),p(ih,{modelValue:o.children||[],animation:150,group:{name:"widget",pull:"clone",put:!1},sort:!1,clone:a,class:"grid grid-cols-2 items-start gap-2 "},{default:()=>[o.children?.map(s=>p("div",{key:s.name,class:"border border-muted rounded-sm p-2 flex flex-col items-center gap-2 cursor-pointer hover:bg-muted  edit-drag"},[p("div",{class:xt(["size-6",s.icon])},null),p("div",{class:"truncate whitespace-nowrap px-2 overflow-hidden"},[s.label])]))]})]))])]})]),p("div",{class:"flex-1 shadow-sm flex flex-col items-center p-6 overflow-auto",style:"background: linear-gradient(45deg, rgba(0,0,0, 0.1) 25%, transparent 25%), linear-gradient(-45deg, rgba(0,0,0, 0.1) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, rgba(0,0,0, 0.1) 75%), linear-gradient(-45deg, transparent 75%, rgba(0,0,0, 0.1) 75%); background-size: 20px 20px; background-position: 0 0, 0 10px, 10px -10px, -10px 0px;"},[p("div",{class:"max-w-2xl w-full flex-1 bg-default shadow p-2",onClick:()=>{n.selected.value=void 0}},[t.previewWrapper?t.previewWrapper(p(Ql,{modelValue:n.value.value?.data,onUpdate:o=>n.value.value.data=o},null),n):p(Ql,{modelValue:n.value.value?.data,onUpdate:o=>n.value.value.data=o},null)])]),p(r4,{actionRender:t.actionRender},null)])]})}});function M2({title:t,icon:e,active:n,onClick:r}){return p("div",{class:xt(["flex flex-col items-center px-3 py-2 hover:bg-primary/10 cursor-pointer rounded-sm",n?"bg-primary/10 text-primary":""]),onClick:r},[p("div",{class:xt(["size-4",e])},null),p("div",{class:"truncate whitespace-nowrap text-default text-sm"},[t])])}const a0=Y({name:"DuxDrawApps",setup(){return()=>p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 716.79 683.19"},[p("path",{d:"m450.81,682c0,.66.53,1.19,1.19,1.19h263.59c.66,0,1.19-.53,1.19-1.19s-.53-1.19-1.19-1.19h-263.59c-.66,0-1.19.53-1.19,1.19Z",fill:"#3f3d58"},null),p("g",null,[p("path",{d:"m546.64,348.65l-3.05,7.63s-2.81,10.68.48,14.94,4.02,36.87.49,39.28c-3.54,2.41,44.82-22.33,44.82-22.33,0,0-18.88-43.78-19.2-43.94s-12.69-4.02-12.69-4.02l-10.84,8.43Z",fill:"#2f2e43"},null),p("polygon",{points:"578.12 386.36 561.92 391.69 561.92 368.37 576.62 368.37 578.12 386.36",fill:"#f6a6a9"},null),p("path",{id:"uuid-48393ca6-ae17-4485-8fd8-05ea309d195e-638",d:"m528.6,518.76c-.88,5.34-4.44,9.17-7.96,8.56-3.52-.62-5.66-5.45-4.78-10.79.32-2.14,1.17-4.16,2.47-5.9l4.02-22.59,10.93,2.29-5.12,22.02c.67,2.08.83,4.28.44,6.41,0,0,0,0,0,0Z",fill:"#f6a6a9"},null),p("rect",{x:"556.86",y:"647.44",width:"15.18",height:"21.53",fill:"#f6a6a9"},null),p("path",{d:"m542.08,682c-1.6,0-3.02-.04-4.09-.14-4.03-.37-7.88-3.34-9.81-5.08-.87-.78-1.15-2.03-.69-3.1h0c.32-.77.97-1.35,1.78-1.58l10.65-3.04,17.25-11.64.19.34c.07.13,1.77,3.18,2.33,5.24.22.78.16,1.44-.17,1.94-.23.35-.54.55-.8.67.31.33,1.29.99,4.3,1.47,4.4.7,5.32-3.86,5.36-4.05l.03-.15.13-.08c2.09-1.35,3.38-1.96,3.83-1.83.28.08.74.22,1.99,12.64.13.39,1,3.25.41,5.98-.65,2.97-13.63,1.95-16.23,1.71-.07,0-9.8.7-16.46.7Z",fill:"#2f2e43"},null),p("rect",{x:"606.91",y:"632.91",width:"15.18",height:"21.53",transform:"translate(-247.53 422.68) rotate(-31.95)",fill:"#f6a6a9"},null),p("path",{d:"m598.14,679.05c-1.78,0-3.42-.21-4.58-.42-1.15-.2-2.04-1.11-2.23-2.26h0c-.13-.83.11-1.66.67-2.28l7.43-8.22,8.48-19,.35.19c.13.07,3.18,1.76,4.75,3.21.6.55.9,1.14.88,1.74,0,.42-.17.76-.32.99.44.11,1.62.16,4.43-1.03,4.1-1.73,2.48-6.09,2.4-6.28l-.06-.14.07-.14c1.06-2.25,1.83-3.46,2.28-3.58.28-.08.75-.2,8.38,9.67.31.26,2.57,2.22,3.51,4.86,1.02,2.87-10.54,8.87-12.86,10.04-.07.06-12.17,8.85-17.13,11.35-1.97.99-4.3,1.3-6.43,1.3Z",fill:"#2f2e43"},null),p("path",{d:"m583.21,467.41h-42.48l-3.86,39.52,16.87,146.02h21.69l-8.67-84.34,35.18,76.14,19.28-13.49-27.47-71.08s9.81-61.93,2.1-77.35c-7.71-15.42-12.63-15.42-12.63-15.42Z",fill:"#2f2e43"},null),p("polygon",{points:"604.34 469.82 530.6 469.82 557.11 382.59 586.51 382.59 604.34 469.82",fill:"#e6e6e6"},null),p("path",{d:"m561.75,382.6s-18.31-.48-20.24,4.34c-1.93,4.82-24.58,119.52-24.58,119.52h14.94l29.88-123.86Z",fill:"#e6e6e6"},null),p("circle",{cx:"563.93",cy:"358.68",r:"16.14",fill:"#f6a6a9"},null),p("path",{d:"m567.06,333.6s19.44-4.98,25.38,20.88c0,0,.16,6.75,3.53,9.48,3.37,2.73,2.25,16.87,2.25,16.87,0,0,6.43,10.6.96,15.42,0,0-2.41,9.8,1.12,15.42,3.53,5.62,16.87,36.55-5.3,38.43,0,0-11.24-6.79-5.94-27.03,5.3-20.24-.64-31.42-.64-31.42,0,0-17.03-6.17-16.06-19.35.96-13.17-10.92-26.18-11.73-26.02s-9.16-4.66-12.85,10.12l-3.96-.67s-1.66-24.87,23.24-22.14Z",fill:"#2f2e43"},null),p("g",null,[p("path",{id:"uuid-5634515f-d760-4925-b0a8-442b9e09929d-639",d:"m616.92,516.16c1.08,5.31-.89,10.15-4.4,10.83-3.51.67-7.22-3.08-8.3-8.39-.46-2.11-.39-4.31.21-6.39l-4.27-22.54,11.03-1.74,3.03,22.41c1.37,1.71,2.29,3.71,2.69,5.84,0,0,0,0,0,0Z",fill:"#f6a6a9"},null),p("path",{d:"m573.66,382.7s16.13-2.04,18.06,2.78c1.93,4.82,24.58,119.52,24.58,119.52h-14.94s-27.69-122.29-27.69-122.29Z",fill:"#e6e6e6"},null)])]),p("path",{d:"m96.98,211.83H18.38c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38ZM18.38,98.48c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38H18.38Z",fill:"#ccc"},null),p("path",{d:"m267.66,211.83h-78.6c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38h-78.6Z",fill:"#ccc"},null),p("path",{d:"m267.66,425.9h-78.6c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38h-78.6Z",fill:"#ccc"},null),p("path",{d:"m96.98,425.9H18.38c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38H18.38Z",fill:"#ccc"},null),p("circle",{cx:"111.03",cy:"315.66",r:"23.31",fill:"rgba(var(--ui-color-primary))"},null),p("path",{d:"m438.34,211.83h-78.6c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38h-78.6Z",fill:"#ccc"},null),p("circle",{cx:"455.72",cy:"101.6",r:"23.31",fill:"rgba(var(--ui-color-primary))"},null),p("path",{d:"m78.21,235.83H31.32c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),p("path",{d:"m251.8,235.83h-46.89c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),p("path",{d:"m425.4,235.83h-46.89c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),p("path",{d:"m438.34,427.9h-78.6c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38h-78.6Z",fill:"#ccc"},null),p("path",{d:"m425.4,451.89h-46.89c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),p("path",{d:"m609.03,211.83h-78.6c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38h-78.6Z",fill:"#ccc"},null),p("path",{d:"m596.08,235.83h-46.89c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),p("path",{d:"m78.21,449.89H31.32c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),p("path",{d:"m251.8,449.89h-46.89c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),p("g",null,[p("circle",{cx:"297.74",cy:"513.92",r:"5.72",fill:"rgba(var(--ui-color-primary))"},null),p("circle",{cx:"314.7",cy:"513.92",r:"5.72",fill:"#e6e6e6"},null),p("circle",{cx:"331.66",cy:"513.92",r:"5.72",fill:"#e6e6e6"},null)]),p("path",{d:"m393.26,28.19h-157.14c-7.77,0-14.09-6.32-14.09-14.09s6.32-14.09,14.09-14.09h157.14c7.77,0,14.09,6.32,14.09,14.09s-6.32,14.09-14.09,14.09ZM236.13,2c-6.67,0-12.09,5.43-12.09,12.09s5.43,12.09,12.09,12.09h157.14c6.67,0,12.09-5.43,12.09-12.09s-5.43-12.09-12.09-12.09h-157.14Z",fill:"#ccc"},null),p("g",null,[p("path",{d:"m281.11,17.78c-3.16,0-5.73-2.57-5.73-5.73s2.57-5.73,5.73-5.73,5.73,2.57,5.73,5.73-2.57,5.73-5.73,5.73Zm0-9.9c-2.3,0-4.17,1.87-4.17,4.17s1.87,4.17,4.17,4.17,4.17-1.87,4.17-4.17-1.87-4.17-4.17-4.17Z",fill:"#484662"},null),p("path",{d:"m291.91,22.47c-.18,0-.36-.06-.51-.19l-7.24-6.21c-.33-.28-.36-.77-.08-1.1.28-.33.77-.36,1.1-.08l7.24,6.21c.33.28.36.77.08,1.1-.15.18-.37.27-.59.27Z",fill:"#484662"},null)])])}}),o0=Y({name:"DuxDrawAuth",setup(){return()=>p("svg",{viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{id:"Ellipse 653",d:"M150 75C150 116.42 116.42 150 75 150C33.57 150 0 116.42 0 75C0 33.57 33.57 0 75 0C116.42 0 150 33.57 150 75Z",fill:"rgba(var(--ui-color-primary) / .3)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Subtraction 1",d:"M120 150L30 150L30 53C34.24 52.99 38.3 51.3 41.3 48.3C44.3 45.3 45.99 41.24 46 37L104 37C103.99 39.1 104.4 41.18 105.21 43.12C106.01 45.06 107.2 46.82 108.69 48.3C110.17 49.79 111.93 50.98 113.87 51.78C115.81 52.59 117.89 53 120 53L120 150Z",fill:"rgba(var(--ui-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Ellipse 665",d:"M99 78C99 91.25 88.25 102 75 102C61.74 102 51 91.25 51 78C51 64.74 61.74 54 75 54C88.25 54 99 64.74 99 78Z",fill:"rgba(var(--ui-color-primary))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Path 25936",d:"M83.48 89.31L75 80.82L66.51 89.31L63.68 86.48L72.17 78L63.68 69.51L66.51 66.68L75 75.17L83.48 66.68L86.31 69.51L77.82 78L86.31 86.48L83.48 89.31Z",fill:"rgba(var(--ui-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5617",d:"M62 108L88 108C89.65 108 91 109.34 91 111C91 112.65 89.65 114 88 114L62 114C60.34 114 59 112.65 59 111C59 109.34 60.34 108 62 108Z",fill:"rgba(var(--ui-color-primary) / .2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5618",d:"M53 120L97 120C98.65 120 100 121.34 100 123C100 124.65 98.65 126 97 126L53 126C51.34 126 50 124.65 50 123C50 121.34 51.34 120 53 120Z",fill:"rgba(var(--ui-color-primary) / .2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null)])}}),vc=Y({name:"DuxDrawEmptyForm",setup(){return()=>p("svg",{viewBox:"0 0 162 162",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("defs",null,[p("linearGradient",{x1:"81.000000",y1:"9.000000",x2:"81.000000",y2:"159.000000",id:"paint_linear_1_260_0",gradientUnits:"userSpaceOnUse"},[p("stop",{"stop-color":"#E3ECFA"},null),p("stop",{offset:"1.000000","stop-color":"#DAE7FF"},null)]),p("linearGradient",{x1:"81.000000",y1:"9.000000",x2:"81.000000",y2:"159.000000",id:"paint_linear_4_2_0",gradientUnits:"userSpaceOnUse"},[p("stop",{"stop-color":"#E3ECFA"},null),p("stop",{offset:"1.000000","stop-color":"#DAE7FF"},null)])]),p("path",{id:"Ellipse 652",d:"M156 84C156 125.42 122.42 159 81 159C39.57 159 6 125.42 6 84C6 42.57 39.57 9 81 9C122.42 9 156 42.57 156 84Z",fill:"rgba(var(--ui-color-primary) / .3)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("g",{filter:"url(#filter_1_261_dd)"},[p("mask",{id:"mask4_2","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"6.000000",y:"9.000000",width:"150.000000",height:"150.000000"},[p("path",{id:"Ellipse 653",d:"M156 84C156 125.42 122.42 159 81 159C39.57 159 6 125.42 6 84C6 42.57 39.57 9 81 9C122.42 9 156 42.57 156 84Z",fill:"url(#paint_linear_4_2_0)","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),p("g",{mask:"url(#mask4_2)"},[p("path",{id:"Rectangle 5615",d:"M38 52L124 52C126.76 52 129 54.23 129 57L129 162C129 164.76 126.76 167 124 167L38 167C35.23 167 33 164.76 33 162L33 57C33 54.23 35.23 52 38 52Z",fill:"rgba(var(--ui-bg-elevated))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)])]),p("path",{id:"Rectangle 5617",d:"M46 62L72 62C73.65 62 75 63.34 75 65C75 66.65 73.65 68 72 68L46 68C44.34 68 43 66.65 43 65C43 63.34 44.34 62 46 62Z",fill:"rgba(var(--ui-color-primary), .2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5620",d:"M46 104L72 104C73.65 104 75 105.34 75 107C75 108.65 73.65 110 72 110L46 110C44.34 110 43 108.65 43 107C43 105.34 44.34 104 46 104Z",fill:"rgba(var(--ui-color-primary), .2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Vector",d:"M114 77C116.2 77 118 78.79 118 81L118 91C118 93.2 116.2 95 114 95L48 95C45.79 95 44 93.2 44 91L44 81C44 78.79 45.79 77 48 77L114 77Z",stroke:"rgba(var(--ui-color-primary))","stroke-opacity":"1.000000","stroke-width":"2.000000"},null),p("path",{id:"Rectangle 5619",d:"M48 118L114 118C116.76 118 119 120.23 119 123L119 131C119 133.76 116.76 136 114 136L48 136C45.23 136 43 133.76 43 131L43 123C43 120.23 45.23 118 48 118Z",fill:"rgba(var(--ui-color-primary) / .3)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Ellipse 654",d:"M63 37C63 39.2 61.2 41 59 41C56.79 41 55 39.2 55 37C55 34.79 56.79 33 59 33C61.2 33 63 34.79 63 37Z",fill:"rgba(var(--ui-bg-elevated))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Ellipse 655",d:"M85 37C85 39.2 83.2 41 81 41C78.79 41 77 39.2 77 37C77 34.79 78.79 33 81 33C83.2 33 85 34.79 85 37Z",fill:"rgba(var(--ui-color-primary))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Ellipse 656",d:"M107 37C107 39.2 105.2 41 103 41C100.79 41 99 39.2 99 37C99 34.79 100.79 33 103 33C105.2 33 107 34.79 107 37Z",fill:"rgba(var(--ui-bg-elevated))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Ellipse 658",d:"M97 92C97 94.76 94.76 97 92 97C89.23 97 87 94.76 87 92C87 89.23 89.23 87 92 87C94.76 87 97 89.23 97 92Z",fill:"rgba(var(--ui-color-primary) / .3)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Path 25916",d:"M95.9 113.37C95.1 113.37 94.36 113.37 93.68 113.32C92.84 113.27 92.03 112.98 91.35 112.49C90.66 112.01 90.12 111.34 89.79 110.57L85.57 102.24C85.26 101.88 85.11 101.41 85.14 100.93C85.18 100.46 85.4 100.02 85.75 99.71C86.05 99.47 86.41 99.34 86.79 99.35C87.07 99.36 87.34 99.42 87.59 99.55C87.83 99.67 88.05 99.85 88.23 100.06L90.14 102.68L90.17 102.71L90.17 92.78C90.17 92.28 90.37 91.81 90.72 91.46C91.06 91.11 91.54 90.92 92.03 90.92C92.52 90.92 93 91.11 93.34 91.46C93.69 91.81 93.89 92.28 93.89 92.78L93.89 99.28C93.87 99.04 93.89 98.79 93.97 98.57C94.05 98.34 94.17 98.13 94.33 97.95C94.5 97.78 94.69 97.63 94.91 97.54C95.13 97.44 95.37 97.39 95.61 97.39C95.85 97.39 96.09 97.44 96.31 97.54C96.53 97.63 96.72 97.78 96.89 97.95C97.05 98.13 97.17 98.34 97.25 98.57C97.33 98.79 97.35 99.04 97.33 99.28L97.33 100.63C97.31 100.39 97.34 100.15 97.42 99.92C97.49 99.69 97.62 99.49 97.78 99.31C97.94 99.13 98.14 98.99 98.36 98.89C98.58 98.8 98.81 98.75 99.05 98.75C99.29 98.75 99.53 98.8 99.75 98.89C99.97 98.99 100.17 99.13 100.33 99.31C100.49 99.49 100.62 99.69 100.69 99.92C100.77 100.15 100.8 100.39 100.78 100.63L100.78 101.67C100.75 101.44 100.78 101.19 100.86 100.97C100.94 100.74 101.06 100.53 101.22 100.35C101.38 100.18 101.58 100.03 101.8 99.94C102.02 99.84 102.26 99.79 102.5 99.79C102.74 99.79 102.98 99.84 103.2 99.94C103.42 100.03 103.61 100.18 103.77 100.35C103.94 100.53 104.06 100.74 104.14 100.97C104.21 101.19 104.24 101.44 104.22 101.67L104.22 108.01C104.19 109.96 103.31 113.25 100.21 113.25C99.98 113.26 98.08 113.37 95.91 113.37L95.9 113.37Z",fill:"rgba(var(--ui-color-primary))","fill-opacity":"1.000000","fill-rule":"nonzero"},null),p("path",{id:"Path 25916",d:"M93.68 113.32C92.84 113.27 92.03 112.98 91.35 112.49C90.66 112.01 90.12 111.34 89.79 110.57L85.57 102.24C85.26 101.88 85.11 101.41 85.14 100.93C85.18 100.46 85.4 100.02 85.75 99.71C86.05 99.47 86.41 99.34 86.79 99.35C87.07 99.36 87.34 99.42 87.59 99.55C87.83 99.67 88.05 99.85 88.23 100.06L90.14 102.68L90.17 102.71L90.17 92.78C90.17 92.28 90.37 91.81 90.72 91.46C91.06 91.11 91.54 90.92 92.03 90.92C92.52 90.92 93 91.11 93.34 91.46C93.69 91.81 93.89 92.28 93.89 92.78L93.89 99.28C93.87 99.04 93.89 98.79 93.97 98.57C94.05 98.34 94.17 98.13 94.33 97.95C94.5 97.78 94.69 97.63 94.91 97.54C95.13 97.44 95.37 97.39 95.61 97.39C95.85 97.39 96.09 97.44 96.31 97.54C96.53 97.63 96.72 97.78 96.89 97.95C97.05 98.13 97.17 98.34 97.25 98.57C97.33 98.79 97.35 99.04 97.33 99.28L97.33 100.63C97.31 100.39 97.34 100.15 97.42 99.92C97.49 99.69 97.62 99.49 97.78 99.31C97.94 99.13 98.14 98.99 98.36 98.89C98.58 98.8 98.81 98.75 99.05 98.75C99.29 98.75 99.53 98.8 99.75 98.89C99.97 98.99 100.17 99.13 100.33 99.31C100.49 99.49 100.62 99.69 100.69 99.92C100.77 100.15 100.8 100.39 100.78 100.63L100.78 101.67C100.75 101.44 100.78 101.19 100.86 100.97C100.94 100.74 101.06 100.53 101.22 100.35C101.38 100.18 101.58 100.03 101.8 99.94C102.02 99.84 102.26 99.79 102.5 99.79C102.74 99.79 102.98 99.84 103.2 99.94C103.42 100.03 103.61 100.18 103.77 100.35C103.94 100.53 104.06 100.74 104.14 100.97C104.21 101.19 104.24 101.44 104.22 101.67L104.22 108.01C104.19 109.96 103.31 113.25 100.21 113.25C99.98 113.26 98.08 113.37 95.91 113.37L95.9 113.37C95.1 113.37 94.36 113.37 93.68 113.32Z",stroke:"rgba(var(--ui-bg-elevated))","stroke-opacity":"1.000000","stroke-width":"1.000000"},null)])}}),a4=Y({name:"DuxDrawError",setup(){return()=>p("svg",{viewBox:"0 0 200 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("defs",null,[p("filter",{id:"filter_1_304_dd",x:"0.000000",y:"7.000000",width:"157.000000",height:"47.000000",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[p("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},null),p("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null),p("feOffset",{dx:"0",dy:"3"},null),p("feGaussianBlur",{stdDeviation:"2"},null),p("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"},null),p("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"},null),p("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"},null),p("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"},null)]),p("filter",{id:"filter_1_313_dd",x:"43.000000",y:"50.000000",width:"157.000000",height:"47.000000",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[p("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},null),p("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null),p("feOffset",{dx:"0",dy:"3"},null),p("feGaussianBlur",{stdDeviation:"2"},null),p("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"},null),p("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"},null),p("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"},null),p("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"},null)]),p("filter",{id:"filter_1_322_dd",x:"0.000000",y:"93.000000",width:"157.000000",height:"47.000000",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[p("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},null),p("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null),p("feOffset",{dx:"0",dy:"3"},null),p("feGaussianBlur",{stdDeviation:"2"},null),p("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"},null),p("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"},null),p("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"},null),p("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"},null)]),p("linearGradient",{id:"paint_linear_1_302_0",x1:"102.000000",y1:"0.000000",x2:"102.000000",y2:"140.000000",gradientUnits:"userSpaceOnUse"},[p("stop",{"stop-color":"rgba(var(--ui-color-warning) / 0.2)"},null),p("stop",{offset:"1.000000","stop-color":"rgba(var(--ui-color-warning) / 0.2)"},null)])]),p("path",{id:"Rectangle 5622",d:"M42 0L162 0C167.52 0 172 4.47 172 10L172 130C172 135.52 167.52 140 162 140L42 140C36.47 140 32 135.52 32 130L32 10C32 4.47 36.47 0 42 0Z",fill:"url(#paint_linear_1_302_0)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("g",{filter:"url(#filter_1_304_dd)"},[p("path",{id:"Rectangle 5623",d:"M11 10L146 10C148.76 10 151 12.23 151 15L151 40C151 42.76 148.76 45 146 45L11 45C8.23 45 6 42.76 6 40L6 15C6 12.23 8.23 10 11 10Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),p("path",{id:"Rectangle 5617",d:"M49 18L75 18C76.65 18 78 19.34 78 21C78 22.65 76.65 24 75 24L49 24C47.34 24 46 22.65 46 21C46 19.34 47.34 18 49 18Z",fill:"rgba(var(--ui-color-warning) / 0.4)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5618",d:"M49 31L93 31C94.65 31 96 32.34 96 34C96 35.65 94.65 37 93 37L49 37C47.34 37 46 35.65 46 34C46 32.34 47.34 31 49 31Z",fill:"rgba(var(--ui-color-warning) / 0.2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5624",d:"M14 13L33 13C35.76 13 38 15.23 38 18L38 37C38 39.76 35.76 42 33 42L14 42C11.23 42 9 39.76 9 37L9 18C9 15.23 11.23 13 14 13Z",fill:"rgba(var(--ui-color-warning) / 0.8)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Path 25917",d:"M21.22 30.78L23.22 30.78L23.24 30.01C23.24 28.99 23.88 28.73 24.78 28.44C25.68 28.19 26.48 27.64 27.05 26.89C27.62 26.14 27.92 25.23 27.93 24.29C27.94 23.71 27.85 23.14 27.63 22.6C27.42 22.07 27.1 21.59 26.69 21.18C26.28 20.78 25.79 20.47 25.25 20.26C24.72 20.06 24.14 19.97 23.57 20C22.96 19.98 22.36 20.09 21.8 20.32C21.23 20.55 20.72 20.88 20.3 21.31C19.87 21.74 19.53 22.26 19.31 22.82C19.08 23.39 18.98 23.99 18.99 24.6L21.06 24.6C21.05 24.26 21.11 23.93 21.23 23.62C21.36 23.3 21.54 23.02 21.77 22.78C22.01 22.54 22.29 22.35 22.6 22.22C22.9 22.09 23.24 22.02 23.57 22.02C23.87 22 24.18 22.05 24.46 22.16C24.74 22.27 24.99 22.44 25.21 22.65C25.42 22.87 25.58 23.13 25.68 23.42C25.78 23.7 25.82 24.01 25.79 24.31C25.78 24.79 25.61 25.27 25.31 25.65C25.01 26.03 24.59 26.31 24.12 26.44L23.4 26.73C22.68 26.9 22.06 27.33 21.66 27.94C21.25 28.55 21.08 29.28 21.2 30.01L21.22 30.78ZM22.21 35.53C22.4 35.54 22.6 35.5 22.78 35.43C22.96 35.36 23.13 35.26 23.27 35.12C23.41 34.99 23.53 34.82 23.61 34.64C23.68 34.46 23.72 34.27 23.73 34.08C23.72 33.88 23.68 33.69 23.6 33.51C23.53 33.33 23.41 33.16 23.27 33.03C23.13 32.89 22.96 32.79 22.78 32.72C22.6 32.65 22.4 32.62 22.21 32.62C22.01 32.62 21.82 32.65 21.63 32.72C21.45 32.79 21.28 32.89 21.14 33.03C21 33.16 20.89 33.33 20.81 33.51C20.73 33.69 20.69 33.88 20.69 34.08C20.69 34.27 20.73 34.46 20.81 34.64C20.89 34.82 21 34.99 21.14 35.12C21.28 35.26 21.45 35.36 21.63 35.43C21.82 35.5 22.01 35.54 22.21 35.53L22.21 35.53Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("g",{filter:"url(#filter_1_313_dd)"},[p("path",{id:"Path 25918",d:"M54 53L189 53C190.32 53 191.59 53.52 192.53 54.46C193.47 55.4 194 56.67 194 58L194 83C194 84.32 193.47 85.59 192.53 86.53C191.59 87.47 190.32 88 189 88L54 88C52.67 88 51.4 87.47 50.46 86.53C49.52 85.59 49 84.32 49 83L49 58C49 56.67 49.52 55.4 50.46 54.46C51.4 53.52 52.67 53 54 53L54 53Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),p("path",{id:"Rectangle 5617",d:"M92 61L118 61C119.65 61 121 62.34 121 64C121 65.65 119.65 67 118 67L92 67C90.34 67 89 65.65 89 64C89 62.34 90.34 61 92 61Z",fill:"rgba(var(--ui-color-warning) / 0.4)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5618",d:"M92 74L136 74C137.65 74 139 75.34 139 77C139 78.65 137.65 80 136 80L92 80C90.34 80 89 78.65 89 77C89 75.34 90.34 74 92 74Z",fill:"rgba(var(--ui-color-warning) / 0.2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5624",d:"M57 56L76 56C78.76 56 81 58.23 81 61L81 80C81 82.76 78.76 85 76 85L57 85C54.23 85 52 82.76 52 80L52 61C52 58.23 54.23 56 57 56Z",fill:"rgba(var(--ui-color-warning) / 0.8)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Path 25917",d:"M64.22 73.78L66.22 73.78L66.24 73.01C66.24 71.99 66.88 71.73 67.78 71.44C68.68 71.19 69.48 70.64 70.05 69.89C70.62 69.14 70.92 68.23 70.93 67.29C70.94 66.71 70.85 66.14 70.63 65.6C70.42 65.07 70.1 64.59 69.69 64.18C69.28 63.78 68.79 63.47 68.25 63.26C67.72 63.06 67.14 62.97 66.57 63C65.96 62.98 65.36 63.09 64.8 63.32C64.23 63.55 63.72 63.88 63.3 64.31C62.87 64.74 62.53 65.26 62.31 65.82C62.08 66.39 61.98 66.99 61.99 67.6L64.06 67.6C64.05 67.26 64.11 66.93 64.23 66.62C64.36 66.3 64.54 66.02 64.77 65.78C65.01 65.54 65.29 65.35 65.6 65.22C65.9 65.09 66.24 65.02 66.57 65.02C66.87 65 67.18 65.05 67.46 65.16C67.74 65.27 67.99 65.44 68.21 65.65C68.42 65.87 68.58 66.13 68.68 66.42C68.78 66.7 68.82 67.01 68.79 67.31C68.78 67.79 68.61 68.27 68.31 68.65C68.01 69.03 67.59 69.31 67.12 69.44L66.4 69.73C65.68 69.9 65.06 70.33 64.66 70.94C64.25 71.55 64.08 72.28 64.19 73.01L64.22 73.78ZM65.21 78.53C65.4 78.54 65.6 78.5 65.78 78.43C65.96 78.36 66.13 78.26 66.27 78.12C66.41 77.99 66.53 77.82 66.61 77.64C66.68 77.46 66.72 77.27 66.73 77.08C66.72 76.88 66.68 76.69 66.6 76.51C66.53 76.33 66.41 76.16 66.27 76.03C66.13 75.89 65.96 75.79 65.78 75.72C65.6 75.65 65.4 75.62 65.21 75.62C65.01 75.62 64.82 75.65 64.63 75.72C64.45 75.79 64.28 75.89 64.14 76.03C64 76.16 63.89 76.33 63.81 76.51C63.73 76.69 63.69 76.88 63.69 77.08C63.69 77.27 63.73 77.46 63.81 77.64C63.89 77.82 64 77.99 64.14 78.12C64.28 78.26 64.45 78.36 64.63 78.43C64.82 78.5 65.01 78.54 65.21 78.53L65.21 78.53Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("g",{filter:"url(#filter_1_322_dd)"},[p("path",{id:"Path 25919",d:"M11 96L146 96C147.32 96 148.59 96.52 149.53 97.46C150.47 98.4 151 99.67 151 101L151 126C151 127.32 150.47 128.59 149.53 129.53C148.59 130.47 147.32 131 146 131L11 131C9.67 131 8.4 130.47 7.46 129.53C6.52 128.59 6 127.32 6 126L6 101C6 99.67 6.52 98.4 7.46 97.46C8.4 96.52 9.67 96 11 96L11 96Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),p("path",{id:"Rectangle 5617",d:"M49 104L75 104C76.65 104 78 105.34 78 107C78 108.65 76.65 110 75 110L49 110C47.34 110 46 108.65 46 107C46 105.34 47.34 104 49 104Z",fill:"rgba(var(--ui-color-warning) / 0.4)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5618",d:"M49 117L93 117C94.65 117 96 118.34 96 120C96 121.65 94.65 123 93 123L49 123C47.34 123 46 121.65 46 120C46 118.34 47.34 117 49 117Z",fill:"rgba(var(--ui-color-warning) / 0.2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Rectangle 5624",d:"M14 99L33 99C35.76 99 38 101.23 38 104L38 123C38 125.76 35.76 128 33 128L14 128C11.23 128 9 125.76 9 123L9 104C9 101.23 11.23 99 14 99Z",fill:"rgba(var(--ui-color-warning) / 0.8)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),p("path",{id:"Path 25917",d:"M21.22 116.78L23.22 116.78L23.24 116.01C23.24 114.99 23.88 114.73 24.78 114.44C25.68 114.19 26.48 113.64 27.05 112.89C27.62 112.14 27.92 111.23 27.93 110.29C27.94 109.71 27.85 109.14 27.63 108.61C27.42 108.07 27.1 107.59 26.69 107.18C26.28 106.78 25.79 106.47 25.25 106.26C24.72 106.06 24.14 105.97 23.57 106C22.96 105.98 22.36 106.09 21.8 106.32C21.23 106.55 20.72 106.88 20.3 107.31C19.87 107.75 19.53 108.26 19.31 108.82C19.08 109.39 18.98 109.99 18.99 110.6L21.06 110.6C21.05 110.26 21.11 109.93 21.23 109.62C21.36 109.3 21.54 109.02 21.77 108.78C22.01 108.54 22.29 108.35 22.6 108.22C22.9 108.09 23.24 108.02 23.57 108.02C23.87 108 24.18 108.05 24.46 108.16C24.74 108.27 24.99 108.44 25.21 108.66C25.42 108.87 25.58 109.13 25.68 109.42C25.78 109.7 25.82 110.01 25.79 110.31C25.78 110.8 25.61 111.27 25.31 111.65C25.01 112.03 24.59 112.31 24.12 112.44L23.4 112.73C22.68 112.9 22.06 113.33 21.66 113.94C21.25 114.55 21.08 115.28 21.2 116.01L21.22 116.78ZM22.21 121.53C22.4 121.54 22.6 121.5 22.78 121.43C22.96 121.36 23.13 121.26 23.27 121.12C23.41 120.99 23.53 120.83 23.61 120.65C23.68 120.47 23.72 120.27 23.73 120.08C23.72 119.88 23.68 119.69 23.6 119.51C23.53 119.33 23.41 119.16 23.27 119.03C23.13 118.89 22.96 118.79 22.78 118.72C22.6 118.65 22.4 118.62 22.21 118.62C22.01 118.62 21.82 118.65 21.63 118.72C21.45 118.79 21.28 118.89 21.14 119.03C21 119.16 20.89 119.33 20.81 119.51C20.73 119.69 20.69 119.88 20.69 120.08C20.69 120.27 20.73 120.47 20.81 120.65C20.89 120.83 21 120.99 21.14 121.12C21.28 121.26 21.45 121.36 21.63 121.43C21.82 121.5 22.01 121.54 22.21 121.53L22.21 121.53Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)])}}),Za=Y({name:"DuxDrawerPage",props:{title:String,onClose:Function,onConfirm:Function,scrollbar:{type:Boolean,default:!0}},setup(t,{slots:e}){const n=ie();return ye(n,r=>{r&&An(()=>{r.$el?.focus?.()})}),()=>p("div",{class:"h-full flex flex-col"},[p("div",{class:"flex justify-between items-center p-2 border-b border-default"},[p("div",{class:"text-base"},[t?.title]),p("div",{class:"flex items-center gap-2"},[e.header?.(),p(ge,{quaternary:!0,ref:n,size:"small",color:"default",class:"!px-1 h-6",onClick:()=>t.onClose?.()},{default:()=>[p("div",{class:"i-tabler:x w-5 h-5"},null)]})])]),p("div",{class:"flex-1 min-h-1"},[t.scrollbar?p(pi,null,{default:()=>[e.default?.()]}):e.default?.()]),e.footer&&p("div",{class:"flex-none border-t border-muted p-4 flex justify-end gap-2"},[e.footer?.({onClose:t.onClose,onConfirm:t.onConfirm})])])}}),s0=Y({name:"DuxAiEditor",props:{value:String,defaultValue:String,uploadPath:String,uploadHeaders:Object,aiPath:String,height:{type:String,default:"500px"},onUpdateValue:Function},setup(t,{emit:e}){const n=ie();let r=null;const i=va(),{config:a}=lt(),o=Rn(),{t:s}=_e(),l=_n(),c=Be(t,"value",e,{passive:!0}),u=V(()=>t.uploadPath||a.apiPath?.upload||"upload"),d=no({path:u.value,autoUpload:!1});ye(c,h=>{r&&(r.setContent(h||""),t.onUpdateValue?.(c.value||""))},{immediate:!0});const f=h=>new Promise((g,m)=>{d.addFiles([h],"file").then(()=>{d.trigger().then(v=>{v.forEach(b=>{const y=b?.data?.data;g({errorCode:0,data:{src:y?.url,alt:b?.filename}})})}).catch(v=>{l.error(v.message),m(v)}).finally(()=>{d.clearFiles()})})});return Tr(()=>{r=new DC({theme:i.isDark.value?"dark":"light",element:n.value,placeholder:s("components.editor.placeholder"),content:t.defaultValue||"",onBlur:h=>{c.value=h.getHtml()},image:{uploadUrl:u.value,uploadHeaders:t.uploadHeaders||{},uploader:f},video:{uploadUrl:u.value,uploadHeaders:t.uploadHeaders||{},uploader:f},attachment:{uploadUrl:u.value,uploadHeaders:t.uploadHeaders||{},uploader:f},ai:{models:{custom:{url:t.aiPath||a.apiPath?.ai||"ai",headers:()=>({"Content-Type":"application/json",Authorization:o.token}),wrapPayload:h=>JSON.stringify({prompt:h}),parseMessage:h=>{const g=JSON.parse(h);return{role:"assistant",content:g.message,index:g.number,status:g.status}},protocol:"sse"}}}})}),ts(()=>{r?.destroy()}),ye(i.isDark,h=>{n.value&&(n.value.classList.remove("aie-theme-dark","aie-theme-light"),n.value.classList.add(h?"aie-theme-dark":"aie-theme-light"))},{immediate:!0}),()=>p("div",{ref:n,style:`height: ${t.height}; width:100%`},null)}});function R2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const ZB=Y({name:"DuxDrawerForm",props:{id:{type:[String,Number]},action:{type:String},path:{type:String},data:{type:Object},onClose:{type:Function},title:{type:String},onSuccess:{type:Function},onError:{type:Function},invalidate:{type:String}},extends:Bi,setup(t,{slots:e}){const{t:n}=_e(),r=V(()=>{const{onClose:d,onSuccess:f,onError:h,action:g,title:m,id:v,path:b,data:y,...x}=t;return x}),i=Te(t,"data",{}),a=_n(),{invalidate:o}=Ar(),{isLoading:s,onSubmit:l,onReset:c,isEdit:u}=os({id:t.id,path:t.path,form:i,action:t.action,onError:d=>{a.error(d.message||n("components.form.error")),t.onError?.(d)},onSuccess:d=>{a.success(n("components.form.success")),t.onSuccess?.(d),t.onClose?.(),t.invalidate&&o(t.invalidate)}});return()=>p(Za,{scrollbar:!1,title:t?.title||(u.value?n("components.form.edit"):n("components.form.create")),onClose:t?.onClose},{default:()=>p(pi,null,{default:()=>[p(Bi,kt({class:"p-4"},r.value),{default:()=>[e?.default?.()]})]}),footer:()=>{let d,f;return p(Vt,null,[p(ge,{onClick:c,loading:s.value},R2(d=n("components.button.reset"))?d:{default:()=>[d]}),p(ge,{type:"primary",loading:s.value,onClick:()=>l()},R2(f=n("components.button.submit"))?f:{default:()=>[f]})])}})}}),ce=Y({name:"DuxFormItem",props:{label:String,description:[String,Object],tooltip:String,path:String,labelPlacement:{type:String},labelAlign:{type:String},labelWidth:{type:Number},required:{type:Boolean,default:!1},rule:[String,Object],message:[String,Object]},setup(t,{slots:e}){const n=Te(t.message),r=V(()=>typeof t.rule=="object"?{...t.rule,required:!!t.required}:typeof t.rule=="string"?t.rule?.includes("required")?t.rule:t.rule?`${t.rule}|required`:"required":t.rule),{errorMessage:i,value:a,setErrors:o,validate:s}=jC(t.path||"",r.value||{},{label:t.label}),l=V(()=>t.required?!0:t.rule?typeof t.rule=="string"?t.rule.includes("required"):typeof t.rule=="object"?"required"in t.rule:!1:!1),c=V(()=>i.value&&(n.value||i.value));ye(c,g=>{g&&o(g)},{immediate:!0}),Yy(a,g=>{g&&s()},{throttle:300,deep:!0});const u=an("dux.form",{labelPlacement:ie("left"),labelAlign:ie("left"),labelWidth:ie(70),divider:ie(!1)}),d=V(()=>t.labelPlacement||u.labelPlacement.value),f=V(()=>{let g=t.labelWidth||u.labelWidth.value||70;return typeof g=="number"&&(g=`${g}px`),d.value!=="left"?"auto":g}),h=V(()=>u.divider.value||d.value==="page");return()=>p("div",{class:[d.value!=="top"?"md:flex-row gap-2 lg:items-center":"gap-1",h.value?"py-6":"",d.value==="setting"?"md:justify-between md:items-start md:gap-4":"",d.value==="page"?"grid grid-cols-1 lg:grid-cols-4 px-4":"flex flex-col"]},[t.label&&p("div",{class:[d.value==="left"?"flex lg:items-center":"md:mb-1",d.value==="left"&&u.labelAlign.value==="right"?"justify-end":""],style:{width:f.value}},[p("div",{class:"flex flex-col"},[p("div",null,[p("span",{class:"relative flex items-center gap-1"},[t.label,t.tooltip&&p(Ct,{trigger:"hover"},{trigger:()=>p("div",{class:"i-tabler:help size-4 text-muted"},null),default:()=>t.tooltip}),l.value&&p("span",{class:"text-error font-mono text-xs"},[Dt("*")])])]),t.description&&(d.value==="setting"||d.value==="page")&&p("div",{class:"text-sm text-muted"},[t.description])])]),p("div",{class:["flex flex-col gap-1",d.value==="setting"?"flex-none md:w-40%":"flex-1",d.value==="page"?"col-span-3":""]},[p("div",{class:d.value==="setting"?"flex-1 lg:flex lg:justify-end":""},[e?.default?.()]),t.description&&(d.value==="left"||d.value==="top")&&p("div",{class:"text-sm text-muted"},[t.description]),c.value&&p("div",{class:"text-error"},[c.value])])])}});function $2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const o4=Y({name:"DuxModalForm",props:{id:{type:[String,Number]},action:{type:String},path:{type:String},data:{type:Object},onClose:{type:Function},title:{type:String},invalidate:{type:String},onSuccess:{type:Function},onError:{type:Function}},extends:Bi,setup(t,{slots:e}){const{t:n}=_e(),r=V(()=>{const{onClose:d,onSuccess:f,onError:h,action:g,title:m,id:v,path:b,data:y,...x}=t;return x}),i=Te(t,"data",{}),a=_n(),{invalidate:o}=Ar(),{isLoading:s,onSubmit:l,onReset:c,isEdit:u}=os({id:t.id,path:t.path,form:i,action:t.action,onError:d=>{a.error(d.message||n("components.form.error")),t.onError?.(d)},onSuccess:d=>{t.invalidate&&o(t.invalidate),a.success(n("components.form.success")),t.onSuccess?.(d),t.onClose?.()}});return()=>p(bs,{title:t?.title||(u.value?n("components.form.edit"):n("components.form.create")),onClose:t?.onClose},{default:()=>p(Bi,r.value,{default:()=>[e?.default?.()]}),footer:()=>{let d,f;return p(Vt,null,[p(ge,{onClick:c,loading:s.value},$2(d=n("components.button.reset"))?d:{default:()=>[d]}),p(ge,{type:"primary",loading:s.value,onClick:()=>l()},$2(f=n("components.button.submit"))?f:{default:()=>[f]})])}})}}),so=Y({name:"DuxPage",props:{padding:{type:Boolean,default:!0},actions:{type:Array,default:()=>[]},card:{type:Boolean,default:!0},scrollbar:{type:Boolean,default:!0}},setup(t,{slots:e}){const n=ie(!1),r=i=>{const a=i.target;n.value=a.scrollTop>0};return()=>{const i=t.card?"bg-default dark:bg-muted rounded shadow-xs lg:dark:border lg:dark:border-muted":"",a=t.card&&t.padding?"p-3":"",o=t.scrollbar?"":"h-full";return p("div",{class:"h-full flex-1 flex gap-2 relative"},[p("div",{class:`z-1 absolute top-0 left-0 w-full h-10 bg-linear-to-b from-[color-mix(in_oklch,theme(colors.primary.DEFAULT),white_95%)] dark:from-[color-mix(in_oklch,theme(colors.primary.DEFAULT),theme(colors.gray.950)_95%)] to-transparent pointer-events-none transition-opacity duration-300 ${n.value?"opacity-100":"opacity-0"}`},null),e?.sideLeft?.(),t.scrollbar?p(pi,{class:[i,"flex-1 min-w-0"],contentClass:`${a} ${o}`,onScroll:r},{default:()=>[e.default?.()]}):p("div",{class:`${i} ${a} ${o} flex-1 min-w-0`},[e.default?.()]),e?.sideRight?.()])}}}),s4=Y({name:"DuxPageForm",props:{id:{type:[String,Number]},action:{type:String},title:{type:String},description:{type:String},labelPlacement:{type:String,default:"left"},path:{type:String},data:{type:Object},onSuccess:{type:Function},onError:{type:Function},invalidate:{type:String}},setup(t,{slots:e}){const{t:n}=_e(),r=Te(t,"data",{}),i=_n(),a=gn(),o=ro(),{invalidate:s}=Ar(),l=os({id:t.id,path:t.path,form:r,action:t.action,onError:u=>{i.error(u.message||n("components.form.error")),t.onError?.(u)},onSuccess:u=>{i.success(n("components.form.success")),t.onSuccess?.(u),!l.isEdit.value&&o.current&&o.delTab(o.current,d=>a.push(d.path||"")),t.invalidate&&s(t.invalidate)}}),c=o.tabs.find(u=>u.path===o.current);return()=>p(so,{card:!1,scrollbar:!1},{default:()=>[p(hr,{title:t?.title||c?.label||(l.isEdit.value?n("components.form.edit"):n("components.form.create")),description:t?.description,class:"h-full flex flex-col",contentClass:"flex-1 min-h-0",contentSize:"none","header-bordered":!0},{default:()=>p(pi,null,{default:()=>[p(Bi,{labelPlacement:t.labelPlacement,class:"p-4"},{default:()=>[e?.default?.(l)]})]}),headerExtra:()=>p("div",{class:"flex gap-6 items-center"},[e?.actions?.(l),p("div",{class:"flex gap-2"},[p(ge,{onClick:()=>l.onReset(),loading:l.isLoading.value},{default:()=>n("components.button.reset"),icon:()=>p("i",{class:"i-tabler:refresh"},null)}),p(ge,{type:"primary",onClick:()=>l.onSubmit(),loading:l.isLoading.value},{default:()=>n("components.button.submit"),icon:()=>p("i",{class:"i-tabler:device-floppy"},null)})])])})]})}}),JB=Y({name:"DuxPageTabForm",props:{id:{type:[String,Number]},action:{type:String},title:{type:String},path:{type:String},data:{type:Object},onSuccess:{type:Function},onError:{type:Function},invalidate:{type:String},defaultTab:{type:String,default:"0"}},setup(t,{slots:e}){const{t:n}=_e(),r=Te(t,"data",{}),i=_n(),a=gn(),o=ro(),{invalidate:s}=Ar(),l=os({id:t.id,path:t.path,form:r,action:t.action,onError:c=>{i.error(c.message||n("components.form.error")),t.onError?.(c)},onSuccess:c=>{i.success(n("components.form.success")),t.onSuccess?.(c),!l.isEdit.value&&o.current&&o.delTab(o.current,u=>a.push(u.path||"")),t.invalidate&&s(t.invalidate)}});return()=>p(so,{card:!1,scrollbar:!1},{default:()=>[p(hr,{class:"h-full"},{default:()=>[p(Ja,{class:"app-page-tabs",type:"line",size:"large",defaultValue:t.defaultTab},{prefix:()=>p("div",{class:"w-1"},null),default:()=>e?.default?.(l),suffix:()=>p("div",{class:"flex gap-6 items-center px-3"},[e?.actions?.(l),p("div",{class:"flex gap-2"},[p(ge,{onClick:()=>l.onReset(),loading:l.isLoading.value},{default:()=>n("components.button.reset"),icon:()=>p("i",{class:"i-tabler:refresh"},null)}),p(ge,{type:"primary",onClick:()=>l.onSubmit(),loading:l.isLoading.value},{default:()=>n("components.button.submit"),icon:()=>p("i",{class:"i-tabler:device-floppy"},null)})])])})]})]})}}),l4=Y({name:"DuxSettingForm",props:{id:{type:[String,Number]},action:{type:String},path:{type:String},data:{type:Object},onSuccess:{type:Function},onError:{type:Function},tabs:{type:Boolean,default:!1},defaultTab:{type:String,default:""},size:{type:String,default:"medium"},invalidate:{type:String}},setup(t,{slots:e}){const n=ie(t.defaultTab),r=Te(t,"data",{}),{t:i}=_e(),a=_n(),{invalidate:o}=Ar(),s=os({id:t.id,path:t.path,form:r,action:t.action,onError:c=>{a.error(c.message||i("components.form.error")),t.onError?.(c)},onSuccess:c=>{a.success(i("components.form.success")),t.onSuccess?.(c),t.invalidate&&o(t.invalidate)}}),l=V(()=>{switch(t.size){case"small":return"lg:max-w-lg";case"large":return"lg:max-w-4xl";case"medium":default:return"lg:max-w-2xl"}});return()=>p(so,null,{default:()=>[p("div",{class:`flex flex-col gap-6 w-full ${l.value} mx-auto py-4`},[t.tabs?p(Ja,{defaultValue:t.defaultTab,value:n.value,onUpdateValue:c=>{n.value=c},type:"segment"},{default:()=>[e?.default?.(s)]}):e?.default?.(s)])]})}});function bu(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const QB=Y({name:"DuxFormEditorSettingPage",inheritAttrs:!1,props:{value:{type:Object,default:()=>({})}},setup(t,{emit:e}){const{t:n}=_e(),r=Be(t,"value",e);return()=>{let i,a,o,s;return p("div",{class:"flex flex-col gap-2"},[p(Je,{title:n("components.formEditor.setting.title")},{default:()=>[p(ce,{label:n("components.formEditor.common.formDirection"),path:"labelPlacement"},{default:()=>[p(Jy,{value:r.value.labelPlacement,"onUpdate:value":l=>r.value.labelPlacement=l},{default:()=>[p("div",{class:"grid grid-cols-2 gap-2"},[p(xl,{value:"left"},bu(i=n("components.formEditor.common.leftAlign"))?i:{default:()=>[i]}),p(xl,{value:"top"},bu(a=n("components.formEditor.common.topAlign"))?a:{default:()=>[a]}),p(xl,{value:"setting"},bu(o=n("components.formEditor.common.settingAlign"))?o:{default:()=>[o]}),p(xl,{value:"page"},bu(s=n("components.formEditor.common.pageAlign"))?s:{default:()=>[s]})])]})]})]})])}}}),Yt=Y({name:"DuxFormEditorItem",props:{value:{type:Object,default:[]}},setup(t,{emit:e}){const{t:n}=_e(),r=Be(t,"value",e);return()=>p(Je,{title:n("components.formEditor.componentConfig")},{default:()=>[p(ce,{label:n("components.formEditor.common.label"),path:"label"},{default:()=>[p(Ve,{value:r.value.label,"onUpdate:value":i=>r.value.label=i},null)]}),p(ce,{label:n("components.formEditor.common.name")},{default:()=>[p(Ve,{value:r.value.name,"onUpdate:value":i=>r.value.name=i},null)]}),p(ce,{label:n("components.formEditor.common.desc")},{default:()=>[p(Ve,{value:r.value.desc,"onUpdate:value":i=>r.value.desc=i},null)]})]})}}),Kt=Y({name:"FormEditorInput",props:{value:{type:Array,default:[]}},setup(t,{emit:e}){const{t:n}=_e(),r=Be(t,"value",e);return()=>p(Je,{title:n("components.formEditor.validation")},{default:()=>[p(Ve,{value:r.value,"onUpdate:value":i=>r.value=i},null)]})}});function eU(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const tU=Y({name:"FormEditorCascader",props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(dp,t.options?.attr,null)]})}});function nU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-cascader",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const rU=Y({name:"FormEditorCascaderSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),r=fr(),{t:i}=_e();return()=>{let a;return p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":o=>t.value=o},null),p(Je,{title:i("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:i("components.formEditor.common.multiple"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.multiple,"onUpdate:value":o=>n.value.attr.multiple=o},null)])]}),p(ce,{label:i("components.formEditor.common.cascade"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.cascade,"onUpdate:value":o=>n.value.attr.cascade=o},null)])]}),p(ce,{label:i("components.formEditor.common.showPath"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.showPath,"onUpdate:value":o=>n.value.attr.showPath=o},null)])]}),p(ce,{label:i("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),p(ce,{label:i("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.clearable,"onUpdate:value":o=>n.value.attr.clearable=o},null)])]})]}),p(Je,{title:i("components.formEditor.common.optionData")},{default:()=>[p(ge,{block:!0,dashed:!0,renderIcon:()=>p("div",{class:"i-tabler:edit"},null),onClick:()=>{r.show({title:i("components.formEditor.common.dataEdit"),component:()=>Mn(()=>import("./json-DEwW0AyB.js"),__vite__mapDeps([13,5,4,6,1,7,2,8,9,10,11])),componentProps:{desc:i("components.formEditor.cascader.optionDesc"),value:JSON.stringify(n.value.attr.options,null,2),onChange:o=>{try{n.value.attr.options=JSON.parse(o)}catch{}}}})}},eU(a=i("components.formEditor.common.dataEdit"))?a:{default:()=>[a]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}}});function c4(t){return{name:"dux-cascader",icon:"i-tabler:list-tree",label:t("components.formEditor.cascader.label"),group:"select",component:e=>p(tU,e,null),setting:e=>p(rU,e,null),settingDefault:{label:t("components.formEditor.cascader.label"),name:"cascader",attr:{options:[],clearable:!0},rule:[]},json:nU}}const iU=Y({name:"FormEditorCascaderAsync",props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(u_,t.options?.attr,null)]})}});function aU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-cascader",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const oU=Y({name:"FormEditorCascaderAsyncSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:r("components.formEditor.common.multiple"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.multiple,"onUpdate:value":i=>n.value.attr.multiple=i},null)])]}),p(ce,{label:r("components.formEditor.common.cascade"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.cascade,"onUpdate:value":i=>n.value.attr.cascade=i},null)])]}),p(ce,{label:r("components.formEditor.common.showPath"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.showPath,"onUpdate:value":i=>n.value.attr.showPath=i},null)])]}),p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]}),p(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.clearable,"onUpdate:value":i=>n.value.attr.clearable=i},null)])]})]}),p(Je,{title:r("components.formEditor.common.dataConfig")},{default:()=>[p(ce,{label:r("components.formEditor.cascaderAsync.dataApi")},{default:()=>[p(Ve,{value:n.value.attr.url,"onUpdate:value":i=>n.value.attr.url=i,placeholder:r("components.formEditor.cascaderAsync.apiPlaceholder")},null)]}),p(ce,{label:r("components.formEditor.common.labelField")},{default:()=>[p(Ve,{value:n.value.attr.labelField,"onUpdate:value":i=>n.value.attr.labelField=i},null)]}),p(ce,{label:r("components.formEditor.common.valueField")},{default:()=>[p(Ve,{value:n.value.attr.valueField,"onUpdate:value":i=>n.value.attr.valueField=i},null)]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function u4(t){return{name:"dux-cascader-async",icon:"i-tabler:list-tree",label:t("components.formEditor.cascaderAsync.label"),group:"async",component:e=>p(iU,e,null),setting:e=>p(oU,e,null),settingDefault:{label:t("components.formEditor.cascaderAsync.label"),name:"cascaderAsync",attr:{url:"",valueField:"id",labelField:"title",clearable:!0,pagination:!0},rule:[]},json:aU}}function sU(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const lU=Y({name:"FormEditorCheckbox",props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(fC,kt(t.options?.attr,{value:t.options?.attr?.defaultValue}),{default:()=>[t.options?.attr?.options?.map((e,n)=>p(_r,{key:n,value:e.value},{default:()=>[e.label]}))]})]})}});function cU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-checkbox-group",attrs:{...e?.attr,"v-model:value":[n,e?.name]},children:e?.attr?.options?.map(r=>({tag:"n-checkbox",attrs:{value:r.value},children:[r.label]}))||[]}]}}const uU=Y({name:"FormEditorCheckboxSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),r=fr(),{t:i}=_e();return()=>{let a;return p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":o=>t.value=o},null),p(Je,{title:i("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:i("components.formEditor.common.defaultValue")},{default:()=>[p(Qy,{value:n.value.attr.defaultValue,"onUpdate:value":o=>n.value.attr.defaultValue=o},null)]}),p(ce,{label:i("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]})]}),p(Je,{title:i("components.formEditor.common.optionConfig")},{default:()=>[p(ge,{block:!0,dashed:!0,renderIcon:()=>p("div",{class:"i-tabler:edit"},null),onClick:()=>{r.show({title:i("components.formEditor.common.dataConfig"),component:()=>Mn(()=>import("./options-DwEfLSlV.js"),__vite__mapDeps([14,5,4,7,1,6,2,8,9,10,11])),componentProps:{desc:i("components.formEditor.checkbox.configDesc"),value:n.value.attr.options,onChange:o=>{n.value.attr.options=o},options:[{label:i("components.formEditor.common.optionLabel"),value:"label"},{label:i("components.formEditor.common.optionValue"),value:"value"}]}})}},sU(a=i("components.formEditor.common.dataConfig"))?a:{default:()=>[a]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}}});function d4(t){return{name:"dux-checkbox",icon:"i-tabler:square-check",label:t("components.formEditor.checkbox.label"),group:"form",component:e=>p(lU,e,null),setting:e=>p(uU,e,null),settingDefault:{label:t("components.formEditor.checkbox.label"),name:"checkbox",attr:{options:[{label:"option 1",value:"1"},{label:"option 2",value:"2"}],defaultValue:[]},rule:[]},json:cU}}const dU=Y({name:"FormEditorColor",props:{options:Object},setup(t){const e=t.options?.attr;return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p("div",{class:"flex-1"},[p(jg,e,null)])]})}});function hU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-color-picker",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const fU=Y({name:"FormEditorColorSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]}),p(ce,{label:r("components.formEditor.color.showAlpha"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.showAlpha,"onUpdate:value":i=>n.value.attr.showAlpha=i},null)])]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function h4(t){return{name:"dux-color",icon:"i-tabler:palette",label:t("components.formEditor.color.label"),group:"form",component:e=>p(dU,e,null),setting:e=>p(fU,e,null),settingDefault:{label:t("components.formEditor.color.label"),name:"color",attr:{showAlpha:!0},rule:[]},json:hU}}const pU=Y({name:"FormEditorDate",props:{options:Object},setup(t){const e=t.options?.attr;return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p("div",{class:"flex-1"},[p(pC,e,null)])]})}});function gU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-date-picker",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const mU=Y({name:"FormEditorDateSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:r("components.formEditor.date.dateType")},{default:()=>[p(Ga,{value:n.value.attr.type,"onUpdate:value":i=>n.value.attr.type=i,options:[{label:r("components.formEditor.date.date"),value:"date"},{label:r("components.formEditor.date.daterange"),value:"daterange"},{label:r("components.formEditor.date.datetime"),value:"datetime"},{label:r("components.formEditor.date.datetimerange"),value:"datetimerange"},{label:r("components.formEditor.date.month"),value:"month"},{label:r("components.formEditor.date.monthrange"),value:"monthrange"},{label:r("components.formEditor.date.year"),value:"year"},{label:r("components.formEditor.date.yearrange"),value:"yearrange"},{label:r("components.formEditor.date.quarter"),value:"quarter"},{label:r("components.formEditor.date.quarterrange"),value:"quarterrange"},{label:r("components.formEditor.date.week"),value:"week"}]},null)]}),p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]}),p(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.clearable,"onUpdate:value":i=>n.value.attr.clearable=i},null)])]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function f4(t){return{name:"dux-date",icon:"i-tabler:calendar-due",label:t("components.formEditor.date.label"),group:"form",component:e=>p(pU,e,null),setting:e=>p(mU,e,null),settingDefault:{label:t("components.formEditor.date.label"),name:"date",attr:{type:"date"},rule:[]},json:gU}}const vU=Y({name:"FormEditorDynamicInput",props:{options:{type:Object,default:()=>({})},children:{type:Array,default:()=>[]},onChildren:Function},setup(t){const e=V(()=>t.options?.attr||{}),n=V(()=>t.options?.label);return()=>p(ce,{label:n.value,description:t.options?.desc},{default:()=>[p("div",{class:"flex-1 w-full"},[p(Qy,kt(e.value,{value:[{}]}),{default:()=>p(Ql,{class:"w-full flex gap-2 rounded-sm border border-dashed border-muted p-2",modelValue:t.children,onUpdate:t.onChildren},null)})])]})}});function bU(t){const{options:e,children:n,model:r,convertToJsonSchema:i}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-dynamic-input",attrs:{...e?.attr,"v-model:value":[r,e?.name],"@create":()=>({})},slots:{default:({value:a,index:o})=>({tag:"div",attrs:{class:"flex-1 flex gap-2",key:o},children:i?i(n||[],a).map(s=>{if(s&&typeof s=="object"&&"attrs"in s){const{label:l,...c}=s.attrs||{};return{...s,attrs:{class:"w-full",restAttrs:c}}}return s}):[]})}}]}}const yU=Y({name:"FormEditorDynamicInputSetting",props:{value:{type:Object,default:()=>({attr:{min:0,max:10,disabled:!1},rule:[]})}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return n.value.attr||(n.value.attr={min:0,max:10,disabled:!1}),()=>p("div",null,[p(Yt,{value:n.value,"onUpdate:value":i=>n.value=i},null),p(Je,{title:r("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:r("components.formEditor.common.minCount")},{default:()=>[p(sn,{value:n.value.attr.min,"onUpdate:value":i=>n.value.attr.min=i,min:0,max:50,placeholder:r("components.formEditor.common.minCount")},null)]}),p(ce,{label:r("components.formEditor.common.maxCount")},{default:()=>[p(sn,{value:n.value.attr.max,"onUpdate:value":i=>n.value.attr.max=i,min:1,max:100,placeholder:r("components.formEditor.common.maxCount")},null)]}),p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function p4(t){return{name:"dux-dynamic-input",icon:"i-tabler:calendar-due",label:t("components.formEditor.dynamicInput.label"),group:"form",component:e=>p(vU,e,null),setting:e=>p(yU,e,null),nested:!0,settingDefault:{label:t("components.formEditor.dynamicInput.label"),name:"data",attr:{min:0,max:10,disabled:!1},rule:[],defaultValue:[]},json:bU}}const xU=Y({props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(gC,t.options?.attr,null)]})}});function wU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-dynamic-tags",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const _U=Y({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.config")},{default:()=>[p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]})]}),p(Je,{title:r("components.formEditor.options")},{default:()=>[p(ce,{label:r("components.formEditor.dynamicTags.max")},{default:()=>[p(sn,{value:n.value.attr.max,"onUpdate:value":i=>n.value.attr.max=i},null)]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function g4(t){return{name:"dynamic-tags",icon:"i-tabler:tag",label:t("components.formEditor.dynamicTags.name"),group:"form",component:e=>p(xU,e,null),setting:e=>p(_U,e,null),settingDefault:{label:t("components.formEditor.dynamicTags.name"),name:"dynamic-tags",attr:{},rule:[]},json:wU}}const CU=Y({name:"FormEditorAIEditor",props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(s0,t.options?.attr,null)]})}});function kU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-ai-editor",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const SU=Y({name:"FormEditorAIEditorSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:r("components.formEditor.aiEditor.uploadUrl"),description:r("components.formEditor.aiEditor.uploadUrlFeedback")},{default:()=>[p(Ve,{value:n.value.attr.uploadUrl,"onUpdate:value":i=>n.value.attr.uploadUrl=i},null)]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function m4(t){return{name:"dux-editor",icon:"i-tabler:pencil",label:t("components.formEditor.aiEditor.label"),group:"form",component:e=>p(CU,e,null),setting:e=>p(SU,e,null),settingDefault:{label:t("components.formEditor.aiEditor.label"),name:"editor",attr:{},rule:[]},json:kU}}const EU=Y({name:"FormEditorInput",props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(Ve,kt(t.options?.attr,{inputProps:{autocomplete:"new-password"}}),null)]})}});function TU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-input",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const AU=Y({name:"FormEditorInputSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:r("components.formEditor.common.inputType")},{default:()=>[p(Ga,{value:n.value.attr.type,"onUpdate:value":i=>n.value.attr.type=i,options:[{label:r("components.formEditor.input.types.text"),value:"text"},{label:r("components.formEditor.input.types.textarea"),value:"textarea"},{label:r("components.formEditor.input.types.password"),value:"password"}]},null)]}),p(ce,{label:r("components.formEditor.common.placeholder")},{default:()=>[p(Ve,{value:n.value.attr.placeholder,"onUpdate:value":i=>n.value.attr.placeholder=i},null)]}),p(ce,{label:r("components.formEditor.common.minLength")},{default:()=>[p(sn,{value:n.value.attr.minlength,"onUpdate:value":i=>n.value.attr.minlength=i},null)]}),p(ce,{label:r("components.formEditor.common.maxLength")},{default:()=>[p(sn,{value:n.value.attr.maxlength,"onUpdate:value":i=>n.value.attr.maxlength=i},null)]}),p(ce,{label:r("components.formEditor.common.prefix")},{default:()=>[p(Ve,{value:n.value.attr["v-slot:prefix"],"onUpdate:value":i=>n.value.attr["v-slot:prefix"]=i},null)]}),p(ce,{label:r("components.formEditor.common.suffix")},{default:()=>[p(Ve,{value:n.value.attr["v-slot:suffix"],"onUpdate:value":i=>n.value.attr["v-slot:suffix"]=i},null)]}),p(ce,{label:r("components.formEditor.common.status")},{default:()=>[p("div",{class:"w-full grid grid-cols-2"},[p(_r,{label:r("components.formEditor.common.readonly"),checked:n.value.attr.readonly,"onUpdate:checked":i=>n.value.attr.readonly=i},null),p(_r,{label:r("components.formEditor.common.disabled"),checked:n.value.attr.disabled,"onUpdate:checked":i=>n.value.attr.disabled=i},null),p(_r,{label:r("components.formEditor.common.clearable"),checked:n.value.attr.clearable,"onUpdate:checked":i=>n.value.attr.clearable=i},null),p(_r,{label:r("components.formEditor.common.showCount"),checked:n.value.attr.showCount,"onUpdate:checked":i=>n.value.attr.showCount=i},null)])]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function v4(t){return{name:"dux-input",icon:"i-tabler:cursor-text",label:t("components.formEditor.input.label"),group:"form",component:e=>p(EU,e,null),setting:e=>p(AU,e,null),settingDefault:{label:t("components.formEditor.input.label"),name:"text",attr:{type:"text"},rule:[]},json:TU}}const OU=Y({name:"FormEditorInputNumber",props:{options:Object},setup(t){const e=t.options?.attr;return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p("div",{class:"flex-1"},[p(sn,e,{prefix:e["v-slot:prefix"]?()=>e["v-slot:prefix"]:void 0,suffix:e["v-slot:suffix"]?()=>e["v-slot:suffix"]:void 0})])]})}});function MU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-input-number",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const RU=Y({name:"FormEditorInputNumberSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",null,[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:r("components.formEditor.common.placeholder")},{default:()=>[p(Ve,{value:n.value.attr.placeholder,"onUpdate:value":i=>n.value.attr.placeholder=i},null)]}),p(ce,{label:r("components.formEditor.common.minValue")},{default:()=>[p(sn,{value:n.value.attr.min,"onUpdate:value":i=>n.value.attr.min=i},null)]}),p(ce,{label:r("components.formEditor.common.maxValue")},{default:()=>[p(sn,{value:n.value.attr.max,"onUpdate:value":i=>n.value.attr.max=i},null)]}),p(ce,{label:r("components.formEditor.common.prefix")},{default:()=>[p(Ve,{value:n.value.attr["v-slot:prefix"],"onUpdate:value":i=>n.value.attr["v-slot:prefix"]=i},null)]}),p(ce,{label:r("components.formEditor.common.suffix")},{default:()=>[p(Ve,{value:n.value.attr["v-slot:suffix"],"onUpdate:value":i=>n.value.attr["v-slot:suffix"]=i},null)]}),p(ce,{label:r("components.formEditor.common.status")},{default:()=>[p("div",{class:"w-full grid grid-cols-2"},[p(_r,{label:r("components.formEditor.common.readonly"),checked:n.value.attr.readonly,"onUpdate:checked":i=>n.value.attr.readonly=i},null),p(_r,{label:r("components.formEditor.common.disabled"),checked:n.value.attr.disabled,"onUpdate:checked":i=>n.value.attr.disabled=i},null),p(_r,{label:r("components.formEditor.common.clearable"),checked:n.value.attr.clearable,"onUpdate:checked":i=>n.value.attr.clearable=i},null)])]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function b4(t){return{name:"dux-input-number",icon:"i-tabler:number",label:t("components.formEditor.inputNumber.label"),group:"form",component:e=>p(OU,e,null),setting:e=>p(RU,e,null),settingDefault:{label:t("components.formEditor.inputNumber.label"),name:"number",attr:{},rule:[]},json:MU}}const $U=Y({props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(d_,t.options?.attr,null)]})}});function FU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-mention",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const PU=Y({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.config")},{default:()=>[p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]}),p(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.clearable,"onUpdate:value":i=>n.value.attr.clearable=i},null)])]})]}),p(Je,{title:r("components.formEditor.options")},{default:()=>[p(ce,{label:r("components.formEditor.mentionAsync.path")},{default:()=>[p(Ve,{value:n.value.attr.path,"onUpdate:value":i=>n.value.attr.path=i},null)]}),p(ce,{label:r("components.formEditor.mentionAsync.labelField")},{default:()=>[p(Ve,{value:n.value.attr.labelField,"onUpdate:value":i=>n.value.attr.labelField=i},null)]}),p(ce,{label:r("components.formEditor.mentionAsync.valueField")},{default:()=>[p(Ve,{value:n.value.attr.valueField,"onUpdate:value":i=>n.value.attr.valueField=i},null)]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function y4(t){return{name:"mention-async",icon:"i-tabler:at",label:t("components.formEditor.mentionAsync.name"),group:"async",component:e=>p($U,e,null),setting:e=>p(PU,e,null),settingDefault:{label:t("components.formEditor.mentionAsync.name"),name:"mentionAsync",attr:{path:"",valueField:"id",labelField:"title",clearable:!0,pagination:!0},rule:[]},json:FU}}function DU(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const LU=Y({name:"FormEditorRadio",props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(Jy,kt(t.options?.attr,{value:t.options?.attr?.defaultValue}),{default:()=>[t.options?.attr?.options?.map((e,n)=>p(xl,{key:n,value:e.value},{default:()=>[e.label]}))]})]})}});function IU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-radio-group",attrs:{...e?.attr,"v-model:value":[n,e?.name]},children:e?.attr?.options?.map(r=>({tag:"n-radio",attrs:{value:r.value},children:[r.label]}))||[]}]}}const NU=Y({name:"FormEditorRadioSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),r=fr(),{t:i}=_e();return()=>{let a;return p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":o=>t.value=o},null),p(Je,{title:i("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:i("components.formEditor.common.defaultValue")},{default:()=>[p(Ve,{value:n.value.attr.defaultValue,"onUpdate:value":o=>n.value.attr.defaultValue=o},null)]}),p(ce,{label:i("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]})]}),p(Je,{title:i("components.formEditor.common.optionConfig")},{default:()=>[p(ge,{block:!0,dashed:!0,renderIcon:()=>p("div",{class:"i-tabler:edit"},null),onClick:()=>{r.show({title:i("components.formEditor.common.dataConfig"),component:()=>Mn(()=>import("./options-DwEfLSlV.js"),__vite__mapDeps([14,5,4,7,1,6,2,8,9,10,11])),componentProps:{desc:i("components.formEditor.radio.configDesc"),value:n.value.attr.options,onChange:o=>{n.value.attr.options=o},options:[{label:i("components.formEditor.common.optionLabel"),value:"label"},{label:i("components.formEditor.common.optionValue"),value:"value"}]}})}},DU(a=i("components.formEditor.common.dataConfig"))?a:{default:()=>[a]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}}});function x4(t){return{name:"dux-radio",icon:"i-tabler:circle-dot",label:t("components.formEditor.radio.label"),group:"form",component:e=>p(LU,e,null),setting:e=>p(NU,e,null),settingDefault:{label:t("components.formEditor.radio.label"),name:"radio",attr:{options:[{label:"option 1",value:"1"},{label:"option 2",value:"2"}],defaultValue:"1"},rule:[]},json:IU}}const l0=Y({name:"DuxLevel",props:{value:{type:Array,default:()=>[]},path:{type:String,default:"area"},maxLevel:{type:Number,default:4},nameField:{type:String,default:"name"},labelField:{type:String,default:"name"},valueField:{type:String,default:"value"}},emits:["update:value"],setup(t,{emit:e}){const n=Be(t,"value",e,{passive:!0,defaultValue:[]}),{regions:r,onChange:i,isLoading:a}=X6({value:n,path:t.path,nameField:t.nameField,maxLevel:t.maxLevel,labelField:t.labelField,valueField:t.valueField}),o=(l,c)=>{i(l,c)},s=V(()=>Array.from({length:t.maxLevel},(l,c)=>{const u=r.value[c]||[];return{index:c,options:u,value:n.value[c]||null}}));return()=>p("div",{class:["grid grid-cols-1 gap-2","lg:grid-cols-[repeat(auto-fit,minmax(120px,1fr))]"]},[s.value.map(l=>p(Ga,{key:l.index,value:l.value,options:l.options,clearable:!0,loading:a.value,onUpdateValue:c=>o(c,l.index)},null))])}}),jU=Y({name:"FormRegion",props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(l0,t.options?.attr,null)]})}});function BU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-level",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const UU=Y({name:"FormRegionSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.config")},{default:()=>[p(ce,{label:r("components.formEditor.region.Path")},{default:()=>[p(Ve,{value:n.value.attr.path,"onUpdate:value":i=>n.value.attr.path=i},null)]}),p(ce,{label:r("components.formEditor.region.labelField")},{default:()=>[p(Ve,{value:n.value.attr.labelField,"onUpdate:value":i=>n.value.attr.labelField=i},null)]}),p(ce,{label:r("components.formEditor.region.valueField")},{default:()=>[p(Ve,{value:n.value.attr.valueField,"onUpdate:value":i=>n.value.attr.valueField=i},null)]}),p(ce,{label:r("components.formEditor.common.status")},{default:()=>[p("div",{class:"w-full grid grid-cols-2"},[p(_r,{label:r("components.formEditor.common.disabled"),checked:n.value.attr.disabled,"onUpdate:checked":i=>n.value.attr.disabled=i},null)])]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function w4(t){return{name:"region",icon:"i-tabler:directions",label:t("components.formEditor.region.name"),group:"select",component:e=>p(jU,e,null),setting:e=>p(UU,e,null),settingDefault:{label:t("components.formEditor.region.name"),name:"region",attr:{path:"/region",valueField:"id",labelField:"name"},rule:[]},json:BU}}const zU=Y({props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(ex,t.options?.attr,null)]})}});function HU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-slider",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const WU=Y({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.config")},{default:()=>[p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]})]}),p(Je,{title:r("components.formEditor.options")},{default:()=>[p(ce,{label:r("components.formEditor.sider.step")},{default:()=>[p(sn,{value:n.value.attr.step,"onUpdate:value":i=>n.value.attr.step=i},null)]}),p(ce,{label:r("components.formEditor.sider.min")},{default:()=>[p(sn,{value:n.value.attr.min,"onUpdate:value":i=>n.value.attr.min=i},null)]}),p(ce,{label:r("components.formEditor.sider.max")},{default:()=>[p(sn,{value:n.value.attr.max,"onUpdate:value":i=>n.value.attr.max=i},null)]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function _4(t){return{name:"sider",icon:"i-tabler:separator",label:t("components.formEditor.sider.name"),group:"form",component:e=>p(zU,e,null),setting:e=>p(WU,e,null),settingDefault:{label:t("components.formEditor.sider.name"),name:"sider",attr:{step:1,min:0,max:100},rule:[]},json:HU}}const VU=Y({name:"FormEditorSwitch",props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(He,t.options?.attr,null)]})}});function GU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-switch",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const XU=Y({name:"FormEditorSwitchSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]}),p(ce,{label:r("components.formEditor.common.defaultValue"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.defaultValue,"onUpdate:value":i=>n.value.attr.defaultValue=i},null)])]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function C4(t){return{name:"dux-switch",icon:"i-tabler:toggle-left",label:t("components.formEditor.switch.label"),group:"form",component:e=>p(VU,e,null),setting:e=>p(XU,e,null),settingDefault:{label:t("components.formEditor.switch.label"),name:"switch",attr:{defaultValue:!1},rule:[]},json:GU}}const qU=Y({name:"FormEditorTime",props:{options:Object},setup(t){const e=t.options?.attr;return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p("div",{class:"flex-1"},[p(mC,e,null)])]})}});function YU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-time-picker",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const KU=Y({name:"FormEditorTimeSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",null,[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:r("components.formEditor.time.timeFormat")},{default:()=>[p(Ve,{value:n.value.attr.format,"onUpdate:value":i=>n.value.attr.format=i},null)]}),p(ce,{label:r("components.formEditor.time.use12Hours"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.use12Hours,"onUpdate:value":i=>n.value.attr.use12Hours=i},null)])]}),p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]}),p(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.clearable,"onUpdate:value":i=>n.value.attr.clearable=i},null)])]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function k4(t){return{name:"dux-time",icon:"i-tabler:clock",label:t("components.formEditor.time.label"),group:"form",component:e=>p(qU,e,null),setting:e=>p(KU,e,null),settingDefault:{label:t("components.formEditor.time.label"),name:"time",attr:{use12Hours:!1},rule:[]},json:YU}}const ZU=Y({props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(f_,t.options?.attr,null)]})}});function JU(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-transfer",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const QU=Y({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.config")},{default:()=>[p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]}),p(ce,{label:r("components.formEditor.tree.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.clearable,"onUpdate:value":i=>n.value.attr.clearable=i},null)])]})]}),p(Je,{title:r("components.formEditor.options")},{default:()=>[p(ce,{label:r("components.formEditor.selectAsync.path")},{default:()=>[p(Ve,{value:n.value.attr.path,"onUpdate:value":i=>n.value.attr.path=i},null)]}),p(ce,{label:r("components.formEditor.selectAsync.labelField")},{default:()=>[p(Ve,{value:n.value.attr.labelField,"onUpdate:value":i=>n.value.attr.labelField=i},null)]}),p(ce,{label:r("components.formEditor.selectAsync.valueField")},{default:()=>[p(Ve,{value:n.value.attr.valueField,"onUpdate:value":i=>n.value.attr.valueField=i},null)]}),p(ce,{label:r("components.formEditor.selectAsync.imageField")},{default:()=>[p(Ve,{value:n.value.attr.imageField,"onUpdate:value":i=>n.value.attr.imageField=i},null)]}),p(ce,{label:r("components.formEditor.selectAsync.descField")},{default:()=>[p(Ve,{value:n.value.attr.descField,"onUpdate:value":i=>n.value.attr.descField=i},null)]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function S4(t){return{name:"transfer-async",icon:"i-tabler:transfer",label:t("components.formEditor.transferAsync.name"),group:"async",component:e=>p(ZU,e,null),setting:e=>p(QU,e,null),settingDefault:{label:t("components.formEditor.transferAsync.name"),name:"transferAsync",attr:{path:"",valueField:"id",labelField:"title",clearable:!0},rule:[]},json:JU}}function ez(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const tz=Y({props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(fp,t.options?.attr,null)]})}});function nz(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-tree-select",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const rz=Y({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),r=fr(),{t:i}=_e();return()=>{let a;return p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":o=>t.value=o},null),p(Je,{title:i("components.formEditor.config")},{default:()=>[p(ce,{label:i("components.formEditor.common.multiple"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.multiple,"onUpdate:value":o=>n.value.attr.multiple=o},null)])]}),p(ce,{label:i("components.formEditor.common.cascade"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.cascade,"onUpdate:value":o=>n.value.attr.cascade=o},null)])]}),p(ce,{label:i("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),p(ce,{label:i("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.clearable,"onUpdate:value":o=>n.value.attr.clearable=o},null)])]})]}),p(Je,{title:i("components.formEditor.options")},{default:()=>[p(ge,{block:!0,dashed:!0,renderIcon:()=>p("div",{class:"i-tabler:edit"},null),onClick:()=>{r.show({title:i("components.formEditor.common.data"),component:()=>Mn(()=>import("./json-DEwW0AyB.js"),__vite__mapDeps([13,5,4,6,1,7,2,8,9,10,11])),componentProps:{desc:i("components.formEditor.cascader.optionsDescription"),value:JSON.stringify(n.value.attr.options,null,2),onChange:o=>{try{n.value.attr.options=JSON.parse(o)}catch{}}}})}},ez(a=i("components.formEditor.common.data"))?a:{default:()=>[a]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}}});function E4(t){return{name:"tree-select",icon:"i-tabler:binary-tree",label:t("components.formEditor.treeSelect.name"),group:"select",component:e=>p(tz,e,null),setting:e=>p(rz,e,null),settingDefault:{label:t("components.formEditor.treeSelect.name"),name:"treeSelect",attr:{options:[],clearable:!0},rule:[]},json:nz}}const iz=Y({props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(p_,t.options?.attr,null)]})}});function az(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-tree-select",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const oz=Y({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.config")},{default:()=>[p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]}),p(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.clearable,"onUpdate:value":i=>n.value.attr.clearable=i},null)])]})]}),p(Je,{title:r("components.formEditor.options")},{default:()=>[p(ce,{label:r("components.formEditor.treeSelectAsync.path")},{default:()=>[p(Ve,{value:n.value.attr.path,"onUpdate:value":i=>n.value.attr.path=i},null)]}),p(ce,{label:r("components.formEditor.treeSelectAsync.labelField")},{default:()=>[p(Ve,{value:n.value.attr.labelField,"onUpdate:value":i=>n.value.attr.labelField=i},null)]}),p(ce,{label:r("components.formEditor.treeSelectAsync.keyField")},{default:()=>[p(Ve,{value:n.value.attr.keyField,"onUpdate:value":i=>n.value.attr.keyField=i},null)]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function T4(t){return{name:"tree-select-async",icon:"i-tabler:binary-tree",label:t("components.formEditor.treeSelectAsync.name"),group:"async",component:e=>p(iz,e,null),setting:e=>p(oz,e,null),settingDefault:{label:t("components.formEditor.treeSelectAsync.name"),name:"treeSelectAsync",attr:{path:"",keyField:"id",labelField:"name",clearable:!0},rule:[]},json:az}}function sz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const lz=Y({name:"FormEditorSelect",props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(Ga,t.options?.attr,null)]})}});function cz(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-select",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const uz=Y({name:"FormEditorSelectSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),r=fr(),{t:i}=_e();return()=>{let a;return p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":o=>t.value=o},null),p(Je,{title:i("components.formEditor.common.componentConfig")},{default:()=>[p(ce,{label:i("components.formEditor.common.multiple"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.multiple,"onUpdate:value":o=>n.value.attr.multiple=o},null)])]}),p(ce,{label:i("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),p(ce,{label:i("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.clearable,"onUpdate:value":o=>n.value.attr.clearable=o},null)])]})]}),p(Je,{title:i("components.formEditor.common.optionConfig")},{default:()=>[p(ge,{block:!0,dashed:!0,renderIcon:()=>p("div",{class:"i-tabler:edit"},null),onClick:()=>{r.show({title:i("components.formEditor.common.dataConfig"),component:()=>Mn(()=>import("./options-DwEfLSlV.js"),__vite__mapDeps([14,5,4,7,1,6,2,8,9,10,11])),componentProps:{desc:i("components.formEditor.select.configDesc"),value:n.value.attr.options,onChange:o=>{n.value.attr.options=o},options:[{label:i("components.formEditor.common.labelField"),value:"label"},{label:i("components.formEditor.common.valueField"),value:"value"}]}})}},sz(a=i("components.formEditor.common.dataConfig"))?a:{default:()=>[a]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}}});function A4(t){return{name:"dux-select",icon:"i-tabler:select",label:t("components.formEditor.select.label"),group:"form",component:e=>p(lz,e,null),setting:e=>p(uz,e,null),settingDefault:{label:t("components.formEditor.select.label"),name:"select",attr:{options:[],clearable:!0},rule:[]},json:cz}}const dz=Y({props:{options:Object},setup(t){return()=>p(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[p(h_,t.options?.attr,null)]})}});function hz(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-select",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const fz=Y({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Be(t,"value",e),{t:r}=_e();return()=>p("div",{class:""},[p(Yt,{value:t.value,"onUpdate:value":i=>t.value=i},null),p(Je,{title:r("components.formEditor.config")},{default:()=>[p(ce,{label:r("components.formEditor.common.multiple"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.multiple,"onUpdate:value":i=>n.value.attr.multiple=i},null)])]}),p(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.disabled,"onUpdate:value":i=>n.value.attr.disabled=i},null)])]}),p(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.clearable,"onUpdate:value":i=>n.value.attr.clearable=i},null)])]}),p(ce,{label:r("components.formEditor.selectAsync.pagination"),labelPlacement:"left"},{default:()=>[p("div",{class:"flex flex-1 justify-end"},[p(He,{value:n.value.attr.pagination,"onUpdate:value":i=>n.value.attr.pagination=i},null)])]})]}),p(Je,{title:r("components.formEditor.options")},{default:()=>[p(ce,{label:r("components.formEditor.selectAsync.path")},{default:()=>[p(Ve,{value:n.value.attr.path,"onUpdate:value":i=>n.value.attr.path=i},null)]}),p(ce,{label:r("components.formEditor.selectAsync.labelField")},{default:()=>[p(Ve,{value:n.value.attr.labelField,"onUpdate:value":i=>n.value.attr.labelField=i},null)]}),p(ce,{label:r("components.formEditor.selectAsync.valueField")},{default:()=>[p(Ve,{value:n.value.attr.valueField,"onUpdate:value":i=>n.value.attr.valueField=i},null)]}),p(ce,{label:r("components.formEditor.selectAsync.imageField")},{default:()=>[p(Ve,{value:n.value.attr.imageField,"onUpdate:value":i=>n.value.attr.imageField=i},null)]}),p(ce,{label:r("components.formEditor.selectAsync.descField")},{default:()=>[p(Ve,{value:n.value.attr.descField,"onUpdate:value":i=>n.value.attr.descField=i},null)]})]}),p(Kt,{value:n.value.rule,"onUpdate:value":i=>n.value.rule=i},null)])}});function O4(t){return{name:"select-async",icon:"i-tabler:select",label:t("components.formEditor.selectAsync.name"),group:"async",component:e=>p(dz,e,null),setting:e=>p(fz,e,null),settingDefault:{label:t("components.formEditor.selectAsync.name"),name:"selectAsync",attr:{path:"",valueField:"id",labelField:"title",clearable:!0,pagination:!0},rule:[]},json:hz}}function yu(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const pz=Y({name:"DuxFormEditor",props:{onSave:Function},extends:Fg,setup(t){const{t:e}=_e(),n=fr(),r=V(()=>[{name:"form",label:e("components.formEditor.groups.form"),icon:"i-tabler:forms"},{name:"select",label:e("components.formEditor.groups.select"),icon:"i-tabler:select"},{name:"async",label:e("components.formEditor.groups.async"),icon:"i-tabler:loader"}]),i=V(()=>[v4(e),b4(e),m4(e),_4(e),f4(e),k4(e),h4(e),d4(e),x4(e),C4(e),p4(e),g4(e),A4(e),c4(e),E4(e),w4(e),O4(e),u4(e),T4(e),S4(e),y4(e)]);return()=>p(Fg,kt(t,{groups:r.value,components:i.value,settingPage:{component:a=>p(QB,a,null),default:{labelPlacement:"left"}},previewWrapper:(a,o)=>{const s=V(()=>o?.value?.value?.config);return p(Bi,{labelPlacement:s.value?.labelPlacement||"left",class:"h-full"},yu(a)?a:{default:()=>[a]})},actionRender:a=>{let o,s,l;return p("div",{class:"flex flex-col gap-2"},[p(ge,{type:"primary",secondary:!0,block:!0,onClick:()=>{n.show({title:e("components.formEditor.main.actions.jsonOutput"),component:()=>Mn(()=>import("./json-wk8_eSib.js"),__vite__mapDeps([15,4,6,1,5,7,2,8,9,10,11])),componentProps:{value:a?.value?.value.data||[]}})}},yu(o=e("components.formEditor.main.actions.jsonOutput"))?o:{default:()=>[o]}),p(ge,{type:"info",secondary:!0,block:!0,onClick:()=>{n.show({title:e("common.preview"),component:()=>Mn(()=>import("./preview-ykx_X2oF.js"),__vite__mapDeps([16,4,6,1,5,7,2,8,9,10,11])),componentProps:{data:a?.value?.value.data||[],config:a?.value?.value.config||{}}})}},yu(s=e("common.preview"))?s:{default:()=>[s]}),p(ge,{type:"primary",block:!0,onClick:()=>{t.onSave?.(a?.value?.value||{})}},yu(l=e("components.formEditor.main.actions.save"))?l:{default:()=>[l]})])}}),null)}}),gz=Y({name:"DuxFormRenderer",props:{data:{type:Array,default:()=>[]},value:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},setup(t,{emit:e}){const{t:n}=_e(),r=V(()=>{const l=[i0(n),v4(n),b4(n),m4(n),_4(n),f4(n),k4(n),h4(n),d4(n),x4(n),C4(n),p4(n),g4(n),A4(n),c4(n),E4(n),w4(n),O4(n),u4(n),T4(n),S4(n),y4(n)],c=new Map;return l.forEach(u=>{c.set(u.name,u)}),c}),i=Be(t,"value",e,{defaultValue:{},deep:!0}),a=(l,c=i.value)=>l.length>0&&Array.isArray(l[0])?l.flatMap(u=>Array.isArray(u)?a(u,c):[]):l.map(u=>{const{name:d,options:f={}}=u,h=r.value.get(d),g={...f,attr:{...f.attr,readonly:t.readonly||f.attr?.readonly,disabled:t.disabled||f.attr?.disabled}};if(h?.json)return h.json({options:g,children:u.children,model:c,convertToJsonSchema:a});const m={tag:d,attrs:g.attr||{}};return u.children?.length&&(m.children=a(u.children,c)),m}),o=V(()=>{const l=a(t.data,i.value);return[{tag:"dux-form-layout",attrs:{labelPlacement:t.config?.labelPlacement||"left"},children:l}]}),{render:s}=ca({data:o,context:{form:i.value}});return()=>p(s,null,null)}}),M4=Y({name:"DuxIconPicker",props:{defaultValue:String,value:String},setup(t,{emit:e}){const n=Be(t,"value",e,{defaultValue:t.defaultValue,passive:!0}),r=fr(),{t:i}=_e();return()=>p(ge,{dashed:!n.value,onClick:()=>{r.show({title:i("components.iconPicker.title"),component:()=>Mn(()=>import("./iconPicker-CEBc-6oG.js"),__vite__mapDeps([17,5,4,18,7,1,6,2,8,9,10,11]))}).then(a=>{n.value=a})},iconPlacement:"right"},{default:()=>p("div",{class:"flex gap-2 items-center"},[n.value?p("div",{class:`size-4 ${n.value||""}`},null):void 0,i("components.iconPicker.title")]),icon:()=>n.value?p("div",{class:"rounded-full p-1 hover:bg-gray-2 hover:text-gray-7",onClick:a=>{a.stopPropagation(),n.value=void 0}},[p("div",{class:"size-4 i-tabler:x"},null)]):void 0})}}),Sh=Y({name:"DuxTableFilter",props:{label:{type:String,default:""}},setup(t,{slots:e}){const n=an("dux.filter",{showLabel:!1,labelPlacement:"left"});return()=>p("div",{class:["flex gap-2 gap-2 flex-nowrap",n.labelPlacement==="left"?"flex-row items-center":"flex-col"]},[n.showLabel&&t.label&&p("div",{class:"text-sm text-default whitespace-nowrap"},[t.label]),p("div",{class:"flex-1 min-w-60"},[e.default?.()])])}}),c0=Y({name:"DuxFilterLayout",props:{showLabel:{type:Boolean,default:!1},labelPlacement:{type:String,default:"left"},horizontal:{type:Boolean,default:!1}},setup(t,{slots:e}){return Ui("dux.filter",{showLabel:t.showLabel,labelPlacement:t.labelPlacement}),()=>p("div",{class:["flex flex-col gap-2",t.horizontal?"flex-row":"flex-col"]},[e.default?.()])}}),u0=Y({name:"DuxPageEmpty",props:{title:String,desc:String},setup(t){const{t:e}=_e();return()=>p(ao,{title:t.title||e("pages.empty.title"),desc:t.desc||e("pages.empty.desc")},{default:()=>[p(vc,null,null)]})}}),Eh=Y({name:"DuxTableTools",props:{number:{type:Number},options:{type:Array},group:{type:Array},dropdown:{type:Array}},setup(t){const{t:e}=_e(),n=V(()=>t.group?t.group:[t.options]),r=V(()=>t.number&&t.number>0);return()=>p("div",{class:"absolute  bottom-0 left-0 right-0 pointer-events-none"},[p(Ll,{name:"slide-up",appear:!0,enterActiveClass:"transition-all duration-200 ease-out",enterFromClass:"transform translate-y-full opacity-0",enterToClass:"transform translate-y-0 opacity-100",leaveActiveClass:"transition-all duration-200 ease-in",leaveFromClass:"transform translate-y-0 opacity-100",leaveToClass:"transform translate-y-full opacity-0"},{default:()=>[r.value?p("div",{class:"flex h-12 px-1 justify-between lg:justify-center gap-2 pointer-events-auto backdrop-blur"},[n.value?.map((i,a)=>p("div",{class:"h-10 mt-1 bg-gray-800 rounded px-4 py-1 shadow-lg flex items-center gap-4"},[a===n.value.length-1&&p(Vt,null,[p("span",{class:"text-gray-300"},[e("components.list.selectedItems",{num:t.number||0})]),p("div",{class:"w-px h-4 bg-gray-600"},null)]),i?.map(o=>p(ge,{text:!0,onClick:o.onClick,class:"text-gray-300",loading:o.loading,disabled:o.disabled,type:o.type},{default:()=>o.label,icon:()=>p("div",{class:o.icon},null)})),a===n.value.length-1&&t.dropdown&&t.dropdown.length>0&&p(ns,{options:t.dropdown},{default:()=>[p(ge,{text:!0,class:"text-gray-300"},{icon:()=>p("div",{class:"i-tabler:dots-vertical size-4"},null)})]})]))]):null]})])}});function mz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const Qo=Y({name:"DuxListLayout",props:{rowKey:{type:String,default:"id"},path:{type:String,required:!0},filter:{type:Object},filterSchema:{type:Array},pagination:{type:[Boolean,Object],default:!0},tabs:{type:Array},tools:{type:Object},actions:{type:Array,default:()=>[]},checkable:{type:Boolean},sideLeftTitle:{type:String,default:""},sideRightTitle:{type:String,default:""},hookListProps:{type:Object}},setup(t,{slots:e}){const n=Te(t.filter||{}),{t:r}=_e(),{renderAction:i}=n0(),a=Te(t.pagination&&typeof t.pagination=="object"?t.pagination:{page:1,pageSize:20}),o=ie({}),s=()=>{Object.assign(o.value,n.value)},l=em({path:t.path,filters:o.value,pagination:a.value,...t.hookListProps}),{meta:c,list:u,isLoading:d,autoRefetch:f,autoCountdown:h,onAutoRefetch:g,isExporting:m,isExportingRows:v,isImporting:b,onExport:y,onExportRows:x,onImport:w}=l,_=V(()=>({page:l.page.value,pageSize:l.pageSize.value,pageCount:l.pageCount.value,pageSizes:l.pageSizes,pageSlot:5,onUpdatePage:l.onUpdatePage,onUpdatePageSize:l.onUpdatePageSize,showSizePicker:!0,showQuickJumper:!0})),k=wn({show:!1}),R=wn({show:!1}),A=wn({show:!1}),T=ie(t.filterSchema?.length||0),{width:O}=Fd(),M=()=>{if(!t.filterSchema?.length)return 0;const L=t.filterSchema.length;if(L<=3)return L;const N=O.value||1024;let W=3;return N>=1280?W=4:N>=1024?W=3:N>=768?W=2:W=1,Math.min(L,W)};ye(O,()=>{T.value=M()}),Tr(()=>{T.value=M()});const $=V(()=>(t.filterSchema||[]).slice(0,T.value)),C=V(()=>(t.filterSchema||[]).slice(T.value)),E=V(()=>C.value.length>0),S=L=>L.map(N=>{const{title:W,...j}=N;return{tag:Sh,attrs:{label:W,class:"flex-1 min-w-0"},children:j}}),{render:F}=ca({data:V(()=>S($.value))}),{render:D}=ca({data:V(()=>S(C.value))}),P=V(()=>({import:!1,export:!0,refresh:!0,...t.tools}));return()=>p(so,{padding:!1,scrollbar:!1},{sideLeft:()=>e?.sideLeft&&O.value>=1024?e?.sideLeft?.():void 0,sideRight:()=>e?.sideRight&&O.value>=1024?e?.sideRight?.():void 0,default:()=>p("div",{class:"flex flex-col h-full relative"},[p("div",{class:"lg:justify-between gap-2 p-3"},[p("div",{class:"flex flex-col lg:flex-row lg:items-center gap-2"},[t.checkable&&p("div",{class:"hidden lg:flex items-center pl-2"},[p(Ct,null,{trigger:()=>p("div",{class:"flex items-center"},[p(_r,{checked:l.isAllChecked.value,indeterminate:l.isIndeterminate.value,onUpdateChecked:l.toggleSelectAll},null)]),default:()=>r("components.list.selectAll")})]),t.tabs&&p("div",null,[p(Ja,{type:"segment",size:"small",style:{"--n-tab-padding":"4px 10px"},"default-value":t.tabs?.[0]?.value,value:o.value?.tab,onUpdateValue:L=>{o.value.tab=L}},{default:()=>[t.tabs?.map(L=>p(Da,{name:L.value,tab:L.label},null))]})]),p("div",{class:"flex gap-2"},[e?.sideLeft&&O.value<1024&&p(ge,{class:"flex-none",secondary:!0,onClick:()=>{R.show=!R.show}},{icon:()=>p("div",{class:"i-tabler:layout-sidebar-inactive size-4"},null)}),p("div",{class:"flex flex-wrap gap-2 items-center flex-1 lg:flex-none"},[Ye(F)]),p(ge,{type:"primary",secondary:!0,onClick:s},{icon:()=>p("div",{class:"i-tabler:search size-4"},null),default:()=>r("components.button.search")}),e?.sideRight&&O.value<1024&&p(ge,{class:"flex-none",secondary:!0,onClick:()=>{A.show=!A.show}},{icon:()=>p("div",{class:"i-tabler:layout-sidebar-right-inactive size-4"},null)}),E.value&&p(ge,{iconPlacement:"right",onClick:()=>{k.show=!k.show}},{default:()=>r("components.button.advanced"),icon:()=>p("div",{class:["i-tabler:chevrons-down size-4 transition-all"]},null)})])]),p("div",{class:"flex gap-2"},[e.actions?.(),t.actions?.length>0&&i({type:O.value<1024?"dropdown":"button",text:O.value<1024,items:t.actions})])]),p(pa,{show:d.value,class:"flex-1 min-h-0",contentClass:"h-full"},{default:()=>[p("div",{class:["h-full overflow-auto rounded-lg px-3"]},[!d.value&&u.value.length===0&&p("div",{class:"flex justify-center items-center h-full"},[p(u0,null,null)]),u.value.length>0&&e?.default?.(l)])]}),p("div",{class:"flex justify-between px-3 py-2 gap-2"},[p("div",null,[p("div",{class:"flex gap-1 items-center"},[t.checkable&&p(Ct,null,{trigger:()=>p(ge,{loading:b.value,circle:!0,quaternary:!0},{default:()=>[p(_r,{checked:l.isAllChecked.value,indeterminate:l.isIndeterminate.value,onUpdateChecked:l.toggleSelectAll},null)]}),default:()=>r("components.list.selectAll")}),e?.tools?.(),P.value.export&&p(Ct,null,{trigger:()=>p(ge,{loading:m.value,onClick:y,circle:!0,quaternary:!0},{icon:()=>p("div",{class:"i-tabler:database-export size-4"},null)}),default:()=>r("components.button.export")}),P.value.import&&p(Ct,null,{trigger:()=>p(ge,{loading:b.value,onClick:w,circle:!0,quaternary:!0},{icon:()=>p("div",{class:"i-tabler:database-import size-4"},null)}),default:()=>r("components.button.import")}),P.value.refresh&&p(Ct,null,{trigger:()=>p(ge,{onClick:g,circle:!0,quaternary:!0},{icon:()=>f.value?p(Ho,{class:"size-4",type:"circle",percentage:h.value*10,strokeWidth:20,color:"rgba(var(--ui-color-primary))"},{default:()=>[p("span",{class:"text-8px"},[h.value])]}):p("div",{class:"i-tabler:refresh size-4"},null)}),default:()=>r("components.button.autoRefresh")})])]),p("div",{class:"flex items-center gap-2"},[e?.bottom?.(),t.pagination&&p(Pd,kt(_.value,{simple:O.value<768}),{prefix:()=>p("div",null,[r("components.list.total",{total:c?.value?.total||0})])})])]),p(Eh,{number:l.checkeds.value.length,group:[[{icon:"i-tabler:x",onClick:()=>{l.checkeds.value=[],l.onUpdateChecked?.([])}}],[{label:r("components.button.export"),icon:"i-tabler:file-export",loading:v.value,onClick:x},{label:r("components.button.delete"),type:"error",icon:"i-tabler:trash"}]]},null),p(Dd,{draggable:!0,class:"bg-white rounded dark:shadow-gray-950/80  dark:bg-gray-800/60 backdrop-blur",show:k.show,onUpdateShow:L=>k.show=L},{default:({draggableClass:L})=>{let N;return p(bs,{title:r("components.button.filter"),handle:L,onClose:()=>k.show=!1},{default:()=>[p(c0,{showLabel:!0,labelPlacement:"top"},mz(N=Ye(D))?N:{default:()=>[N]})]})}}),p(zo,{show:R.show,onUpdateShow:L=>R.show=L,autoFocus:!1,placement:"left"},{default:()=>[p(Za,{title:t.sideLeftTitle||r("components.button.sideLeft"),onClose:()=>R.show=!1,scrollbar:!1},{default:()=>[e?.sideLeft?.()]})]}),p(zo,{show:A.show,onUpdateShow:L=>A.show=L,autoFocus:!1,placement:"right"},{default:()=>[p(Za,{title:t.sideRightTitle||r("components.button.sideRight"),onClose:()=>A.show=!1,scrollbar:!1},{default:()=>[e?.sideRight?.()]})]})])})}});function vz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const Ed=Y({name:"DuxTableLayout",props:{path:{type:String,required:!0},filter:{type:Object},filterSchema:{type:Array},filterNumber:{type:Number,default:1},columns:{type:Array},pagination:{type:[Boolean,Object],default:!0},tabs:{type:Array},actions:{type:Array,default:()=>[]},tools:{type:Object},sideLeftTitle:{type:String,default:""},sideRightTitle:{type:String,default:""},hookTableProps:{type:Object}},setup(t,{slots:e}){const n=Te(t,"filter",{}),r=Te(t,"columns",[]),{t:i}=_e(),{renderAction:a}=n0(),o=r0({path:t.path,filters:n.value,columns:r,pagination:t.pagination,...t.hookTableProps}),{columns:s,tablePagination:l,table:c,onUpdateColumnSelected:u,onUpdateChecked:d,columnSelected:f,autoRefetch:h,autoCountdown:g,onAutoRefetch:m,isExporting:v,isExportingRows:b,isImporting:y,onExport:x,onExportRows:w,onImport:_}=o,k=V(()=>s.value.filter(P=>"title"in P&&"key"in P).map(P=>({label:P.title,value:P.key}))),{width:R}=Fd(),A=V(()=>s.value.reduce((P,L)=>P+(Number(L?.width)||Number(L?.minWidth)||110),0)),T=wn({show:!1}),O=wn({show:!1}),M=wn({show:!1}),$=V(()=>(t.filterSchema||[]).map(P=>{const{label:L,...N}=P;return{tag:Sh,attrs:{label:L},children:N}})),{render:C}=ca({data:V(()=>$.value?.slice(t.filterNumber))}),{render:E}=ca({data:V(()=>$.value?.slice(0,t.filterNumber))}),S=V(()=>({import:!1,export:!0,refresh:!0,...t.tools})),F=ro(),D=F.tabs.find(P=>P.path===F.current);return()=>p(so,{actions:t.actions,scrollbar:!1},{sideLeft:()=>e?.sideLeft&&R.value>=1024?e?.sideLeft?.():void 0,sideRight:()=>e?.sideRight&&R.value>=1024?e?.sideRight?.():void 0,default:()=>p("div",{class:"flex flex-col gap-2 h-full relative"},[p("div",{class:"flex gap-2 justify-between flex-col lg:flex-row"},[t.tabs&&p("div",{class:"flex flex-none"},[p(Ja,{type:"segment",size:"small",style:{"--n-tab-padding":"4px 10px"},"default-value":t.tabs?.[0]?.value,value:n.value?.tab,onUpdateValue:P=>{n.value.tab=P}},{default:()=>[t.tabs?.map(P=>p(Da,{name:P.value,tab:P.label},null))]})]),p("div",{class:["overflow-hidden flex-1 flex gap-2"]},[e?.sideLeft&&R.value<1024&&p(ge,{class:"flex-none",secondary:!0,onClick:()=>{O.show=!O.show}},{icon:()=>p("div",{class:"i-tabler:layout-sidebar-inactive size-4"},null)}),p("div",{class:["flex-1 flex flex-col lg:flex-row gap-2 flex-wrap",t.tabs?"justify-end":"justify-start"]},[!t.tabs&&!t.filterSchema?.length&&p("div",{class:"flex flex-none items-center text-base font-medium"},[D?.label]),Ye(E)]),e?.sideRight&&R.value<1024&&p(ge,{class:"flex-none",secondary:!0,onClick:()=>{M.show=!M.show}},{icon:()=>p("div",{class:"i-tabler:layout-sidebar-right-inactive size-4"},null)})]),p("div",{class:"flex gap-2 justify-between lg:justify-end"},[p("div",{class:"flex gap-2 items-center"},[$.value.length>t.filterNumber&&p(ge,{iconPlacement:"right",onClick:()=>{T.show=!T.show}},{default:()=>i("components.button.filter"),icon:()=>p("div",{class:["i-tabler:chevrons-down size-4 transition-all"]},null)}),e?.tools?.(),p(vC,{options:k.value,value:f.value,onUpdateValue:P=>{u(P)},multiple:!0,placement:"bottom-start",trigger:"click"},{default:()=>[p(Ct,null,{trigger:()=>p(ge,{secondary:!0,"icon-placement":"right"},{icon:()=>p("div",{class:"i-tabler:columns size-4"},null)}),default:()=>i("components.list.columnSetting")})]}),S.value.export&&p(Ct,null,{trigger:()=>p(ge,{secondary:!0,loading:v.value,onClick:x},{icon:()=>p("div",{class:"i-tabler:database-export size-4"},null)}),default:()=>i("components.button.export")}),S.value.import&&p(Ct,null,{trigger:()=>p(ge,{secondary:!0,loading:y.value,onClick:_},{icon:()=>p("div",{class:"i-tabler:database-import size-4"},null)}),default:()=>i("components.button.import")}),S.value.refresh&&p(Ct,null,{trigger:()=>p(ge,{secondary:!0,onClick:m},{icon:()=>h.value?p(Ho,{class:"size-4",type:"circle",percentage:g.value*10,strokeWidth:20,color:"rgba(var(--ui-color-primary))"},{default:()=>[p("span",{class:"text-8px"},[g.value])]}):p("div",{class:"i-tabler:refresh size-4"},null)}),default:()=>i("components.button.autoRefresh")})]),p("div",{class:"flex gap-2 justify-end"},[e.actions?.(),t.actions?.length>0&&a({type:R.value<1024?"dropdown":"button",items:t.actions})])])]),e?.header?.(),p("div",{class:"flex-1 min-h-0"},[e?.default?.({...o,width:A.value})]),p("div",{class:"flex justify-between"},[p("div",null,[e?.bottom?.()]),p("div",null,[t.pagination&&p(Pd,kt(l.value,{simple:R.value<768}),{prefix:()=>p("div",null,[i("components.list.total",{total:o.total.value||0})])})])]),p(Eh,{number:c.value.checkedRowKeys?.length||0||0,group:[[{icon:"i-tabler:x",onClick:()=>{d?.([])}}],[{label:i("components.button.export"),icon:"i-tabler:file-export",loading:b.value,onClick:w},{label:i("components.button.delete"),type:"error",icon:"i-tabler:trash"}]]},null),p(Dd,{draggable:!0,class:"bg-white rounded dark:shadow-gray-950/80  dark:bg-gray-800/60 backdrop-blur min-w-110",show:T.show,onUpdateShow:P=>T.show=P},{default:({draggableClass:P})=>{let L;return p(bs,{title:i("components.button.filter"),handle:P,onClose:()=>T.show=!1},{default:()=>[p(c0,{showLabel:!0,labelPlacement:"top"},vz(L=Ye(C))?L:{default:()=>[L]})]})}}),p(zo,{show:O.show,onUpdateShow:P=>O.show=P,autoFocus:!1,placement:"left"},{default:()=>[p(Za,{title:t.sideLeftTitle||i("components.button.sideLeft"),onClose:()=>O.show=!1,scrollbar:!1},{default:()=>[e?.sideLeft?.()]})]}),p(zo,{show:M.show,onUpdateShow:P=>M.show=P,autoFocus:!1,placement:"right"},{default:()=>[p(Za,{title:t.sideRightTitle||i("components.button.sideRight"),onClose:()=>M.show=!1,scrollbar:!1},{default:()=>[e?.sideRight?.()]})]})])})}}),R4=Y({name:"DuxCardPage",props:{colWidth:{type:Number,default:320},rows:{type:Number,default:4},maxRows:{type:Number,default:10},sideLeftTitle:{type:String,default:""},sideRightTitle:{type:String,default:""}},extends:Qo,slots:Object,setup(t,{slots:e}){const n=ie(),{width:r}=iC(n),{width:i}=Fd(),a=V(()=>t.colWidth||320),o=(c=0)=>{const u=c||i.value||1024,d=t.colWidth||320,f=t.rows||4,h=t.maxRows||10,g=.25*16*3,m=Math.max(1,Math.floor((u+g)/(d+g))),v=Math.floor((1920+g)/(d+g))*f,b=Math.ceil(v/m),y=Math.min(Math.max(b,f),h);return m*y},s=Te(t.pagination&&typeof t.pagination=="object"?t.pagination:{page:1,pageSize:o()});qy([r],()=>{if(t.pagination&&typeof t.pagination=="object")return;const c=o(r.value);c!==s.value.pageSize&&(s.value.pageSize=c,s.value.page=1)},{debounce:300});const l=V(()=>{const{maxRows:c,rows:u,colWidth:d,...f}=t;return{...f,pagination:s.value}});return()=>p(Qo,l.value,{default:c=>p("div",{class:"grid gap-3",style:{"grid-template-columns":`repeat(auto-fit, minmax(${a.value}px, 1fr))`}},[c.list.value.map(u=>e?.default?.({item:u,isChecked:c.isChecked,toggleChecked:c.toggleChecked}))]),actions:e.actions,tools:e.tools,bottom:e.bottom,sideLeft:e.sideLeft,sideRight:e.sideRight})}}),$4=Y({name:"DuxListPage",props:{sideLeftTitle:{type:String,default:""},sideRightTitle:{type:String,default:""}},extends:Qo,slots:Object,setup(t,{slots:e}){const n=V(()=>{const{...r}=t;return{...r}});return()=>p(Qo,n.value,{default:r=>p("div",{class:"flex flex-col gap-3"},[r.list.value.map(i=>e?.default?.({item:i,isChecked:r.isChecked,toggleChecked:r.toggleChecked}))]),actions:e.actions,tools:e.tools,bottom:e.bottom,sideLeft:e.sideLeft,sideRight:e.sideRight})}}),F4=Y({name:"DuxPanelAlert",props:{type:{type:String,default:"default"},title:{type:String,default:""},description:{type:String,default:""}},setup(t,{slots:e}){const n=V(()=>{switch(t.type){case"error":return"to-error/20";case"warning":return"to-warning/20";case"info":return"to-info/20";case"success":return"to-success/20";default:return"to-gray/20"}});return()=>p("div",{class:`relative flex rounded-lg ring ring-muted bg-linear-to-br from-transparent ${n.value}`},[p("div",{class:"relative flex flex-col flex-1 lg:grid gap-x-8 gap-y-4 p-4 sm:p-6"},[p("div",{class:"flex flex-col flex-1 items-start"},[p("div",{class:"flex-1"},[p("div",{class:"text-base text-pretty text-highlighted"},[e.title?.()||t.title]),p("div",{class:"text-sm text-pretty text-muted mt-1"},[e.description?.()||t.description])]),e.actions&&p("div",{class:"pt-4 mt-auto"},[e.actions?.()])])])])}}),P4=Y({name:"DuxPanelCard",props:{title:{type:String,default:""},description:{type:String,default:""},padding:{type:String},bordered:{type:Boolean,default:!0}},setup(t,{slots:e}){return()=>p("div",{class:"flex flex-col gap-4"},[p("div",{class:"flex items-center px-2"},[p("div",{class:"flex-1 flex flex-col"},[p("div",{class:"text-base"},[t.title]),t.description&&p("div",{class:"text-sm text-muted"},[t.description])]),p("div",{class:"flex-none flex items-center"},[e.actions?.()])]),p(hr,{size:t.padding,shadow:!1,bordered:t.bordered},{default:()=>[e.default?.()]})])}}),D4=Y({name:"DuxCollapsePanel",props:{title:String,desc:String,defaultShow:Boolean,highlight:Boolean},setup(t,{slots:e}){const n=ie(!!t.defaultShow);return()=>p("div",{class:xt(["border rounded-sm",t.highlight?"border-primary":"border-muted"])},[p("div",{class:xt(["px-4 py-3 flex justify-between items-center",t.highlight?"bg-primary/10":"bg-gray/5"])},[p("div",{class:"flex gap-2 items-start"},[p("div",{class:"pt-0.5"},[e.suffix?.()]),p("div",{class:"flex flex-col"},[p("div",{class:"font-medium text-base"},[t?.title]),t?.desc&&p("div",{class:"text-muted"},[t.desc])])]),p("div",{class:xt(["p-2 rounded-full text-primary cursor-pointer",t.highlight?"bg-primary/10":"bg-gray/5"]),onClick:()=>n.value=!n.value},[p("div",{class:xt(["i-tabler:arrow-down size-4 transition-all",n.value?"":"rotate-180"])},null)])]),p("div",{class:xt("transition-all overflow-hidden",{"max-h-0":!n.value,"max-h-500":n.value})},[p("div",{class:"p-4"},[e.default?.()])])])}});function L4(t={}){const e=ie(null),n=ie(null),r=ie({width:t.width||750,height:t.height||1e3,backgroundColor:t.backgroundColor||"#ffffff",backgroundImage:t.backgroundImage||"",elements:[]}),i=ie([]),a=ie(!1),o=ie(1),s=ie(0),l=ie(0);let c=null,u=()=>{},d=0;const f=()=>`element_${++d}`,h=()=>{a.value||(a.value=!0,An(()=>{u(JSON.stringify(r.value)),a.value=!1}))},g=()=>{if(!e.value)return;const I=e.value.getObjects(),B=[];I.forEach(te=>{const le=te.elementId;if(!le)return;const de=r.value.elements.find(se=>se.id===le);if(!de)return;const pe=Co(de.type);if(!pe)return;const ee=pe.getPropsFromFabricObject(te);B.push({...de,...ee,id:de.id,type:de.type})}),r.value.elements=B},m=aC(()=>{g(),h()},100),v=()=>{if(!e.value)return;const I=e.value.getActiveObjects(),B=e.value.getActiveObject();I.length>0?i.value=[...I]:B?i.value=[B]:i.value=[]},b=()=>{i.value=[]},y=I=>{if(!I.target)return;const B=I.target,te=B.elementId,le=r.value.elements.find(ee=>ee.id===te)?.type,de=B.scaleX||1,pe=B.scaleY||1;if(de!==1||pe!==1){if(le==="circle"){const ee=Math.max(de,pe),se=Math.round((B.radius||50)*ee);B.set({radius:se,scaleX:1,scaleY:1})}else if(le!=="image"){const ee=Math.round(B.width*de),se=Math.round(B.height*pe);B.set({width:ee,height:se,scaleX:1,scaleY:1})}B.setCoords()}m()},x=I=>{const B=I.target;if(!B)return;const te=B.elementId;if(!te)return;const le=r.value.elements.find(de=>de.id===te);if(le){if(le.type==="circle"){const de=Math.max(B.scaleX||1,B.scaleY||1);B.set({scaleX:de,scaleY:de}),B.setCoords()}if(le.type==="rect"){const de=B.__corner;if(de&&["tl","tr","bl","br"].includes(de)){const pe=Math.max(Math.abs(B.scaleX||1),Math.abs(B.scaleY||1));B.set({scaleX:B.scaleX>=0?pe:-pe,scaleY:B.scaleY>=0?pe:-pe}),B.setCoords()}}if(le.type==="image"){const de=B.__corner;if(de&&["tl","tr","bl","br"].includes(de)){const pe=Math.max(Math.abs(B.scaleX||1),Math.abs(B.scaleY||1));B.set({scaleX:B.scaleX>=0?pe:-pe,scaleY:B.scaleY>=0?pe:-pe}),B.setCoords()}}}},w=()=>{e.value&&(e.value.on("selection:created",v),e.value.on("selection:updated",v),e.value.on("selection:cleared",b),e.value.on("mouse:down",()=>setTimeout(v,10)),e.value.on("mouse:up",()=>setTimeout(v,10)),e.value.on("object:modified",y),e.value.on("object:scaling",x),e.value.on("path:created",m),e.value.on("object:moving",m),e.value.on("object:rotating",m),e.value.on("object:skewing",m),e.value.on("object:added",m),e.value.on("object:removed",m),e.value.on("custom:text:changed",I=>{I.target&&I.newText!==void 0&&I.target.elementId&&m()}))},_=()=>{if(!e.value)return;const I=o.value||1;e.value.setZoom(I),e.value.setDimensions({width:r.value.width*I,height:r.value.height*I}),e.value.backgroundColor=r.value.backgroundColor,e.value.renderAll(),e.value.getObjects().forEach(B=>B.setCoords())},k=()=>{if(!c)return;const I=c.getBoundingClientRect();s.value=I.width-40,l.value=I.height-40;const B=s.value/r.value.width,te=l.value/r.value.height,le=Math.min(B,te,1);o.value=le,e.value&&(e.value.setZoom(le),e.value.setDimensions({width:r.value.width*le,height:r.value.height*le}),e.value.renderAll(),e.value.getObjects().forEach(de=>de.setCoords()))},R=I=>{c=I,An(k);const B=new ResizeObserver(k);return B.observe(I),()=>B.disconnect()},A=(I,B)=>{const te=r.value.width,le=r.value.height,de=I.getBoundingRect();switch(B){case"center-horizontal":I.set("left",Math.round(I.left+(te/2-de.left-de.width/2)));break;case"center-vertical":I.set("top",Math.round(I.top+(le/2-de.top-de.height/2)));break;case"center-both":I.set({left:Math.round(I.left+(te/2-de.left-de.width/2)),top:Math.round(I.top+(le/2-de.top-de.height/2))});break;case"move-up":e.value?.bringObjectForward(I);break;case"move-down":e.value?.sendObjectBackwards(I);break;case"move-to-front":e.value?.bringObjectToFront(I);break;case"move-to-back":e.value?.sendObjectToBack(I);break}I.setCoords(),e.value?.renderAll()},T=I=>{if(I.length<3)return;const B=[...I].sort((Ce,fe)=>Ce.getBoundingRect().left-fe.getBoundingRect().left),te=B[0].getBoundingRect(),le=B[B.length-1].getBoundingRect(),de=le.left+le.width-te.left,pe=B.reduce((Ce,fe)=>Ce+fe.getBoundingRect().width,0),ee=(de-pe)/(B.length-1);let se=te.left+te.width+ee;for(let Ce=1;Ce<B.length-1;Ce++){const fe=B[Ce],Ge=fe.getBoundingRect();fe.set("left",Math.round(fe.left+(se-Ge.left))),se+=Ge.width+ee}},O=I=>{if(I.length<3)return;const B=[...I].sort((Ce,fe)=>Ce.getBoundingRect().top-fe.getBoundingRect().top),te=B[0].getBoundingRect(),le=B[B.length-1].getBoundingRect(),de=le.top+le.height-te.top,pe=B.reduce((Ce,fe)=>Ce+fe.getBoundingRect().height,0),ee=(de-pe)/(B.length-1);let se=te.top+te.height+ee;for(let Ce=1;Ce<B.length-1;Ce++){const fe=B[Ce],Ge=fe.getBoundingRect();fe.set("top",Math.round(fe.top+(se-Ge.top))),se+=Ge.height+ee}},M=(I,B)=>{if(I.length<2)return;const te=I.map(fe=>fe.getBoundingRect()),le=Math.min(...te.map(fe=>fe.left)),de=Math.max(...te.map(fe=>fe.left+fe.width)),pe=Math.min(...te.map(fe=>fe.top)),ee=Math.max(...te.map(fe=>fe.top+fe.height)),se=(le+de)/2,Ce=(pe+ee)/2;switch(B){case"left":I.forEach(fe=>{const Ge=fe.getBoundingRect();fe.set("left",Math.round(fe.left+(le-Ge.left)))});break;case"right":I.forEach(fe=>{const Ge=fe.getBoundingRect();fe.set("left",Math.round(fe.left+(de-Ge.left-Ge.width)))});break;case"top":I.forEach(fe=>{const Ge=fe.getBoundingRect();fe.set("top",Math.round(fe.top+(pe-Ge.top)))});break;case"bottom":I.forEach(fe=>{const Ge=fe.getBoundingRect();fe.set("top",Math.round(fe.top+(ee-Ge.top-Ge.height)))});break;case"center-horizontal":I.forEach(fe=>{const Ge=fe.getBoundingRect(),hn=Ge.left+Ge.width/2;fe.set("left",Math.round(fe.left+(se-hn)))});break;case"center-vertical":I.forEach(fe=>{const Ge=fe.getBoundingRect(),hn=Ge.top+Ge.height/2;fe.set("top",Math.round(fe.top+(Ce-hn)))});break;case"distribute-horizontal":T(I);break;case"distribute-vertical":O(I);break}I.forEach(fe=>fe.setCoords()),e.value?.renderAll()},$=(I,B)=>(n.value=I,e.value=Bo(new Ag(I,{selection:!0,preserveObjectStacking:!0,uniformScaling:!1,uniScaleKey:"shiftKey",altActionKey:"altKey"})),w(),_(),B&&R(B),e.value),C=async(I,B={})=>{const te=Co(I);if(!te||!e.value)return;const le=f(),de=r.value.width/2,pe=r.value.height/2,ee={...te.defaultProps,left:Math.round(de-(te.defaultProps.width||100)/2),top:Math.round(pe-(te.defaultProps.height||50)/2),...B,id:le},se=await te.createFabricObject(ee);if(!se)return;se.elementId=le,e.value.add(se),se.setCoords(),e.value.setActiveObject(se),e.value.renderAll();const Ce=ee;return r.value.elements.push(Ce),le},E=()=>{!e.value||i.value.length===0||(e.value.getActiveObjects().forEach(I=>{const B=I.elementId;if(B){const te=r.value.elements.findIndex(le=>le.id===B);te!==-1&&r.value.elements.splice(te,1)}e.value?.remove(I)}),e.value.discardActiveObject(),i.value=[],e.value.renderAll())},S=()=>{e.value?.discardActiveObject(),e.value?.renderAll()},F=(I,B,te)=>{const le=r.value.elements.findIndex(se=>se.id===I);if(le===-1)return;const de=r.value.elements[le],pe=Co(de.type);if(!pe)return;r.value.elements[le]={...de,[B]:te};const ee=e.value?.getObjects().find(se=>se.elementId===I);ee&&pe.onPropsChange&&(pe.onPropsChange(r.value.elements[le],ee),ee.setCoords(),e.value?.renderAll())},D=V(()=>{if(i.value.length!==1||r.value.elements.length<=1)return!1;const I=i.value[0].elementId;if(!I)return!1;const B=r.value.elements.findIndex(te=>te.id===I);return B!==-1&&B<r.value.elements.length-1}),P=V(()=>{if(i.value.length!==1||r.value.elements.length<=1)return!1;const I=i.value[0].elementId;return I?r.value.elements.findIndex(B=>B.id===I)>0:!1}),L=V(()=>{if(i.value.length!==1||r.value.elements.length<=1)return!1;const I=i.value[0].elementId;if(!I)return!1;const B=r.value.elements.findIndex(te=>te.id===I);return B!==-1&&B<r.value.elements.length-1}),N=V(()=>{if(i.value.length!==1||r.value.elements.length<=1)return!1;const I=i.value[0].elementId;return I?r.value.elements.findIndex(B=>B.id===I)>0:!1}),W=I=>{const B=e.value?.getActiveObjects()||[];if(B.length===1){if(A(B[0],I),["move-up","move-down","move-to-front","move-to-back"].includes(I)){const te=B[0].elementId;if(te){const le=r.value.elements.findIndex(de=>de.id===te);if(le!==-1){const de=r.value.elements[le];switch(r.value.elements.splice(le,1),I){case"move-up":r.value.elements.splice(Math.min(le+1,r.value.elements.length),0,de);break;case"move-down":r.value.elements.splice(Math.max(le-1,0),0,de);break;case"move-to-front":r.value.elements.push(de);break;case"move-to-back":r.value.elements.unshift(de);break}}}}}else B.length>1&&M(B,I)},j=()=>{e.value&&(e.value.clear(),r.value.elements=[],i.value=[])},U=async I=>{if(I)try{const B=JSON.parse(I);if(r.value={width:B.width||750,height:B.height||1e3,backgroundColor:B.backgroundColor||"#ffffff",backgroundImage:B.backgroundImage||"",elements:B.elements||[]},e.value){e.value.clear(),e.value.setDimensions({width:r.value.width,height:r.value.height}),e.value.backgroundColor=r.value.backgroundColor,r.value.backgroundImage&&Le(r.value.backgroundImage);const te=r.value.elements.map(async le=>{const de=Co(le.type);if(!de)return;const pe=await de.createFabricObject(le);pe&&(pe.elementId=le.id,e.value?.add(pe))});Promise.all(te).then(()=>{_(),e.value?.renderAll(),h()})}}catch(B){console.error("Failed to load data:",B)}},z=I=>{u=I?.onDataChange||(()=>{})},Q=()=>{e.value&&(e.value.dispose(),e.value=null)},K=V(()=>i.value.length===1?i.value[0]:null),H=V(()=>{if(!K.value)return null;const I=K.value.elementId;return r.value.elements.find(B=>B.id===I)||null}),J=V(()=>H.value?Co(H.value.type):null),ne=V(()=>i.value.length>1),oe=I=>{if(H.value)return H.value[I]},he=V(()=>i.value.map(I=>{const B=I.elementId;return r.value.elements.find(te=>te.id===B)}).filter(I=>!!I)),ve=(I,B)=>{r.value.width=I,r.value.height=B,e.value&&(e.value.setDimensions({width:I,height:B}),k(),e.value.renderAll()),h()},Oe=I=>{r.value.backgroundColor=I,e.value&&(e.value.backgroundColor=I,e.value.renderAll()),h()},Le=I=>{!e.value||!I||Gn.fromURL(I,{crossOrigin:"anonymous"}).then(B=>{e.value&&(e.value.backgroundImage=B,e.value.renderAll())}).catch(B=>{console.error("Failed to load background image:",B)})},Re=I=>{r.value.backgroundImage=I,I?Le(I):e.value&&(e.value.backgroundImage=void 0,e.value.renderAll()),h()},bt=()=>{g(),h()},et=()=>{g();const I=JSON.stringify(r.value,null,2),B=new Blob([I],{type:"application/json"}),te=URL.createObjectURL(B),le=document.createElement("a");le.href=te,le.download=`poster-${Date.now()}.json`,document.body.appendChild(le),le.click(),document.body.removeChild(le),URL.revokeObjectURL(te)};return ye(r,()=>{m()},{deep:!0}),{initCanvas:$,destroy:Q,setCallbacks:z,addElement:C,deleteSelectedElements:E,updateElementProperty:F,alignElements:W,canMoveUp:D,canMoveDown:P,canMoveToFront:L,canMoveToBack:N,clearCanvas:j,loadData:U,updateData:h,canvas:e,canvasData:r,selectedElements:i,canvasScale:o,currentElement:K,currentElementData:H,currentElementConfig:J,hasMultipleSelection:ne,clearSelection:S,updateCanvasSize:_,setupAutoResize:R,getSelectedElementProperty:oe,selectedElementsData:he,syncAllFabricObjectsToData:g,updateCanvasSettings:ve,updateCanvasBackground:Oe,updateCanvasBackgroundImage:Re,saveData:bt,exportJson:et}}const bz=Y({name:"CanvasRuler",props:{canvasWidth:{type:Number,required:!0},canvasHeight:{type:Number,required:!0},canvasScale:{type:Number,required:!0},rulerSize:{type:Number,default:20}},setup(t){const e=(o,s)=>{const l=[];let c=10;s<.5?c=50:s<1&&(c=25);for(let u=0;u<=o;u+=c){const d=u*s,f=u%(c*5)===0;l.push({position:d,value:u,isMajor:f})}return l},n=V(()=>e(t.canvasWidth,t.canvasScale)),r=V(()=>e(t.canvasHeight,t.canvasScale)),i=V(()=>t.canvasWidth*t.canvasScale),a=V(()=>t.canvasHeight*t.canvasScale);return()=>p("div",{class:"absolute inset-0 pointer-events-none"},[p("div",{class:"absolute flex justify-center left-6 top-0 right-0 bg-default",style:{height:`${t.rulerSize}px`}},[p("div",{class:"absolute top-0 bg-default",style:{left:"50%",transform:"translateX(-50%)",width:`${i.value}px`,height:`${t.rulerSize}px`}},[p("svg",{width:i.value,height:t.rulerSize,class:"absolute top-0 left-0"},[n.value.map((o,s)=>p("g",{key:s},[p("line",{x1:o.position,y1:o.isMajor?0:t.rulerSize/2,x2:o.position,y2:t.rulerSize,stroke:"rgba(0,0,0, 0.1)","stroke-width":"1"},null),o.isMajor&&p("text",{x:o.position+2,y:t.rulerSize-6,"font-size":"10",stroke:"rgba(0,0,0, 0.1)","font-family":"monospace",fill:"rgb(var(--ui-text-muted))"},[o.value])]))])])]),p("div",{class:"absolute flex justify-center items-center flex-col top-6 left-0 bottom-0 bg-default border-r border-muted",style:{width:`${t.rulerSize}px`}},[p("div",{class:"absolute left-0 bg-default",style:{top:"50%",transform:"translateY(-50%)",width:`${t.rulerSize}px`,height:`${a.value}px`}},[p("svg",{width:t.rulerSize,height:a.value,class:"absolute top-0 left-0"},[r.value.map((o,s)=>p("g",{key:s},[p("line",{x1:o.isMajor?0:t.rulerSize/2,y1:o.position,x2:t.rulerSize,y2:o.position,stroke:"rgba(0,0,0, 0.1)","stroke-width":"1"},null),o.isMajor&&p("text",{x:t.rulerSize-6,y:o.position-6,"font-size":"10",fill:"rgb(var(--ui-text-muted))","font-family":"monospace","text-anchor":"end",transform:`rotate(-90, ${t.rulerSize-2}, ${o.position-2})`},[o.value])]))])])]),p("div",{class:"absolute size-6 bg-default top-0 left-0"},null)])}}),yz=Y({name:"LeftToolbar",props:{onAddElement:{type:Function,required:!0},canvasWidth:{type:Number,required:!0},canvasHeight:{type:Number,required:!0}},setup(t){return()=>p("div",{class:"p-4 bg-default border-r border-default flex flex-col gap-6"},[_6.map(e=>p(Ct,null,{default:()=>e.name,trigger:()=>p(ge,{key:e.type,text:!0,size:"large",onClick:()=>t.onAddElement(e.type)},{icon:()=>p("div",{class:e.icon},null)})}))])}}),Zf=Y({name:"Panel",props:{title:{type:String,required:!0}},setup(t,{slots:e}){return()=>p("div",{class:"flex flex-col h-full"},[p("div",{class:"font-medium p-3 border-b border-default"},[t.title]),p("div",{class:" flex-1 min-h-0"},[p(pi,null,{default:()=>[p("div",{class:"p-3 flex flex-col gap-2"},[e.default?.()])]})]),p("div",{class:"border-t border-default p-3 flex flex-col gap-2"},[e.footer?.()])])}}),vr=Y({name:"PanelItem",props:{title:{type:String,required:!0}},setup(t,{slots:e}){return()=>p("div",{class:"flex flex-col gap-1"},[p("div",{class:"text-muted text-sm"},[t.title]),p("div",null,[e.default?.()])])}}),d0=t=>{const e=lt(),n=V(()=>t?.uploadPath||e.config?.apiPath?.upload||"upload"),r=V(()=>t?.managePath||e.config?.apiPath?.uploadManager||"uploadManager"),i=V(()=>t?.driver==="s3"?U3({signPath:t?.signPath||e.config?.apiPath?.upload||n.value||"",signCallback:t?.signCallback||e.config?.upload?.signCallback||(a=>({uploadUrl:a.data?.uploadUrl,url:a.data?.url,params:a.data?.params}))}):nm());return{uploadPath:n,managePath:r,driver:i}},Th=Y({name:"DuxImageUpload",props:{path:{type:String,default:"upload"},signPath:{type:String,default:""},signCallback:Function,managePath:{type:String,default:""},driver:{type:String,default:"local"},maxNum:Number,maxSize:{type:Number,default:0},multiple:Boolean,manager:Boolean,value:[String,Array],defaultValue:[String,Array],onUpdateValue:Function},setup(t,{emit:e}){const n=Be(t,"value",e,{passive:!0,deep:!0,defaultValue:t.defaultValue}),r=_n(),i=G6(),{t:a}=_e(),o={container:"flex gap-2",imageItem:"size-80px rounded border border-muted relative group draggable flex items-center",imageOverlay:"z-1 size-full inset-0 absolute flex items-center justify-center bg-default/80 transition-all opacity-0 group-hover:opacity-100 rounded",uploadArea:"relative size-80px text-sm rounded flex flex-col border border-dashed bg-elevated border-muted dark:border-accented hover:bg-accented/50 hover:border-accented dark:hover:bg-accented/50 dark:hover:border-accented cursor-pointer",uploadContent:"flex-1 flex flex-col justify-center items-center gap-1 relative",progressContainer:"size-80px flex items-center justify-center rounded",progressBar:"absolute left-2 right-2 bottom-2"},s=V(()=>t.maxSize),{uploadPath:l,managePath:c,driver:u}=d0({driver:t?.driver,signPath:t?.signPath,signCallback:t?.signCallback,uploadPath:t?.path,managePath:t?.managePath}),d=no({path:l.value,multiple:t.multiple,maxFileCount:t.maxNum,maxFileSize:s.value*1024*1024,autoUpload:!0,accept:"image/*",onError:x=>{r.error(x.message||a("components.upload.error"))},driver:u.value});ye(d.dataFiles,x=>{const w=t.multiple?x?.map(_=>_.url):x?.[0]?.url;n.value=w,t.onUpdateValue?.(w)});const f=V(()=>d.progress.value.totalPercent),h=V(()=>d.isUploading.value),g=async()=>{d.open()},m=V(()=>t.multiple?t.maxNum&&d.uploadFiles.value.length>=t.maxNum:!0),v=V(()=>d.dataFiles.value?.map(x=>x.url)),b=fr(),y=ie(!1);return ye(n,x=>{if(!x||!x?.length||y.value)return;y.value=!0;const w=typeof x=="string"?[x]:Array.isArray(x)?x:[];d.addDataFiles(w.map(_=>({url:_})))},{immediate:!0}),()=>p("div",null,[p(ih,{modelValue:d.uploadFiles.value,"onUpdate:modelValue":x=>d.uploadFiles.value=x,class:o.container,draggable:".draggable"},{default:()=>[d.uploadFiles.value?.map((x,w)=>{const _=x.url||URL.createObjectURL(x.file);return p("div",{key:w,class:xt(o.imageItem)},[p(aa,{class:"z-0 rounded",objectFit:"scale-down",width:78,height:78,previewDisabled:!0,src:_},null),p("div",{class:o.imageOverlay},[x.status==="success"&&p(ge,{quaternary:!0,circle:!0,size:"small",renderIcon:()=>p("div",{class:"n-icon i-tabler:eye"},null),onClick:()=>i.show(v.value,w)},null),p(ge,{quaternary:!0,circle:!0,size:"small",renderIcon:()=>p("div",{class:"n-icon i-tabler:trash"},null),onClick:()=>{d.removeFiles([x.id])}},null)])])}),(d.uploadFiles.value.length===0||!m.value)&&p("div",{class:o.uploadArea,onClick:()=>{g()}},[t.manager&&p("div",{class:" py-1 text-xs bg-muted border-b border-dashed border-accented flex items-center justify-center",onClick:x=>{x.stopPropagation(),b.show({title:a("components.upload.title"),width:"800px",component:()=>Mn(()=>Promise.resolve().then(()=>H4),void 0),componentProps:{path:c.value,type:"image",multiple:t.multiple,uploadParams:{path:l.value,accept:"image/*",maxNum:t.maxNum,maxSize:t.maxSize}}}).then(w=>{d.addDataFiles(w)})}},[p("div",{class:"i-tabler:folder size-4"},null)]),p("div",{class:o.uploadContent},[h.value?p("div",{class:o.progressContainer},[p("div",{class:"i-tabler:photo size-6"},null),p("div",{class:o.progressBar},[p(Ho,{type:"line",percentage:f.value,showIndicator:!1,height:4},null)])]):p("div",{class:"i-tabler:plus size-4"},null)])])]})])}});function xz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const wz=Y({name:"RightPanel",props:{hasMultipleSelection:{type:Boolean,required:!0},selectedElementsCount:{type:Number,required:!0},currentElementData:{type:Object},currentElementConfig:{type:Object},canMoveUp:{type:Boolean,required:!0},canMoveDown:{type:Boolean,required:!0},canMoveToFront:{type:Boolean,required:!0},canMoveToBack:{type:Boolean,required:!0},canvasWidth:{type:Number,required:!0},canvasHeight:{type:Number,required:!0},canvasBackgroundColor:{type:String,required:!0},canvasBackgroundImage:{type:String},onDeleteSelectedElements:{type:Function,required:!0},onAlignElements:{type:Function,required:!0},onUpdateElementProperty:{type:Function,required:!0},onUpdateCanvasSize:{type:Function,required:!0},onUpdateCanvasBackground:{type:Function,required:!0},onUpdateCanvasBackgroundImage:{type:Function,required:!0},onSaveData:{type:Function,required:!0},onExportJson:{type:Function,required:!0},onRenderToolbarControl:{type:Function,required:!0},onClearCanvas:{type:Function,required:!0},canvasScale:{type:Number,required:!0}},setup(t){const e=()=>{if(t.hasMultipleSelection)return p(Zf,{title:""},{default:()=>p(Vt,null,[p(vr,{title:""},{default:()=>[p("div",{class:"grid grid-cols-4 gap-2"},[p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("left"),renderIcon:()=>p("div",{class:"i-tabler:layout-align-left"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("right"),renderIcon:()=>p("div",{class:"i-tabler:layout-align-right"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("top"),renderIcon:()=>p("div",{class:"i-tabler:layout-align-top"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("bottom"),renderIcon:()=>p("div",{class:"i-tabler:layout-align-bottom"},null)},null),default:()=>""})])]}),p(vr,{title:""},{default:()=>[p("div",{class:"grid grid-cols-4 gap-2"},[p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("center-horizontal"),renderIcon:()=>p("div",{class:"i-tabler:layout-align-center"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("center-vertical"),renderIcon:()=>p("div",{class:"i-tabler:layout-align-middle"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("distribute-horizontal"),renderIcon:()=>p("div",{class:"i-tabler:layout-distribute-horizontal"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("distribute-vertical"),renderIcon:()=>p("div",{class:"i-tabler:layout-distribute-vertical"},null)},null),default:()=>""})])]})]),footer:()=>p(Vt,null,[p(ge,{block:!0,onClick:t.onDeleteSelectedElements,type:"error"},{icon:()=>p("div",{class:"i-tabler:trash"},null),default:()=>""})])});if(t.currentElementData&&t.currentElementConfig){const n=t.currentElementConfig.getToolbarControls(t.currentElementData);return p(Zf,{title:""},{default:()=>p(Vt,null,[n.map(r=>{let i;return p(vr,{key:r.key,title:r.label},xz(i=t.onRenderToolbarControl(r))?i:{default:()=>[i]})}),p(vr,{title:"X"},{default:()=>[p(sn,{value:t.currentElementData?.left,"onUpdate:value":r=>t.onUpdateElementProperty(t.currentElementData.id,"left",r||0)},null)]}),p(vr,{title:"Y"},{default:()=>[p(sn,{value:t.currentElementData?.top,"onUpdate:value":r=>t.onUpdateElementProperty(t.currentElementData.id,"top",r||0)},null)]}),p(vr,{title:""},{default:()=>[p(sn,{value:t.currentElementData?.angle,min:-180,max:180,"onUpdate:value":r=>t.onUpdateElementProperty(t.currentElementData.id,"angle",r||0)},null)]}),p(vr,{title:""},{default:()=>[p("div",{class:"grid grid-cols-3 gap-2"},[p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("center-horizontal"),renderIcon:()=>p("div",{class:"i-tabler:layout-align-center"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("center-vertical"),renderIcon:()=>p("div",{class:"i-tabler:layout-align-middle"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{onClick:()=>t.onAlignElements("center-both"),renderIcon:()=>p("div",{class:"i-tabler:layout-distribute-horizontal"},null)},null),default:()=>""})])]}),p(vr,{title:""},{default:()=>[p("div",{class:"grid grid-cols-4 gap-2"},[p(Ct,null,{trigger:()=>p(ge,{disabled:!t.canMoveUp,onClick:()=>t.onAlignElements("move-up"),renderIcon:()=>p("div",{class:"i-tabler:arrow-narrow-up"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{disabled:!t.canMoveDown,onClick:()=>t.onAlignElements("move-down"),renderIcon:()=>p("div",{class:"i-tabler:arrow-narrow-down"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{disabled:!t.canMoveToFront,onClick:()=>t.onAlignElements("move-to-front"),renderIcon:()=>p("div",{class:"i-tabler:arrow-bar-to-up"},null)},null),default:()=>""}),p(Ct,null,{trigger:()=>p(ge,{disabled:!t.canMoveToBack,onClick:()=>t.onAlignElements("move-to-back"),renderIcon:()=>p("div",{class:"i-tabler:arrow-bar-to-down"},null)},null),default:()=>""})])]})]),footer:()=>p(Vt,null,[p(ge,{block:!0,onClick:t.onDeleteSelectedElements,type:"error"},{icon:()=>p("div",{class:"i-tabler:trash"},null),default:()=>""})])})}else return p(Zf,{title:""},{default:()=>p(Vt,null,[p(vr,{title:""},{default:()=>[p(sn,{value:t.canvasWidth,min:100,max:2e3,"onUpdate:value":n=>t.onUpdateCanvasSize(n||800,t.canvasHeight)},null)]}),p(vr,{title:""},{default:()=>[p(sn,{value:t.canvasHeight,min:100,max:2e3,"onUpdate:value":n=>t.onUpdateCanvasSize(t.canvasWidth,n||600)},null)]}),p(vr,{title:""},{default:()=>[p(jg,{value:t.canvasBackgroundColor,"onUpdate:value":n=>t.onUpdateCanvasBackground(n)},null)]}),p(vr,{title:""},{default:()=>[p(Th,{value:t.canvasBackgroundImage||"",onUpdateValue:n=>t.onUpdateCanvasBackgroundImage(typeof n=="string"?n:Array.isArray(n)&&n[0]||"")},null)]})]),footer:()=>p(Vt,null,[p(ge,{type:"primary",block:!0,onClick:t.onSaveData},{default:()=>[Dt("")]}),p(ge,{block:!0,onClick:t.onExportJson},{default:()=>[Dt(" JSON")]}),p(ge,{block:!0,onClick:t.onClearCanvas},{default:()=>[Dt("")]})])})};return()=>p("div",{class:"w-60 bg-default border-l border-default"},[e()])}}),_z=Y({name:"DuxPosterEditor",props:{data:{type:String,default:""},width:{type:Number,default:750},height:{type:Number,default:1e3},backgroundColor:{type:String,default:"#ffffff"},backgroundImage:{type:String,default:""},onDataUpdate:Function,onSave:Function},setup(t){const e=ie(),n=ie(),{initCanvas:r,destroy:i,setCallbacks:a,addElement:o,deleteSelectedElements:s,updateElementProperty:l,alignElements:c,canMoveUp:u,canMoveDown:d,canMoveToFront:f,canMoveToBack:h,clearCanvas:g,loadData:m,canvasData:v,selectedElements:b,canvasScale:y,currentElementData:x,currentElementConfig:w,hasMultipleSelection:_,updateCanvasSettings:k,updateCanvasBackground:R,updateCanvasBackgroundImage:A,saveData:T,exportJson:O}=L4({width:t.width,height:t.height,backgroundColor:t.backgroundColor,backgroundImage:t.backgroundImage});a({onDataChange:t?.onDataUpdate});const M=$=>{const C=E=>{x.value&&l(x.value.id,$.key,E)};switch($.type){case"text":return p(Ve,{value:$.value,placeholder:$.options?.placeholder,"onUpdate:value":C},null);case"number":return p(sn,{value:$.value,min:$.options?.min,max:$.options?.max,step:$.options?.step,"onUpdate:value":C},null);case"color":return p(jg,{value:$.value,"onUpdate:value":C},null);case"select":return p(Ga,{value:$.value,options:$.options?.choices||[],"onUpdate:value":C},null);case"switch":return p(He,{value:$.value,"onUpdate:value":C},null);case"slider":return p(ex,{value:$.value,min:$.options?.min,max:$.options?.max,step:$.options?.step,"onUpdate:value":C},null);case"image":return p(Th,{value:$.value,onUpdateValue:C},null);default:return null}};return ye(()=>t.data,$=>{$&&m($)},{immediate:!1}),Tr(()=>{e.value&&n.value&&(r(e.value,n.value),m(t.data))}),ts(()=>{i()}),()=>p(hr,{class:"h-full",shadow:!0},{default:()=>[p("div",{class:"h-full flex"},[p(yz,{onAddElement:o,canvasWidth:v.value.width,canvasHeight:v.value.height},null),p("div",{ref:n,class:"flex-1 p-6  pl-12 pt-12 flex items-center justify-center overflow-hidden relative",style:"background: linear-gradient(45deg, rgba(0,0,0, 0.1) 25%, transparent 25%), linear-gradient(-45deg, rgba(0,0,0, 0.1) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, rgba(0,0,0, 0.1) 75%), linear-gradient(-45deg, transparent 75%, rgba(0,0,0, 0.1) 75%); background-size: 20px 20px; background-position: 0 0, 0 10px, 10px -10px, -10px 0px;"},[p(bz,{canvasScale:y.value,canvasWidth:v.value.width,canvasHeight:v.value.height},null),p("div",{class:"bg-default shadow-lg",style:"position: relative;"},[p("canvas",{ref:e,style:"display: block;"},null)])]),p(wz,{onClearCanvas:g,hasMultipleSelection:_.value,selectedElementsCount:b.value.length,currentElementData:x.value||void 0,currentElementConfig:w.value||void 0,canMoveUp:u.value,canMoveDown:d.value,canMoveToFront:f.value,canMoveToBack:h.value,canvasWidth:v.value.width,canvasHeight:v.value.height,canvasBackgroundColor:v.value.backgroundColor,canvasBackgroundImage:v.value.backgroundImage,onDeleteSelectedElements:s,onAlignElements:$=>c($),onUpdateElementProperty:l,onUpdateCanvasSize:($,C)=>k($,C),onUpdateCanvasBackground:R,onUpdateCanvasBackgroundImage:A,onSaveData:async()=>{await T(),await t?.onSave?.()},onExportJson:O,onRenderToolbarControl:M,canvasScale:y.value},null)])]})}}),I4=Y({name:"DuxSelectCard",props:{options:{type:Array,default:()=>[]},value:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:void 0},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},minWidth:{type:String,default:"150px"},maxWidth:{type:String,default:"200px"},onUpdateValue:{type:Function,default:void 0}},emits:["update:value","change"],setup(t,{emit:e}){const n=Be(t,"value",e,{passive:!0,defaultValue:t.defaultValue}),r=o=>{if(!t.disabled){if(t.multiple){const s=Array.isArray(n.value)?n.value:[];n.value=s.includes(o)?s.filter(l=>l!==o):[...s,o]}else n.value=o;t.onUpdateValue?.(n.value),e("update:value",n.value)}},i=o=>t.multiple?Array.isArray(n.value)&&n.value.includes(o):n.value===o,a=["grid gap-4","grid-cols-2",`lg:grid-cols-[repeat(auto-fit,minmax(${t.minWidth},${t.maxWidth}))]`];return()=>p("div",{class:a},[t.options.map(o=>p("div",{key:o.value,class:["relative cursor-pointer border rounded p-2.5 transition-all duration-200 hover:border-primary",{"border-primary bg-primary/10":i(o.value),"border-muted":!i(o.value),"opacity-50 cursor-not-allowed":o.disabled||t.disabled}],onClick:()=>!o.disabled&&r(o.value)},[i(o.value)&&p("div",{class:"absolute top-2 right-2 size-4 bg-primary rounded-full flex items-center justify-center"},[p("svg",{class:"size-3 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[p("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null)])]),p("div",{class:["flex gap-3 px-2 items-center",{"flex-col items-center text-center":!o.icon,"flex-row items-start text-left":o.icon}]},[o.icon&&p("div",{class:["flex items-center justify-center p-3 rounded-lg",`bg-${o.iconColor}/10`,`text-${o.iconColor}`]},[p("div",{class:`${o.icon} size-4`},null)]),p("div",{class:"flex flex-col flex-1"},[p("div",{class:["text-sm font-medium",{"text-primary":i(o.value),"text-default":!i(o.value)}]},[o.label]),o.description&&p("div",{class:["text-sm",{"text-primary":i(o.value),"text-muted":!i(o.value)}]},[o.description])])])]))])}}),h0=Y({name:"DuxStatsNumber",props:{title:{type:String,default:""},subtitle:{type:String,default:""},value:{type:[Number,String],default:0},change:{type:Number,default:0},changeType:{type:String,default:"up"}},setup(t){const e=i=>typeof i=="number"?i.toLocaleString():i,n=i=>i==="up"?"":i==="down"?"":"",r=i=>i==="up"?"text-success":i==="down"?"text-error":"text-muted";return()=>p("div",{class:"flex flex-col gap-1"},[p("div",{class:"flex items-baseline justify-between"},[p("h3",{class:"text-sm text-muted"},[t.title])]),p("div",{class:"text-2xl font-bold text-default"},[e(t.value)]),p("div",{class:"flex flex-row gap-2 items-center text-sm"},[t.subtitle&&p("span",{class:" text-muted"},[t.subtitle]),t.change!==void 0&&p("div",{class:["flex items-center gap-1",r(t.changeType)]},[p("span",{class:"text-xs"},[n(t.changeType)]),p("span",null,[Math.abs(t.change),Dt("%")])])])])}}),N4=Y({name:"DuxStatsRealTime",props:{title:{type:String,default:""},subtitle:{type:String,default:""},cards:{type:Array,default:()=>[]},charts:{type:Array,default:()=>[]}},setup(t){const{t:e}=_e(),n=V(()=>t.title||e("components.stats.realTimeData")),r=V(()=>t.charts.length===1?t.charts.map(a=>({...a,class:"col-span-2",chartOption:{showXAxisLabel:!0,labels:a.labels,data:[{name:a.title,data:a.data}]}})):t.charts.map(a=>({...a,class:"col-span-1",chartOption:{showXAxisLabel:!0,labels:a.labels,data:[{name:a.title,data:a.data}]}}))),i=a=>typeof a=="number"?a.toLocaleString():a;return()=>p(hr,{title:n.value},{headerExtra:()=>p("div",{class:"text-sm text-muted"},[t.subtitle]),default:()=>p(Vt,null,[t.cards.length>0&&p("div",{class:"lg:h-26 bg-muted"},[p(pi,{xScrollable:!0},{default:()=>[p("div",{class:["grid grid-cols-2 whitespace-nowrap auto-cols-max","lg:grid-cols-[repeat(auto-fit,minmax(100px,1fr))]"]},[t.cards.map((a,o)=>p("div",{key:o,class:"text-center flex flex-col gap-1 py-6"},[p("div",{class:["text-2xl font-bold"]},[i(a.value)]),p("div",{class:"text-sm text-muted"},[a.label])]))])]})]),t.charts.length>0&&p("div",{class:["grid grid-cols-1","lg:grid-cols-[repeat(auto-fit,minmax(100px,1fr))]"]},[r.value.map((a,o)=>p("div",{key:o,class:["p-4 pb-0 flex gap-4"]},[p(h0,{title:a.title,subtitle:a.subtitle,value:a.value||0,change:a.change,changeType:a.changeType},null),p("div",{class:"flex-1 min-w-0"},[p(Zm,{type:"line",height:"100px",min:!0,option:a.chartOption},null)])]))])])})}}),f0=Y({name:"DuxListEmpty",props:{title:String,desc:String,bordered:Boolean},setup(t){const{t:e}=_e();return()=>p("div",{class:"flex flex-col items-center justify-center gap-2 h-full"},[p(vc,{class:"max-h-120px"},null),p("div",{class:"text-lg text-default font-bold"},[t?.title||e("pages.empty.title")]),p("div",{class:"text-muted"},[t?.desc||e("pages.empty.desc")])])}}),Cz=Y({name:"DuxTable",props:{path:{type:String,required:!0},filter:{type:Object},columns:{type:Array},pagination:{type:[Boolean,Object],default:!0}},extends:Vu,setup(t){const e=V(()=>{const{path:o,filter:s,columns:l,pagination:c,...u}=t;return u}),n=Te(t.filter||{}),r=r0({path:t.path,filters:n.value,columns:t.columns||[],pagination:t.pagination}),{width:i}=Fd(),{t:a}=_e();return()=>p("div",{class:"flex flex-col gap-2"},[p(Vu,kt(e.value,r.table.value,{class:"flex-1 min-h-0",minHeight:200,tableLayout:"fixed",flexHeight:!0,rowKey:o=>o.id,bordered:!1,renderCell:o=>o==null||o===""?"-":o}),{empty:()=>p(f0,{bordered:!1},null)}),t.pagination&&p("div",{class:"flex justify-end"},[p(Pd,kt(r.tablePagination.value,{simple:i.value<768}),{prefix:()=>p("div",null,[a("components.list.total",{total:r.total.value||0})])})])])}}),j4=Y({name:"DuxTablePage",props:{tableProps:{type:Object}},extends:Ed,slots:Object,setup(t,{slots:e}){const n=V(()=>{const{tableProps:r,...i}=t;return i});return()=>p(Ed,n.value,{default:r=>p(Vu,kt(r.table.value,t.tableProps,{class:"h-full",minHeight:200,tableLayout:"fixed",flexHeight:!0,rowKey:i=>i.id,bordered:!1,scrollX:r.width,renderCell:i=>i==null||i===""?"-":i}),{empty:()=>p(f0,{bordered:!1},null)}),bottom:e?.bottom,tools:e?.tools,actions:e?.actions,sideLeft:e?.sideLeft,sideRight:e?.sideRight,header:e?.header})}}),B4=Y({name:"DuxTreeFilter",props:{title:String,path:String,sortPath:String,params:Object,menus:Array,numField:String,iconField:String,treeOptions:Object,value:Array,defaultValue:Array,onUpdateValue:Function,draggable:Boolean,bordered:{type:Boolean,default:!1}},extends:Hu,setup(t,{emit:e,slots:n}){const r=Be(t,"value",e,{passive:!1,defaultValue:t.defaultValue}),i=Te(t,"params",{}),a=Te(t,"path",""),o=Te(t,"sortPath",""),s=ie(),l=ie(0),c=ie(0),u=ie([]),d=ie(),{t:f}=_e(),{options:h,loading:g,expanded:m}=oc({path:a.value,params:i.value,...t.treeOptions});ye(h,A=>{u.value=A},{immediate:!0,deep:!0});const v=ie(!1),b=V(()=>t.menus?.map(A=>({label:A.label,key:A.value,icon:A?.icon?()=>p("div",{class:A?.icon},null):void 0,onSelect:A.onSelect}))||[]),y=A=>{const T=t.menus?.find(O=>O.value===A);T&&T.onSelect(s.value),v.value=!1},x=eo({path:o.value,method:"POST"}),w=(A,T)=>{for(const O of A)if(O.children){for(const $ of O.children)if($.id===T)return O;const M=w(O.children,T);if(M)return M}},_=({node:A,dragNode:T,dropPosition:O})=>{const M=w(u.value,T.id),$=!M,C=[...u.value];if($){const P=u.value.findIndex(L=>L.id===T.id);P>=0&&C.splice(P,1)}else{const P=M?.children?.indexOf(T)||0;M?.children?.splice(P,1)}let E=w(C,A.id),S,F=E?.children||C,D=0;switch(O){case"before":D=F.findIndex(P=>P.id===A.id),D>0&&(S=F[D-1].id);break;case"inside":E=A,F=E.children=E.children||[],D=F.length;break;case"after":D=F.findIndex(P=>P.id===A.id)+1,S=A.id;break}F.splice(D,0,T),u.value=C,x.mutate({payload:{parent_id:E?.id,before_id:S,id:T.id}})},k=ie([]);ye(m,A=>{k?.value?.length>0||(k.value=A)},{immediate:!0});const R=V(()=>{const{title:A,path:T,sortPath:O,params:M,menus:$,numField:C,iconField:E,treeOptions:S,value:F,defaultValue:D,onUpdateValue:P,bordered:L,...N}=t;return N});return()=>p(hr,{class:"h-full",contentClass:"flex flex-col",bordered:t.bordered},{default:()=>[t?.title&&p("div",{class:"px-2 py-3 pb-1 text-base font-bold"},[t.title]),p("div",{class:"p-2 flex gap-2 items-center"},[p("div",{class:"flex-1"},[n.header?n.header():p(Ve,{value:d.value,"onUpdate:value":A=>d.value=A,placeholder:f("common.keyword")},null)]),n.tools?.()]),p(pi,{class:"flex-1 min-h-0",xScrollable:!0},{default:()=>[p("div",{class:"p-2"},[p(pa,{show:g.value,class:"h-full"},{default:()=>[p(Hu,kt(R.value,{data:u.value||[],expandedKeys:k.value,onUpdateExpandedKeys:A=>{k.value=A},blockLine:!0,selectedKeys:r.value,onUpdateSelectedKeys:A=>{r.value=A,t?.onUpdateValue?.(A)},onDrop:_,pattern:d.value,renderPrefix:t?.numField||t?.iconField?({option:A})=>p(Vt,null,[t.iconField&&A[t.iconField]&&p("div",{class:xt(A[t.iconField]||"","size-4")},null),t.numField&&p("div",{class:"rounded-full bg-primary px-2 text-xs text-white"},[A[t.numField]||0])]):void 0,nodeProps:({option:A})=>({onContextmenu:T=>{s.value=A,v.value=!0,l.value=T.clientX,c.value=T.clientY,T.preventDefault()}})}),null)]})])]}),p(ns,{trigger:"manual",placement:"bottom-start",show:v.value,options:b.value,x:l.value,y:c.value,width:100,onSelect:y,onClickoutside:()=>{v.value=!1}},null)]})}});function F2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const Jf={"image/*":"JPG, PNG, GIF, BMP, WEBP","video/*":"MP4, AVI, MOV, WMV, FLV","audio/*":"MP3, WAV, AAC, FLAC","text/*":"TXT, CSV, JSON, XML","application/pdf":"PDF","application/msword":"DOC","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"DOCX","application/vnd.ms-excel":"XLS","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"XLSX"},br={container:"flex flex-col gap-2",dropZone:{base:"flex items-center justify-center p-6 rounded bg-muted border border-dashed transition-all cursor-pointer group",active:"border-primary bg-primary/5",hover:"border-accented hover:bg-primary/5 hover:border-primary"},content:"flex flex-col items-center gap-1",icon:{wrapper:"size-10 flex items-center justify-center rounded-full border border-dashed border-accented group-hover:border-primary transition-all cursor-pointer",icon:"i-tabler:device-desktop-up size-5"},text:{title:"mt-3 text-base font-medium",desc:"text-sm text-muted text-center",highlight:"text-primary font-medium"},table:{empty:"flex items-center justify-center h-full text-muted",actions:"flex gap-2"}},U4=Y({name:"DuxFileUpload",props:{path:{type:String,default:""},managePath:{type:String,default:""},signPath:{type:String,default:""},signCallback:Function,driver:{type:String,default:"local"},maxNum:Number,maxSize:Number,multiple:Boolean,manager:Boolean,accept:String,value:[String,Array],defaultValue:[String,Array],onUpdateValue:Function},setup(t,{emit:e}){const n=Be(t,"value",e,{passive:!0,deep:!0,defaultValue:t.defaultValue}),r=_n(),{t:i}=_e(),a=ie(),o=V(()=>t.maxSize||5),s=fr(),{uploadPath:l,managePath:c,driver:u}=d0({driver:t?.driver,signPath:t?.signPath,signCallback:t?.signCallback,uploadPath:t?.path,managePath:t?.managePath}),d=no({path:l.value,multiple:t.multiple,maxFileCount:t.maxNum,maxFileSize:o.value*1024*1024,autoUpload:!0,accept:t.accept,onError:y=>r.error(y.message||i("components.upload.error")),driver:u.value}),{isOverDropZone:f}=oC(a,{onDrop:y=>{y&&y.length>0&&d.addFiles(Array.from(y),"file")}});ye(d.dataFiles,y=>{const x=t.multiple?y:y[0];n.value=x,t.onUpdateValue?.(x)});const h=V(()=>t.accept?t.accept.split(",").map(y=>{const x=y.trim();if(Jf[x])return Jf[x];if(x.includes("*")){const _=x.split("/")[0];return Jf[x]||i("common.fileExtension",{ext:_.toUpperCase()})}const w=nx.getExtension(x);return w?w.toUpperCase():x}).filter(Boolean).join(", "):""),g=V(()=>({pending:p("div",{class:"text-info"},[i("components.upload.status.pending")]),uploading:p("div",{class:"text-info"},[i("components.upload.status.uploading")]),success:p("div",{class:"text-success"},[i("components.upload.status.success")]),error:p("div",{class:"text-error"},[i("components.upload.status.error")])})),m=V(()=>[br.dropZone.base,f.value?br.dropZone.active:br.dropZone.hover]),v=V(()=>[d.uploadFiles.value.length===0&&"border-b border-muted"]),b=ie(!1);return ye(n,y=>{if(!y||!y?.length||b.value)return;b.value=!0;const x=Array.isArray(y)?y:[y];d.addDataFiles(x)},{immediate:!0}),()=>p("div",{class:br.container},[p("div",{ref:a,class:m.value,onClick:()=>d.open()},[p("div",{class:br.content},[p("div",{class:br.icon.wrapper,onClick:y=>{t.manager&&(y.stopPropagation(),s.show({title:i("components.upload.title"),width:800,component:()=>Mn(()=>Promise.resolve().then(()=>H4),void 0),componentProps:{path:c.value,multiple:t.multiple,uploadParams:{path:l.value,accept:t.accept,maxNum:t.maxNum,maxSize:o.value}}}).then(x=>{d.addDataFiles(x)}))}},[p("div",{class:br.icon.icon},null)]),p("div",{class:br.text.title},[i("components.upload.desc")]),p("div",{class:br.text.desc},[f.value?p("span",{class:br.text.highlight},[i("components.upload.dropHere")]):p(Vt,null,[h.value?i("components.upload.supportFormats",{formats:h.value}):i("components.upload.allFormats"),Dt(",")," ",i("components.upload.maxSize",{size:o.value})])])])]),p(Vu,{bordered:!1,class:v.value,columns:[{key:"filename",title:i("components.upload.file.name"),minWidth:200,render:y=>p(sc,{title:y.filename,desc:y.filetype},null)},{key:"filesizeText",title:i("components.upload.file.size"),width:120},{key:"status",title:i("components.upload.file.status"),width:120,render:y=>y.status==="uploading"?p("div",{class:"flex items-center"},[p(Ho,{type:"line",style:{width:"24px",height:"24px"},color:"rgb(var(--ui-color-primary))","indicator-placement":"inside",percentage:y.progress?.percent,showIndicator:!1,height:14},null)]):g.value[y.status]},{key:"actions",title:i("components.upload.actions"),width:120,render:y=>{let x,w;return p("div",{class:br.table.actions},[p(ge,{type:"warning",size:"small",text:!0,disabled:["success","error","cancelled"].includes(y.status),onClick:()=>d.cancelFiles([y.id])},F2(x=i("components.upload.cancel"))?x:{default:()=>[x]}),p(ge,{type:"error",size:"small",text:!0,onClick:()=>d.removeFiles([y.id])},F2(w=i("components.upload.delete"))?w:{default:()=>[w]})])}}],data:d.uploadFiles.value},{empty:()=>p("div",{class:br.table.empty},[i("components.upload.empty")])})])}}),kz="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M748%20183.5V0H96v1024h836V183.5z'%20fill='%23FF6955'%20p-id='1848'%3e%3c/path%3e%3cpath%20d='M932%20184H748V0'%20fill='%23FFA694'%20p-id='1849'%3e%3c/path%3e%3cpath%20d='M586.7%20302.1c-5.3%207.5-34.2%2020.3-58.7%2025.6-31%206.4-47%2011.7-63%2020.3-21.3%2012.8-33.1%2028.8-31%2043.8%201.1%203.2%2026.7%2040.6%2056.6%2083.2%2031%2042.7%2056.6%2079%2057.6%2080%201.1%202.1-3.2%202.1-18.1%201.1-47-3.2-89.6%2021.3-108.9%2059.8-5.3%2011.7-6.4%2018.1-6.4%2032%200%2032%2017.1%2057.6%2049.1%2072.6%2012.8%205.3%2017.1%206.4%2043.8%206.4%2028.8%200%2029.9%200%2049.1-9.6C608%20692.8%20629.4%20644.7%20608%20601c-4.3-9.6-31-55.5-59.8-102.5L496%20412h8.5c34.2-2.1%2057.6-12.8%2073.6-31%2013.9-16%2018.1-32%2017.1-57.6-1-23.5-3.2-28.8-8.5-21.3z'%20fill='%23FFFFFF'%20p-id='1850'%3e%3c/path%3e%3c/svg%3e",Sz="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M745%20184.3V1H93v1022.5h836V184.3z'%20fill='%2372DCA2'%20p-id='2166'%3e%3c/path%3e%3cpath%20d='M928.8%20184h-184V0.8'%20fill='%23A9FFCE'%20p-id='2167'%3e%3c/path%3e%3cpath%20d='M500.8%20476.2l76.6-131h67.7L532.5%20537.9%20445.7%20686H378l122.8-209.8z%20m-0.7%2070.3l-6.6-11-112.7-190.3h67.7L525%20474.4l8.9%2015.2L650.3%20686h-67.7l-82.5-139.5z'%20fill='%23FCFCFC'%20p-id='2168'%3e%3c/path%3e%3c/svg%3e",P2="data:image/svg+xml,%3csvg%20t='1729771182292'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M748%20183.5V0H96v1024h836V183.5z'%20fill='%239B9B9B'%20p-id='2651'%3e%3c/path%3e%3cpath%20d='M932%20184H748V0'%20fill='%23CCCCCC'%20p-id='2652'%3e%3c/path%3e%3cpath%20d='M363.3%20707.2c-19.4%200-35.3-15.9-35.3-35.3v-88.3c0-19.4%2015.9-35.3%2035.3-35.3h88.3c19.4%200%2035.3%2015.9%2035.3%2035.3v88.3c0%2019.4-15.9%2035.3-35.3%2035.3h-88.3z'%20fill='%23FFFFFF'%20p-id='2653'%3e%3c/path%3e%3cpath%20d='M451.6%20557.1c15%200%2026.5%2011.5%2026.5%2026.5v88.3c0%2015-11.5%2026.5-26.5%2026.5h-88.3c-15%200-26.5-11.5-26.5-26.5v-88.3c0-15%2011.5-26.5%2026.5-26.5h88.3m0-17.7h-88.3c-24.7%200-44.1%2020.3-44.1%2044.1v88.3c0%2024.7%2020.3%2044.1%2044.1%2044.1h88.3c24.7%200%2044.1-20.3%2044.1-44.1v-88.3c0.1-24.7-19.3-44.1-44.1-44.1z%20m-88.3-45.9c-19.4%200-35.3-15.9-35.3-35.3v-88.3c0-19.4%2015.9-35.3%2035.3-35.3h88.3c19.4%200%2035.3%2015.9%2035.3%2035.3v88.3c0%2019.4-15.9%2035.3-35.3%2035.3h-88.3z'%20fill='%23FFFFFF'%20p-id='2654'%3e%3c/path%3e%3cpath%20d='M451.6%20343.4c15%200%2026.5%2011.5%2026.5%2026.5v88.3c0%2015-11.5%2026.5-26.5%2026.5h-88.3c-15%200-26.5-11.5-26.5-26.5v-88.3c0-15%2011.5-26.5%2026.5-26.5h88.3m0-17.7h-88.3c-24.7%200-44.1%2020.3-44.1%2044.1v88.3c0%2024.7%2020.3%2044.1%2044.1%2044.1h88.3c24.7%200%2044.1-20.3%2044.1-44.1v-88.3c0.1-23.8-19.3-44.1-44.1-44.1zM577%20707.2c-19.4%200-35.3-15.9-35.3-35.3v-88.3c0-19.4%2015.9-35.3%2035.3-35.3h88.3c19.4%200%2035.3%2015.9%2035.3%2035.3v88.3c0%2019.4-15.9%2035.3-35.3%2035.3H577z'%20fill='%23FFFFFF'%20p-id='2655'%3e%3c/path%3e%3cpath%20d='M665.3%20557.1c15%200%2026.5%2011.5%2026.5%2026.5v88.3c0%2015-11.5%2026.5-26.5%2026.5H577c-15%200-26.5-11.5-26.5-26.5v-88.3c0-15%2011.5-26.5%2026.5-26.5h88.3m0-17.7H577c-24.7%200-44.1%2020.3-44.1%2044.1v88.3c0%2024.7%2020.3%2044.1%2044.1%2044.1h88.3c24.7%200%2044.1-20.3%2044.1-44.1v-88.3c0.1-24.7-20.2-44.1-44.1-44.1zM621.2%20512c-9.7%200-18.5-3.5-24.7-10.6l-62.7-62.7c-7.1-7.1-10.6-15.9-10.6-24.7%200-9.7%203.5-18.5%2010.6-24.7l62.7-62.7c7.1-7.1%2015.9-10.6%2024.7-10.6%208.8%200%2018.5%203.5%2024.7%2010.6l62.7%2062.7c14.1%2014.1%2014.1%2036.2%200%2050.3l-62.7%2062.7c-6.2%206.2-15%209.7-24.7%209.7z'%20fill='%23FFFFFF'%20p-id='2656'%3e%3c/path%3e%3cpath%20d='M621.2%20324.9c7.1%200%2014.1%202.6%2018.5%207.9l62.7%2062.7c5.3%205.3%207.9%2011.5%207.9%2018.5s-2.6%2014.1-7.9%2018.5l-62.7%2062.7c-5.3%205.3-11.5%207.9-18.5%207.9-7.1%200-14.1-2.6-18.5-7.9L540%20432.5c-5.3-5.3-7.9-11.5-7.9-18.5s2.6-14.1%207.9-18.5l62.7-62.7c4.3-5.3%2011.4-7.9%2018.5-7.9m0-17.7c-11.5%200-23%204.4-30.9%2013.2l-62.7%2062.7c-16.8%2016.8-16.8%2045%200%2062.7l62.7%2062.7c8.8%208.8%2020.3%2013.2%2030.9%2013.2s23-4.4%2030.9-13.2l62.7-62.7c16.8-16.8%2016.8-45%200-62.7l-62.7-62.7c-8-8.8-19.5-13.2-30.9-13.2z'%20fill='%23FFFFFF'%20p-id='2657'%3e%3c/path%3e%3c/svg%3e",Ez="data:image/svg+xml,%3csvg%20class='size-12'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%20317h1024v595H0z'%20fill='%23FFE17B'%20p-id='1449'%3e%3c/path%3e%3cpath%20d='M523%20217l-98-97H0v197h1024V217z'%20fill='%23FFEFB6'%20p-id='1450'%3e%3c/path%3e%3c/svg%3e",Tz="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M748%20183.5V0H96v1024h836V183.5z'%20fill='%23FF5562'%20p-id='2326'%3e%3c/path%3e%3cpath%20d='M932%20184H748V0'%20fill='%23FF9292'%20p-id='2327'%3e%3c/path%3e%3cpath%20d='M657.9%20606.1c-29.4-1.9-57.4-12.9-79.9-31.3-44.2%209.4-86.3%2022.9-128.4%2039.6-33.5%2057.4-64.8%2086.6-91.8%2086.6-5.4%200-11.9-1-16.2-4.2-11.3-5.1-18.5-16.1-18.3-28.2%200-9.4%202.1-35.5%20104.7-78.2%2023.3-41.3%2042.4-84.6%2057.2-129.4-12.9-25-41-86.6-21.6-117.9%206.5-11.5%2019.4-17.7%2033.5-16.7%2011%200.1%2021.4%205.1%2028.1%2013.6%2014%2018.8%2012.9%2058.4-5.4%20116.8%2017.3%2031.3%2039.9%2059.5%2066.9%2083.5%2022.7-4.2%2045.3-7.3%2068-7.3%2050.7%201%2058.3%2024%2057.2%2037.5%200%2035.6-35.7%2035.6-54%2035.6z%20m-302.2%2064.6l3.2-1c15.1-5.2%2027-15.6%2035.6-29.2-16.2%206.3-29.1%2016.6-38.8%2030.2z%20m143.5-312.9H496c-1.1%200-3.3%200-4.3%201-4.3%2017.7-1.1%2036.5%206.5%2053.2%206.2-17.5%206.6-36.5%201-54.2z%20m7.6%20151.2l-1.1%202.1-1.1-1.1c-9.7%2024-20.5%2048-32.4%2070.9l2.1-1v2.1c24-8.4%2048.5-15.3%2073.4-20.9l-1-1h3.3c-16.2-15.5-30.7-32.6-43.2-51.1z%20m146.8%2055.3c-9.7%200-18.3%200-28%202.1%2010.8%205.2%2021.6%207.3%2032.4%208.3%207.6%201%2015.1%200%2021.6-2.1-0.1-3-4.4-8.3-26-8.3z'%20fill='%23FFFFFF'%20p-id='2328'%3e%3c/path%3e%3c/svg%3e",Az="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M745%20186V3H93v1021h836V186z'%20fill='%23FF8278'%20p-id='2482'%3e%3c/path%3e%3cpath%20d='M929%20186H745V2.7'%20fill='%23FFB7B3'%20p-id='2483'%3e%3c/path%3e%3cpath%20d='M390.5%20341.2h64.2V682h-64.2V341.2z%20m29.3%20146.7h109c7.7%200%2014.4-1.8%2020.3-5.3s10.4-8.5%2013.7-14.9%204.9-13.7%204.9-22c0-8.4-1.6-15.9-4.8-22.4s-7.7-11.5-13.6-15-12.7-5.3-20.5-5.3h-109v-61.9h107.3c21.2%200%2040%204.3%2056.1%2013s28.7%2020.9%2037.6%2036.7c8.9%2015.8%2013.4%2034.1%2013.4%2054.8%200%2020.8-4.5%2039-13.4%2054.7s-21.4%2027.9-37.6%2036.4c-16.2%208.6-34.9%2012.9-56.1%2012.9H419.8v-61.7z'%20fill='%23FFFFFF'%20p-id='2484'%3e%3c/path%3e%3c/svg%3e",Oz="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M748%20183.5V0H96v1024h836V183.5z'%20fill='%23E657FF'%20p-id='1690'%3e%3c/path%3e%3cpath%20d='M932%20184H748V0'%20fill='%23F797FF'%20p-id='1691'%3e%3c/path%3e%3cpath%20d='M635.3%20459.6l52.3-30.3c9.2-5.5%2017.4-0.9%2017.4%208.3v151.3c0%2011-7.3%2014.7-17.4%208.3l-52.3-30.3c-9.2-5.5-17.4-11.9-17.4-21.1v-66.9c0-8.3%208.3-13.8%2017.4-19.3z%20m-82.5-56.8H356.7c-20.2%200-36.7%2016.5-36.7%2036.7v157.7c0%2020.2%2016.5%2036.7%2036.7%2036.7h196.2c20.2%200%2036.7-16.5%2036.7-36.7V439.5c-0.1-20.2-16.6-36.7-36.8-36.7z%20m-118.2%2088.9c-2.8%2013.8-13.8%2023.8-25.7%2026.6-23.8%204.6-44-16.5-39.4-39.4%202.8-13.8%2013.8-23.8%2025.7-25.7%2023.8-6.4%2044%2013.8%2039.4%2038.5z'%20fill='%23FFFFFF'%20p-id='1692'%3e%3c/path%3e%3c/svg%3e",Mz="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M745%20186V3H93v1021h836V186z'%20fill='%236CA2FF'%20p-id='2006'%3e%3c/path%3e%3cpath%20d='M929%20186H745V3'%20fill='%23A2CBFC'%20p-id='2007'%3e%3c/path%3e%3cpath%20d='M490.4%20344.2H542l65.2%20227.3L651%20344.2h66.1L638.5%20685H578l-60.5-238.1L454.3%20685h-60.5l-78.5-340.8h66.1l43.8%20227.3%2065.2-227.3z'%20fill='%23FCFCFC'%20p-id='2008'%3e%3c/path%3e%3c/svg%3e",D2=Y({name:"DuxFileManageItem",props:{name:String,url:String,type:String,mime:String,time:String,value:Boolean,onContextmenu:Function,onSelect:Function,page:Boolean},setup(t){const e=kh(),{t:n}=_e(),r={image:{check:a=>a.startsWith("image/"),render:()=>p("div",{class:"size-12 flex items-center justify-center",onClick:a=>a.stopPropagation()},[p(aa,{src:t.url,width:48,height:48},null)])},video:{check:a=>a.startsWith("video/"),render:()=>p("div",{onClick:a=>{a.stopPropagation(),e.node({title:n("components.button.preview"),render:()=>p("div",{class:"flex items-center justify-center"},[p("video",{class:"w-120 max-w-full",controls:!0},[p("source",{src:t.url,type:t.mime},null)])])})}},[p("img",{src:Oz,class:"size-12"},null)])},audio:{check:a=>a.startsWith("audio/"),render:()=>p("div",{onClick:a=>{a.stopPropagation(),e.node({title:n("components.button.preview"),render:()=>p("div",{class:"flex items-center justify-center"},[p("audio",{class:"w-120 max-w-full",controls:!0},[p("source",{src:t.url,type:t.mime},null)])])})}},[p("img",{src:kz,class:"size-12"},null)])},pdf:{check:a=>a==="application/pdf",render:()=>p("img",{src:Tz,class:"size-12"},null)},word:{check:a=>["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"].includes(a),render:()=>p("img",{src:Mz,class:"size-12"},null)},excel:{check:a=>["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a),render:()=>p("img",{src:Sz,class:"size-12"},null)},powerpoint:{check:a=>["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint"].includes(a),render:()=>p("img",{src:Az,class:"size-12"},null)}},i=()=>{if(t.type==="folder")return p("img",{src:Ez,class:"size-12"},null);if(!t.mime)return p("img",{src:P2,class:"size-12"},null);for(const a of Object.values(r))if(a.check(t.mime))return a.render();return p("img",{src:P2,class:"size-12"},null)};return()=>p("div",{class:"flex flex-col items-center justify-center hover:bg-primary/10 cursor-pointer p-2 rounded-sm relative group",onContextmenu:t.onContextmenu,onClick:()=>t.onSelect?.(!t?.value)},[p("div",{class:"mb-2"},[i()]),p("div",{class:"truncate w-full text-center"},[t.name]),p("div",{class:xt(["absolute top-2 right-2",t.value?"block":"hidden group-hover:block"])},[t.type==="file"&&!t.page&&p(_r,{checked:t.value},null)])])}});function Qf(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const z4=Y({name:"DuxFileManage",props:{path:String,type:String,onConfirm:Function,onClose:Function,multiple:Boolean,page:{type:Boolean,default:!1},handle:String,uploadParams:Object},setup(t){const e=ie(!1),n=ie(0),r=ie(0),{t:i}=_e(),a=ie([]),o=kh(),s=to(),l=_n(),c=V6(),u=ie({manager:!0,type:t.type||"all",folder:null}),d=ie(),{uploadPath:f,managePath:h,driver:g}=d0({driver:t.uploadParams?.driver,signPath:t.uploadParams?.signPath,signCallback:t.uploadParams?.signCallback,uploadPath:t.uploadParams?.path,managePath:t.path}),m=ie({page:1,pageSize:20}),v=Zg({path:h.value,pagination:m.value,filters:u.value}),b=V(()=>{const{driver:R,signPath:A,signCallback:T,...O}=t.uploadParams||{};return O}),y=no({...b.value,path:f.value,autoUpload:!0,driver:g.value,params:u.value,onSuccess:()=>{a.value=[],v.refetch()},onError:R=>{l.error(R?.message||i("components.uploadManage.uploadError")||"")}}),x=R=>{if(!R){l.error(i("components.uploadManage.namePlaceholder")||"");return}s.request({path:h.value,method:"POST",payload:{name:R,folder:u.value.folder}}).then(()=>{v.refetch(),a.value=[]}).catch(()=>{l.error(i("components.uploadManage.createError")||"")})},w=(R,A,T)=>{if(!A){l.error(i("components.uploadManage.namePlaceholder")||"");return}s.request({path:h.value,method:"PUT",payload:{name:A,id:T,type:R}}).then(()=>{v.refetch(),a.value=[]}).catch(()=>{l.error(i("components.uploadManage.editError")||"")})},_=(R,A)=>{s.request({path:`${h.value}/batch`,method:"DELETE",payload:{data:Array.isArray(A)?A:[A],type:R}}).then(()=>{v.refetch(),a.value=[]}).catch(()=>{l.error(i("components.uploadManage.delError")||"")})},k=V(()=>!!(t.type&&t.type!=="all"));return()=>{let R,A,T;return p("div",{class:["flex flex-col gap-2",t.page?"h-full":"h-500px max-h-500px"]},[p("div",{class:["flex-none flex justify-between items-center border-b border-muted p-3",t.handle]},[p("div",{class:"flex-none"},[p(Ja,{type:"segment",animated:!0,size:"small",tabClass:"!px-4",defaultValue:"all",value:u.value.type,onUpdateValue:O=>{k.value||(u.value.type=O,a.value=[])}},{default:()=>[p(Da,{tab:i("components.uploadManage.all"),name:"all",disabled:k.value},null),p(Da,{tab:i("components.uploadManage.image"),name:"image",disabled:k.value},null),p(Da,{tab:i("components.uploadManage.media"),name:"media",disabled:k.value},null),p(Da,{tab:i("components.uploadManage.docs"),name:"docs",disabled:k.value},null)]})]),p("div",{class:"flex gap-2"},[p(ge,{type:"default",ghost:!0,onClick:()=>{o.prompt({title:i("components.uploadManage.namePlaceholder")||"",formSchema:[{tag:Ve,attrs:{"v-model:value":"form.name"}}]}).then(O=>{x(O?.name)}).catch(()=>{})},renderIcon:()=>p("div",{class:"i-tabler:plus"},null)},Qf(R=i("components.button.create"))?R:{default:()=>[R]}),p(ge,{type:"primary",ghost:!0,onClick:()=>{y.open()},loading:y.isUploading.value,renderIcon:()=>p("div",{class:"i-tabler:upload"},null)},{default:()=>[p("div",{class:"flex gap-2"},[i("components.uploadManage.upload"),y.progress.value.totalPercent>0&&`(${y.progress.value.totalPercent}%)`])]}),!t.page&&p(ge,{type:"default",ghost:!0,onClick:()=>{t.onClose?.()},renderIcon:()=>p("div",{class:"i-tabler:x"},null)},null)])]),p("div",{class:"flex-1 min-h-1"},[v.data?.value?.data?.length>0&&p(bC,{distance:10,onLoad:()=>{v.hasNextPage.value&&v.fetchNextPage()},scrollbarProps:{contentClass:"p-4"}},{default:()=>[p("div",{class:["grid grid-cols-3 md:grid-cols-4 text-sm items-start justify-start",v.data.value?.data?.length>=4&&!t.page?" lg:grid-cols-[repeat(auto-fit,minmax(150px,1fr))]":"lg:grid-cols-[repeat(auto-fit,minmax(150px,150px))]"]},[u.value?.folder&&u.value?.folder!==v.data.value?.meta?.folder&&p(D2,{key:`parent-${v.data.value?.meta?.folder}`,type:"folder",name:i("components.uploadManage.parentLevel"),page:t.page,onSelect:()=>{a.value=[],u.value.folder=v.data.value?.meta?.folder}},null),v.data.value?.data?.map(O=>p(Ct,{placement:"bottom",key:`${O.url?"file":"folder"}-${O.id}`,trigger:O.url?"hover":"manual"},{default:()=>O.filesize,trigger:()=>p(D2,{page:t.page,onContextmenu:M=>{d.value=O,e.value=!1,An().then(()=>{e.value=!0,n.value=M.clientX,r.value=M.clientY}),M.preventDefault()},value:t.page?!1:!!a.value?.find?.(M=>M.id===O.id),type:O.url?"file":"folder",mime:O.filetype,name:O.filename,url:O.url,time:O.time,onSelect:M=>{if(!O.url){a.value=[],v.data.value=void 0,u.value.folder=O.id;return}t.page||(M?t.multiple?a.value?.push(O):a.value=[O]:t.multiple?a.value?.splice(a.value?.indexOf(O),1):a.value=[])}},null)}))])]}),v.isLoading.value?p(pa,{class:"h-full absolute w-full bg-gray-1/50"},null):!v.data.value?.data?.length&&p("div",{class:"size-full flex justify-center items-center text-sm text-gray-6"},[p("div",{class:"flex flex-col  items-center"},[p("div",{class:"w-26 mb-2"},[p(dh,null,null)]),p("div",{class:"text-base"},[i("components.uploadManage.empty")]),p("div",{class:"text-sm text-muted"},[i("components.uploadManage.emptyDesc")]),u.value?.folder&&u.value?.folder!==v.data.value?.meta?.folder&&p("div",{class:"text-xs text-gray-6"},[p(ge,{type:"default",ghost:!0,onClick:()=>{a.value=[],u.value.folder=v.data.value?.meta?.folder}},Qf(A=i("components.uploadManage.back"))?A:{default:()=>[A]})])])])]),p(ns,{x:n.value,y:r.value,placement:"bottom-start",trigger:"manual",show:e.value,onClickoutside:()=>{e.value=!1},onUpdateShow:O=>{O||(d.value=void 0)},onSelect:O=>{const M=In(d.value);switch(e.value=!1,O){case"download":c.url(M?.url);break;case"rename":o.prompt({title:i("components.uploadManage.namePlaceholder"),formSchema:[{tag:Ve,attrs:{"v-model:value":"form.name"}}],defaultValue:{name:M?.filename||M?.name}}).then($=>{w(M?.type,$?.name,M?.id)});break;case"delete":o.confirm({title:i("components.uploadManage.delTitle"),content:i("components.uploadManage.delDesc")}).then(()=>{_(M?.type,M?.id)});break}},options:[d.value?.url&&{label:i("components.button.download"),key:"download",icon:()=>p("div",{class:"i-tabler:download"},null)},{label:i("components.button.rename"),key:"rename",icon:()=>p("div",{class:"i-tabler:cursor-text"},null)},{label:i("components.button.delete"),key:"delete",icon:()=>p("div",{class:"i-tabler:trash"},null)}].filter(O=>O)},null),!t.page&&p("div",{class:"flex justify-end gap-2 border-t border-muted p-3"},[p("div",null,[a.value?.length>0&&p(ge,{type:"error",secondary:!0,onClick:()=>{o.confirm({title:i("components.uploadManage.delTitle"),content:i("components.uploadManage.delDesc")}).then(()=>{_("file",a.value?.map(O=>O.id))})}},Qf(T=i("components.button.delete"))?T:{default:()=>[T]})]),p("div",null,[p(ge,{type:"primary",disabled:!a.value?.length,onClick:()=>{t.onConfirm?.(a.value)}},{default:()=>[i("components.button.select"),Dt("("),a.value?.length||0,Dt(")")]})])])])}}}),H4=Object.freeze(Object.defineProperty({__proto__:null,default:z4},Symbol.toStringTag,{value:"Module"})),Rz=Y({name:"DuxSelectUpload",props:{maxNum:Number,multiple:Boolean,value:[String,Array,Object],onUpdateValue:Function,accept:{type:String,default:"*"}},setup(t,{emit:e}){const n=ie([]),r=Be(t,"value",e),{t:i}=_e(),a=V(()=>{const s=n.value.length;return s===0?i("components.upload.selectUpload.clickOrDrag"):t.multiple?i("components.upload.selectUpload.selectedFiles",{count:s}):n.value[0]?.name||""});function o(s){const l=Array.from(s.target.files||[]);if(t.multiple){const c=t.maxNum?l.slice(0,t.maxNum):l;n.value=c,r.value=c,t.onUpdateValue?.(c)}else{const c=l[0];n.value=c?[c]:[],r.value=c||void 0,t.onUpdateValue?.(c)}}return()=>p("div",{class:"relative border border-dashed border-muted rounded p-8 text-center hover:border-primary transition-colors duration-200 bg-muted hover:bg-elevated"},[p("input",{type:"file",multiple:t.multiple,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:o,accept:t.accept},null),p("div",{class:"flex flex-col items-center gap-3"},[p("svg",{class:"w-12 h-12 text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"},null)]),p("div",null,[p("p",{class:"text-lg font-medium text-default"},[a.value]),p("p",{class:"text-sm text-muted mt-1"},[t.multiple?i("components.upload.selectUpload.multipleSupport"):t.accept!=="*"?i("components.upload.selectUpload.acceptDesc",{accept:t.accept}):i("components.upload.selectUpload.defaultDesc"),t.maxNum&&p("span",{class:"ml-2 text-warning"},[Dt("("),i("components.upload.selectUpload.maxFiles",{max:t.maxNum}),Dt(")")])])])])])}}),W4=Y({name:"DuxWidgetConnect",props:{title:String,desc:String,value:Number,local:String},setup(t,{slots:e}){return()=>p(hr,null,{default:()=>[p("div",{class:"flex items-center"},[p("div",{class:"flex-1 flex flex-col gap-1 px-6 py-4"},[p("div",{class:"font-medium text-base"},[t.title]),p("div",{class:"text-sm text-muted"},[t.desc]),p("div",{class:"mt-2"},[e.default?.()])]),p("div",{class:"flex-none pt-4 pr-4"},[p("svg",{class:"size-30",xmlns:"http://www.w3.org/2000/svg",width:"511.56264",height:"532.44842",viewBox:"0 0 511.56264 532.44842"},[p("polygon",{points:"454.49103 405.20843 454.48102 405.44842 466.49103 532.44842 378.85101 532.44842 367.49103 454.44842 362.49103 530.44842 272.49103 529.44842 282.05103 429.66839 290.18103 383.41839 290.18103 383.40838 291.401 376.44842 452.10101 376.44842 452.31103 378.96838 454.49103 405.20843",fill:"#2f2e41"},null),p("path",{d:"M222.88285,478.83064c9.28179,1.69101,18.96019-8.76188,21.61758-23.34779,1.16327-6.38475,.78778-12.50277-.78019-17.50611l1.42323-8.40799,23.88334-113.10923s43.98031-87.97522,43.9791-103.24828c-.00111-15.27287-12.72223-22.76282-12.72223-22.76282l-17.21435,.16096-53.98264,131.84662-9.72217,97.42982-1.57289,13.36711c-3.2316,4.12897-5.74053,9.72145-6.90332,16.10621-2.65749,14.58572,2.71275,27.78048,11.99454,29.4715Z",fill:"#ffb6b6"},null),p("polygon",{points:"397.99103 135.94842 381.99103 98.94842 329.99103 107.94842 326.49103 151.47992 397.99103 135.94842",fill:"#ffb6b6"},null),p("polygon",{points:"397.99103 135.94842 381.99103 98.94842 329.99103 107.94842 326.49103 151.47992 397.99103 135.94842",opacity:".1"},null),p("path",{d:"M510.99121,212.9484s-37-69-44-76c-3.11621-3.11621-8.01465-3.15955-12.49316-2.25134l-51.50684-17.74866-17.45801-9.8092-1.15039,18.66199-57.31543,10.28748c.31836-11.38086,1.92383-15.70972,1.92383-15.70972l-21,24.56946-41,20,.02246,.18005c-3.00879,1.05029-5.86133,2.84741-8.02246,5.81995-8,11-30,145-30,145l47,10,6.39648-40.13953,4.60352,36.13953,3.5,67.5s64,55,95,35,69-19,69-19l.94824-31.28796c.6748-1.07861,1.05176-1.71204,1.05176-1.71204l-1-110.98425v-29.5321c7.61816,10.61353,16.81152,19.74109,27.5,24.01636,35,14,28-43,28-43Z",fill:"#e6e6e6"},null),p("circle",{cx:"350.55585",cy:"66.61991",r:"47.83848",fill:"#ffb6b6"},null),p("path",{d:"M384.87476,80.13948s4.15987-14.55954,13.51957-13.51957c9.3597,1.03997,11.43964-7.27977,9.3597-11.43964-2.07993-4.15987-6.2398-24.95921-6.2398-24.95921,0,0,2.07993-14.55954-10.39967-16.63947-12.4796-2.07993-16.63947-4.15987-18.71941-8.31974-2.07993-4.15987-33.27894-8.31974-43.67861-2.07993-10.39967,6.2398-18.71941,18.2117-25.99917,21.58546-7.27977,3.37375-13.51957,9.61355-9.3597,20.01322,4.15987,10.39967,10.19286,30.7392,10.19286,30.7392,0,0,10.60648-3.70006,12.68641,2.53974,2.07993,6.2398-6.2398-2.07993,4.15987-18.71941,10.39967-16.63947,10.39967-33.27894,27.03914-27.03914,16.63947,6.2398,35.35888,4.15987,33.27894,16.63947-2.07993,12.4796,4.15987,31.19901,4.15987,31.19901Z",fill:"#2f2e41"},null),p("g",null,[p("path",{d:"M381.94946,459.38422H18.63322c-10.27456,0-18.63322-8.35942-18.63322-18.63322V247.758c0-10.2738,8.35866-18.63322,18.63322-18.63322H381.94946c10.27456,0,18.63322,8.35942,18.63322,18.63322v192.993c0,10.2738-8.35866,18.63322-18.63322,18.63322Z",fill:"rgb(var(--ui-color-gray-100))"},null),p("path",{d:"M381.94946,459.38422H18.63322c-10.27456,0-18.63322-8.35942-18.63322-18.63322V247.758c0-10.2738,8.35866-18.63322,18.63322-18.63322H381.94946c10.27456,0,18.63322,8.35942,18.63322,18.63322v192.993c0,10.2738-8.35866,18.63322-18.63322,18.63322ZM18.63322,232.23639c-8.55846,0-15.52161,6.96315-15.52161,15.52161v192.993c0,8.55846,6.96315,15.52161,15.52161,15.52161H381.94946c8.55846,0,15.52161-6.96315,15.52161-15.52161V247.758c0-8.55846-6.96315-15.52161-15.52161-15.52161H18.63322Z",fill:"#3f3d56"},null),p("circle",{cx:"353.90847",cy:"247.79446",r:"4.66742",fill:"#3f3d56"},null),p("circle",{cx:"366.35492",cy:"247.79446",r:"4.66742",fill:"#3f3d56"},null),p("circle",{cx:"378.80138",cy:"247.79446",r:"4.66742",fill:"#3f3d56"},null),p("path",{d:"M26.44872,323.2511c-1.28688,0-2.33371,1.04683-2.33371,2.33371,0,.62749,.24234,1.20788,.68218,1.63633,.44365,.45428,1.0248,.69738,1.65153,.69738H375.68976c1.28688,0,2.33371-1.04683,2.33371-2.33371,0-.62749-.24234-1.20788-.68218-1.63633-.44365-.45428-1.0248-.69738-1.65153-.69738H26.44872Z",fill:"#e6e6e6"},null),p("path",{d:"M332.12717,322.4732v6.22323H26.44872c-.85567,0-1.63358-.34233-2.19365-.91797-.57574-.56007-.91797-1.33797-.91797-2.19365,0-1.71144,1.40026-3.11161,3.11161-3.11161H332.12717Z",fill:"rgb(var(--ui-color-primary))"},null),p("path",{d:"M371.80025,310.80464h-31.11614c-3.43144,0-6.22323-2.79103-6.22323-6.22323s2.79179-6.22323,6.22323-6.22323h31.11614c3.43144,0,6.22323,2.79103,6.22323,6.22323s-2.79179,6.22323-6.22323,6.22323Z",fill:"#e6e6e6"},null),p("path",{d:"M167.98953,278.1327H28.78243c-3.43144,0-6.22323-2.79103-6.22323-6.22323s2.79179-6.22323,6.22323-6.22323H167.98953c3.43144,0,6.22323,2.79103,6.22323,6.22323s-2.79179,6.22323-6.22323,6.22323Z",fill:"#e6e6e6"},null),p("path",{d:"M26.44872,393.26242c-1.28688,0-2.33371,1.04683-2.33371,2.33371,0,.62749,.24234,1.20788,.68218,1.63633,.44365,.45428,1.0248,.69738,1.65153,.69738H375.68976c1.28688,0,2.33371-1.04683,2.33371-2.33371,0-.62749-.24234-1.20788-.68218-1.63633-.44365-.45428-1.0248-.69738-1.65153-.69738H26.44872Z",fill:"#e6e6e6"},null),p("path",{d:"M212.33003,392.48451v6.22323H26.44872c-.85567,0-1.63358-.34233-2.19365-.91797-.57574-.56007-.91797-1.33797-.91797-2.19365,0-1.71144,1.40026-3.11161,3.11161-3.11161H212.33003Z",fill:"rgb(var(--ui-color-primary))"},null),p("path",{d:"M371.80025,380.81596h-31.11614c-3.43144,0-6.22323-2.79103-6.22323-6.22323s2.79179-6.22323,6.22323-6.22323h31.11614c3.43144,0,6.22323,2.79103,6.22323,6.22323s-2.79179,6.22323-6.22323,6.22323Z",fill:"#e6e6e6"},null)]),p("g",null,[p("ellipse",{cx:"426.27357",cy:"70.44086",rx:"48.72643",ry:"47.69976",fill:"rgb(var(--ui-color-primary))"},null),p("path",{d:"M442.81136,46.3808c-6.487,11.81215-12.97405,23.62439-19.46106,35.43659-4.13442-7.30499-8.24624-14.62285-12.39083-21.92211-1.43136-2.5209-5.32473-.25351-3.88976,2.27368,4.80448,8.46149,9.55919,16.95111,14.36367,25.41259,.82147,1.44676,3.07677,1.48035,3.8898,0,7.12599-12.9757,14.25199-25.95141,21.37798-38.92707,1.39635-2.54258-2.4924-4.81822-3.8898-2.27368Z",fill:"rgb(var(--ui-color-gray-100))"},null)]),p("path",{d:"M493.53827,196.17181l-48.54724-23.22339s-1.94983-15.5437-11.05402-21.08789c-1.54779-3.6925-3.32855-7.74908-4.94598-10.96332-4-7.94879,2-22.94879-3-22.94879s-12.39122,15.77543-12,20c.30031,3.24292,2.98059,8.90472,3.5343,13.8609-6.09709,2.29949-11.01564,6.24084-14.24964,9.37903-2.79865,2.71575-3.8385,6.76755-2.74475,10.51073,3.16948,10.84703,11.09153,33.24933,22.46008,33.24933,15,0,19-3,19-3,0,0,31,39,54,42s-2.45276-47.77661-2.45276-47.77661Z",fill:"#ffb6b6"},null)])])])]})}});function V4(t,e){const n=(Number(t.h)%360+360)%360,r=[],i=[0,144,72,216,36,180,108,252,18,162],a=60,o=55;if(e<=i.length)for(let s=0;s<e;s++){const l=(n+i[s])%360;r.push(`hsla(${l}, ${Math.round(a)}%, ${Math.round(o)}%, 0.8)`)}else for(let s=0;s<e;s++){const l=(n+s*137.508)%360;r.push(`hsla(${l}, ${Math.round(a)}%, ${Math.round(o)}%, 0.8)`)}return r}function G4(t,e){const n=e?Fv(t[0],{theme:"dark",backgroundColor:"rgb(var(--ui-bg))"}):Fv(t[0],{backgroundColor:"rgb(var(--ui-bg))"});return{color:t,backgroundColor:"rgba(255,255,255,0)",textStyle:{},grid:{left:"10",right:"10",top:"10%",bottom:"5%",containLabel:!0},title:{textStyle:{fontSize:16,fontWeight:"500",textAlign:"left",color:"rgb(var(--ui-text))"},subtextStyle:{color:"rgb(var(--ui-text-muted))"}},line:{itemStyle:{borderWidth:"2"},lineStyle:{width:"2"},areaStyle:{opacity:.3},symbolSize:"8",symbol:"emptyCircle",smooth:!1},radar:{itemStyle:{borderWidth:"2"},lineStyle:{width:"2"},symbolSize:"6",symbol:"emptyCircle",smooth:!1,axisLine:{lineStyle:{color:"rgb(var(--ui-text-muted))"}},splitLine:{lineStyle:{color:"rgb(var(--ui-border-accented))"}},splitArea:{areaStyle:{color:["rgba(250,250,250,0)","rgb(var(--ui-bg-muted))"]}}},bar:{itemStyle:{barBorderWidth:0,barBorderColor:"rgb(var(--ui-border-muted))",borderRadius:0}},pie:{itemStyle:{borderWidth:1.5,borderColor:"var(--ui-border)",borderRadius:0},label:{color:"rgb(var(--ui-text))"}},scatter:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"}},boxplot:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"}},parallel:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"}},sankey:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"}},funnel:{itemStyle:{borderWidth:2,borderColor:"var(--ui-border)"},label:{color:"rgb(var(--ui-text))"}},treemap:{itemStyle:{borderWidth:2,borderColor:"rgba(255,255,255,0)"},label:{color:"rgb(var(--ui-color-white) / 0.8)"}},gauge:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"}},candlestick:{itemStyle:{color:"#e6a0d2",color0:"transparent",borderColor:"#e6a0d2",borderColor0:"#3fb1e3",borderWidth:"2"}},graph:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"},lineStyle:{width:"1",color:"rgb(var(--ui-border-muted))"},symbolSize:"8",symbol:"emptyCircle",smooth:!1,color:t,label:{color:"var(--ui-border)"}},map:{itemStyle:{areaColor:"var(--ui-border)",borderColor:"rgb(var(--n-gray-color-7))",borderWidth:.5},label:{show:!1,color:"rgb(var(--ui-text))"},emphasis:{itemStyle:{areaColor:"rgba(var(--ui-primary), 0.25)",borderColor:"rgb(var(--ui-primary))",borderWidth:1},label:{color:"rgb(var(--ui-primary))"}}},geo:{itemStyle:{areaColor:"var(--ui-border)",borderColor:"rgb(var(--ui-border-muted))",borderWidth:.5},label:{color:"var(--ui-border)"},emphasis:{itemStyle:{areaColor:"rgba(var(--ui-primary), 0.25)",borderColor:"rgb(var(--ui-primary))",borderWidth:1},label:{color:"rgb(var(--ui-primary))"}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisTick:{show:!1,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisLabel:{show:!0,color:"rgb(var(--ui-text-muted))"},splitLine:{show:!1,lineStyle:{color:["rgb(var(--ui-border-accented))"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0)","rgb(var(--ui-bg-muted))"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisTick:{show:!1,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisLabel:{show:!0,color:"rgb(var(--ui-text-muted))"},splitLine:{show:!0,lineStyle:{color:["rgb(var(--ui-border-accented))"]}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0)","rgb(var(--ui-bg-muted))"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisTick:{show:!1,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisLabel:{show:!0,color:"rgb(var(--ui-text-muted))"},splitLine:{show:!0,lineStyle:{color:["rgb(var(--ui-border-accented))"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0)","rgb(var(--ui-bg-muted))"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisTick:{show:!1,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisLabel:{show:!0,color:"rgb(var(--ui-text-muted))"},splitLine:{show:!0,lineStyle:{color:["rgb(var(--ui-border-accented))"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0)","rgb(var(--ui-bg-muted))"]}}},toolbox:{iconStyle:{borderColor:"rgb(var(--ui-border-muted))"},emphasis:{iconStyle:{borderColor:"rgb(var(--ui-border-muted))"}}},legend:{textStyle:{color:"rgb(var(--ui-text-muted))"}},tooltip:{backgroundColor:"rgb(var(--ui-bg) / 0.8)",shadowBlur:10,borderWidth:0,textStyle:{color:"rgb(var(--ui-text))"},axisPointer:{lineStyle:{color:"rgb(var(--ui-border-muted))",width:1},crossStyle:{color:"rgb(var(--ui-border-muted))",width:1}}},timeline:{lineStyle:{color:"rgb(var(--ui-primary))",width:1},itemStyle:{color:"rgb(var(--ui-primary))",borderWidth:1},controlStyle:{color:"rgb(var(--ui-primary))",borderColor:"rgb(var(--ui-primary))",borderWidth:.5},checkpointStyle:{color:"rgb(var(--ui-primary))",borderColor:"rgb(var(--ui-primary))"},label:{color:"rgb(var(--ui-primary))"},emphasis:{itemStyle:{color:"rgb(var(--ui-primary))"},controlStyle:{color:"rgb(var(--ui-primary))",borderColor:"rgb(var(--ui-primary))",borderWidth:.5},label:{color:"rgb(var(--ui-primary))"}}},visualMap:{color:n},dataZoom:{backgroundColor:"rgba(255,255,255,0)",dataBackgroundColor:"rgba(222,222,222,1)",fillerColor:"rgba(114,230,212,0.25)",handleColor:"rgb(var(--ui-border-muted))",handleSize:"100%",textStyle:{color:"rgb(var(--ui-text-muted))"}},markPoint:{label:{color:"rgb(var(--ui-text))"},emphasis:{label:{color:"rgb(var(--ui-text))"}}}}}function X4(){const{getSceneColor:t,getSemanticColor:e}=va(),n=o=>{const s=tx(o);return`${s.r}, ${s.g},${s.b}`},r=V(()=>({common:{primaryColor:t("primary"),primaryColorHover:t("primary","hover"),primaryColorPressed:t("primary","pressed"),primaryColorSuppl:t("primary"),infoColor:t("info"),infoColorHover:t("info","hover"),infoColorPressed:t("info","pressed"),infoColorSuppl:t("info"),successColor:t("success"),successColorHover:t("success","hover"),successColorPressed:t("success","pressed"),successColorSuppl:t("success"),warningColor:t("warning"),warningColorHover:t("warning","hover"),warningColorPressed:t("warning","pressed"),warningColorSuppl:t("warning"),errorColor:t("error"),errorColorHover:t("error","hover"),errorColorPressed:t("error","pressed"),errorColorSuppl:t("error"),iconColor:e("text","muted"),borderRadius:"var(--radius-sm)",borderRadiusSmall:"var(--radius-xs)"},Menu:{itemIconColorCollapsed:e("text","accented")},DataTable:{borderColor:e("border","muted"),thColor:e("bg","elevated"),tdColorHover:e("bg","elevated"),thTextColor:e("text","base")},Select:{peers:{InternalSelection:{border:"1px solid rgb(var(--ui-border-accented))"}}},Button:{},Tabs:{tabTextColorCard:e("text","toned"),colorSegment:`rgba(${n(e("bg","elevated"))})`,tabBorderColor:e("border","muted"),tabColorSegment:t("primary"),tabTextColorSegment:e("text","toned"),tabTextColorActiveSegment:e("text","inverted"),tabTextColorHoverSegment:e("text","muted")},Card:{}})),i=V(()=>L0(r.value,{common:{cardColor:e("bg","base"),modalColor:e("bg","base"),dividerColor:e("border","muted"),borderColor:e("border","muted"),popoverColor:`rgba(${n(e("bg","base"))}, 0.98)`},DataTable:{tdColor:e("bg","base")}})),a=V(()=>L0(r.value,{common:{cardColor:e("bg","muted"),modalColor:e("bg","muted"),dividerColor:e("border","muted"),borderColor:e("border","muted"),popoverColor:`rgba(${n(e("bg","elevated"))}, 0.95)`},DataTable:{tdColor:e("bg","muted")}}));return{lightTheme:i,darkTheme:a}}const q4=Y({name:"DuxGlobalLayout",setup(t,{slots:e}){const{isDark:n,cssInit:r,getSceneColor:i}=va(),a=an("pageLoading"),o=yC(),{lightTheme:s,darkTheme:l}=X4();H8(()=>{r()}),zn.registerLanguage("javascript",HA),zn.registerLanguage("typescript",ZA),zn.registerLanguage("css",LA),zn.registerLanguage("xml",JA),zn.registerLanguage("json",WA),zn.registerLanguage("markdown",VA),zn.registerLanguage("bash",TA),zn.registerLanguage("shell",qA),zn.registerLanguage("sql",YA),zn.registerLanguage("java",NA),zn.registerLanguage("php",GA),zn.registerLanguage("go",IA),zn.registerLanguage("python",XA);const{getLocale:c}=_e(),u=V(()=>c()==="zh-CN"?xC:wC),d=V(()=>c()==="zh-CN"?_C:CC);return ye(c,f=>{BC(f)},{immediate:!0}),Tr(async()=>{setTimeout(()=>{o.finish(),a.value=!1},500)}),ye(n,f=>{const h=i("primary"),g=$C(h),m=V4(g,10),v=G4(m,f);FC("default",v)},{immediate:!0}),()=>p(MC,{hljs:zn,locale:u.value,dateLocale:d.value,theme:n.value?AC:OC,themeOverrides:n.value?l.value:s.value},{default:()=>[p(kC,null,{default:()=>[p(SC,null,{default:()=>[p(EC,null,{default:()=>[p(TC,null,{default:()=>[e.default?.()]})]})]})]})]})}}),Td=Y({name:"DuxMenuButton",props:{class:{type:String,default:""},onClick:{type:Function,default:()=>{}},collapsed:{type:Boolean,default:!0},inverted:{type:Boolean,default:!1}},setup(t,{slots:e}){const{menuCollapsed:n,menuMobileCollapsed:r}=oo();return()=>p("div",{onClick:()=>{t.onClick?.()},class:["flex items-center gap-1 justify-center py-1 px-2 cursor-pointer gap-2",t.class,n.value&&!r.value?"group":"hover:shadow-xs hover:bg-default flex-1 w-full",t.inverted?"transition-all duration-300 bg-inverted/5 rounded-full hover:bg-default hover:shadow-xs":" rounded-md"]},[e.icon?.(),t.collapsed===!1&&!n.value&&!r.value&&p("div",{class:["overflow-hidden ease-in-out whitespace-nowrap text-left min-w-0 flex-1",t.inverted?"text-default":""]},[e.default?.()])])}}),p0=Y({name:"DuxMenuAvatar",props:{collapsed:{type:Boolean,default:!1}},setup(t){const{t:e}=_e(),n=_e(),r=gn(),{config:i,getRoutePath:a}=lt(),{mutate:o}=ix(),{mode:s,primaryColors:l,neutralColors:c,colorMapping:u,setColor:d,setMode:f}=va(),h=(x,w)=>p("div",{class:"flex gap-2 items-center w-30"},[p("div",{class:"flex-1 min-w-0"},[x]),p("div",null,[w&&p("div",{class:"i-tabler:check"},null)])]),g=x=>p("div",{class:`${x} size-4`},null),m=V(()=>{const x=i.userMenus?.map(w=>({label:e(w.label||"",{},w.label),key:w.key,icon:()=>g(w.icon),path:w.path}));return x?.length>0?[...x,{type:"divider"}]:[]}),v=Rn(),b=V(()=>[{key:"header",type:"render",render:()=>p("div",{class:"flex gap-2 px-3 pb-1 pt-1 items-center "},[p(qo,{round:!0,size:28,src:v.info?.avatar},null),p("div",{class:"flex flex-col"},[p("div",{class:"text-sm font-medium"},[v.info?.nickname]),p("div",{class:"text-xs text-muted"},[v.info?.username])])])},{type:"divider"},...m.value,{label:e("components.menu.language"),key:"locale",icon:()=>g("i-tabler:language"),children:[...(n.getLocales()||[]).map(x=>({label:()=>h(e(`locale.${x}`),n.getLocale()===x),key:`locale.${x}`}))]},{label:e("components.menu.color"),key:"color",icon:()=>g("i-tabler:palette"),children:[{label:()=>p("div",{class:"flex gap-2 items-center w-30"},[p("div",{class:"size-2 rounded-full",style:{backgroundColor:"rgb(var(--ui-color-primary))"}},null),p("div",null,[e("components.menu.primaryColor")])]),key:"color.primary",children:l.value?.map(x=>({label:()=>h(p("div",{class:"flex gap-2 items-center"},[p("div",{class:"size-2 rounded-full",style:{backgroundColor:`rgb(var(--base-color-${x}-500))`}},null),p("div",null,[x])]),u.value.primary===x),key:`color.primary.${x}`}))},{label:()=>p("div",{class:"flex gap-2 items-center w-30"},[p("div",{class:"size-2 rounded-full",style:{backgroundColor:"rgb(var(--ui-color-gray-600))"}},null),p("div",null,[e("components.menu.neutralColor")])]),key:"color.neutral",children:c.value?.map(x=>({label:()=>h(p("div",{class:"flex gap-2 items-center"},[p("div",{class:"size-2 rounded-full",style:{backgroundColor:`rgb(var(--base-color-${x}-600))`}},null),p("div",null,[x])]),u.value.gray===x),key:`color.neutral.${x}`}))}]},{label:e("components.menu.theme"),key:"theme",icon:()=>g("i-tabler:brightness-half"),children:[{label:()=>h(e("components.menu.followSystem"),s.value==="auto"),key:"theme.auto"},{label:()=>h(e("components.menu.lightMode"),s.value==="light"),key:"theme.light"},{label:()=>h(e("components.menu.darkMode"),s.value==="dark"),key:"theme.dark"}]},{type:"divider"},{label:e("components.menu.logout"),key:"logout",icon:()=>g("i-tabler:logout")}]);function y(x,w){const _=x.lastIndexOf("."),[k,R]=_===-1?[x,""]:[x.substring(0,_),x.substring(_+1)];switch(k){case"locale":n.changeLocale(R);break;case"color.primary":d("primary",R);break;case"color.neutral":d("gray",R);break;case"theme":f(R);break;case"logout":o();break;default:if(!w?.path)return;r.push(a(w.path))}}return()=>p(ns,{options:b.value,placement:"bottom-start",trigger:"click",onSelect:y,width:200},{default:()=>[p(Td,{collapsed:t.collapsed},{icon:()=>p(qo,{class:"group-hover:shadow-lg",round:!0,size:28,src:v.info?.avatar},null),default:()=>p("div",{class:"flex flex-col"},[p("div",{class:"text-sm font-medium"},[v.info?.nickname]),p("div",{class:"text-xs text-muted"},[v.info?.username])])})]})}}),$z=Y({name:"DuxPageTab",setup(t){const{tabsProps:e,tabs:n}=m_(),r=ie(),i=ro(),a=gn(),{t:o}=_e(),s=wn({x:0,y:0,visible:!1}),l=ie(),c=(h,g)=>{h.preventDefault(),s.visible=!1,An().then(()=>{s.visible=!0,s.x=h.clientX,s.y=h.clientY,l.value=g})},u=()=>{s.visible=!1},d=[{label:o("components.tab.lock"),key:"lock"},{label:o("components.tab.closeOther"),key:"closeOther"},{label:o("components.tab.closeLeft"),key:"closeLeft"},{label:o("components.tab.closeRight"),key:"closeRight"}],f=h=>{switch(s.visible=!1,h){case"lock":i.lockTab(l.value?.path||"");break;case"closeOther":i.delOther(l.value?.path||"",()=>{a.push(l.value?.path||"")});break;case"closeLeft":i.delLeft(l.value?.path||"",()=>{a.push(l.value?.path||"")});break;case"closeRight":i.delRight(l.value?.path||"",()=>{a.push(l.value?.path||"")});break}};return()=>p(Vt,null,[p(Ja,kt({ref:r,type:"card",class:"app-page-tabs",barWidth:100},e.value),{default:()=>[n?.value?.map(h=>p(Da,{key:h.path,name:h.path||""},{default:()=>[p("div",{class:"flex items-center gap-2 py-2 px-3",onContextmenu:g=>c(g,h)},[p("div",{class:"flex-1"},[h.label]),p("div",{class:"flex items-center flex-none"},[h.meta?.lock?p("div",{class:"i-tabler:pinned size-4"},null):p("div",{onClick:()=>e.value?.onClose?.(h.path),class:"text-muted hover:text-primary cursor-pointer"},[p("div",{class:"i-tabler:x size-4"},null)])])])]}))]}),p(ns,{trigger:"manual",x:s.x,y:s.y,show:s.visible,onClickoutside:u,options:d,onSelect:f},null)])}}),Fz=Y({name:"DuxLayoutPage",props:{},setup(){const{menuMobileCollapsed:t,setMenuMobileCollapsed:e}=oo(),{config:n}=lt(),{mutate:r}=ax(),{pause:i,resume:a}=sC(()=>{r()},1e3*60*10);return Tr(()=>{r(),a()}),ts(()=>{i()}),()=>p("div",{class:"flex-1 min-w-0 flex flex-col"},[p("div",{class:"flex flex-col lg:flex-row lg:justify-between lg:items-center lg:h-13"},[p("div",{class:"flex lg:hidden justify-between items-center px-2 py-2 bg-default dark:bg-muted shadow-xs relative"},[p(ge,{text:!0,onClick:()=>e(!t.value)},{default:()=>[p("div",{class:"i-tabler:menu-2 size-6"},null)]}),p("div",{class:"w-full absolute inset-0 flex items-center justify-center text-base pointer-events-none"},[n.title]),p("div",null,[p(p0,{collapsed:!0},null)])]),p("div",{class:"flex-1 py-2"},[p($z,null,null)])]),p("div",{class:"flex-1 min-h-0  mr-2 ml-2 mb-2 lg:ml-0"},[p(v5,null,null)])])}}),g0=Y({name:"DuxMenuCmd",setup(){const{cmdVisible:t,setCmdVisible:e}=oo(),n=lC(),r=n["Meta+K"],i=ie(),a=ie([]),o=gn(),s=ac(),{setMode:l}=va(),c=ie(""),{t:u}=_e(),d=ie(),f=x=>{const w=s.routes.filter(_=>_.parent===x);i.value=x,a.value=w},h=()=>{e(!0)},g=()=>{e(!1)},m=x=>{x?a.value=[...In(s.routes).filter(w=>w.label?.includes(x))]:a.value=s.routes.filter(w=>!w.parent)};ye(t,x=>{x?a.value=s.routes.filter(w=>!w.parent):a.value=s.routes.filter(w=>!w.parent)}),Yy(c,()=>{m(c.value)},{throttle:500});const v=()=>{const x=s.routes.find(w=>w.name===i.value);f(x?.parent)};ye(r,x=>{x&&h()}),ye(n.Escape,x=>{x&&e(!1)}),ye(n.Backspace,x=>{x&&c.value===""&&i.value&&v()}),ye(d,x=>{x&&x.focus()});const b=V(()=>a.value.filter(x=>x.hidden===void 0||x.hidden===!1)),y=x=>p(Aa.Item,{onSelect:x?.onSelect},{default:()=>[p("div",{class:"flex items-center justify-between flex-1"},[p("div",{class:"flex items-center gap-2"},[p("div",{class:["size-4",x?.icon]},null),p("div",null,[x?.label])]),p("div",null,[x?.keyName&&p(Uo,{size:"small"},{default:()=>[x?.keyName]})])])]});return()=>p(Aa.Dialog,{visible:t.value,theme:"command-palette"},{header:()=>p("div",{class:"relative"},[p("input",{ref:d,placeholder:u("common.search"),onInput:x=>{c.value=x.target.value},class:"w-full h-12 text-base/5 rounded-md border-0 placeholder:text-dimmed outline-0 px-2.5 py-1.5 text-sm gap-1.5 text-highlighted bg-transparent ps-10 pe-10"},null),p("span",{class:"absolute inset-y-0 start-0 flex items-center ps-3"},[p("div",{class:"i-tabler:search shrink-0 text-dimmed size-5","aria-hidden":"true"},null)]),p("span",{class:"absolute inset-y-0 end-0 flex items-center gap-2 pe-3"},[p(Uo,{size:"small"},{default:()=>[Dt("Esc")]}),p(ge,{quaternary:!0,circle:!0,size:"small",onClick:()=>e(!1)},{icon:()=>p("div",{class:"i-tabler:x size-5","aria-hidden":"true"},null)})])]),body:()=>p(Vt,null,[b.value.length===0&&c.value&&p("div",{class:"flex items-center justify-center h-20 border-t border-muted"},[u("common.empty")]),b.value.length>0&&p(Aa.List,null,{default:()=>[p(Aa.Group,{heading:u("common.menu")},{default:()=>[b.value?.map((x,w)=>p(Aa.Item,{key:w,onSelect:()=>{x.path?(o.push(x.path),g()):f(x.name)}},{default:()=>[p("div",{class:x.path?"i-tabler:link":"i-tabler:folder"},null),x.label]}))]}),p(Aa.Separator,null,null),i.value?p(y,{icon:"i-tabler:arrow-left",label:u("common.back"),onSelect:v,keyName:"Backspace"},null):p(Aa.Group,{heading:u("common.theme")},{default:()=>[p(y,{icon:"i-tabler:moon",label:u("common.dark"),onSelect:()=>{l("dark")}},null),p(y,{icon:"i-tabler:sun",label:u("common.light"),onSelect:()=>{l("light")}},null)]})]})])})}}),Ah=Y({name:"DuxMenuMain",props:{collapsed:{type:Boolean,default:!1}},setup(t){const{options:e,active:n}=g_({}),{menuCollapsed:r,setCmdVisible:i,menuMobileCollapsed:a,setMenuCollapsed:o}=oo(),{config:s}=lt(),{t:l}=_e();return()=>p("div",{class:"flex flex-col h-screen px-1"},[p("div",{class:"h-13 px-2 hidden lg:flex justify-center items-center"},[p(Td,{onClick:()=>o(!r.value),collapsed:t.collapsed},{icon:()=>p("div",{class:"bg-white dark:bg-primary-950 rounded-full p-2 shadow group-hover:shadow-lg"},[p(w3,{highlight:"fill-primary",class:"size-4"},null)]),default:()=>p("div",null,[s.title])})]),p("div",{class:"px-2 py-1 hidden lg:block"},[p(Td,{collapsed:t.collapsed,inverted:!0,class:"relative py-1.5 px-3",onClick:()=>i(!0)},{icon:()=>p("div",{class:"i-tabler:search size-4 icon-gradient"},null),default:()=>p("div",{class:"text-muted text-sm"},[l("common.search"),!r.value&&p("div",{class:"flex items-center gap-1 absolute right-2.5 top-1.3"},[p(Uo,{size:"small",bordered:!1,type:"primary"},{default:()=>[Dt("")]}),p(Uo,{size:"small",bordered:!1,type:"primary"},{default:()=>[Dt("K")]})])])})]),p("div",{class:["flex-1 min-h-0",a.value?"border-t border-muted":""]},[p(pi,null,{default:()=>[p(RC,{options:e.value,value:n.value,collapsed:r.value&&!a.value,indent:20,collapsedWidth:60,collapsedIconSize:20},null)]})]),p("div",{class:"flex-none hidden lg:flex flex-col items-center gap-2 p-2 border-t border-muted/50"},[p(p0,{collapsed:t.collapsed},null)])])}}),m0=Y({name:"DuxMobileMenu",props:{},setup(t){const{menuMobileCollapsed:e}=oo();return()=>p(zo,{show:e.value,onUpdateShow:n=>e.value=n,width:250,placement:"left"},{default:()=>[p(Ah,{collapsed:!1},null)]})}}),Y4=Y({name:"DuxAuthLayout",setup(){const{menuCollapsed:t}=oo();return()=>p(q4,null,{default:()=>[p(qx,null,{default:()=>[p("div",{class:"h-screen w-screen flex relative"},[p("div",{class:["flex-none transition-all","hidden lg:block app-menu",t.value?"w-120px":"w-200px"]},[p(Ah,null,null)]),p(Fz,null,null)]),p(g0,null,null),p(m0,null,null)]})]})}}),K4=Y({name:"DuxLayout",setup(){return()=>p(q4,null,{default:()=>[p(Ig,null,null)]})}});function Pz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const Z4=Y({name:"DuxLoginPage",setup(t,{slots:e}){const n=va(),r=lt(),{t:i}=_e(),a=ie(),o=_n(),s=wn({username:"",password:""}),{mutate:l,isLoading:c}=rx({onSuccess:()=>{o.success(i("pages.login.success"))},onError:d=>{o.error(d?.message||i("pages.login.error"))}}),u=()=>{l(s)};return()=>{let d;return p("div",{class:xt(["h-screen w-screen flex items-start justify-center text-secondary md:items-center",n.isDark.value?"app-login-dark-bg":"app-login-bg"])},[p("div",{class:"relative md:m-4 max-w-180 w-full h-full md:h-auto grid-cols-1 md:grid-cols-2 gap-12 overflow-hidden md:rounded-lg p-8 md:shadow bg-default dark:bg-muted grid"},[p("div",{class:"flex justify-center tex absolute h-30 w-30 rotate-45 cursor-pointer items-end p-3 text-white bg-primary -right-15 -top-15 hover:bg-primary-hover",onClick:()=>n.toggle()},[n.mode.value==="auto"&&p("div",{class:"i-tabler:brightness-half h-5 w-5"},null),n.mode.value==="light"&&p("div",{class:"h-5 w-5 i-tabler:sun"},null),n.mode.value==="dark"&&p("div",{class:"h-5 w-5 i-tabler:moon"},null)]),p("div",{class:"justify-center hidden md:flex flex-row items-center"},[r.config.theme?.banner?p("img",{class:"w-full h-auto",src:r.config.theme?.banner},null):p("div",{class:"w-full h-auto"},[p(a0,null,null)])]),p("div",{class:"flex flex-col"},[p("div",{class:"flex flex-col items-center justify-center mt-4"},[p("div",null,[r.config.theme?.logo?p("img",{class:"w-auto h-16",src:r.config.theme?.logo},null):p("div",{class:"h-10"},[p(x3,null,null)])]),p("div",{class:"mt-4 text-lg text-muted"},[r.config.title||"Dux Admin Manage"])]),p("div",{class:"my-6"},[p(Zy,{ref:a,model:s,class:"flex flex-col gap-4"},{default:()=>[p(Wu,{showLabel:!1,path:"username",showFeedback:!1},{default:()=>[p(Ve,{value:s.username,onUpdateValue:f=>s.username=f,type:"text",placeholder:i("pages.login.placeholder.username"),size:"large"},{default:()=>p("div",{class:"text-lg i-tabler:user"},null)})]}),p(Wu,{showLabel:!1,path:"password",showFeedback:!1},{default:()=>[p(Ve,{value:s.password,onUpdateValue:f=>s.password=f,type:"password",showPasswordOn:"mousedown",placeholder:i("pages.login.placeholder.password"),size:"large",inputProps:{autocomplete:"new-password"}},{default:()=>p("div",{class:"text-lg i-tabler:lock"},null)})]}),e.default?.(s),p("div",{class:"mb-2 mt-4"},[p(ge,{type:"primary",size:"large",block:!0,loading:c.value,onClick:u},Pz(d=i("pages.login.buttons.login"))?d:{default:()=>[d]})])]})]),p("div",{class:"text-center text-sm text-muted"},[r.config?.copyright||"All rights reserved  duxweb 2024"])])])])}}});function Dz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const J4=Y({name:"DuxPage403",setup(t){const e=ha(),n=gn(),{t:r}=_e();function i(){n.push({path:e.path,query:{...e.query,t:Date.now()}})}return()=>p(ao,{title:r("pages.403.title"),desc:r("pages.403.desc")},{default:()=>p("div",null,[p(o0,null,null)]),action:()=>{let a;return p(ge,{onClick:i,renderIcon:()=>p("div",{class:"n-icon i-tabler:refresh"},null)},Dz(a=r("components.button.refresh"))?a:{default:()=>[a]})}})}});function Lz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lt(t)}const Q4=Y({name:"DuxPage500",setup(t){const e=ha(),n=gn(),{t:r}=_e();function i(){n.push({path:e.path,query:{...e.query,t:Date.now()}})}return()=>p(ao,{title:r("pages.500.title"),desc:r("pages.500.desc")},{default:()=>p("div",null,[p(W8("dux-draw-error"),null,null)]),action:()=>{let a;return p(ge,{onClick:i,renderIcon:()=>p("div",{class:"n-icon i-tabler:refresh"},null)},Lz(a=r("components.button.refresh"))?a:{default:()=>[a]})}})}}),Iz=Y({name:"DuxPageLoading",props:{},setup(){const{t}=_e();return()=>p(ao,{title:t("pages.loading.title"),desc:t("pages.loading.desc")},{default:()=>[p(vc,null,null)]})}});function e8(){const t=b5(Yg);return{name:t.name,theme:t.theme,rules:t.rules}}function t8(t){const e={presets:[KD({preflights:{reset:t,theme:t}}),YM({collections:{tabler:()=>Mn(()=>import("./vendor-icon-EIVbyAnn.js"),[]).then(n=>n.default)}}),PR(),e8()]};return t||(e.preflights=[{getCSS:()=>Mn(()=>import("./uno.css-DEGnlllo.js"),[]).then(n=>n.default)}]),e}function n8(){UC({generateMessage:zC({"en-US":QD,"zh-CN":nL})})}const Nz={search:"Search",empty:"No data",menu:"Menu",theme:"Theme",dark:"Dark",light:"Light",back:"Back",loading:"Loading...",success:"Success",error:"Error",unknownError:"Unknown error",preview:"Preview"},jz={tab:{lock:"Lock",closeOther:"Close Other",closeLeft:"Close Left",closeRight:"Close Right"},dialog:{confirm:{title:"Confirm",content:"Are you sure you want to confirm?"},cancel:{title:"Cancel",content:"Are you sure you want to cancel?"},success:{title:"Success",content:"Your operation has been successful"},error:{title:"Error",content:"Your operation has been failed"},prompt:{title:"Prompt"}},button:{confirm:"Confirm",cancel:"Cancel",submit:"Submit",reset:"Reset",delete:"Delete",search:"Search",advanced:"Advanced",export:"Export",import:"Import",autoRefresh:"Auto Refresh",filter:"Filter",refresh:"Refresh",select:"Select",create:"Create",download:"Download",rename:"Rename",preview:"Preview"},form:{edit:"Edit",create:"Create"},list:{selectAll:"Select All",columnSetting:"Column Setting",selectedItems:"Selected Items: {num}",total:"Total: {total}"},editor:{placeholder:"Please enter content"},upload:{fileManager:"File Manager",uploadFile:"Upload File",cancel:"Cancel",delete:"Delete",error:"Upload failed",empty:"No files",desc:"Click or drag files to this area",dropHere:"Drop files here",allFormats:"Support any format files",supportFormats:"Support {formats} format files",maxSize:"Max file size: {size}MB",success:"Upload success",failed:"Upload failed",fileExtension:"{ext} file",status:{pending:"Pending",uploading:"Uploading",success:"Success",cancelled:"Cancelled",error:"Error"},file:{name:"File Name",size:"Size",type:"Type",status:"Status"},actions:"Actions",selectUpload:{clickOrDrag:"Click to select files or drag here",selectedFiles:"Selected {count} files",multipleSupport:"Support multiple file selection",defaultDesc:"Support uploading specified file types",acceptDesc:"Only support uploading {accept} format files",maxFiles:"Max {max} files"}},uploadManage:{title:"File Manager",all:"All",image:"Images",media:"Media",docs:"Documents",upload:"Upload",empty:"No files",emptyDesc:"No more files, please upload files",back:"Back to parent",parentLevel:"Parent Level",namePlaceholder:"Please enter name",createError:"Create failed",editError:"Edit failed",delError:"Delete failed",delTitle:"Confirm Delete",delDesc:"Are you sure you want to delete the selected files? This action cannot be undone."},crop:{title:"Crop",select:"Select",confirm:"Confirm"},stats:{realTimeData:"Real-time Data"},data:{selectTitle:"Please select data"},menu:{language:"Language",chinese:"",english:"English",color:"Color",primaryColor:"Primary Color",neutralColor:"Neutral Color",theme:"Theme",followSystem:"Follow System",lightMode:"Light",darkMode:"Dark",logout:"Logout"},iconPicker:{title:"Icon Picker"},designEditor:{layout:"Layout",all:"All",grid:{label:"Grid",title:"Grid Settings",columns:"Columns",spacing:"Spacing",columnsPlaceholder:"Enter columns",spacingPlaceholder:"Enter spacing"}},formEditor:{config:"Component Config",options:"Option Config",data:"Data",common:{componentConfig:"Component Config",optionConfig:"Option Config",optionData:"Option Data",dataConfig:"Data Config",dataEdit:"Data Edit",label:"Label",placeholder:"Placeholder",disabled:"Disabled",clearable:"Clearable",multiple:"Multiple",defaultValue:"Default Value",readonly:"Readonly",showCount:"Show Count",prefix:"Prefix",suffix:"Suffix",status:"Status",minLength:"Min Length",maxLength:"Max Length",minValue:"Min Value",maxValue:"Max Value",minCount:"Min Count",maxCount:"Max Count",optionLabel:"Option Label",optionValue:"Option Value",labelField:"Label Field",valueField:"Value Field",dataInterface:"Data Interface",cascade:"Cascade",showPath:"Show Path",uploadUrl:"Upload URL",showAlpha:"Show Alpha",timeFormat:"Time Format",hour12:"12 Hours",dateType:"Date Type",inputType:"Input Type",formDirection:"Form Direction",leftAlign:"Left Align",topAlign:"Top Align",settingAlign:"Setting Layout",pageAlign:"Page Layout",name:"Name",desc:"Description"},setting:{title:"Form Settings"},validation:"Validation Rules",componentConfig:"Component Config",input:{label:"Text",types:{text:"Text",textarea:"Textarea",password:"Password"}},inputNumber:{label:"Number"},select:{label:"Select",configDesc:"Config options"},radio:{label:"Radio",configDesc:"Config options"},checkbox:{label:"Checkbox",configDesc:"Config options"},switch:{label:"Switch"},date:{label:"Date",placeholder:"Select date",dateType:"Date Type",date:"Date",daterange:"Date Range",datetime:"DateTime",datetimerange:"DateTime Range",month:"Month",monthrange:"Month Range",year:"Year",yearrange:"Year Range",quarter:"Quarter",quarterrange:"Quarter Range",week:"Week"},time:{label:"Time",placeholder:"Select time",timeFormat:"Format",use12Hours:"12 Hours"},color:{label:"Color",showAlpha:"Show Alpha"},cascader:{label:"Cascader",desc:"Cascader options data in JSON array format",configDesc:"Config options",optionDesc:"JSON array format",optionsDescription:"Config cascader options",cascade:"Cascade",showPath:"Show Path"},cascaderAsync:{label:"Cascader",dataApi:"Data API",apiPlaceholder:"Enter API URL",cascade:"Cascade",showPath:"Show Path"},dynamicInput:{label:"Dynamic"},editor:{label:"Editor",placeholder:"Enter content",uploadUrlDesc:"Editor image upload URL"},aiEditor:{label:"Editor",uploadUrl:"Upload URL",uploadUrlFeedback:"Image upload URL"},sider:{name:"Slider",step:"Step",min:"Min",max:"Max"},dynamicTags:{name:"Tags",max:"Max Count"},mentionAsync:{name:"Mention",clearable:"Clearable",path:"Data API",labelField:"Label Field",valueField:"Value Field"},region:{name:"Region",Path:"Data API",labelField:"Label Field",valueField:"Value Field"},selectAsync:{name:"Select",pagination:"Pagination",path:"Data API",labelField:"Label Field",valueField:"Value Field",imageField:"Image Field",descField:"Desc Field"},transferAsync:{name:"Transfer"},treeSelect:{name:"Tree"},treeSelectAsync:{name:"Tree Select",path:"Data API",labelField:"Label Field",keyField:"Key Field"},tree:{disabled:"Disabled"},groups:{form:"Form",select:"Selector",async:"Async"},main:{label:"Main Content",categories:{form:"Form",select:"Selector",async:"Async"},actions:{jsonOutput:"Json Output",save:"Save"}}}},Bz={table:{exportSuccess:"Export data successfully",exportProgress:"Exporting data, please wait...",exportFailed:"Export data failed",exportSuccessContent:"Successfully exported {count} records",exportProgressContent:"Page {page} data",exportFailedContent:"Export data failed: {error}",importSuccess:"Import data successfully",importProgress:"Importing data, please wait...",importFailed:"Import data failed",importSuccessContent:"Successfully imported {count} records",importProgressContent:"{processed} / {total} records",importFailedContent:"Import data failed: {error}",saveSuccess:"Save successfully",copySuccess:"Copy successfully",copyFailed:"Copy failed"},download:{failed:"Download failed"}},Uz={400:{title:"400",desc:"Request error"},401:{title:"401",desc:"You do not have permission to access this page"},403:{title:"403",desc:"You do not have permission to access this page"},404:{title:"404",desc:"Page not found"},500:{title:"500",desc:"Server error"},empty:{title:"No data",desc:"No more data, please try again later"},loading:{title:"Loading",desc:"Data is loading, please try again later"},login:{success:"Login success",error:"Login failed, please check your username and password",placeholder:{username:"Please enter username",password:"Please enter password"},buttons:{login:"Login"}}},zz={"zh-CN":"Chinese","en-US":"English","ja-JP":"Japanese","ko-KR":"Korean","ru-RU":"Russian"},Hz={common:Nz,components:jz,hooks:Bz,pages:Uz,locale:zz},Wz={search:"",empty:"",menu:"",theme:"",dark:"",light:"",back:"",loading:"...",success:"",error:"",unknownError:"",keyword:"",preview:""},Vz={tab:{lock:"",closeOther:"",closeLeft:"",closeRight:""},dialog:{confirm:{title:"",content:""},cancel:{title:"",content:""},success:{title:"",content:""},error:{title:"",content:""},prompt:{title:""}},button:{confirm:"",cancel:"",submit:"",reset:"",delete:"",search:"",advanced:"",export:"",import:"",autoRefresh:"",filter:"",refresh:"",select:"",create:"",download:"",rename:"",preview:"",sideLeft:"",sideRight:""},form:{edit:"",create:"",success:"",error:""},list:{selectAll:"",columnSetting:"",selectedItems:": {num}",total:" {total} "},editor:{placeholder:""},upload:{fileManager:"",uploadFile:"",cancel:"",delete:"",error:"",empty:"",desc:"",dropHere:"",allFormats:"",supportFormats:" {formats} ",maxSize:": {size}MB",success:"",failed:"",fileExtension:"{ext}",status:{pending:"",uploading:"",success:"",cancelled:"",error:""},file:{name:"",size:"",type:"",status:""},actions:"",selectUpload:{clickOrDrag:"",selectedFiles:" {count} ",multipleSupport:"",defaultDesc:"",acceptDesc:" {accept} ",maxFiles:" {max} "}},uploadManage:{title:"",all:"",image:"",media:"",docs:"",upload:"",empty:"",emptyDesc:"",back:"",parentLevel:"",namePlaceholder:"",createError:"",editError:"",delError:"",delTitle:"",delDesc:""},crop:{title:"",select:"",confirm:""},stats:{realTimeData:""},data:{selectTitle:""},menu:{language:"",chinese:"",english:"English",color:"",primaryColor:"",neutralColor:"",theme:"",followSystem:"",lightMode:"",darkMode:"",logout:""},iconPicker:{title:""},designEditor:{layout:"",all:"",grid:{label:"",title:"",columns:"",spacing:"",columnsPlaceholder:"",spacingPlaceholder:""}},formEditor:{config:"",options:"",data:"",common:{componentConfig:"",optionConfig:"",optionData:"",dataConfig:"",dataEdit:"",label:"",disabled:"",clearable:"",readonly:"",showCount:"",placeholder:"",prefix:"",suffix:"",status:"",defaultValue:"",minLength:"",maxLength:"",minValue:"",maxValue:"",labelField:"",valueField:"",optionLabel:"",optionValue:"",dataInterface:"",multiple:"",cascade:"",showPath:"",minCount:"",maxCount:"",uploadUrl:"",showAlpha:"",timeFormat:"",hour12:"12",dateType:"",inputType:"",formDirection:"",leftAlign:"",topAlign:"",settingAlign:"",pageAlign:"",name:"",desc:""},setting:{title:""},validation:"",componentConfig:"",input:{label:"",types:{text:"",textarea:"",password:""}},inputNumber:{label:""},select:{label:"",configDesc:""},radio:{label:"",configDesc:""},checkbox:{label:"",configDesc:""},switch:{label:""},date:{label:"",placeholder:"",dateType:"",date:"",daterange:"",datetime:"",datetimerange:"",month:"",monthrange:"",year:"",yearrange:"",quarter:"",quarterrange:"",week:""},time:{label:"",placeholder:"",timeFormat:"",use12Hours:"12"},color:{label:"",showAlpha:""},cascader:{label:"",desc:" JSON ",configDesc:"",optionDesc:"JSON ",optionsDescription:"",cascade:"",showPath:""},cascaderAsync:{label:"",dataApi:"",apiPlaceholder:"",cascade:"",showPath:""},dynamicInput:{label:""},editor:{label:"",placeholder:"",uploadUrlDesc:""},aiEditor:{label:"",uploadUrl:"",uploadUrlFeedback:""},sider:{name:"",step:"",min:"",max:""},dynamicTags:{name:"",max:""},mentionAsync:{name:"",clearable:"",path:"",labelField:"",valueField:""},region:{name:"",Path:"",labelField:"",valueField:""},selectAsync:{name:"",pagination:"",path:"",labelField:"",valueField:"",imageField:"",descField:""},transferAsync:{name:""},treeSelect:{name:""},treeSelectAsync:{name:"",path:"",labelField:"",keyField:""},tree:{disabled:""},groups:{form:"",select:"",async:""},main:{label:"",categories:{form:"",select:"",async:""},actions:{jsonOutput:"Json ",save:""}}}},Gz={table:{exportSuccess:"",exportProgress:", ...",exportFailed:"",exportSuccessContent:" {count} ",exportProgressContent:" {page} ",exportFailedContent:"{error}",importSuccess:"",importProgress:", ...",importFailed:"",importSuccessContent:" {count} ",importProgressContent:"{processed} / {total} ",importFailedContent:"{error}",saveSuccess:"",copySuccess:"",copyFailed:""},download:{failed:""}},Xz={400:{title:"400",desc:""},401:{title:"401",desc:""},403:{title:"403",desc:""},404:{title:"404",desc:""},500:{title:"500",desc:""},empty:{title:"",desc:""},loading:{title:"",desc:"..."},login:{success:"",error:"",placeholder:{username:"",password:""},buttons:{login:""}}},qz={"zh-CN":"","en-US":"English","ja-JP":"","ko-KR":"","ru-RU":""},Yz={common:Wz,components:Vz,hooks:Gz,pages:Xz,locale:qz};function Kz(t){return t.replace(/-(\w)/g,(e,n)=>n?n.toUpperCase():"")}function L2(t){return t.charAt(0).toUpperCase()+t.slice(1)}function I2(t){return t.replace(/(?:^|\B)([A-Z])/g,"-$1").toLowerCase()}var N2=["Webkit","Moz","ms"];function Zz(t){const e={};function n(r){const i=e[r];if(i)return i;let a=Kz(r);if(a!=="filter"&&a in t)return e[r]=I2(a);a=L2(a);for(let o=0;o<N2.length;o++){const s=`${N2[o]}${a}`;if(s in t)return e[r]=I2(L2(s))}return r}return({entries:r})=>r.forEach(i=>{i[0].startsWith("--")||(i[0]=n(i[0]))})}function Jz(t){return t.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")}async function Qz(t={}){if(typeof window>"u"){console.warn("@unocss/runtime been used in non-browser environment, skipped.");return}const e=window,n=window.document,r=()=>n.documentElement,i=e.__unocss||{},a=Object.assign({},t,i.runtime),o=a.defaults||{},s=a.cloakAttribute??"un-cloak";a.autoPrefix&&(o.postprocess=Pt(o.postprocess)).unshift(Zz(n.createElement("div").style)),a.configResolved?.(i,o);const l=await UM(i,o),c=C=>a.inject?a.inject(C):r().prepend(C),u=()=>a.rootElement?a.rootElement():n.body,d=new Map;let f=!0;const h=new Set;let g,m,v=[];const b=()=>new Promise(C=>{v.push(C),m!=null&&clearTimeout(m),m=setTimeout(()=>w().then(()=>{const E=v;v=[],E.forEach(S=>S())}),0)});function y(C,E=!1){if(C.nodeType!==1)return;const S=C;S.hasAttribute(s)&&S.removeAttribute(s),E&&S.querySelectorAll(`[${s}]`).forEach(F=>{F.removeAttribute(s)})}function x(C,E){let S=d.get(C);if(!S)if(S=n.createElement("style"),S.setAttribute("data-unocss-runtime-layer",C),d.set(C,S),E==null)c(S);else{const F=x(E),D=F.parentNode;D?D.insertBefore(S,F.nextSibling):c(S)}return S}async function w(){const C=[...h],E=await l.generate(C);return E.layers.reduce((F,D)=>(x(D,F).innerHTML=E.getLayer(D)??"",D),void 0),C.filter(F=>!E.matched.has(F)).forEach(F=>h.delete(F)),{...E,getStyleElement:F=>d.get(F),getStyleElements:()=>d}}async function _(C){const E=h.size;await l.applyExtractors(C,void 0,h),E!==h.size&&await b()}async function k(C=u()){const E=C&&C.outerHTML;E&&(await _(`${E} ${Jz(E)}`),y(r()),y(C,!0))}const R=new MutationObserver(C=>{f||C.forEach(async E=>{if(E.target.nodeType!==1)return;const S=E.target;for(const F of d)if(S===F[1])return;if(E.type==="childList")E.addedNodes.forEach(async F=>{if(F.nodeType!==1)return;const D=F;g&&!g(D)||(await _(D.outerHTML),y(D))});else{if(g&&!g(S))return;if(E.attributeName!==s){const F=Array.from(S.attributes).map(P=>P.value?`${P.name}="${P.value}"`:P.name).join(" "),D=`<${S.tagName.toLowerCase()} ${F}>`;await _(D)}y(S)}})});let A=!1;function T(){if(A)return;const C=a.observer?.target?a.observer.target():u();C&&(R.observe(C,{childList:!0,subtree:!0,attributes:!0,attributeFilter:a.observer?.attributeFilter}),A=!0)}function O(){a.bypassDefined&&eH(l.blocked),k(),T()}function M(){n.readyState==="loading"?e.addEventListener("DOMContentLoaded",O):O()}const $=e.__unocss_runtime=e.__unocss_runtime={version:l.version,uno:l,async extract(C){Ht(C)||(C.forEach(E=>h.add(E)),C=""),await _(C)},extractAll:k,inspect(C){g=C},toggleObserver(C){C===void 0?f=!f:f=!!C,!A&&!f&&M()},update:w,presets:e.__unocss_runtime?.presets??{}};a.ready?.($)!==!1&&(f=!1,M())}function eH(t=new Set){for(let e=0;e<document.styleSheets.length;e++){const n=document.styleSheets[e];let r;try{if(r=n.cssRules||n.rules,!r)continue;Array.from(r).flatMap(i=>i.selectorText?.split(/,/g)||[]).forEach(i=>{i&&(i=i.trim(),i.startsWith(".")&&(i=i.slice(1)),t.add(i))})}catch{continue}}return t}const tH={install(t){t.component("DuxAiEditor",s0),t.component("DuxCard",hr),t.component("DuxDrawerPage",Za),t.component("DuxDrawApps",a0),t.component("DuxDrawAuth",o0),t.component("DuxDrawEmpty",dh),t.component("DuxDrawEmptyForm",vc),t.component("DuxDrawError",a4),t.component("DuxDynamicData",t0),t.component("DuxDynamicSelect",j6),t.component("DuxFormItem",ce),t.component("DuxFormLayout",Bi),t.component("DuxModalForm",o4),t.component("DuxPageForm",s4),t.component("DuxSettingForm",l4),t.component("DuxListLayout",Qo),t.component("DuxTableFilter",Sh),t.component("DuxTableLayout",Ed),t.component("DuxTableTools",Eh),t.component("DuxCardPage",R4),t.component("DuxListPage",$4),t.component("DuxMedia",sc),t.component("DuxModal",Jm),t.component("DuxPanelAlert",F4),t.component("DuxPanelCard",P4),t.component("DuxBlockEmpty",e0),t.component("DuxTablePage",j4),t.component("DuxLevel",l0),t.component("DuxImageCrop",P6),t.component("DuxImageCropModal",Qm),t.component("DuxModalPage",bs),t.component("DuxModalTab",t4),t.component("DuxFileUpload",U4),t.component("DuxImageUpload",Th),t.component("DuxTreeFilter",B4),t.component("DuxIconPicker",M4),t.component("DuxCollapsePanel",D4),t.component("DuxCodeEditor",F6),t.component("DuxDashboardHello",D6),t.component("DuxDashboardHelloBig",L6),t.component("DuxDashboardQuick",N6),t.component("DuxCarousel",_5),t.component("DuxWidgetConnect",W4),t.component("DuxChart",Zm),t.component("DuxSelectCard",I4),t.component("DuxStatsStore",x5),t.component("DuxStatsStoreItem",w5),t.component("DuxStatsRealTime",N4),t.component("DuxStatsNumber",h0),t.component("DuxAuthLayout",Y4),t.component("DuxLayout",K4),t.component("DuxPage403",J4),t.component("DuxPage404",Km),t.component("DuxPage500",Q4),t.component("DuxPageEmpty",u0),t.component("DuxPageStatus",ao),t.component("DuxLoginPage",Z4),t.component("DuxPage",so),t.component("DuxMenuMain",Ah),t.component("DuxMobileMenu",m0),t.component("DuxMenuCmd",g0),t.component("DuxApp",y5)}};function nH(){return n8(),Qz({defaults:t8(!1),bypassDefined:!0}),{install(t){t.component("v-chart",pp),t.use(tH)}}}var Bu={exports:{}},Fs={},ep={},tp={},j2;function Qe(){return j2||(j2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof I0<"u"?I0:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.20",isBrowser:n(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return t.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var i;return(i=t.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(i){t.glob.Konva=i}};const r=i=>{t.Konva[i.prototype.getClassName()]=i};t._registerNode=r,t.Konva._injectGlobal(t.Konva)}(tp)),tp}var np={},B2;function Bt(){return B2||(B2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Qe();class n{constructor(w=[1,0,0,1,0,0]){this.dirty=!1,this.m=w&&w.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(w){w.m[0]=this.m[0],w.m[1]=this.m[1],w.m[2]=this.m[2],w.m[3]=this.m[3],w.m[4]=this.m[4],w.m[5]=this.m[5]}point(w){const _=this.m;return{x:_[0]*w.x+_[2]*w.y+_[4],y:_[1]*w.x+_[3]*w.y+_[5]}}translate(w,_){return this.m[4]+=this.m[0]*w+this.m[2]*_,this.m[5]+=this.m[1]*w+this.m[3]*_,this}scale(w,_){return this.m[0]*=w,this.m[1]*=w,this.m[2]*=_,this.m[3]*=_,this}rotate(w){const _=Math.cos(w),k=Math.sin(w),R=this.m[0]*_+this.m[2]*k,A=this.m[1]*_+this.m[3]*k,T=this.m[0]*-k+this.m[2]*_,O=this.m[1]*-k+this.m[3]*_;return this.m[0]=R,this.m[1]=A,this.m[2]=T,this.m[3]=O,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(w,_){const k=this.m[0]+this.m[2]*_,R=this.m[1]+this.m[3]*_,A=this.m[2]+this.m[0]*w,T=this.m[3]+this.m[1]*w;return this.m[0]=k,this.m[1]=R,this.m[2]=A,this.m[3]=T,this}multiply(w){const _=this.m[0]*w.m[0]+this.m[2]*w.m[1],k=this.m[1]*w.m[0]+this.m[3]*w.m[1],R=this.m[0]*w.m[2]+this.m[2]*w.m[3],A=this.m[1]*w.m[2]+this.m[3]*w.m[3],T=this.m[0]*w.m[4]+this.m[2]*w.m[5]+this.m[4],O=this.m[1]*w.m[4]+this.m[3]*w.m[5]+this.m[5];return this.m[0]=_,this.m[1]=k,this.m[2]=R,this.m[3]=A,this.m[4]=T,this.m[5]=O,this}invert(){const w=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),_=this.m[3]*w,k=-this.m[1]*w,R=-this.m[2]*w,A=this.m[0]*w,T=w*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),O=w*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=_,this.m[1]=k,this.m[2]=R,this.m[3]=A,this.m[4]=T,this.m[5]=O,this}getMatrix(){return this.m}decompose(){const w=this.m[0],_=this.m[1],k=this.m[2],R=this.m[3],A=this.m[4],T=this.m[5],O=w*R-_*k,M={x:A,y:T,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(w!=0||_!=0){const $=Math.sqrt(w*w+_*_);M.rotation=_>0?Math.acos(w/$):-Math.acos(w/$),M.scaleX=$,M.scaleY=O/$,M.skewX=(w*k+_*R)/O,M.skewY=0}else if(k!=0||R!=0){const $=Math.sqrt(k*k+R*R);M.rotation=Math.PI/2-(R>0?Math.acos(-k/$):-Math.acos(k/$)),M.scaleX=O/$,M.scaleY=$,M.skewX=0,M.skewY=(w*k+_*R)/O}return M.rotation=t.Util._getRotation(M.rotation),M}}t.Transform=n;const r="[object Array]",i="[object Number]",a="[object String]",o="[object Boolean]",s=Math.PI/180,l=180/Math.PI,c="#",u="",d="0",f="Konva warning: ",h="Konva error: ",g="rgb(",m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},v=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let b=[];const y=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(x){setTimeout(x,60)};t.Util={_isElement(x){return!!(x&&x.nodeType==1)},_isFunction(x){return!!(x&&x.constructor&&x.call&&x.apply)},_isPlainObject(x){return!!x&&x.constructor===Object},_isArray(x){return Object.prototype.toString.call(x)===r},_isNumber(x){return Object.prototype.toString.call(x)===i&&!isNaN(x)&&isFinite(x)},_isString(x){return Object.prototype.toString.call(x)===a},_isBoolean(x){return Object.prototype.toString.call(x)===o},isObject(x){return x instanceof Object},isValidSelector(x){if(typeof x!="string")return!1;const w=x[0];return w==="#"||w==="."||w===w.toUpperCase()},_sign(x){return x===0||x>0?1:-1},requestAnimFrame(x){b.push(x),b.length===1&&y(function(){const w=b;b=[],w.forEach(function(_){_()})})},createCanvasElement(){const x=document.createElement("canvas");try{x.style=x.style||{}}catch{}return x},createImageElement(){return document.createElement("img")},_isInDocument(x){for(;x=x.parentNode;)if(x==document)return!0;return!1},_urlToImage(x,w){const _=t.Util.createImageElement();_.onload=function(){w(_)},_.src=x},_rgbToHex(x,w,_){return((1<<24)+(x<<16)+(w<<8)+_).toString(16).slice(1)},_hexToRgb(x){x=x.replace(c,u);const w=parseInt(x,16);return{r:w>>16&255,g:w>>8&255,b:w&255}},getRandomColor(){let x=(Math.random()*16777215<<0).toString(16);for(;x.length<6;)x=d+x;return c+x},getRGB(x){let w;return x in m?(w=m[x],{r:w[0],g:w[1],b:w[2]}):x[0]===c?this._hexToRgb(x.substring(1)):x.substr(0,4)===g?(w=v.exec(x.replace(/ /g,"")),{r:parseInt(w[1],10),g:parseInt(w[2],10),b:parseInt(w[3],10)}):{r:0,g:0,b:0}},colorToRGBA(x){return x=x||"black",t.Util._namedColorToRBA(x)||t.Util._hex3ColorToRGBA(x)||t.Util._hex4ColorToRGBA(x)||t.Util._hex6ColorToRGBA(x)||t.Util._hex8ColorToRGBA(x)||t.Util._rgbColorToRGBA(x)||t.Util._rgbaColorToRGBA(x)||t.Util._hslColorToRGBA(x)},_namedColorToRBA(x){const w=m[x.toLowerCase()];return w?{r:w[0],g:w[1],b:w[2],a:1}:null},_rgbColorToRGBA(x){if(x.indexOf("rgb(")===0){x=x.match(/rgb\(([^)]+)\)/)[1];const w=x.split(/ *, */).map(Number);return{r:w[0],g:w[1],b:w[2],a:1}}},_rgbaColorToRGBA(x){if(x.indexOf("rgba(")===0){x=x.match(/rgba\(([^)]+)\)/)[1];const w=x.split(/ *, */).map((_,k)=>_.slice(-1)==="%"?k===3?parseInt(_)/100:parseInt(_)/100*255:Number(_));return{r:w[0],g:w[1],b:w[2],a:w[3]}}},_hex8ColorToRGBA(x){if(x[0]==="#"&&x.length===9)return{r:parseInt(x.slice(1,3),16),g:parseInt(x.slice(3,5),16),b:parseInt(x.slice(5,7),16),a:parseInt(x.slice(7,9),16)/255}},_hex6ColorToRGBA(x){if(x[0]==="#"&&x.length===7)return{r:parseInt(x.slice(1,3),16),g:parseInt(x.slice(3,5),16),b:parseInt(x.slice(5,7),16),a:1}},_hex4ColorToRGBA(x){if(x[0]==="#"&&x.length===5)return{r:parseInt(x[1]+x[1],16),g:parseInt(x[2]+x[2],16),b:parseInt(x[3]+x[3],16),a:parseInt(x[4]+x[4],16)/255}},_hex3ColorToRGBA(x){if(x[0]==="#"&&x.length===4)return{r:parseInt(x[1]+x[1],16),g:parseInt(x[2]+x[2],16),b:parseInt(x[3]+x[3],16),a:1}},_hslColorToRGBA(x){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(x)){const[w,..._]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(x),k=Number(_[0])/360,R=Number(_[1])/100,A=Number(_[2])/100;let T,O,M;if(R===0)return M=A*255,{r:Math.round(M),g:Math.round(M),b:Math.round(M),a:1};A<.5?T=A*(1+R):T=A+R-A*R;const $=2*A-T,C=[0,0,0];for(let E=0;E<3;E++)O=k+1/3*-(E-1),O<0&&O++,O>1&&O--,6*O<1?M=$+(T-$)*6*O:2*O<1?M=T:3*O<2?M=$+(T-$)*(2/3-O)*6:M=$,C[E]=M*255;return{r:Math.round(C[0]),g:Math.round(C[1]),b:Math.round(C[2]),a:1}}},haveIntersection(x,w){return!(w.x>x.x+x.width||w.x+w.width<x.x||w.y>x.y+x.height||w.y+w.height<x.y)},cloneObject(x){const w={};for(const _ in x)this._isPlainObject(x[_])?w[_]=this.cloneObject(x[_]):this._isArray(x[_])?w[_]=this.cloneArray(x[_]):w[_]=x[_];return w},cloneArray(x){return x.slice(0)},degToRad(x){return x*s},radToDeg(x){return x*l},_degToRad(x){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(x)},_radToDeg(x){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(x)},_getRotation(x){return e.Konva.angleDeg?t.Util.radToDeg(x):x},_capitalize(x){return x.charAt(0).toUpperCase()+x.slice(1)},throw(x){throw new Error(h+x)},error(x){console.error(h+x)},warn(x){e.Konva.showWarnings&&console.warn(f+x)},each(x,w){for(const _ in x)w(_,x[_])},_inRange(x,w,_){return w<=x&&x<_},_getProjectionToSegment(x,w,_,k,R,A){let T,O,M;const $=(x-_)*(x-_)+(w-k)*(w-k);if($==0)T=x,O=w,M=(R-_)*(R-_)+(A-k)*(A-k);else{const C=((R-x)*(_-x)+(A-w)*(k-w))/$;C<0?(T=x,O=w,M=(x-R)*(x-R)+(w-A)*(w-A)):C>1?(T=_,O=k,M=(_-R)*(_-R)+(k-A)*(k-A)):(T=x+C*(_-x),O=w+C*(k-w),M=(T-R)*(T-R)+(O-A)*(O-A))}return[T,O,M]},_getProjectionToLine(x,w,_){const k=t.Util.cloneObject(x);let R=Number.MAX_VALUE;return w.forEach(function(A,T){if(!_&&T===w.length-1)return;const O=w[(T+1)%w.length],M=t.Util._getProjectionToSegment(A.x,A.y,O.x,O.y,x.x,x.y),$=M[0],C=M[1],E=M[2];E<R&&(k.x=$,k.y=C,R=E)}),k},_prepareArrayForTween(x,w,_){const k=[],R=[];if(x.length>w.length){const T=w;w=x,x=T}for(let T=0;T<x.length;T+=2)k.push({x:x[T],y:x[T+1]});for(let T=0;T<w.length;T+=2)R.push({x:w[T],y:w[T+1]});const A=[];return R.forEach(function(T){const O=t.Util._getProjectionToLine(T,k,_);A.push(O.x),A.push(O.y)}),A},_prepareToStringify(x){let w;x.visitedByCircularReferenceRemoval=!0;for(const _ in x)if(x.hasOwnProperty(_)&&x[_]&&typeof x[_]=="object"){if(w=Object.getOwnPropertyDescriptor(x,_),x[_].visitedByCircularReferenceRemoval||t.Util._isElement(x[_]))if(w.configurable)delete x[_];else return null;else if(t.Util._prepareToStringify(x[_])===null)if(w.configurable)delete x[_];else return null}return delete x.visitedByCircularReferenceRemoval,x},_assign(x,w){for(const _ in w)x[_]=w[_];return x},_getFirstPointerId(x){return x.touches?x.changedTouches[0].identifier:x.pointerId||999},releaseCanvas(...x){e.Konva.releaseCanvasOnDestroy&&x.forEach(w=>{w.width=0,w.height=0})},drawRoundedRectPath(x,w,_,k){let R=0,A=0,T=0,O=0;typeof k=="number"?R=A=T=O=Math.min(k,w/2,_/2):(R=Math.min(k[0]||0,w/2,_/2),A=Math.min(k[1]||0,w/2,_/2),O=Math.min(k[2]||0,w/2,_/2),T=Math.min(k[3]||0,w/2,_/2)),x.moveTo(R,0),x.lineTo(w-A,0),x.arc(w-A,A,A,Math.PI*3/2,0,!1),x.lineTo(w,_-O),x.arc(w-O,_-O,O,0,Math.PI/2,!1),x.lineTo(T,_),x.arc(T,_-T,T,Math.PI/2,Math.PI,!1),x.lineTo(0,R),x.arc(R,R,R,Math.PI,Math.PI*3/2,!1)}}}(np)),np}var Ps={},rp={},Hn={},U2;function ot(){if(U2)return Hn;U2=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.RGBComponent=r,Hn.alphaComponent=i,Hn.getNumberValidator=a,Hn.getNumberOrArrayOfNumbersValidator=o,Hn.getNumberOrAutoValidator=s,Hn.getStringValidator=l,Hn.getStringOrGradientValidator=c,Hn.getFunctionValidator=u,Hn.getNumberArrayValidator=d,Hn.getBooleanValidator=f,Hn.getComponentValidator=h;const t=Qe(),e=Bt();function n(g){return e.Util._isString(g)?'"'+g+'"':Object.prototype.toString.call(g)==="[object Number]"||e.Util._isBoolean(g)?g:Object.prototype.toString.call(g)}function r(g){return g>255?255:g<0?0:Math.round(g)}function i(g){return g>1?1:g<1e-4?1e-4:g}function a(){if(t.Konva.isUnminified)return function(g,m){return e.Util._isNumber(g)||e.Util.warn(n(g)+' is a not valid value for "'+m+'" attribute. The value should be a number.'),g}}function o(g){if(t.Konva.isUnminified)return function(m,v){let b=e.Util._isNumber(m),y=e.Util._isArray(m)&&m.length==g;return!b&&!y&&e.Util.warn(n(m)+' is a not valid value for "'+v+'" attribute. The value should be a number or Array<number>('+g+")"),m}}function s(){if(t.Konva.isUnminified)return function(g,m){var v=e.Util._isNumber(g),b=g==="auto";return v||b||e.Util.warn(n(g)+' is a not valid value for "'+m+'" attribute. The value should be a number or "auto".'),g}}function l(){if(t.Konva.isUnminified)return function(g,m){return e.Util._isString(g)||e.Util.warn(n(g)+' is a not valid value for "'+m+'" attribute. The value should be a string.'),g}}function c(){if(t.Konva.isUnminified)return function(g,m){const v=e.Util._isString(g),b=Object.prototype.toString.call(g)==="[object CanvasGradient]"||g&&g.addColorStop;return v||b||e.Util.warn(n(g)+' is a not valid value for "'+m+'" attribute. The value should be a string or a native gradient.'),g}}function u(){if(t.Konva.isUnminified)return function(g,m){return e.Util._isFunction(g)||e.Util.warn(n(g)+' is a not valid value for "'+m+'" attribute. The value should be a function.'),g}}function d(){if(t.Konva.isUnminified)return function(g,m){const v=Int8Array?Object.getPrototypeOf(Int8Array):null;return v&&g instanceof v||(e.Util._isArray(g)?g.forEach(function(b){e.Util._isNumber(b)||e.Util.warn('"'+m+'" attribute has non numeric element '+b+". Make sure that all elements are numbers.")}):e.Util.warn(n(g)+' is a not valid value for "'+m+'" attribute. The value should be a array of numbers.')),g}}function f(){if(t.Konva.isUnminified)return function(g,m){var v=g===!0||g===!1;return v||e.Util.warn(n(g)+' is a not valid value for "'+m+'" attribute. The value should be a boolean.'),g}}function h(g){if(t.Konva.isUnminified)return function(m,v){return m==null||e.Util.isObject(m)||e.Util.warn(n(m)+' is a not valid value for "'+v+'" attribute. The value should be an object with properties '+g),m}}return Hn}var z2;function it(){return z2||(z2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Bt(),n=ot(),r="get",i="set";t.Factory={addGetterSetter(a,o,s,l,c){t.Factory.addGetter(a,o,s),t.Factory.addSetter(a,o,l,c),t.Factory.addOverloadedGetterSetter(a,o)},addGetter(a,o,s){var l=r+e.Util._capitalize(o);a.prototype[l]=a.prototype[l]||function(){const c=this.attrs[o];return c===void 0?s:c}},addSetter(a,o,s,l){var c=i+e.Util._capitalize(o);a.prototype[c]||t.Factory.overWriteSetter(a,o,s,l)},overWriteSetter(a,o,s,l){var c=i+e.Util._capitalize(o);a.prototype[c]=function(u){return s&&u!==void 0&&u!==null&&(u=s.call(this,u,o)),this._setAttr(o,u),l&&l.call(this),this}},addComponentsGetterSetter(a,o,s,l,c){const u=s.length,d=e.Util._capitalize,f=r+d(o),h=i+d(o);a.prototype[f]=function(){const m={};for(let v=0;v<u;v++){const b=s[v];m[b]=this.getAttr(o+d(b))}return m};const g=(0,n.getComponentValidator)(s);a.prototype[h]=function(m){const v=this.attrs[o];l&&(m=l.call(this,m,o)),g&&g.call(this,m,o);for(const b in m)m.hasOwnProperty(b)&&this._setAttr(o+d(b),m[b]);return m||s.forEach(b=>{this._setAttr(o+d(b),void 0)}),this._fireChangeEvent(o,v,m),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(a,o)},addOverloadedGetterSetter(a,o){var s=e.Util._capitalize(o),l=i+s,c=r+s;a.prototype[o]=function(){return arguments.length?(this[l](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(a,o,s,l){e.Util.error("Adding deprecated "+o);const c=r+e.Util._capitalize(o),u=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";a.prototype[c]=function(){e.Util.error(u);const d=this.attrs[o];return d===void 0?s:d},t.Factory.addSetter(a,o,l,function(){e.Util.error(u)}),t.Factory.addOverloadedGetterSetter(a,o)},backCompat(a,o){e.Util.each(o,function(s,l){const c=a.prototype[l],u=r+e.Util._capitalize(s),d=i+e.Util._capitalize(s);function f(){c.apply(this,arguments),e.Util.error('"'+s+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}a.prototype[s]=f,a.prototype[u]=f,a.prototype[d]=f})},afterSetFilter(){this._filterUpToDate=!1}}}(rp)),rp}var wi={},_i={},H2;function r8(){if(H2)return _i;H2=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.HitContext=_i.SceneContext=_i.Context=void 0;const t=Bt(),e=Qe();function n(b){const y=[],x=b.length,w=t.Util;for(let _=0;_<x;_++){let k=b[_];w._isNumber(k)?k=Math.round(k*1e3)/1e3:w._isString(k)||(k=k+""),y.push(k)}return y}const r=",",i="(",a=")",o="([",s="])",l=";",c="()",u="=",d=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],f=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],h=100;let g=class{constructor(y){this.canvas=y,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(y){y.fillEnabled()&&this._fill(y)}_fill(y){}strokeShape(y){y.hasStroke()&&this._stroke(y)}_stroke(y){}fillStrokeShape(y){y.attrs.fillAfterStrokeEnabled?(this.strokeShape(y),this.fillShape(y)):(this.fillShape(y),this.strokeShape(y))}getTrace(y,x){let w=this.traceArr,_=w.length,k="",R,A,T,O;for(R=0;R<_;R++)A=w[R],T=A.method,T?(O=A.args,k+=T,y?k+=c:t.Util._isArray(O[0])?k+=o+O.join(r)+s:(x&&(O=O.map(M=>typeof M=="number"?Math.floor(M):M)),k+=i+O.join(r)+a)):(k+=A.property,y||(k+=u+A.val)),k+=l;return k}clearTrace(){this.traceArr=[]}_trace(y){let x=this.traceArr,w;x.push(y),w=x.length,w>=h&&x.shift()}reset(){const y=this.getCanvas().getPixelRatio();this.setTransform(1*y,0,0,1*y,0,0)}getCanvas(){return this.canvas}clear(y){const x=this.getCanvas();y?this.clearRect(y.x||0,y.y||0,y.width||0,y.height||0):this.clearRect(0,0,x.getWidth()/x.pixelRatio,x.getHeight()/x.pixelRatio)}_applyLineCap(y){const x=y.attrs.lineCap;x&&this.setAttr("lineCap",x)}_applyOpacity(y){const x=y.getAbsoluteOpacity();x!==1&&this.setAttr("globalAlpha",x)}_applyLineJoin(y){const x=y.attrs.lineJoin;x&&this.setAttr("lineJoin",x)}setAttr(y,x){this._context[y]=x}arc(y,x,w,_,k,R){this._context.arc(y,x,w,_,k,R)}arcTo(y,x,w,_,k){this._context.arcTo(y,x,w,_,k)}beginPath(){this._context.beginPath()}bezierCurveTo(y,x,w,_,k,R){this._context.bezierCurveTo(y,x,w,_,k,R)}clearRect(y,x,w,_){this._context.clearRect(y,x,w,_)}clip(...y){this._context.clip.apply(this._context,y)}closePath(){this._context.closePath()}createImageData(y,x){const w=arguments;if(w.length===2)return this._context.createImageData(y,x);if(w.length===1)return this._context.createImageData(y)}createLinearGradient(y,x,w,_){return this._context.createLinearGradient(y,x,w,_)}createPattern(y,x){return this._context.createPattern(y,x)}createRadialGradient(y,x,w,_,k,R){return this._context.createRadialGradient(y,x,w,_,k,R)}drawImage(y,x,w,_,k,R,A,T,O){const M=arguments,$=this._context;M.length===3?$.drawImage(y,x,w):M.length===5?$.drawImage(y,x,w,_,k):M.length===9&&$.drawImage(y,x,w,_,k,R,A,T,O)}ellipse(y,x,w,_,k,R,A,T){this._context.ellipse(y,x,w,_,k,R,A,T)}isPointInPath(y,x,w,_){return w?this._context.isPointInPath(w,y,x,_):this._context.isPointInPath(y,x,_)}fill(...y){this._context.fill.apply(this._context,y)}fillRect(y,x,w,_){this._context.fillRect(y,x,w,_)}strokeRect(y,x,w,_){this._context.strokeRect(y,x,w,_)}fillText(y,x,w,_){_?this._context.fillText(y,x,w,_):this._context.fillText(y,x,w)}measureText(y){return this._context.measureText(y)}getImageData(y,x,w,_){return this._context.getImageData(y,x,w,_)}lineTo(y,x){this._context.lineTo(y,x)}moveTo(y,x){this._context.moveTo(y,x)}rect(y,x,w,_){this._context.rect(y,x,w,_)}roundRect(y,x,w,_,k){this._context.roundRect(y,x,w,_,k)}putImageData(y,x,w){this._context.putImageData(y,x,w)}quadraticCurveTo(y,x,w,_){this._context.quadraticCurveTo(y,x,w,_)}restore(){this._context.restore()}rotate(y){this._context.rotate(y)}save(){this._context.save()}scale(y,x){this._context.scale(y,x)}setLineDash(y){this._context.setLineDash?this._context.setLineDash(y):"mozDash"in this._context?this._context.mozDash=y:"webkitLineDash"in this._context&&(this._context.webkitLineDash=y)}getLineDash(){return this._context.getLineDash()}setTransform(y,x,w,_,k,R){this._context.setTransform(y,x,w,_,k,R)}stroke(y){y?this._context.stroke(y):this._context.stroke()}strokeText(y,x,w,_){this._context.strokeText(y,x,w,_)}transform(y,x,w,_,k,R){this._context.transform(y,x,w,_,k,R)}translate(y,x){this._context.translate(y,x)}_enableTrace(){let y=this,x=d.length,w=this.setAttr,_,k;const R=function(A){let T=y[A],O;y[A]=function(){return k=n(Array.prototype.slice.call(arguments,0)),O=T.apply(y,arguments),y._trace({method:A,args:k}),O}};for(_=0;_<x;_++)R(d[_]);y.setAttr=function(){w.apply(y,arguments);const A=arguments[0];let T=arguments[1];(A==="shadowOffsetX"||A==="shadowOffsetY"||A==="shadowBlur")&&(T=T/this.canvas.getPixelRatio()),y._trace({property:A,val:T})}}_applyGlobalCompositeOperation(y){const x=y.attrs.globalCompositeOperation;!x||x==="source-over"||this.setAttr("globalCompositeOperation",x)}};_i.Context=g,f.forEach(function(b){Object.defineProperty(g.prototype,b,{get(){return this._context[b]},set(y){this._context[b]=y}})});class m extends g{constructor(y,{willReadFrequently:x=!1}={}){super(y),this._context=y._canvas.getContext("2d",{willReadFrequently:x})}_fillColor(y){const x=y.fill();this.setAttr("fillStyle",x),y._fillFunc(this)}_fillPattern(y){this.setAttr("fillStyle",y._getFillPattern()),y._fillFunc(this)}_fillLinearGradient(y){const x=y._getLinearGradient();x&&(this.setAttr("fillStyle",x),y._fillFunc(this))}_fillRadialGradient(y){const x=y._getRadialGradient();x&&(this.setAttr("fillStyle",x),y._fillFunc(this))}_fill(y){const x=y.fill(),w=y.getFillPriority();if(x&&w==="color"){this._fillColor(y);return}const _=y.getFillPatternImage();if(_&&w==="pattern"){this._fillPattern(y);return}const k=y.getFillLinearGradientColorStops();if(k&&w==="linear-gradient"){this._fillLinearGradient(y);return}const R=y.getFillRadialGradientColorStops();if(R&&w==="radial-gradient"){this._fillRadialGradient(y);return}x?this._fillColor(y):_?this._fillPattern(y):k?this._fillLinearGradient(y):R&&this._fillRadialGradient(y)}_strokeLinearGradient(y){const x=y.getStrokeLinearGradientStartPoint(),w=y.getStrokeLinearGradientEndPoint(),_=y.getStrokeLinearGradientColorStops(),k=this.createLinearGradient(x.x,x.y,w.x,w.y);if(_){for(let R=0;R<_.length;R+=2)k.addColorStop(_[R],_[R+1]);this.setAttr("strokeStyle",k)}}_stroke(y){const x=y.dash(),w=y.getStrokeScaleEnabled();if(y.hasStroke()){if(!w){this.save();const k=this.getCanvas().getPixelRatio();this.setTransform(k,0,0,k,0,0)}this._applyLineCap(y),x&&y.dashEnabled()&&(this.setLineDash(x),this.setAttr("lineDashOffset",y.dashOffset())),this.setAttr("lineWidth",y.strokeWidth()),y.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),y.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(y):this.setAttr("strokeStyle",y.stroke()),y._strokeFunc(this),w||this.restore()}}_applyShadow(y){var x,w,_;const k=(x=y.getShadowRGBA())!==null&&x!==void 0?x:"black",R=(w=y.getShadowBlur())!==null&&w!==void 0?w:5,A=(_=y.getShadowOffset())!==null&&_!==void 0?_:{x:0,y:0},T=y.getAbsoluteScale(),O=this.canvas.getPixelRatio(),M=T.x*O,$=T.y*O;this.setAttr("shadowColor",k),this.setAttr("shadowBlur",R*Math.min(Math.abs(M),Math.abs($))),this.setAttr("shadowOffsetX",A.x*M),this.setAttr("shadowOffsetY",A.y*$)}}_i.SceneContext=m;class v extends g{constructor(y){super(y),this._context=y._canvas.getContext("2d",{willReadFrequently:!0})}_fill(y){this.save(),this.setAttr("fillStyle",y.colorKey),y._fillFuncHit(this),this.restore()}strokeShape(y){y.hasHitStroke()&&this._stroke(y)}_stroke(y){if(y.hasHitStroke()){const x=y.getStrokeScaleEnabled();if(!x){this.save();const k=this.getCanvas().getPixelRatio();this.setTransform(k,0,0,k,0,0)}this._applyLineCap(y);const w=y.hitStrokeWidth(),_=w==="auto"?y.strokeWidth():w;this.setAttr("lineWidth",_),this.setAttr("strokeStyle",y.colorKey),y._strokeFuncHit(this),x||this.restore()}}}return _i.HitContext=v,_i}var W2;function Oh(){if(W2)return wi;W2=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.HitCanvas=wi.SceneCanvas=wi.Canvas=void 0;const t=Bt(),e=r8(),n=Qe();let r;function i(){if(r)return r;const l=t.Util.createCanvasElement(),c=l.getContext("2d");return r=function(){const u=n.Konva._global.devicePixelRatio||1,d=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;return u/d}(),t.Util.releaseCanvas(l),r}let a=class{constructor(c){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const d=(c||{}).pixelRatio||n.Konva.pixelRatio||i();this.pixelRatio=d,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(c){const u=this.pixelRatio;this.pixelRatio=c,this.setSize(this.getWidth()/u,this.getHeight()/u)}setWidth(c){this.width=this._canvas.width=c*this.pixelRatio,this._canvas.style.width=c+"px";const u=this.pixelRatio;this.getContext()._context.scale(u,u)}setHeight(c){this.height=this._canvas.height=c*this.pixelRatio,this._canvas.style.height=c+"px";const u=this.pixelRatio;this.getContext()._context.scale(u,u)}getWidth(){return this.width}getHeight(){return this.height}setSize(c,u){this.setWidth(c||0),this.setHeight(u||0)}toDataURL(c,u){try{return this._canvas.toDataURL(c,u)}catch{try{return this._canvas.toDataURL()}catch(f){return t.Util.error("Unable to get data URL. "+f.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};wi.Canvas=a;class o extends a{constructor(c={width:0,height:0,willReadFrequently:!1}){super(c),this.context=new e.SceneContext(this,{willReadFrequently:c.willReadFrequently}),this.setSize(c.width,c.height)}}wi.SceneCanvas=o;class s extends a{constructor(c={width:0,height:0}){super(c),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(c.width,c.height)}}return wi.HitCanvas=s,wi}var ip={},V2;function v0(){return V2||(V2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Qe(),n=Bt();t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];t.DD._dragElements.forEach((a,o)=>{const{node:s}=a,l=s.getStage();l.setPointersPositions(r),a.pointerId===void 0&&(a.pointerId=n.Util._getFirstPointerId(r));const c=l._changedPointerPositions.find(u=>u.id===a.pointerId);if(c){if(a.dragStatus!=="dragging"){const u=s.dragDistance();if(Math.max(Math.abs(c.x-a.startPointerPos.x),Math.abs(c.y-a.startPointerPos.y))<u||(s.startDrag({evt:r}),!s.isDragging()))return}s._setDragPosition(r,a),i.push(s)}}),i.forEach(a=>{a.fire("dragmove",{type:"dragmove",target:a,evt:r},!0)})},_endDragBefore(r){const i=[];t.DD._dragElements.forEach(a=>{const{node:o}=a,s=o.getStage();if(r&&s.setPointersPositions(r),!s._changedPointerPositions.find(u=>u.id===a.pointerId))return;(a.dragStatus==="dragging"||a.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,a.dragStatus="stopped");const c=a.node.getLayer()||a.node instanceof e.Konva.Stage&&a.node;c&&i.indexOf(c)===-1&&i.push(c)}),i.forEach(a=>{a.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((i,a)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&t.DD._dragElements.delete(a)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))}(ip)),ip}var G2;function Zt(){if(G2)return Ps;G2=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.Node=void 0;const t=Bt(),e=it(),n=Oh(),r=Qe(),i=v0(),a=ot(),o="absoluteOpacity",s="allEventListeners",l="absoluteTransform",c="absoluteScale",u="canvas",d="Change",f="children",h="konva",g="listening",m="mouseenter",v="mouseleave",b="set",y="Shape",x=" ",w="stage",_="transform",k="Stage",R="visible",A=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(x);let T=1,O=class Pg{constructor(C){this._id=T++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(C),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(C){(C===_||C===l)&&this._cache.get(C)?this._cache.get(C).dirty=!0:C?this._cache.delete(C):this._cache.clear()}_getCache(C,E){let S=this._cache.get(C);return(S===void 0||(C===_||C===l)&&S.dirty===!0)&&(S=E.call(this),this._cache.set(C,S)),S}_calculate(C,E,S){if(!this._attachedDepsListeners.get(C)){const F=E.map(D=>D+"Change.konva").join(x);this.on(F,()=>{this._clearCache(C)}),this._attachedDepsListeners.set(C,!0)}return this._getCache(C,S)}_getCanvasCache(){return this._cache.get(u)}_clearSelfAndDescendantCache(C){this._clearCache(C),C===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(u)){const{scene:C,filter:E,hit:S}=this._cache.get(u);t.Util.releaseCanvas(C,E,S),this._cache.delete(u)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(C){const E=C||{};let S={};(E.x===void 0||E.y===void 0||E.width===void 0||E.height===void 0)&&(S=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let F=Math.ceil(E.width||S.width),D=Math.ceil(E.height||S.height),P=E.pixelRatio,L=E.x===void 0?Math.floor(S.x):E.x,N=E.y===void 0?Math.floor(S.y):E.y,W=E.offset||0,j=E.drawBorder||!1,U=E.hitCanvasPixelRatio||1;if(!F||!D){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const z=Math.abs(Math.round(S.x)-L)>.5?1:0,Q=Math.abs(Math.round(S.y)-N)>.5?1:0;F+=W*2+z,D+=W*2+Q,L-=W,N-=W;const K=new n.SceneCanvas({pixelRatio:P,width:F,height:D}),H=new n.SceneCanvas({pixelRatio:P,width:0,height:0,willReadFrequently:!0}),J=new n.HitCanvas({pixelRatio:U,width:F,height:D}),ne=K.getContext(),oe=J.getContext();return J.isCache=!0,K.isCache=!0,this._cache.delete(u),this._filterUpToDate=!1,E.imageSmoothingEnabled===!1&&(K.getContext()._context.imageSmoothingEnabled=!1,H.getContext()._context.imageSmoothingEnabled=!1),ne.save(),oe.save(),ne.translate(-L,-N),oe.translate(-L,-N),this._isUnderCache=!0,this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(c),this.drawScene(K,this),this.drawHit(J,this),this._isUnderCache=!1,ne.restore(),oe.restore(),j&&(ne.save(),ne.beginPath(),ne.rect(0,0,F,D),ne.closePath(),ne.setAttr("strokeStyle","red"),ne.setAttr("lineWidth",5),ne.stroke(),ne.restore()),this._cache.set(u,{scene:K,filter:H,hit:J,x:L,y:N}),this._requestDraw(),this}isCached(){return this._cache.has(u)}getClientRect(C){throw new Error('abstract "getClientRect" method call')}_transformedRect(C,E){const S=[{x:C.x,y:C.y},{x:C.x+C.width,y:C.y},{x:C.x+C.width,y:C.y+C.height},{x:C.x,y:C.y+C.height}];let F=1/0,D=1/0,P=-1/0,L=-1/0;const N=this.getAbsoluteTransform(E);return S.forEach(function(W){const j=N.point(W);F===void 0&&(F=P=j.x,D=L=j.y),F=Math.min(F,j.x),D=Math.min(D,j.y),P=Math.max(P,j.x),L=Math.max(L,j.y)}),{x:F,y:D,width:P-F,height:L-D}}_drawCachedSceneCanvas(C){C.save(),C._applyOpacity(this),C._applyGlobalCompositeOperation(this);const E=this._getCanvasCache();C.translate(E.x,E.y);const S=this._getCachedSceneCanvas(),F=S.pixelRatio;C.drawImage(S._canvas,0,0,S.width/F,S.height/F),C.restore()}_drawCachedHitCanvas(C){const E=this._getCanvasCache(),S=E.hit;C.save(),C.translate(E.x,E.y),C.drawImage(S._canvas,0,0,S.width/S.pixelRatio,S.height/S.pixelRatio),C.restore()}_getCachedSceneCanvas(){let C=this.filters(),E=this._getCanvasCache(),S=E.scene,F=E.filter,D=F.getContext(),P,L,N,W;if(C){if(!this._filterUpToDate){const j=S.pixelRatio;F.setSize(S.width/S.pixelRatio,S.height/S.pixelRatio);try{for(P=C.length,D.clear(),D.drawImage(S._canvas,0,0,S.getWidth()/j,S.getHeight()/j),L=D.getImageData(0,0,F.getWidth(),F.getHeight()),N=0;N<P;N++){if(W=C[N],typeof W!="function"){t.Util.error("Filter should be type of function, but got "+typeof W+" instead. Please check correct filters");continue}W.call(this,L),D.putImageData(L,0,0)}}catch(U){t.Util.error("Unable to apply filter. "+U.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return F}return S}on(C,E){if(this._cache&&this._cache.delete(s),arguments.length===3)return this._delegate.apply(this,arguments);let S=C.split(x),F=S.length,D,P,L,N,W;for(D=0;D<F;D++)P=S[D],L=P.split("."),N=L[0],W=L[1]||"",this.eventListeners[N]||(this.eventListeners[N]=[]),this.eventListeners[N].push({name:W,handler:E});return this}off(C,E){let S=(C||"").split(x),F=S.length,D,P,L,N,W,j;if(this._cache&&this._cache.delete(s),!C)for(P in this.eventListeners)this._off(P);for(D=0;D<F;D++)if(L=S[D],N=L.split("."),W=N[0],j=N[1],W)this.eventListeners[W]&&this._off(W,j,E);else for(P in this.eventListeners)this._off(P,j,E);return this}dispatchEvent(C){const E={target:this,type:C.type,evt:C};return this.fire(C.type,E),this}addEventListener(C,E){return this.on(C,function(S){E.call(this,S.evt)}),this}removeEventListener(C){return this.off(C),this}_delegate(C,E,S){const F=this;this.on(C,function(D){const P=D.target.findAncestors(E,!0,F);for(let L=0;L<P.length;L++)D=t.Util.cloneObject(D),D.currentTarget=P[L],S.call(P[L],D)})}remove(){return this.isDragging()&&this.stopDrag(),i.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(w),this._clearSelfAndDescendantCache(R),this._clearSelfAndDescendantCache(g)}_remove(){this._clearCaches();const C=this.getParent();C&&C.children&&(C.children.splice(this.index,1),C._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(C){const E="get"+t.Util._capitalize(C);return t.Util._isFunction(this[E])?this[E]():this.attrs[C]}getAncestors(){let C=this.getParent(),E=[];for(;C;)E.push(C),C=C.getParent();return E}getAttrs(){return this.attrs||{}}setAttrs(C){return this._batchTransformChanges(()=>{let E,S;if(!C)return this;for(E in C)E!==f&&(S=b+t.Util._capitalize(E),t.Util._isFunction(this[S])?this[S](C[E]):this._setAttr(E,C[E]))}),this}isListening(){return this._getCache(g,this._isListening)}_isListening(C){if(!this.listening())return!1;const S=this.getParent();return S&&S!==C&&this!==C?S._isListening(C):!0}isVisible(){return this._getCache(R,this._isVisible)}_isVisible(C){if(!this.visible())return!1;const S=this.getParent();return S&&S!==C&&this!==C?S._isVisible(C):!0}shouldDrawHit(C,E=!1){if(C)return this._isVisible(C)&&this._isListening(C);const S=this.getLayer();let F=!1;i.DD._dragElements.forEach(P=>{P.dragStatus==="dragging"&&(P.node.nodeType==="Stage"||P.node.getLayer()===S)&&(F=!0)});const D=!E&&!r.Konva.hitOnDragEnabled&&(F||r.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!D}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let C=this.getDepth(),E=this,S=0,F,D,P,L;function N(j){for(F=[],D=j.length,P=0;P<D;P++)L=j[P],S++,L.nodeType!==y&&(F=F.concat(L.getChildren().slice())),L._id===E._id&&(P=D);F.length>0&&F[0].getDepth()<=C&&N(F)}const W=this.getStage();return E.nodeType!==k&&W&&N(W.getChildren()),S}getDepth(){let C=0,E=this.parent;for(;E;)C++,E=E.parent;return C}_batchTransformChanges(C){this._batchingTransformChange=!0,C(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(_),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(C){return this._batchTransformChanges(()=>{this.x(C.x),this.y(C.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const C=this.getStage();if(!C)return null;const E=C.getPointerPosition();if(!E)return null;const S=this.getAbsoluteTransform().copy();return S.invert(),S.point(E)}getAbsolutePosition(C){let E=!1,S=this.parent;for(;S;){if(S.isCached()){E=!0;break}S=S.parent}E&&!C&&(C=!0);const F=this.getAbsoluteTransform(C).getMatrix(),D=new t.Transform,P=this.offset();return D.m=F.slice(),D.translate(P.x,P.y),D.getTranslation()}setAbsolutePosition(C){const{x:E,y:S,...F}=this._clearTransform();this.attrs.x=E,this.attrs.y=S,this._clearCache(_);const D=this._getAbsoluteTransform().copy();return D.invert(),D.translate(C.x,C.y),C={x:this.attrs.x+D.getTranslation().x,y:this.attrs.y+D.getTranslation().y},this._setTransform(F),this.setPosition({x:C.x,y:C.y}),this._clearCache(_),this._clearSelfAndDescendantCache(l),this}_setTransform(C){let E;for(E in C)this.attrs[E]=C[E]}_clearTransform(){const C={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,C}move(C){let E=C.x,S=C.y,F=this.x(),D=this.y();return E!==void 0&&(F+=E),S!==void 0&&(D+=S),this.setPosition({x:F,y:D}),this}_eachAncestorReverse(C,E){let S=[],F=this.getParent(),D,P;if(!(E&&E._id===this._id)){for(S.unshift(this);F&&(!E||F._id!==E._id);)S.unshift(F),F=F.parent;for(D=S.length,P=0;P<D;P++)C(S[P])}}rotate(C){return this.rotation(this.rotation()+C),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const C=this.index,E=this.parent.getChildren().length;return C<E-1?(this.parent.children.splice(C,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;const C=this.index,E=this.parent.getChildren().length;return C<E-1?(this.parent.children.splice(C,1),this.parent.children.splice(C+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;const C=this.index;return C>0?(this.parent.children.splice(C,1),this.parent.children.splice(C-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const C=this.index;return C>0?(this.parent.children.splice(C,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(C){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(C<0||C>=this.parent.children.length)&&t.Util.warn("Unexpected value "+C+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const E=this.index;return this.parent.children.splice(E,1),this.parent.children.splice(C,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(o,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let C=this.opacity();const E=this.getParent();return E&&!E._isUnderCache&&(C*=E.getAbsoluteOpacity()),C}moveTo(C){return this.getParent()!==C&&(this._remove(),C.add(this)),this}toObject(){let C=this.getAttrs(),E,S,F,D,P;const L={attrs:{},className:this.getClassName()};for(E in C)S=C[E],P=t.Util.isObject(S)&&!t.Util._isPlainObject(S)&&!t.Util._isArray(S),!P&&(F=typeof this[E]=="function"&&this[E],delete C[E],D=F?F.call(this):null,C[E]=S,D!==S&&(L.attrs[E]=S));return t.Util._prepareToStringify(L)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(C,E,S){const F=[];E&&this._isMatch(C)&&F.push(this);let D=this.parent;for(;D;){if(D===S)return F;D._isMatch(C)&&F.push(D),D=D.parent}return F}isAncestorOf(C){return!1}findAncestor(C,E,S){return this.findAncestors(C,E,S)[0]}_isMatch(C){if(!C)return!1;if(typeof C=="function")return C(this);let E=C.replace(/ /g,"").split(","),S=E.length,F,D;for(F=0;F<S;F++)if(D=E[F],t.Util.isValidSelector(D)||(t.Util.warn('Selector "'+D+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),D.charAt(0)==="#"){if(this.id()===D.slice(1))return!0}else if(D.charAt(0)==="."){if(this.hasName(D.slice(1)))return!0}else if(this.className===D||this.nodeType===D)return!0;return!1}getLayer(){const C=this.getParent();return C?C.getLayer():null}getStage(){return this._getCache(w,this._getStage)}_getStage(){const C=this.getParent();return C?C.getStage():null}fire(C,E={},S){return E.target=E.target||this,S?this._fireAndBubble(C,E):this._fire(C,E),this}getAbsoluteTransform(C){return C?this._getAbsoluteTransform(C):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(C){let E;if(C)return E=new t.Transform,this._eachAncestorReverse(function(S){const F=S.transformsEnabled();F==="all"?E.multiply(S.getTransform()):F==="position"&&E.translate(S.x()-S.offsetX(),S.y()-S.offsetY())},C),E;{E=this._cache.get(l)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(E):E.reset();const S=this.transformsEnabled();if(S==="all")E.multiply(this.getTransform());else if(S==="position"){const F=this.attrs.x||0,D=this.attrs.y||0,P=this.attrs.offsetX||0,L=this.attrs.offsetY||0;E.translate(F-P,D-L)}return E.dirty=!1,E}}getAbsoluteScale(C){let E=this;for(;E;)E._isUnderCache&&(C=E),E=E.getParent();const F=this.getAbsoluteTransform(C).decompose();return{x:F.scaleX,y:F.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(_,this._getTransform)}_getTransform(){var C,E;const S=this._cache.get(_)||new t.Transform;S.reset();const F=this.x(),D=this.y(),P=r.Konva.getAngle(this.rotation()),L=(C=this.attrs.scaleX)!==null&&C!==void 0?C:1,N=(E=this.attrs.scaleY)!==null&&E!==void 0?E:1,W=this.attrs.skewX||0,j=this.attrs.skewY||0,U=this.attrs.offsetX||0,z=this.attrs.offsetY||0;return(F!==0||D!==0)&&S.translate(F,D),P!==0&&S.rotate(P),(W!==0||j!==0)&&S.skew(W,j),(L!==1||N!==1)&&S.scale(L,N),(U!==0||z!==0)&&S.translate(-1*U,-1*z),S.dirty=!1,S}clone(C){let E=t.Util.cloneObject(this.attrs),S,F,D,P,L;for(S in C)E[S]=C[S];const N=new this.constructor(E);for(S in this.eventListeners)for(F=this.eventListeners[S],D=F.length,P=0;P<D;P++)L=F[P],L.name.indexOf(h)<0&&(N.eventListeners[S]||(N.eventListeners[S]=[]),N.eventListeners[S].push(L));return N}_toKonvaCanvas(C){C=C||{};const E=this.getClientRect(),S=this.getStage(),F=C.x!==void 0?C.x:Math.floor(E.x),D=C.y!==void 0?C.y:Math.floor(E.y),P=C.pixelRatio||1,L=new n.SceneCanvas({width:C.width||Math.ceil(E.width)||(S?S.width():0),height:C.height||Math.ceil(E.height)||(S?S.height():0),pixelRatio:P}),N=L.getContext(),W=new n.SceneCanvas({width:L.width/L.pixelRatio+Math.abs(F),height:L.height/L.pixelRatio+Math.abs(D),pixelRatio:L.pixelRatio});return C.imageSmoothingEnabled===!1&&(N._context.imageSmoothingEnabled=!1),N.save(),(F||D)&&N.translate(-1*F,-1*D),this.drawScene(L,void 0,W),N.restore(),L}toCanvas(C){return this._toKonvaCanvas(C)._canvas}toDataURL(C){C=C||{};const E=C.mimeType||null,S=C.quality||null,F=this._toKonvaCanvas(C).toDataURL(E,S);return C.callback&&C.callback(F),F}toImage(C){return new Promise((E,S)=>{try{const F=C?.callback;F&&delete C.callback,t.Util._urlToImage(this.toDataURL(C),function(D){E(D),F?.(D)})}catch(F){S(F)}})}toBlob(C){return new Promise((E,S)=>{try{const F=C?.callback;F&&delete C.callback,this.toCanvas(C).toBlob(D=>{E(D),F?.(D)},C?.mimeType,C?.quality)}catch(F){S(F)}})}setSize(C){return this.width(C.width),this.height(C.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():r.Konva.dragDistance}_off(C,E,S){let F=this.eventListeners[C],D,P,L;for(D=0;D<F.length;D++)if(P=F[D].name,L=F[D].handler,(P!=="konva"||E==="konva")&&(!E||P===E)&&(!S||S===L)){if(F.splice(D,1),F.length===0){delete this.eventListeners[C];break}D--}}_fireChangeEvent(C,E,S){this._fire(C+d,{oldVal:E,newVal:S})}addName(C){if(!this.hasName(C)){const E=this.name(),S=E?E+" "+C:C;this.name(S)}return this}hasName(C){if(!C)return!1;const E=this.name();return E?(E||"").split(/\s/g).indexOf(C)!==-1:!1}removeName(C){const E=(this.name()||"").split(/\s/g),S=E.indexOf(C);return S!==-1&&(E.splice(S,1),this.name(E.join(" "))),this}setAttr(C,E){const S=this[b+t.Util._capitalize(C)];return t.Util._isFunction(S)?S.call(this,E):this._setAttr(C,E),this}_requestDraw(){if(r.Konva.autoDrawEnabled){const C=this.getLayer()||this.getStage();C?.batchDraw()}}_setAttr(C,E){const S=this.attrs[C];S===E&&!t.Util.isObject(E)||(E==null?delete this.attrs[C]:this.attrs[C]=E,this._shouldFireChangeEvents&&this._fireChangeEvent(C,S,E),this._requestDraw())}_setComponentAttr(C,E,S){let F;S!==void 0&&(F=this.attrs[C],F||(this.attrs[C]=this.getAttr(C)),this.attrs[C][E]=S,this._fireChangeEvent(C,F,S))}_fireAndBubble(C,E,S){if(E&&this.nodeType===y&&(E.target=this),!((C===m||C===v)&&(S&&(this===S||this.isAncestorOf&&this.isAncestorOf(S))||this.nodeType==="Stage"&&!S))){this._fire(C,E);const D=(C===m||C===v)&&S&&S.isAncestorOf&&S.isAncestorOf(this)&&!S.isAncestorOf(this.parent);(E&&!E.cancelBubble||!E)&&this.parent&&this.parent.isListening()&&!D&&(S&&S.parent?this._fireAndBubble.call(this.parent,C,E,S):this._fireAndBubble.call(this.parent,C,E))}}_getProtoListeners(C){var E,S,F;const D=(E=this._cache.get(s))!==null&&E!==void 0?E:{};let P=D?.[C];if(P===void 0){P=[];let L=Object.getPrototypeOf(this);for(;L;){const N=(F=(S=L.eventListeners)===null||S===void 0?void 0:S[C])!==null&&F!==void 0?F:[];P.push(...N),L=Object.getPrototypeOf(L)}D[C]=P,this._cache.set(s,D)}return P}_fire(C,E){E=E||{},E.currentTarget=this,E.type=C;const S=this._getProtoListeners(C);if(S)for(var F=0;F<S.length;F++)S[F].handler.call(this,E);const D=this.eventListeners[C];if(D)for(var F=0;F<D.length;F++)D[F].handler.call(this,E)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(C){const E=C?C.pointerId:void 0,S=this.getStage(),F=this.getAbsolutePosition();if(!S)return;const D=S._getPointerById(E)||S._changedPointerPositions[0]||F;i.DD._dragElements.set(this._id,{node:this,startPointerPos:D,offset:{x:D.x-F.x,y:D.y-F.y},dragStatus:"ready",pointerId:E})}startDrag(C,E=!0){i.DD._dragElements.has(this._id)||this._createDragElement(C);const S=i.DD._dragElements.get(this._id);S.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:C&&C.evt},E)}_setDragPosition(C,E){const S=this.getStage()._getPointerById(E.pointerId);if(!S)return;let F={x:S.x-E.offset.x,y:S.y-E.offset.y};const D=this.dragBoundFunc();if(D!==void 0){const P=D.call(this,F,C);P?F=P:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==F.x||this._lastPos.y!==F.y)&&(this.setAbsolutePosition(F),this._requestDraw()),this._lastPos=F}stopDrag(C){const E=i.DD._dragElements.get(this._id);E&&(E.dragStatus="stopped"),i.DD._endDragBefore(C),i.DD._endDragAfter(C)}setDraggable(C){this._setAttr("draggable",C),this._dragChange()}isDragging(){const C=i.DD._dragElements.get(this._id);return C?C.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(C){if(!(!(C.evt.button!==void 0)||r.Konva.dragButtons.indexOf(C.evt.button)>=0)||this.isDragging())return;let F=!1;i.DD._dragElements.forEach(D=>{this.isAncestorOf(D.node)&&(F=!0)}),F||this._createDragElement(C)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const E=i.DD._dragElements.get(this._id),S=E&&E.dragStatus==="dragging",F=E&&E.dragStatus==="ready";S?this.stopDrag():F&&i.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(C={x:0,y:0}){const E=this.getStage();if(!E)return!1;const S={x:-C.x,y:-C.y,width:E.width()+2*C.x,height:E.height()+2*C.y};return t.Util.haveIntersection(S,this.getClientRect())}static create(C,E){return t.Util._isString(C)&&(C=JSON.parse(C)),this._createNode(C,E)}static _createNode(C,E){let S=Pg.prototype.getClassName.call(C),F=C.children,D,P,L;E&&(C.attrs.container=E),r.Konva[S]||(t.Util.warn('Can not find a node with class name "'+S+'". Fallback to "Shape".'),S="Shape");const N=r.Konva[S];if(D=new N(C.attrs),F)for(P=F.length,L=0;L<P;L++)D.add(Pg._createNode(F[L]));return D}};Ps.Node=O,O.prototype.nodeType="Node",O.prototype._attrsAffectingSize=[],O.prototype.eventListeners={},O.prototype.on.call(O.prototype,A,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(_),this._clearSelfAndDescendantCache(l)}),O.prototype.on.call(O.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(R)}),O.prototype.on.call(O.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(g)}),O.prototype.on.call(O.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(o)});const M=e.Factory.addGetterSetter;return M(O,"zIndex"),M(O,"absolutePosition"),M(O,"position"),M(O,"x",0,(0,a.getNumberValidator)()),M(O,"y",0,(0,a.getNumberValidator)()),M(O,"globalCompositeOperation","source-over",(0,a.getStringValidator)()),M(O,"opacity",1,(0,a.getNumberValidator)()),M(O,"name","",(0,a.getStringValidator)()),M(O,"id","",(0,a.getStringValidator)()),M(O,"rotation",0,(0,a.getNumberValidator)()),e.Factory.addComponentsGetterSetter(O,"scale",["x","y"]),M(O,"scaleX",1,(0,a.getNumberValidator)()),M(O,"scaleY",1,(0,a.getNumberValidator)()),e.Factory.addComponentsGetterSetter(O,"skew",["x","y"]),M(O,"skewX",0,(0,a.getNumberValidator)()),M(O,"skewY",0,(0,a.getNumberValidator)()),e.Factory.addComponentsGetterSetter(O,"offset",["x","y"]),M(O,"offsetX",0,(0,a.getNumberValidator)()),M(O,"offsetY",0,(0,a.getNumberValidator)()),M(O,"dragDistance",void 0,(0,a.getNumberValidator)()),M(O,"width",0,(0,a.getNumberValidator)()),M(O,"height",0,(0,a.getNumberValidator)()),M(O,"listening",!0,(0,a.getBooleanValidator)()),M(O,"preventDefault",!0,(0,a.getBooleanValidator)()),M(O,"filters",void 0,function($){return this._filterUpToDate=!1,$}),M(O,"visible",!0,(0,a.getBooleanValidator)()),M(O,"transformsEnabled","all",(0,a.getStringValidator)()),M(O,"size"),M(O,"dragBoundFunc"),M(O,"draggable",!1,(0,a.getBooleanValidator)()),e.Factory.backCompat(O,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Ps}var Ds={},X2;function Mh(){if(X2)return Ds;X2=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.Container=void 0;const t=it(),e=Zt(),n=ot();let r=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(a){if(!a)return this.children||[];const o=this.children||[],s=[];return o.forEach(function(l){a(l)&&s.push(l)}),s}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(a=>{a.parent=null,a.index=0,a.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(a=>{a.parent=null,a.index=0,a.destroy()}),this.children=[],this._requestDraw(),this}add(...a){if(a.length===0)return this;if(a.length>1){for(let s=0;s<a.length;s++)this.add(a[s]);return this}const o=a[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(a){return this._generalFind(a,!1)}findOne(a){const o=this._generalFind(a,!0);return o.length>0?o[0]:void 0}_generalFind(a,o){const s=[];return this._descendants(l=>{const c=l._isMatch(a);return c&&s.push(l),!!(c&&o)}),s}_descendants(a){let o=!1;const s=this.getChildren();for(const l of s){if(o=a(l),o)return!0;if(l.hasChildren()&&(o=l._descendants(a),o))return!0}return!1}toObject(){const a=e.Node.prototype.toObject.call(this);return a.children=[],this.getChildren().forEach(o=>{a.children.push(o.toObject())}),a}isAncestorOf(a){let o=a.getParent();for(;o;){if(o._id===this._id)return!0;o=o.getParent()}return!1}clone(a){const o=e.Node.prototype.clone.call(this,a);return this.getChildren().forEach(function(s){o.add(s.clone())}),o}getAllIntersections(a){const o=[];return this.find("Shape").forEach(s=>{s.isVisible()&&s.intersects(a)&&o.push(s)}),o}_clearSelfAndDescendantCache(a){var o;super._clearSelfAndDescendantCache(a),!this.isCached()&&((o=this.children)===null||o===void 0||o.forEach(function(s){s._clearSelfAndDescendantCache(a)}))}_setChildrenIndices(){var a;(a=this.children)===null||a===void 0||a.forEach(function(o,s){o.index=s}),this._requestDraw()}drawScene(a,o,s){const l=this.getLayer(),c=a||l&&l.getCanvas(),u=c&&c.getContext(),d=this._getCanvasCache(),f=d&&d.scene,h=c&&c.isCache;if(!this.isVisible()&&!h)return this;if(f){u.save();const g=this.getAbsoluteTransform(o).getMatrix();u.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",c,o,s);return this}drawHit(a,o){if(!this.shouldDrawHit(o))return this;const s=this.getLayer(),l=a||s&&s.hitCanvas,c=l&&l.getContext(),u=this._getCanvasCache();if(u&&u.hit){c.save();const f=this.getAbsoluteTransform(o).getMatrix();c.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedHitCanvas(c),c.restore()}else this._drawChildren("drawHit",l,o);return this}_drawChildren(a,o,s,l){var c;const u=o&&o.getContext(),d=this.clipWidth(),f=this.clipHeight(),h=this.clipFunc(),g=typeof d=="number"&&typeof f=="number"||h,m=s===this;if(g){u.save();const b=this.getAbsoluteTransform(s);let y=b.getMatrix();u.transform(y[0],y[1],y[2],y[3],y[4],y[5]),u.beginPath();let x;if(h)x=h.call(this,u,this);else{const w=this.clipX(),_=this.clipY();u.rect(w||0,_||0,d,f)}u.clip.apply(u,x),y=b.copy().invert().getMatrix(),u.transform(y[0],y[1],y[2],y[3],y[4],y[5])}const v=!m&&this.globalCompositeOperation()!=="source-over"&&a==="drawScene";v&&(u.save(),u._applyGlobalCompositeOperation(this)),(c=this.children)===null||c===void 0||c.forEach(function(b){b[a](o,s,l)}),v&&u.restore(),g&&u.restore()}getClientRect(a={}){var o;const s=a.skipTransform,l=a.relativeTo;let c,u,d,f,h={x:1/0,y:1/0,width:0,height:0};const g=this;(o=this.children)===null||o===void 0||o.forEach(function(b){if(!b.visible())return;const y=b.getClientRect({relativeTo:g,skipShadow:a.skipShadow,skipStroke:a.skipStroke});y.width===0&&y.height===0||(c===void 0?(c=y.x,u=y.y,d=y.x+y.width,f=y.y+y.height):(c=Math.min(c,y.x),u=Math.min(u,y.y),d=Math.max(d,y.x+y.width),f=Math.max(f,y.y+y.height)))});const m=this.find("Shape");let v=!1;for(let b=0;b<m.length;b++)if(m[b]._isVisible(this)){v=!0;break}return v&&c!==void 0?h={x:c,y:u,width:d-c,height:f-u}:h={x:0,y:0,width:0,height:0},s?h:this._transformedRect(h,l)}};return Ds.Container=r,t.Factory.addComponentsGetterSetter(r,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(r,"clipX",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipY",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipWidth",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipHeight",void 0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipFunc"),Ds}var ap={},Ji={},q2;function i8(){if(q2)return Ji;q2=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.getCapturedShape=r,Ji.createEvent=i,Ji.hasPointerCapture=a,Ji.setPointerCapture=o,Ji.releaseCapture=s;const t=Qe(),e=new Map,n=t.Konva._global.PointerEvent!==void 0;function r(l){return e.get(l)}function i(l){return{evt:l,pointerId:l.pointerId}}function a(l,c){return e.get(l)===c}function o(l,c){s(l),c.getStage()&&(e.set(l,c),n&&c._fire("gotpointercapture",i(new PointerEvent("gotpointercapture"))))}function s(l,c){const u=e.get(l);if(!u)return;const d=u.getStage();d&&d.content,e.delete(l),n&&u._fire("lostpointercapture",i(new PointerEvent("lostpointercapture")))}return Ji}var Y2;function rH(){return Y2||(Y2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Bt(),n=it(),r=Mh(),i=Qe(),a=Oh(),o=v0(),s=Qe(),l=i8(),c="Stage",u="string",d="px",f="mouseout",h="mouseleave",g="mouseover",m="mouseenter",v="mousemove",b="mousedown",y="mouseup",x="pointermove",w="pointerdown",_="pointerup",k="pointercancel",R="lostpointercapture",A="pointerout",T="pointerleave",O="pointerover",M="pointerenter",$="contextmenu",C="touchstart",E="touchend",S="touchmove",F="touchcancel",D="wheel",P=5,L=[[m,"_pointerenter"],[b,"_pointerdown"],[v,"_pointermove"],[y,"_pointerup"],[h,"_pointerleave"],[C,"_pointerdown"],[S,"_pointermove"],[E,"_pointerup"],[F,"_pointercancel"],[g,"_pointerover"],[D,"_wheel"],[$,"_contextmenu"],[w,"_pointerdown"],[x,"_pointermove"],[_,"_pointerup"],[k,"_pointercancel"],[R,"_lostpointercapture"]],N={mouse:{[A]:f,[T]:h,[O]:g,[M]:m,[x]:v,[w]:b,[_]:y,[k]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[A]:"touchout",[T]:"touchleave",[O]:"touchover",[M]:"touchenter",[x]:S,[w]:C,[_]:E,[k]:F,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[A]:A,[T]:T,[O]:O,[M]:M,[x]:x,[w]:w,[_]:_,[k]:k,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},W=K=>K.indexOf("pointer")>=0?"pointer":K.indexOf("touch")>=0?"touch":"mouse",j=K=>{const H=W(K);if(H==="pointer")return i.Konva.pointerEventsEnabled&&N.pointer;if(H==="touch")return N.touch;if(H==="mouse")return N.mouse};function U(K={}){return(K.clipFunc||K.clipWidth||K.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),K}const z="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class Q extends r.Container{constructor(H){super(U(H)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{U(this.attrs)}),this._checkVisibility()}_validateAdd(H){const J=H.getType()==="Layer",ne=H.getType()==="FastLayer";J||ne||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const H=this.visible()?"":"none";this.content.style.display=H}setContainer(H){if(typeof H===u){if(H.charAt(0)==="."){const ne=H.slice(1);H=document.getElementsByClassName(ne)[0]}else{var J;H.charAt(0)!=="#"?J=H:J=H.slice(1),H=document.getElementById(J)}if(!H)throw"Can not find container in document with id "+J}return this._setAttr("container",H),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),H.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const H=this.children,J=H.length;for(let ne=0;ne<J;ne++)H[ne].clear();return this}clone(H){return H||(H={}),H.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,H)}destroy(){super.destroy();const H=this.content;H&&e.Util._isInDocument(H)&&this.container().removeChild(H);const J=t.stages.indexOf(this);return J>-1&&t.stages.splice(J,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const H=this._pointerPositions[0]||this._changedPointerPositions[0];return H?{x:H.x,y:H.y}:(e.Util.warn(z),null)}_getPointerById(H){return this._pointerPositions.find(J=>J.id===H)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(H){H=H||{},H.x=H.x||0,H.y=H.y||0,H.width=H.width||this.width(),H.height=H.height||this.height();const J=new a.SceneCanvas({width:H.width,height:H.height,pixelRatio:H.pixelRatio||1}),ne=J.getContext()._context,oe=this.children;return(H.x||H.y)&&ne.translate(-1*H.x,-1*H.y),oe.forEach(function(he){if(!he.isVisible())return;const ve=he._toKonvaCanvas(H);ne.drawImage(ve._canvas,H.x,H.y,ve.getWidth()/ve.getPixelRatio(),ve.getHeight()/ve.getPixelRatio())}),J}getIntersection(H){if(!H)return null;const J=this.children,ne=J.length,oe=ne-1;for(let he=oe;he>=0;he--){const ve=J[he].getIntersection(H);if(ve)return ve}return null}_resizeDOM(){const H=this.width(),J=this.height();this.content&&(this.content.style.width=H+d,this.content.style.height=J+d),this.bufferCanvas.setSize(H,J),this.bufferHitCanvas.setSize(H,J),this.children.forEach(ne=>{ne.setSize({width:H,height:J}),ne.draw()})}add(H,...J){if(arguments.length>1){for(let oe=0;oe<arguments.length;oe++)this.add(arguments[oe]);return this}super.add(H);const ne=this.children.length;return ne>P&&e.Util.warn("The stage has "+ne+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),H.setSize({width:this.width(),height:this.height()}),H.draw(),i.Konva.isBrowser&&this.content.appendChild(H.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(H){return l.hasPointerCapture(H,this)}setPointerCapture(H){l.setPointerCapture(H,this)}releaseCapture(H){l.releaseCapture(H,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&L.forEach(([H,J])=>{this.content.addEventListener(H,ne=>{this[J](ne)},{passive:!1})})}_pointerenter(H){this.setPointersPositions(H);const J=j(H.type);J&&this._fire(J.pointerenter,{evt:H,target:this,currentTarget:this})}_pointerover(H){this.setPointersPositions(H);const J=j(H.type);J&&this._fire(J.pointerover,{evt:H,target:this,currentTarget:this})}_getTargetShape(H){let J=this[H+"targetShape"];return J&&!J.getStage()&&(J=null),J}_pointerleave(H){const J=j(H.type),ne=W(H.type);if(!J)return;this.setPointersPositions(H);const oe=this._getTargetShape(ne),he=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;oe&&he?(oe._fireAndBubble(J.pointerout,{evt:H}),oe._fireAndBubble(J.pointerleave,{evt:H}),this._fire(J.pointerleave,{evt:H,target:this,currentTarget:this}),this[ne+"targetShape"]=null):he&&(this._fire(J.pointerleave,{evt:H,target:this,currentTarget:this}),this._fire(J.pointerout,{evt:H,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(H){const J=j(H.type),ne=W(H.type);if(!J)return;this.setPointersPositions(H);let oe=!1;this._changedPointerPositions.forEach(he=>{const ve=this.getIntersection(he);if(o.DD.justDragged=!1,i.Konva["_"+ne+"ListenClick"]=!0,!ve||!ve.isListening()){this[ne+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&ve.setPointerCapture(he.id),this[ne+"ClickStartShape"]=ve,ve._fireAndBubble(J.pointerdown,{evt:H,pointerId:he.id}),oe=!0;const Oe=H.type.indexOf("touch")>=0;ve.preventDefault()&&H.cancelable&&Oe&&H.preventDefault()}),oe||this._fire(J.pointerdown,{evt:H,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(H){const J=j(H.type),ne=W(H.type);if(!J||(i.Konva.isDragging()&&o.DD.node.preventDefault()&&H.cancelable&&H.preventDefault(),this.setPointersPositions(H),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const he={};let ve=!1;const Oe=this._getTargetShape(ne);this._changedPointerPositions.forEach(Le=>{const Re=l.getCapturedShape(Le.id)||this.getIntersection(Le),bt=Le.id,et={evt:H,pointerId:bt},I=Oe!==Re;if(I&&Oe&&(Oe._fireAndBubble(J.pointerout,{...et},Re),Oe._fireAndBubble(J.pointerleave,{...et},Re)),Re){if(he[Re._id])return;he[Re._id]=!0}Re&&Re.isListening()?(ve=!0,I&&(Re._fireAndBubble(J.pointerover,{...et},Oe),Re._fireAndBubble(J.pointerenter,{...et},Oe),this[ne+"targetShape"]=Re),Re._fireAndBubble(J.pointermove,{...et})):Oe&&(this._fire(J.pointerover,{evt:H,target:this,currentTarget:this,pointerId:bt}),this[ne+"targetShape"]=null)}),ve||this._fire(J.pointermove,{evt:H,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(H){const J=j(H.type),ne=W(H.type);if(!J)return;this.setPointersPositions(H);const oe=this[ne+"ClickStartShape"],he=this[ne+"ClickEndShape"],ve={};let Oe=!1;this._changedPointerPositions.forEach(Le=>{const Re=l.getCapturedShape(Le.id)||this.getIntersection(Le);if(Re){if(Re.releaseCapture(Le.id),ve[Re._id])return;ve[Re._id]=!0}const bt=Le.id,et={evt:H,pointerId:bt};let I=!1;i.Konva["_"+ne+"InDblClickWindow"]?(I=!0,clearTimeout(this[ne+"DblTimeout"])):o.DD.justDragged||(i.Konva["_"+ne+"InDblClickWindow"]=!0,clearTimeout(this[ne+"DblTimeout"])),this[ne+"DblTimeout"]=setTimeout(function(){i.Konva["_"+ne+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),Re&&Re.isListening()?(Oe=!0,this[ne+"ClickEndShape"]=Re,Re._fireAndBubble(J.pointerup,{...et}),i.Konva["_"+ne+"ListenClick"]&&oe&&oe===Re&&(Re._fireAndBubble(J.pointerclick,{...et}),I&&he&&he===Re&&Re._fireAndBubble(J.pointerdblclick,{...et}))):(this[ne+"ClickEndShape"]=null,i.Konva["_"+ne+"ListenClick"]&&this._fire(J.pointerclick,{evt:H,target:this,currentTarget:this,pointerId:bt}),I&&this._fire(J.pointerdblclick,{evt:H,target:this,currentTarget:this,pointerId:bt}))}),Oe||this._fire(J.pointerup,{evt:H,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+ne+"ListenClick"]=!1,H.cancelable&&ne!=="touch"&&ne!=="pointer"&&H.preventDefault()}_contextmenu(H){this.setPointersPositions(H);const J=this.getIntersection(this.getPointerPosition());J&&J.isListening()?J._fireAndBubble($,{evt:H}):this._fire($,{evt:H,target:this,currentTarget:this})}_wheel(H){this.setPointersPositions(H);const J=this.getIntersection(this.getPointerPosition());J&&J.isListening()?J._fireAndBubble(D,{evt:H}):this._fire(D,{evt:H,target:this,currentTarget:this})}_pointercancel(H){this.setPointersPositions(H);const J=l.getCapturedShape(H.pointerId)||this.getIntersection(this.getPointerPosition());J&&J._fireAndBubble(_,l.createEvent(H)),l.releaseCapture(H.pointerId)}_lostpointercapture(H){l.releaseCapture(H.pointerId)}setPointersPositions(H){const J=this._getContentPosition();let ne=null,oe=null;H=H||window.event,H.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(H.touches,he=>{this._pointerPositions.push({id:he.identifier,x:(he.clientX-J.left)/J.scaleX,y:(he.clientY-J.top)/J.scaleY})}),Array.prototype.forEach.call(H.changedTouches||H.touches,he=>{this._changedPointerPositions.push({id:he.identifier,x:(he.clientX-J.left)/J.scaleX,y:(he.clientY-J.top)/J.scaleY})})):(ne=(H.clientX-J.left)/J.scaleX,oe=(H.clientY-J.top)/J.scaleY,this.pointerPos={x:ne,y:oe},this._pointerPositions=[{x:ne,y:oe,id:e.Util._getFirstPointerId(H)}],this._changedPointerPositions=[{x:ne,y:oe,id:e.Util._getFirstPointerId(H)}])}_setPointerPosition(H){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(H)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const H=this.content.getBoundingClientRect();return{top:H.top,left:H.left,scaleX:H.width/this.content.clientWidth||1,scaleY:H.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const H=this.container();if(!H)throw"Stage has no container. A container is required.";H.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),H.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(H){H.batchDraw()}),this}}t.Stage=Q,Q.prototype.nodeType=c,(0,s._registerNode)(Q),n.Factory.addGetterSetter(Q,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(K=>{K.batchDraw()})})}(ap)),ap}var Ls={},op={},K2;function mn(){return K2||(K2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Qe(),n=Bt(),r=it(),i=Zt(),a=ot(),o=Qe(),s=i8(),l="hasShadow",c="shadowRGBA",u="patternImage",d="linearGradient",f="radialGradient";let h;function g(){return h||(h=n.Util.createCanvasElement().getContext("2d"),h)}t.shapes={};function m(T){const O=this.attrs.fillRule;O?T.fill(O):T.fill()}function v(T){T.stroke()}function b(T){const O=this.attrs.fillRule;O?T.fill(O):T.fill()}function y(T){T.stroke()}function x(){this._clearCache(l)}function w(){this._clearCache(c)}function _(){this._clearCache(u)}function k(){this._clearCache(d)}function R(){this._clearCache(f)}class A extends i.Node{constructor(O){super(O);let M;for(;M=n.Util.getRandomColor(),!(M&&!(M in t.shapes)););this.colorKey=M,t.shapes[M]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(u,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const M=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(M&&M.setTransform){const $=new n.Transform;$.translate(this.fillPatternX(),this.fillPatternY()),$.rotate(e.Konva.getAngle(this.fillPatternRotation())),$.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),$.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const C=$.getMatrix(),E=typeof DOMMatrix>"u"?{a:C[0],b:C[1],c:C[2],d:C[3],e:C[4],f:C[5]}:new DOMMatrix(C);M.setTransform(E)}return M}}_getLinearGradient(){return this._getCache(d,this.__getLinearGradient)}__getLinearGradient(){const O=this.fillLinearGradientColorStops();if(O){const M=g(),$=this.fillLinearGradientStartPoint(),C=this.fillLinearGradientEndPoint(),E=M.createLinearGradient($.x,$.y,C.x,C.y);for(let S=0;S<O.length;S+=2)E.addColorStop(O[S],O[S+1]);return E}}_getRadialGradient(){return this._getCache(f,this.__getRadialGradient)}__getRadialGradient(){const O=this.fillRadialGradientColorStops();if(O){const M=g(),$=this.fillRadialGradientStartPoint(),C=this.fillRadialGradientEndPoint(),E=M.createRadialGradient($.x,$.y,this.fillRadialGradientStartRadius(),C.x,C.y,this.fillRadialGradientEndRadius());for(let S=0;S<O.length;S+=2)E.addColorStop(O[S],O[S+1]);return E}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const O=n.Util.colorToRGBA(this.shadowColor());if(O)return"rgba("+O.r+","+O.g+","+O.b+","+O.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const O=this.hitStrokeWidth();return O==="auto"?this.hasStroke():this.strokeEnabled()&&!!O}intersects(O){const M=this.getStage();if(!M)return!1;const $=M.bufferHitCanvas;return $.getContext().clear(),this.drawHit($,void 0,!0),$.context.getImageData(Math.round(O.x),Math.round(O.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(O){var M;if(!((M=this.attrs.perfectDrawEnabled)!==null&&M!==void 0?M:!0))return!1;const C=O||this.hasFill(),E=this.hasStroke(),S=this.getAbsoluteOpacity()!==1;if(C&&E&&S)return!0;const F=this.hasShadow(),D=this.shadowForStrokeEnabled();return!!(C&&E&&F&&D)}setStrokeHitEnabled(O){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),O?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const O=this.size();return{x:this._centroid?-O.width/2:0,y:this._centroid?-O.height/2:0,width:O.width,height:O.height}}getClientRect(O={}){let M=!1,$=this.getParent();for(;$;){if($.isCached()){M=!0;break}$=$.getParent()}const C=O.skipTransform,E=O.relativeTo||M&&this.getStage()||void 0,S=this.getSelfRect(),D=!O.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,P=S.width+D,L=S.height+D,N=!O.skipShadow&&this.hasShadow(),W=N?this.shadowOffsetX():0,j=N?this.shadowOffsetY():0,U=P+Math.abs(W),z=L+Math.abs(j),Q=N&&this.shadowBlur()||0,K=U+Q*2,H=z+Q*2,J={width:K,height:H,x:-(D/2+Q)+Math.min(W,0)+S.x,y:-(D/2+Q)+Math.min(j,0)+S.y};return C?J:this._transformedRect(J,E)}drawScene(O,M,$){const C=this.getLayer();let E=O||C.getCanvas(),S=E.getContext(),F=this._getCanvasCache(),D=this.getSceneFunc(),P=this.hasShadow(),L,N;const W=E.isCache,j=M===this;if(!this.isVisible()&&!j)return this;if(F){S.save();const z=this.getAbsoluteTransform(M).getMatrix();return S.transform(z[0],z[1],z[2],z[3],z[4],z[5]),this._drawCachedSceneCanvas(S),S.restore(),this}if(!D)return this;if(S.save(),this._useBufferCanvas()&&!W){L=this.getStage();const z=$||L.bufferCanvas;N=z.getContext(),N.clear(),N.save(),N._applyLineJoin(this);var U=this.getAbsoluteTransform(M).getMatrix();N.transform(U[0],U[1],U[2],U[3],U[4],U[5]),D.call(this,N,this),N.restore();const Q=z.pixelRatio;P&&S._applyShadow(this),S._applyOpacity(this),S._applyGlobalCompositeOperation(this),S.drawImage(z._canvas,0,0,z.width/Q,z.height/Q)}else{if(S._applyLineJoin(this),!j){var U=this.getAbsoluteTransform(M).getMatrix();S.transform(U[0],U[1],U[2],U[3],U[4],U[5]),S._applyOpacity(this),S._applyGlobalCompositeOperation(this)}P&&S._applyShadow(this),D.call(this,S,this)}return S.restore(),this}drawHit(O,M,$=!1){if(!this.shouldDrawHit(M,$))return this;const C=this.getLayer(),E=O||C.hitCanvas,S=E&&E.getContext(),F=this.hitFunc()||this.sceneFunc(),D=this._getCanvasCache(),P=D&&D.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),P){S.save();const N=this.getAbsoluteTransform(M).getMatrix();return S.transform(N[0],N[1],N[2],N[3],N[4],N[5]),this._drawCachedHitCanvas(S),S.restore(),this}if(!F)return this;if(S.save(),S._applyLineJoin(this),!(this===M)){const N=this.getAbsoluteTransform(M).getMatrix();S.transform(N[0],N[1],N[2],N[3],N[4],N[5])}return F.call(this,S,this),S.restore(),this}drawHitFromCache(O=0){const M=this._getCanvasCache(),$=this._getCachedSceneCanvas(),C=M.hit,E=C.getContext(),S=C.getWidth(),F=C.getHeight();E.clear(),E.drawImage($._canvas,0,0,S,F);try{const D=E.getImageData(0,0,S,F),P=D.data,L=P.length,N=n.Util._hexToRgb(this.colorKey);for(let W=0;W<L;W+=4)P[W+3]>O?(P[W]=N.r,P[W+1]=N.g,P[W+2]=N.b,P[W+3]=255):P[W+3]=0;E.putImageData(D,0,0)}catch(D){n.Util.error("Unable to draw hit graph from cached scene canvas. "+D.message)}return this}hasPointerCapture(O){return s.hasPointerCapture(O,this)}setPointerCapture(O){s.setPointerCapture(O,this)}releaseCapture(O){s.releaseCapture(O,this)}}t.Shape=A,A.prototype._fillFunc=m,A.prototype._strokeFunc=v,A.prototype._fillFuncHit=b,A.prototype._strokeFuncHit=y,A.prototype._centroid=!1,A.prototype.nodeType="Shape",(0,o._registerNode)(A),A.prototype.eventListeners={},A.prototype.on.call(A.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",x),A.prototype.on.call(A.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),A.prototype.on.call(A.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",_),A.prototype.on.call(A.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",k),A.prototype.on.call(A.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",R),r.Factory.addGetterSetter(A,"stroke",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(A,"strokeWidth",2,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(A,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(A,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(A,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(A,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(A,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(A,"lineJoin"),r.Factory.addGetterSetter(A,"lineCap"),r.Factory.addGetterSetter(A,"sceneFunc"),r.Factory.addGetterSetter(A,"hitFunc"),r.Factory.addGetterSetter(A,"dash"),r.Factory.addGetterSetter(A,"dashOffset",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(A,"shadowColor",void 0,(0,a.getStringValidator)()),r.Factory.addGetterSetter(A,"shadowBlur",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(A,"shadowOpacity",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(A,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(A,"shadowOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(A,"shadowOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(A,"fillPatternImage"),r.Factory.addGetterSetter(A,"fill",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(A,"fillPatternX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(A,"fillPatternY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(A,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(A,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(A,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(A,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(A,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(A,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(A,"fillEnabled",!0),r.Factory.addGetterSetter(A,"strokeEnabled",!0),r.Factory.addGetterSetter(A,"shadowEnabled",!0),r.Factory.addGetterSetter(A,"dashEnabled",!0),r.Factory.addGetterSetter(A,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(A,"fillPriority","color"),r.Factory.addComponentsGetterSetter(A,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(A,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(A,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(A,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(A,"fillPatternScaleX",1,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(A,"fillPatternScaleY",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(A,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(A,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(A,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(A,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(A,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(A,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(A,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(A,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(A,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(A,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(A,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(A,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(A,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(A,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(A,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(A,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(A,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(A,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(A,"fillPatternRotation",0),r.Factory.addGetterSetter(A,"fillRule",void 0,(0,a.getStringValidator)()),r.Factory.backCompat(A,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(op)),op}var Z2;function a8(){if(Z2)return Ls;Z2=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.Layer=void 0;const t=Bt(),e=Mh(),n=Zt(),r=it(),i=Oh(),a=ot(),o=mn(),s=Qe(),l="#",c="beforeDraw",u="draw",d=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],f=d.length;let h=class extends e.Container{constructor(m){super(m),this.canvas=new i.SceneCanvas,this.hitCanvas=new i.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(m){return this.getContext().clear(m),this.getHitCanvas().getContext().clear(m),this}setZIndex(m){super.setZIndex(m);const v=this.getStage();return v&&v.content&&(v.content.removeChild(this.getNativeCanvasElement()),m<v.children.length-1?v.content.insertBefore(this.getNativeCanvasElement(),v.children[m+1].getCanvas()._canvas):v.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){n.Node.prototype.moveToTop.call(this);const m=this.getStage();return m&&m.content&&(m.content.removeChild(this.getNativeCanvasElement()),m.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!n.Node.prototype.moveUp.call(this))return!1;const v=this.getStage();return!v||!v.content?!1:(v.content.removeChild(this.getNativeCanvasElement()),this.index<v.children.length-1?v.content.insertBefore(this.getNativeCanvasElement(),v.children[this.index+1].getCanvas()._canvas):v.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(n.Node.prototype.moveDown.call(this)){const m=this.getStage();if(m){const v=m.children;m.content&&(m.content.removeChild(this.getNativeCanvasElement()),m.content.insertBefore(this.getNativeCanvasElement(),v[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(n.Node.prototype.moveToBottom.call(this)){const m=this.getStage();if(m){const v=m.children;m.content&&(m.content.removeChild(this.getNativeCanvasElement()),m.content.insertBefore(this.getNativeCanvasElement(),v[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const m=this.getNativeCanvasElement();return n.Node.prototype.remove.call(this),m&&m.parentNode&&t.Util._isInDocument(m)&&m.parentNode.removeChild(m),this}getStage(){return this.parent}setSize({width:m,height:v}){return this.canvas.setSize(m,v),this.hitCanvas.setSize(m,v),this._setSmoothEnabled(),this}_validateAdd(m){const v=m.getType();v!=="Group"&&v!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(m){return m=m||{},m.width=m.width||this.getWidth(),m.height=m.height||this.getHeight(),m.x=m.x!==void 0?m.x:this.x(),m.y=m.y!==void 0?m.y:this.y(),n.Node.prototype._toKonvaCanvas.call(this,m)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(m){if(!this.isListening()||!this.isVisible())return null;let v=1,b=!1;for(;;){for(let y=0;y<f;y++){const x=d[y],w=this._getIntersection({x:m.x+x.x*v,y:m.y+x.y*v}),_=w.shape;if(_)return _;if(b=!!w.antialiased,!w.antialiased)break}if(b)v+=1;else return null}}_getIntersection(m){const v=this.hitCanvas.pixelRatio,b=this.hitCanvas.context.getImageData(Math.round(m.x*v),Math.round(m.y*v),1,1).data,y=b[3];if(y===255){const x=t.Util._rgbToHex(b[0],b[1],b[2]),w=o.shapes[l+x];return w?{shape:w}:{antialiased:!0}}else if(y>0)return{antialiased:!0};return{}}drawScene(m,v){const b=this.getLayer(),y=m||b&&b.getCanvas();return this._fire(c,{node:this}),this.clearBeforeDraw()&&y.getContext().clear(),e.Container.prototype.drawScene.call(this,y,v),this._fire(u,{node:this}),this}drawHit(m,v){const b=this.getLayer(),y=m||b&&b.hitCanvas;return b&&b.clearBeforeDraw()&&b.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,y,v),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(m){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(m)}getHitGraphEnabled(m){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const m=this.parent;!!this.hitCanvas._canvas.parentNode?m.content.removeChild(this.hitCanvas._canvas):m.content.appendChild(this.hitCanvas._canvas)}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Ls.Layer=h,h.prototype.nodeType="Layer",(0,s._registerNode)(h),r.Factory.addGetterSetter(h,"imageSmoothingEnabled",!0),r.Factory.addGetterSetter(h,"clearBeforeDraw",!0),r.Factory.addGetterSetter(h,"hitGraphEnabled",!0,(0,a.getBooleanValidator)()),Ls}var Is={},J2;function iH(){if(J2)return Is;J2=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.FastLayer=void 0;const t=Bt(),e=a8(),n=Qe();let r=class extends e.Layer{constructor(a){super(a),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Is.FastLayer=r,r.prototype.nodeType="FastLayer",(0,n._registerNode)(r),Is}var Ns={},Q2;function b0(){if(Q2)return Ns;Q2=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.Group=void 0;const t=Bt(),e=Mh(),n=Qe();let r=class extends e.Container{_validateAdd(a){const o=a.getType();o!=="Group"&&o!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return Ns.Group=r,r.prototype.nodeType="Group",(0,n._registerNode)(r),Ns}var js={},ey;function y0(){if(ey)return js;ey=1,Object.defineProperty(js,"__esModule",{value:!0}),js.Animation=void 0;const t=Qe(),e=Bt(),n=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let r=class ko{constructor(a,o){this.id=ko.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:n(),frameRate:0},this.func=a,this.setLayers(o)}setLayers(a){let o=[];return a&&(o=Array.isArray(a)?a:[a]),this.layers=o,this}getLayers(){return this.layers}addLayer(a){const o=this.layers,s=o.length;for(let l=0;l<s;l++)if(o[l]._id===a._id)return!1;return this.layers.push(a),!0}isRunning(){const o=ko.animations,s=o.length;for(let l=0;l<s;l++)if(o[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=n(),ko._addAnimation(this),this}stop(){return ko._removeAnimation(this),this}_updateFrameObject(a){this.frame.timeDiff=a-this.frame.lastTime,this.frame.lastTime=a,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(a){this.animations.push(a),this._handleAnimation()}static _removeAnimation(a){const o=a.id,s=this.animations,l=s.length;for(let c=0;c<l;c++)if(s[c].id===o){this.animations.splice(c,1);break}}static _runFrames(){const a={},o=this.animations;for(let s=0;s<o.length;s++){const l=o[s],c=l.layers,u=l.func;l._updateFrameObject(n());const d=c.length;let f;if(u?f=u.call(l,l.frame)!==!1:f=!0,!!f)for(let h=0;h<d;h++){const g=c[h];g._id!==void 0&&(a[g._id]=g)}}for(const s in a)a.hasOwnProperty(s)&&a[s].batchDraw()}static _animationLoop(){const a=ko;a.animations.length?(a._runFrames(),e.Util.requestAnimFrame(a._animationLoop)):a.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return js.Animation=r,r.animations=[],r.animIdCounter=0,r.animRunning=!1,js}var sp={},ty;function aH(){return ty||(ty=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Bt(),n=y0(),r=Zt(),i=Qe(),a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,s=2,l=3,c=["fill","stroke","shadowColor"];let u=0;class d{constructor(g,m,v,b,y,x,w){this.prop=g,this.propFunc=m,this.begin=b,this._pos=b,this.duration=x,this._change=0,this.prevPos=0,this.yoyo=w,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=v,this._change=y-this.begin,this.pause()}fire(g){const m=this[g];m&&m()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=s,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const g=this.getTimer()-this._startTime;this.state===s?this.setTime(g):this.state===l&&this.setTime(this.duration-g)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class f{constructor(g){const m=this,v=g.node,b=v._id,y=g.easing||t.Easings.Linear,x=!!g.yoyo;let w,_;typeof g.duration>"u"?w=.3:g.duration===0?w=.001:w=g.duration,this.node=v,this._id=u++;const k=v.getLayer()||(v instanceof i.Konva.Stage?v.getLayers():null);k||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){m.tween.onEnterFrame()},k),this.tween=new d(_,function(R){m._tweenFunc(R)},y,0,1,w*1e3,x),this._addListeners(),f.attrs[b]||(f.attrs[b]={}),f.attrs[b][this._id]||(f.attrs[b][this._id]={}),f.tweens[b]||(f.tweens[b]={});for(_ in g)a[_]===void 0&&this._addAttr(_,g[_]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,m){const v=this.node,b=v._id;let y,x,w,_,k;const R=f.tweens[b][g];R&&delete f.attrs[b][R][g];let A=v.getAttr(g);if(e.Util._isArray(m))if(y=[],x=Math.max(m.length,A.length),g==="points"&&m.length!==A.length&&(m.length>A.length?(_=A,A=e.Util._prepareArrayForTween(A,m,v.closed())):(w=m,m=e.Util._prepareArrayForTween(m,A,v.closed()))),g.indexOf("fill")===0)for(let T=0;T<x;T++)if(T%2===0)y.push(m[T]-A[T]);else{const O=e.Util.colorToRGBA(A[T]);k=e.Util.colorToRGBA(m[T]),A[T]=O,y.push({r:k.r-O.r,g:k.g-O.g,b:k.b-O.b,a:k.a-O.a})}else for(let T=0;T<x;T++)y.push(m[T]-A[T]);else c.indexOf(g)!==-1?(A=e.Util.colorToRGBA(A),k=e.Util.colorToRGBA(m),y={r:k.r-A.r,g:k.g-A.g,b:k.b-A.b,a:k.a-A.a}):y=m-A;f.attrs[b][this._id][g]={start:A,diff:y,end:m,trueEnd:w,trueStart:_},f.tweens[b][g]=this._id}_tweenFunc(g){const m=this.node,v=f.attrs[m._id][this._id];let b,y,x,w,_,k,R,A;for(b in v){if(y=v[b],x=y.start,w=y.diff,A=y.end,e.Util._isArray(x))if(_=[],R=Math.max(x.length,A.length),b.indexOf("fill")===0)for(k=0;k<R;k++)k%2===0?_.push((x[k]||0)+w[k]*g):_.push("rgba("+Math.round(x[k].r+w[k].r*g)+","+Math.round(x[k].g+w[k].g*g)+","+Math.round(x[k].b+w[k].b*g)+","+(x[k].a+w[k].a*g)+")");else for(k=0;k<R;k++)_.push((x[k]||0)+w[k]*g);else c.indexOf(b)!==-1?_="rgba("+Math.round(x.r+w.r*g)+","+Math.round(x.g+w.g*g)+","+Math.round(x.b+w.b*g)+","+(x.a+w.a*g)+")":_=x+w*g;m.setAttr(b,_)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const g=this.node,m=f.attrs[g._id][this._id];m.points&&m.points.trueEnd&&g.setAttr("points",m.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const g=this.node,m=f.attrs[g._id][this._id];m.points&&m.points.trueStart&&g.points(m.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const g=this.node._id,m=this._id,v=f.tweens[g];this.pause();for(const b in v)delete f.tweens[g][b];delete f.attrs[g][m]}}t.Tween=f,f.attrs={},f.tweens={},r.Node.prototype.to=function(h){const g=h.onFinish;h.node=this,h.onFinish=function(){this.destroy(),g&&g()},new f(h).play()},t.Easings={BackEaseIn(h,g,m,v){return m*(h/=v)*h*((1.70158+1)*h-1.70158)+g},BackEaseOut(h,g,m,v){return m*((h=h/v-1)*h*((1.70158+1)*h+1.70158)+1)+g},BackEaseInOut(h,g,m,v){let b=1.70158;return(h/=v/2)<1?m/2*(h*h*(((b*=1.525)+1)*h-b))+g:m/2*((h-=2)*h*(((b*=1.525)+1)*h+b)+2)+g},ElasticEaseIn(h,g,m,v,b,y){let x=0;return h===0?g:(h/=v)===1?g+m:(y||(y=v*.3),!b||b<Math.abs(m)?(b=m,x=y/4):x=y/(2*Math.PI)*Math.asin(m/b),-(b*Math.pow(2,10*(h-=1))*Math.sin((h*v-x)*(2*Math.PI)/y))+g)},ElasticEaseOut(h,g,m,v,b,y){let x=0;return h===0?g:(h/=v)===1?g+m:(y||(y=v*.3),!b||b<Math.abs(m)?(b=m,x=y/4):x=y/(2*Math.PI)*Math.asin(m/b),b*Math.pow(2,-10*h)*Math.sin((h*v-x)*(2*Math.PI)/y)+m+g)},ElasticEaseInOut(h,g,m,v,b,y){let x=0;return h===0?g:(h/=v/2)===2?g+m:(y||(y=v*(.3*1.5)),!b||b<Math.abs(m)?(b=m,x=y/4):x=y/(2*Math.PI)*Math.asin(m/b),h<1?-.5*(b*Math.pow(2,10*(h-=1))*Math.sin((h*v-x)*(2*Math.PI)/y))+g:b*Math.pow(2,-10*(h-=1))*Math.sin((h*v-x)*(2*Math.PI)/y)*.5+m+g)},BounceEaseOut(h,g,m,v){return(h/=v)<1/2.75?m*(7.5625*h*h)+g:h<2/2.75?m*(7.5625*(h-=1.5/2.75)*h+.75)+g:h<2.5/2.75?m*(7.5625*(h-=2.25/2.75)*h+.9375)+g:m*(7.5625*(h-=2.625/2.75)*h+.984375)+g},BounceEaseIn(h,g,m,v){return m-t.Easings.BounceEaseOut(v-h,0,m,v)+g},BounceEaseInOut(h,g,m,v){return h<v/2?t.Easings.BounceEaseIn(h*2,0,m,v)*.5+g:t.Easings.BounceEaseOut(h*2-v,0,m,v)*.5+m*.5+g},EaseIn(h,g,m,v){return m*(h/=v)*h+g},EaseOut(h,g,m,v){return-m*(h/=v)*(h-2)+g},EaseInOut(h,g,m,v){return(h/=v/2)<1?m/2*h*h+g:-m/2*(--h*(h-2)-1)+g},StrongEaseIn(h,g,m,v){return m*(h/=v)*h*h*h*h+g},StrongEaseOut(h,g,m,v){return m*((h=h/v-1)*h*h*h*h+1)+g},StrongEaseInOut(h,g,m,v){return(h/=v/2)<1?m/2*h*h*h*h*h+g:m/2*((h-=2)*h*h*h*h+2)+g},Linear(h,g,m,v){return m*h/v+g}}}(sp)),sp}var ny;function oH(){return ny||(ny=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Qe(),n=Bt(),r=Zt(),i=Mh(),a=rH(),o=a8(),s=iH(),l=b0(),c=v0(),u=mn(),d=y0(),f=aH(),h=r8(),g=Oh();t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:i.Container,Stage:a.Stage,stages:a.stages,Layer:o.Layer,FastLayer:s.FastLayer,Group:l.Group,DD:c.DD,Shape:u.Shape,shapes:u.shapes,Animation:d.Animation,Tween:f.Tween,Easings:f.Easings,Context:h.Context,Canvas:g.Canvas}),t.default=t.Konva}(ep)),ep}var Bs={},ry;function sH(){if(ry)return Bs;ry=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.Arc=void 0;const t=it(),e=mn(),n=Qe(),r=ot(),i=Qe();let a=class extends e.Shape{_sceneFunc(s){const l=n.Konva.getAngle(this.angle()),c=this.clockwise();s.beginPath(),s.arc(0,0,this.outerRadius(),0,l,c),s.arc(0,0,this.innerRadius(),l,0,!c),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}getSelfRect(){const s=this.innerRadius(),l=this.outerRadius(),c=this.clockwise(),u=n.Konva.getAngle(c?360-this.angle():this.angle()),d=Math.cos(Math.min(u,Math.PI)),f=1,h=Math.sin(Math.min(Math.max(Math.PI,u),3*Math.PI/2)),g=Math.sin(Math.min(u,Math.PI/2)),m=d*(d>0?s:l),v=f*l,b=h*(h>0?s:l),y=g*(g>0?l:s);return{x:m,y:c?-1*y:b,width:v-m,height:y-b}}};return Bs.Arc=a,a.prototype._centroid=!0,a.prototype.className="Arc",a.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,i._registerNode)(a),t.Factory.addGetterSetter(a,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"outerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"angle",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"clockwise",!1,(0,r.getBooleanValidator)()),Bs}var Us={},zs={},iy;function o8(){if(iy)return zs;iy=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.Line=void 0;const t=it(),e=Qe(),n=mn(),r=ot();function i(s,l,c,u,d,f,h){const g=Math.sqrt(Math.pow(c-s,2)+Math.pow(u-l,2)),m=Math.sqrt(Math.pow(d-c,2)+Math.pow(f-u,2)),v=h*g/(g+m),b=h*m/(g+m),y=c-v*(d-s),x=u-v*(f-l),w=c+b*(d-s),_=u+b*(f-l);return[y,x,w,_]}function a(s,l){const c=s.length,u=[];for(let d=2;d<c-2;d+=2){const f=i(s[d-2],s[d-1],s[d],s[d+1],s[d+2],s[d+3],l);isNaN(f[0])||(u.push(f[0]),u.push(f[1]),u.push(s[d]),u.push(s[d+1]),u.push(f[2]),u.push(f[3]))}return u}let o=class extends n.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){let c=this.points(),u=c.length,d=this.tension(),f=this.closed(),h=this.bezier(),g,m,v;if(u){if(l.beginPath(),l.moveTo(c[0],c[1]),d!==0&&u>4){for(g=this.getTensionPoints(),m=g.length,v=f?0:4,f||l.quadraticCurveTo(g[0],g[1],g[2],g[3]);v<m-2;)l.bezierCurveTo(g[v++],g[v++],g[v++],g[v++],g[v++],g[v++]);f||l.quadraticCurveTo(g[m-2],g[m-1],c[u-2],c[u-1])}else if(h)for(v=2;v<u;)l.bezierCurveTo(c[v++],c[v++],c[v++],c[v++],c[v++],c[v++]);else for(v=2;v<u;v+=2)l.lineTo(c[v],c[v+1]);f?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():a(this.points(),this.tension())}_getTensionPointsClosed(){const l=this.points(),c=l.length,u=this.tension(),d=i(l[c-2],l[c-1],l[0],l[1],l[2],l[3],u),f=i(l[c-4],l[c-3],l[c-2],l[c-1],l[0],l[1],u),h=a(l,u);return[d[2],d[3]].concat(h).concat([f[0],f[1],l[c-2],l[c-1],f[2],f[3],d[0],d[1],l[0],l[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();let c=l[0],u=l[0],d=l[1],f=l[1],h,g;for(let m=0;m<l.length/2;m++)h=l[m*2],g=l[m*2+1],c=Math.min(c,h),u=Math.max(u,h),d=Math.min(d,g),f=Math.max(f,g);return{x:c,y:d,width:u-c,height:f-d}}};return zs.Line=o,o.prototype.className="Line",o.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(o),t.Factory.addGetterSetter(o,"closed",!1),t.Factory.addGetterSetter(o,"bezier",!1),t.Factory.addGetterSetter(o,"tension",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"points",[],(0,r.getNumberArrayValidator)()),zs}var Hs={},lp={},ay;function lH(){return ay||(ay=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(o,s,l)=>{let c,u;const f=l/2;c=0;for(let h=0;h<20;h++)u=f*t.tValues[20][h]+f,c+=t.cValues[20][h]*r(o,s,u);return f*c};t.getCubicArcLength=e;const n=(o,s,l)=>{l===void 0&&(l=1);const c=o[0]-2*o[1]+o[2],u=s[0]-2*s[1]+s[2],d=2*o[1]-2*o[0],f=2*s[1]-2*s[0],h=4*(c*c+u*u),g=4*(c*d+u*f),m=d*d+f*f;if(h===0)return l*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(s[2]-s[0],2));const v=g/(2*h),b=m/h,y=l+v,x=b-v*v,w=y*y+x>0?Math.sqrt(y*y+x):0,_=v*v+x>0?Math.sqrt(v*v+x):0,k=v+Math.sqrt(v*v+x)!==0?x*Math.log(Math.abs((y+w)/(v+_))):0;return Math.sqrt(h)/2*(y*w-v*_+k)};t.getQuadraticArcLength=n;function r(o,s,l){const c=i(1,l,o),u=i(1,l,s),d=c*c+u*u;return Math.sqrt(d)}const i=(o,s,l)=>{const c=l.length-1;let u,d;if(c===0)return 0;if(o===0){d=0;for(let f=0;f<=c;f++)d+=t.binomialCoefficients[c][f]*Math.pow(1-s,c-f)*Math.pow(s,f)*l[f];return d}else{u=new Array(c);for(let f=0;f<c;f++)u[f]=c*(l[f+1]-l[f]);return i(o-1,s,u)}},a=(o,s,l)=>{let c=1,u=o/s,d=(o-l(u))/s,f=0;for(;c>.001;){const h=l(u+d),g=Math.abs(o-h)/s;if(g<c)c=g,u+=d;else{const m=l(u-d),v=Math.abs(o-m)/s;v<c?(c=v,u-=d):d/=2}if(f++,f>500)break}return u};t.t2length=a}(lp)),lp}var oy;function x0(){if(oy)return Hs;oy=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.Path=void 0;const t=it(),e=mn(),n=Qe(),r=lH();let i=class Wn extends e.Shape{constructor(o){super(o),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Wn.parsePathData(this.data()),this.pathLength=Wn.getPathLength(this.dataArray)}_sceneFunc(o){const s=this.dataArray;o.beginPath();let l=!1;for(let w=0;w<s.length;w++){const _=s[w].command,k=s[w].points;switch(_){case"L":o.lineTo(k[0],k[1]);break;case"M":o.moveTo(k[0],k[1]);break;case"C":o.bezierCurveTo(k[0],k[1],k[2],k[3],k[4],k[5]);break;case"Q":o.quadraticCurveTo(k[0],k[1],k[2],k[3]);break;case"A":var c=k[0],u=k[1],d=k[2],f=k[3],h=k[4],g=k[5],m=k[6],v=k[7],b=d>f?d:f,y=d>f?1:d/f,x=d>f?f/d:1;o.translate(c,u),o.rotate(m),o.scale(y,x),o.arc(0,0,b,h,h+g,1-v),o.scale(1/y,1/x),o.rotate(-m),o.translate(-c,-u);break;case"z":l=!0,o.closePath();break}}!l&&!this.hasFill()?o.strokeShape(this):o.fillStrokeShape(this)}getSelfRect(){let o=[];this.dataArray.forEach(function(h){if(h.command==="A"){const g=h.points[4],m=h.points[5],v=h.points[4]+m;let b=Math.PI/180;if(Math.abs(g-v)<b&&(b=Math.abs(g-v)),m<0)for(let y=g-b;y>v;y-=b){const x=Wn.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],y,0);o.push(x.x,x.y)}else for(let y=g+b;y<v;y+=b){const x=Wn.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],y,0);o.push(x.x,x.y)}}else if(h.command==="C")for(let g=0;g<=1;g+=.01){const m=Wn.getPointOnCubicBezier(g,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);o.push(m.x,m.y)}else o=o.concat(h.points)});let s=o[0],l=o[0],c=o[1],u=o[1],d,f;for(let h=0;h<o.length/2;h++)d=o[h*2],f=o[h*2+1],isNaN(d)||(s=Math.min(s,d),l=Math.max(l,d)),isNaN(f)||(c=Math.min(c,f),u=Math.max(u,f));return{x:s,y:c,width:l-s,height:u-c}}getLength(){return this.pathLength}getPointAtLength(o){return Wn.getPointAtLengthOfDataArray(o,this.dataArray)}static getLineLength(o,s,l,c){return Math.sqrt((l-o)*(l-o)+(c-s)*(c-s))}static getPathLength(o){let s=0;for(let l=0;l<o.length;++l)s+=o[l].pathLength;return s}static getPointAtLengthOfDataArray(o,s){let l,c=0,u=s.length;if(!u)return null;for(;c<u&&o>s[c].pathLength;)o-=s[c].pathLength,++c;if(c===u)return l=s[c-1].points.slice(-2),{x:l[0],y:l[1]};if(o<.01)return l=s[c].points.slice(0,2),{x:l[0],y:l[1]};const d=s[c],f=d.points;switch(d.command){case"L":return Wn.getPointOnLine(o,d.start.x,d.start.y,f[0],f[1]);case"C":return Wn.getPointOnCubicBezier((0,r.t2length)(o,Wn.getPathLength(s),w=>(0,r.getCubicArcLength)([d.start.x,f[0],f[2],f[4]],[d.start.y,f[1],f[3],f[5]],w)),d.start.x,d.start.y,f[0],f[1],f[2],f[3],f[4],f[5]);case"Q":return Wn.getPointOnQuadraticBezier((0,r.t2length)(o,Wn.getPathLength(s),w=>(0,r.getQuadraticArcLength)([d.start.x,f[0],f[2]],[d.start.y,f[1],f[3]],w)),d.start.x,d.start.y,f[0],f[1],f[2],f[3]);case"A":var h=f[0],g=f[1],m=f[2],v=f[3],b=f[4],y=f[5],x=f[6];return b+=y*o/d.pathLength,Wn.getPointOnEllipticalArc(h,g,m,v,b,x)}return null}static getPointOnLine(o,s,l,c,u,d,f){d=d??s,f=f??l;const h=this.getLineLength(s,l,c,u);if(h<1e-10)return{x:s,y:l};if(c===s)return{x:d,y:f+(u>l?o:-o)};const g=(u-l)/(c-s),m=Math.sqrt(o*o/(1+g*g))*(c<s?-1:1),v=g*m;if(Math.abs(f-l-g*(d-s))<1e-10)return{x:d+m,y:f+v};const b=((d-s)*(c-s)+(f-l)*(u-l))/(h*h),y=s+b*(c-s),x=l+b*(u-l),w=this.getLineLength(d,f,y,x),_=Math.sqrt(o*o-w*w),k=Math.sqrt(_*_/(1+g*g))*(c<s?-1:1),R=g*k;return{x:y+k,y:x+R}}static getPointOnCubicBezier(o,s,l,c,u,d,f,h,g){function m(_){return _*_*_}function v(_){return 3*_*_*(1-_)}function b(_){return 3*_*(1-_)*(1-_)}function y(_){return(1-_)*(1-_)*(1-_)}const x=h*m(o)+d*v(o)+c*b(o)+s*y(o),w=g*m(o)+f*v(o)+u*b(o)+l*y(o);return{x,y:w}}static getPointOnQuadraticBezier(o,s,l,c,u,d,f){function h(y){return y*y}function g(y){return 2*y*(1-y)}function m(y){return(1-y)*(1-y)}const v=d*h(o)+c*g(o)+s*m(o),b=f*h(o)+u*g(o)+l*m(o);return{x:v,y:b}}static getPointOnEllipticalArc(o,s,l,c,u,d){const f=Math.cos(d),h=Math.sin(d),g={x:l*Math.cos(u),y:c*Math.sin(u)};return{x:o+(g.x*f-g.y*h),y:s+(g.x*h+g.y*f)}}static parsePathData(o){if(!o)return[];let s=o;const l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];s=s.replace(new RegExp(" ","g"),",");for(var c=0;c<l.length;c++)s=s.replace(new RegExp(l[c],"g"),"|"+l[c]);const u=s.split("|"),d=[],f=[];let h=0,g=0;const m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let v;for(c=1;c<u.length;c++){let C=u[c],E=C.charAt(0);for(C=C.slice(1),f.length=0;v=m.exec(C);)f.push(v[0]);const S=[];for(let F=0,D=f.length;F<D;F++){if(f[F]==="00"){S.push(0,0);continue}const P=parseFloat(f[F]);isNaN(P)?S.push(0):S.push(P)}for(;S.length>0&&!isNaN(S[0]);){let F="",D=[];const P=h,L=g;var b,y,x,w,_,k,R,A,T,O;switch(E){case"l":h+=S.shift(),g+=S.shift(),F="L",D.push(h,g);break;case"L":h=S.shift(),g=S.shift(),D.push(h,g);break;case"m":var M=S.shift(),$=S.shift();if(h+=M,g+=$,F="M",d.length>2&&d[d.length-1].command==="z"){for(let N=d.length-2;N>=0;N--)if(d[N].command==="M"){h=d[N].points[0]+M,g=d[N].points[1]+$;break}}D.push(h,g),E="l";break;case"M":h=S.shift(),g=S.shift(),F="M",D.push(h,g),E="L";break;case"h":h+=S.shift(),F="L",D.push(h,g);break;case"H":h=S.shift(),F="L",D.push(h,g);break;case"v":g+=S.shift(),F="L",D.push(h,g);break;case"V":g=S.shift(),F="L",D.push(h,g);break;case"C":D.push(S.shift(),S.shift(),S.shift(),S.shift()),h=S.shift(),g=S.shift(),D.push(h,g);break;case"c":D.push(h+S.shift(),g+S.shift(),h+S.shift(),g+S.shift()),h+=S.shift(),g+=S.shift(),F="C",D.push(h,g);break;case"S":y=h,x=g,b=d[d.length-1],b.command==="C"&&(y=h+(h-b.points[2]),x=g+(g-b.points[3])),D.push(y,x,S.shift(),S.shift()),h=S.shift(),g=S.shift(),F="C",D.push(h,g);break;case"s":y=h,x=g,b=d[d.length-1],b.command==="C"&&(y=h+(h-b.points[2]),x=g+(g-b.points[3])),D.push(y,x,h+S.shift(),g+S.shift()),h+=S.shift(),g+=S.shift(),F="C",D.push(h,g);break;case"Q":D.push(S.shift(),S.shift()),h=S.shift(),g=S.shift(),D.push(h,g);break;case"q":D.push(h+S.shift(),g+S.shift()),h+=S.shift(),g+=S.shift(),F="Q",D.push(h,g);break;case"T":y=h,x=g,b=d[d.length-1],b.command==="Q"&&(y=h+(h-b.points[0]),x=g+(g-b.points[1])),h=S.shift(),g=S.shift(),F="Q",D.push(y,x,h,g);break;case"t":y=h,x=g,b=d[d.length-1],b.command==="Q"&&(y=h+(h-b.points[0]),x=g+(g-b.points[1])),h+=S.shift(),g+=S.shift(),F="Q",D.push(y,x,h,g);break;case"A":w=S.shift(),_=S.shift(),k=S.shift(),R=S.shift(),A=S.shift(),T=h,O=g,h=S.shift(),g=S.shift(),F="A",D=this.convertEndpointToCenterParameterization(T,O,h,g,R,A,w,_,k);break;case"a":w=S.shift(),_=S.shift(),k=S.shift(),R=S.shift(),A=S.shift(),T=h,O=g,h+=S.shift(),g+=S.shift(),F="A",D=this.convertEndpointToCenterParameterization(T,O,h,g,R,A,w,_,k);break}d.push({command:F||E,points:D,start:{x:P,y:L},pathLength:this.calcLength(P,L,F||E,D)})}(E==="z"||E==="Z")&&d.push({command:"z",points:[],start:void 0,pathLength:0})}return d}static calcLength(o,s,l,c){let u,d,f,h;const g=Wn;switch(l){case"L":return g.getLineLength(o,s,c[0],c[1]);case"C":return(0,r.getCubicArcLength)([o,c[0],c[2],c[4]],[s,c[1],c[3],c[5]],1);case"Q":return(0,r.getQuadraticArcLength)([o,c[0],c[2]],[s,c[1],c[3]],1);case"A":u=0;var m=c[4],v=c[5],b=c[4]+v,y=Math.PI/180;if(Math.abs(m-b)<y&&(y=Math.abs(m-b)),d=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],m,0),v<0)for(h=m-y;h>b;h-=y)f=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],h,0),u+=g.getLineLength(d.x,d.y,f.x,f.y),d=f;else for(h=m+y;h<b;h+=y)f=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],h,0),u+=g.getLineLength(d.x,d.y,f.x,f.y),d=f;return f=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],b,0),u+=g.getLineLength(d.x,d.y,f.x,f.y),u}return 0}static convertEndpointToCenterParameterization(o,s,l,c,u,d,f,h,g){const m=g*(Math.PI/180),v=Math.cos(m)*(o-l)/2+Math.sin(m)*(s-c)/2,b=-1*Math.sin(m)*(o-l)/2+Math.cos(m)*(s-c)/2,y=v*v/(f*f)+b*b/(h*h);y>1&&(f*=Math.sqrt(y),h*=Math.sqrt(y));let x=Math.sqrt((f*f*(h*h)-f*f*(b*b)-h*h*(v*v))/(f*f*(b*b)+h*h*(v*v)));u===d&&(x*=-1),isNaN(x)&&(x=0);const w=x*f*b/h,_=x*-h*v/f,k=(o+l)/2+Math.cos(m)*w-Math.sin(m)*_,R=(s+c)/2+Math.sin(m)*w+Math.cos(m)*_,A=function(S){return Math.sqrt(S[0]*S[0]+S[1]*S[1])},T=function(S,F){return(S[0]*F[0]+S[1]*F[1])/(A(S)*A(F))},O=function(S,F){return(S[0]*F[1]<S[1]*F[0]?-1:1)*Math.acos(T(S,F))},M=O([1,0],[(v-w)/f,(b-_)/h]),$=[(v-w)/f,(b-_)/h],C=[(-1*v-w)/f,(-1*b-_)/h];let E=O($,C);return T($,C)<=-1&&(E=Math.PI),T($,C)>=1&&(E=0),d===0&&E>0&&(E=E-2*Math.PI),d===1&&E<0&&(E=E+2*Math.PI),[k,R,f,h,M,E,m,d]}};return Hs.Path=i,i.prototype.className="Path",i.prototype._attrsAffectingSize=["data"],(0,n._registerNode)(i),t.Factory.addGetterSetter(i,"data"),Hs}var sy;function cH(){if(sy)return Us;sy=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.Arrow=void 0;const t=it(),e=o8(),n=ot(),r=Qe(),i=x0();let a=class extends e.Line{_sceneFunc(s){super._sceneFunc(s);const l=Math.PI*2,c=this.points();let u=c;const d=this.tension()!==0&&c.length>4;d&&(u=this.getTensionPoints());const f=this.pointerLength(),h=c.length;let g,m;if(d){const y=[u[u.length-4],u[u.length-3],u[u.length-2],u[u.length-1],c[h-2],c[h-1]],x=i.Path.calcLength(u[u.length-4],u[u.length-3],"C",y),w=i.Path.getPointOnQuadraticBezier(Math.min(1,1-f/x),y[0],y[1],y[2],y[3],y[4],y[5]);g=c[h-2]-w.x,m=c[h-1]-w.y}else g=c[h-2]-c[h-4],m=c[h-1]-c[h-3];const v=(Math.atan2(m,g)+l)%l,b=this.pointerWidth();this.pointerAtEnding()&&(s.save(),s.beginPath(),s.translate(c[h-2],c[h-1]),s.rotate(v),s.moveTo(0,0),s.lineTo(-f,b/2),s.lineTo(-f,-b/2),s.closePath(),s.restore(),this.__fillStroke(s)),this.pointerAtBeginning()&&(s.save(),s.beginPath(),s.translate(c[0],c[1]),d?(g=(u[0]+u[2])/2-c[0],m=(u[1]+u[3])/2-c[1]):(g=c[2]-c[0],m=c[3]-c[1]),s.rotate((Math.atan2(-m,-g)+l)%l),s.moveTo(0,0),s.lineTo(-f,b/2),s.lineTo(-f,-b/2),s.closePath(),s.restore(),this.__fillStroke(s))}__fillStroke(s){const l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,s.setLineDash([])),s.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const s=super.getSelfRect(),l=this.pointerWidth()/2;return{x:s.x,y:s.y-l,width:s.width,height:s.height+l*2}}};return Us.Arrow=a,a.prototype.className="Arrow",(0,r._registerNode)(a),t.Factory.addGetterSetter(a,"pointerLength",10,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(a,"pointerWidth",10,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(a,"pointerAtBeginning",!1),t.Factory.addGetterSetter(a,"pointerAtEnding",!0),Us}var Ws={},ly;function uH(){if(ly)return Ws;ly=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.Circle=void 0;const t=it(),e=mn(),n=ot(),r=Qe();let i=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius()!==o/2&&this.radius(o/2)}setHeight(o){this.radius()!==o/2&&this.radius(o/2)}};return Ws.Circle=i,i.prototype._centroid=!0,i.prototype.className="Circle",i.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(i),t.Factory.addGetterSetter(i,"radius",0,(0,n.getNumberValidator)()),Ws}var Vs={},cy;function dH(){if(cy)return Vs;cy=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.Ellipse=void 0;const t=it(),e=mn(),n=ot(),r=Qe();let i=class extends e.Shape{_sceneFunc(o){const s=this.radiusX(),l=this.radiusY();o.beginPath(),o.save(),s!==l&&o.scale(1,l/s),o.arc(0,0,s,0,Math.PI*2,!1),o.restore(),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(o){this.radiusX(o/2)}setHeight(o){this.radiusY(o/2)}};return Vs.Ellipse=i,i.prototype.className="Ellipse",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,r._registerNode)(i),t.Factory.addComponentsGetterSetter(i,"radius",["x","y"]),t.Factory.addGetterSetter(i,"radiusX",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"radiusY",0,(0,n.getNumberValidator)()),Vs}var Gs={},uy;function hH(){if(uy)return Gs;uy=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.Image=void 0;const t=Bt(),e=it(),n=mn(),r=Qe(),i=ot();class a extends n.Shape{constructor(s){super(s),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",l=>{this._removeImageLoad(l.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const s=this.image();s&&s.complete||s&&s.readyState===4||s&&s.addEventListener&&s.addEventListener("load",this._loadListener)}_removeImageLoad(s){s&&s.removeEventListener&&s.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const s=!!this.cornerRadius(),l=this.hasShadow();return s&&l?!0:super._useBufferCanvas(!0)}_sceneFunc(s){const l=this.getWidth(),c=this.getHeight(),u=this.cornerRadius(),d=this.attrs.image;let f;if(d){const h=this.attrs.cropWidth,g=this.attrs.cropHeight;h&&g?f=[d,this.cropX(),this.cropY(),h,g,0,0,l,c]:f=[d,0,0,l,c]}(this.hasFill()||this.hasStroke()||u)&&(s.beginPath(),u?t.Util.drawRoundedRectPath(s,l,c,u):s.rect(0,0,l,c),s.closePath(),s.fillStrokeShape(this)),d&&(u&&s.clip(),s.drawImage.apply(s,f))}_hitFunc(s){const l=this.width(),c=this.height(),u=this.cornerRadius();s.beginPath(),u?t.Util.drawRoundedRectPath(s,l,c,u):s.rect(0,0,l,c),s.closePath(),s.fillStrokeShape(this)}getWidth(){var s,l;return(s=this.attrs.width)!==null&&s!==void 0?s:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var s,l;return(s=this.attrs.height)!==null&&s!==void 0?s:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(s,l,c=null){const u=t.Util.createImageElement();u.onload=function(){const d=new a({image:u});l(d)},u.onerror=c,u.crossOrigin="Anonymous",u.src=s}}return Gs.Image=a,a.prototype.className="Image",(0,r._registerNode)(a),e.Factory.addGetterSetter(a,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(a,"image"),e.Factory.addComponentsGetterSetter(a,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(a,"cropX",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(a,"cropY",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(a,"cropWidth",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(a,"cropHeight",0,(0,i.getNumberValidator)()),Gs}var Oa={},dy;function fH(){if(dy)return Oa;dy=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.Tag=Oa.Label=void 0;const t=it(),e=mn(),n=b0(),r=ot(),i=Qe(),a=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],o="Change.konva",s="none",l="up",c="right",u="down",d="left",f=a.length;let h=class extends n.Group{constructor(v){super(v),this.on("add.konva",function(b){this._addListeners(b.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(v){let b=this,y;const x=function(){b._sync()};for(y=0;y<f;y++)v.on(a[y]+o,x)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let v=this.getText(),b=this.getTag(),y,x,w,_,k,R,A;if(v&&b){switch(y=v.width(),x=v.height(),w=b.pointerDirection(),_=b.pointerWidth(),A=b.pointerHeight(),k=0,R=0,w){case l:k=y/2,R=-1*A;break;case c:k=y+_,R=x/2;break;case u:k=y/2,R=x+A;break;case d:k=-1*_,R=x/2;break}b.setAttrs({x:-1*k,y:-1*R,width:y,height:x}),v.setAttrs({x:-1*k,y:-1*R})}}};Oa.Label=h,h.prototype.className="Label",(0,i._registerNode)(h);class g extends e.Shape{_sceneFunc(v){const b=this.width(),y=this.height(),x=this.pointerDirection(),w=this.pointerWidth(),_=this.pointerHeight(),k=this.cornerRadius();let R=0,A=0,T=0,O=0;typeof k=="number"?R=A=T=O=Math.min(k,b/2,y/2):(R=Math.min(k[0]||0,b/2,y/2),A=Math.min(k[1]||0,b/2,y/2),O=Math.min(k[2]||0,b/2,y/2),T=Math.min(k[3]||0,b/2,y/2)),v.beginPath(),v.moveTo(R,0),x===l&&(v.lineTo((b-w)/2,0),v.lineTo(b/2,-1*_),v.lineTo((b+w)/2,0)),v.lineTo(b-A,0),v.arc(b-A,A,A,Math.PI*3/2,0,!1),x===c&&(v.lineTo(b,(y-_)/2),v.lineTo(b+w,y/2),v.lineTo(b,(y+_)/2)),v.lineTo(b,y-O),v.arc(b-O,y-O,O,0,Math.PI/2,!1),x===u&&(v.lineTo((b+w)/2,y),v.lineTo(b/2,y+_),v.lineTo((b-w)/2,y)),v.lineTo(T,y),v.arc(T,y-T,T,Math.PI/2,Math.PI,!1),x===d&&(v.lineTo(0,(y+_)/2),v.lineTo(-1*w,y/2),v.lineTo(0,(y-_)/2)),v.lineTo(0,R),v.arc(R,R,R,Math.PI,Math.PI*3/2,!1),v.closePath(),v.fillStrokeShape(this)}getSelfRect(){let v=0,b=0,y=this.pointerWidth(),x=this.pointerHeight(),w=this.pointerDirection(),_=this.width(),k=this.height();return w===l?(b-=x,k+=x):w===u?k+=x:w===d?(v-=y*1.5,_+=y):w===c&&(_+=y*1.5),{x:v,y:b,width:_,height:k}}}return Oa.Tag=g,g.prototype.className="Tag",(0,i._registerNode)(g),t.Factory.addGetterSetter(g,"pointerDirection",s),t.Factory.addGetterSetter(g,"pointerWidth",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(g,"pointerHeight",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(g,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),Oa}var Xs={},hy;function s8(){if(hy)return Xs;hy=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.Rect=void 0;const t=it(),e=mn(),n=Qe(),r=Bt(),i=ot();let a=class extends e.Shape{_sceneFunc(s){const l=this.cornerRadius(),c=this.width(),u=this.height();s.beginPath(),l?r.Util.drawRoundedRectPath(s,c,u,l):s.rect(0,0,c,u),s.closePath(),s.fillStrokeShape(this)}};return Xs.Rect=a,a.prototype.className="Rect",(0,n._registerNode)(a),t.Factory.addGetterSetter(a,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Xs}var qs={},fy;function pH(){if(fy)return qs;fy=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.RegularPolygon=void 0;const t=it(),e=mn(),n=ot(),r=Qe();let i=class extends e.Shape{_sceneFunc(o){const s=this._getPoints();o.beginPath(),o.moveTo(s[0].x,s[0].y);for(let l=1;l<s.length;l++)o.lineTo(s[l].x,s[l].y);o.closePath(),o.fillStrokeShape(this)}_getPoints(){const o=this.attrs.sides,s=this.attrs.radius||0,l=[];for(let c=0;c<o;c++)l.push({x:s*Math.sin(c*2*Math.PI/o),y:-1*s*Math.cos(c*2*Math.PI/o)});return l}getSelfRect(){const o=this._getPoints();let s=o[0].x,l=o[0].y,c=o[0].x,u=o[0].y;return o.forEach(d=>{s=Math.min(s,d.x),l=Math.max(l,d.x),c=Math.min(c,d.y),u=Math.max(u,d.y)}),{x:s,y:c,width:l-s,height:u-c}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return qs.RegularPolygon=i,i.prototype.className="RegularPolygon",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(i),t.Factory.addGetterSetter(i,"radius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"sides",0,(0,n.getNumberValidator)()),qs}var Ys={},py;function gH(){if(py)return Ys;py=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.Ring=void 0;const t=it(),e=mn(),n=ot(),r=Qe(),i=Math.PI*2;let a=class extends e.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.innerRadius(),0,i,!1),s.moveTo(this.outerRadius(),0),s.arc(0,0,this.outerRadius(),i,0,!0),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}};return Ys.Ring=a,a.prototype.className="Ring",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(a),t.Factory.addGetterSetter(a,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(a,"outerRadius",0,(0,n.getNumberValidator)()),Ys}var Ks={},gy;function mH(){if(gy)return Ks;gy=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.Sprite=void 0;const t=it(),e=mn(),n=y0(),r=ot(),i=Qe();let a=class extends e.Shape{constructor(s){super(s),this._updated=!0,this.anim=new n.Animation(()=>{const l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(s){const l=this.animation(),c=this.frameIndex(),u=c*4,d=this.animations()[l],f=this.frameOffsets(),h=d[u+0],g=d[u+1],m=d[u+2],v=d[u+3],b=this.image();if((this.hasFill()||this.hasStroke())&&(s.beginPath(),s.rect(0,0,m,v),s.closePath(),s.fillStrokeShape(this)),b)if(f){const y=f[l],x=c*2;s.drawImage(b,h,g,m,v,y[x+0],y[x+1],m,v)}else s.drawImage(b,h,g,m,v,0,0,m,v)}_hitFunc(s){const l=this.animation(),c=this.frameIndex(),u=c*4,d=this.animations()[l],f=this.frameOffsets(),h=d[u+2],g=d[u+3];if(s.beginPath(),f){const m=f[l],v=c*2;s.rect(m[v+0],m[v+1],h,g)}else s.rect(0,0,h,g);s.closePath(),s.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const s=this;this.interval=setInterval(function(){s._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const s=this.getLayer();this.anim.setLayers(s),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const s=this.frameIndex(),l=this.animation(),c=this.animations(),u=c[l],d=u.length/4;s<d-1?this.frameIndex(s+1):this.frameIndex(0)}};return Ks.Sprite=a,a.prototype.className="Sprite",(0,i._registerNode)(a),t.Factory.addGetterSetter(a,"animation"),t.Factory.addGetterSetter(a,"animations"),t.Factory.addGetterSetter(a,"frameOffsets"),t.Factory.addGetterSetter(a,"image"),t.Factory.addGetterSetter(a,"frameIndex",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"frameRate",17,(0,r.getNumberValidator)()),t.Factory.backCompat(a,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Ks}var Zs={},my;function vH(){if(my)return Zs;my=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.Star=void 0;const t=it(),e=mn(),n=ot(),r=Qe();let i=class extends e.Shape{_sceneFunc(o){const s=this.innerRadius(),l=this.outerRadius(),c=this.numPoints();o.beginPath(),o.moveTo(0,0-l);for(let u=1;u<c*2;u++){const d=u%2===0?l:s,f=d*Math.sin(u*Math.PI/c),h=-1*d*Math.cos(u*Math.PI/c);o.lineTo(f,h)}o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Zs.Star=i,i.prototype.className="Star",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(i),t.Factory.addGetterSetter(i,"numPoints",5,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(i,"outerRadius",0,(0,n.getNumberValidator)()),Zs}var bo={},vy;function l8(){if(vy)return bo;vy=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.Text=void 0,bo.stringToArray=o;const t=Bt(),e=it(),n=mn(),r=Qe(),i=ot(),a=Qe();function o(j){return[...j].reduce((U,z,Q,K)=>{if(new RegExp("\\p{Emoji}","u").test(z)){const H=K[Q+1];H&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(H)?(U.push(z+H),K[Q+1]=""):U.push(z)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(z+(K[Q+1]||""))?U.push(z+K[Q+1]):Q>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(z)?U[U.length-1]+=z:z&&U.push(z);return U},[])}const s="auto",l="center",c="inherit",u="justify",d="Change.konva",f="2d",h="-",g="left",m="text",v="Text",b="top",y="bottom",x="middle",w="normal",_="px ",k=" ",R="right",A="rtl",T="word",O="char",M="none",$="",C=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],E=C.length;function S(j){return j.split(",").map(U=>{U=U.trim();const z=U.indexOf(" ")>=0,Q=U.indexOf('"')>=0||U.indexOf("'")>=0;return z&&!Q&&(U=`"${U}"`),U}).join(", ")}let F;function D(){return F||(F=t.Util.createCanvasElement().getContext(f),F)}function P(j){j.fillText(this._partialText,this._partialTextX,this._partialTextY)}function L(j){j.setAttr("miterLimit",2),j.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function N(j){return j=j||{},!j.fillLinearGradientColorStops&&!j.fillRadialGradientColorStops&&!j.fillPatternImage&&(j.fill=j.fill||"black"),j}let W=class extends n.Shape{constructor(U){super(N(U)),this._partialTextX=0,this._partialTextY=0;for(let z=0;z<E;z++)this.on(C[z]+d,this._setTextData);this._setTextData()}_sceneFunc(U){const z=this.textArr,Q=z.length;if(!this.text())return;let K=this.padding(),H=this.fontSize(),J=this.lineHeight()*H,ne=this.verticalAlign(),oe=this.direction(),he=0,ve=this.align(),Oe=this.getWidth(),Le=this.letterSpacing(),Re=this.fill(),bt=this.textDecoration(),et=bt.indexOf("underline")!==-1,I=bt.indexOf("line-through")!==-1,B;oe=oe===c?U.direction:oe;let te=J/2,le=x;if(r.Konva._fixTextRendering){const vn=this.measureSize("M");le="alphabetic",te=(vn.fontBoundingBoxAscent-vn.fontBoundingBoxDescent)/2+J/2}var de=0,pe=0;for(oe===A&&U.setAttr("direction",oe),U.setAttr("font",this._getContextFont()),U.setAttr("textBaseline",le),U.setAttr("textAlign",g),ne===x?he=(this.getHeight()-Q*J-K*2)/2:ne===y&&(he=this.getHeight()-Q*J-K*2),U.translate(K,he+K),B=0;B<Q;B++){var de=0,pe=0,ee=z[B],se=ee.text,Ce=ee.width,fe=ee.lastInParagraph,Ge,hn;if(U.save(),ve===R?de+=Oe-Ce-K*2:ve===l&&(de+=(Oe-Ce-K*2)/2),et){U.save(),U.beginPath();const jn=r.Konva._fixTextRendering?Math.round(H/4):Math.round(H/2),tr=de,Bn=te+pe+jn;U.moveTo(tr,Bn),Ge=se.split(" ").length-1,hn=ve===u&&!fe?Oe-K*2:Ce,U.lineTo(tr+Math.round(hn),Bn),U.lineWidth=H/15;const ys=this._getLinearGradient();U.strokeStyle=ys||Re,U.stroke(),U.restore()}if(I){U.save(),U.beginPath();const jn=r.Konva._fixTextRendering?-Math.round(H/4):0;U.moveTo(de,te+pe+jn),Ge=se.split(" ").length-1,hn=ve===u&&!fe?Oe-K*2:Ce,U.lineTo(de+Math.round(hn),te+pe+jn),U.lineWidth=H/15;const tr=this._getLinearGradient();U.strokeStyle=tr||Re,U.stroke(),U.restore()}if(oe!==A&&(Le!==0||ve===u)){Ge=se.split(" ").length-1;const jn=o(se);for(let tr=0;tr<jn.length;tr++){const Bn=jn[tr];Bn===" "&&!fe&&ve===u&&(de+=(Oe-K*2-Ce)/Ge),this._partialTextX=de,this._partialTextY=te+pe,this._partialText=Bn,U.fillStrokeShape(this),de+=this.measureSize(Bn).width+Le}}else Le!==0&&U.setAttr("letterSpacing",`${Le}px`),this._partialTextX=de,this._partialTextY=te+pe,this._partialText=se,U.fillStrokeShape(this);U.restore(),Q>1&&(te+=J)}}_hitFunc(U){const z=this.getWidth(),Q=this.getHeight();U.beginPath(),U.rect(0,0,z,Q),U.closePath(),U.fillStrokeShape(this)}setText(U){const z=t.Util._isString(U)?U:U==null?"":U+"";return this._setAttr(m,z),this}getWidth(){return this.attrs.width===s||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===s||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(U){var z,Q,K,H,J,ne,oe,he,ve,Oe,Le;let Re=D(),bt=this.fontSize(),et;Re.save(),Re.font=this._getContextFont(),et=Re.measureText(U),Re.restore();const I=bt/100;return{actualBoundingBoxAscent:(z=et.actualBoundingBoxAscent)!==null&&z!==void 0?z:71.58203125*I,actualBoundingBoxDescent:(Q=et.actualBoundingBoxDescent)!==null&&Q!==void 0?Q:0,actualBoundingBoxLeft:(K=et.actualBoundingBoxLeft)!==null&&K!==void 0?K:-7.421875*I,actualBoundingBoxRight:(H=et.actualBoundingBoxRight)!==null&&H!==void 0?H:75.732421875*I,alphabeticBaseline:(J=et.alphabeticBaseline)!==null&&J!==void 0?J:0,emHeightAscent:(ne=et.emHeightAscent)!==null&&ne!==void 0?ne:100*I,emHeightDescent:(oe=et.emHeightDescent)!==null&&oe!==void 0?oe:-20*I,fontBoundingBoxAscent:(he=et.fontBoundingBoxAscent)!==null&&he!==void 0?he:91*I,fontBoundingBoxDescent:(ve=et.fontBoundingBoxDescent)!==null&&ve!==void 0?ve:21*I,hangingBaseline:(Oe=et.hangingBaseline)!==null&&Oe!==void 0?Oe:72.80000305175781*I,ideographicBaseline:(Le=et.ideographicBaseline)!==null&&Le!==void 0?Le:-21*I,width:et.width,height:bt}}_getContextFont(){return this.fontStyle()+k+this.fontVariant()+k+(this.fontSize()+_)+S(this.fontFamily())}_addTextLine(U){this.align()===u&&(U=U.trim());const Q=this._getTextWidth(U);return this.textArr.push({text:U,width:Q,lastInParagraph:!1})}_getTextWidth(U){const z=this.letterSpacing(),Q=U.length;return D().measureText(U).width+z*Q}_setTextData(){let U=this.text().split(`
`),z=+this.fontSize(),Q=0,K=this.lineHeight()*z,H=this.attrs.width,J=this.attrs.height,ne=H!==s&&H!==void 0,oe=J!==s&&J!==void 0,he=this.padding(),ve=H-he*2,Oe=J-he*2,Le=0,Re=this.wrap(),bt=Re!==M,et=Re!==O&&bt,I=this.ellipsis();this.textArr=[],D().font=this._getContextFont();const B=I?this._getTextWidth($):0;for(let te=0,le=U.length;te<le;++te){let de=U[te],pe=this._getTextWidth(de);if(ne&&pe>ve)for(;de.length>0;){let ee=0,se=o(de).length,Ce="",fe=0;for(;ee<se;){const Ge=ee+se>>>1,hn=o(de),vn=hn.slice(0,Ge+1).join(""),pr=this._getTextWidth(vn);(I&&oe&&Le+K>Oe?pr+B:pr)<=ve?(ee=Ge+1,Ce=vn,fe=pr):se=Ge}if(Ce){if(et){const vn=o(de),pr=o(Ce),jn=vn[pr.length],tr=jn===k||jn===h;let Bn;if(tr&&fe<=ve)Bn=pr.length;else{const ys=pr.lastIndexOf(k),Rh=pr.lastIndexOf(h);Bn=Math.max(ys,Rh)+1}Bn>0&&(ee=Bn,Ce=vn.slice(0,ee).join(""),fe=this._getTextWidth(Ce))}if(Ce=Ce.trimRight(),this._addTextLine(Ce),Q=Math.max(Q,fe),Le+=K,this._shouldHandleEllipsis(Le)){this._tryToAddEllipsisToLastLine();break}if(de=o(de).slice(ee).join("").trimLeft(),de.length>0&&(pe=this._getTextWidth(de),pe<=ve)){this._addTextLine(de),Le+=K,Q=Math.max(Q,pe);break}}else break}else this._addTextLine(de),Le+=K,Q=Math.max(Q,pe),this._shouldHandleEllipsis(Le)&&te<le-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),oe&&Le+K>Oe)break}this.textHeight=z,this.textWidth=Q}_shouldHandleEllipsis(U){const z=+this.fontSize(),Q=this.lineHeight()*z,K=this.attrs.height,H=K!==s&&K!==void 0,J=this.padding(),ne=K-J*2;return!(this.wrap()!==M)||H&&U+Q>ne}_tryToAddEllipsisToLastLine(){const U=this.attrs.width,z=U!==s&&U!==void 0,Q=this.padding(),K=U-Q*2,H=this.ellipsis(),J=this.textArr[this.textArr.length-1];!J||!H||(z&&(this._getTextWidth(J.text+$)<K||(J.text=J.text.slice(0,J.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(J.text+$))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const U=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,z=this.hasShadow();return U&&z?!0:super._useBufferCanvas()}};return bo.Text=W,W.prototype._fillFunc=P,W.prototype._strokeFunc=L,W.prototype.className=v,W.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,a._registerNode)(W),e.Factory.overWriteSetter(W,"width",(0,i.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(W,"height",(0,i.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(W,"direction",c),e.Factory.addGetterSetter(W,"fontFamily","Arial"),e.Factory.addGetterSetter(W,"fontSize",12,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(W,"fontStyle",w),e.Factory.addGetterSetter(W,"fontVariant",w),e.Factory.addGetterSetter(W,"padding",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(W,"align",g),e.Factory.addGetterSetter(W,"verticalAlign",b),e.Factory.addGetterSetter(W,"lineHeight",1,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(W,"wrap",T),e.Factory.addGetterSetter(W,"ellipsis",!1,(0,i.getBooleanValidator)()),e.Factory.addGetterSetter(W,"letterSpacing",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(W,"text","",(0,i.getStringValidator)()),e.Factory.addGetterSetter(W,"textDecoration",""),bo}var Js={},by;function bH(){if(by)return Js;by=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.TextPath=void 0;const t=Bt(),e=it(),n=mn(),r=x0(),i=l8(),a=ot(),o=Qe(),s="",l="normal";function c(f){f.fillText(this.partialText,0,0)}function u(f){f.strokeText(this.partialText,0,0)}let d=class extends n.Shape{constructor(h){super(h),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return r.Path.getPathLength(this.dataArray)}_getPointAtLength(h){if(!this.attrs.data)return null;const g=this.pathLength;return h-1>g?null:r.Path.getPointAtLengthOfDataArray(h,this.dataArray)}_readDataAttribute(){this.dataArray=r.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(h){h.setAttr("font",this._getContextFont()),h.setAttr("textBaseline",this.textBaseline()),h.setAttr("textAlign","left"),h.save();const g=this.textDecoration(),m=this.fill(),v=this.fontSize(),b=this.glyphInfo;g==="underline"&&h.beginPath();for(let y=0;y<b.length;y++){h.save();const x=b[y].p0;h.translate(x.x,x.y),h.rotate(b[y].rotation),this.partialText=b[y].text,h.fillStrokeShape(this),g==="underline"&&(y===0&&h.moveTo(0,v/2+1),h.lineTo(v,v/2+1)),h.restore()}g==="underline"&&(h.strokeStyle=m,h.lineWidth=v/20,h.stroke()),h.restore()}_hitFunc(h){h.beginPath();const g=this.glyphInfo;if(g.length>=1){const m=g[0].p0;h.moveTo(m.x,m.y)}for(let m=0;m<g.length;m++){const v=g[m].p1;h.lineTo(v.x,v.y)}h.setAttr("lineWidth",this.fontSize()),h.setAttr("strokeStyle",this.colorKey),h.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(h){return i.Text.prototype.setText.call(this,h)}_getContextFont(){return i.Text.prototype._getContextFont.call(this)}_getTextSize(h){const m=this.dummyCanvas.getContext("2d");m.save(),m.font=this._getContextFont();const v=m.measureText(h);return m.restore(),{width:v.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:h,height:g}=this._getTextSize(this.attrs.text);if(this.textWidth=h,this.textHeight=g,this.glyphInfo=[],!this.attrs.data)return null;const m=this.letterSpacing(),v=this.align(),b=this.kerningFunc(),y=Math.max(this.textWidth+((this.attrs.text||"").length-1)*m,0);let x=0;v==="center"&&(x=Math.max(0,this.pathLength/2-y/2)),v==="right"&&(x=Math.max(0,this.pathLength-y));const w=(0,i.stringToArray)(this.text());let _=x;for(let k=0;k<w.length;k++){const R=this._getPointAtLength(_);if(!R)return;let A=this._getTextSize(w[k]).width+m;if(w[k]===" "&&v==="justify"){const E=this.text().split(" ").length-1;A+=(this.pathLength-y)/E}const T=this._getPointAtLength(_+A);if(!T)return;const O=r.Path.getLineLength(R.x,R.y,T.x,T.y);let M=0;if(b)try{M=b(w[k-1],w[k])*this.fontSize()}catch{M=0}R.x+=M,T.x+=M,this.textWidth+=M;const $=r.Path.getPointOnLine(M+O/2,R.x,R.y,T.x,T.y),C=Math.atan2(T.y-R.y,T.x-R.x);this.glyphInfo.push({transposeX:$.x,transposeY:$.y,text:w[k],rotation:C,p0:R,p1:T}),_+=A}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const h=[];this.glyphInfo.forEach(function(_){h.push(_.p0.x),h.push(_.p0.y),h.push(_.p1.x),h.push(_.p1.y)});let g=h[0]||0,m=h[0]||0,v=h[1]||0,b=h[1]||0,y,x;for(let _=0;_<h.length/2;_++)y=h[_*2],x=h[_*2+1],g=Math.min(g,y),m=Math.max(m,y),v=Math.min(v,x),b=Math.max(b,x);const w=this.fontSize();return{x:g-w/2,y:v-w/2,width:m-g+w,height:b-v+w}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Js.TextPath=d,d.prototype._fillFunc=c,d.prototype._strokeFunc=u,d.prototype._fillFuncHit=c,d.prototype._strokeFuncHit=u,d.prototype.className="TextPath",d.prototype._attrsAffectingSize=["text","fontSize","data"],(0,o._registerNode)(d),e.Factory.addGetterSetter(d,"data"),e.Factory.addGetterSetter(d,"fontFamily","Arial"),e.Factory.addGetterSetter(d,"fontSize",12,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(d,"fontStyle",l),e.Factory.addGetterSetter(d,"align","left"),e.Factory.addGetterSetter(d,"letterSpacing",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(d,"textBaseline","middle"),e.Factory.addGetterSetter(d,"fontVariant",l),e.Factory.addGetterSetter(d,"text",s),e.Factory.addGetterSetter(d,"textDecoration",""),e.Factory.addGetterSetter(d,"kerningFunc",void 0),Js}var Qs={},yy;function yH(){if(yy)return Qs;yy=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.Transformer=void 0;const t=Bt(),e=it(),n=Zt(),r=mn(),i=s8(),a=b0(),o=Qe(),s=ot(),l=Qe(),c="tr-konva",u=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(A=>A+`.${c}`).join(" "),d="nodesRect",f=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],h={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},g="ontouchstart"in o.Konva._global;function m(A,T,O){if(A==="rotater")return O;T+=t.Util.degToRad(h[A]||0);const M=(t.Util.radToDeg(T)%360+360)%360;return t.Util._inRange(M,315+22.5,360)||t.Util._inRange(M,0,22.5)?"ns-resize":t.Util._inRange(M,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(M,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(M,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(M,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(M,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(M,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(M,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+M),"pointer")}const v=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function b(A){return{x:A.x+A.width/2*Math.cos(A.rotation)+A.height/2*Math.sin(-A.rotation),y:A.y+A.height/2*Math.cos(A.rotation)+A.width/2*Math.sin(A.rotation)}}function y(A,T,O){const M=O.x+(A.x-O.x)*Math.cos(T)-(A.y-O.y)*Math.sin(T),$=O.y+(A.x-O.x)*Math.sin(T)+(A.y-O.y)*Math.cos(T);return{...A,rotation:A.rotation+T,x:M,y:$}}function x(A,T){const O=b(A);return y(A,T,O)}function w(A,T,O){let M=T;for(let $=0;$<A.length;$++){const C=o.Konva.getAngle(A[$]),E=Math.abs(C-T)%(Math.PI*2);Math.min(E,Math.PI*2-E)<O&&(M=C)}return M}let _=0,k=class extends a.Group{constructor(T){super(T),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(u,this.update),this.getNode()&&this.update()}attachTo(T){return this.setNode(T),this}setNode(T){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([T])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return c+this._id}setNodes(T=[]){this._nodes&&this._nodes.length&&this.detach();const O=T.filter($=>$.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=T=O,T.length===1&&this.useSingleNodeRotation()?this.rotation(T[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach($=>{const C=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if($._attrsAffectingSize.length){const E=$._attrsAffectingSize.map(S=>S+"Change."+this._getEventNamespace()).join(" ");$.on(E,C)}$.on(f.map(E=>E+`.${this._getEventNamespace()}`).join(" "),C),$.on(`absoluteTransformChange.${this._getEventNamespace()}`,C),this._proxyDrag($)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(T){let O;T.on(`dragstart.${this._getEventNamespace()}`,M=>{O=T.getAbsolutePosition(),!this.isDragging()&&T!==this.findOne(".back")&&this.startDrag(M,!1)}),T.on(`dragmove.${this._getEventNamespace()}`,M=>{if(!O)return;const $=T.getAbsolutePosition(),C=$.x-O.x,E=$.y-O.y;this.nodes().forEach(S=>{if(S===T||S.isDragging())return;const F=S.getAbsolutePosition();S.setAbsolutePosition({x:F.x+C,y:F.y+E}),S.startDrag(M)}),O=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(T=>{T.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(d),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(d,this.__getNodeRect)}__getNodeShape(T,O=this.rotation(),M){const $=T.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),C=T.getAbsoluteScale(M),E=T.getAbsolutePosition(M),S=$.x*C.x-T.offsetX()*C.x,F=$.y*C.y-T.offsetY()*C.y,D=(o.Konva.getAngle(T.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),P={x:E.x+S*Math.cos(D)+F*Math.sin(-D),y:E.y+F*Math.cos(D)+S*Math.sin(D),width:$.width*C.x,height:$.height*C.y,rotation:D};return y(P,-o.Konva.getAngle(O),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const O=[];this.nodes().map(D=>{const P=D.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),L=[{x:P.x,y:P.y},{x:P.x+P.width,y:P.y},{x:P.x+P.width,y:P.y+P.height},{x:P.x,y:P.y+P.height}],N=D.getAbsoluteTransform();L.forEach(function(W){const j=N.point(W);O.push(j)})});const M=new t.Transform;M.rotate(-o.Konva.getAngle(this.rotation()));let $=1/0,C=1/0,E=-1/0,S=-1/0;O.forEach(function(D){const P=M.point(D);$===void 0&&($=E=P.x,C=S=P.y),$=Math.min($,P.x),C=Math.min(C,P.y),E=Math.max(E,P.x),S=Math.max(S,P.y)}),M.invert();const F=M.point({x:$,y:C});return{x:F.x,y:F.y,width:E-$,height:S-C,rotation:o.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),v.forEach(T=>{this._createAnchor(T)}),this._createAnchor("rotater")}_createAnchor(T){const O=new i.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:T+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:g?10:"auto"}),M=this;O.on("mousedown touchstart",function($){M._handleMouseDown($)}),O.on("dragstart",$=>{O.stopDrag(),$.cancelBubble=!0}),O.on("dragend",$=>{$.cancelBubble=!0}),O.on("mouseenter",()=>{const $=o.Konva.getAngle(this.rotation()),C=this.rotateAnchorCursor(),E=m(T,$,C);O.getStage().content&&(O.getStage().content.style.cursor=E),this._cursorChange=!0}),O.on("mouseout",()=>{O.getStage().content&&(O.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(O)}_createBack(){const T=new r.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(O,M){const $=M.getParent(),C=$.padding();O.beginPath(),O.rect(-C,-C,M.width()+C*2,M.height()+C*2),O.moveTo(M.width()/2,-C),$.rotateEnabled()&&$.rotateLineVisible()&&O.lineTo(M.width()/2,-$.rotateAnchorOffset()*t.Util._sign(M.height())-C),O.fillStrokeShape(M)},hitFunc:(O,M)=>{if(!this.shouldOverdrawWholeArea())return;const $=this.padding();O.beginPath(),O.rect(-$,-$,M.width()+$*2,M.height()+$*2),O.fillStrokeShape(M)}});this.add(T),this._proxyDrag(T),T.on("dragstart",O=>{O.cancelBubble=!0}),T.on("dragmove",O=>{O.cancelBubble=!0}),T.on("dragend",O=>{O.cancelBubble=!0}),this.on("dragmove",O=>{this.update()})}_handleMouseDown(T){if(this._transforming)return;this._movingAnchorName=T.target.name().split(" ")[0];const O=this._getNodeRect(),M=O.width,$=O.height,C=Math.sqrt(Math.pow(M,2)+Math.pow($,2));this.sin=Math.abs($/C),this.cos=Math.abs(M/C),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const E=T.target.getAbsolutePosition(),S=T.target.getStage().getPointerPosition();this._anchorDragOffset={x:S.x-E.x,y:S.y-E.y},_++,this._fire("transformstart",{evt:T.evt,target:this.getNode()}),this._nodes.forEach(F=>{F._fire("transformstart",{evt:T.evt,target:F})})}_handleMouseMove(T){let O,M,$;const C=this.findOne("."+this._movingAnchorName),E=C.getStage();E.setPointersPositions(T);const S=E.getPointerPosition();let F={x:S.x-this._anchorDragOffset.x,y:S.y-this._anchorDragOffset.y};const D=C.getAbsolutePosition();this.anchorDragBoundFunc()&&(F=this.anchorDragBoundFunc()(D,F,T)),C.setAbsolutePosition(F);const P=C.getAbsolutePosition();if(D.x===P.x&&D.y===P.y)return;if(this._movingAnchorName==="rotater"){const ne=this._getNodeRect();O=C.x()-ne.width/2,M=-C.y()+ne.height/2;let oe=Math.atan2(-M,O)+Math.PI/2;ne.height<0&&(oe-=Math.PI);const ve=o.Konva.getAngle(this.rotation())+oe,Oe=o.Konva.getAngle(this.rotationSnapTolerance()),Re=w(this.rotationSnaps(),ve,Oe)-ne.rotation,bt=x(ne,Re);this._fitNodesInto(bt,T);return}const L=this.shiftBehavior();let N;L==="inverted"?N=this.keepRatio()&&!T.shiftKey:L==="none"?N=this.keepRatio():N=this.keepRatio()||T.shiftKey;var Q=this.centeredScaling()||T.altKey;if(this._movingAnchorName==="top-left"){if(N){var W=Q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};$=Math.sqrt(Math.pow(W.x-C.x(),2)+Math.pow(W.y-C.y(),2));var j=this.findOne(".top-left").x()>W.x?-1:1,U=this.findOne(".top-left").y()>W.y?-1:1;O=$*this.cos*j,M=$*this.sin*U,this.findOne(".top-left").x(W.x-O),this.findOne(".top-left").y(W.y-M)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(C.y());else if(this._movingAnchorName==="top-right"){if(N){var W=Q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};$=Math.sqrt(Math.pow(C.x()-W.x,2)+Math.pow(W.y-C.y(),2));var j=this.findOne(".top-right").x()<W.x?-1:1,U=this.findOne(".top-right").y()>W.y?-1:1;O=$*this.cos*j,M=$*this.sin*U,this.findOne(".top-right").x(W.x+O),this.findOne(".top-right").y(W.y-M)}var z=C.position();this.findOne(".top-left").y(z.y),this.findOne(".bottom-right").x(z.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(C.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(C.x());else if(this._movingAnchorName==="bottom-left"){if(N){var W=Q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};$=Math.sqrt(Math.pow(W.x-C.x(),2)+Math.pow(C.y()-W.y,2));var j=W.x<C.x()?-1:1,U=C.y()<W.y?-1:1;O=$*this.cos*j,M=$*this.sin*U,C.x(W.x-O),C.y(W.y+M)}z=C.position(),this.findOne(".top-left").x(z.x),this.findOne(".bottom-right").y(z.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(C.y());else if(this._movingAnchorName==="bottom-right"){if(N){var W=Q?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};$=Math.sqrt(Math.pow(C.x()-W.x,2)+Math.pow(C.y()-W.y,2));var j=this.findOne(".bottom-right").x()<W.x?-1:1,U=this.findOne(".bottom-right").y()<W.y?-1:1;O=$*this.cos*j,M=$*this.sin*U,this.findOne(".bottom-right").x(W.x+O),this.findOne(".bottom-right").y(W.y+M)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Q=this.centeredScaling()||T.altKey;if(Q){const ne=this.findOne(".top-left"),oe=this.findOne(".bottom-right"),he=ne.x(),ve=ne.y(),Oe=this.getWidth()-oe.x(),Le=this.getHeight()-oe.y();oe.move({x:-he,y:-ve}),ne.move({x:Oe,y:Le})}const K=this.findOne(".top-left").getAbsolutePosition();O=K.x,M=K.y;const H=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),J=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:O,y:M,width:H,height:J,rotation:o.Konva.getAngle(this.rotation())},T)}_handleMouseUp(T){this._removeEvents(T)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(T){var O;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const M=this.getNode();_--,this._fire("transformend",{evt:T,target:M}),(O=this.getLayer())===null||O===void 0||O.batchDraw(),M&&this._nodes.forEach($=>{var C;$._fire("transformend",{evt:T,target:$}),(C=$.getLayer())===null||C===void 0||C.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(T,O){const M=this._getNodeRect(),$=1;if(t.Util._inRange(T.width,-this.padding()*2-$,$)){this.update();return}if(t.Util._inRange(T.height,-this.padding()*2-$,$)){this.update();return}const C=new t.Transform;if(C.rotate(o.Konva.getAngle(this.rotation())),this._movingAnchorName&&T.width<0&&this._movingAnchorName.indexOf("left")>=0){const N=C.point({x:-this.padding()*2,y:0});T.x+=N.x,T.y+=N.y,T.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=N.x,this._anchorDragOffset.y-=N.y}else if(this._movingAnchorName&&T.width<0&&this._movingAnchorName.indexOf("right")>=0){const N=C.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=N.x,this._anchorDragOffset.y-=N.y,T.width+=this.padding()*2}if(this._movingAnchorName&&T.height<0&&this._movingAnchorName.indexOf("top")>=0){const N=C.point({x:0,y:-this.padding()*2});T.x+=N.x,T.y+=N.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=N.x,this._anchorDragOffset.y-=N.y,T.height+=this.padding()*2}else if(this._movingAnchorName&&T.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const N=C.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=N.x,this._anchorDragOffset.y-=N.y,T.height+=this.padding()*2}if(this.boundBoxFunc()){const N=this.boundBoxFunc()(M,T);N?T=N:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const E=1e7,S=new t.Transform;S.translate(M.x,M.y),S.rotate(M.rotation),S.scale(M.width/E,M.height/E);const F=new t.Transform,D=T.width/E,P=T.height/E;this.flipEnabled()===!1?(F.translate(T.x,T.y),F.rotate(T.rotation),F.translate(T.width<0?T.width:0,T.height<0?T.height:0),F.scale(Math.abs(D),Math.abs(P))):(F.translate(T.x,T.y),F.rotate(T.rotation),F.scale(D,P));const L=F.multiply(S.invert());this._nodes.forEach(N=>{var W;const j=N.getParent().getAbsoluteTransform(),U=N.getTransform().copy();U.translate(N.offsetX(),N.offsetY());const z=new t.Transform;z.multiply(j.copy().invert()).multiply(L).multiply(j).multiply(U);const Q=z.decompose();N.setAttrs(Q),(W=N.getLayer())===null||W===void 0||W.batchDraw()}),this.rotation(t.Util._getRotation(T.rotation)),this._nodes.forEach(N=>{this._fire("transform",{evt:O,target:N}),N._fire("transform",{evt:O,target:N})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(T,O){this.findOne(T).setAttrs(O)}update(){var T;const O=this._getNodeRect();this.rotation(t.Util._getRotation(O.rotation));const M=O.width,$=O.height,C=this.enabledAnchors(),E=this.resizeEnabled(),S=this.padding(),F=this.anchorSize(),D=this.find("._anchor");D.forEach(L=>{L.setAttrs({width:F,height:F,offsetX:F/2,offsetY:F/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:F/2+S,offsetY:F/2+S,visible:E&&C.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:M/2,y:0,offsetY:F/2+S,visible:E&&C.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:M,y:0,offsetX:F/2-S,offsetY:F/2+S,visible:E&&C.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:$/2,offsetX:F/2+S,visible:E&&C.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:M,y:$/2,offsetX:F/2-S,visible:E&&C.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:$,offsetX:F/2+S,offsetY:F/2-S,visible:E&&C.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:M/2,y:$,offsetY:F/2-S,visible:E&&C.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:M,y:$,offsetX:F/2-S,offsetY:F/2-S,visible:E&&C.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:M/2,y:-this.rotateAnchorOffset()*t.Util._sign($)-S,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:M,height:$,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const P=this.anchorStyleFunc();P&&D.forEach(L=>{P(L)}),(T=this.getLayer())===null||T===void 0||T.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const T=this.findOne("."+this._movingAnchorName);T&&T.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),a.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return n.Node.prototype.toObject.call(this)}clone(T){return n.Node.prototype.clone.call(this,T)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Qs.Transformer=k,k.isTransforming=()=>_>0;function R(A){return A instanceof Array||t.Util.warn("enabledAnchors value should be an array"),A instanceof Array&&A.forEach(function(T){v.indexOf(T)===-1&&t.Util.warn("Unknown anchor name: "+T+". Available names are: "+v.join(", "))}),A||[]}return k.prototype.className="Transformer",(0,l._registerNode)(k),e.Factory.addGetterSetter(k,"enabledAnchors",v,R),e.Factory.addGetterSetter(k,"flipEnabled",!0,(0,s.getBooleanValidator)()),e.Factory.addGetterSetter(k,"resizeEnabled",!0),e.Factory.addGetterSetter(k,"anchorSize",10,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(k,"rotateEnabled",!0),e.Factory.addGetterSetter(k,"rotateLineVisible",!0),e.Factory.addGetterSetter(k,"rotationSnaps",[]),e.Factory.addGetterSetter(k,"rotateAnchorOffset",50,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(k,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(k,"rotationSnapTolerance",5,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderEnabled",!0),e.Factory.addGetterSetter(k,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(k,"anchorStrokeWidth",1,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(k,"anchorFill","white"),e.Factory.addGetterSetter(k,"anchorCornerRadius",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(k,"borderStrokeWidth",1,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderDash"),e.Factory.addGetterSetter(k,"keepRatio",!0),e.Factory.addGetterSetter(k,"shiftBehavior","default"),e.Factory.addGetterSetter(k,"centeredScaling",!1),e.Factory.addGetterSetter(k,"ignoreStroke",!1),e.Factory.addGetterSetter(k,"padding",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(k,"nodes"),e.Factory.addGetterSetter(k,"node"),e.Factory.addGetterSetter(k,"boundBoxFunc"),e.Factory.addGetterSetter(k,"anchorDragBoundFunc"),e.Factory.addGetterSetter(k,"anchorStyleFunc"),e.Factory.addGetterSetter(k,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(k,"useSingleNodeRotation",!0),e.Factory.backCompat(k,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Qs}var el={},xy;function xH(){if(xy)return el;xy=1,Object.defineProperty(el,"__esModule",{value:!0}),el.Wedge=void 0;const t=it(),e=mn(),n=Qe(),r=ot(),i=Qe();let a=class extends e.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.radius(),0,n.Konva.getAngle(this.angle()),this.clockwise()),s.lineTo(0,0),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius(s/2)}setHeight(s){this.radius(s/2)}};return el.Wedge=a,a.prototype.className="Wedge",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),t.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"angle",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"clockwise",!1),t.Factory.backCompat(a,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),el}var tl={},wy;function wH(){if(wy)return tl;wy=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.Blur=void 0;const t=it(),e=Zt(),n=ot();function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(l,c){const u=l.data,d=l.width,f=l.height;let h,g,m,v,b,y,x,w,_,k,R,A,T,O,M,$,C,E,S,F,D,P,L,N;const W=c+c+1,j=d-1,U=f-1,z=c+1,Q=z*(z+1)/2,K=new r,H=i[c],J=a[c];let ne=null,oe=K,he=null,ve=null;for(m=1;m<W;m++)oe=oe.next=new r,m===z&&(ne=oe);for(oe.next=K,x=y=0,g=0;g<f;g++){for($=C=E=S=w=_=k=R=0,A=z*(F=u[y]),T=z*(D=u[y+1]),O=z*(P=u[y+2]),M=z*(L=u[y+3]),w+=Q*F,_+=Q*D,k+=Q*P,R+=Q*L,oe=K,m=0;m<z;m++)oe.r=F,oe.g=D,oe.b=P,oe.a=L,oe=oe.next;for(m=1;m<z;m++)v=y+((j<m?j:m)<<2),w+=(oe.r=F=u[v])*(N=z-m),_+=(oe.g=D=u[v+1])*N,k+=(oe.b=P=u[v+2])*N,R+=(oe.a=L=u[v+3])*N,$+=F,C+=D,E+=P,S+=L,oe=oe.next;for(he=K,ve=ne,h=0;h<d;h++)u[y+3]=L=R*H>>J,L!==0?(L=255/L,u[y]=(w*H>>J)*L,u[y+1]=(_*H>>J)*L,u[y+2]=(k*H>>J)*L):u[y]=u[y+1]=u[y+2]=0,w-=A,_-=T,k-=O,R-=M,A-=he.r,T-=he.g,O-=he.b,M-=he.a,v=x+((v=h+c+1)<j?v:j)<<2,$+=he.r=u[v],C+=he.g=u[v+1],E+=he.b=u[v+2],S+=he.a=u[v+3],w+=$,_+=C,k+=E,R+=S,he=he.next,A+=F=ve.r,T+=D=ve.g,O+=P=ve.b,M+=L=ve.a,$-=F,C-=D,E-=P,S-=L,ve=ve.next,y+=4;x+=d}for(h=0;h<d;h++){for(C=E=S=$=_=k=R=w=0,y=h<<2,A=z*(F=u[y]),T=z*(D=u[y+1]),O=z*(P=u[y+2]),M=z*(L=u[y+3]),w+=Q*F,_+=Q*D,k+=Q*P,R+=Q*L,oe=K,m=0;m<z;m++)oe.r=F,oe.g=D,oe.b=P,oe.a=L,oe=oe.next;for(b=d,m=1;m<=c;m++)y=b+h<<2,w+=(oe.r=F=u[y])*(N=z-m),_+=(oe.g=D=u[y+1])*N,k+=(oe.b=P=u[y+2])*N,R+=(oe.a=L=u[y+3])*N,$+=F,C+=D,E+=P,S+=L,oe=oe.next,m<U&&(b+=d);for(y=h,he=K,ve=ne,g=0;g<f;g++)v=y<<2,u[v+3]=L=R*H>>J,L>0?(L=255/L,u[v]=(w*H>>J)*L,u[v+1]=(_*H>>J)*L,u[v+2]=(k*H>>J)*L):u[v]=u[v+1]=u[v+2]=0,w-=A,_-=T,k-=O,R-=M,A-=he.r,T-=he.g,O-=he.b,M-=he.a,v=h+((v=g+z)<U?v:U)*d<<2,w+=$+=he.r=u[v],_+=C+=he.g=u[v+1],k+=E+=he.b=u[v+2],R+=S+=he.a=u[v+3],he=he.next,A+=F=ve.r,T+=D=ve.g,O+=P=ve.b,M+=L=ve.a,$-=F,C-=D,E-=P,S-=L,ve=ve.next,y+=d}}const s=function(c){const u=Math.round(this.blurRadius());u>0&&o(c,u)};return tl.Blur=s,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),tl}var nl={},_y;function _H(){if(_y)return nl;_y=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.Brighten=void 0;const t=it(),e=Zt(),n=ot(),r=function(i){const a=this.brightness()*255,o=i.data,s=o.length;for(let l=0;l<s;l+=4)o[l]+=a,o[l+1]+=a,o[l+2]+=a};return nl.Brighten=r,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),nl}var rl={},Cy;function CH(){if(Cy)return rl;Cy=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.Contrast=void 0;const t=it(),e=Zt(),n=ot(),r=function(i){const a=Math.pow((this.contrast()+100)/100,2),o=i.data,s=o.length;let l=150,c=150,u=150;for(let d=0;d<s;d+=4)l=o[d],c=o[d+1],u=o[d+2],l/=255,l-=.5,l*=a,l+=.5,l*=255,c/=255,c-=.5,c*=a,c+=.5,c*=255,u/=255,u-=.5,u*=a,u+=.5,u*=255,l=l<0?0:l>255?255:l,c=c<0?0:c>255?255:c,u=u<0?0:u>255?255:u,o[d]=l,o[d+1]=c,o[d+2]=u};return rl.Contrast=r,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),rl}var il={},ky;function kH(){if(ky)return il;ky=1,Object.defineProperty(il,"__esModule",{value:!0}),il.Emboss=void 0;const t=it(),e=Zt(),n=Bt(),r=ot(),i=function(a){const o=this.embossStrength()*10,s=this.embossWhiteLevel()*255,l=this.embossDirection(),c=this.embossBlend(),u=a.data,d=a.width,f=a.height,h=d*4;let g=0,m=0,v=f;switch(l){case"top-left":g=-1,m=-1;break;case"top":g=-1,m=0;break;case"top-right":g=-1,m=1;break;case"right":g=0,m=1;break;case"bottom-right":g=1,m=1;break;case"bottom":g=1,m=0;break;case"bottom-left":g=1,m=-1;break;case"left":g=0,m=-1;break;default:n.Util.error("Unknown emboss direction: "+l)}do{const b=(v-1)*h;let y=g;v+y<1&&(y=0),v+y>f&&(y=0);const x=(v-1+y)*d*4;let w=d;do{const _=b+(w-1)*4;let k=m;w+k<1&&(k=0),w+k>d&&(k=0);const R=x+(w-1+k)*4,A=u[_]-u[R],T=u[_+1]-u[R+1],O=u[_+2]-u[R+2];let M=A;const $=M>0?M:-M,C=T>0?T:-T,E=O>0?O:-O;if(C>$&&(M=T),E>$&&(M=O),M*=o,c){const S=u[_]+M,F=u[_+1]+M,D=u[_+2]+M;u[_]=S>255?255:S<0?0:S,u[_+1]=F>255?255:F<0?0:F,u[_+2]=D>255?255:D<0?0:D}else{let S=s-M;S<0?S=0:S>255&&(S=255),u[_]=u[_+1]=u[_+2]=S}}while(--w)}while(--v)};return il.Emboss=i,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,t.Factory.afterSetFilter),il}var al={},Sy;function SH(){if(Sy)return al;Sy=1,Object.defineProperty(al,"__esModule",{value:!0}),al.Enhance=void 0;const t=it(),e=Zt(),n=ot();function r(a,o,s,l,c){const u=s-o,d=c-l;if(u===0)return l+d/2;if(d===0)return l;let f=(a-o)/u;return f=d*f+l,f}const i=function(a){const o=a.data,s=o.length;let l=o[0],c=l,u,d=o[1],f=d,h,g=o[2],m=g,v;const b=this.enhance();if(b===0)return;for(let M=0;M<s;M+=4)u=o[M+0],u<l?l=u:u>c&&(c=u),h=o[M+1],h<d?d=h:h>f&&(f=h),v=o[M+2],v<g?g=v:v>m&&(m=v);c===l&&(c=255,l=0),f===d&&(f=255,d=0),m===g&&(m=255,g=0);let y,x,w,_,k,R,A,T,O;b>0?(x=c+b*(255-c),w=l-b*(l-0),k=f+b*(255-f),R=d-b*(d-0),T=m+b*(255-m),O=g-b*(g-0)):(y=(c+l)*.5,x=c+b*(c-y),w=l+b*(l-y),_=(f+d)*.5,k=f+b*(f-_),R=d+b*(d-_),A=(m+g)*.5,T=m+b*(m-A),O=g+b*(g-A));for(let M=0;M<s;M+=4)o[M+0]=r(o[M+0],l,c,w,x),o[M+1]=r(o[M+1],d,f,R,k),o[M+2]=r(o[M+2],g,m,O,T)};return al.Enhance=i,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),al}var ol={},Ey;function EH(){if(Ey)return ol;Ey=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.Grayscale=void 0;const t=function(e){const n=e.data,r=n.length;for(let i=0;i<r;i+=4){const a=.34*n[i]+.5*n[i+1]+.16*n[i+2];n[i]=a,n[i+1]=a,n[i+2]=a}};return ol.Grayscale=t,ol}var sl={},Ty;function TH(){if(Ty)return sl;Ty=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.HSL=void 0;const t=it(),e=Zt(),n=ot();t.Factory.addGetterSetter(e.Node,"hue",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter);const r=function(i){const a=i.data,o=a.length,s=1,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=this.luminance()*127,d=s*l*Math.cos(c*Math.PI/180),f=s*l*Math.sin(c*Math.PI/180),h=.299*s+.701*d+.167*f,g=.587*s-.587*d+.33*f,m=.114*s-.114*d-.497*f,v=.299*s-.299*d-.328*f,b=.587*s+.413*d+.035*f,y=.114*s-.114*d+.293*f,x=.299*s-.3*d+1.25*f,w=.587*s-.586*d-1.05*f,_=.114*s+.886*d-.2*f;let k,R,A,T;for(let O=0;O<o;O+=4)k=a[O+0],R=a[O+1],A=a[O+2],T=a[O+3],a[O+0]=h*k+g*R+m*A+u,a[O+1]=v*k+b*R+y*A+u,a[O+2]=x*k+w*R+_*A+u,a[O+3]=T};return sl.HSL=r,sl}var ll={},Ay;function AH(){if(Ay)return ll;Ay=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.HSV=void 0;const t=it(),e=Zt(),n=ot(),r=function(i){const a=i.data,o=a.length,s=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=s*l*Math.cos(c*Math.PI/180),d=s*l*Math.sin(c*Math.PI/180),f=.299*s+.701*u+.167*d,h=.587*s-.587*u+.33*d,g=.114*s-.114*u-.497*d,m=.299*s-.299*u-.328*d,v=.587*s+.413*u+.035*d,b=.114*s-.114*u+.293*d,y=.299*s-.3*u+1.25*d,x=.587*s-.586*u-1.05*d,w=.114*s+.886*u-.2*d;let _,k,R,A;for(let T=0;T<o;T+=4)_=a[T+0],k=a[T+1],R=a[T+2],A=a[T+3],a[T+0]=f*_+h*k+g*R,a[T+1]=m*_+v*k+b*R,a[T+2]=y*_+x*k+w*R,a[T+3]=A};return ll.HSV=r,t.Factory.addGetterSetter(e.Node,"hue",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),ll}var cl={},Oy;function OH(){if(Oy)return cl;Oy=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.Invert=void 0;const t=function(e){const n=e.data,r=n.length;for(let i=0;i<r;i+=4)n[i]=255-n[i],n[i+1]=255-n[i+1],n[i+2]=255-n[i+2]};return cl.Invert=t,cl}var ul={},My;function MH(){if(My)return ul;My=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.Kaleidoscope=void 0;const t=it(),e=Zt(),n=Bt(),r=ot(),i=function(s,l,c){const u=s.data,d=l.data,f=s.width,h=s.height,g=c.polarCenterX||f/2,m=c.polarCenterY||h/2;let v=Math.sqrt(g*g+m*m),b=f-g,y=h-m;const x=Math.sqrt(b*b+y*y);v=x>v?x:v;const w=h,_=f,k=360/_*Math.PI/180;for(let R=0;R<_;R+=1){const A=Math.sin(R*k),T=Math.cos(R*k);for(let O=0;O<w;O+=1){b=Math.floor(g+v*O/w*T),y=Math.floor(m+v*O/w*A);let M=(y*f+b)*4;const $=u[M+0],C=u[M+1],E=u[M+2],S=u[M+3];M=(R+O*f)*4,d[M+0]=$,d[M+1]=C,d[M+2]=E,d[M+3]=S}}},a=function(s,l,c){const u=s.data,d=l.data,f=s.width,h=s.height,g=c.polarCenterX||f/2,m=c.polarCenterY||h/2;let v=Math.sqrt(g*g+m*m),b=f-g,y=h-m;const x=Math.sqrt(b*b+y*y);v=x>v?x:v;const w=h,_=f,k=0;let R,A;for(b=0;b<f;b+=1)for(y=0;y<h;y+=1){const T=b-g,O=y-m,M=Math.sqrt(T*T+O*O)*w/v;let $=(Math.atan2(O,T)*180/Math.PI+360+k)%360;$=$*_/360,R=Math.floor($),A=Math.floor(M);let C=(A*f+R)*4;const E=u[C+0],S=u[C+1],F=u[C+2],D=u[C+3];C=(y*f+b)*4,d[C+0]=E,d[C+1]=S,d[C+2]=F,d[C+3]=D}},o=function(s){const l=s.width,c=s.height;let u,d,f,h,g,m,v,b,y,x,w=Math.round(this.kaleidoscopePower());const _=Math.round(this.kaleidoscopeAngle()),k=Math.floor(l*(_%360)/360);if(w<1)return;const R=n.Util.createCanvasElement();R.width=l,R.height=c;const A=R.getContext("2d").getImageData(0,0,l,c);n.Util.releaseCanvas(R),i(s,A,{polarCenterX:l/2,polarCenterY:c/2});let T=l/Math.pow(2,w);for(;T<=8;)T=T*2,w-=1;T=Math.ceil(T);let O=T,M=0,$=O,C=1;for(k+T>l&&(M=O,$=0,C=-1),d=0;d<c;d+=1)for(u=M;u!==$;u+=C)f=Math.round(u+k)%l,y=(l*d+f)*4,g=A.data[y+0],m=A.data[y+1],v=A.data[y+2],b=A.data[y+3],x=(l*d+u)*4,A.data[x+0]=g,A.data[x+1]=m,A.data[x+2]=v,A.data[x+3]=b;for(d=0;d<c;d+=1)for(O=Math.floor(T),h=0;h<w;h+=1){for(u=0;u<O+1;u+=1)y=(l*d+u)*4,g=A.data[y+0],m=A.data[y+1],v=A.data[y+2],b=A.data[y+3],x=(l*d+O*2-u-1)*4,A.data[x+0]=g,A.data[x+1]=m,A.data[x+2]=v,A.data[x+3]=b;O*=2}a(A,s,{})};return ul.Kaleidoscope=o,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),ul}var dl={},Ry;function RH(){if(Ry)return dl;Ry=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.Mask=void 0;const t=it(),e=Zt(),n=ot();function r(f,h,g){let m=(g*f.width+h)*4;const v=[];return v.push(f.data[m++],f.data[m++],f.data[m++],f.data[m++]),v}function i(f,h){return Math.sqrt(Math.pow(f[0]-h[0],2)+Math.pow(f[1]-h[1],2)+Math.pow(f[2]-h[2],2))}function a(f){const h=[0,0,0];for(let g=0;g<f.length;g++)h[0]+=f[g][0],h[1]+=f[g][1],h[2]+=f[g][2];return h[0]/=f.length,h[1]/=f.length,h[2]/=f.length,h}function o(f,h){const g=r(f,0,0),m=r(f,f.width-1,0),v=r(f,0,f.height-1),b=r(f,f.width-1,f.height-1),y=h||10;if(i(g,m)<y&&i(m,b)<y&&i(b,v)<y&&i(v,g)<y){const x=a([m,g,b,v]),w=[];for(let _=0;_<f.width*f.height;_++){const k=i(x,[f.data[_*4],f.data[_*4+1],f.data[_*4+2]]);w[_]=k<y?0:255}return w}}function s(f,h){for(let g=0;g<f.width*f.height;g++)f.data[4*g+3]=h[g]}function l(f,h,g){const m=[1,1,1,1,0,1,1,1,1],v=Math.round(Math.sqrt(m.length)),b=Math.floor(v/2),y=[];for(let x=0;x<g;x++)for(let w=0;w<h;w++){const _=x*h+w;let k=0;for(let R=0;R<v;R++)for(let A=0;A<v;A++){const T=x+R-b,O=w+A-b;if(T>=0&&T<g&&O>=0&&O<h){const M=T*h+O,$=m[R*v+A];k+=f[M]*$}}y[_]=k===255*8?255:0}return y}function c(f,h,g){const m=[1,1,1,1,1,1,1,1,1],v=Math.round(Math.sqrt(m.length)),b=Math.floor(v/2),y=[];for(let x=0;x<g;x++)for(let w=0;w<h;w++){const _=x*h+w;let k=0;for(let R=0;R<v;R++)for(let A=0;A<v;A++){const T=x+R-b,O=w+A-b;if(T>=0&&T<g&&O>=0&&O<h){const M=T*h+O,$=m[R*v+A];k+=f[M]*$}}y[_]=k>=255*4?255:0}return y}function u(f,h,g){const m=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],v=Math.round(Math.sqrt(m.length)),b=Math.floor(v/2),y=[];for(let x=0;x<g;x++)for(let w=0;w<h;w++){const _=x*h+w;let k=0;for(let R=0;R<v;R++)for(let A=0;A<v;A++){const T=x+R-b,O=w+A-b;if(T>=0&&T<g&&O>=0&&O<h){const M=T*h+O,$=m[R*v+A];k+=f[M]*$}}y[_]=k}return y}const d=function(f){const h=this.threshold();let g=o(f,h);return g&&(g=l(g,f.width,f.height),g=c(g,f.width,f.height),g=u(g,f.width,f.height),s(f,g)),f};return dl.Mask=d,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),dl}var hl={},$y;function $H(){if($y)return hl;$y=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.Noise=void 0;const t=it(),e=Zt(),n=ot(),r=function(i){const a=this.noise()*255,o=i.data,s=o.length,l=a/2;for(let c=0;c<s;c+=4)o[c+0]+=l-2*l*Math.random(),o[c+1]+=l-2*l*Math.random(),o[c+2]+=l-2*l*Math.random()};return hl.Noise=r,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),hl}var fl={},Fy;function FH(){if(Fy)return fl;Fy=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.Pixelate=void 0;const t=it(),e=Bt(),n=Zt(),r=ot(),i=function(a){let o=Math.ceil(this.pixelSize()),s=a.width,l=a.height,c,u,d,f,h,g,m,v=Math.ceil(s/o),b=Math.ceil(l/o),y,x,w,_,k,R,A,T=a.data;if(o<=0){e.Util.error("pixelSize value can not be <= 0");return}for(k=0;k<v;k+=1)for(R=0;R<b;R+=1){for(f=0,h=0,g=0,m=0,y=k*o,x=y+o,w=R*o,_=w+o,A=0,c=y;c<x;c+=1)if(!(c>=s))for(u=w;u<_;u+=1)u>=l||(d=(s*u+c)*4,f+=T[d+0],h+=T[d+1],g+=T[d+2],m+=T[d+3],A+=1);for(f=f/A,h=h/A,g=g/A,m=m/A,c=y;c<x;c+=1)if(!(c>=s))for(u=w;u<_;u+=1)u>=l||(d=(s*u+c)*4,T[d+0]=f,T[d+1]=h,T[d+2]=g,T[d+3]=m)}};return fl.Pixelate=i,t.Factory.addGetterSetter(n.Node,"pixelSize",8,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),fl}var pl={},Py;function PH(){if(Py)return pl;Py=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.Posterize=void 0;const t=it(),e=Zt(),n=ot(),r=function(i){const a=Math.round(this.levels()*254)+1,o=i.data,s=o.length,l=255/a;for(let c=0;c<s;c+=1)o[c]=Math.floor(o[c]/l)*l};return pl.Posterize=r,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),pl}var gl={},Dy;function DH(){if(Dy)return gl;Dy=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.RGB=void 0;const t=it(),e=Zt(),n=ot(),r=function(i){const a=i.data,o=a.length,s=this.red(),l=this.green(),c=this.blue();for(let u=0;u<o;u+=4){const d=(.34*a[u]+.5*a[u+1]+.16*a[u+2])/255;a[u]=d*s,a[u+1]=d*l,a[u+2]=d*c,a[u+3]=a[u+3]}};return gl.RGB=r,t.Factory.addGetterSetter(e.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),t.Factory.addGetterSetter(e.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),t.Factory.addGetterSetter(e.Node,"blue",0,n.RGBComponent,t.Factory.afterSetFilter),gl}var ml={},Ly;function LH(){if(Ly)return ml;Ly=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.RGBA=void 0;const t=it(),e=Zt(),n=ot(),r=function(i){const a=i.data,o=a.length,s=this.red(),l=this.green(),c=this.blue(),u=this.alpha();for(let d=0;d<o;d+=4){const f=1-u;a[d]=s*u+a[d]*f,a[d+1]=l*u+a[d+1]*f,a[d+2]=c*u+a[d+2]*f}};return ml.RGBA=r,t.Factory.addGetterSetter(e.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),t.Factory.addGetterSetter(e.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),t.Factory.addGetterSetter(e.Node,"blue",0,n.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(i){return this._filterUpToDate=!1,i>1?1:i<0?0:i}),ml}var vl={},Iy;function IH(){if(Iy)return vl;Iy=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.Sepia=void 0;const t=function(e){const n=e.data,r=n.length;for(let i=0;i<r;i+=4){const a=n[i+0],o=n[i+1],s=n[i+2];n[i+0]=Math.min(255,a*.393+o*.769+s*.189),n[i+1]=Math.min(255,a*.349+o*.686+s*.168),n[i+2]=Math.min(255,a*.272+o*.534+s*.131)}};return vl.Sepia=t,vl}var bl={},Ny;function NH(){if(Ny)return bl;Ny=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.Solarize=void 0;const t=function(e){const n=e.data,r=e.width,i=e.height,a=r*4;let o=i;do{const s=(o-1)*a;let l=r;do{const c=s+(l-1)*4;let u=n[c],d=n[c+1],f=n[c+2];u>127&&(u=255-u),d>127&&(d=255-d),f>127&&(f=255-f),n[c]=u,n[c+1]=d,n[c+2]=f}while(--l)}while(--o)};return bl.Solarize=t,bl}var yl={},jy;function jH(){if(jy)return yl;jy=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.Threshold=void 0;const t=it(),e=Zt(),n=ot(),r=function(i){const a=this.threshold()*255,o=i.data,s=o.length;for(let l=0;l<s;l+=1)o[l]=o[l]<a?0:255};return yl.Threshold=r,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),yl}var By;function BH(){if(By)return Fs;By=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.Konva=void 0;const t=oH(),e=sH(),n=cH(),r=uH(),i=dH(),a=hH(),o=fH(),s=o8(),l=x0(),c=s8(),u=pH(),d=gH(),f=mH(),h=vH(),g=l8(),m=bH(),v=yH(),b=xH(),y=wH(),x=_H(),w=CH(),_=kH(),k=SH(),R=EH(),A=TH(),T=AH(),O=OH(),M=MH(),$=RH(),C=$H(),E=FH(),S=PH(),F=DH(),D=LH(),P=IH(),L=NH(),N=jH();return Fs.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:n.Arrow,Circle:r.Circle,Ellipse:i.Ellipse,Image:a.Image,Label:o.Label,Tag:o.Tag,Line:s.Line,Path:l.Path,Rect:c.Rect,RegularPolygon:u.RegularPolygon,Ring:d.Ring,Sprite:f.Sprite,Star:h.Star,Text:g.Text,TextPath:m.TextPath,Transformer:v.Transformer,Wedge:b.Wedge,Filters:{Blur:y.Blur,Brighten:x.Brighten,Contrast:w.Contrast,Emboss:_.Emboss,Enhance:k.Enhance,Grayscale:R.Grayscale,HSL:A.HSL,HSV:T.HSV,Invert:O.Invert,Kaleidoscope:M.Kaleidoscope,Mask:$.Mask,Noise:C.Noise,Pixelate:E.Pixelate,Posterize:S.Posterize,RGB:F.RGB,RGBA:D.RGBA,Sepia:P.Sepia,Solarize:L.Solarize,Threshold:N.Threshold}}),Fs}var UH=Bu.exports,Uy;function zH(){if(Uy)return Bu.exports;Uy=1,Object.defineProperty(UH,"__esModule",{value:!0});const t=BH();return Bu.exports=t.Konva,Bu.exports}var HH=zH();const Mt=tc(HH);function Ad(t){if(!Mt.autoDrawEnabled){const e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const zy={key:!0,style:!0,elm:!0,isRootInsert:!0},cp=".vue-konva-event";function c8(t,e,n,r){const i=t.__konvaNode,a={};let o=!1;for(let s in n){if(zy.hasOwnProperty(s))continue;const l=s.slice(0,2)==="on",c=n[s]!==e[s];if(l&&c){let u=s.slice(2).toLowerCase();u.slice(0,7)==="content"&&(u="content"+u.slice(7,1).toUpperCase()+u.slice(8)),i?.off(u+cp,n[s])}!e.hasOwnProperty(s)&&i?.setAttr(s,void 0)}for(let s in e){if(zy.hasOwnProperty(s))continue;let l=s.slice(0,2)==="on";const c=n[s]!==e[s];if(l&&c){let u=s.slice(2).toLowerCase();u.slice(0,7)==="content"&&(u="content"+u.slice(7,1).toUpperCase()+u.slice(8)),e[s]&&(i?.off(u+cp),i?.on(u+cp,e[s]))}!l&&(e[s]!==n[s]||r&&e[s]!==i?.getAttr(s))&&(o=!0,a[s]=e[s])}o&&i&&(i.setAttrs(a),Ad(i))}const WH="v";function VH(t){function e(n){return n!=null&&n.__konvaNode?n:n!=null&&n.parent?e(n.parent):(console.error("vue-konva error: Can not find parent node"),null)}return e(t.parent)}function u8(t){return t.component?t.component.__konvaNode||u8(t.component.subTree):null}function GH(t){const{el:e,component:n}=t,r=u8(t);if(e!=null&&e.tagName&&n&&!r){const i=e.tagName.toLowerCase();return console.error(`vue-konva error: You are trying to render "${i}" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.`),null}return r}function XH(t){const e=i=>!!(i!=null&&i.hasOwnProperty("component")),n=i=>Array.isArray(i),r=i=>e(i)?[i,...r(i.children)]:n(i)?i.flatMap(r):[];return r(t.children)}function d8(t,e){const n=XH(t),r=[];n.forEach(a=>{const o=GH(a);o&&r.push(o)});let i=!1;r.forEach((a,o)=>{a.getZIndex()!==o&&(a.setZIndex(o),i=!0)}),i&&Ad(e)}const qH=Y({name:"Stage",props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:r}){const i=kr();if(!i)return;const a=wn({}),o=ie(null),s=new Mt.Stage({width:t.config.width,height:t.config.height,container:document.createElement("div")});i.__konvaNode=s,u();function l(){return i?.__konvaNode}function c(){return i?.__konvaNode}function u(){if(!i)return;const d=a||{},f={...e,...t.config};c8(i,f,d,t.__useStrictMode),Object.assign(a,f)}return Tr(()=>{o.value&&(o.value.innerHTML="",s.container(o.value)),u()}),Gy(()=>{u(),d8(i.subTree,s)}),Rd(()=>{s.destroy()}),ye(()=>t.config,u,{deep:!0}),r({getStage:c,getNode:l}),()=>{var d;return Ye("div",{ref:o,style:e?.style},(d=n.default)==null?void 0:d.call(n))}}}),YH=".vue-konva-event",KH={Group:!0,Layer:!0,FastLayer:!0,Label:!0};function ZH(t,e){return Y({name:t,props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup(n,{attrs:r,slots:i,expose:a}){const o=kr();if(!o)return;const s=wn({}),l=new e;o.__konvaNode=l,o.vnode.__konvaNode=l,d();function c(){return o?.__konvaNode}function u(){return o?.__konvaNode}function d(){if(!o)return;const h={};for(const v in o?.vnode.props)v.slice(0,2)==="on"&&(h[v]=o.vnode.props[v]);const g=s||{},m={...r,...n.config,...h};c8(o,m,g,n.__useStrictMode),Object.assign(s,m)}Tr(()=>{var h;const g=(h=VH(o))==null?void 0:h.__konvaNode;g&&"add"in g&&g.add(l),Ad(l)}),ts(()=>{Ad(l),l.destroy(),l.off(YH)}),Gy(()=>{d(),d8(o.subTree,l)}),ye(()=>n.config,d,{deep:!0}),a({getStage:u,getNode:c});const f=KH.hasOwnProperty(t);return()=>{var h;return f?Ye("template",{},(h=i.default)==null?void 0:h.call(i)):null}}})}typeof window<"u"&&!window.Konva&&require("konva");const JH={install:(t,e)=>{const n=e?.prefix||WH,r={Arc:Mt.Arc,Arrow:Mt.Arrow,Circle:Mt.Circle,Ellipse:Mt.Ellipse,FastLayer:Mt.FastLayer,Group:Mt.Group,Image:Mt.Image,Label:Mt.Label,Layer:Mt.Layer,Line:Mt.Line,Path:Mt.Path,Rect:Mt.Rect,RegularPolygon:Mt.RegularPolygon,Ring:Mt.Ring,Shape:Mt.Shape,Sprite:Mt.Sprite,Star:Mt.Star,Tag:Mt.Tag,Text:Mt.Text,TextPath:Mt.TextPath,Transformer:Mt.Transformer,Wedge:Mt.Wedge,...e?.customNodes};[qH,...Object.entries(r).map(([i,a])=>ZH(i,a))].forEach(i=>{t.component(`${n}${i.name}`,i)})}},SV=Object.freeze(Object.defineProperty({__proto__:null,DuxAiEditor:s0,DuxApp:y5,DuxAuthLayout:Y4,DuxAvatar:qo,DuxBlockEmpty:e0,DuxCard:hr,DuxCardPage:R4,DuxCarousel:_5,DuxChart:Zm,DuxCodeEditor:F6,DuxCollapsePanel:D4,DuxDashboardHello:D6,DuxDashboardHelloBig:L6,DuxDashboardQuick:N6,DuxDashboardQuickItem:I6,DuxDesignEditor:Fg,DuxDialog:B6,DuxDrawApps:a0,DuxDrawAuth:o0,DuxDrawEmpty:dh,DuxDrawEmptyForm:vc,DuxDrawError:a4,DuxDrawer:U6,DuxDrawerForm:ZB,DuxDrawerPage:Za,DuxDynamicData:t0,DuxDynamicSelect:j6,DuxFileManage:z4,DuxFileUpload:U4,DuxFilterLayout:c0,DuxFormEditor:pz,DuxFormItem:ce,DuxFormLayout:Bi,DuxFormRenderer:gz,DuxGrid:n4,DuxIconPicker:M4,DuxImageCrop:P6,DuxImageCropModal:Qm,DuxImageUpload:Th,DuxLayout:K4,DuxLevel:l0,DuxListEmpty:f0,DuxListLayout:Qo,DuxListPage:$4,DuxLoginPage:Z4,DuxMedia:sc,DuxMenuAvatar:p0,DuxMenuButton:Td,DuxMenuCmd:g0,DuxMenuMain:Ah,DuxMobileMenu:m0,DuxModal:Jm,DuxModalForm:o4,DuxModalPage:bs,DuxModalTab:t4,DuxPage:so,DuxPage403:J4,DuxPage404:Km,DuxPage500:Q4,DuxPageEmpty:u0,DuxPageForm:s4,DuxPageLoading:Iz,DuxPageStatus:ao,DuxPageTabForm:JB,DuxPanelAlert:F4,DuxPanelCard:P4,DuxPlaceholder:Po,DuxPosterEditor:_z,DuxSelectCard:I4,DuxSelectUpload:Rz,DuxSettingForm:l4,DuxStatsNumber:h0,DuxStatsRealTime:N4,DuxStatsStore:x5,DuxStatsStoreItem:w5,DuxTable:Cz,DuxTableFilter:Sh,DuxTableLayout:Ed,DuxTablePage:j4,DuxTableTools:Eh,DuxTreeFilter:B4,DuxWidgetConnect:W4,DuxWidgetEditorPreview:Ql,VueKonva:JH,WidgetEditorSetting:r4,WidgetEditorSettingCard:Je,config:t8,createDuxPro:nH,duxFormEditorGrid:i0,elementConfigs:_6,elementRegistry:mc,enUS:Hz,generateRainbowFromColor:V4,getElementConfig:Co,getElementsByCategory:LB,getTheme:G4,initVeeValidate:n8,presetTheme:e8,themeOverrides:X4,useAction:n0,useActionButton:H6,useActionDropdown:W6,useDialog:kh,useDownload:V6,useDrawer:z6,useEchartBar:$g,useEchartCommon:vs,useEchartFunnel:A6,useEchartLine:k6,useEchartMap:M6,useEchartPie:S6,useEchartRadar:O6,useEchartRing:E6,useEchartRose:T6,useEchartTreeMap:R6,useEchartType:$6,useEditor:i4,useImagePreview:G6,useLevel:X6,useModal:fr,usePosterEditor:L4,useTable:r0,useTableColumn:VB,useTableColumnColor:q6,useTableColumnImage:Y6,useTableColumnMap:K6,useTableColumnMedia:Z6,useTableColumnStatus:J6,useTableColumnSwitch:Q6,useUI:oo,useUIStore:e4,zhCN:Yz},Symbol.toStringTag,{value:"Module"}));export{$W as A,SV as D,ac as E,BI as J,Bk as N,_e as P,ca as Q,F6 as S,Y4 as Y,Z4 as _,GW as a,Km as b,Yz as c,Q9 as d,bs as e,gz as f,to as g,at as h,Hz as i,Q4 as j,r0 as k,fW as l,K4 as m,j9 as n,e7 as o,Iz as s,tT as t,lt as v,t7 as y};
