const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/loader-DKCQPsE8.js","assets/vendor-lodash-C5S6ylcr.js","assets/vendor-tools-DrP_QXNr.js","assets/vendor-loader-oH2KerV-.js","assets/vendor-vue-D0kJe6Vx.js","assets/vendor-vueuse-rPLwgZrD.js","assets/vendor-pinia-BVrVtJC5.js","assets/vendor-naive-B6pvj3p_.js","assets/vendor-echarts-C9MFLFDr.js","assets/vendor-editor-B-N6spzh.js","assets/vendor-ace-BiCsOx2U.js","assets/vendor-vee-B3NbUnae.js","assets/selectModal-CvlCD0yU.js","assets/jsonEditor-D7ZK_Uf3.js","assets/json-FdrNHKhR.js","assets/options-Bse_HRqL.js","assets/json-C5OIIgYy.js","assets/preview-B_H_CN4r.js","assets/iconPicker-CyDeeUDU.js","assets/vendor-icon-EIVbyAnn.js"])))=>i.map(i=>d[i]);
import{i as Ot,r as re,K as Jr,a1 as To,a2 as mn,S as Tr,N as _e,Z as zE,n as Lt,c as z,a0 as H2,e as Pn,w as pe,Y as bo,U as ah,a as fs,R as ac,x as va,y as sc,t as be,g as Wn,k as X,m as Oe,F as bt,o as vn,M as UE,p as Fn,a3 as d,a4 as zm,z as ps,j as Dt,a5 as HE,a6 as WE,a7 as VE,_ as Um,E as Ps,D as XE,a8 as YE,a9 as Hm,s as yt,u as Ft,aa as ct,ab as Ve,ac as xn,ad as at,l as ud,v as dd,I as pr,L as ba,ae as gs,q as En,b as lc,af as _o,ag as Ll,T as GE,X as Wm,ah as W2,ai as qE,aj as KE,d as V2,Q as Vm,ak as ZE,V as JE,al as sh,W as dt,am as QE,an as e4,ao as X2,ap as Qv}from"./vendor-vue-D0kJe6Vx.js";import{d as Li,s as lh,c as t4,i as n4,a as r4}from"./vendor-pinia-BVrVtJC5.js";import{b as Cn,f as tg,h as o4,i as i4,j as a4,l as Of,e as ch,n as s4,o as l4,p as Y2,g as Or,m as e1}from"./vendor-lodash-C5S6ylcr.js";import{u as Xm,r as c4,a as u4,b as d4,c as h4,d as Ue,w as G2,e as f4,f as q2,g as p4,h as uh,i as g4,j as m4,k as v4,l as b4}from"./vendor-vueuse-rPLwgZrD.js";import{t as y4,h as Fl,u as Ei,a as K2,s as x4,o as t1,b as ng,M as ii,r as n1,z as ya,k as dh,p as Ti,m as rg,c as r1,K as hd,S as rr,d as og,B as me,e as hh,f as wn,g as w4,F as Z2,i as ms,O as Oa,j as _4,l as vs,n as ze,W as Ze,R as Aa,q as fd,J as Ut,D as Ct,E as Ym,x as oa,v as J2,w as k4,y as Dn,A as Gm,C as C4,G as S4,H as pd,V as Q2,I as E4,N as ia,L as T4,P as O4,Q as A4,T as M4,U as $4,X as R4,Y as D4,Z as P4,_ as L4,$ as F4,a0 as I4,a1 as N4,a2 as j4,a3 as B4,a4 as z4,a5 as U4,a6 as ig}from"./vendor-naive-B6pvj3p_.js";import{j as qm,c as rt,h as ew,_ as xr,a as tw,b as H4}from"./vendor-tools-DrP_QXNr.js";import{E as ag,r as W4}from"./vendor-echarts-C9MFLFDr.js";import{V as V4}from"./vendor-editor-B-N6spzh.js";import{T as X4}from"./vendor-ace-BiCsOx2U.js";import{u as Y4,a as G4,d as q4,b as K4,s as Z4,c as J4,l as Q4}from"./vendor-vee-B3NbUnae.js";function Oo(t){const e=Ot("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return e8(t)()}function e8(t){return Li(`auths-${t}`,()=>{const e=re();return{data:e,getUser:()=>e.value||{},login:n=>{e.value={token:n?.token,id:n?.id,info:n?.info,permission:n?.permission}},isLogin:()=>!!e.value?.token,logout:()=>{e.value=void 0},update:n=>{e.value={token:n?.token,id:n?.id,info:n?.info,permission:n?.permission}},updateKey:(n,r)=>{e.value={...e.value,[n]:r}}}},{persist:!0})}function Ma(t){const e=Ot("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return t8(t)()}function t8(t){return Li(`routes-${t}`,()=>{const e=re([]),n=h=>e.value?.find(f=>f.path===h),r=h=>e.value?.find(f=>f.name===h),o=h=>{e.value?.push(h)},i=h=>{e.value=[...e.value,...h]},a=h=>{e.value=h},s=()=>e.value,l=()=>{e.value=[]},c=()=>{const h=e.value?.filter(p=>!p.parent&&!p.name?.includes("404")&&!p.name?.includes("403"))?.sort((p,m)=>(p.sort||0)-(m.sort||0)),f=p=>{if(p.path)return p;const m=e.value?.filter(v=>v.parent===p.name)?.sort((v,g)=>(v.sort||0)-(g.sort||0));for(const v of m||[]){const g=f(v);if(g)return g}};for(const p of h||[]){const m=f(p);if(m)return m}},u=re(!1);return{routes:e,searchRoute:n,searchRouteName:r,appendRoute:o,appendRoutes:i,setRoutes:a,getRoutes:s,clearRoutes:l,getIndexRoute:c,getRouteInit:()=>{const h=u.value;return u.value=!0,h},resetRouteInit:()=>{u.value=!1}}})}function o1(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)&&typeof t.getList!="function"}function fh(t){const e=Ot("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return n8(t)()}function n8(t){return Li(`manages-${t}`,()=>{const e=re(),n=re(!1);return{config:e,isInit:()=>{const r=n.value;return n.value=!0,r},setConfig:(r,o)=>{const i=Cn(r),a=[];i.title&&a.push(i.title),o.title&&a.push(o.title),i.title=a.join(" - "),i.copyright=i.copyright||o.copyright,i.description=i.description||o.description,i.theme={...o?.theme,...i?.theme};const s={};o?.dataProvider&&(o1(o.dataProvider)?Object.keys(o.dataProvider).forEach(c=>{s[c]=o.dataProvider[c]}):s.default=o.dataProvider),i?.dataProvider&&(o1(i.dataProvider)?Object.keys(i.dataProvider).forEach(c=>{s[c]=i.dataProvider[c]}):s.default=i.dataProvider),i.authProvider=o?.authProvider||i?.authProvider,i.dataProvider=s,i.i18nProvider=o?.i18nProvider||i?.i18nProvider,i.layoutComponent={...o.layoutComponent,...i.layoutComponent};const l={...o.components,...i.components};l&&Object.keys(l).forEach(c=>{l[c]&&(l[c]=Jr(l[c]))}),i.components=l,i.remote={...o.remote,...i.remote},e.value=i},getConfig:()=>e.value}})}function it(t){const e=Ot("dux.manage");if(t||(t=e?.value),!t)throw new Error("manage name is not defined");const{config:n}=fh(t),r=a=>`${n?.routePrefix}/${tg(a||"","/")}`,o=(a,s)=>n?.dataProvider?.[s||"default"]?.apiUrl?.(a,n?.apiBasePath)||"",i=To();return{config:n,getRoutePath:r,getApiUrl:o,getPath:()=>{const a=i.path,s=n?.routePrefix||"";return tg(a.replace(s,""),"/")}}}function nw(t){const e=it(),n=Oo(),r=Ma(),o=mn(),i=re(!1);return{mutate:async a=>{i.value=!0;const s=await e.config.authProvider?.login(a,e);if(i.value=!1,s?.success){if(!s?.data)throw new Error("Login response data is undefined");r.resetRouteInit(),t?.onSuccess?.(s),n.login(s.data),o.push(e.getRoutePath(s.redirectTo||"/"));return}t?.onError?.(s)},isLoading:i}}function rw(t){const e=it(),n=Oo(),r=mn();return{mutate:async o=>{const i=await e.config.authProvider?.logout(o,e);if(i?.success){t?.onSuccess?.(i),n.logout(),await r.replace(e.getRoutePath(i.redirectTo||"/login")),setTimeout(()=>{window.location.reload()},100);return}t?.onError?.(i)}}}function ow(t){const e=it(),n=Oo(),{mutate:r}=ar();return{mutate:async o=>{const i=await e.config.authProvider?.check?.(o,e,n.getUser());if(i?.success){if(t?.onSuccess?.(i),!i?.data)throw new Error("Check response data is undefined");n.update(i.data);return}t?.onError?.(i),i?.logout&&r({status:401,message:i.message||"Unauthorized"})}}}function r8(t){const e=it(),n=Oo(),r=mn();return{mutate:async o=>{const i=await e.config.authProvider?.register?.(o,e);if(i?.success){if(t?.onSuccess?.(i),!i?.data)throw new Error("Register response data is undefined");n.login(i.data),r.push(e.getRoutePath(i.redirectTo||"/"));return}t?.onError?.(i)}}}function o8(t){const e=it(),n=mn();return{mutate:async r=>{const o=await e.config.authProvider?.forgotPassword?.(r,e);if(o?.success){t?.onSuccess?.(o),o.redirectTo&&n.push(e.getRoutePath(o.redirectTo||"/"));return}t?.onError?.(o)}}}function i8(t){const e=it(),n=mn();return{mutate:async r=>{const o=await e.config.authProvider?.updatePassword?.(r,e);if(o?.success){t?.onSuccess?.(o),o.redirectTo&&n.push(e.getRoutePath(o.redirectTo||"/"));return}t?.onError?.(o)}}}function ar(t){const{config:e,getRoutePath:n}=it(),r=mn(),o=Oo(e.name),i=Ma(e.name);return{mutate:async a=>{const s=await e.authProvider?.onError(a);t?.(s),s?.logout&&(await o.logout(),await i.resetRouteInit(),await r.replace(n(s.redirectTo||"/login")),setTimeout(()=>{},100))}}}function Nn(t){return Oo(t).getUser()}function a8(t){return Oo(t).isLogin()}function ph(t){const e=it(t),n=Oo(t).getUser();return(r,o)=>e.config.authProvider?.can?e.config.authProvider.can(r,o,e,n):!0}var $a=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oi=typeof window>"u"||"Deno"in globalThis;function Un(){}function s8(t,e){return typeof t=="function"?t(e):t}function sg(t){return typeof t=="number"&&t>=0&&t!==1/0}function iw(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Si(t,e){return typeof t=="function"?t(e):t}function Ur(t,e){return typeof t=="function"?t(e):t}function lg(t,e){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==Km(a,e.options))return!1}else if(!bs(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||o&&o!==e.state.fetchStatus||i&&!i(e))}function cg(t,e){const{exact:n,status:r,predicate:o,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ai(e.options.mutationKey)!==Ai(i))return!1}else if(!bs(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function Km(t,e){return(e?.queryKeyHashFn||Ai)(t)}function Ai(t){return JSON.stringify(t,(e,n)=>ug(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function bs(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>bs(t[n],e[n])):!1}function gh(t,e){if(t===e)return t;const n=i1(t)&&i1(e);if(n||ug(t)&&ug(e)){const r=n?t:Object.keys(t),o=r.length,i=n?e:Object.keys(e),a=i.length,s=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<a;u++){const h=n?u:i[u];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(s[h]=void 0,c++):(s[h]=gh(t[h],e[h]),s[h]===t[h]&&t[h]!==void 0&&c++)}return o===a&&c===o?t:s}return e}function gd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function i1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ug(t){if(!a1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!a1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function a1(t){return Object.prototype.toString.call(t)==="[object Object]"}function l8(t){return new Promise(e=>{setTimeout(e,t)})}function dg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?gh(t,e):e}function c8(t){return t}function hg(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function u8(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var mh=Symbol();function aw(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===mh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function md(t,e){return typeof t=="function"?t(...e):!!t}var d8=class extends $a{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!Oi&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},vh=new d8,h8=class extends $a{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!Oi&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},Il=new h8;function fg(){let t,e;const n=new Promise((o,i)=>{t=o,e=i});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},n.reject=o=>{r({status:"rejected",reason:o}),e(o)},n}function f8(t){let e;if(t.then(n=>(e=n,n),Un)?.catch(Un),e!==void 0)return{data:e}}function p8(t){return Math.min(1e3*2**t,3e4)}function sw(t){return(t??"online")==="online"?Il.isOnline():!0}var Zm=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ju(t){return t instanceof Zm}function lw(t){let e=!1,n=0,r=!1,o;const i=fg(),a=v=>{r||(f(new Zm(v)),t.abort?.())},s=()=>{e=!0},l=()=>{e=!1},c=()=>vh.isFocused()&&(t.networkMode==="always"||Il.isOnline())&&t.canRun(),u=()=>sw(t.networkMode)&&t.canRun(),h=v=>{r||(r=!0,t.onSuccess?.(v),o?.(),i.resolve(v))},f=v=>{r||(r=!0,t.onError?.(v),o?.(),i.reject(v))},p=()=>new Promise(v=>{o=g=>{(r||c())&&v(g)},t.onPause?.()}).then(()=>{o=void 0,r||t.onContinue?.()}),m=()=>{if(r)return;let v;const g=n===0?t.initialPromise:void 0;try{v=g??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(h).catch(b=>{if(r)return;const y=t.retry??(Oi?0:3),x=t.retryDelay??p8,w=typeof x=="function"?x(n,b):x,_=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(e||!_){f(b);return}n++,t.onFail?.(n,b),l8(w).then(()=>c()?void 0:p()).then(()=>{e?f(b):m()})})};return{promise:i,cancel:a,continue:()=>(o?.(),i),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?m():p().then(m),i)}}var cw=t=>setTimeout(t,0);function g8(){let t=[],e=0,n=s=>{s()},r=s=>{s()},o=cw;const i=s=>{e?t.push(s):o(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&o(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{i(()=>{s(...l)})},schedule:i,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{o=s}}}var an=g8(),uw=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sg(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Oi?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},dw=class extends uw{#t;#e;#n;#r;#o;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=m8(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#o?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=dg(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#o?.promise;return this.#o?.cancel(t),e?e.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Ur(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Si(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!iw(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#o?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#o?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#o&&(this.#s?this.#o.cancel({revert:!0}):this.#o.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#o)return this.#o.continueRetry(),this.#o.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},o=()=>{const l=aw(this.options,e),u=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(h),h})();return this.#s=!1,this.options.persister?this.options.persister(l,u,this):l(u)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#a({type:"fetch",meta:a.fetchOptions?.meta});const s=l=>{ju(l)&&l.silent||this.#a({type:"error",error:l}),ju(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#o=lw({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#o.start()}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hw(n.data,this.options),fetchMeta:t.meta??null};case"success":return this.#e=void 0,{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return ju(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),an.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function hw(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sw(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function m8(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var fw=class extends $a{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,n,r){const o=n.queryKey,i=n.queryHash??Km(o,n);let a=this.get(i);return a||(a=new dw({client:e,queryKey:o,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#t.get(e.queryHash);n&&(e.destroy(),n===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){an.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>lg(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>lg(e,r)):n}notify(e){an.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){an.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pw=class extends uw{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||gw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=lw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(o,i)=>{this.#r({type:"failed",failureCount:o,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#e.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:r})}const o=await this.#n.start();return await this.#e.config.onSuccess?.(o,t,this.state.context,this),await this.options.onSuccess?.(o,t,this.state.context),await this.#e.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,t,this.state.context),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#e.config.onError?.(o,t,this.state.context,this),await this.options.onError?.(o,t,this.state.context),await this.#e.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,t,this.state.context),o}finally{this.#r({type:"error",error:o})}}finally{this.#e.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),an.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function gw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mw=class extends $a{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,n,r){const o=new pw({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:r});return this.add(o),o}add(e){this.#t.add(e);const n=Pc(e);if(typeof n=="string"){const r=this.#e.get(n);r?r.push(e):this.#e.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const n=Pc(e);if(typeof n=="string"){const r=this.#e.get(n);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&this.#e.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Pc(e);if(typeof n=="string"){const o=this.#e.get(n)?.find(i=>i.state.status==="pending");return!o||o===e}else return!0}runNext(e){const n=Pc(e);return typeof n=="string"?this.#e.get(n)?.find(o=>o!==e&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){an.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const n={exact:!0,...e};return this.getAll().find(r=>cg(n,r))}findAll(e={}){return this.getAll().filter(n=>cg(e,n))}notify(e){an.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return an.batch(()=>Promise.all(e.map(n=>n.continue().catch(Un))))}};function Pc(t){return t.options.scope?.id}function vd(t){return{onFetch:(e,n)=>{const r=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const h=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=aw(e.options,e.fetchOptions),p=async(m,v,g)=>{if(u)return Promise.reject();if(v==null&&m.pages.length)return Promise.resolve(m);const y=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:v,direction:g?"backward":"forward",meta:e.options.meta};return h(k),k})(),x=await f(y),{maxPages:w}=e.options,_=g?u8:hg;return{pages:_(m.pages,x,w),pageParams:_(m.pageParams,v,w)}};if(o&&i.length){const m=o==="backward",v=m?vw:pg,g={pages:i,pageParams:a},b=v(r,g);s=await p(g,b,m)}else{const m=t??i.length;do{const v=l===0?a[0]??r.initialPageParam:pg(r,s);if(l>0&&v==null)break;s=await p(s,v),l++}while(l<m)}return s};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function pg(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function vw(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}function v8(t,e){return e?pg(t,e)!=null:!1}function b8(t,e){return!e||!t.getPreviousPageParam?!1:vw(t,e)!=null}var y8=class{#t;#e;#n;#r;#o;#i;#s;#a;constructor(e={}){this.#t=e.queryCache||new fw,this.#e=e.mutationCache||new mw,this.#n=e.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=vh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Il.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#t.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#t.build(this,n),o=r.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Si(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(o))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:n,state:r})=>{const o=r.data;return[n,o]})}setQueryData(e,n,r){const o=this.defaultQueryOptions({queryKey:e}),a=this.#t.get(o.queryHash)?.state.data,s=s8(n,a);if(s!==void 0)return this.#t.build(this,o).setData(s,{...r,manual:!0})}setQueriesData(e,n,r){return an.batch(()=>this.#t.findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#t.get(n.queryHash)?.state}removeQueries(e){const n=this.#t;an.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#t;return an.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},o=an.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(o).then(Un).catch(Un)}invalidateQueries(e,n={}){return an.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},o=an.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Un)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(o).then(Un)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#t.build(this,n);return r.isStaleByTime(Si(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Un).catch(Un)}fetchInfiniteQuery(e){return e.behavior=vd(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Un).catch(Un)}ensureInfiniteQueryData(e){return e.behavior=vd(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Il.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#r.set(Ai(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#r.values()],r={};return n.forEach(o=>{bs(e,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(e,n){this.#o.set(Ai(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#o.values()],r={};return n.forEach(o=>{bs(e,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=Km(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===mh&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},bh=class extends $a{constructor(t,e){super(),this.options=e,this.#t=t,this.#a=null,this.#s=fg(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#o;#i;#s;#a;#f;#d;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),s1(this.#e,this.options)?this.#p():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gg(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gg(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ur(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),e._defaulted&&!gd(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&l1(this.#e,n,this.options,e)&&this.#p(),this.updateResult(),r&&(this.#e!==n||Ur(this.options.enabled,this.#e)!==Ur(e.enabled,this.#e)||Si(this.options.staleTime,this.#e)!==Si(e.staleTime,this.#e))&&this.#m();const o=this.#v();r&&(this.#e!==n||Ur(this.options.enabled,this.#e)!==Ur(e.enabled,this.#e)||o!==this.#l)&&this.#b(o)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return w8(this,n)&&(this.#r=n,this.#i=this.options,this.#o=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#p(t){this.#_();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Un)),e}#m(){this.#x();const t=Si(this.options.staleTime,this.#e);if(Oi||this.#r.isStale||!sg(t))return;const n=iw(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#l=t,!(Oi||Ur(this.options.enabled,this.#e)===!1||!sg(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||vh.isFocused())&&this.#p()},this.#l))}#y(){this.#m(),this.#b(this.#v())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#e,r=this.options,o=this.#r,i=this.#o,a=this.#i,l=t!==n?t.state:this.#n,{state:c}=t;let u={...c},h=!1,f;if(e._optimisticResults){const $=this.hasListeners(),A=!$&&s1(t,e),D=$&&l1(t,n,e,r);(A||D)&&(u={...u,...hw(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:v}=u;f=u.data;let g=!1;if(e.placeholderData!==void 0&&f===void 0&&v==="pending"){let $;o?.isPlaceholderData&&e.placeholderData===a?.placeholderData?($=o.data,g=!0):$=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,$!==void 0&&(v="success",f=dg(o?.data,$,e),h=!0)}if(e.select&&f!==void 0&&!g)if(o&&f===i?.data&&e.select===this.#f)f=this.#d;else try{this.#f=e.select,f=e.select(f),f=dg(o?.data,f,e),this.#d=f,this.#a=null}catch($){this.#a=$}this.#a&&(p=this.#a,f=this.#d,m=Date.now(),v="error");const b=u.fetchStatus==="fetching",y=v==="pending",x=v==="error",w=y&&b,_=f!==void 0,E={status:v,fetchStatus:u.fetchStatus,isPending:y,isSuccess:v==="success",isError:x,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:u.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:x&&!_,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&_,isStale:Jm(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const $=O=>{E.status==="error"?O.reject(E.error):E.data!==void 0&&O.resolve(E.data)},A=()=>{const O=this.#s=E.promise=fg();$(O)},D=this.#s;switch(D.status){case"pending":t.queryHash===n.queryHash&&$(D);break;case"fulfilled":(E.status==="error"||E.data!==D.value)&&A();break;case"rejected":(E.status!=="error"||E.error!==D.reason)&&A();break}}return E}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#o=this.#e.state,this.#i=this.options,this.#o.data!==void 0&&(this.#h=this.#e),gd(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!this.#g.size)return!0;const i=new Set(o??this.#g);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(a=>{const s=a;return this.#r[s]!==t[s]&&i.has(s)})};this.#k({listeners:n()})}#_(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#k(t){an.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function x8(t,e){return Ur(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function s1(t,e){return x8(t,e)||t.state.data!==void 0&&gg(t,e,e.refetchOnMount)}function gg(t,e,n){if(Ur(e.enabled,t)!==!1&&Si(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Jm(t,e)}return!1}function l1(t,e,n,r){return(t!==e||Ur(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Jm(t,n)}function Jm(t,e){return Ur(e.enabled,t)!==!1&&t.isStaleByTime(Si(e.staleTime,t))}function w8(t,e){return!gd(t.getCurrentResult(),e)}function c1(t,e){const n=new Set(e);return t.filter(r=>!n.has(r))}function _8(t,e,n){const r=t.slice(0);return r[e]=n,r}var bw=class extends $a{#t;#e;#n;#r;#o;#i;#s;#a;#f=[];constructor(t,e,n){super(),this.#t=t,this.#r=n,this.#n=[],this.#o=[],this.#e=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#o.forEach(t=>{t.subscribe(e=>{this.#u(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#o.forEach(t=>{t.destroy()})}setQueries(t,e){this.#n=t,this.#r=e,an.batch(()=>{const n=this.#o,r=this.#c(this.#n);this.#f=r,r.forEach(s=>s.observer.setOptions(s.defaultedQueryOptions));const o=r.map(s=>s.observer),i=o.map(s=>s.getCurrentResult()),a=o.some((s,l)=>s!==n[l]);n.length===o.length&&!a||(this.#o=o,this.#e=i,this.hasListeners()&&(c1(n,o).forEach(s=>{s.destroy()}),c1(o,n).forEach(s=>{s.subscribe(l=>{this.#u(s,l)})}),this.#l()))})}getCurrentResult(){return this.#e}getQueries(){return this.#o.map(t=>t.getCurrentQuery())}getObservers(){return this.#o}getOptimisticResult(t,e){const n=this.#c(t),r=n.map(o=>o.observer.getOptimisticResult(o.defaultedQueryOptions));return[r,o=>this.#h(o??r,e),()=>this.#d(r,n)]}#d(t,e){return e.map((n,r)=>{const o=t[r];return n.defaultedQueryOptions.notifyOnChangeProps?o:n.observer.trackResult(o,i=>{e.forEach(a=>{a.observer.trackProp(i)})})})}#h(t,e){return e?((!this.#i||this.#e!==this.#a||e!==this.#s)&&(this.#s=e,this.#a=this.#e,this.#i=gh(this.#i,e(t))),this.#i):t}#c(t){const e=new Map(this.#o.map(r=>[r.options.queryHash,r])),n=[];return t.forEach(r=>{const o=this.#t.defaultQueryOptions(r),i=e.get(o.queryHash);i?n.push({defaultedQueryOptions:o,observer:i}):n.push({defaultedQueryOptions:o,observer:new bh(this.#t,o)})}),n}#u(t,e){const n=this.#o.indexOf(t);n!==-1&&(this.#e=_8(this.#e,n,e),this.#l())}#l(){if(this.hasListeners()){const t=this.#i,e=this.#d(this.#e,this.#f),n=this.#h(e,this.#r?.combine);t!==n&&an.batch(()=>{this.listeners.forEach(r=>{r(this.#e)})})}}},yw=class extends bh{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:vd()})}getOptimisticResult(t){return t.behavior=vd(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:n}=t,r=super.createResult(t,e),{isFetching:o,isRefetching:i,isError:a,isRefetchError:s}=r,l=n.fetchMeta?.fetchMore?.direction,c=a&&l==="forward",u=o&&l==="forward",h=a&&l==="backward",f=o&&l==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:v8(e,n.data),hasPreviousPage:b8(e,n.data),isFetchNextPageError:c,isFetchingNextPage:u,isFetchPreviousPageError:h,isFetchingPreviousPage:f,isRefetchError:s&&!c&&!h,isRefetching:i&&!u&&!f}}},xw=class extends $a{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),gd(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ai(n.mutationKey)!==Ai(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#i(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#o(),this.#i()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#o(){const e=this.#n?.state??gw();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){an.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}};function ww(t){return t}function k8(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function C8(t,e,n){return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(r=>n(r)?Promise.reject(new Error("redacted")):Promise.reject(r))},...t.meta&&{meta:t.meta}}}function _w(t){return t.state.isPaused}function kw(t){return t.state.status==="success"}function S8(t){return!0}function E8(t,e={}){const n=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??_w,r=t.getMutationCache().getAll().flatMap(l=>n(l)?[k8(l)]:[]),o=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??kw,i=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??S8,a=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??ww,s=t.getQueryCache().getAll().flatMap(l=>o(l)?[C8(l,a,i)]:[]);return{mutations:r,queries:s}}function T8(t,e,n){if(typeof e!="object"||e===null)return;const r=t.getMutationCache(),o=t.getQueryCache(),i=n?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??ww,a=e.mutations||[],s=e.queries||[];a.forEach(({state:l,...c})=>{r.build(t,{...t.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...c},l)}),s.forEach(({queryKey:l,state:c,queryHash:u,meta:h,promise:f,dehydratedAt:p})=>{const m=f?f8(f):void 0,v=c.data===void 0?m?.data:c.data,g=v===void 0?v:i(v);let b=o.get(u);const y=b?.state.status==="pending",x=b?.state.fetchStatus==="fetching";if(b){const w=m&&p!==void 0&&p>b.state.dataUpdatedAt;if(c.dataUpdatedAt>b.state.dataUpdatedAt||w){const{fetchStatus:_,...k}=c;b.setState({...k,data:g})}}else b=o.build(t,{...t.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:l,queryHash:u,meta:h},{...c,data:g,fetchStatus:"idle",status:g!==void 0?"success":c.status});f&&!y&&!x&&(p===void 0||p>b.state.dataUpdatedAt)&&b.fetch(void 0,{initialPromise:Promise.resolve(f).then(i)})})}function O8({queryFn:t,refetchMode:e="reset",maxChunks:n}){return async r=>{const o=r.client.getQueryCache().find({queryKey:r.queryKey,exact:!0}),i=!!o&&o.state.data!==void 0;i&&e==="reset"&&o.setState({status:"pending",data:void 0,error:null,fetchStatus:"fetching"});let a=[];const s=await t(r);for await(const l of s){if(r.signal.aborted)break;(!i||e!=="replace")&&r.client.setQueryData(r.queryKey,(c=[])=>hg(c,l,n)),a=hg(a,l,n)}return i&&e==="replace"&&!r.signal.aborted&&r.client.setQueryData(r.queryKey,a),r.client.getQueryData(r.queryKey)}}var A8=Symbol("dataTagSymbol"),M8=Symbol("dataTagErrorSymbol"),$8=Symbol("unsetMarker"),Cw="VUE_QUERY_CLIENT";function Sw(t){const e=t?`:${t}`:"";return`${Cw}${e}`}function mg(t,e){Object.keys(t).forEach(n=>{t[n]=e[n]})}function vg(t,e,n="",r=0){if(e){const o=e(t,n,r);if(o===void 0&&Tr(t)||o!==void 0)return o}if(Array.isArray(t))return t.map((o,i)=>vg(o,e,String(i),r+1));if(typeof t=="object"&&D8(t)){const o=Object.entries(t).map(([i,a])=>[i,vg(a,e,i,r+1)]);return Object.fromEntries(o)}return t}function R8(t,e){return vg(t,e)}function Qe(t,e=!1){return R8(t,(n,r,o)=>{if(o===1&&r==="queryKey")return Qe(n,!0);if(e&&P8(n))return Qe(n(),e);if(Tr(n))return Qe(_e(n),e)})}function D8(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function P8(t){return typeof t=="function"}function Fi(t=""){if(!zE())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const e=Sw(t),n=Ot(e);if(!n)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return n}var Ew=class extends fw{find(t){return super.find(Qe(t))}findAll(t={}){return super.findAll(Qe(t))}},Tw=class extends mw{find(t){return super.find(Qe(t))}findAll(t={}){return super.findAll(Qe(t))}},Ow=class extends y8{constructor(t={}){const e={defaultOptions:t.defaultOptions,queryCache:t.queryCache||new Ew,mutationCache:t.mutationCache||new Tw};super(e),this.isRestoring=re(!1)}isFetching(t={}){return super.isFetching(Qe(t))}isMutating(t={}){return super.isMutating(Qe(t))}getQueryData(t){return super.getQueryData(Qe(t))}ensureQueryData(t){return super.ensureQueryData(Qe(t))}getQueriesData(t){return super.getQueriesData(Qe(t))}setQueryData(t,e,n={}){return super.setQueryData(Qe(t),e,Qe(n))}setQueriesData(t,e,n={}){return super.setQueriesData(Qe(t),e,Qe(n))}getQueryState(t){return super.getQueryState(Qe(t))}removeQueries(t={}){return super.removeQueries(Qe(t))}resetQueries(t={},e={}){return super.resetQueries(Qe(t),Qe(e))}cancelQueries(t={},e={}){return super.cancelQueries(Qe(t),Qe(e))}invalidateQueries(t={},e={}){const n=Qe(t),r=Qe(e);if(super.invalidateQueries({...n,refetchType:"none"},r),n.refetchType==="none")return Promise.resolve();const o={...n,type:n.refetchType??n.type??"active"};return Lt().then(()=>super.refetchQueries(o,r))}refetchQueries(t={},e={}){return super.refetchQueries(Qe(t),Qe(e))}fetchQuery(t){return super.fetchQuery(Qe(t))}prefetchQuery(t){return super.prefetchQuery(Qe(t))}fetchInfiniteQuery(t){return super.fetchInfiniteQuery(Qe(t))}prefetchInfiniteQuery(t){return super.prefetchInfiniteQuery(Qe(t))}setDefaultOptions(t){super.setDefaultOptions(Qe(t))}setQueryDefaults(t,e){super.setQueryDefaults(Qe(t),Qe(e))}getQueryDefaults(t){return super.getQueryDefaults(Qe(t))}setMutationDefaults(t,e){super.setMutationDefaults(Qe(t),Qe(e))}getMutationDefaults(t){return super.getMutationDefaults(Qe(t))}},Aw={install:(t,e={})=>{const n=Sw(e.queryClientKey);let r;if("queryClient"in e&&e.queryClient)r=e.queryClient;else{const a="queryClientConfig"in e?e.queryClientConfig:void 0;r=new Ow(a)}Oi||r.mount();let o=()=>{};if(e.clientPersister){r.isRestoring&&(r.isRestoring.value=!0);const[a,s]=e.clientPersister(r);o=a,s.then(()=>{r.isRestoring&&(r.isRestoring.value=!1),e.clientPersisterOnSuccess?.(r)})}const i=()=>{r.unmount(),o()};if(t.onUnmount)t.onUnmount(i);else{const a=t.unmount;t.unmount=function(){i(),a()}}t.provide(n,r)}};function L8(t){return t}function F8(t){return t}function Mw(t,e,n){const r=n||Fi(),o=z(()=>{const p=Qe(e);typeof p.enabled=="function"&&(p.enabled=p.enabled());const m=r.defaultQueryOptions(p);return m._optimisticResults=r.isRestoring?.value?"isRestoring":"optimistic",m}),i=new t(r,o.value),a=o.value.shallow?H2(i.getCurrentResult()):Pn(i.getCurrentResult());let s=()=>{};r.isRestoring&&pe(r.isRestoring,p=>{p||(s(),s=i.subscribe(m=>{mg(a,m)}))},{immediate:!0});const l=()=>{i.setOptions(o.value),mg(a,i.getCurrentResult())};pe(o,l),bo(()=>{s()});const c=(...p)=>(l(),a.refetch(...p)),u=()=>new Promise((p,m)=>{let v=()=>{};const g=()=>{if(o.value.enabled!==!1){i.setOptions(o.value);const b=i.getOptimisticResult(o.value);b.isStale?(v(),i.fetchOptimistic(o.value).then(p,y=>{md(o.value.throwOnError,[y,i.getCurrentQuery()])?m(y):p(i.getCurrentResult())})):(v(),p(b))}};g(),v=pe(o,g)});pe(()=>a.error,p=>{if(a.isError&&!a.isFetching&&md(o.value.throwOnError,[p,i.getCurrentQuery()]))throw p});const h=o.value.shallow?ah(a):fs(a),f=ac(h);for(const p in a)typeof a[p]=="function"&&(f[p]=a[p]);return f.suspense=u,f.refetch=c,f}function Ls(t,e){return Mw(bh,t,e)}function I8({queries:t,...e},n){const r=n||Fi(),o=z(()=>_e(t).map(u=>{const h=Qe(u);typeof h.enabled=="function"&&(h.enabled=u.enabled());const f=r.defaultQueryOptions(h);return f._optimisticResults=r.isRestoring?.value?"isRestoring":"optimistic",f})),i=new bw(r,o.value,e),a=()=>{const[c,u]=i.getOptimisticResult(o.value,e.combine);return u(c.map((h,f)=>({...h,refetch:async(...p)=>{const[{[f]:m}]=i.getOptimisticResult(o.value,e.combine);return m.refetch(...p)}})))},s=va(a());let l=()=>{};return r.isRestoring&&pe(r.isRestoring,c=>{c||(l(),l=i.subscribe(()=>{s.value=a()}),s.value=a())},{immediate:!0}),pe(o,c=>{i.setQueries(c,e),s.value=a()}),bo(()=>{l()}),e.shallow?ah(s):fs(s)}function $w(t,e){return Mw(yw,t,e)}function Ii(t,e){const n=e||Fi(),r=z(()=>n.defaultMutationOptions(Qe(t))),o=new xw(n,r.value),i=r.value.shallow?H2(o.getCurrentResult()):Pn(o.getCurrentResult()),a=o.subscribe(u=>{mg(i,u)}),s=(u,h)=>{o.mutate(u,h).catch(()=>{})};pe(r,()=>{o.setOptions(r.value)}),bo(()=>{a()});const l=r.value.shallow?ah(i):fs(i),c=ac(l);return pe(()=>i.error,u=>{if(u&&md(r.value.throwOnError,[u]))throw u}),{...c,mutate:s,mutateAsync:i.mutate,reset:i.reset}}function N8(t={},e){const n=e||Fi(),r=re(),o=()=>{r.value=n.isFetching(t)},i=n.getQueryCache().subscribe(o);return sc(o),bo(()=>{i()}),r}function j8(t={},e){const n=e||Fi(),r=Rw({filters:z(()=>({...Qe(t),status:"pending"}))},n);return z(()=>r.value.length)}function Af(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function Rw(t={},e){const n=z(()=>Qe(t.filters)),r=(e||Fi()).getMutationCache(),o=va(Af(r,t)),i=r.subscribe(()=>{o.value=Af(r,t)});return pe(n,()=>{o.value=Af(r,t)}),bo(()=>{i()}),ah(o)}const nJ=Object.freeze(Object.defineProperty({__proto__:null,CancelledError:Zm,InfiniteQueryObserver:yw,Mutation:pw,MutationCache:Tw,MutationObserver:xw,QueriesObserver:bw,Query:dw,QueryCache:Ew,QueryClient:Ow,QueryObserver:bh,VUE_QUERY_CLIENT:Cw,VueQueryPlugin:Aw,dataTagErrorSymbol:M8,dataTagSymbol:A8,defaultScheduler:cw,defaultShouldDehydrateMutation:_w,defaultShouldDehydrateQuery:kw,dehydrate:E8,experimental_streamedQuery:O8,focusManager:vh,hashKey:Ai,hydrate:T8,infiniteQueryOptions:F8,isCancelledError:ju,isServer:Oi,keepPreviousData:c8,matchMutation:cg,matchQuery:lg,noop:Un,notifyManager:an,onlineManager:Il,partialMatchKey:bs,queryOptions:L8,replaceEqualDeep:gh,shouldThrowError:md,skipToken:mh,unsetMarker:$8,useInfiniteQuery:$w,useIsFetching:N8,useIsMutating:j8,useMutation:Ii,useMutationState:Rw,useQueries:I8,useQuery:Ls,useQueryClient:Fi},Symbol.toStringTag,{value:"Module"}));var Xi={},Rr={},u1;function yh(){return u1||(u1=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.excelBOM=Rr.defaultCsv2JsonOptions=Rr.defaultJson2CsvOptions=Rr.errors=void 0,Rr.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}},Rr.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1},Rr.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1},Rr.excelBOM="\uFEFF"),Rr}var Dr={},Yi={};/**
 * @license MIT
 * doc-path <https://github.com/mrodrig/doc-path>
 * Copyright (c) 2015-present, Michael Rodrigues.
 */var d1;function Qm(){if(d1)return Yi;d1=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.setPath=Yi.evaluatePath=void 0;function t(i,a){if(!i)return null;const{dotIndex:s,key:l,remaining:c}=r(a),u=typeof i=="object"&&a in i?i[a]:void 0,h=typeof i=="object"&&l in i?i[l]:void 0;if(s>=0&&typeof i=="object"&&!(a in i)){const{key:f}=r(c),p=parseInt(f);return Array.isArray(h)&&isNaN(p)?h.map(m=>t(m,c)):t(h,c)}else if(Array.isArray(i)){const f=parseInt(l);return a===l&&s===-1&&!isNaN(f)?h:i.map(p=>t(p,a))}else{if(s>=0&&a!==l&&typeof i=="object"&&l in i)return t(h,c);if(s===-1&&typeof i=="object"&&l in i&&!(a in i))return h}return u}Yi.evaluatePath=t;function e(i,a,s){if(i){if(!a)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return n(i,a,s)}Yi.setPath=e;function n(i,a,s){const{dotIndex:l,key:c,remaining:u}=r(a);if(a.startsWith("__proto__")||a.startsWith("constructor")||a.startsWith("prototype"))return i;if(l>=0){const h=parseInt(c);if(typeof i=="object"&&i!==null&&!(c in i)&&Array.isArray(i)&&!isNaN(h))return i[c]=i[c]??{},n(i[c],u,s),i;if(typeof i=="object"&&i!==null&&!(c in i)&&Array.isArray(i))return i.forEach(f=>n(f,a,s)),i;if(typeof i=="object"&&i!==null&&!(c in i)&&!Array.isArray(i)){const{key:f}=r(u),p=parseInt(f);if(!isNaN(p))i[c]=[];else{if(u==="")return i[a]=s,i;i[c]={}}}n(i[c],u,s)}else if(Array.isArray(i)){const h=parseInt(c);return a===c&&l===-1&&!isNaN(h)?(i[c]=s,i):(i.forEach(f=>n(f,u,s)),i)}else i[c]=s;return i}function r(i){const a=o(i);return{dotIndex:a,key:i.slice(0,a>=0?a:void 0).replace(/\\./g,"."),remaining:i.slice(a+1)}}function o(i){for(let a=0;a<i.length;a++){const s=a>0?i[a-1]:"";if(i[a]==="."&&s!=="\\")return a}return-1}return Yi}var Pr={},Do={},h1;function B8(){if(h1)return Do;h1=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.isDocumentToRecurOn=Do.flatten=Do.unique=void 0;function t(r){return[...new Set(r)]}Do.unique=t;function e(r){return[].concat(...r)}Do.flatten=e;function n(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&Object.keys(r).length}return Do.isDocumentToRecurOn=n,Do}var Mf={},f1;function z8(){return f1||(f1=1,Object.defineProperty(Mf,"__esModule",{value:!0})),Mf}var p1;function U8(){return p1||(p1=1,function(t){var e=Pr&&Pr.__createBinding||(Object.create?function(p,m,v,g){g===void 0&&(g=v);var b=Object.getOwnPropertyDescriptor(m,v);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(p,g,b)}:function(p,m,v,g){g===void 0&&(g=v),p[g]=m[v]}),n=Pr&&Pr.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),r=Pr&&Pr.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var v in p)v!=="default"&&Object.prototype.hasOwnProperty.call(p,v)&&e(m,p,v);return n(m,p),m},o=Pr&&Pr.__exportStar||function(p,m){for(var v in p)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&e(m,p,v)};Object.defineProperty(t,"__esModule",{value:!0}),t.deepKeysFromList=t.deepKeys=void 0;const i=r(B8());o(z8(),t);function a(p,m){const v=f(m);return typeof p=="object"&&p!==null?l("",p,v):[]}t.deepKeys=a;function s(p,m){const v=f(m);return p.map(g=>typeof g=="object"&&g!==null?a(g,v):[])}t.deepKeysFromList=s;function l(p,m,v){const g=Object.keys(m).map(b=>{const y=h(p,u(b,v));return v.expandNestedObjects&&i.isDocumentToRecurOn(m[b])||v.arrayIndexesAsKeys&&Array.isArray(m[b])&&m[b].length?l(y,m[b],v):v.expandArrayObjects&&Array.isArray(m[b])?c(m[b],y,v):v.ignoreEmptyArrays&&Array.isArray(m[b])&&!m[b].length?[]:y});return i.flatten(g)}function c(p,m,v){let g=s(p,v);return p.length?p.length&&i.flatten(g).length===0?[m]:(g=g.map(b=>Array.isArray(b)&&b.length===0?[m]:b.map(y=>h(m,u(y,v)))),i.unique(i.flatten(g))):v.ignoreEmptyArraysWhenExpanding?[]:[m]}function u(p,m){return m.escapeNestedDots?p.replace(/\./g,"\\."):p}function h(p,m){return p?p+"."+m:m}function f(p){return{arrayIndexesAsKeys:!1,expandNestedObjects:!0,expandArrayObjects:!1,ignoreEmptyArraysWhenExpanding:!1,escapeNestedDots:!1,ignoreEmptyArrays:!1,...p??{}}}}(Pr)),Pr}var Ye={},g1;function e0(){if(g1)return Ye;g1=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.isInvalid=Ye.flatten=Ye.unique=Ye.arrayDifference=Ye.isError=Ye.isUndefined=Ye.isNull=Ye.isObject=Ye.isString=Ye.isNumber=Ye.unwind=Ye.getNCharacters=Ye.removeEmptyFields=Ye.isEmptyField=Ye.computeSchemaDifferences=Ye.isDateRepresentation=Ye.isStringRepresentation=Ye.deepCopy=Ye.validate=Ye.buildC2JOptions=Ye.buildJ2COptions=void 0;const t=Qm(),e=yh(),n=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,r=1e5;function o(D){return{...e.defaultJson2CsvOptions,...D,delimiter:{field:D?.delimiter?.field??e.defaultJson2CsvOptions.delimiter.field,wrap:D?.delimiter?.wrap||e.defaultJson2CsvOptions.delimiter.wrap,eol:D?.delimiter?.eol||e.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:Object.create({})}}Ye.buildJ2COptions=o;function i(D){return{...e.defaultCsv2JsonOptions,...D,delimiter:{field:D?.delimiter?.field??e.defaultCsv2JsonOptions.delimiter.field,wrap:D?.delimiter?.wrap||e.defaultCsv2JsonOptions.delimiter.wrap,eol:D?.delimiter?.eol||e.defaultCsv2JsonOptions.delimiter.eol}}}Ye.buildC2JOptions=i;function a(D,O,S){if(!D)throw new Error(`${S.cannotCallOn} ${D}.`);if(!O(D))throw new Error(S.dataCheckFailure);return!0}Ye.validate=a;function s(D){return JSON.parse(JSON.stringify(D))}Ye.deepCopy=s;function l(D,O){const S=D[0],T=D.length-1,C=D[T];return S===O.delimiter.wrap&&C===O.delimiter.wrap}Ye.isStringRepresentation=l;function c(D){return n.test(D)}Ye.isDateRepresentation=c;function u(D,O){return k(D,O).concat(k(O,D))}Ye.computeSchemaDifferences=u;function h(D){return w(D)||x(D)||D===""}Ye.isEmptyField=h;function f(D){return D.filter(O=>!h(O))}Ye.removeEmptyFields=f;function p(D,O,S){return D.substring(O,O+S)}Ye.getNCharacters=p;function m(D,O,S){const T=(0,t.evaluatePath)(O,S);let C=s(O);Array.isArray(T)&&T.length?T.forEach(M=>{C=s(O),D.push((0,t.setPath)(C,S,M))}):(Array.isArray(T)&&T.length===0&&(0,t.setPath)(C,S,""),D.push(C))}function v(D,O){const S=[];return D.forEach(T=>{m(S,T,O)}),S}Ye.unwind=v;function g(D){return!isNaN(Number(D))}Ye.isNumber=g;function b(D){return typeof D=="string"}Ye.isString=b;function y(D){return typeof D=="object"}Ye.isObject=y;function x(D){return D===null}Ye.isNull=x;function w(D){return typeof D>"u"}Ye.isUndefined=w;function _(D){return Object.prototype.toString.call(D)==="[object Error]"}Ye.isError=_;function k(D,O){return D.filter(S=>!O.includes(S))}Ye.arrayDifference=k;function E(D){return[...new Set(D)]}Ye.unique=E;function $(D){if(D.flat)return D.flat();if(D.length>r){let O=[];for(let S=0;S<D.length;S+=r)O=O.concat(...D.slice(S,S+r));return O}return D.reduce((O,S)=>O.concat(S),[])}Ye.flatten=$;function A(D){return D===1/0||D===-1/0}return Ye.isInvalid=A,Ye}var m1;function H8(){if(m1)return Dr;m1=1;var t=Dr&&Dr.__createBinding||(Object.create?function(l,c,u,h){h===void 0&&(h=u);var f=Object.getOwnPropertyDescriptor(c,u);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(l,h,f)}:function(l,c,u,h){h===void 0&&(h=u),l[h]=c[u]}),e=Dr&&Dr.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),n=Dr&&Dr.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var u in l)u!=="default"&&Object.prototype.hasOwnProperty.call(l,u)&&t(c,l,u);return e(c,l),c};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.Json2Csv=void 0;const r=Qm(),o=U8(),i=yh(),a=n(e0()),s=function(l){const c=new RegExp(l.delimiter.wrap,"g"),u=/\r?\n|\r/,h=l.parseValue&&typeof l.parseValue=="function"?l.parseValue:null,f=l.expandArrayObjects&&!l.unwindArrays,p={arrayIndexesAsKeys:l.arrayIndexesAsKeys,expandNestedObjects:l.expandNestedObjects,expandArrayObjects:f,ignoreEmptyArraysWhenExpanding:f,escapeNestedDots:!0};function m(B){return(0,o.deepKeysFromList)(B,p)}function v(B){return B.length===0?[]:l.checkSchemaDifferences?g(B):a.unique(a.flatten(B))}function g(B){const te=B[0],U=B.slice(1);if(b(te,U))throw new Error(i.errors.json2csv.notSameSchema);return te}function b(B,te){return te.reduce((U,ie)=>a.computeSchemaDifferences(B,ie).length>0?U+1:U,0)}function y(B){return l.excludeKeys?B.filter(te=>{for(const U of l.excludeKeys){const ie=U instanceof RegExp?U:new RegExp(`^${U}`);if(U===te||te.match(ie))return!1}return!0}):B}function x(B){return l.sortHeader&&typeof l.sortHeader=="function"?B.sort(l.sortHeader):l.sortHeader?B.sort():B}function w(B){return l.trimHeaderFields&&(B.headerFields=B.headerFields.map(te=>te.split(".").map(U=>U.trim()).join("."))),B}function _(B){return l.prependHeader&&(B.headerFields=B.headerFields.map(function(te){return P(te)})),B}function k(B){const te=Object.keys(l.fieldTitleMap);return B.header=B.headerFields.map(function(U){let ie=U;return te.includes(U)?ie=l.fieldTitleMap[U]:l.escapeHeaderNestedDots||(ie=ie.replace(/\\\./g,".")),ie}).join(l.delimiter.field),B}function E(){return l.keys?l.keys.map(B=>typeof B=="object"&&"field"in B?(l.fieldTitleMap[B.field]=B.title??B.field,B.field):B):[]}function $(){return l.keys?l.keys.flatMap(B=>typeof B=="string"?[]:B?.wildcardMatch?B.field:[]):[]}function A(B){const te=$(),U=E(),ie=m(B),V=v(ie);if(l.keys){l.keys=U;const ve=U.flatMap(ge=>{if(!te.includes(ge))return ge;const ke=[],Ce=new RegExp(`^${ge}`);for(const Ae of V)(ge===Ae||Ae.match(Ce))&&ke.push(Ae);return ke});if(!l.unwindArrays){const ge=y(ve);return x(ge)}}const de=y(V);return x(de)}function D(B){for(const te of B.records)for(const U of B.headerFields){const ie=(0,r.evaluatePath)(te,U);if(Array.isArray(ie))return!0}return!1}function O(B,te=!1){if(l.unwindArrays){if(B.headerFields.forEach(U=>{B.records=a.unwind(B.records,U)}),B.headerFields=A(B.records),D(B))return O(B,te);if(!te)return O(B,!0);if(l.keys){const U=E();B.headerFields=y(U)}return B}return B}function S(B){return B.recordString=B.records.map(te=>{const U=C(te,B.headerFields),ie=U.map(V=>{V=R(V),V=L(V);let de=h?h(V,M):M(V);return de=P(de),de});return N(ie)}).join(l.delimiter.eol),B}function T(B){const te=a.removeEmptyFields(B);return!B.length||!te.length?l.emptyFieldValue||"":te.length===1?te[0]:B}function C(B,te){const U=[];return te.forEach(ie=>{let V=(0,r.evaluatePath)(B,ie);!a.isUndefined(l.emptyFieldValue)&&a.isEmptyField(V)?V=l.emptyFieldValue:l.expandArrayObjects&&Array.isArray(V)&&(V=T(V)),U.push(V)}),U}function M(B){const te=B instanceof Date;return B===null||Array.isArray(B)||typeof B=="object"&&!te?JSON.stringify(B):typeof B>"u"?"undefined":te&&l.useDateIso8601Format?B.toISOString():l.useLocaleFormat?B.toLocaleString():B.toString()}function R(B){return l.trimFieldValues?Array.isArray(B)?B.map(R):typeof B=="string"?B.trim():B:B}function L(B){return l.preventCsvInjection?Array.isArray(B)?B.map(L):typeof B=="string"&&!a.isNumber(B)?B.replace(/^[=+\-@\t\r]+/g,""):B:B}function P(B){const te=l.delimiter.wrap;return B.includes(l.delimiter.wrap)&&(B=B.replace(c,te+te)),(B.includes(l.delimiter.field)||B.includes(l.delimiter.wrap)||B.match(u)||l.wrapBooleans&&(B==="true"||B==="false"))&&(B=te+B+te),B}function N(B){return B.join(l.delimiter.field)}function j(B){const te=B.header,U=B.recordString;return(l.excelBOM?i.excelBOM:"")+(l.prependHeader?te+l.delimiter.eol:"")+U}function H(B){Array.isArray(B)||(B=[B]);const te={headerFields:A(B),records:B,header:"",recordString:""},U=O(te),ie=S(U),V=_(ie),de=w(V),ve=k(de);return j(ve)}return{convert:H}};return Dr.Json2Csv=s,Dr}var Lr={},v1;function W8(){if(v1)return Lr;v1=1;var t=Lr&&Lr.__createBinding||(Object.create?function(s,l,c,u){u===void 0&&(u=c);var h=Object.getOwnPropertyDescriptor(l,c);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,u,h)}:function(s,l,c,u){u===void 0&&(u=c),s[u]=l[c]}),e=Lr&&Lr.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),n=Lr&&Lr.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&t(l,s,c);return e(l,s),l};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Csv2Json=void 0;const r=Qm(),o=yh(),i=n(e0()),a=function(s){const l=new RegExp(s.delimiter.wrap+s.delimiter.wrap,"g"),c=new RegExp("^"+o.excelBOM),u=s.parseValue&&typeof s.parseValue=="function"?s.parseValue:JSON.parse;function h(A){return A=w(A),s.trimHeaderFields?A.split(".").map(D=>D.trim()).join("."):A}function f(A){let D=[];if(s.headerFields)D=s.headerFields.map((O,S)=>({value:h(O),index:S}));else if(D=A[0].map((S,T)=>({value:h(S),index:T})),s.keys){const S=s.keys;D=D.filter(T=>S.includes(T.value))}return{lines:A,headerFields:D,recordLines:[]}}function p(A){return s.excelBOM?A.replace(c,""):A}function m(A){const D=[],O=A.length-1,S=s.delimiter.eol.length,T={insideWrapDelimiter:!1,parsingValue:!0,justParsedDoubleQuote:!1,startIndex:0};let C=[],M,R,L,P,N=0;for(;N<A.length;){if(M=A[N],R=N?A[N-1]:"",L=N<O?A[N+1]:"",P=i.getNCharacters(A,N,S),(P===s.delimiter.eol&&!T.insideWrapDelimiter||N===O)&&R===s.delimiter.field)P===s.delimiter.eol&&T.startIndex===N||M===s.delimiter.field?C.push(""):C.push(A.substring(T.startIndex)),C.push(""),D.push(C),C=[],T.startIndex=N+S,T.parsingValue=!0,T.insideWrapDelimiter=L===s.delimiter.wrap;else if(N===O&&M===s.delimiter.field){const j=A.substring(T.startIndex,N);C.push(j),C.push(""),D.push(C)}else if(N===O||P===s.delimiter.eol&&(!T.insideWrapDelimiter||T.insideWrapDelimiter&&R===s.delimiter.wrap&&!T.justParsedDoubleQuote)){const j=N!==O||R===s.delimiter.wrap?N:void 0;C.push(A.substring(T.startIndex,j)),D.push(C),C=[],T.startIndex=N+S,T.parsingValue=!0,T.insideWrapDelimiter=L===s.delimiter.wrap}else if(M===s.delimiter.wrap&&R===s.delimiter.field&&!T.insideWrapDelimiter&&!T.parsingValue)T.startIndex=N,T.insideWrapDelimiter=!0,T.parsingValue=!0,i.getNCharacters(A,N+1,S)===s.delimiter.eol&&(N+=s.delimiter.eol.length+1);else if(R===s.delimiter.field&&M===s.delimiter.wrap&&L===s.delimiter.eol)C.push(A.substring(T.startIndex,N-1)),T.startIndex=N,T.parsingValue=!0,T.insideWrapDelimiter=!0,T.justParsedDoubleQuote=!0,N+=1;else if((R!==s.delimiter.wrap||T.justParsedDoubleQuote&&R===s.delimiter.wrap)&&M===s.delimiter.wrap&&i.getNCharacters(A,N+1,S)===s.delimiter.eol)T.insideWrapDelimiter=!1,T.parsingValue=!1;else if(M===s.delimiter.wrap&&(N===0||i.getNCharacters(A,N-S,S)===s.delimiter.eol&&!T.insideWrapDelimiter))T.insideWrapDelimiter=!0,T.parsingValue=!0,T.startIndex=N;else if(M===s.delimiter.wrap&&L===s.delimiter.field&&T.insideWrapDelimiter)C.push(A.substring(T.startIndex,N+1)),T.startIndex=N+2,T.insideWrapDelimiter=!1,T.parsingValue=!1;else if(M===s.delimiter.wrap&&R===s.delimiter.field&&!T.insideWrapDelimiter&&T.parsingValue)C.push(A.substring(T.startIndex,N-1)),T.insideWrapDelimiter=!0,T.parsingValue=!0,T.startIndex=N;else if(M===s.delimiter.wrap&&L===s.delimiter.wrap&&N!==T.startIndex){N+=2,T.justParsedDoubleQuote=!0;continue}else M===s.delimiter.field&&R!==s.delimiter.wrap&&L!==s.delimiter.wrap&&!T.insideWrapDelimiter&&T.parsingValue?(C.push(A.substring(T.startIndex,N)),T.startIndex=N+1):M===s.delimiter.field&&R===s.delimiter.wrap&&L!==s.delimiter.wrap&&!T.parsingValue&&(T.insideWrapDelimiter=!1,T.parsingValue=!0,T.startIndex=N+1);N++,T.justParsedDoubleQuote=!1}return D}function v(A){return s.headerFields?A.recordLines=A.lines:A.recordLines=A.lines.splice(1),A}function g(A,D){const O=D[A.index];return b(O)}function b(A){const D=E(A);return!i.isError(D)&&!i.isInvalid(D)?D:A==="undefined"?void 0:A}function y(A){return s.trimFieldValues&&A!==null?A.trim():A}function x(A,D){return A.reduce((O,S)=>{const T=g(S,D);try{return(0,r.setPath)(O,S.value,T)}catch{return O}},{})}function w(A){const D=A[0],O=A.length-1,S=A[O];return D===s.delimiter.wrap&&S===s.delimiter.wrap?A.length<=2?"":A.substring(1,O):A}function _(A){return A.replace(l,s.delimiter.wrap)}function k(A){return A.recordLines.reduce((D,O)=>{O=O.map(T=>(T=w(T),T=_(T),T=y(T),T));const S=x(A.headerFields,O);return D.concat(S)},[])}function E(A){try{if(i.isStringRepresentation(A,s)&&!i.isDateRepresentation(A))return A;const D=u(A);return Array.isArray(D)?D.map(y):D}catch(D){return D}}function $(A){const D=p(A),O=m(D),S=f(O),T=v(S);return k(T)}return{convert:$}};return Lr.Csv2Json=a,Lr}var b1;function V8(){if(b1)return Xi;b1=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.csv2json=Xi.json2csv=void 0;const t=yh(),e=H8(),n=W8(),r=e0();function o(a,s){const l=(0,r.buildJ2COptions)(s??{});return(0,r.validate)(a,r.isObject,t.errors.json2csv),(0,e.Json2Csv)(l).convert(a)}Xi.json2csv=o;function i(a,s){const l=(0,r.buildC2JOptions)(s??{});return(0,r.validate)(a,r.isString,t.errors.csv2json),(0,n.Csv2Json)(l).convert(a)}return Xi.csv2json=i,Xi}var Dw=V8();function xh(t){return t._context||{}}function Pw(t,e){return Object.keys(e).length===0?t:{...t,_context:e}}function X8(t){const{_context:e,...n}=t;return n}function Y8(t,e={}){const n={...t};return e.cleanKeys&&e.cleanKeys.forEach(r=>delete n[r]),{props:n,skip:e.skip,nodes:e.nodes}}function bg(t,e,n){return typeof t=="string"?!!n(t,e):!!t}qm.addIdentifierChar("$");qm.addIdentifierChar("@");function G8(t){try{return qm(t)}catch(e){return console.warn(`Expression parsing failed: ${t}`,e),null}}function Mi(t,e){const n=G8(t);if(n)return Mn(n,e)}function Mn(t,e){if(!(!t||typeof t!="object"))switch(t.type){case"Literal":return t.value;case"Identifier":return q8(e,t.name);case"MemberExpression":{const n=Mn(t.object,e);if(n==null)return;const r=t.computed?Mn(t.property,e):t.property?.name;return _e(n)?.[r]}case"BinaryExpression":{const n=Mn(t.left,e),r=Mn(t.right,e);return{"+":()=>n+r,"-":()=>n-r,"*":()=>n*r,"/":()=>n/r,"%":()=>n%r,"==":()=>n===r,"===":()=>n===r,"!=":()=>n!==r,"!==":()=>n!==r,"<":()=>n<r,">":()=>n>r,"<=":()=>n<=r,">=":()=>n>=r}[t.operator]?.()??void 0}case"LogicalExpression":{const n=Mn(t.left,e);return t.operator==="&&"?n&&Mn(t.right,e):t.operator==="||"?n||Mn(t.right,e):t.operator==="??"?n??Mn(t.right,e):void 0}case"UnaryExpression":{const n=Mn(t.argument,e);return t.operator==="!"?!n:t.operator==="-"?-n:t.operator==="+"?+n:void 0}case"ConditionalExpression":{const n=Mn(t.test,e);return Mn(n?t.consequent:t.alternate,e)}case"CallExpression":{const n=Mn(t.callee,e),r=_e(n);if(typeof r!="function"){console.warn("Attempting to call non-function value:",r);return}const o=Array.isArray(t.arguments)?t.arguments.map(i=>{const a=Mn(i,e);return _e(a)}):[];try{let i;if(t.callee.type==="MemberExpression"){const a=Mn(t.callee.object,e);i=_e(a)}return r.apply(i,o)}catch(i){console.warn("Function call error:",i);return}}case"ArrayExpression":return Array.isArray(t.elements)?t.elements.map(n=>{if(!n)return;const r=Mn(n,e);return _e(r)}):[];default:console.warn(`Unsupported expression type: ${t.type}`);return}}function q8(t,e){if(!(!e||!t))try{return e.split(".").reduce((n,r)=>n==null?void 0:_e(n)?.[r],t)}catch{return}}function K8(t,e){const n=t.trim(),r=n.match(/^\((\w+),\s*(\w+)\) in (.+)$/);if(r){const[,i,a,s]=r,l=Mi(s,e),c=_e(l);return{items:Array.isArray(c)?c:[],itemName:i,indexName:a}}const o=n.match(/^(\w+) in (.+)$/);if(o){const[,i,a]=o,s=Mi(a,e),l=_e(s);return{items:Array.isArray(l)?l:[],itemName:i,indexName:"index"}}throw new Error(`Invalid v-for expression: ${t}`)}const Lw={name:"v-for",priority:90,process(t,e){const n=t.attrs?.["v-for"]||t.attrs?.vFor;if(!n)return null;const r={...t.attrs};delete r["v-for"],delete r.vFor;const o=xh(e);let i;try{if(Array.isArray(n))i={items:n,itemName:"item",indexName:"index"};else if(typeof n=="object"&&n.list)i={items:Array.isArray(n.list)?n.list:[],itemName:n.item||"item",indexName:n.index||"index"};else if(typeof n=="string")i=K8(n,o);else return console.warn("Unsupported v-for format:",n),null}catch(s){return console.warn("v-for parsing failed:",s),null}const a=i.items.map((s,l)=>{const c={[i.itemName]:s,[i.indexName]:l},u={...o,...c};return{...t,attrs:{...r,key:`${i.itemName}_${l}`,...Pw({},u)}}});return{props:X8(e),nodes:a}}},Fw={name:"v-if",priority:100,process(t,e){const n=t.attrs||{},r=xh(e);let o;return n["v-if"]!==void 0?o=bg(n["v-if"],r,Mi):n["v-else-if"]!==void 0?o=bg(n["v-else-if"],r,Mi):n["v-else"]!==void 0&&(o=!0),o===void 0?null:Y8(e,{skip:!o,cleanKeys:["v-if","v-else-if","v-else"]})}},Iw={name:"v-model",priority:70,process(t,e){const n={},r={};let o=!1;const i=xh(e);return Object.entries(e).forEach(([a,s])=>{if(a.startsWith("v-model")||a.startsWith("vModel")){o=!0;const[l,...c]=a.split(".");let u;l==="v-model"||l==="vModel"?u="modelValue":l.startsWith("v-model:")?u=l.slice(8):l.startsWith("vModel:")?u=l.slice(7):u="modelValue";try{const{modelValue:h,updateFn:f}=Z8(s,c,i);n[u]=h,n[`onUpdate:${u}`]=f}catch(h){console.error(`v-model binding error (${u}):`,h)}}else r[a]=s}),o?{props:{...r,...n}}:null}};function Z8(t,e,n){if(typeof t=="string"){const o=()=>{try{return Mi(t,n)}catch(a){console.warn(`v-model: Failed to evaluate expression "${t}"`,a);return}},i=a=>{try{const s=t.split(".");if(s.length>=2){const l=s.slice(0,-1).join("."),c=s[s.length-1],u=Mi(l,n);if(u&&typeof u=="object"){u[c]=Lc(a,e);return}}console.warn(`v-model: Cannot update expression "${t}". Target object not found.`)}catch(s){console.warn(`v-model: Failed to update expression "${t}"`,s)}};return{modelValue:o(),updateFn:i}}if(Array.isArray(t)&&t.length===2&&typeof t[0]=="function"&&typeof t[1]=="function"){const[o,i]=t;return{modelValue:o(),updateFn:a=>{i(Lc(a,e))}}}if(Array.isArray(t)&&t.length===2){const[o,i]=t;if(!o||typeof i!="string")throw new Error("Invalid v-model binding format: [obj, prop] expected");const a=be(o,i);return{modelValue:a.value,updateFn:s=>{a.value=Lc(s,e)}}}const r=be(t);return r===t&&typeof t!="object"?{modelValue:t,updateFn:()=>{console.warn("v-model: Cannot update non-reactive value. Please use ref, [obj, prop], or [getter, setter] format.")}}:{modelValue:r.value,updateFn:o=>{r.value=Lc(o,e)}}}function Lc(t,e){return e.reduce((n,r)=>{switch(r){case"trim":return typeof n=="string"?n.trim():n;case"number":{const o=Number(n);return Number.isNaN(o)?n:o}case"lazy":return n;default:return console.warn(`Unknown v-model modifier: ${r}`),n}},t)}const Nw={name:"v-on",priority:60,process(t,e){const n={},r={};let o=!1;return Object.entries(e).forEach(([i,a])=>{if(i.startsWith("@")||i.startsWith("v-on:")){o=!0;const s=i.startsWith("@")?i.slice(1):i.slice(5),[l,...c]=s.split(".");if(!l){console.warn(`Invalid event name: ${i}`);return}const u=`on${l.charAt(0).toUpperCase()}${l.slice(1)}`,h=(f,...p)=>{c.includes("prevent")&&f.preventDefault?.(),c.includes("stop")&&f.stopPropagation?.();try{if(typeof a=="function")return a(f,...p);console.warn(`Invalid event handler type: ${typeof a}`)}catch(m){console.error(`Event handler execution error (${l}):`,m)}};n[u]=h}else r[i]=a}),o?{props:{...r,...n}}:null}},jw={name:"v-show",priority:95,process(t,e){const n=t.attrs?.["v-show"];if(n===void 0)return null;const r=xh(e),o=bg(n,r,Mi),i={...e};delete i["v-show"];const a=i.style||{},s=typeof a=="object"?{...a,display:o?void 0:"none"}:{display:o?void 0:"none"};return{props:{...i,style:s}}}};function yg(t){return typeof t=="string"&&/\{\{.+?\}\}/.test(t)}function y1(t,e){return yg(t)?t.replace(/\{\{([^}]+)\}\}/g,(n,r)=>{try{const o=Mi(r.trim(),e);return String(o??"")}catch(o){return console.warn(`Interpolation expression evaluation failed: ${r}`,o),n}}):t}const Bw={name:"v-text",priority:50,process(t,e){const n=e._context||{};let r=!1,o=!1;const i={};Object.entries(e).forEach(([s,l])=>{if(typeof l=="string"&&yg(l)){const c=y1(l,n);c!==l?(i[s]=c,r=!0):i[s]=l}else i[s]=l});let a=t.children;if(typeof t.children=="string"&&yg(t.children)){const s=y1(t.children,n);s!==t.children&&(a=s,r=!0,o=!0)}if(!r)return null;if(o){const s={...t,attrs:t.attrs,children:a};return{props:i,nodes:[s]}}return{props:i}}},zw=[Fw,jw,Lw,Iw,Nw,Bw].sort((t,e)=>e.priority-t.priority);function J8(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(o){o(n)}),(r=t.get("*"))&&r.slice().map(function(o){o(e,n)})}}}const Q8=J8();typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const e9=t=>typeof t<"u";function t9(t){return JSON.parse(JSON.stringify(t))}function n9(t,e,n,r={}){var o,i,a;const{clone:s=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:h,shouldEmit:f}=r,p=Wn(),m=n||p?.emit||((o=p?.$emit)==null?void 0:o.bind(p))||((a=(i=p?.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(p?.proxy));let v=c;e||(e="modelValue"),v=v||`update:${e.toString()}`;const g=x=>s?typeof s=="function"?s(x):t9(x):x,b=()=>e9(t[e])?g(t[e]):h,y=x=>{f?f(x)&&m(v,x):m(v,x)};if(l){const x=b(),w=re(x);let _=!1;return pe(()=>t[e],k=>{_||(_=!0,w.value=g(k),Lt(()=>_=!1))}),pe(w,k=>{!_&&(k!==t[e]||u)&&y(k)},{deep:u}),w}else return z({get(){return b()},set(x){y(x)}})}var Uw="unified-overlay";function r9(t="",e=document.body){const n=document.createElement("div");return t&&(n.id=t),e!==!1&&e.appendChild(n),n}var Bo={position:null,spaces:{}};function o9(t=Uw,e=!0){return Bo.spaces[t]||(Bo.spaces[t]=0),e?`${t}--${++Bo.spaces[t]}`:t}function i9(t=Uw){return Bo.spaces[t]||0}function a9(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});return n.resolve=r=>(t(r),n),n.reject=e,n}function s9(){typeof window>"u"&&typeof document>"u"||document.addEventListener("click",t=>{if(t.target instanceof Element){const{left:e,top:n,width:r,height:o}=t.target.getBoundingClientRect();e>0||n>0?Bo.position={x:e+r/2,y:n+o/2}:Bo.position=null}else Bo.position=null;setTimeout(()=>Bo.position=null,64)})}function Hw(t,e={}){const{container:n}=e;function r(i,a){function s(h,f){const p=a9(),m=o9(f.id,f.autoIncrement),v=i9(f.id),g=n?f.root:document.body,b=r9(m,g);return t(i,h,Object.assign(f,{position:Bo.position,id:m,deferred:p,index:v,container:b})),p}let l;function c(h,f){return l||(l=s(h,f),l.finally(()=>l=void 0)),l}function u(h,f){const p={...a,...f};return p.only?c(h,p):s(h,p)}return u}function o(i,a,s){return r(i,s)(a)}return{define:r,render:o}}s9();function l9(){}function c9(t){return new Promise(e=>setTimeout(e,t))}var xg=function(){return xg=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xg.apply(this,arguments)};function u9(t){return t.toLowerCase()}var d9=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],h9=/[^A-Z0-9]+/gi;function f9(t,e){e===void 0&&(e={});for(var n=e.splitRegexp,r=n===void 0?d9:n,o=e.stripRegexp,i=o===void 0?h9:o,a=e.transform,s=a===void 0?u9:a,l=e.delimiter,c=l===void 0?" ":l,u=x1(x1(t,r,"$1\0$2"),i,"\0"),h=0,f=u.length;u.charAt(h)==="\0";)h++;for(;u.charAt(f-1)==="\0";)f--;return u.slice(h,f).split("\0").map(s).join(c)}function x1(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,o){return r.replace(o,n)},t)}function p9(t,e){var n=t.charAt(0),r=t.substr(1).toLowerCase();return e>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function Ww(t,e){return e===void 0&&(e={}),f9(t,xg({delimiter:"",transform:p9},e))}var g9={appContext:null},bd=Symbol("OverlayScripts"),Vw=Symbol("OverlayInstances");function wh(t={}){const{duration:e=0,immediate:n=!0,model:r="visible",automatic:o=!0}=t,i=Ot(bd,m9(r,t)),a=Reflect.get(i,"in_dec"),{visible:s,deferred:l,vanish:c}=i;async function u(){return s.value=!1,await c9(e),c?.(),Promise.resolve()}return!a&&o&&l?.then(u).catch(u),!a&&n&&vn(()=>s.value=!0),Fn(bd,null),i}function m9(t,e={}){const{reject:n="reject",resolve:r="resolve"}=e.events||{},o=Wn();if(!o)throw new Error("Please use useExtendOverlay in component setup");const i=n9(o.props,t,o.emit,{passive:!0});return{reject:l=>{o?.emit(n,l),i.value=!1},resolve:l=>{o?.emit(r,l),i.value=!1},vanish:l9,visible:i,in_dec:!0}}function Xw(t){const{reject:e}=t.deferred||{},{vanish:n}=t,r=re(!1);function o(){n?.(),e?.()}return{resolve:t.deferred.resolve,reject:t.deferred.reject,deferred:t.deferred,visible:r,vanish:o}}var{define:v9}=Hw((t,e,n)=>{const{id:r,deferred:o,render:i,vanish:a}=n,s=X({name:Ww(r),setup:()=>{const c=Xw({vanish:l,deferred:o});Fn(bd,c)},render:()=>Oe(t,e)});function l(){a(s)}i(s,e)},{container:!1});function _h(t){const{render:e,vanish:n}=Ot(Vw);return v9(t,{render:e,vanish:n})}function b9(t,e){var n;const r=e?.app||((n=g9.appContext)==null?void 0:n.app);r&&(t.config.globalProperties=r.config.globalProperties,Object.assign(t._context,r._context))}Hw((t,e,n)=>{const{container:r,id:o,deferred:i,appContext:a}=n;function s(){c.unmount(),r.remove()}const l=X({name:Ww(o),setup:()=>{const u=Xw({vanish:s,deferred:i});Fn(bd,u)},render:()=>Oe(t,e)}),c=UE(l);return b9(c,a),c.mount(r),s});var Yw=X({setup(t,{slots:e}){const n=re([]);function r(i,a){console.log({Instance:i,props:a}),n.value.push({Instance:Jr(i),props:a})}function o(i){n.value=n.value.filter(({Instance:a})=>a!==i)}return Fn(Vw,{render:r,vanish:o}),()=>{var i;return Oe(bt,[...n.value.map(({Instance:a,props:s},l)=>Oe(a,{...s,key:l})),(i=e.default)==null?void 0:i.call(e)])}}});function Gw(t,e){return function(){return t.apply(e,arguments)}}const{toString:y9}=Object.prototype,{getPrototypeOf:t0}=Object,{iterator:kh,toStringTag:qw}=Symbol,Ch=(t=>e=>{const n=y9.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),to=t=>(t=t.toLowerCase(),e=>Ch(e)===t),Sh=t=>e=>typeof e===t,{isArray:Fs}=Array,Nl=Sh("undefined");function cc(t){return t!==null&&!Nl(t)&&t.constructor!==null&&!Nl(t.constructor)&&Zn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Kw=to("ArrayBuffer");function x9(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Kw(t.buffer),e}const w9=Sh("string"),Zn=Sh("function"),Zw=Sh("number"),uc=t=>t!==null&&typeof t=="object",_9=t=>t===!0||t===!1,Bu=t=>{if(Ch(t)!=="object")return!1;const e=t0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(qw in t)&&!(kh in t)},k9=t=>{if(!uc(t)||cc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},C9=to("Date"),S9=to("File"),E9=to("Blob"),T9=to("FileList"),O9=t=>uc(t)&&Zn(t.pipe),A9=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Zn(t.append)&&((e=Ch(t))==="formdata"||e==="object"&&Zn(t.toString)&&t.toString()==="[object FormData]"))},M9=to("URLSearchParams"),[$9,R9,D9,P9]=["ReadableStream","Request","Response","Headers"].map(to),L9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),Fs(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{if(cc(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let s;for(r=0;r<a;r++)s=i[r],e.call(null,t[s],s,t)}}function Jw(t,e){if(cc(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qw=t=>!Nl(t)&&t!==aa;function wg(){const{caseless:t}=Qw(this)&&this||{},e={},n=(r,o)=>{const i=t&&Jw(e,o)||o;Bu(e[i])&&Bu(r)?e[i]=wg(e[i],r):Bu(r)?e[i]=wg({},r):Fs(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&dc(arguments[r],n);return e}const F9=(t,e,n,{allOwnKeys:r}={})=>(dc(e,(o,i)=>{n&&Zn(o)?t[i]=Gw(o,n):t[i]=o},{allOwnKeys:r}),t),I9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),N9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},j9=(t,e,n,r)=>{let o,i,a;const s={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)a=o[i],(!r||r(a,t,e))&&!s[a]&&(e[a]=t[a],s[a]=!0);t=n!==!1&&t0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},B9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},z9=t=>{if(!t)return null;if(Fs(t))return t;let e=t.length;if(!Zw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},U9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&t0(Uint8Array)),H9=(t,e)=>{const r=(t&&t[kh]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},W9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},V9=to("HTMLFormElement"),X9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),w1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Y9=to("RegExp"),e_=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};dc(n,(o,i)=>{let a;(a=e(o,i,t))!==!1&&(r[i]=a||o)}),Object.defineProperties(t,r)},G9=t=>{e_(t,(e,n)=>{if(Zn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Zn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},q9=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Fs(t)?r(t):r(String(t).split(e)),n},K9=()=>{},Z9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function J9(t){return!!(t&&Zn(t.append)&&t[qw]==="FormData"&&t[kh])}const Q9=t=>{const e=new Array(10),n=(r,o)=>{if(uc(r)){if(e.indexOf(r)>=0)return;if(cc(r))return r;if(!("toJSON"in r)){e[o]=r;const i=Fs(r)?[]:{};return dc(r,(a,s)=>{const l=n(a,o+1);!Nl(l)&&(i[s]=l)}),e[o]=void 0,i}}return r};return n(t,0)},eT=to("AsyncFunction"),tT=t=>t&&(uc(t)||Zn(t))&&Zn(t.then)&&Zn(t.catch),t_=((t,e)=>t?setImmediate:e?((n,r)=>(aa.addEventListener("message",({source:o,data:i})=>{o===aa&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),aa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Zn(aa.postMessage)),nT=typeof queueMicrotask<"u"?queueMicrotask.bind(aa):typeof process<"u"&&process.nextTick||t_,rT=t=>t!=null&&Zn(t[kh]),le={isArray:Fs,isArrayBuffer:Kw,isBuffer:cc,isFormData:A9,isArrayBufferView:x9,isString:w9,isNumber:Zw,isBoolean:_9,isObject:uc,isPlainObject:Bu,isEmptyObject:k9,isReadableStream:$9,isRequest:R9,isResponse:D9,isHeaders:P9,isUndefined:Nl,isDate:C9,isFile:S9,isBlob:E9,isRegExp:Y9,isFunction:Zn,isStream:O9,isURLSearchParams:M9,isTypedArray:U9,isFileList:T9,forEach:dc,merge:wg,extend:F9,trim:L9,stripBOM:I9,inherits:N9,toFlatObject:j9,kindOf:Ch,kindOfTest:to,endsWith:B9,toArray:z9,forEachEntry:H9,matchAll:W9,isHTMLForm:V9,hasOwnProperty:w1,hasOwnProp:w1,reduceDescriptors:e_,freezeMethods:G9,toObjectSet:q9,toCamelCase:X9,noop:K9,toFiniteNumber:Z9,findKey:Jw,global:aa,isContextDefined:Qw,isSpecCompliantForm:J9,toJSONObject:Q9,isAsyncFn:eT,isThenable:tT,setImmediate:t_,asap:nT,isIterable:rT};function et(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}le.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const n_=et.prototype,r_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{r_[t]={value:t}});Object.defineProperties(et,r_);Object.defineProperty(n_,"isAxiosError",{value:!0});et.from=(t,e,n,r,o,i)=>{const a=Object.create(n_);return le.toFlatObject(t,a,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),et.call(a,t.message,e,n,r,o),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const oT=null;function _g(t){return le.isPlainObject(t)||le.isArray(t)}function o_(t){return le.endsWith(t,"[]")?t.slice(0,-2):t}function _1(t,e,n){return t?t.concat(e).map(function(o,i){return o=o_(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function iT(t){return le.isArray(t)&&!t.some(_g)}const aT=le.toFlatObject(le,{},null,function(e){return/^is[A-Z]/.test(e)});function Eh(t,e,n){if(!le.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!le.isUndefined(g[v])});const r=n.metaTokens,o=n.visitor||u,i=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(e);if(!le.isFunction(o))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(le.isDate(m))return m.toISOString();if(le.isBoolean(m))return m.toString();if(!l&&le.isBlob(m))throw new et("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(m)||le.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,v,g){let b=m;if(m&&!g&&typeof m=="object"){if(le.endsWith(v,"{}"))v=r?v:v.slice(0,-2),m=JSON.stringify(m);else if(le.isArray(m)&&iT(m)||(le.isFileList(m)||le.endsWith(v,"[]"))&&(b=le.toArray(m)))return v=o_(v),b.forEach(function(x,w){!(le.isUndefined(x)||x===null)&&e.append(a===!0?_1([v],w,i):a===null?v:v+"[]",c(x))}),!1}return _g(m)?!0:(e.append(_1(g,v,i),c(m)),!1)}const h=[],f=Object.assign(aT,{defaultVisitor:u,convertValue:c,isVisitable:_g});function p(m,v){if(!le.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(m),le.forEach(m,function(b,y){(!(le.isUndefined(b)||b===null)&&o.call(e,b,le.isString(y)?y.trim():y,v,f))===!0&&p(b,v?v.concat(y):[y])}),h.pop()}}if(!le.isObject(t))throw new TypeError("data must be an object");return p(t),e}function k1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function n0(t,e){this._pairs=[],t&&Eh(t,this,e)}const i_=n0.prototype;i_.append=function(e,n){this._pairs.push([e,n])};i_.toString=function(e){const n=e?function(r){return e.call(this,r,k1)}:k1;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function sT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function a_(t,e,n){if(!e)return t;const r=n&&n.encode||sT;le.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(e,n):i=le.isURLSearchParams(e)?e.toString():new n0(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class C1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){le.forEach(this.handlers,function(r){r!==null&&e(r)})}}const s_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lT=typeof URLSearchParams<"u"?URLSearchParams:n0,cT=typeof FormData<"u"?FormData:null,uT=typeof Blob<"u"?Blob:null,dT={isBrowser:!0,classes:{URLSearchParams:lT,FormData:cT,Blob:uT},protocols:["http","https","file","blob","url","data"]},r0=typeof window<"u"&&typeof document<"u",kg=typeof navigator=="object"&&navigator||void 0,hT=r0&&(!kg||["ReactNative","NativeScript","NS"].indexOf(kg.product)<0),fT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pT=r0&&window.location.href||"http://localhost",gT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:r0,hasStandardBrowserEnv:hT,hasStandardBrowserWebWorkerEnv:fT,navigator:kg,origin:pT},Symbol.toStringTag,{value:"Module"})),Rn={...gT,...dT};function mT(t,e){return Eh(t,new Rn.classes.URLSearchParams,{visitor:function(n,r,o,i){return Rn.isNode&&le.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function vT(t){return le.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bT(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function l_(t){function e(n,r,o,i){let a=n[i++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=i>=n.length;return a=!a&&le.isArray(o)?o.length:a,l?(le.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!s):((!o[a]||!le.isObject(o[a]))&&(o[a]=[]),e(n,r,o[a],i)&&le.isArray(o[a])&&(o[a]=bT(o[a])),!s)}if(le.isFormData(t)&&le.isFunction(t.entries)){const n={};return le.forEachEntry(t,(r,o)=>{e(vT(r),o,n,0)}),n}return null}function yT(t,e,n){if(le.isString(t))try{return(e||JSON.parse)(t),le.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const hc={transitional:s_,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=le.isObject(e);if(i&&le.isHTMLForm(e)&&(e=new FormData(e)),le.isFormData(e))return o?JSON.stringify(l_(e)):e;if(le.isArrayBuffer(e)||le.isBuffer(e)||le.isStream(e)||le.isFile(e)||le.isBlob(e)||le.isReadableStream(e))return e;if(le.isArrayBufferView(e))return e.buffer;if(le.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mT(e,this.formSerializer).toString();if((s=le.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Eh(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),yT(e)):e}],transformResponse:[function(e){const n=this.transitional||hc.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(le.isResponse(e)||le.isReadableStream(e))return e;if(e&&le.isString(e)&&(r&&!this.responseType||o)){const a=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(s){if(a)throw s.name==="SyntaxError"?et.from(s,et.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rn.classes.FormData,Blob:Rn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],t=>{hc.headers[t]={}});const xT=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wT=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(a){o=a.indexOf(":"),n=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!n||e[n]&&xT[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},S1=Symbol("internals");function Qs(t){return t&&String(t).trim().toLowerCase()}function zu(t){return t===!1||t==null?t:le.isArray(t)?t.map(zu):String(t)}function _T(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const kT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $f(t,e,n,r,o){if(le.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!le.isString(e)){if(le.isString(r))return e.indexOf(r)!==-1;if(le.isRegExp(r))return r.test(e)}}function CT(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ST(t,e){const n=le.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,a){return this[r].call(this,e,o,i,a)},configurable:!0})})}let Jn=class{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(s,l,c){const u=Qs(l);if(!u)throw new Error("header name must be a non-empty string");const h=le.findKey(o,u);(!h||o[h]===void 0||c===!0||c===void 0&&o[h]!==!1)&&(o[h||l]=zu(s))}const a=(s,l)=>le.forEach(s,(c,u)=>i(c,u,l));if(le.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(le.isString(e)&&(e=e.trim())&&!kT(e))a(wT(e),n);else if(le.isObject(e)&&le.isIterable(e)){let s={},l,c;for(const u of e){if(!le.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?le.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(s,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Qs(e),e){const r=le.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return _T(o);if(le.isFunction(n))return n.call(this,o,r);if(le.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qs(e),e){const r=le.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$f(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(a){if(a=Qs(a),a){const s=le.findKey(r,a);s&&(!n||$f(r,r[s],s,n))&&(delete r[s],o=!0)}}return le.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||$f(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return le.forEach(this,(o,i)=>{const a=le.findKey(r,i);if(a){n[a]=zu(o),delete n[i];return}const s=e?CT(i):String(i).trim();s!==i&&delete n[i],n[s]=zu(o),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return le.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&le.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[S1]=this[S1]={accessors:{}}).accessors,o=this.prototype;function i(a){const s=Qs(a);r[s]||(ST(o,a),r[s]=!0)}return le.isArray(e)?e.forEach(i):i(e),this}};Jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(Jn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});le.freezeMethods(Jn);function Rf(t,e){const n=this||hc,r=e||n,o=Jn.from(r.headers);let i=r.data;return le.forEach(t,function(s){i=s.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function c_(t){return!!(t&&t.__CANCEL__)}function Is(t,e,n){et.call(this,t??"canceled",et.ERR_CANCELED,e,n),this.name="CanceledError"}le.inherits(Is,et,{__CANCEL__:!0});function u_(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new et("Request failed with status code "+n.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ET(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function TT(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];a||(a=c),n[o]=l,r[o]=c;let h=i,f=0;for(;h!==o;)f+=n[h++],h=h%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-a<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function OT(t,e){let n=0,r=1e3/e,o,i;const a=(c,u=Date.now())=>{n=u,o=null,i&&(clearTimeout(i),i=null),t(...c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?a(c,u):(o=c,i||(i=setTimeout(()=>{i=null,a(o)},r-h)))},()=>o&&a(o)]}const yd=(t,e,n=3)=>{let r=0;const o=TT(50,250);return OT(i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,l=a-r,c=o(l),u=a<=s;r=a;const h={loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-a)/c:void 0,event:i,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(h)},n)},E1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},T1=t=>(...e)=>le.asap(()=>t(...e)),AT=Rn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Rn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Rn.origin),Rn.navigator&&/(msie|trident)/i.test(Rn.navigator.userAgent)):()=>!0,MT=Rn.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const a=[t+"="+encodeURIComponent(e)];le.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),le.isString(r)&&a.push("path="+r),le.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $T(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function RT(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function d_(t,e,n){let r=!$T(e);return t&&(r||n==!1)?RT(t,e):e}const O1=t=>t instanceof Jn?{...t}:t;function xa(t,e){e=e||{};const n={};function r(c,u,h,f){return le.isPlainObject(c)&&le.isPlainObject(u)?le.merge.call({caseless:f},c,u):le.isPlainObject(u)?le.merge({},u):le.isArray(u)?u.slice():u}function o(c,u,h,f){if(le.isUndefined(u)){if(!le.isUndefined(c))return r(void 0,c,h,f)}else return r(c,u,h,f)}function i(c,u){if(!le.isUndefined(u))return r(void 0,u)}function a(c,u){if(le.isUndefined(u)){if(!le.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(c,u,h)=>o(O1(c),O1(u),h,!0)};return le.forEach(Object.keys({...t,...e}),function(u){const h=l[u]||o,f=h(t[u],e[u],u);le.isUndefined(f)&&h!==s||(n[u]=f)}),n}const h_=t=>{const e=xa({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:s}=e;e.headers=a=Jn.from(a),e.url=a_(d_(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let l;if(le.isFormData(n)){if(Rn.hasStandardBrowserEnv||Rn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Rn.hasStandardBrowserEnv&&(r&&le.isFunction(r)&&(r=r(e)),r||r!==!1&&AT(e.url))){const c=o&&i&&MT.read(i);c&&a.set(o,c)}return e},DT=typeof XMLHttpRequest<"u",PT=DT&&function(t){return new Promise(function(n,r){const o=h_(t);let i=o.data;const a=Jn.from(o.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=o,u,h,f,p,m;function v(){p&&p(),m&&m(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(o.method.toUpperCase(),o.url,!0),g.timeout=o.timeout;function b(){if(!g)return;const x=Jn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),_={data:!s||s==="text"||s==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:x,config:t,request:g};u_(function(E){n(E),v()},function(E){r(E),v()},_),g=null}"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(r(new et("Request aborted",et.ECONNABORTED,t,g)),g=null)},g.onerror=function(){r(new et("Network Error",et.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let w=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const _=o.transitional||s_;o.timeoutErrorMessage&&(w=o.timeoutErrorMessage),r(new et(w,_.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,t,g)),g=null},i===void 0&&a.setContentType(null),"setRequestHeader"in g&&le.forEach(a.toJSON(),function(w,_){g.setRequestHeader(_,w)}),le.isUndefined(o.withCredentials)||(g.withCredentials=!!o.withCredentials),s&&s!=="json"&&(g.responseType=o.responseType),c&&([f,m]=yd(c,!0),g.addEventListener("progress",f)),l&&g.upload&&([h,p]=yd(l),g.upload.addEventListener("progress",h),g.upload.addEventListener("loadend",p)),(o.cancelToken||o.signal)&&(u=x=>{g&&(r(!x||x.type?new Is(null,t,g):x),g.abort(),g=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const y=ET(o.url);if(y&&Rn.protocols.indexOf(y)===-1){r(new et("Unsupported protocol "+y+":",et.ERR_BAD_REQUEST,t));return}g.send(i||null)})},LT=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const i=function(c){if(!o){o=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof et?u:new Is(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,i(new et(`timeout ${e} of ms exceeded`,et.ETIMEDOUT))},e);const s=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>le.asap(s),l}},FT=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},IT=async function*(t,e){for await(const n of NT(t))yield*FT(n,e)},NT=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},A1=(t,e,n,r)=>{const o=IT(t,e);let i=0,a,s=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await o.next();if(c){s(),l.close();return}let h=u.byteLength;if(n){let f=i+=h;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),o.return()}},{highWaterMark:2})},Th=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",f_=Th&&typeof ReadableStream=="function",jT=Th&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),p_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},BT=f_&&p_(()=>{let t=!1;const e=new Request(Rn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),M1=64*1024,Cg=f_&&p_(()=>le.isReadableStream(new Response("").body)),xd={stream:Cg&&(t=>t.body)};Th&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!xd[e]&&(xd[e]=le.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new et(`Response type '${e}' is not supported`,et.ERR_NOT_SUPPORT,r)})})})(new Response);const zT=async t=>{if(t==null)return 0;if(le.isBlob(t))return t.size;if(le.isSpecCompliantForm(t))return(await new Request(Rn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(le.isArrayBufferView(t)||le.isArrayBuffer(t))return t.byteLength;if(le.isURLSearchParams(t)&&(t=t+""),le.isString(t))return(await jT(t)).byteLength},UT=async(t,e)=>{const n=le.toFiniteNumber(t.getContentLength());return n??zT(e)},HT=Th&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=h_(t);c=c?(c+"").toLowerCase():"text";let p=LT([o,i&&i.toAbortSignal()],a),m;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&BT&&n!=="get"&&n!=="head"&&(g=await UT(u,r))!==0){let _=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(le.isFormData(r)&&(k=_.headers.get("content-type"))&&u.setContentType(k),_.body){const[E,$]=E1(g,yd(T1(l)));r=A1(_.body,M1,E,$)}}le.isString(h)||(h=h?"include":"omit");const b="credentials"in Request.prototype;m=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:b?h:void 0});let y=await fetch(m,f);const x=Cg&&(c==="stream"||c==="response");if(Cg&&(s||x&&v)){const _={};["status","statusText","headers"].forEach(A=>{_[A]=y[A]});const k=le.toFiniteNumber(y.headers.get("content-length")),[E,$]=s&&E1(k,yd(T1(s),!0))||[];y=new Response(A1(y.body,M1,E,()=>{$&&$(),v&&v()}),_)}c=c||"text";let w=await xd[le.findKey(xd,c)||"text"](y,t);return!x&&v&&v(),await new Promise((_,k)=>{u_(_,k,{data:w,headers:Jn.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:m})})}catch(b){throw v&&v(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,t,m),{cause:b.cause||b}):et.from(b,b&&b.code,t,m)}}),Sg={http:oT,xhr:PT,fetch:HT};le.forEach(Sg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $1=t=>`- ${t}`,WT=t=>le.isFunction(t)||t===null||t===!1,g_={getAdapter:t=>{t=le.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){n=t[i];let a;if(r=n,!WT(n)&&(r=Sg[(a=String(n)).toLowerCase()],r===void 0))throw new et(`Unknown adapter '${a}'`);if(r)break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map($1).join(`
`):" "+$1(i[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Sg};function Df(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Is(null,t)}function R1(t){return Df(t),t.headers=Jn.from(t.headers),t.data=Rf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),g_.getAdapter(t.adapter||hc.adapter)(t).then(function(r){return Df(t),r.data=Rf.call(t,t.transformResponse,r),r.headers=Jn.from(r.headers),r},function(r){return c_(r)||(Df(t),r&&r.response&&(r.response.data=Rf.call(t,t.transformResponse,r.response),r.response.headers=Jn.from(r.response.headers))),Promise.reject(r)})}const m_="1.11.0",Oh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Oh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const D1={};Oh.transitional=function(e,n,r){function o(i,a){return"[Axios v"+m_+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,s)=>{if(e===!1)throw new et(o(a," has been removed"+(n?" in "+n:"")),et.ERR_DEPRECATED);return n&&!D1[a]&&(D1[a]=!0,console.warn(o(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,s):!0}};Oh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function VT(t,e,n){if(typeof t!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],a=e[i];if(a){const s=t[i],l=s===void 0||a(s,i,t);if(l!==!0)throw new et("option "+i+" must be "+l,et.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new et("Unknown option "+i,et.ERR_BAD_OPTION)}}const Uu={assertOptions:VT,validators:Oh},ao=Uu.validators;let fa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new C1,response:new C1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=xa(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Uu.assertOptions(r,{silentJSONParsing:ao.transitional(ao.boolean),forcedJSONParsing:ao.transitional(ao.boolean),clarifyTimeoutError:ao.transitional(ao.boolean)},!1),o!=null&&(le.isFunction(o)?n.paramsSerializer={serialize:o}:Uu.assertOptions(o,{encode:ao.function,serialize:ao.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Uu.assertOptions(n,{baseUrl:ao.spelling("baseURL"),withXsrfToken:ao.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&le.merge(i.common,i[n.method]);i&&le.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Jn.concat(a,i);const s=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,h=0,f;if(!l){const m=[R1.bind(this),void 0];for(m.unshift(...s),m.push(...c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=s.length;let p=n;for(h=0;h<f;){const m=s[h++],v=s[h++];try{p=m(p)}catch(g){v.call(this,g);break}}try{u=R1.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=xa(this.defaults,e);const n=d_(e.baseURL,e.url,e.allowAbsoluteUrls);return a_(n,e.params,e.paramsSerializer)}};le.forEach(["delete","get","head","options"],function(e){fa.prototype[e]=function(n,r){return this.request(xa(r||{},{method:e,url:n,data:(r||{}).data}))}});le.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,s){return this.request(xa(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}fa.prototype[e]=n(),fa.prototype[e+"Form"]=n(!0)});let XT=class v_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(s=>{r.subscribe(s),i=s}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,s){r.reason||(r.reason=new Is(i,a,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new v_(function(o){e=o}),cancel:e}}};function YT(t){return function(n){return t.apply(null,n)}}function GT(t){return le.isObject(t)&&t.isAxiosError===!0}const Eg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Eg).forEach(([t,e])=>{Eg[e]=t});function b_(t){const e=new fa(t),n=Gw(fa.prototype.request,e);return le.extend(n,fa.prototype,e,{allOwnKeys:!0}),le.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return b_(xa(t,o))},n}const ht=b_(hc);ht.Axios=fa;ht.CanceledError=Is;ht.CancelToken=XT;ht.isCancel=c_;ht.VERSION=m_;ht.toFormData=Eh;ht.AxiosError=et;ht.Cancel=ht.CanceledError;ht.all=function(e){return Promise.all(e)};ht.spread=YT;ht.isAxiosError=GT;ht.mergeConfig=xa;ht.AxiosHeaders=Jn;ht.formToJSON=t=>l_(le.isHTMLForm(t)?new FormData(t):t);ht.getAdapter=g_.getAdapter;ht.HttpStatusCode=Eg;ht.default=ht;const{Axios:iJ,AxiosError:aJ,CanceledError:sJ,isCancel:lJ,CancelToken:cJ,VERSION:uJ,all:dJ,Cancel:hJ,isAxiosError:fJ,spread:pJ,toFormData:gJ,AxiosHeaders:mJ,HttpStatusCode:vJ,formToJSON:bJ,getAdapter:yJ,mergeConfig:xJ}=ht,qT=X({name:"DuxCan",props:{name:{type:String,required:!0},params:{type:Object}},setup(t,{slots:e}){const n=ph();return()=>n(t.name,t.params)?e.default?.():e.fallback?.()||null}}),y_=X({name:"DuxLogo",props:{dark:{type:Boolean,default:!1},highlight:{type:String,default:"fill-primary"}},setup(t){return()=>d("svg",{class:"w-auto h-full",viewBox:"0 0 400.893 121.787",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[d("g",{transform:"translate(-6545.000000, -3038.106602) translate(6345.000000, 2899.000000) translate(200.000000, 132.393398)","fill-rule":"nonzero",stroke:"none","stroke-width":"1",fill:"none"},[d("path",{d:"M0 62.607v50c0 8.284 6.716 15 15 15s15-6.716 15-15v-50c0-8.285-6.716-15-15-15s-15 6.715-15 15z",class:rt([t.dark?"fill-white/90":"fill-black dark:fill-white/90"])},null),d("path",{d:"M60 7.607c33.137 0 60 26.863 60 60s-26.863 60-60 60h-5c-8.284 0-15-6.716-15-15 0-8.285 6.716-15 15-15h5c16.57 0 30-13.432 30-30 0-16.57-13.43-30-30-30H15c-8.284 0-15-6.716-15-15 0-8.285 6.716-15 15-15h45z",class:rt([t.dark?"fill-white/90":"fill-black dark:fill-white/90"])},null),d("path",{d:"M201 7.607c33.137 0 60 26.863 60 60s-26.863 60-60 60h-46c-8.284 0-15-6.716-15-15 0-8.285 6.716-15 15-15h46c16.57 0 30-13.432 30-30 0-16.57-13.43-30-30-30h-45.5c-8.284 0-15-6.716-15-15 0-8.285 6.716-15 15-15H201z",class:rt([t.dark?"fill-white/90":"fill-black dark:fill-white/90"]),transform:"translate(200.500000, 67.606602) rotate(90.000000) translate(-200.500000, -67.606602) "},null),d("g",{transform:"translate(279.106602, 6.713203)"},[d("path",{d:"M25.607 4.393 52.893 31.68c5.858 5.858 5.858 15.356 0 21.213-5.857 5.858-15.355 5.858-21.213 0L4.393 25.607c-5.857-5.858-5.857-15.356 0-21.214 5.858-5.857 15.356-5.857 21.214 0zm91.786 0c5.858 5.858 5.858 15.356 0 21.214L90.107 52.893c-5.858 5.858-15.356 5.858-21.214 0-5.857-5.857-5.857-15.355 0-21.213L96.18 4.393c5.858-5.857 15.356-5.857 21.213 0zm-64.5 64.5c5.858 5.858 5.858 15.356 0 21.214l-27.286 27.286c-5.858 5.858-15.356 5.858-21.214 0-5.857-5.857-5.857-15.355 0-21.213L31.68 68.893c5.858-5.857 15.356-5.857 21.213 0z",class:rt([t.dark?"fill-white/90":"fill-black dark:fill-white/90"])},null),d("path",{d:"m90.107 68.893 27.286 27.287c5.858 5.858 5.858 15.356 0 21.213-5.857 5.858-15.355 5.858-21.213 0L68.893 90.107c-5.857-5.858-5.857-15.356 0-21.214 5.858-5.857 15.356-5.857 21.214 0z",class:rt([t.highlight])},null)])])])}}),o0=X({name:"DuxLogoIcon",props:{highlight:{type:String,default:"fill-primary"}},setup(t){return()=>d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 202.97 197.7",class:rt([t.highlight])},[d("path",{d:"M170,94.52l-35.9-20.73-24.34,14,11.62,6.71a5,5,0,0,1,0,8.66L32.5,154.52a5,5,0,0,1-7.5-4.33V99.61a6.44,6.44,0,0,1,0-1.52V47.51a5,5,0,0,1,7.5-4.33l35,20.23,24.32-14L7.5.68A5,5,0,0,0,0,5V192.69A5,5,0,0,0,7.5,197L170,103.18A5,5,0,0,0,170,94.52Z"},null),d("path",{d:"M32.93,103.18l35.9,20.73,24.34-14-11.62-6.71a5,5,0,0,1,0-8.66l88.92-51.34a5,5,0,0,1,7.5,4.33V98.09a6.44,6.44,0,0,1,0,1.52v50.58a5,5,0,0,1-7.5,4.33l-35-20.23-24.32,14L195.47,197a5,5,0,0,0,7.5-4.33V5a5,5,0,0,0-7.5-4.33L32.93,94.52A5,5,0,0,0,32.93,103.18Z"},null)])}}),x_=X({name:"DuxLoaderIframe",setup(t){const e=To();return()=>d("iframe",{src:e.meta?.url,style:{width:"100%",height:"100%",border:"none"}},null)}}),KT=Object.freeze(Object.defineProperty({__proto__:null,default:x_},Symbol.toStringTag,{value:"Module"})),w_=X({name:"DuxOverlay",props:{component:Function,componentProps:Object,mask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},duration:{type:Number,default:300},zIndex:{type:Number,default:1e3}},setup(t){const{visible:e,resolve:n,reject:r}=wh({duration:t.duration}),o=t?.componentProps||{};o.onConfirm=n,o.onClose=r;const i=zm(t.component),a=()=>{t.maskClosable&&r()};return()=>d("div",{class:"fixed inset-0 flex items-center justify-center overflow-auto",style:{zIndex:t.zIndex}},[d(ps,{enterActiveClass:"transition-opacity",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"transition-opacity",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},{default:()=>[e.value&&t.mask&&d("div",{class:"fixed inset-0 bg-black bg-opacity-30",style:{transitionDuration:`${t.duration}ms`},onClick:a},null)]}),d(ps,{enterActiveClass:"transition-all",enterFromClass:"opacity-0 scale-95",enterToClass:"opacity-100 scale-100",leaveActiveClass:"transition-all",leaveFromClass:"opacity-100 scale-100",leaveToClass:"opacity-0 scale-95"},{default:()=>[e.value&&d(i,o,null)]})])}}),__=X({name:"DuxError",setup(){return()=>d("div",null,[d("h1",null,[Dt("500")]),d("p",null,[Dt("Internal Server Error")])])}}),ZT=X({name:"DuxException",setup(t,{slots:e}){const n=re(null),r=To(),{config:o}=it();return HE(i=>(console.error(i),r.name?n.value={title:"500",desc:i?.message||"Internal Server Error"}:n.value={title:"404",desc:"Page not found"},!1)),()=>n.value?o.components?.exception?Oe(o.components.exception,{data:n.value}):d("div",null,[d("h1",null,[n.value?.title||"Unknown"]),d("p",null,[n.value?.desc||"Unknown Description"]),d("p",null,[Dt("Use config.components.exception to configure the exception layout")])]):e.default?.()}}),k_=X({name:"DuxNotAuthorized",setup(){return()=>d("div",null,[d("h1",null,[Dt("403")]),d("p",null,[Dt("You are not authorized to access this page")])])}}),C_=X({name:"DuxNotFound",setup(){return()=>d("div",null,[d("h1",null,[Dt("404")]),d("p",null,[Dt("Page not found")])])}}),i0={slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"}};function a0(){const t=Ot("dux.config");if(!t)throw new Error("config is not defined");return t}function Ns(t){const e=it(),n=Nn(),r=t.providerName||"default",{mutate:o}=ar(),i=be(t.pagination?t.pagination:{page:1,pageSize:20}),a=be(t,"sorters",{}),s=be(t,"filters",{}),l=be(t,"meta",{}),c=z(()=>{const{onError:g,options:b,pagination:y,filters:x,sorters:w,meta:_,...k}=t;return k});pe(c,()=>{t.pagination&&(i.value.page=1)},{deep:!0});const u=z(()=>({...c.value,pagination:t.pagination?i.value:void 0,filters:s.value||{},sorters:a.value||{},meta:l.value||{}})),h=Ls({queryKey:[`${e.config?.name}:${r}:${t.path}`,u.value],queryFn:()=>e.config?.dataProvider?.[r]?.getList(u.value,e,n),...t.options}),f=z(()=>h.isFetching.value);pe(h.isError,g=>{g&&(o(h.error.value),t?.onError?.(h.error.value))});const p=re(void 0),m=re(0),v=re(0);return pe(h.data,g=>{g&&(p.value=g,m.value=e.config?.dataProvider?.[r]?.getTotal?.(g)||0,v.value=Math.ceil(m.value/(i.value.pageSize||20))||0)},{immediate:!0}),{...h,isLoading:f,data:p,refetch:h.refetch,pagination:i,total:m,pageCount:v}}function s0(t){const e=it(),n=Nn(),r=t.providerName||"default",{mutate:o}=ar(),i=be(t,"pagination",{page:1,pageSize:20}),a=be(t,"sorters",{}),s=be(t,"filters",{}),l=be(t,"meta",{}),c=z(()=>{const{onError:b,options:y,pagination:x,filters:w,sorters:_,meta:k,...E}=t;return E});pe(c,()=>{i.value.page=1},{deep:!0});const u=re(0),h=re(0),f=z(()=>({...c.value,filters:s.value||{},sorters:a.value||{},meta:l.value||{}})),p=$w({queryKey:[`${e.config?.name}:${r}:${t.path}:infinite`,f.value],queryFn:({pageParam:b})=>(i.value.page=b,e.config?.dataProvider?.[r]?.getList({...f.value,pagination:{...i.value,page:b}},e,n)),initialPageParam:1,getNextPageParam:(b,y,x)=>{if(!b?.data||!b?.data?.length)return;const w=e.config?.dataProvider?.[r]?.getTotal?.(b)||0;if(h.value=Math.ceil(w/(i.value.pageSize||20))||0,u.value=w,!(x*(i.value.pageSize||20)>=w))return x+1},getPreviousPageParam:(b,y,x)=>{if(x<=1)return;const w=e.config?.dataProvider?.[r]?.getTotal?.(b)||0;return h.value=Math.ceil(w/(i.value.pageSize||20))||0,u.value=w,x-1},...t.options}),m=z(()=>p.isFetching.value);pe(p.isError,b=>{b&&(o(p.error.value),t?.onError?.(p.error.value))});const v=()=>{if(!(!p.hasNextPage.value||p.isFetching.value))return p.fetchNextPage()},g=re(void 0);return pe(p.data,b=>{if(!b||!b?.pages||!b.pages?.length)return;const y=b.pages.reduce((w,_)=>_?.data&&Array.isArray(_.data)&&_.data?.length?w.concat(_.data):w,[]),x=b.pages[0];x&&(g.value={...x,data:y})},{deep:!0,immediate:!0}),{...p,isLoading:m,data:g,fetchNextPage:v,hasNextPage:p.hasNextPage,refetch:p.refetch,pagination:i,total:u,pageCount:h}}function S_(t){const e=it(),n=Nn(),r=t.providerName||"default",{mutate:o}=ar(),i=z(()=>{const{onError:c,options:u,...h}=t;return h}),a=Ls({queryKey:[`${e.config?.name}:${r}:${t.path}`,i],queryFn:()=>e.config?.dataProvider?.[r]?.getOne(i.value,e,n),...t.options}),s=z(()=>a.isFetched.value?!1:a.isFetching.value);pe(a.isError,c=>{c&&(o(a.error.value),t?.onError?.(a.error.value))},{immediate:!0});const l=re(void 0);return pe(a.data,c=>{c&&(l.value=c)},{immediate:!0}),{...a,isLoading:s,data:l,refetch:a.refetch}}function E_(t){const e=it(),n=Nn(),r=t.providerName||"default",{mutate:o}=ar(),i=z(()=>{const{onError:c,options:u,...h}=t;return h}),a=Ls({queryKey:[`${e.config?.name}:${r}:${t.path}`,i],queryFn:()=>e.config?.dataProvider?.[r]?.getMany(i.value,e,n),...t.options}),s=z(()=>a.isFetched.value?!1:a.isFetching.value);pe(a.isError,c=>{c&&(o(a.error.value),t?.onError?.(a.error.value))});const l=re(void 0);return pe(a.data,c=>{c&&(l.value=c)},{immediate:!0}),{...a,isLoading:s,data:l,refetch:a.refetch}}function T_(t){const e=it(),n=Nn(),r=t.providerName||"default",{mutate:o}=ar(),{invalidate:i}=br(),a=z(()=>{const{onError:c,options:u,...h}=t;return h}),s=Ii({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.create({...a.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&i(t.path)},onError:c=>{o(c),t?.onError?.(c)},...t.options}),l=z(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function JT(t){const e=it(),n=Nn(),r=t.providerName||"default",{mutate:o}=ar(),{invalidate:i}=br(),a=z(()=>{const{onError:c,options:u,...h}=t;return h}),s=Ii({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.createMany({...a.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&i(t.path)},onError:c=>{o(c),t?.onError?.(c)},...t.options}),l=z(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function O_(t){const e=it(),n=Nn(),r=t.providerName||"default",{mutate:o}=ar(),{invalidate:i}=br(),a=z(()=>{const{onError:c,options:u,...h}=t;return h}),s=Ii({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.update({...a.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&i(t.path)},onError:c=>{o(c),t?.onError?.(c)},...t.options}),l=z(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function QT(t){const e=it(),n=Nn(),r=t.providerName||"default",{mutate:o}=ar(),{invalidate:i}=br(),a=z(()=>{const{onError:c,options:u,...h}=t;return h}),s=Ii({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.updateMany({...a.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&i(t.path)},onError:c=>{o(c),t?.onError?.(c)},...t.options}),l=z(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function A_(t){const e=it(),n=Nn(),r=t.providerName||"default",{mutate:o}=ar(),{invalidate:i}=br(),a=z(()=>{const{onError:c,options:u,...h}=t;return h}),s=Ii({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.deleteOne({...a.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&i(t.path)},onError:c=>{o(c),t?.onError?.(c)},...t.options}),l=z(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function e7(t){const e=it(),n=Nn(),r=t.providerName||"default",{mutate:o}=ar(),{invalidate:i}=br(),a=z(()=>{const{onError:c,options:u,...h}=t;return h}),s=Ii({mutationFn:c=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return c.path&&(t.path=c.path),e.config?.dataProvider?.[r]?.deleteMany({...a.value,...c},e,n)},onSuccess:c=>{t.onSuccess?.(c),t.path&&i(t.path)},onError:c=>{o(c),t?.onError?.(c)},...t.options}),l=z(()=>s.isPending.value);return{...s,isLoading:l,mutate:s.mutate}}function t7(t){const e=it(),n=Nn(),r=t?.providerName||"default",{mutate:o}=ar(),i=z(()=>{if(!t)return{};const{onError:c,options:u,...h}=t;return h}),a=Ls({queryKey:[`${e.config?.name}:${r}:${t?.path}`,i],queryFn:()=>e.config?.dataProvider?.[r]?.custom(i.value,e,n),...t?.options}),s=z(()=>a.isFetched.value?!1:a.isFetching.value);pe(a.isError,c=>{c&&(o(a.error.value),t?.onError?.(a.error.value))});const l=re(void 0);return pe(a.data,c=>{c&&(l.value=c)},{immediate:!0}),{...a,isLoading:s,data:l,refetch:a.refetch}}function ai(t){const e=it(),n=Nn(),r=t?.providerName||"default",{mutate:o}=ar(),i=z(()=>{if(!t)return{};const{onError:l,options:c,...u}=t;return u}),a=Ii({mutationFn:l=>{if(!e.config?.dataProvider)throw new Error("Data provider is not initialized");return e.config?.dataProvider?.[r]?.custom({...i.value,...l},e,n)},onSuccess:l=>{a.reset(),t?.onSuccess?.(l)},onError:l=>{o(l),t?.onError?.(l)},...t?.options}),s=z(()=>a.isPending.value);return{...a,isLoading:s,mutate:a.mutate}}function Ra(){const t=it(),e=Nn();return{request:n=>{if(!t.config?.dataProvider)throw new Error("Data provider is not initialized");const r=n.providerName||"default";return t.config?.dataProvider?.[r]?.custom({...n},t,e)}}}function br(){const t=Fi(),e=it();return{invalidate:(n,r)=>{let o=n;Array.isArray(n)||(o=[n]);for(const i of o){let a=i;e.config?.apiBasePath&&a.startsWith(e.config.apiBasePath)&&(a=tg(a.substring(e.config.apiBasePath.length),"/"));const s=`${e.config?.name}:${r||"default"}:${a}`;t.invalidateQueries({queryKey:[s]})}}}}const n7=t=>new Promise(e=>setTimeout(e,t));function M_(t){const e=re(!1),n=z(()=>{const{onSuccess:f,onProgress:p,interval:m,maxPage:v,...g}=t;return{...g,options:{...g.options,enabled:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1}}}),r=z(()=>t.interval||300),{data:o,isLoading:i,fetchNextPage:a,hasNextPage:s,refetch:l,pagination:c}=s0(n.value),u=async()=>{if(!e.value)try{e.value=!0,c.value.page=1,t.onProgress?.(c.value),await l();const f=typeof t.maxPage=="function"?t.maxPage():t.maxPage||0;for(;s.value&&!(f>0&&c.value.page>=f);)r.value>0&&await n7(r.value),await a(),t.onProgress?.(c.value);t.onSuccess?.(o.value)}finally{e.value=!1}},h=z(()=>i.value||e.value);return{data:o,isLoading:h,trigger:u}}function Tg(t){const e=z(()=>{const{filename:r,headers:o,csvOptions:i,...a}=t;return a}),n=z(()=>{const r=t.csvOptions||{},o=r.quote;return{prependHeader:t.headers!==!1,keys:Array.isArray(t.headers)?t.headers:void 0,delimiter:{field:r.delimiter||",",wrap:typeof o=="string"?o:'"',eol:r.eol||`
`},excelBOM:r.writeBOM||!1}});return M_({...e.value,onSuccess:async r=>{if(!r?.data||!r?.data?.length){t.onError?.({message:"No data to export",status:400});return}try{const o=await Dw.json2csv(r.data,n.value),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=t.filename||"export.csv",s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a),t.onSuccess?.(r)}catch(o){t.onError?.({message:`CSV Export Error: ${o}`,status:500})}}})}function $_(t){const e=be(t,"form",{}),n=be(t,"id",void 0),r=re(Cn(e.value||{})),o=re(Cn(e.value||{})),i=z(()=>t.action==="edit"||!!n.value),{data:a,isLoading:s,refetch:l}=S_({get path(){return t.path||""},get id(){return n.value},options:{enabled:!1},providerName:t.providerName}),c=()=>{let m={};i.value?m=Cn(r.value):m=Cn(o.value),Object.assign(e.value,m)};pe([n,i],async()=>{if(!i.value){c();return}await l();const m=Cn(a.value?.data||{});Object.assign(e.value,m),Object.assign(r.value,m)},{immediate:!0,deep:!0});const u=T_({path:t.path??"",data:e.value,onSuccess:m=>{c(),t.onSuccess?.(m)},onError:m=>{t.onError?.(m)},providerName:t.providerName}),h=O_({get path(){return t.path??""},get id(){return n.value},data:e.value,onSuccess:m=>{t.onSuccess?.(m)},onError:m=>{t.onError?.(m)},providerName:t.providerName}),f=m=>{i.value?h.mutate({id:n.value,data:m||e.value}):u.mutate({data:m||e.value})},p=z(()=>s.value||u.isLoading.value||h.isLoading.value);return{form:e,initData:i.value?r.value:o.value,isLoading:p,isEdit:i,onSubmit:f,onReset:c}}function R_(t){const e=be(t,"data"),{setValues:n,validate:r,resetForm:o,handleSubmit:i}=Y4({initialValues:Cn(e.value||{}),validationSchema:t.rules});return pe(e,a=>{n(a||{},!1)},{deep:!0}),{validate:r,reset:()=>{o()},submit:i}}function D_(){Object.entries(G4).forEach(([t,e])=>{q4(t,e)})}function js(t){const e=be(t,"form",{}),{validate:n,reset:r}=R_({data:e,rules:t.rules}),o=z(()=>{const{form:l,...c}=t;return{...c}}),i=$_({...o.value,form:e.value}),a=l=>{n().then(c=>{if(!c.valid){t.onError?.({message:"表单验证失败"});return}i.onSubmit(l)})},s=()=>{i.onReset(),r()};return{isLoading:i.isLoading,isEdit:i.isEdit,form:e,onSubmit:a,onReset:s}}function l0(t){const e=Ot("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return r7(t)()}function r7(t){return Li(`i18n-${t}`,()=>{const e=re(""),n=re(!1);return{lang:e,isInit:()=>{const r=n.value;return n.value=!0,r},setLocale:r=>{e.value=r},getLocale:()=>e.value}},{persist:{pick:["lang"]}})}function ye(){const t=l0(),e=it();return{t:(n,r,o)=>e.config?.i18nProvider?.t(n,r,o),changeLocale:n=>(t.setLocale(n),e.config?.i18nProvider?.changeLocale(n)),getLocale:()=>e.config?.i18nProvider?.getLocale(),loadLocale:(n,r)=>e.config?.i18nProvider?.loadLocale(n,r),mergeLocale:(n,r)=>e.config?.i18nProvider?.mergeLocale(n,r),getLocales:()=>e.config?.i18nProvider?.getLocales()}}const o7=t=>new Promise(e=>setTimeout(e,t));function P_(t){const e=re(!1),n=re({totalItems:0,processedItems:0,totalBatches:0,processedBatches:0,percentage:0}),r=z(()=>{const{onComplete:a,onProgress:s,onError:l,interval:c,chunkSize:u,...h}=t;return h}),{mutate:o}=ai({path:t.path,method:"POST",...r.value,options:{...r.value.options}}),i=async a=>{if(e.value)return;const s=t.chunkSize||100,l=t.interval||100,c=a.length,u=[];for(let f=0;f<c;f+=s)u.push(a.slice(f,f+s));const h=u.length;n.value={totalItems:c,processedItems:0,totalBatches:h,processedBatches:0,percentage:0},e.value=!0;try{for(let f=0;f<u.length;f++){const p=u[f];await o({payload:p}),n.value.processedBatches=f+1,n.value.processedItems+=p.length,n.value.percentage=Math.round(n.value.processedItems/c*100),t.onProgress?.(n.value),f<u.length-1&&await o7(l)}e.value=!1,t.onComplete?.(n.value)}catch(f){e.value=!1,t.onError?.(f)}};return{isLoading:z(()=>e.value),progress:z(()=>n.value),trigger:i}}function L_(t){const e=z(()=>{const{csvOptions:l,...c}=t;return c}),n=z(()=>{const l=t.csvOptions||{};return{delimiter:{field:l.delimiter||",",wrap:l.wrap||'"',eol:l.eol||`
`},excelBOM:l.excelBOM||!1,headerFields:l.headerFields,keys:l.keys,trimHeaderFields:l.trimHeaderFields||!1,trimFieldValues:l.trimFieldValues||!1}}),r=P_({...e.value}),o=async l=>{try{const c=await l.text(),u=await Dw.csv2json(c,n.value);u&&u.length>0?await r.trigger(u):t.onError?.({message:"CSV 文件为空或格式不正确",status:400})}catch(c){t.onError?.({message:`CSV 解析错误: ${c}`,status:500})}},{open:i,reset:a,onChange:s}=Xm({accept:".csv",multiple:!1});return s(l=>{l&&l.length>0&&o(l[0])}),{...r,open:()=>{a(),i()},readFile:o}}function c0(t){const e=Ot("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return i7(t)()}function i7(t){return Li(`jsonSchema-${t}`,()=>{const e=re(new Map),n=re(new Map);return{componentCache:e,componentsByName:n,addComponent:(r,o,i)=>{const a=o;return e.value.has(a)||(e.value.set(a,{component:r,name:o,originalName:i||o,cacheKey:a}),n.value.set(o,r)),a},getComponent:r=>e.value.get(r)?.component,getComponentByName:r=>n.value.get(r),hasComponent:r=>e.value.has(r),clearCache:()=>{e.value.clear(),n.value.clear()},getCacheSize:()=>e.value.size}})}function a7(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Og(t,e){Array.isArray(t)?t.forEach(n=>{const r=n;let o=r.name;!o&&r.__name&&(o=r.__name.replace(/\.(vue|ts|tsx|js|jsx)$/,"").split("/").pop()),o&&e.addComponent(Jr(n),o)}):typeof t=="object"&&t!==null&&Object.entries(t).forEach(([n,r])=>{e.addComponent(Jr(r),n)})}function F_(t,e){const n=c0(e);t.jsonSchema?.components&&Og(t.jsonSchema.components,n),t.manages?.forEach(r=>{r.jsonSchema?.components&&Og(r.jsonSchema.components,n)})}function $i(t){const e=a0(),n=c0(),r=[...zw,...e.jsonSchema?.adaptors||[],...t?.adaptors||[]];t?.components&&Og(t.components,n);const o=z(()=>Tr(t?.data)?t?.data.value:t?.data);function i(){return(Tr(t?.context)?t?.context.value:t?.context)||{}}function a(f){const p={};return Object.entries(f).forEach(([m,v])=>{if(m==="_context")return;const g=m==="modelValue"||m.startsWith("modelValue")||m!=="value"&&(m.includes("model")||m.includes("Model"));p[m]=g&&Tr(v)?_e(v):v}),p}function s(f,p,m){if(typeof f=="string")return f;if(typeof f=="function")return s(f(p),p,m);if(Array.isArray(f))return f.flatMap(v=>s(v,p,m)).filter(Boolean);if(f?.tag){const v={...m,...p};return c(f,!0,v)}return f}function l(f,p,m){if(f)return typeof f=="string"?f:Array.isArray(f)?f.flatMap(v=>typeof v=="string"?v:c(v,p,m)).filter(Boolean):c(f,p,m)}function c(f,p=!1,m={}){const{tag:v,attrs:g={},children:b,slots:y}=f,x={...i(),...m};let w={...g};Object.keys(x).length>0&&(w={...w,...Pw({},x)});for(const A of r){const D=A.process(f,w);if(D){if(w=D.props,D.skip)return null;if(D.nodes)return D.nodes.map(O=>{const S=O.attrs?._context||{};return c(O,p,{...x,...S})}).filter(Boolean)}}let _=typeof v=="string"&&(A=>{let D=n.getComponentByName(A);if(D)return D;const O=a7(A);if(D=n.getComponentByName(O),D)return D;const S=A.replace(/-([a-z])/g,(T,C)=>C.toUpperCase()).replace(/^[a-z]/,T=>T.toUpperCase());return D=n.getComponentByName(S),D||null})(v)||v;typeof _!="string"&&typeof _=="object"&&(_=Jr(_));const k=typeof _!="string",E=a(w);if(y&&k&&!p){const A={};return Object.entries(y).forEach(([D,O])=>{A[D]=(S={})=>s(O,S,x)}),Oe(_,E,A)}const $=l(b,p,x);return k&&$!==void 0?Oe(_,E,{default:()=>$}):Oe(_,E,$)}const u=X({name:"JsonSchemaRenderer",render(){return o.value?.map(f=>c(f)).filter(Boolean)||[]}});function h(f){return X({name:"DynamicJsonSchemaRenderer",render(){const p={...i(),...f.context};return f.data?.map(m=>c(m,!1,p)).filter(Boolean)}})}return{render:u,renderAsync:h}}function u0(t){const e=be(t,"filters",{}),n=be(t,"sorters",{}),r=be(typeof t.pagination=="object"?t.pagination:{page:1,pageSize:20}),o=[10,20,30,40,50,100],i=V=>o.includes(V)?o:Array.from({length:5},(de,ve)=>V*(ve+1)),a=re(i(r.value.pageSize));pe(()=>r.value.pageSize,V=>{a.value.includes(V)||(a.value=i(V))});const s=V=>{r.value.pageSize=V,r.value.page=1},l=V=>{r.value.page=V},{data:c,isLoading:u,refetch:h}=Ns({path:t.path,pagination:t.pagination?r.value:!1,filters:e.value,sorters:n.value}),f=z(()=>c.value?.data||[]),p=z(()=>c.value?.meta||{}),m=z(()=>t.total?.(c.value)||p.value?.[t.totalField||"total"]||0),v=z(()=>Math.ceil(m.value/r.value.pageSize)||0),g=V=>{e.value=V},b=V=>{n.value=V},y=re([]),x=z(()=>y.value.length>0&&y.value.length===c.value?.data?.length),w=z(()=>y.value.length>0&&y.value.length<(c.value?.data?.length||0)),_=V=>{const de=y.value.indexOf(V);de>-1?y.value.splice(de,1):y.value.push(V)},k=V=>{y.value=V},E=V=>y.value.includes(V),$=()=>{x.value?y.value=[]:y.value=c.value?.data?.map(V=>V[t.key||"id"]).filter(V=>V!=null)||[]};pe(()=>c.value?.data,()=>{y.value=[]});const A=()=>{y.value=[],h()},D=re({page:1,pageSize:100}),{trigger:O,isLoading:S}=Tg({path:t.path,filters:e.value||{},sorters:n.value||{},maxPage:()=>t.exportMaxPage||0,pagination:D.value,filename:t.exportFilename||"data.csv",onSuccess:V=>{t.onExportSuccess?.(V),D.value.page=1},onProgress:V=>{t.onExportProgress?.(V)},onError:V=>{t.onExportError?.(V),D.value.page=1}}),T=c4(()=>({ids:y.value})),{trigger:C,isLoading:M}=Tg({path:t.path,filters:T,maxPage:1,filename:t.exportFilename||"rows.csv",onSuccess:V=>{t.onExportSuccess?.(V)},onError:V=>{t.onExportError?.(V)}}),{open:R,isLoading:L}=L_({path:t.path,onComplete:V=>{t.onImportSuccess?.(V)},onProgress:V=>{t.onImportProgress?.(V)},onError:V=>{t.onImportError?.(V)}}),P=re(!1),{remaining:N,start:j,stop:H}=u4(10,{onComplete:()=>{A(),j()}}),B=()=>{P.value=!P.value,P.value?(A(),j()):H()},{mutate:te,isLoading:U}=ai({path:t.batchPath||`${t.path}/batch`,method:"POST",onSuccess:V=>{t?.onBatchSuccess?.(V),y.value=[],A()},onError:V=>{t?.onBatchError?.(V),A()}}),ie=(V,de)=>{te({payload:{type:V,ids:y.value,...de||{}}})};return{list:f,meta:p,isLoading:u,pagination:r,filters:e,sorters:n,onRefresh:A,onUpdateFilters:g,onUpdateSorters:b,checkeds:y,isAllChecked:x,isIndeterminate:w,toggleChecked:_,isChecked:E,toggleSelectAll:$,onUpdateChecked:k,total:m,page:z(()=>r.value.page),pageSize:z(()=>r.value.pageSize),pageSizes:a.value,pageCount:v,onUpdatePage:l,onUpdatePageSize:s,onExport:O,isExporting:S,onExportRows:C,isExportingRows:M,onImport:R,isImporting:L,autoRefetch:P,onAutoRefetch:B,autoCountdown:N,onBatch:ie,isBatching:U}}function ys(t,e,n){let r=[];return t.forEach(o=>{if(o[e.parentKey]===n){const i=ys(t,e,o[e.idKey]);i.length>0&&(o[e.childrenKey]=i),r.push(o)}}),r=r.sort((o,i)=>o[e.sortKey]-i[e.sortKey]),r}function Za(t,e,n=[]){if(!t||!t.length)return[];for(const r of t){if(n.push(r),e(r))return n;if(r?.children&&r?.children?.length){const o=Za(r.children,e,n);if(o.length)return o}n.pop()}return[]}function Ah(t,e,n){let r=[];if(!t||!t.length)return r;for(const o of t)if(r.push(o[e]),o[n]&&o[n].length){const i=Ah(o[n],e,n);i.length&&(r=r.concat(i))}return r}function d0(t){const e=Ma(),{routes:n}=lh(e),r=(m=!0)=>Cn(n.value)?.filter(v=>!!v?.name).filter(v=>!m||v.hidden===void 0||v.hidden===!1),o=z(()=>{const m=r(!1);return ys(m,{idKey:"name",parentKey:"parent",childrenKey:"children",sortKey:"sort"},void 0)}),i=z(()=>{const m=r();return ys(m,{idKey:"name",parentKey:"parent",childrenKey:"children",sortKey:"sort"},void 0)}),a=To(),s=re(a.name),l=re(a.name),c=re(a.name),u=z(()=>t?.doubleMenu?Cn(i.value)?.map(m=>(delete m.children,m)):i.value),h=z(()=>t?.doubleMenu?i.value?.find(m=>m.name===l.value)?.children||[]:[]),f=z(()=>Za(o.value,m=>m?.name===a.name));pe(()=>t?.doubleMenu,()=>{if(t?.doubleMenu){const m=Za(i.value,v=>v?.name===l.value);l.value=m?.[0]?.name,c.value=m?.[m.length-1]?.name}else{const m=Za(i.value,v=>v?.name===c.value);l.value=m?.[m.length-1]?.name,c.value=m?.[m.length-1]?.name}},{immediate:!0});const p=z(()=>t?.doubleMenu?h.value.length>0:!0);return pe([a,o,()=>t?.doubleMenu],()=>{const m=Za(o.value,g=>g.name===a.name),v=(g=>{let b=-1;for(let y=g.length-1;y>=0;y--)if(g[y].hidden===!1||g[y].hidden===void 0){b=y;break}return b})(m);s.value=m?.[v]?.name,t?.doubleMenu?(l.value=m?.[0]?.name,c.value=m?.[v]?.name):(l.value=m?.[v]?.name,c.value=m?.[v]?.name)},{immediate:!0}),{data:i,originalData:o,getMenu:r,mainMenu:u,subMenu:h,isSubMenu:p,crumbs:f,active:s,appActive:l,subActive:c}}function s7(){const t=_h(w_);return{show:e=>t(e)}}function h0(t){const e=be(t,"defaultValue"),n=re(),r=re({page:1,pageSize:typeof t.pagination=="number"?t.pagination:t.pagination?20:0}),o=re(!1),i=re({...t.params,keyword:""}),a=o4(x=>{n.value=x,i.value.keyword=x},t.debounce||300),s=x=>{a(x)};pe(()=>t.params,x=>{i.value={keyword:n.value,...x}},{deep:!0});const{data:l,isLoading:c,total:u,pageCount:h}=Ns({get path(){return t.path||""},filters:i,get pagination(){return t.pagination?r.value:void 0},get providerName(){return t.providerName}}),f=re([]),p=x=>{const w=t.optionField||t.optionValue;return typeof w=="string"?x[w]||x.value||x.id:typeof w=="function"?w(x):x.value||x.id},m=x=>{const{optionLabel:w="label",optionValue:_="value"}=t;let k;typeof w=="function"?k=w(x):typeof w=="string"?k=x[w]||x.label||x.name||x.title||String(x.value||x.id||""):k=x.label||x.name||x.title||String(x.value||x.id||"");let E;return typeof _=="function"?E=_(x):typeof _=="string"?E=x[_]||x.value||x.id:E=x.value||x.id,{label:k,value:E,raw:x}},v=z(()=>{const x=l.value?.data||[],w=[...f.value];return x.forEach(_=>{w.some(k=>p(k)===p(_))||w.push(_)}),w.map(_=>m(_))}),g=z(()=>l.value?.meta||{}),{refetch:b}=E_({get path(){return t.path||""},get ids(){return i4(e.value)?e.value:[e.value]},options:{enabled:!1},providerName:t.providerName});pe(e,async x=>{if(!(o.value||!x||(o.value=!0,(Array.isArray(x)?x:[x]).every(w=>v.value.some(_=>_.value===w)))))try{const w=await b();f.value=w?.data?.data||[]}catch(w){console.warn("Failed to fetch selected items:",w)}},{immediate:!0,deep:!0});const y=z(()=>c.value);return{onSearch:s,options:v,meta:g,loading:y,pagination:r,total:u,pageCount:h}}const P1={primary:"emerald",info:"cyan",success:"green",warning:"amber",error:"red",gray:"zinc"};function I_(t){const e=Ot("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return l7(t)()}function l7(t){return Li(`theme-${t}`,()=>{const e=fh(t),n=re(e.config?.theme?.defaultTheme||P1),r=re("auto"),o=re(!1);function i(){o.value=!0}function a(h){r.value=h}function s(h,f){n.value[h]=f}function l(h){Object.assign(n.value,h)}function c(){n.value={...P1}}function u(){return n.value}return{mode:r,setMode:a,theme:n,cssInit:o,setCssInit:i,setThemeColor:s,setThemeColors:l,resetTheme:c,getTheme:u}},{persist:{pick:["theme","mode"]}})}function Ao(){const t=I_(),{mode:e}=lh(t),n=d4({storageRef:e}),r=it(),{state:o,next:i,go:a}=h4(["dark","light","auto"],{initialValue:n.store.value});sc(()=>{n.value=o.value});const s=L=>{switch(L){case"auto":a(2);break;case"light":a(1);break;case"dark":a(0);break}},l=z(()=>{const{system:L,store:P}=n;return P.value==="auto"?L.value==="dark":P.value==="dark"}),c=z(()=>l.value?{logo:r.config?.theme?.darkLogo,appLogo:r.config?.theme?.appDarkLogo,banner:r.config?.theme?.darkBanner}:{logo:r.config?.theme?.logo,appLogo:r.config?.theme?.appLogo,banner:r.config?.theme?.banner}),u={colors:i0,colorTypes:["primary","info","success","warning","error","gray"],colorShades:["50","100","200","300","400","500","600","700","800","900","950"],colorScenes:{light:{default:{default:"600",hover:"600",pressed:"700",focus:"500",disabled:"300"}},dark:{default:{default:"500",hover:"400",pressed:"300",focus:"500",disabled:"600"}}},colorSemantic:{light:{text:{dimmed:"300",muted:"400",toned:"600",base:"800",highlighted:"900",inverted:"white"},bg:{base:"white",muted:"50",elevated:"100",accented:"200",inverted:"900"},border:{base:"100",muted:"200",accented:"300",inverted:"900"}},dark:{text:{dimmed:"600",muted:"500",toned:"300",base:"400",highlighted:"100",inverted:"black"},bg:{base:"950",muted:"900",elevated:"800",accented:"700",inverted:"100"},border:{base:"900",muted:"800",accented:"700",inverted:"100"}}},colorBase:{white:"#ffffff",black:"#000000"},...r.config?.theme?.config},{colorShades:h,colorTypes:f}=u,p=z(()=>t.theme),m=z(()=>Object.keys(u.colors)),v=["default","hover","pressed","focus","disabled"];function g(){return l.value?u.colorScenes.dark:u.colorScenes.light}function b(L,P){const N=g(),j=N.default;if(N.overrides?.[L]){const H=N.overrides[L]?.[P];if(H)return H}return j[P]||"500"}function y(L,P){const N=p.value[L];return u.colors[N]?.[P]||""}function x(L,P,N){const j=(l.value?u.colorSemantic.dark:u.colorSemantic.light)[L][P];return j==="white"||j==="black"?`var(--ui-color-${j})`:`var(--base-color-${N}-${j})`}const w=L=>{const P=ew(L);return`${P.r} ${P.g} ${P.b}`};function _(){const L=[];Object.entries(u.colors).forEach(([H,B])=>{typeof B=="object"&&Object.entries(B).forEach(([te,U])=>{try{L.push(`--base-color-${H}-${te}: ${w(U)};`)}catch{L.push(`--base-color-${H}-${te}: ${U};`)}})});const P=[];f.forEach(H=>{const B=p.value[H];h.forEach(te=>{P.push(`--ui-color-${H}-${te}: var(--base-color-${B}-${te});`)}),v.forEach(te=>{const U=b(H,te);te==="default"?P.push(`--ui-color-${H}: var(--base-color-${B}-${U});`):P.push(`--ui-color-${H}-${te}: var(--base-color-${B}-${U});`)})});const N=p.value.gray,j=[`--ui-color-white: ${w(u.colorBase?.white||"#ffffff")};`,`--ui-color-black: ${w(u.colorBase?.black||"#000000")};`,`--ui-text-dimmed: ${x("text","dimmed",N)};`,`--ui-text-muted: ${x("text","muted",N)};`,`--ui-text-toned: ${x("text","toned",N)};`,`--ui-text: ${x("text","base",N)};`,`--ui-text-highlighted: ${x("text","highlighted",N)};`,`--ui-text-inverted: ${x("text","inverted",N)};`,`--ui-bg: ${x("bg","base",N)};`,`--ui-bg-muted: ${x("bg","muted",N)};`,`--ui-bg-elevated: ${x("bg","elevated",N)};`,`--ui-bg-accented: ${x("bg","accented",N)};`,`--ui-bg-inverted: ${x("bg","inverted",N)};`,`--ui-border: ${x("border","base",N)};`,`--ui-border-muted: ${x("border","muted",N)};`,`--ui-border-accented: ${x("border","accented",N)};`,`--ui-border-inverted: ${x("border","inverted",N)};`];return`:root {
  ${L.join(`
  `)}
  ${P.join(`
  `)}
  ${j.join(`
  `)}
}`}let k=null;function E(){const L=_();k||(k=document.createElement("style"),k.id="dvha-variables",document.head.appendChild(k)),k.textContent=L}function $(){t.cssInit||(t.setCssInit(),E())}pe([p,l],()=>{t.cssInit&&E()},{deep:!0,immediate:!1});function A(L,P){m.value.includes(P)?t.setThemeColor(L,P):console.warn(`Color "${P}" is not available`)}function D(L){t.setThemeColors(L)}function O(){t.resetTheme()}function S(L,P,N=!1){return N?`--ui-color-${L}-${P}`:y(L,P)}function T(L,P,N=!1){if(P||(P="default"),N)return P==="default"?`--ui-color-${L})`:`--ui-color-${L}-${P})`;const j=b(L,P);return y(L,j)}function C(L,P,N=!1){if(N){let B;switch(L){case"text":B=P==="base"?"--ui-text":`--ui-text-${P}`;break;case"bg":B=P==="base"?"--ui-bg":`--ui-bg-${P}`;break;case"border":B=P==="base"?"--ui-border":`--ui-border-${P}`;break;default:B=`--ui-${L}-${P}`}return`${B}`}const j=p.value.gray,H=(l.value?u.colorSemantic.dark:u.colorSemantic.light)[L][P];return H==="white"?u.colorBase?.white||"#ffffff":H==="black"?u.colorBase?.black||"#000000":u.colors[j]?.[H]||""}const M=z(()=>m.value?.filter(L=>["slate","gray","zinc","neutral","stone"].includes(L))),R=z(()=>m.value?.filter(L=>!["slate","gray","zinc","neutral","stone"].includes(L)));return{toggle:i,mode:o,setMode:s,isDark:l,resources:c,config:fs(u),colorMapping:fs(p),colors:m,neutralColors:M,primaryColors:R,colorShades:h,colorTypes:f,colorScenes:v,cssInit:$,cssReset:O,setColor:A,setColors:D,getSceneColor:T,getShadeColor:S,getSemanticColor:C}}function fc(t){const e=be(t,"path"),n=be(t,"params"),r=be(t,"providerName"),{data:o,isLoading:i}=Ns({path:e.value||"",filters:n.value,providerName:r.value}),a=z(()=>t.converTree?ys(o.value?.data||[],{idKey:t.treeOptions?.valueKey||"id",parentKey:t.treeOptions?.parentKey||"parent_id",sortKey:t.treeOptions?.sortKey||"sort",childrenKey:t.treeOptions?.childrenKey||"children"}):o.value?.data||[]),s=z(()=>Ah(a.value,t.treeOptions?.valueKey||"id",t.treeOptions?.childrenKey||"children")),l=z(()=>i.value);return{options:z(()=>{const c=u=>u.map(h=>{const f={...h};return Array.isArray(f.children)&&(f.children.length===0?delete f.children:f.children=c(f.children)),f});return c(a.value||[])}),loading:l,expanded:s}}function f0(){const t=Ra();return{upload(e,n){const r=n.query||{};let o=null;if(n.method==="PUT")Object.entries(n.params||{}).forEach(([i,a])=>{r[i]=a}),o=e;else{const i=new FormData;i.append("file",e),Object.entries(n.params||{}).forEach(([a,s])=>{i.append(a,s)}),o=i}return t.request({...n,query:r,method:n.method||"POST",payload:o,signal:n.signal,onUploadProgress:n.onUploadProgress})}}}function Da(t){t=t||{};const e=re(!1),n=re([]),r=re(-1),o=re(new Map),i=t.driver||f0(),a=z(()=>{const{onProgress:C,onDataCallback:M,onCancel:R,onComplete:L,maxFileSize:P,maxFileCount:N,accept:j,multiple:H,autoUpload:B,options:te,onSuccess:U,onError:ie,method:V,driver:de,params:ve,...ge}=t;return ge}),s=z(()=>t.method||"POST"),l=z(()=>{const C=n.value.length,M=n.value.reduce((P,N)=>P+(N.filesize||0),0);let R=0,L=0;return n.value.forEach((P,N)=>{N<r.value?R+=P.filesize||0:N===r.value&&(R+=P.progress?.loaded||0)}),M>0&&(L=Math.round(R/M*100)),{index:r.value>=0?r.value+1:0,totalFiles:C,currentFile:n.value[r.value],totalPercent:L,totalLoaded:R,totalSize:M}}),c=C=>{if(C===0)return"0 Bytes";const M=1024,R=["Bytes","KB","MB","GB"],L=Math.floor(Math.log(C)/Math.log(M));return`${Number.parseFloat((C/M**L).toFixed(2))} ${R[L]}`},u=C=>{if(C===0)return"0 B/s";const M=1024,R=["B/s","KB/s","MB/s","GB/s"],L=Math.floor(Math.log(C)/Math.log(M));return`${Number.parseFloat((C/M**L).toFixed(2))} ${R[L]}`},h=()=>a4("upload-"),f=async(C,M,R)=>{switch(M){case"file":{if(!(C instanceof File))throw new TypeError('Payload must be a File when type is "file"');return C}case"blob":{if(!(C instanceof Blob))throw new TypeError('Payload must be a Blob when type is "blob"');return new File([C],"blob-file",{type:C.type})}case"base64":{if(typeof C!="string")throw new TypeError('Payload must be a string when type is "base64"');const L=C.includes(",")?C.split(",")[1]:C,P=C.includes(",")?C.split(",")[0].split(":")[1].split(";")[0]:"application/octet-stream",N=atob(L),j=new Uint8Array(N.length);for(let B=0;B<N.length;B++)j[B]=N.charCodeAt(B);const H=new Blob([j],{type:P});return new File([H],"base64-file",{type:P})}case"arrayBuffer":{if(!(C instanceof ArrayBuffer))throw new TypeError('Payload must be ArrayBuffer when type is "arrayBuffer"');const L=new Blob([C]);return new File([L],"array-buffer-file",{type:"application/octet-stream"})}default:throw new Error(`Unsupported upload type: ${M}`)}},p=C=>{if(t.maxFileSize&&C.size>t.maxFileSize)throw new Error(`File size cannot exceed ${c(t.maxFileSize)}`);if(t.maxFileCount&&n.value.length>=t.maxFileCount)throw new Error(`File count cannot exceed ${t.maxFileCount}`)},m=async(C,M,R)=>{const L=await f(C,M);p(L);const P={id:h(),file:L,filename:L.name,filesize:L.size,filetype:L.type,filesizeText:c(L.size),status:"pending",progress:{loaded:0,total:L.size,percent:0,speed:0,speedText:u(0),remainingTime:0,uploadTime:0}};return n.value.push(P),P},v=(C,M)=>{const R=n.value.findIndex(L=>L.id===C);R!==-1&&(n.value[R]={...n.value[R],...M})},g=()=>{n.value.every(C=>C.status!=="uploading")&&t.onComplete?.(n.value)},b=C=>{const M=n.value.find(R=>R.id===C);if(!M||M.status!=="pending"&&M.status!=="uploading")return!1;if(M.status==="uploading"){const R=o.value.get(C);R&&(R.abort(),o.value.delete(C))}return v(C,{status:"cancelled"}),t.onCancel?.(C),g(),!0},y=C=>{C?C.forEach(M=>b(M)):n.value.forEach(M=>b(M.id))},x=async C=>{if(!C.file)throw new Error("File not found");p(C.file);const M=new AbortController;o.value.set(C.id,M);const R=Date.now();return v(C.id,{status:"uploading"}),i.upload(C.file,{...a.value,method:s.value,signal:M.signal,params:t.params,onUploadProgress:L=>{const P=(Date.now()-R)/1e3,N=P>0?L.loaded/P:0,j=(L.total||0)-L.loaded,H=N>0?j/N:0,B={loaded:L.loaded,total:L.total,percent:L.percent||0,speed:Math.round(N),speedText:u(N),uploadTime:Math.round(P),remainingTime:Math.round(H)};v(C.id,{status:"uploading",progress:B}),t.onProgress?.(l.value)}}).then(L=>{if(C.status==="cancelled")throw new Error("Upload cancelled");const P=t.onDataCallback?.(L,C)||L.data,N=Math.round((Date.now()-R)/1e3),j={...C,status:"success",data:L,...P,progress:{...C.progress,loaded:C.filesize||0,percent:100,speed:0,speedText:u(0),uploadTime:N,remainingTime:0}};return v(C.id,j),o.value.delete(C.id),t.onSuccess?.(L),j}).catch(L=>{throw L.message==="canceled"||C.status==="cancelled"?new Error("Upload cancelled"):(v(C.id,{status:"error",error:L.message}),o.value.delete(C.id),L)}).finally(()=>{g()})},w=async()=>{const C=n.value.filter(M=>M.status==="pending");if(C.length===0)return[];e.value=!0;try{const M=[];for(let R=0;R<C.length;R++){const L=C[R],P=n.value.findIndex(j=>j.id===L.id);r.value=P;const N=await x(L);M.push(N)}return M}catch(M){throw t.onError?.({status:M?.status||500,message:M?.message||"upload failed"}),M}finally{e.value=!1,r.value=-1}},_=()=>{n.value.forEach(C=>{b(C.id)}),o.value.clear(),n.value=[],r.value=-1},k=async(C,M="file")=>{try{if(!t.multiple&&C.length>1)throw new Error("Single file mode: only one file can be selected");if(!t.multiple&&n.value.length>0&&_(),t.maxFileCount&&n.value.length+C.length>t.maxFileCount)throw new Error(`Adding ${C.length} files would exceed the maximum limit of ${t.maxFileCount}`);for(const R of C)await m(R,M)}catch(R){throw t.onError?.({status:R?.status||400,message:R?.message||"Failed to add files"}),R}t.autoUpload&&w().catch(R=>{console.warn("Auto upload failed:",R)})},E=C=>{const M=n.value.find(L=>L.id===C);if(M&&M.status==="uploading"){v(C,{status:"cancelled"});const L=o.value.get(C);if(!L)return;L.abort(),o.value.delete(C)}const R=n.value.findIndex(L=>L.id===C);R!==-1&&n.value.splice(R,1)},$=C=>{C?C.forEach(M=>E(M)):n.value.forEach(M=>E(M.id))},{files:A,open:D,reset:O}=Xm({accept:t.accept,multiple:t.multiple||!1}),S=C=>({id:h(),...C,filesizeText:C.filesize?c(C.filesize):void 0,status:C.url?"success":"pending",progress:{loaded:0,total:C.filesize||0,percent:C.url?100:0,speed:0,speedText:u(0),remainingTime:0,uploadTime:0}});pe(A,async C=>{if(C&&C.length>0){const M=Array.from(C);O(),await k(M,"file").catch(R=>{console.warn("Failed to add selected files:",R)})}});const T=z(()=>n.value.filter(C=>C.status==="success").map(C=>({url:C.url,filename:C.filename,filesize:C.filesize,filetype:C.filetype})));return{isUploading:e,uploadFiles:n,dataFiles:T,progress:l,open:D,trigger:w,resetFiles:O,clearFiles:_,removeFiles:$,addFiles:k,addDataFiles:C=>{!t.multiple&&n.value.length>0&&_();const M=C.map(R=>S(R));n.value.push(...M)},cancelFiles:y}}function N_(t){const e=Ra();return{async upload(n,r){const o=await e.request({method:"GET",path:t.signPath,query:{name:n.name,size:n.size,mime:n.type,...r.params},signal:r.signal,onUploadProgress:r.onUploadProgress}),i=t.signCallback?.(o)||{uploadUrl:o.data?.uploadUrl,url:o.data?.url,params:o.data?.params};if(!i.uploadUrl)throw new Error("Upload URL is required");if(!i.url)throw new Error("File URL is required");const a=r.method||"POST";let s=null;const l=r.headers||{};if(a==="PUT")s=n,l["Content-Type"]=n.type||"application/octet-stream";else{const u=new FormData;i.params&&Object.entries(i.params).forEach(([h,f])=>{u.append(h,String(f))}),u.append("file",n),s=u}const c=await ht.request({method:a,url:i.uploadUrl,data:s,signal:r.signal,headers:l,onUploadProgress:u=>{if(r.onUploadProgress&&u.total){const h=Math.round(u.loaded*100/u.total);r.onUploadProgress({loaded:u.loaded,total:u.total,percent:h})}}});if(c.status<200||c.status>=300)throw new Error(`S3 upload failed: ${c.statusText}`);return{data:{url:i.url,filename:n.name,size:n.size,mime:n.type},message:"upload successful"}}}}const c7={mounted(t,e){const{value:n}=e;n&&(ph()(n)||t.parentElement?.removeChild(t))}};function j_(t){const e=[...t.routes||[],{name:"default",path:"/:catchAll(.*)",redirect:`/${t.defaultManage||t.manages?.[0]?.name||""}`}];return t.manages?.forEach(n=>{const r=n.routes?.filter(i=>i.meta?.authorization===!0||i.meta?.authorization===void 0)||[],o=n.routes?.filter(i=>i.meta?.authorization===!1)||[];e.push({name:n.name,path:n.routePrefix||"",children:[{path:"",name:`${n.name}.auth`,component:n.components?.authLayout,children:r},{path:"",name:`${n.name}.noAuth`,component:n.components?.noAuthLayout,children:o}],meta:{manageName:n.name}})}),WE({history:VE(),routes:e})}function u7(t){const e=t4();return e.use(n4),{install(n){console.log("%c dux-vue %c dux.cn %c","background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:transparent"),D_();const r=re();n.provide("dux.config",t),n.provide("dux.manage",r),n.directive("can",c7),n.use(e),n.use(Aw),n.use(j_(t))}}}function d7(t){return{login:async(e,n)=>await ht.post(n.getApiUrl(t?.apiPath?.login||"/login",t?.dataProviderName),e).then(r=>({success:!0,message:r?.data?.message,redirectTo:t?.routePath?.index||"/",data:r?.data?.data})).catch(r=>({success:!1,message:r?.response?.data?.message||r?.message})),check:async(e,n,r)=>await ht.get(n?.getApiUrl(t?.apiPath?.check||"/check",t?.dataProviderName)||"",{headers:{Authorization:r?.token||""}}).then(o=>({success:!0,logout:!1,message:o?.data?.message,data:o?.data?.data})).catch(o=>({success:!1,logout:o.status===401,message:o?.response?.data?.message||o?.message})),onError:async e=>e?.status===401?{logout:!0,redirectTo:t?.routePath?.login||"/login",error:e}:{logout:!1,error:e},logout:async()=>({success:!0,redirectTo:t?.routePath?.login||"/login"}),register:async(e,n)=>await ht.post(n?.getApiUrl(t?.apiPath?.register||"/register",t?.dataProviderName)||"",e).then(r=>({success:!0,message:r?.data?.message,redirectTo:t?.routePath?.index||"/",data:r?.data?.data})).catch(r=>({success:!1,message:r?.response?.data?.message||r?.message})),forgotPassword:async(e,n)=>await ht.post(n?.getApiUrl(t?.apiPath?.forgotPassword||"/forgot-password",t?.dataProviderName)||"",e).then(r=>({success:!0,message:r?.data?.message,redirectTo:t?.routePath?.login||"/login"})).catch(r=>({success:!1,message:r?.response?.data?.message||r?.message})),updatePassword:async(e,n)=>await ht.post(n?.getApiUrl(t?.apiPath?.updatePassword||"/update-password",t?.dataProviderName)||"",e).then(r=>({success:!0,message:r?.data?.message,redirectTo:t?.routePath?.login||"/login"})).catch(r=>({success:!1,message:r?.response?.data?.message||r?.message})),can:(e,n,r,o)=>!o?.permission||Array.isArray(o?.permission)&&o?.permission?.length===0||typeof o?.permission=="object"&&Object.keys(o?.permission).length===0?!0:!(Array.isArray(o?.permission)&&!o?.permission?.includes(e)||typeof o?.permission=="object"&&o?.permission[e]===!1)}}function Ag(t){return Object.values(t).some(e=>e instanceof File?!0:Array.isArray(e)?e.some(n=>n instanceof File):e&&typeof e=="object"?Ag(e):!1)}function L1(t){const e=new FormData,n=(r,o="")=>{Object.entries(r).forEach(([i,a])=>{const s=o?`${o}[${i}]`:i;a instanceof File?e.append(s,a):Array.isArray(a)?a.forEach((l,c)=>{l instanceof File?e.append(`${s}[${c}]`,l):l!=null&&e.append(`${s}[${c}]`,String(l))}):a&&typeof a=="object"?n(a,s):a!=null&&e.append(s,String(a))})};return n(t),e}function h7(t){const e=(n,r)=>{const o=`${Of(t.apiUrl,"/")}${r?`/${Of(r,"/")}`:""}`;return n?`${o}/${Of(n||"","/")}`:o};return{apiUrl:e,getList:(n,r,o)=>{const i={};return n.pagination&&typeof n.pagination=="object"&&(i.page=n.pagination.page,i.pageSize=n.pagination.pageSize),ht.get(e(n.path,r?.config.apiBasePath)||"",{params:{...i,...n.filters,...n.sorters},headers:{Authorization:o?.token},...n.meta}).then(a=>t.successCallback?t.successCallback(a):so(a)).catch(a=>{throw t.errorCallback?t.errorCallback(a):lo(a)})},create:(n,r,o)=>{let i=n.data;return n.data&&typeof n.data=="object"&&!Array.isArray(n.data)&&!(n.data instanceof FormData)&&Ag(n.data)&&(i=L1(n.data)),ht.post(e(n.path,r?.config.apiBasePath)||"",i,{headers:{Authorization:o?.token},...n.meta}).then(a=>t.successCallback?t.successCallback(a):so(a)).catch(a=>{throw t.errorCallback?t.errorCallback(a):lo(a)})},update:(n,r,o)=>{let i=n.data;return n.data&&typeof n.data=="object"&&!Array.isArray(n.data)&&!(n.data instanceof FormData)&&Ag(n.data)&&(i=L1(n.data)),ht.put(e(n.id?`${n.path}/${n.id}`:n.path,r?.config.apiBasePath)||"",i,{headers:{Authorization:o?.token},...n.meta}).then(a=>t.successCallback?t.successCallback(a):so(a)).catch(a=>{throw t.errorCallback?t.errorCallback(a):lo(a)})},deleteOne:(n,r,o)=>ht.delete(e(n.id?`${n.path}/${n.id}`:n.path,r?.config.apiBasePath)||"",{headers:{Authorization:o?.token},...n.meta}).then(i=>t.successCallback?t.successCallback(i):so(i)).catch(i=>{throw t.errorCallback?t.errorCallback(i):lo(i)}),getOne:(n,r,o)=>ht.get(e(n.id?`${n.path}/${n.id}`:n.path,r?.config.apiBasePath)||"",{headers:{Authorization:o?.token},...n.meta}).then(i=>t.successCallback?t.successCallback(i):so(i)).catch(i=>{throw t.errorCallback?t.errorCallback(i):lo(i)}),getMany:(n,r,o)=>ht.get(e(n.path,r?.config.apiBasePath)||"",{params:{ids:n.ids},headers:{Authorization:o?.token},...n.meta}).then(i=>t.successCallback?t.successCallback(i):so(i)).catch(i=>{throw t.errorCallback?t.errorCallback(i):lo(i)}),createMany:(n,r,o)=>ht.post(e(n.path,r?.config.apiBasePath)||"",n.data,{headers:{Authorization:o?.token},...n.meta}).then(i=>t.successCallback?t.successCallback(i):so(i)).catch(i=>{throw t.errorCallback?t.errorCallback(i):lo(i)}),updateMany:(n,r,o)=>ht.put(e(n.path,r?.config.apiBasePath)||"",{ids:n.ids,data:n.data},{headers:{Authorization:o?.token},...n.meta}).then(i=>t.successCallback?t.successCallback(i):so(i)).catch(i=>{throw t.errorCallback?t.errorCallback(i):lo(i)}),deleteMany:(n,r,o)=>ht.delete(e(n.path,r?.config.apiBasePath)||"",{params:{ids:n.ids},headers:{Authorization:o?.token},...n.meta}).then(i=>t.successCallback?t.successCallback(i):so(i)).catch(i=>{throw t.errorCallback?t.errorCallback(i):lo(i)}),custom:(n,r,o)=>{let i={...n.query};return n.sorters&&typeof n.sorters=="object"&&(i={...i,...n.sorters}),n.filters&&typeof n.filters=="object"&&(i={...i,...n.filters}),ht.request({url:e(n.path,r?.config.apiBasePath)||"",method:n.method||"GET",data:n.payload,params:i,signal:n.signal,headers:{Authorization:o?.token,...n.headers},onUploadProgress:a=>{const s=Math.round(a.loaded*100/(a.total||1));n.onUploadProgress?.({loaded:a.loaded,total:a.total,percent:s})},onDownloadProgress:a=>{const s=Math.round(a.loaded*100/(a.total||1));n.onDownloadProgress?.({loaded:a.loaded,total:a.total,percent:s})},...n.meta}).then(a=>t.successCallback?t.successCallback(a):so(a)).catch(a=>{throw t.errorCallback?t.errorCallback(a):lo(a)})},getTotal:n=>t.getTotal?t.getTotal(n):n.meta?.total||0}}function so(t){return{message:t.data?.message,data:t.data?.data,meta:t.data?.meta,raw:t.data}}function lo(t){return{message:t.response?.data?.message||t?.message,data:t.response?.data?.data,meta:t.response?.data?.meta,status:t.response?.data?.code||t.response?.status||500,raw:t.response?.data}}/*!
  * shared v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const wd=typeof window<"u",Ni=(t,e=!1)=>e?Symbol.for(t):Symbol(t),f7=(t,e,n)=>p7({l:t,k:e,s:n}),p7=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ln=t=>typeof t=="number"&&isFinite(t),g7=t=>p0(t)==="[object Date]",xs=t=>p0(t)==="[object RegExp]",Mh=t=>st(t)&&Object.keys(t).length===0,hn=Object.assign,m7=Object.create,Tt=(t=null)=>m7(t);let F1;const sa=()=>F1||(F1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Tt());function I1(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const v7=Object.prototype.hasOwnProperty;function Gr(t,e){return v7.call(t,e)}const Yt=Array.isArray,Pt=t=>typeof t=="function",Re=t=>typeof t=="string",vt=t=>typeof t=="boolean",wt=t=>t!==null&&typeof t=="object",b7=t=>wt(t)&&Pt(t.then)&&Pt(t.catch),B_=Object.prototype.toString,p0=t=>B_.call(t),st=t=>p0(t)==="[object Object]",y7=t=>t==null?"":Yt(t)||st(t)&&t.toString===B_?JSON.stringify(t,null,2):String(t);function g0(t,e=""){return t.reduce((n,r,o)=>o===0?n+r:n+e+r,"")}function x7(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Fc=t=>!wt(t)||Yt(t);function Hu(t,e){if(Fc(t)||Fc(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:o}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(wt(r[i])&&!wt(o[i])&&(o[i]=Array.isArray(r[i])?[]:Tt()),Fc(o[i])||Fc(r[i])?o[i]=r[i]:n.push({src:r[i],des:o[i]}))})}}/*!
  * message-compiler v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function w7(t,e,n){return{line:t,column:e,offset:n}}function Mg(t,e,n){return{start:t,end:e}}const St={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},_7=17;function $h(t,e,n={}){const{domain:r,messages:o,args:i}=n,a=t,s=new SyntaxError(String(a));return s.code=t,e&&(s.location=e),s.domain=r,s}function k7(t){throw t}const Po=" ",C7="\r",Bn=`
`,S7="\u2028",E7="\u2029";function T7(t){const e=t;let n=0,r=1,o=1,i=0;const a=E=>e[E]===C7&&e[E+1]===Bn,s=E=>e[E]===Bn,l=E=>e[E]===E7,c=E=>e[E]===S7,u=E=>a(E)||s(E)||l(E)||c(E),h=()=>n,f=()=>r,p=()=>o,m=()=>i,v=E=>a(E)||l(E)||c(E)?Bn:e[E],g=()=>v(n),b=()=>v(n+i);function y(){return i=0,u(n)&&(r++,o=0),a(n)&&n++,n++,o++,e[n]}function x(){return a(n+i)&&i++,i++,e[n+i]}function w(){n=0,r=1,o=1,i=0}function _(E=0){i=E}function k(){const E=n+i;for(;E!==n;)y();i=0}return{index:h,line:f,column:p,peekOffset:m,charAt:v,currentChar:g,currentPeek:b,next:y,peek:x,reset:w,resetPeek:_,skipToPeek:k}}const fi=void 0,O7=".",N1="'",A7="tokenizer";function M7(t,e={}){const n=e.location!==!1,r=T7(t),o=()=>r.index(),i=()=>w7(r.line(),r.column(),r.index()),a=i(),s=o(),l={currentType:13,offset:s,startLoc:a,endLoc:a,lastType:13,lastOffset:s,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function h(F,I,G,...oe){const ue=c();if(I.column+=G,I.offset+=G,u){const he=n?Mg(ue.startLoc,I):null,Q=$h(F,he,{domain:A7,args:oe});u(Q)}}function f(F,I,G){F.endLoc=i(),F.currentType=I;const oe={type:I};return n&&(oe.loc=Mg(F.startLoc,F.endLoc)),G!=null&&(oe.value=G),oe}const p=F=>f(F,13);function m(F,I){return F.currentChar()===I?(F.next(),I):(h(St.EXPECTED_TOKEN,i(),0,I),"")}function v(F){let I="";for(;F.currentPeek()===Po||F.currentPeek()===Bn;)I+=F.currentPeek(),F.peek();return I}function g(F){const I=v(F);return F.skipToPeek(),I}function b(F){if(F===fi)return!1;const I=F.charCodeAt(0);return I>=97&&I<=122||I>=65&&I<=90||I===95}function y(F){if(F===fi)return!1;const I=F.charCodeAt(0);return I>=48&&I<=57}function x(F,I){const{currentType:G}=I;if(G!==2)return!1;v(F);const oe=b(F.currentPeek());return F.resetPeek(),oe}function w(F,I){const{currentType:G}=I;if(G!==2)return!1;v(F);const oe=F.currentPeek()==="-"?F.peek():F.currentPeek(),ue=y(oe);return F.resetPeek(),ue}function _(F,I){const{currentType:G}=I;if(G!==2)return!1;v(F);const oe=F.currentPeek()===N1;return F.resetPeek(),oe}function k(F,I){const{currentType:G}=I;if(G!==7)return!1;v(F);const oe=F.currentPeek()===".";return F.resetPeek(),oe}function E(F,I){const{currentType:G}=I;if(G!==8)return!1;v(F);const oe=b(F.currentPeek());return F.resetPeek(),oe}function $(F,I){const{currentType:G}=I;if(!(G===7||G===11))return!1;v(F);const oe=F.currentPeek()===":";return F.resetPeek(),oe}function A(F,I){const{currentType:G}=I;if(G!==9)return!1;const oe=()=>{const he=F.currentPeek();return he==="{"?b(F.peek()):he==="@"||he==="|"||he===":"||he==="."||he===Po||!he?!1:he===Bn?(F.peek(),oe()):O(F,!1)},ue=oe();return F.resetPeek(),ue}function D(F){v(F);const I=F.currentPeek()==="|";return F.resetPeek(),I}function O(F,I=!0){const G=(ue=!1,he="")=>{const Q=F.currentPeek();return Q==="{"||Q==="@"||!Q?ue:Q==="|"?!(he===Po||he===Bn):Q===Po?(F.peek(),G(!0,Po)):Q===Bn?(F.peek(),G(!0,Bn)):!0},oe=G();return I&&F.resetPeek(),oe}function S(F,I){const G=F.currentChar();return G===fi?fi:I(G)?(F.next(),G):null}function T(F){const I=F.charCodeAt(0);return I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57||I===95||I===36}function C(F){return S(F,T)}function M(F){const I=F.charCodeAt(0);return I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57||I===95||I===36||I===45}function R(F){return S(F,M)}function L(F){const I=F.charCodeAt(0);return I>=48&&I<=57}function P(F){return S(F,L)}function N(F){const I=F.charCodeAt(0);return I>=48&&I<=57||I>=65&&I<=70||I>=97&&I<=102}function j(F){return S(F,N)}function H(F){let I="",G="";for(;I=P(F);)G+=I;return G}function B(F){let I="";for(;;){const G=F.currentChar();if(G==="{"||G==="}"||G==="@"||G==="|"||!G)break;if(G===Po||G===Bn)if(O(F))I+=G,F.next();else{if(D(F))break;I+=G,F.next()}else I+=G,F.next()}return I}function te(F){g(F);let I="",G="";for(;I=R(F);)G+=I;return F.currentChar()===fi&&h(St.UNTERMINATED_CLOSING_BRACE,i(),0),G}function U(F){g(F);let I="";return F.currentChar()==="-"?(F.next(),I+=`-${H(F)}`):I+=H(F),F.currentChar()===fi&&h(St.UNTERMINATED_CLOSING_BRACE,i(),0),I}function ie(F){return F!==N1&&F!==Bn}function V(F){g(F),m(F,"'");let I="",G="";for(;I=S(F,ie);)I==="\\"?G+=de(F):G+=I;const oe=F.currentChar();return oe===Bn||oe===fi?(h(St.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),oe===Bn&&(F.next(),m(F,"'")),G):(m(F,"'"),G)}function de(F){const I=F.currentChar();switch(I){case"\\":case"'":return F.next(),`\\${I}`;case"u":return ve(F,I,4);case"U":return ve(F,I,6);default:return h(St.UNKNOWN_ESCAPE_SEQUENCE,i(),0,I),""}}function ve(F,I,G){m(F,I);let oe="";for(let ue=0;ue<G;ue++){const he=j(F);if(!he){h(St.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${I}${oe}${F.currentChar()}`);break}oe+=he}return`\\${I}${oe}`}function ge(F){return F!=="{"&&F!=="}"&&F!==Po&&F!==Bn}function ke(F){g(F);let I="",G="";for(;I=S(F,ge);)G+=I;return G}function Ce(F){let I="",G="";for(;I=C(F);)G+=I;return G}function Ae(F){const I=G=>{const oe=F.currentChar();return oe==="{"||oe==="@"||oe==="|"||oe==="("||oe===")"||!oe||oe===Po?G:(G+=oe,F.next(),I(G))};return I("")}function Me(F){g(F);const I=m(F,"|");return g(F),I}function Y(F,I){let G=null;switch(F.currentChar()){case"{":return I.braceNest>=1&&h(St.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),F.next(),G=f(I,2,"{"),g(F),I.braceNest++,G;case"}":return I.braceNest>0&&I.currentType===2&&h(St.EMPTY_PLACEHOLDER,i(),0),F.next(),G=f(I,3,"}"),I.braceNest--,I.braceNest>0&&g(F),I.inLinked&&I.braceNest===0&&(I.inLinked=!1),G;case"@":return I.braceNest>0&&h(St.UNTERMINATED_CLOSING_BRACE,i(),0),G=W(F,I)||p(I),I.braceNest=0,G;default:{let ue=!0,he=!0,Q=!0;if(D(F))return I.braceNest>0&&h(St.UNTERMINATED_CLOSING_BRACE,i(),0),G=f(I,1,Me(F)),I.braceNest=0,I.inLinked=!1,G;if(I.braceNest>0&&(I.currentType===4||I.currentType===5||I.currentType===6))return h(St.UNTERMINATED_CLOSING_BRACE,i(),0),I.braceNest=0,Z(F,I);if(ue=x(F,I))return G=f(I,4,te(F)),g(F),G;if(he=w(F,I))return G=f(I,5,U(F)),g(F),G;if(Q=_(F,I))return G=f(I,6,V(F)),g(F),G;if(!ue&&!he&&!Q)return G=f(I,12,ke(F)),h(St.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,G.value),g(F),G;break}}return G}function W(F,I){const{currentType:G}=I;let oe=null;const ue=F.currentChar();switch((G===7||G===8||G===11||G===9)&&(ue===Bn||ue===Po)&&h(St.INVALID_LINKED_FORMAT,i(),0),ue){case"@":return F.next(),oe=f(I,7,"@"),I.inLinked=!0,oe;case".":return g(F),F.next(),f(I,8,".");case":":return g(F),F.next(),f(I,9,":");default:return D(F)?(oe=f(I,1,Me(F)),I.braceNest=0,I.inLinked=!1,oe):k(F,I)||$(F,I)?(g(F),W(F,I)):E(F,I)?(g(F),f(I,11,Ce(F))):A(F,I)?(g(F),ue==="{"?Y(F,I)||oe:f(I,10,Ae(F))):(G===7&&h(St.INVALID_LINKED_FORMAT,i(),0),I.braceNest=0,I.inLinked=!1,Z(F,I))}}function Z(F,I){let G={type:13};if(I.braceNest>0)return Y(F,I)||p(I);if(I.inLinked)return W(F,I)||p(I);switch(F.currentChar()){case"{":return Y(F,I)||p(I);case"}":return h(St.UNBALANCED_CLOSING_BRACE,i(),0),F.next(),f(I,3,"}");case"@":return W(F,I)||p(I);default:{if(D(F))return G=f(I,1,Me(F)),I.braceNest=0,I.inLinked=!1,G;if(O(F))return f(I,0,B(F));break}}return G}function K(){const{currentType:F,offset:I,startLoc:G,endLoc:oe}=l;return l.lastType=F,l.lastOffset=I,l.lastStartLoc=G,l.lastEndLoc=oe,l.offset=o(),l.startLoc=i(),r.currentChar()===fi?f(l,13):Z(r,l)}return{nextToken:K,currentOffset:o,currentPosition:i,context:c}}const $7="parser",R7=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function D7(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function P7(t={}){const e=t.location!==!1,{onError:n}=t;function r(b,y,x,w,..._){const k=b.currentPosition();if(k.offset+=w,k.column+=w,n){const E=e?Mg(x,k):null,$=$h(y,E,{domain:$7,args:_});n($)}}function o(b,y,x){const w={type:b};return e&&(w.start=y,w.end=y,w.loc={start:x,end:x}),w}function i(b,y,x,w){e&&(b.end=y,b.loc&&(b.loc.end=x))}function a(b,y){const x=b.context(),w=o(3,x.offset,x.startLoc);return w.value=y,i(w,b.currentOffset(),b.currentPosition()),w}function s(b,y){const x=b.context(),{lastOffset:w,lastStartLoc:_}=x,k=o(5,w,_);return k.index=parseInt(y,10),b.nextToken(),i(k,b.currentOffset(),b.currentPosition()),k}function l(b,y){const x=b.context(),{lastOffset:w,lastStartLoc:_}=x,k=o(4,w,_);return k.key=y,b.nextToken(),i(k,b.currentOffset(),b.currentPosition()),k}function c(b,y){const x=b.context(),{lastOffset:w,lastStartLoc:_}=x,k=o(9,w,_);return k.value=y.replace(R7,D7),b.nextToken(),i(k,b.currentOffset(),b.currentPosition()),k}function u(b){const y=b.nextToken(),x=b.context(),{lastOffset:w,lastStartLoc:_}=x,k=o(8,w,_);return y.type!==11?(r(b,St.UNEXPECTED_EMPTY_LINKED_MODIFIER,x.lastStartLoc,0),k.value="",i(k,w,_),{nextConsumeToken:y,node:k}):(y.value==null&&r(b,St.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,co(y)),k.value=y.value||"",i(k,b.currentOffset(),b.currentPosition()),{node:k})}function h(b,y){const x=b.context(),w=o(7,x.offset,x.startLoc);return w.value=y,i(w,b.currentOffset(),b.currentPosition()),w}function f(b){const y=b.context(),x=o(6,y.offset,y.startLoc);let w=b.nextToken();if(w.type===8){const _=u(b);x.modifier=_.node,w=_.nextConsumeToken||b.nextToken()}switch(w.type!==9&&r(b,St.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,co(w)),w=b.nextToken(),w.type===2&&(w=b.nextToken()),w.type){case 10:w.value==null&&r(b,St.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,co(w)),x.key=h(b,w.value||"");break;case 4:w.value==null&&r(b,St.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,co(w)),x.key=l(b,w.value||"");break;case 5:w.value==null&&r(b,St.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,co(w)),x.key=s(b,w.value||"");break;case 6:w.value==null&&r(b,St.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,co(w)),x.key=c(b,w.value||"");break;default:{r(b,St.UNEXPECTED_EMPTY_LINKED_KEY,y.lastStartLoc,0);const _=b.context(),k=o(7,_.offset,_.startLoc);return k.value="",i(k,_.offset,_.startLoc),x.key=k,i(x,_.offset,_.startLoc),{nextConsumeToken:w,node:x}}}return i(x,b.currentOffset(),b.currentPosition()),{node:x}}function p(b){const y=b.context(),x=y.currentType===1?b.currentOffset():y.offset,w=y.currentType===1?y.endLoc:y.startLoc,_=o(2,x,w);_.items=[];let k=null;do{const A=k||b.nextToken();switch(k=null,A.type){case 0:A.value==null&&r(b,St.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,co(A)),_.items.push(a(b,A.value||""));break;case 5:A.value==null&&r(b,St.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,co(A)),_.items.push(s(b,A.value||""));break;case 4:A.value==null&&r(b,St.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,co(A)),_.items.push(l(b,A.value||""));break;case 6:A.value==null&&r(b,St.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,co(A)),_.items.push(c(b,A.value||""));break;case 7:{const D=f(b);_.items.push(D.node),k=D.nextConsumeToken||null;break}}}while(y.currentType!==13&&y.currentType!==1);const E=y.currentType===1?y.lastOffset:b.currentOffset(),$=y.currentType===1?y.lastEndLoc:b.currentPosition();return i(_,E,$),_}function m(b,y,x,w){const _=b.context();let k=w.items.length===0;const E=o(1,y,x);E.cases=[],E.cases.push(w);do{const $=p(b);k||(k=$.items.length===0),E.cases.push($)}while(_.currentType!==13);return k&&r(b,St.MUST_HAVE_MESSAGES_IN_PLURAL,x,0),i(E,b.currentOffset(),b.currentPosition()),E}function v(b){const y=b.context(),{offset:x,startLoc:w}=y,_=p(b);return y.currentType===13?_:m(b,x,w,_)}function g(b){const y=M7(b,hn({},t)),x=y.context(),w=o(0,x.offset,x.startLoc);return e&&w.loc&&(w.loc.source=b),w.body=v(y),t.onCacheKey&&(w.cacheKey=t.onCacheKey(b)),x.currentType!==13&&r(y,St.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,b[x.offset]||""),i(w,y.currentOffset(),y.currentPosition()),w}return{parse:g}}function co(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function L7(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function j1(t,e){for(let n=0;n<t.length;n++)m0(t[n],e)}function m0(t,e){switch(t.type){case 1:j1(t.cases,e),e.helper("plural");break;case 2:j1(t.items,e);break;case 6:{m0(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function F7(t,e={}){const n=L7(t);n.helper("normalize"),t.body&&m0(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function I7(t){const e=t.body;return e.type===2?B1(e):e.cases.forEach(n=>B1(n)),t}function B1(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=g0(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function Xa(t){switch(t.t=t.type,t.type){case 0:{const e=t;Xa(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)Xa(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)Xa(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Xa(e.key),e.k=e.key,delete e.key,e.modifier&&(Xa(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function N7(t,e){const{filename:n,breakLineCode:r,needIndent:o}=e,i=e.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:o,indentLevel:0};i&&t.loc&&(a.source=t.loc.source);const s=()=>a;function l(v,g){a.code+=v}function c(v,g=!0){const b=g?r:"";l(o?b+"  ".repeat(v):b)}function u(v=!0){const g=++a.indentLevel;v&&c(g)}function h(v=!0){const g=--a.indentLevel;v&&c(g)}function f(){c(a.indentLevel)}return{context:s,push:l,indent:u,deindent:h,newline:f,helper:v=>`_${v}`,needIndent:()=>a.needIndent}}function j7(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),ws(t,e.key),e.modifier?(t.push(", "),ws(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function B7(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const o=e.items.length;for(let i=0;i<o&&(ws(t,e.items[i]),i!==o-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function z7(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const o=e.cases.length;for(let i=0;i<o&&(ws(t,e.cases[i]),i!==o-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function U7(t,e){e.body?ws(t,e.body):t.push("null")}function ws(t,e){const{helper:n}=t;switch(e.type){case 0:U7(t,e);break;case 1:z7(t,e);break;case 2:B7(t,e);break;case 6:j7(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const H7=(t,e={})=>{const n=Re(e.mode)?e.mode:"normal",r=Re(e.filename)?e.filename:"message.intl";e.sourceMap;const o=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,i=e.needIndent?e.needIndent:n!=="arrow",a=t.helpers||[],s=N7(t,{filename:r,breakLineCode:o,needIndent:i});s.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),s.indent(i),a.length>0&&(s.push(`const { ${g0(a.map(u=>`${u}: _${u}`),", ")} } = ctx`),s.newline()),s.push("return "),ws(s,t),s.deindent(i),s.push("}"),delete t.helpers;const{code:l,map:c}=s.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function W7(t,e={}){const n=hn({},e),r=!!n.jit,o=!!n.minify,i=n.optimize==null?!0:n.optimize,s=P7(n).parse(t);return r?(i&&I7(s),o&&Xa(s),{ast:s,code:""}):(F7(s,n),H7(s,n))}/*!
  * core-base v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function V7(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(sa().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(sa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function yo(t){return wt(t)&&v0(t)===0&&(Gr(t,"b")||Gr(t,"body"))}const z_=["b","body"];function X7(t){return ji(t,z_)}const U_=["c","cases"];function Y7(t){return ji(t,U_,[])}const H_=["s","static"];function G7(t){return ji(t,H_)}const W_=["i","items"];function q7(t){return ji(t,W_,[])}const V_=["t","type"];function v0(t){return ji(t,V_)}const X_=["v","value"];function Ic(t,e){const n=ji(t,X_);if(n!=null)return n;throw jl(e)}const Y_=["m","modifier"];function K7(t){return ji(t,Y_)}const G_=["k","key"];function Z7(t){const e=ji(t,G_);if(e)return e;throw jl(6)}function ji(t,e,n){for(let r=0;r<e.length;r++){const o=e[r];if(Gr(t,o)&&t[o]!=null)return t[o]}return n}const q_=[...z_,...U_,...H_,...W_,...G_,...Y_,...X_,...V_];function jl(t){return new Error(`unhandled node type: ${t}`)}function Pf(t){return n=>J7(n,t)}function J7(t,e){const n=X7(e);if(n==null)throw jl(0);if(v0(n)===1){const i=Y7(n);return t.plural(i.reduce((a,s)=>[...a,z1(t,s)],[]))}else return z1(t,n)}function z1(t,e){const n=G7(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=q7(e).reduce((o,i)=>[...o,$g(t,i)],[]);return t.normalize(r)}}function $g(t,e){const n=v0(e);switch(n){case 3:return Ic(e,n);case 9:return Ic(e,n);case 4:{const r=e;if(Gr(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(Gr(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw jl(n)}case 5:{const r=e;if(Gr(r,"i")&&ln(r.i))return t.interpolate(t.list(r.i));if(Gr(r,"index")&&ln(r.index))return t.interpolate(t.list(r.index));throw jl(n)}case 6:{const r=e,o=K7(r),i=Z7(r);return t.linked($g(t,i),o?$g(t,o):void 0,t.type)}case 7:return Ic(e,n);case 8:return Ic(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const Q7=t=>t;let Nc=Tt();function eO(t,e={}){let n=!1;const r=e.onError||k7;return e.onError=o=>{n=!0,r(o)},{...W7(t,e),detectError:n}}function tO(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Re(t)){vt(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||Q7)(t),o=Nc[r];if(o)return o;const{ast:i,detectError:a}=eO(t,{...e,location:!1,jit:!0}),s=Pf(i);return a?s:Nc[r]=s}else{const n=t.cacheKey;if(n){const r=Nc[n];return r||(Nc[n]=Pf(t))}else return Pf(t)}}let Bl=null;function nO(t){Bl=t}function rO(t,e,n){Bl&&Bl.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const oO=iO("function:translate");function iO(t){return e=>Bl&&Bl.emit(t,e)}const zo={INVALID_ARGUMENT:_7,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},aO=24;function Uo(t){return $h(t,null,void 0)}function b0(t,e){return e.locale!=null?U1(e.locale):U1(t.locale)}let Lf;function U1(t){if(Re(t))return t;if(Pt(t)){if(t.resolvedOnce&&Lf!=null)return Lf;if(t.constructor.name==="Function"){const e=t();if(b7(e))throw Uo(zo.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Lf=e}else throw Uo(zo.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Uo(zo.NOT_SUPPORT_LOCALE_TYPE)}function sO(t,e,n){return[...new Set([n,...Yt(e)?e:wt(e)?Object.keys(e):Re(e)?[e]:[n]])]}function K_(t,e,n){const r=Re(n)?n:zl,o=t;o.__localeChainCache||(o.__localeChainCache=new Map);let i=o.__localeChainCache.get(r);if(!i){i=[];let a=[n];for(;Yt(a);)a=H1(i,a,e);const s=Yt(e)||!st(e)?e:e.default?e.default:null;a=Re(s)?[s]:s,Yt(a)&&H1(i,a,!1),o.__localeChainCache.set(r,i)}return i}function H1(t,e,n){let r=!0;for(let o=0;o<e.length&&vt(r);o++){const i=e[o];Re(i)&&(r=lO(t,e[o],n))}return r}function lO(t,e,n){let r;const o=e.split("-");do{const i=o.join("-");r=cO(t,i,n),o.splice(-1,1)}while(o.length&&r===!0);return r}function cO(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const o=e.replace(/!/g,"");t.push(o),(Yt(n)||st(n))&&n[o]&&(r=n[o])}return r}const Bi=[];Bi[0]={w:[0],i:[3,0],"[":[4],o:[7]};Bi[1]={w:[1],".":[2],"[":[4],o:[7]};Bi[2]={w:[2],i:[3,0],0:[3,0]};Bi[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Bi[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Bi[5]={"'":[4,0],o:8,l:[5,0]};Bi[6]={'"':[4,0],o:8,l:[6,0]};const uO=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function dO(t){return uO.test(t)}function hO(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function fO(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function pO(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:dO(e)?hO(e):"*"+e}function gO(t){const e=[];let n=-1,r=0,o=0,i,a,s,l,c,u,h;const f=[];f[0]=()=>{a===void 0?a=s:a+=s},f[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},f[2]=()=>{f[0](),o++},f[3]=()=>{if(o>0)o--,r=4,f[0]();else{if(o=0,a===void 0||(a=pO(a),a===!1))return!1;f[1]()}};function p(){const m=t[n+1];if(r===5&&m==="'"||r===6&&m==='"')return n++,s="\\"+m,f[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&p())){if(l=fO(i),h=Bi[r],c=h[l]||h.l||8,c===8||(r=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(s=i,u()===!1))))return;if(r===7)return e}}const W1=new Map;function mO(t,e){return wt(t)?t[e]:null}function vO(t,e){if(!wt(t))return null;let n=W1.get(e);if(n||(n=gO(e),n&&W1.set(e,n)),!n)return null;const r=n.length;let o=t,i=0;for(;i<r;){const a=n[i];if(q_.includes(a)&&yo(o))return null;const s=o[a];if(s===void 0||Pt(o))return null;o=s,i++}return o}const bO="11.1.7",Rh=-1,zl="en-US",V1="",X1=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function yO(){return{upper:(t,e)=>e==="text"&&Re(t)?t.toUpperCase():e==="vnode"&&wt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Re(t)?t.toLowerCase():e==="vnode"&&wt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Re(t)?X1(t):e==="vnode"&&wt(t)&&"__v_isVNode"in t?X1(t.children):t}}let Z_;function xO(t){Z_=t}let J_;function wO(t){J_=t}let Q_;function _O(t){Q_=t}let e3=null;const kO=t=>{e3=t},CO=()=>e3;let t3=null;const Y1=t=>{t3=t},SO=()=>t3;let G1=0;function EO(t={}){const e=Pt(t.onWarn)?t.onWarn:x7,n=Re(t.version)?t.version:bO,r=Re(t.locale)||Pt(t.locale)?t.locale:zl,o=Pt(r)?zl:r,i=Yt(t.fallbackLocale)||st(t.fallbackLocale)||Re(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:o,a=st(t.messages)?t.messages:Ff(o),s=st(t.datetimeFormats)?t.datetimeFormats:Ff(o),l=st(t.numberFormats)?t.numberFormats:Ff(o),c=hn(Tt(),t.modifiers,yO()),u=t.pluralRules||Tt(),h=Pt(t.missing)?t.missing:null,f=vt(t.missingWarn)||xs(t.missingWarn)?t.missingWarn:!0,p=vt(t.fallbackWarn)||xs(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,v=!!t.unresolving,g=Pt(t.postTranslation)?t.postTranslation:null,b=st(t.processor)?t.processor:null,y=vt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,x=!!t.escapeParameter,w=Pt(t.messageCompiler)?t.messageCompiler:Z_,_=Pt(t.messageResolver)?t.messageResolver:J_||mO,k=Pt(t.localeFallbacker)?t.localeFallbacker:Q_||sO,E=wt(t.fallbackContext)?t.fallbackContext:void 0,$=t,A=wt($.__datetimeFormatters)?$.__datetimeFormatters:new Map,D=wt($.__numberFormatters)?$.__numberFormatters:new Map,O=wt($.__meta)?$.__meta:{};G1++;const S={version:n,cid:G1,locale:r,fallbackLocale:i,messages:a,modifiers:c,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:p,fallbackFormat:m,unresolving:v,postTranslation:g,processor:b,warnHtmlMessage:y,escapeParameter:x,messageCompiler:w,messageResolver:_,localeFallbacker:k,fallbackContext:E,onWarn:e,__meta:O};return S.datetimeFormats=s,S.numberFormats=l,S.__datetimeFormatters=A,S.__numberFormatters=D,__INTLIFY_PROD_DEVTOOLS__&&rO(S,n,O),S}const Ff=t=>({[t]:Tt()});function y0(t,e,n,r,o){const{missing:i,onWarn:a}=t;if(i!==null){const s=i(t,n,e,o);return Re(s)?s:e}else return e}function el(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function TO(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function OO(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(TO(t,e[r]))return!0;return!1}function q1(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:o,onWarn:i,localeFallbacker:a}=t,{__datetimeFormatters:s}=t,[l,c,u,h]=Rg(...e),f=vt(u.missingWarn)?u.missingWarn:t.missingWarn;vt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const p=!!u.part,m=b0(t,u),v=a(t,o,m);if(!Re(l)||l==="")return new Intl.DateTimeFormat(m,h).format(c);let g={},b,y=null;const x="datetime format";for(let k=0;k<v.length&&(b=v[k],g=n[b]||{},y=g[l],!st(y));k++)y0(t,l,b,f,x);if(!st(y)||!Re(b))return r?Rh:l;let w=`${b}__${l}`;Mh(h)||(w=`${w}__${JSON.stringify(h)}`);let _=s.get(w);return _||(_=new Intl.DateTimeFormat(b,hn({},y,h)),s.set(w,_)),p?_.formatToParts(c):_.format(c)}const n3=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Rg(...t){const[e,n,r,o]=t,i=Tt();let a=Tt(),s;if(Re(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Uo(zo.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();s=new Date(c);try{s.toISOString()}catch{throw Uo(zo.INVALID_ISO_DATE_ARGUMENT)}}else if(g7(e)){if(isNaN(e.getTime()))throw Uo(zo.INVALID_DATE_ARGUMENT);s=e}else if(ln(e))s=e;else throw Uo(zo.INVALID_ARGUMENT);return Re(n)?i.key=n:st(n)&&Object.keys(n).forEach(l=>{n3.includes(l)?a[l]=n[l]:i[l]=n[l]}),Re(r)?i.locale=r:st(r)&&(a=r),st(o)&&(a=o),[i.key||"",s,i,a]}function K1(t,e,n){const r=t;for(const o in n){const i=`${e}__${o}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function Z1(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:o,onWarn:i,localeFallbacker:a}=t,{__numberFormatters:s}=t,[l,c,u,h]=Dg(...e),f=vt(u.missingWarn)?u.missingWarn:t.missingWarn;vt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const p=!!u.part,m=b0(t,u),v=a(t,o,m);if(!Re(l)||l==="")return new Intl.NumberFormat(m,h).format(c);let g={},b,y=null;const x="number format";for(let k=0;k<v.length&&(b=v[k],g=n[b]||{},y=g[l],!st(y));k++)y0(t,l,b,f,x);if(!st(y)||!Re(b))return r?Rh:l;let w=`${b}__${l}`;Mh(h)||(w=`${w}__${JSON.stringify(h)}`);let _=s.get(w);return _||(_=new Intl.NumberFormat(b,hn({},y,h)),s.set(w,_)),p?_.formatToParts(c):_.format(c)}const r3=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Dg(...t){const[e,n,r,o]=t,i=Tt();let a=Tt();if(!ln(e))throw Uo(zo.INVALID_ARGUMENT);const s=e;return Re(n)?i.key=n:st(n)&&Object.keys(n).forEach(l=>{r3.includes(l)?a[l]=n[l]:i[l]=n[l]}),Re(r)?i.locale=r:st(r)&&(a=r),st(o)&&(a=o),[i.key||"",s,i,a]}function J1(t,e,n){const r=t;for(const o in n){const i=`${e}__${o}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}const AO=t=>t,MO=t=>"",$O="text",RO=t=>t.length===0?"":g0(t),DO=y7;function Q1(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function PO(t){const e=ln(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ln(t.named.count)||ln(t.named.n))?ln(t.named.count)?t.named.count:ln(t.named.n)?t.named.n:e:e}function LO(t,e){e.count||(e.count=t),e.n||(e.n=t)}function FO(t={}){const e=t.locale,n=PO(t),r=wt(t.pluralRules)&&Re(e)&&Pt(t.pluralRules[e])?t.pluralRules[e]:Q1,o=wt(t.pluralRules)&&Re(e)&&Pt(t.pluralRules[e])?Q1:void 0,i=b=>b[r(n,b.length,o)],a=t.list||[],s=b=>a[b],l=t.named||Tt();ln(t.pluralIndex)&&LO(n,l);const c=b=>l[b];function u(b,y){const x=Pt(t.messages)?t.messages(b,!!y):wt(t.messages)?t.messages[b]:!1;return x||(t.parent?t.parent.message(b):MO)}const h=b=>t.modifiers?t.modifiers[b]:AO,f=st(t.processor)&&Pt(t.processor.normalize)?t.processor.normalize:RO,p=st(t.processor)&&Pt(t.processor.interpolate)?t.processor.interpolate:DO,m=st(t.processor)&&Re(t.processor.type)?t.processor.type:$O,g={list:s,named:c,plural:i,linked:(b,...y)=>{const[x,w]=y;let _="text",k="";y.length===1?wt(x)?(k=x.modifier||k,_=x.type||_):Re(x)&&(k=x||k):y.length===2&&(Re(x)&&(k=x||k),Re(w)&&(_=w||_));const E=u(b,!0)(g),$=_==="vnode"&&Yt(E)&&k?E[0]:E;return k?h(k)($,_):$},message:u,type:m,interpolate:p,normalize:f,values:hn(Tt(),a,l)};return g}const eb=()=>"",Sr=t=>Pt(t);function tb(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:o,messageCompiler:i,fallbackLocale:a,messages:s}=t,[l,c]=Pg(...e),u=vt(c.missingWarn)?c.missingWarn:t.missingWarn,h=vt(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=vt(c.escapeParameter)?c.escapeParameter:t.escapeParameter,p=!!c.resolvedMessage,m=Re(c.default)||vt(c.default)?vt(c.default)?i?l:()=>l:c.default:n?i?l:()=>l:null,v=n||m!=null&&(Re(m)||Pt(m)),g=b0(t,c);f&&IO(c);let[b,y,x]=p?[l,g,s[g]||Tt()]:o3(t,l,g,a,h,u),w=b,_=l;if(!p&&!(Re(w)||yo(w)||Sr(w))&&v&&(w=m,_=w),!p&&(!(Re(w)||yo(w)||Sr(w))||!Re(y)))return o?Rh:l;let k=!1;const E=()=>{k=!0},$=Sr(w)?w:i3(t,l,y,w,_,E);if(k)return w;const A=BO(t,y,x,c),D=FO(A),O=NO(t,$,D),S=r?r(O,l):O;if(__INTLIFY_PROD_DEVTOOLS__){const T={timestamp:Date.now(),key:Re(l)?l:Sr(w)?w.key:"",locale:y||(Sr(w)?w.locale:""),format:Re(w)?w:Sr(w)?w.source:"",message:S};T.meta=hn({},t.__meta,CO()||{}),oO(T)}return S}function IO(t){Yt(t.list)?t.list=t.list.map(e=>Re(e)?I1(e):e):wt(t.named)&&Object.keys(t.named).forEach(e=>{Re(t.named[e])&&(t.named[e]=I1(t.named[e]))})}function o3(t,e,n,r,o,i){const{messages:a,onWarn:s,messageResolver:l,localeFallbacker:c}=t,u=c(t,r,n);let h=Tt(),f,p=null;const m="translate";for(let v=0;v<u.length&&(f=u[v],h=a[f]||Tt(),(p=l(h,e))===null&&(p=h[e]),!(Re(p)||yo(p)||Sr(p)));v++)if(!OO(f,u)){const g=y0(t,e,f,i,m);g!==e&&(p=g)}return[p,f,h]}function i3(t,e,n,r,o,i){const{messageCompiler:a,warnHtmlMessage:s}=t;if(Sr(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(a==null){const c=()=>r;return c.locale=n,c.key=e,c}const l=a(r,jO(t,n,o,r,s,i));return l.locale=n,l.key=e,l.source=r,l}function NO(t,e,n){return e(n)}function Pg(...t){const[e,n,r]=t,o=Tt();if(!Re(e)&&!ln(e)&&!Sr(e)&&!yo(e))throw Uo(zo.INVALID_ARGUMENT);const i=ln(e)?String(e):(Sr(e),e);return ln(n)?o.plural=n:Re(n)?o.default=n:st(n)&&!Mh(n)?o.named=n:Yt(n)&&(o.list=n),ln(r)?o.plural=r:Re(r)?o.default=r:st(r)&&hn(o,r),[i,o]}function jO(t,e,n,r,o,i){return{locale:e,key:n,warnHtmlMessage:o,onError:a=>{throw i&&i(a),a},onCacheKey:a=>f7(e,n,a)}}function BO(t,e,n,r){const{modifiers:o,pluralRules:i,messageResolver:a,fallbackLocale:s,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,f={locale:e,modifiers:o,pluralRules:i,messages:(p,m)=>{let v=a(n,p);if(v==null&&(u||m)){const[,,g]=o3(u||t,p,e,s,l,c);v=a(g,p)}if(Re(v)||yo(v)){let g=!1;const y=i3(t,p,e,v,p,()=>{g=!0});return g?eb:y}else return Sr(v)?v:eb}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),ln(r.plural)&&(f.pluralIndex=r.plural),f}V7();/*!
  * vue-i18n v11.1.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const zO="11.1.7";function UO(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(sa().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(sa().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(sa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(sa().__INTLIFY_PROD_DEVTOOLS__=!1)}const or={UNEXPECTED_RETURN_TYPE:aO,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function mr(t,...e){return $h(t,null,void 0)}const Lg=Ni("__translateVNode"),Fg=Ni("__datetimeParts"),Ig=Ni("__numberParts"),a3=Ni("__setPluralRules"),s3=Ni("__injectWithOption"),Ng=Ni("__dispose");function Ul(t){if(!wt(t)||yo(t))return t;for(const e in t)if(Gr(t,e))if(!e.includes("."))wt(t[e])&&Ul(t[e]);else{const n=e.split("."),r=n.length-1;let o=t,i=!1;for(let a=0;a<r;a++){if(n[a]==="__proto__")throw new Error(`unsafe key: ${n[a]}`);if(n[a]in o||(o[n[a]]=Tt()),!wt(o[n[a]])){i=!0;break}o=o[n[a]]}if(i||(yo(o)?q_.includes(n[r])||delete t[e]:(o[n[r]]=t[e],delete t[e])),!yo(o)){const a=o[n[r]];wt(a)&&Ul(a)}}return t}function x0(t,e){const{messages:n,__i18n:r,messageResolver:o,flatJson:i}=e,a=st(n)?n:Yt(r)?Tt():{[t]:Tt()};if(Yt(r)&&r.forEach(s=>{if("locale"in s&&"resource"in s){const{locale:l,resource:c}=s;l?(a[l]=a[l]||Tt(),Hu(c,a[l])):Hu(c,a)}else Re(s)&&Hu(JSON.parse(s),a)}),o==null&&i)for(const s in a)Gr(a,s)&&Ul(a[s]);return a}function l3(t){return t.type}function c3(t,e,n){let r=wt(e.messages)?e.messages:Tt();"__i18nGlobal"in n&&(r=x0(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const o=Object.keys(r);o.length&&o.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(wt(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(a=>{t.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(wt(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(a=>{t.mergeNumberFormat(a,e.numberFormats[a])})}}}function nb(t){return d(XE,null,t,0)}const rb="__INTLIFY_META__",ob=()=>[],HO=()=>!1;let ib=0;function ab(t){return(e,n,r,o)=>t(n,r,Wn()||void 0,o)}const WO=()=>{const t=Wn();let e=null;return t&&(e=l3(t)[rb])?{[rb]:e}:null};function w0(t={}){const{__root:e,__injectWithOption:n}=t,r=e===void 0,o=t.flatJson,i=wd?re:va;let a=vt(t.inheritLocale)?t.inheritLocale:!0;const s=i(e&&a?e.locale.value:Re(t.locale)?t.locale:zl),l=i(e&&a?e.fallbackLocale.value:Re(t.fallbackLocale)||Yt(t.fallbackLocale)||st(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s.value),c=i(x0(s.value,t)),u=i(st(t.datetimeFormats)?t.datetimeFormats:{[s.value]:{}}),h=i(st(t.numberFormats)?t.numberFormats:{[s.value]:{}});let f=e?e.missingWarn:vt(t.missingWarn)||xs(t.missingWarn)?t.missingWarn:!0,p=e?e.fallbackWarn:vt(t.fallbackWarn)||xs(t.fallbackWarn)?t.fallbackWarn:!0,m=e?e.fallbackRoot:vt(t.fallbackRoot)?t.fallbackRoot:!0,v=!!t.fallbackFormat,g=Pt(t.missing)?t.missing:null,b=Pt(t.missing)?ab(t.missing):null,y=Pt(t.postTranslation)?t.postTranslation:null,x=e?e.warnHtmlMessage:vt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter;const _=e?e.modifiers:st(t.modifiers)?t.modifiers:{};let k=t.pluralRules||e&&e.pluralRules,E;E=(()=>{r&&Y1(null);const Q={version:zO,locale:s.value,fallbackLocale:l.value,messages:c.value,modifiers:_,pluralRules:k,missing:b===null?void 0:b,missingWarn:f,fallbackWarn:p,fallbackFormat:v,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:x,escapeParameter:w,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};Q.datetimeFormats=u.value,Q.numberFormats=h.value,Q.__datetimeFormatters=st(E)?E.__datetimeFormatters:void 0,Q.__numberFormatters=st(E)?E.__numberFormatters:void 0;const se=EO(Q);return r&&Y1(se),se})(),el(E,s.value,l.value);function A(){return[s.value,l.value,c.value,u.value,h.value]}const D=z({get:()=>s.value,set:Q=>{E.locale=Q,s.value=Q}}),O=z({get:()=>l.value,set:Q=>{E.fallbackLocale=Q,l.value=Q,el(E,s.value,Q)}}),S=z(()=>c.value),T=z(()=>u.value),C=z(()=>h.value);function M(){return Pt(y)?y:null}function R(Q){y=Q,E.postTranslation=Q}function L(){return g}function P(Q){Q!==null&&(b=ab(Q)),g=Q,E.missing=b}const N=(Q,se,Le,we,pt,yr)=>{A();let ui;try{__INTLIFY_PROD_DEVTOOLS__,r||(E.fallbackContext=e?SO():void 0),ui=Q(E)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(E.fallbackContext=void 0)}if(Le!=="translate exists"&&ln(ui)&&ui===Rh||Le==="translate exists"&&!ui){const[xf,Bv]=se();return e&&m?we(e):pt(xf)}else{if(yr(ui))return ui;throw mr(or.UNEXPECTED_RETURN_TYPE)}};function j(...Q){return N(se=>Reflect.apply(tb,null,[se,...Q]),()=>Pg(...Q),"translate",se=>Reflect.apply(se.t,se,[...Q]),se=>se,se=>Re(se))}function H(...Q){const[se,Le,we]=Q;if(we&&!wt(we))throw mr(or.INVALID_ARGUMENT);return j(se,Le,hn({resolvedMessage:!0},we||{}))}function B(...Q){return N(se=>Reflect.apply(q1,null,[se,...Q]),()=>Rg(...Q),"datetime format",se=>Reflect.apply(se.d,se,[...Q]),()=>V1,se=>Re(se)||Yt(se))}function te(...Q){return N(se=>Reflect.apply(Z1,null,[se,...Q]),()=>Dg(...Q),"number format",se=>Reflect.apply(se.n,se,[...Q]),()=>V1,se=>Re(se)||Yt(se))}function U(Q){return Q.map(se=>Re(se)||ln(se)||vt(se)?nb(String(se)):se)}const V={normalize:U,interpolate:Q=>Q,type:"vnode"};function de(...Q){return N(se=>{let Le;const we=se;try{we.processor=V,Le=Reflect.apply(tb,null,[we,...Q])}finally{we.processor=null}return Le},()=>Pg(...Q),"translate",se=>se[Lg](...Q),se=>[nb(se)],se=>Yt(se))}function ve(...Q){return N(se=>Reflect.apply(Z1,null,[se,...Q]),()=>Dg(...Q),"number format",se=>se[Ig](...Q),ob,se=>Re(se)||Yt(se))}function ge(...Q){return N(se=>Reflect.apply(q1,null,[se,...Q]),()=>Rg(...Q),"datetime format",se=>se[Fg](...Q),ob,se=>Re(se)||Yt(se))}function ke(Q){k=Q,E.pluralRules=k}function Ce(Q,se){return N(()=>{if(!Q)return!1;const Le=Re(se)?se:s.value,we=Y(Le),pt=E.messageResolver(we,Q);return yo(pt)||Sr(pt)||Re(pt)},()=>[Q],"translate exists",Le=>Reflect.apply(Le.te,Le,[Q,se]),HO,Le=>vt(Le))}function Ae(Q){let se=null;const Le=K_(E,l.value,s.value);for(let we=0;we<Le.length;we++){const pt=c.value[Le[we]]||{},yr=E.messageResolver(pt,Q);if(yr!=null){se=yr;break}}return se}function Me(Q){const se=Ae(Q);return se??(e?e.tm(Q)||{}:{})}function Y(Q){return c.value[Q]||{}}function W(Q,se){if(o){const Le={[Q]:se};for(const we in Le)Gr(Le,we)&&Ul(Le[we]);se=Le[Q]}c.value[Q]=se,E.messages=c.value}function Z(Q,se){c.value[Q]=c.value[Q]||{};const Le={[Q]:se};if(o)for(const we in Le)Gr(Le,we)&&Ul(Le[we]);se=Le[Q],Hu(se,c.value[Q]),E.messages=c.value}function K(Q){return u.value[Q]||{}}function F(Q,se){u.value[Q]=se,E.datetimeFormats=u.value,K1(E,Q,se)}function I(Q,se){u.value[Q]=hn(u.value[Q]||{},se),E.datetimeFormats=u.value,K1(E,Q,se)}function G(Q){return h.value[Q]||{}}function oe(Q,se){h.value[Q]=se,E.numberFormats=h.value,J1(E,Q,se)}function ue(Q,se){h.value[Q]=hn(h.value[Q]||{},se),E.numberFormats=h.value,J1(E,Q,se)}ib++,e&&wd&&(pe(e.locale,Q=>{a&&(s.value=Q,E.locale=Q,el(E,s.value,l.value))}),pe(e.fallbackLocale,Q=>{a&&(l.value=Q,E.fallbackLocale=Q,el(E,s.value,l.value))}));const he={id:ib,locale:D,fallbackLocale:O,get inheritLocale(){return a},set inheritLocale(Q){a=Q,Q&&e&&(s.value=e.locale.value,l.value=e.fallbackLocale.value,el(E,s.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:S,get modifiers(){return _},get pluralRules(){return k||{}},get isGlobal(){return r},get missingWarn(){return f},set missingWarn(Q){f=Q,E.missingWarn=f},get fallbackWarn(){return p},set fallbackWarn(Q){p=Q,E.fallbackWarn=p},get fallbackRoot(){return m},set fallbackRoot(Q){m=Q},get fallbackFormat(){return v},set fallbackFormat(Q){v=Q,E.fallbackFormat=v},get warnHtmlMessage(){return x},set warnHtmlMessage(Q){x=Q,E.warnHtmlMessage=Q},get escapeParameter(){return w},set escapeParameter(Q){w=Q,E.escapeParameter=Q},t:j,getLocaleMessage:Y,setLocaleMessage:W,mergeLocaleMessage:Z,getPostTranslationHandler:M,setPostTranslationHandler:R,getMissingHandler:L,setMissingHandler:P,[a3]:ke};return he.datetimeFormats=T,he.numberFormats=C,he.rt=H,he.te=Ce,he.tm=Me,he.d=B,he.n=te,he.getDateTimeFormat=K,he.setDateTimeFormat=F,he.mergeDateTimeFormat=I,he.getNumberFormat=G,he.setNumberFormat=oe,he.mergeNumberFormat=ue,he[s3]=n,he[Lg]=de,he[Fg]=ge,he[Ig]=ve,he}function VO(t){const e=Re(t.locale)?t.locale:zl,n=Re(t.fallbackLocale)||Yt(t.fallbackLocale)||st(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=Pt(t.missing)?t.missing:void 0,o=vt(t.silentTranslationWarn)||xs(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=vt(t.silentFallbackWarn)||xs(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,a=vt(t.fallbackRoot)?t.fallbackRoot:!0,s=!!t.formatFallbackMessages,l=st(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=Pt(t.postTranslation)?t.postTranslation:void 0,h=Re(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,p=vt(t.sync)?t.sync:!0;let m=t.messages;if(st(t.sharedMessages)){const _=t.sharedMessages;m=Object.keys(_).reduce((E,$)=>{const A=E[$]||(E[$]={});return hn(A,_[$]),E},m||{})}const{__i18n:v,__root:g,__injectWithOption:b}=t,y=t.datetimeFormats,x=t.numberFormats,w=t.flatJson;return{locale:e,fallbackLocale:n,messages:m,flatJson:w,datetimeFormats:y,numberFormats:x,missing:r,missingWarn:o,fallbackWarn:i,fallbackRoot:a,fallbackFormat:s,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:p,__i18n:v,__root:g,__injectWithOption:b}}function jg(t={}){const e=w0(VO(t)),{__extender:n}=t,r={id:e.id,get locale(){return e.locale.value},set locale(o){e.locale.value=o},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(o){e.fallbackLocale.value=o},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(o){e.setMissingHandler(o)},get silentTranslationWarn(){return vt(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(o){e.missingWarn=vt(o)?!o:o},get silentFallbackWarn(){return vt(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(o){e.fallbackWarn=vt(o)?!o:o},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(o){e.fallbackFormat=o},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(o){e.setPostTranslationHandler(o)},get sync(){return e.inheritLocale},set sync(o){e.inheritLocale=o},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){e.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(o){e.escapeParameter=o},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...o){return Reflect.apply(e.t,e,[...o])},rt(...o){return Reflect.apply(e.rt,e,[...o])},te(o,i){return e.te(o,i)},tm(o){return e.tm(o)},getLocaleMessage(o){return e.getLocaleMessage(o)},setLocaleMessage(o,i){e.setLocaleMessage(o,i)},mergeLocaleMessage(o,i){e.mergeLocaleMessage(o,i)},d(...o){return Reflect.apply(e.d,e,[...o])},getDateTimeFormat(o){return e.getDateTimeFormat(o)},setDateTimeFormat(o,i){e.setDateTimeFormat(o,i)},mergeDateTimeFormat(o,i){e.mergeDateTimeFormat(o,i)},n(...o){return Reflect.apply(e.n,e,[...o])},getNumberFormat(o){return e.getNumberFormat(o)},setNumberFormat(o,i){e.setNumberFormat(o,i)},mergeNumberFormat(o,i){e.mergeNumberFormat(o,i)}};return r.__extender=n,r}function XO(t,e,n){return{beforeCreate(){const r=Wn();if(!r)throw mr(or.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const i=o.i18n;if(o.__i18n&&(i.__i18n=o.__i18n),i.__root=e,this===this.$root)this.$i18n=sb(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=jg(i);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=sb(t,o);else{this.$i18n=jg({__i18n:o.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;o.__i18nGlobal&&c3(e,o,o),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$te=(i,a)=>this.$i18n.te(i,a),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Wn();if(!r)throw mr(or.UNEXPECTED_ERROR);const o=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__disposer&&(o.__disposer(),delete o.__disposer,delete o.__extender),n.__deleteInstance(r),delete this.$i18n}}}function sb(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[a3](e.pluralizationRules||t.pluralizationRules);const n=x0(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const _0={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function YO({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,o)=>[...r,...o.type===bt?o.children:[o]],[]):e.reduce((n,r)=>{const o=t[r];return o&&(n[r]=o()),n},Tt())}function u3(){return bt}const GO=X({name:"i18n-t",props:hn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>ln(t)||!isNaN(t)}},_0),setup(t,e){const{slots:n,attrs:r}=e,o=t.i18n||k0({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(h=>h[0]!=="_"),a=Tt();t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=Re(t.plural)?+t.plural:t.plural);const s=YO(e,i),l=o[Lg](t.keypath,s,a),c=hn(Tt(),r),u=Re(t.tag)||wt(t.tag)?t.tag:u3();return Oe(u,c,l)}}}),lb=GO;function qO(t){return Yt(t)&&!Re(t[0])}function d3(t,e,n,r){const{slots:o,attrs:i}=e;return()=>{const a={part:!0};let s=Tt();t.locale&&(a.locale=t.locale),Re(t.format)?a.key=t.format:wt(t.format)&&(Re(t.format.key)&&(a.key=t.format.key),s=Object.keys(t.format).reduce((f,p)=>n.includes(p)?hn(Tt(),f,{[p]:t.format[p]}):f,Tt()));const l=r(t.value,a,s);let c=[a.key];Yt(l)?c=l.map((f,p)=>{const m=o[f.type],v=m?m({[f.type]:f.value,index:p,parts:l}):[f.value];return qO(v)&&(v[0].key=`${f.type}-${p}`),v}):Re(l)&&(c=[l]);const u=hn(Tt(),i),h=Re(t.tag)||wt(t.tag)?t.tag:u3();return Oe(h,u,c)}}const KO=X({name:"i18n-n",props:hn({value:{type:Number,required:!0},format:{type:[String,Object]}},_0),setup(t,e){const n=t.i18n||k0({useScope:t.scope,__useComponent:!0});return d3(t,e,r3,(...r)=>n[Ig](...r))}}),cb=KO;function ZO(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function JO(t){const e=a=>{const{instance:s,value:l}=a;if(!s||!s.$)throw mr(or.UNEXPECTED_ERROR);const c=ZO(t,s.$),u=ub(l);return[Reflect.apply(c.t,c,[...db(u)]),c]};return{created:(a,s)=>{const[l,c]=e(s);wd&&t.global===c&&(a.__i18nWatcher=pe(c.locale,()=>{s.instance&&s.instance.$forceUpdate()})),a.__composer=c,a.textContent=l},unmounted:a=>{wd&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:s})=>{if(a.__composer){const l=a.__composer,c=ub(s);a.textContent=Reflect.apply(l.t,l,[...db(c)])}},getSSRProps:a=>{const[s]=e(a);return{textContent:s}}}}function ub(t){if(Re(t))return{path:t};if(st(t)){if(!("path"in t))throw mr(or.REQUIRED_VALUE,"path");return t}else throw mr(or.INVALID_VALUE)}function db(t){const{path:e,locale:n,args:r,choice:o,plural:i}=t,a={},s=r||{};return Re(n)&&(a.locale=n),ln(o)&&(a.plural=o),ln(i)&&(a.plural=i),[e,s,a]}function QO(t,e,...n){const r=st(n[0])?n[0]:{};(vt(r.globalInstall)?r.globalInstall:!0)&&([lb.name,"I18nT"].forEach(i=>t.component(i,lb)),[cb.name,"I18nN"].forEach(i=>t.component(i,cb)),[fb.name,"I18nD"].forEach(i=>t.component(i,fb))),t.directive("t",JO(e))}const eA=Ni("global-vue-i18n");function tA(t={}){const e=__VUE_I18N_LEGACY_API__&&vt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=vt(t.globalInjection)?t.globalInjection:!0,r=new Map,[o,i]=nA(t,e),a=Ni("");function s(h){return r.get(h)||null}function l(h,f){r.set(h,f)}function c(h){r.delete(h)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(h,...f){if(h.__VUE_I18N_SYMBOL__=a,h.provide(h.__VUE_I18N_SYMBOL__,u),st(f[0])){const v=f[0];u.__composerExtend=v.__composerExtend,u.__vueI18nExtend=v.__vueI18nExtend}let p=null;!e&&n&&(p=uA(h,u.global)),__VUE_I18N_FULL_INSTALL__&&QO(h,u,...f),__VUE_I18N_LEGACY_API__&&e&&h.mixin(XO(i,i.__composer,u));const m=h.unmount;h.unmount=()=>{p&&p(),u.dispose(),m()}},get global(){return i},dispose(){o.stop()},__instances:r,__getInstance:s,__setInstance:l,__deleteInstance:c};return u}function k0(t={}){const e=Wn();if(e==null)throw mr(or.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw mr(or.NOT_INSTALLED);const n=rA(e),r=iA(n),o=l3(e),i=oA(t,o);if(i==="global")return c3(r,t,o),r;if(i==="parent"){let l=aA(n,e,t.__useComponent);return l==null&&(l=r),l}const a=n;let s=a.__getInstance(e);if(s==null){const l=hn({},t);"__i18n"in o&&(l.__i18n=o.__i18n),r&&(l.__root=r),s=w0(l),a.__composerExtend&&(s[Ng]=a.__composerExtend(s)),lA(a,e,s),a.__setInstance(e,s)}return s}function nA(t,e){const n=Um(),r=__VUE_I18N_LEGACY_API__&&e?n.run(()=>jg(t)):n.run(()=>w0(t));if(r==null)throw mr(or.UNEXPECTED_ERROR);return[n,r]}function rA(t){const e=Ot(t.isCE?eA:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw mr(t.isCE?or.NOT_INSTALLED_WITH_PROVIDE:or.UNEXPECTED_ERROR);return e}function oA(t,e){return Mh(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function iA(t){return t.mode==="composition"?t.global:t.global.__composer}function aA(t,e,n=!1){let r=null;const o=e.root;let i=sA(e,n);for(;i!=null;){const a=t;if(t.mode==="composition")r=a.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const s=a.__getInstance(i);s!=null&&(r=s.__composer,n&&r&&!r[s3]&&(r=null))}if(r!=null||o===i)break;i=i.parent}return r}function sA(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function lA(t,e,n){vn(()=>{},e),Ps(()=>{const r=n;t.__deleteInstance(e);const o=r[Ng];o&&(o(),delete r[Ng])},e)}const cA=["locale","fallbackLocale","availableLocales"],hb=["t","rt","d","n","tm","te"];function uA(t,e){const n=Object.create(null);return cA.forEach(o=>{const i=Object.getOwnPropertyDescriptor(e,o);if(!i)throw mr(or.UNEXPECTED_ERROR);const a=Tr(i.value)?{get(){return i.value.value},set(s){i.value.value=s}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,o,a)}),t.config.globalProperties.$i18n=n,hb.forEach(o=>{const i=Object.getOwnPropertyDescriptor(e,o);if(!i||!i.value)throw mr(or.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${o}`,i)}),()=>{delete t.config.globalProperties.$i18n,hb.forEach(o=>{delete t.config.globalProperties[`$${o}`]})}}const dA=X({name:"i18n-d",props:hn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},_0),setup(t,e){const n=t.i18n||k0({useScope:t.scope,__useComponent:!0});return d3(t,e,n3,(...r)=>n[Fg](...r))}}),fb=dA;UO();xO(tO);wO(vO);_O(K_);if(__INTLIFY_PROD_DEVTOOLS__){const t=sa();t.__INTLIFY__=!0,nO(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}function hA(t){const e=tA({legacy:!1,locale:t?.locale,fallbackLocale:t?.fallbackLocale,messages:t?.messages,missingWarn:!1,fallbackWarn:!1});return{t:(n,r,o)=>{const i=e.global.t(n,r);return i===n&&o?o:i},changeLocale:(n,r)=>new Promise(o=>{e.global.locale.value=n,o(n)}),loadLocale:(n,r)=>new Promise(o=>{e.global.setLocaleMessage(n,r),o(n)}),mergeLocale:(n,r)=>{e.global.mergeLocaleMessage(n,r)},getLocale:()=>e.global.locale.value,getLocales:()=>e.global.availableLocales.map(n=>n)}}const fA="modulepreload",pA=function(t){return"/static/web/"+t},pb={},Tn=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");o=l(n.map(c=>{if(c=pA(c),c in pb)return;pb[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":fA,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return o.then(a=>{for(const s of a||[])s.status==="rejected"&&i(s.reason);return e().catch(i)})},h3=X({name:"DuxAppProvider",props:{},setup(t,{slots:e}){const n=Ot("dux.manage"),r=a0(),o=mn();return o.beforeEach(async(i,a,s)=>{const l=i.meta.manageName,c=i.meta.authorization===!1;if(!l){const y=r.defaultManage||r.manages?.[0]?.name||"";return s({path:`/${y}`,replace:!0})}n&&(n.value=l);const u=fh(l);u.isInit()||u.setConfig(r.manages?.find(y=>y.name===l),r);const h=Ma(l),f=it(l),p=Oo(l),m=l0(l);if(f.config?.i18nProvider&&!m.isInit()){const y=m.getLocale();y&&f.config?.i18nProvider.changeLocale(y)}if(F_(r,l),!p.isLogin())return c?s():s({path:f.getRoutePath("login"),replace:!0});const v=y=>y?.map(x=>({...x,path:x.path?f.getRoutePath(x.path):void 0}));if(!h.getRouteInit()){const y=f.config?.components||{},x=[];return x.push({name:`${l}.notFound`,label:"404",path:":pathMatch(.*)*",component:y.notFound||C_,hidden:!0,meta:{can:!1}}),x.push({name:`${l}.notAuthorized`,label:"403",path:"notAuthorized",component:y.notAuthorized||k_,hidden:!0,meta:{can:!1}}),x.push({name:`${l}.error`,label:"500",path:"error",component:y.error||__,hidden:!0,meta:{can:!1}}),h.setRoutes(v(f.config?.menus||[])),f.config?.apiRoutePath&&await f.config?.dataProvider?.default?.custom({path:f.config.apiRoutePath,meta:{timeout:5e3}},f,p.getUser()).then(w=>{h.appendRoutes(v(w.data||[]))}).catch(w=>{throw f.config?.authProvider?.onError?.(w).then(_=>{_?.logout&&(p.logout(),o.push(f.getRoutePath(_.redirectTo||"/login")))}),w}),h.appendRoutes(x),h.getRoutes().forEach(w=>{if(!w.path)return;const _={name:w.name,path:w.path,meta:w.meta};switch(w.loader){case"iframe":_.component=f.config?.components?.iframe||(()=>Tn(()=>Promise.resolve().then(()=>KT),void 0));break;case"remote":_.component=f.config?.components?.remote||(()=>Tn(()=>import("./loader-DKCQPsE8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])));break;case"link":_.beforeEnter=()=>{const k=w.meta?.url||w.path;return k&&window.open(k,"_blank"),!1},_.component=()=>Promise.resolve({template:"<div></div>"});break;default:w.component&&(_.component=w.component);break}o.addRoute(`${l}.auth`,_)}),s({path:i.redirectedFrom?.path||i.path,replace:!0})}const g=["","/",`/${l}`,`/${l}/`];if(g.includes(i.path)){const y=h.getIndexRoute();return!y?.path||g.includes(y?.path)?(console.warn("[Dux] index route not found, skip redirect"),s()):s({path:y?.path||"/",replace:!0})}const b=ph(l);return(i.meta?.can===void 0||i.meta?.can===!0)&&!b(i.name)?s({name:`${l}.notAuthorized`}):s()}),()=>d(Yw,null,{default:()=>[e.default?.()]})}});function Pa(t){const e=Ot("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return f3(t)()}function f3(t){return Li(`tab-${t}`,()=>{const e=re(),n=re(),r=re([]);return{current:e,tabs:r,isTab:o=>r.value.some(i=>i.path===o),addTab:(o,i)=>{o.path&&(r.value.some(a=>a.path===o.path)?(e.value&&e.value!==o.path&&(n.value=r.value.find(a=>a.path===e.value)),e.value=o.path):(e.value&&(n.value=r.value.find(a=>a.path===e.value)),r.value.push(o),i?.(o),e.value=o.path))},delTab:(o,i)=>{const a=r.value.findIndex(l=>l.path===o);if(a===-1||r.value.length<=1||r.value[a]?.meta?.lock)return;let s;if(o===e.value&&n.value&&(s=r.value.find(l=>l.path===n.value?.path&&l.path!==o)),!s){const l=r.value[a-1],c=r.value[a+1];s=l||c}r.value.splice(a,1),i?.(s)},changeTab:(o,i)=>{const a=r.value.find(s=>s.path===o);a&&(e.value&&e.value!==o&&(n.value=r.value.find(s=>s.path===e.value)),e.value=o,i?.(a))},delOther:(o,i)=>{r.value=r.value.filter(a=>a.path===o||a.meta?.lock),i?.()},delLeft:(o,i)=>{const a=r.value.findIndex(s=>s.path===o);a<=0||Lt(()=>{r.value=[...r.value.slice(0,a).filter(s=>s.meta?.lock),...r.value.slice(a)],i?.()})},delRight:(o,i)=>{const a=r.value.findIndex(s=>s.path===o);a===-1||a===r.value.length-1||Lt(()=>{r.value=[...r.value.slice(0,a+1),...r.value.slice(a+1).filter(s=>s.meta?.lock)],i?.()})},lockTab:o=>{const i=r.value.findIndex(a=>a.path===o);i!==-1&&r.value[i]&&(r.value[i].meta||(r.value[i].meta={}),r.value[i].meta.lock=!r.value[i].meta.lock)},clearTab:()=>{e.value=void 0,n.value=void 0,r.value=[]}}})}const p3=X({name:"DuxTabRouterView",props:{},setup(){const t=To(),e=Pa(),n=Ma(),r=new Map,o=(a,s)=>{let l;const c=a;return r.has(c)?l=r.get(c):(l={name:c,render(){return s}},r.set(c,l)),l};e.$subscribe((a,s)=>{r.forEach(l=>{s.tabs.some(c=>c.path===l.name)||r.delete(l.name)})});const i=n.getIndexRoute();return i&&e.addTab({...i,meta:{...i.meta,lock:!0}}),pe([t,()=>n.routes],()=>{const a=n.searchRouteName(t.name);if(!a)return;const s={label:a.label,path:t.path,name:a.name};e.addTab(s)},{immediate:!0}),()=>d(Hm,null,{default:({Component:a})=>{const s=o(t.path,a);return d(ps,{name:"tab-fade",mode:"out-in",appear:!0},{default:()=>[d(YE,{include:e.tabs.map(l=>l.path||"")},[d(s,{key:t.path},null)])]})}})}});function If(t){return`rgb(var(${t}))`}function Nf(t,e){return`color-mix(in oklab, rgb(var(${t})) var(${e}, 100%), transparent)`}function g3(t){const e=["50","100","200","300","400","500","600","700","800","900","950"],n=["primary","info","success","warning","error","gray"],r=["hover","pressed","focus","disabled"],o={white:{DEFAULT:If("--ui-color-white")},black:{DEFAULT:If("--ui-color-black")}};Object.keys(t).forEach(p=>{o[p]={},e.forEach(m=>{o[p][m]=If(`--base-color-${p}-${m}`)})}),n.forEach(p=>{o[p]={DEFAULT:Nf(`--ui-color-${p}`,"--un-text-opacity")},e.forEach(m=>{o[p][m]=Nf(`--ui-color-${p}-${m}`,"--un-text-opacity")}),r.forEach(m=>{o[p][m]=Nf(`--ui-color-${p}-${m}`,"--un-text-opacity")})});const i={text:["default","dimmed","muted","toned","highlighted","inverted"],bg:["default","muted","elevated","accented","inverted"],border:["default","muted","accented","inverted"]};function a(p,m,v,g,b){const y=[];return v.forEach(x=>{const w=`--ui-${b||p}${x==="default"?"":`-${x}`}`;y.push([`${p}-${x}`,{[m]:`color-mix(in oklab, rgb(var(${w})) var(${g}, 100%), transparent)`,[g]:"100%"}]),y.push([new RegExp(`^${p}-${x}\\/(\\d*\\.?\\d+)(%?)$`),([,_,k])=>{const E=Number(_);let $;return k||E>1?$=`${E}%`:$=`${E*100}%`,{[m]:`color-mix(in oklab, rgb(var(${w})) var(${g}, 100%), transparent)`,[g]:$}}]),y.push([new RegExp(`^${p}-${x}\\[(.+)\\]$`),([,_])=>({[m]:_.replace(/_/g," ")})])}),y}const s=a("text","color",i.text,"--un-text-opacity"),l=a("bg","background-color",i.bg,"--un-bg-opacity"),c=a("border","border-color",i.border,"--un-border-opacity"),u=a("ring","--un-ring-color",i.border,"--un-ring-opacity","border"),h=[];i.border.forEach(p=>{const m=`--ui-border${p==="default"?"":`-${p}`}`;h.push([new RegExp(`^divide-${p}$`),(v,{rawSelector:g})=>`
          .${g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")} > :not(:last-child) {
            border-color: color-mix(in oklab, rgb(var(${m})) var(--un-border-opacity, 100%), transparent);
            --un-border-opacity: 100%;
          }`]),h.push([new RegExp(`^divide-${p}\\/(\\d*\\.?\\d+)(%?)$`),([,v,g],{rawSelector:b})=>{const y=Number(v);let x;return g||y>1?x=`${y}%`:x=`${y*100}%`,`
          .${b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")} > :not(:last-child) {
            border-color: color-mix(in oklab, rgb(var(${m})) var(--un-border-opacity, 100%), transparent);
            --un-border-opacity: ${x};
          }`}])});const f=[...s,...l,...c,...u,...h];return{name:"preset-theme",theme:{colors:o},rules:f}}const wJ=Object.freeze(Object.defineProperty({__proto__:null,DuxAppProvider:h3,DuxCan:qT,DuxError:__,DuxException:ZT,DuxLoaderIframe:x_,DuxLogo:y_,DuxLogoIcon:o0,DuxNotAuthorized:k_,DuxNotFound:C_,DuxOverlay:w_,DuxTabRouterView:p3,arrayToTree:ys,createDux:u7,createLocalUploadDriver:f0,createS3UploadDriver:N_,createTabStore:f3,defaultAdaptors:zw,emitter:Q8,i18nProvider:hA,initFormValidate:D_,initJsonSchemaComponents:F_,initRouter:j_,searchTree:Za,simpleAuthProvider:d7,simpleDataProvider:h7,themeColor:i0,themePreset:g3,treeToArr:Ah,useAuthStore:Oo,useCan:ph,useCheck:ow,useClient:Ra,useConfig:a0,useCreate:T_,useCreateMany:JT,useCustom:t7,useCustomMutation:ai,useDelete:A_,useDeleteMany:e7,useError:ar,useExport:M_,useExportCsv:Tg,useExtendForm:js,useExtendList:u0,useForgotPassword:o8,useForm:$_,useGetAuth:Nn,useI18n:ye,useI18nStore:l0,useImport:P_,useImportCsv:L_,useInfiniteList:s0,useInvalidate:br,useIsLogin:a8,useJsonSchema:$i,useJsonSchemaStore:c0,useList:Ns,useLogin:nw,useLogout:rw,useManage:it,useManageStore:fh,useMany:E_,useMenu:d0,useOne:S_,useOverlay:s7,useRegister:r8,useRouteStore:Ma,useSelect:h0,useTabStore:Pa,useTheme:Ao,useThemeStore:I_,useTree:fc,useUpdate:O_,useUpdateMany:QT,useUpdatePassword:i8,useUpload:Da,useValidateForm:R_,vForAdaptor:Lw,vIfAdaptor:Fw,vModelAdaptor:Iw,vOnAdaptor:Nw,vShowAdaptor:jw,vTextAdaptor:Bw},Symbol.toStringTag,{value:"Module"})),gA=X({name:"DuxLoading",setup(){return()=>d("div",{class:"app-loading"},[d("div",{class:"app-box-loading"},null)])}}),m3=X({name:"DuxApp",props:{},setup(){const t=re(!0);return Fn("pageLoading",t),()=>d(y4,null,{default:()=>[t.value&&d(gA,null,null),d(h3,null,{default:()=>[d(Hm,null,null)]})]})}}),In=X({name:"DuxCard",props:{size:{type:String,default:"none"},headerSize:{type:String,default:"medium"},footerSize:{type:String,default:"medium"},contentSize:{type:String,default:"medium"},divide:{type:Boolean,default:!1},headerClass:{type:String,default:""},footerClass:{type:String,default:""},contentClass:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""},bordered:{type:Boolean,default:!1},shadow:{type:Boolean,default:!0},headerBordered:{type:Boolean,default:!1},footerBordered:{type:Boolean,default:!1},type:{type:String,default:"default"}},setup(t,{slots:e}){const n=l=>{switch(l){case"small":return"px-3 py-2";case"large":return"px-6 py-5";case"medium":return"px-4 py-3";case"none":default:return""}},r=z(()=>n(t.size)),o=z(()=>n(t.headerSize)),i=z(()=>n(t.footerSize)),a=z(()=>n(t.contentSize)),s=z(()=>{switch(t.type){case"elevated":return"bg-elevated";case"inverted":return"bg-inverted";default:return"bg-default dark:bg-muted"}});return()=>d("div",{class:["rounded  flex flex-col dark:border dark:border-muted",t.divide&&"divide-y divide-muted",t.shadow&&"shadow-xs",t.bordered&&"border border-muted",s.value,r.value]},[e.header&&d("div",{class:[o.value,t.headerClass,t.headerBordered||t.divide?"border-b border-muted":"pb-0"]},[e.header?.()]),t.title&&d("div",{class:["flex justify-between items-center",o.value,t.headerBordered||t.divide?"border-b border-muted":"pb-0",t.headerClass]},[d("div",{class:"flex flex-col"},[d("div",{class:"text-base"},[t.title]),t.description&&d("div",{class:"text-sm text-muted"},[t.description])]),e.headerExtra?.()]),d("div",{class:["flex-1 min-h-0",(t.title||e.header||e.footer)&&a.value,t.contentClass]},[e.default?.()]),e.footer&&d("div",{class:[i.value,t.footerClass,t.footerBordered&&"border-t border-muted"]},[e.footer?.()])])}}),_s=X({name:"DuxAvatar",props:{},extends:Fl,setup(t){return()=>{const e=`size-${t.size}px rounded-full`,n=d("svg",{viewBox:"0 0 100 100",class:e},[d("circle",{cx:"50",cy:"50",r:"50",fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.1"},null),d("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.65"},[d("circle",{cx:"50",cy:"36",r:"14"},null),d("path",{d:"M 50 54 C 30 54 15 69 15 87 L 15 100 L 85 100 L 85 87 C 85 69 70 54 50 54 Z"},null)]),d("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.3"},[d("circle",{cx:"20",cy:"20",r:"1.5"},[d("animate",{attributeName:"r",values:"1.5;2.5;1.5",dur:"3s",repeatCount:"indefinite"},null)]),d("circle",{cx:"80",cy:"25",r:"1"},[d("animate",{attributeName:"r",values:"1;2;1",dur:"4s",repeatCount:"indefinite"},null)])])]);return t.src?d(Fl,yt(t,{src:t.src,renderFallback:()=>Oe(n),renderPlaceholder:()=>Oe(n)}),null):Oe(n)}}}),_l=X({name:"DuxPlaceholder",props:{width:{type:[Number,String],default:"auto"},height:{type:[Number,String],default:100}},setup(t){return()=>{const e={width:typeof t.width=="number"?`${t.width}px`:t.width,height:typeof t.height=="number"?`${t.height}px`:t.height};return d("svg",{viewBox:"0 0 200 120",style:e},[d("defs",null,[d("linearGradient",{id:"placeholderBg",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[d("stop",{offset:"0%",style:"stop-color:rgb(var(--ui-color-primary));stop-opacity:0.08"},null),d("stop",{offset:"100%",style:"stop-color:rgb(var(--ui-color-primary));stop-opacity:0.03"},null)])]),d("rect",{width:"200",height:"120",fill:"url(#placeholderBg)",rx:"8"},null),d("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.4"},[d("circle",{cx:"60",cy:"40",r:"12"},null),d("path",{d:"M 40 70 L 80 70 L 100 50 L 140 70 L 160 50 L 200 70 L 200 120 L 40 120 Z"},null)]),d("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.25"},[d("circle",{cx:"150",cy:"25",r:"1.5"},[d("animate",{attributeName:"opacity",values:"0.25;0.5;0.25",dur:"3s",repeatCount:"indefinite"},null)]),d("circle",{cx:"170",cy:"35",r:"1"},[d("animate",{attributeName:"opacity",values:"0.2;0.4;0.2",dur:"4s",repeatCount:"indefinite"},null)])]),d("rect",{x:"40",y:"40",width:"120",height:"1",fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.15"},null)])}}}),mA=X({name:"DuxImage",props:{},extends:Ei,setup(t){return()=>{const e=`size-${t.height}px`,n=d("svg",{viewBox:"0 0 100 100",class:e},[d("circle",{cx:"50",cy:"50",r:"50",fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.1"},null),d("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.65"},[d("circle",{cx:"50",cy:"36",r:"14"},null),d("path",{d:"M 50 54 C 30 54 15 69 15 87 L 15 100 L 85 100 L 85 87 C 85 69 70 54 50 54 Z"},null)]),d("g",{fill:"rgb(var(--ui-color-primary))","fill-opacity":"0.3"},[d("circle",{cx:"20",cy:"20",r:"1.5"},[d("animate",{attributeName:"r",values:"1.5;2.5;1.5",dur:"3s",repeatCount:"indefinite"},null)]),d("circle",{cx:"80",cy:"25",r:"1"},[d("animate",{attributeName:"r",values:"1;2;1",dur:"4s",repeatCount:"indefinite"},null)])])]);return t.src?d(Ei,yt(t,{src:t.src}),{placeholder:()=>d(_l,{width:t.width,height:t.height},null)}):Oe(n)}}});function vA(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const pc=X({name:"DuxMedia",props:{title:String,avatar:Boolean,image:[String,Array],desc:[String,Array],extend:String,onClick:Function,imageWidth:{type:Number,default:42},imageHeight:{type:Number,default:42}},setup(t,{slots:e}){const n=z(()=>Array.isArray(t.image)?t.image:t.image?[t.image]:[]),r=z(()=>Array.isArray(t.desc)?t.desc:t.desc?[t.desc]:[]);return()=>{let o;return d("div",{class:"flex gap-2 items-center"},[e?.image&&d("div",{class:"flex-none flex items-center gap-2"},[e?.image?.()]),(t.avatar||n?.value.length>0)&&d("div",{class:"flex-none flex items-center gap-2"},[t.avatar?d(bt,null,[n.value.length>0?n.value.map((i,a)=>d(_s,{key:a,src:i,round:!0,size:t.imageWidth},null)):d(_s,{round:!0,size:t.imageWidth},null)]):d(K2,null,vA(o=n.value.map((i,a)=>d(mA,{key:a,src:i,class:"rounded",objectFit:"cover",width:t.imageWidth,height:t.imageHeight},null)))?o:{default:()=>[o]})]),d("div",{class:"flex-1 flex-col gap-2 min-w-0 truncate items-center"},[d("div",{class:"flex gap-2 items-center"},[e.prefix?.(),(t.title||e.default)&&d("div",{onClick:()=>t.onClick?.(),class:rt(["transition-all truncate",t?.onClick&&"hover:text-primary cursor-pointer"])},[t.title||e.default?.()])]),(r?.value.length>0||e.desc)&&d("div",{class:"text-sm text-muted flex flex-col gap-0"},[r?.value.map?.((i,a)=>d("div",{key:a,class:"truncate"},[i])),e.desc?.()])]),t?.extend&&d("div",{class:"flex-none flex items-center gap-2 text-gray-7"},[t?.extend]),e?.extend&&d("div",{class:"flex-none flex items-center gap-2 text-gray-7"},[e?.extend?.()])])}}}),v3=X({name:"DuxStatsStore",props:{title:String,avatar:String,desc:String},setup(t,{slots:e}){return()=>d(In,{divide:!0,footerSize:"small"},{header:()=>d("div",{class:"flex gap-2 items-center"},[d(pc,{class:"flex-1",avatar:!0,imageHeight:46,imageWidth:46,image:t.avatar,title:t.title,desc:t.desc},null),d("div",null,[e.extra?.()])]),default:()=>d("div",{class:"flex flex-col"},[e.header?d("div",{class:"flex flex-col bg-muted rounded p-4 text-muted"},[e.header?.()]):null,d("div",{class:"grid grid-cols-[repeat(auto-fit,minmax(100px,1fr))] gap-2 pt-2"},[e.default?.()])]),footer:e.footer})}}),b3=X({name:"DuxStatsStoreItem",props:{label:String,value:String},setup(t){return()=>d("div",{class:"flex flex-col items-center justify-center"},[d("div",{class:"text-lg font-bold"},[t.value]),d("div",{class:"text-sm text-muted"},[t.label])])}}),y3=X({name:"DuxCarousel",props:{height:{type:Number,default:200},data:Array},setup(t){return()=>d(x4,{draggable:!0,class:"rounded-sm shadow-sm",style:{height:`${t.height}px`}},{default:()=>[t?.data?.map((e,n)=>d("img",{key:n,class:"w-full object-cover",style:{height:`${t.height}px`},src:typeof e=="string"?e:e.src,onClick:typeof e=="string"?void 0:e?.onClick},null))]})}});var jf={exports:{}},gb;function bA(){return gb||(gb=1,function(t,e){ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(n,r,o){var i=n("../../lib/oop"),a=n("./fold_mode").FoldMode,s=r.FoldMode=function(l,c){this.defaultMode=l,this.subModes=c};i.inherits(s,a),(function(){this.$getMode=function(l){typeof l!="string"&&(l=l[0]);for(var c in this.subModes)if(l.indexOf(c)===0)return this.subModes[c];return null},this.$tryMode=function(l,c,u,h){var f=this.$getMode(l);return f?f.getFoldWidget(c,u,h):""},this.getFoldWidget=function(l,c,u){return this.$tryMode(l.getState(u-1),l,c,u)||this.$tryMode(l.getState(u),l,c,u)||this.defaultMode.getFoldWidget(l,c,u)},this.getFoldWidgetRange=function(l,c,u){var h=this.$getMode(l.getState(u-1));return(!h||!h.getFoldWidget(l,c,u))&&(h=this.$getMode(l.getState(u))),(!h||!h.getFoldWidget(l,c,u))&&(h=this.defaultMode),h.getFoldWidgetRange(l,c,u)}}).call(s.prototype)}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(h,f){s.call(this),this.voidElements=h||{},this.optionalEndTags=i.mixin({},this.voidElements),f&&i.mixin(this.optionalEndTags,f)};i.inherits(l,s);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function u(h,f){return h&&h.type&&h.type.lastIndexOf(f+".xml")>-1}(function(){this.getFoldWidget=function(h,f,p){var m=this._getFirstTagInLine(h,p);return m?m.closing||!m.tagName&&m.selfClosing?f==="markbeginend"?"end":"":!m.tagName||m.selfClosing||this.voidElements.hasOwnProperty(m.tagName.toLowerCase())||this._findEndTagInLine(h,p,m.tagName,m.end.column)?"":"start":this.getCommentFoldWidget(h,p)},this.getCommentFoldWidget=function(h,f){return/comment/.test(h.getState(f))&&/<!-/.test(h.getLine(f))?"start":""},this._getFirstTagInLine=function(h,f){for(var p=h.getTokens(f),m=new c,v=0;v<p.length;v++){var g=p[v];if(u(g,"tag-open")){if(m.end.column=m.start.column+g.value.length,m.closing=u(g,"end-tag-open"),g=p[++v],!g)return null;if(m.tagName=g.value,g.value===""){if(g=p[++v],!g)return null;m.tagName=g.value}for(m.end.column+=g.value.length,v++;v<p.length;v++)if(g=p[v],m.end.column+=g.value.length,u(g,"tag-close")){m.selfClosing=g.value=="/>";break}return m}else if(u(g,"tag-close"))return m.selfClosing=g.value=="/>",m;m.start.column+=g.value.length}return null},this._findEndTagInLine=function(h,f,p,m){for(var v=h.getTokens(f),g=0,b=0;b<v.length;b++){var y=v[b];if(g+=y.value.length,!(g<m-1)&&u(y,"end-tag-open")&&(y=v[b+1],u(y,"tag-name")&&y.value===""&&(y=v[b+2]),y&&y.value==p))return!0}return!1},this.getFoldWidgetRange=function(h,f,p){var m=this._getFirstTagInLine(h,p);if(!m)return this.getCommentFoldWidget(h,p)&&h.getCommentFoldRange(p,h.getLine(p).length);var v=h.getMatchingTags({row:p,column:0});if(v)return new a(v.openTag.end.row,v.openTag.end.column,v.closeTag.start.row,v.closeTag.start.column)}}).call(l.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};i.inherits(l,s),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,h){var f=c.getLine(h);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var p=this._getFoldWidgetBase(c,u,h);return!p&&this.startRegionRe.test(f)?"start":p},this.getFoldWidgetRange=function(c,u,h,f){var p=c.getLine(h);if(this.startRegionRe.test(p))return this.getCommentRegionBlock(c,p,h);var g=p.match(this.foldingStartMarker);if(g){var m=g.index;if(g[1])return this.openingBracketBlock(c,g[1],h,m);var v=c.getCommentFoldRange(h,m+g[0].length,1);return v&&!v.isMultiLine()&&(f?v=this.getSectionRange(c,h):u!="all"&&(v=null)),v}if(u!=="markbegin"){var g=p.match(this.foldingStopMarker);if(g){var m=g.index+g[0].length;return g[1]?this.closingBracketBlock(c,g[1],h,m):c.getCommentFoldRange(h,m,-1)}}},this.getSectionRange=function(c,u){var h=c.getLine(u),f=h.search(/\S/),p=u,m=h.length;u=u+1;for(var v=u,g=c.getLength();++u<g;){h=c.getLine(u);var b=h.search(/\S/);if(b!==-1){if(f>b)break;var y=this.getFoldWidgetRange(c,"all",u);if(y){if(y.start.row<=p)break;if(y.isMultiLine())u=y.end.row;else if(f==b)break}v=u}}return new a(p,m,v,c.getLine(v).length)},this.getCommentRegionBlock=function(c,u,h){for(var f=u.search(/\s*$/),p=c.getLength(),m=h,v=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++h<p;){u=c.getLine(h);var b=v.exec(u);if(b&&(b[1]?g--:g++,!g))break}var y=h;if(y>m)return new a(m,f,y,u.length)}}).call(l.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,r,o){var i=n("../../lib/oop"),a=n("./mixed").FoldMode,s=n("./xml").FoldMode,l=n("./cstyle").FoldMode,c=r.FoldMode=function(u,h){a.call(this,new s(u,h),{"js-":new l,"css-":new l})};i.inherits(c,a)}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(n,r,o){var i=n("../../lib/oop"),a=n("../behaviour").Behaviour,s=n("../../token_iterator").TokenIterator;function l(u,h){return u&&u.type.lastIndexOf(h+".xml")>-1}var c=function(){this.add("string_dquotes","insertion",function(u,h,f,p,m){if(m=='"'||m=="'"){var v=m,g=p.doc.getTextRange(f.getSelectionRange());if(g!==""&&g!=="'"&&g!='"'&&f.getWrapBehavioursEnabled())return{text:v+g+v,selection:!1};var b=f.getCursorPosition(),y=p.doc.getLine(b.row),x=y.substring(b.column,b.column+1),w=new s(p,b.row,b.column),_=w.getCurrentToken();if(x==v&&(l(_,"attribute-value")||l(_,"string")))return{text:"",selection:[1,1]};if(_||(_=w.stepBackward()),!_)return;for(;l(_,"tag-whitespace")||l(_,"whitespace");)_=w.stepBackward();var k=!x||x.match(/\s/);if(l(_,"attribute-equals")&&(k||x==">")||l(_,"decl-attribute-equals")&&(k||x=="?"))return{text:v+v,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(u,h,f,p,m){var v=p.doc.getTextRange(m);if(!m.isMultiLine()&&(v=='"'||v=="'")){var g=p.doc.getLine(m.start.row),b=g.substring(m.start.column+1,m.start.column+2);if(b==v)return m.end.column++,m}}),this.add("autoclosing","insertion",function(u,h,f,p,m){if(m==">"){var v=f.getSelectionRange().start,g=new s(p,v.row,v.column),b=g.getCurrentToken()||g.stepBackward();if(!b||!(l(b,"tag-name")||l(b,"tag-whitespace")||l(b,"attribute-name")||l(b,"attribute-equals")||l(b,"attribute-value"))||l(b,"reference.attribute-value"))return;if(l(b,"attribute-value")){var y=g.getCurrentTokenColumn()+b.value.length;if(v.column<y)return;if(v.column==y){var x=g.stepForward();if(x&&l(x,"attribute-value"))return;g.stepBackward()}}if(/^\s*>/.test(p.getLine(v.row).slice(v.column)))return;for(;!l(b,"tag-name");)if(b=g.stepBackward(),b.value=="<"){b=g.stepForward();break}var w=g.getCurrentTokenRow(),_=g.getCurrentTokenColumn();if(l(g.stepBackward(),"end-tag-open"))return;var k=b.value;return w==v.row&&(k=k.substring(0,v.column-_)),this.voidElements&&this.voidElements.hasOwnProperty(k.toLowerCase())?void 0:{text:"></"+k+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(u,h,f,p,m){if(m==`
`){var v=f.getCursorPosition(),g=p.getLine(v.row),b=new s(p,v.row,v.column),y=b.getCurrentToken();if(l(y,"")&&y.type.indexOf("tag-close")!==-1){if(y.value=="/>")return;for(;y&&y.type.indexOf("tag-name")===-1;)y=b.stepBackward();if(!y)return;var x=y.value,w=b.getCurrentTokenRow();if(y=b.stepBackward(),!y||y.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var _=p.getTokenAt(v.row,v.column+1),g=p.getLine(w),k=this.$getIndent(g),E=k+p.getTabString();return _&&_.value==="</"?{text:`
`+E+`
`+k,selection:[1,E.length,1,E.length]}:{text:`
`+E}}}}})};i.inherits(c,a),r.XmlBehaviour=c}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(n,r,o){var i=n("../token_iterator").TokenIterator,a=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],s=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],l=a.concat(s),c={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},u=Object.keys(c);function h(v,g){return v.type.lastIndexOf(g+".xml")>-1}function f(v,g){for(var b=new i(v,g.row,g.column),y=b.getCurrentToken();y&&!h(y,"tag-name");)y=b.stepBackward();if(y)return y.value}function p(v,g){for(var b=new i(v,g.row,g.column),y=b.getCurrentToken();y&&!h(y,"attribute-name");)y=b.stepBackward();if(y)return y.value}var m=function(){};(function(){this.getCompletions=function(v,g,b,y){var x=g.getTokenAt(b.row,b.column);if(!x)return[];if(h(x,"tag-name")||h(x,"tag-open")||h(x,"end-tag-open"))return this.getTagCompletions(v,g,b,y);if(h(x,"tag-whitespace")||h(x,"attribute-name"))return this.getAttributeCompletions(v,g,b,y);if(h(x,"attribute-value"))return this.getAttributeValueCompletions(v,g,b,y);var w=g.getLine(b.row).substr(0,b.column);return/&[a-z]*$/i.test(w)?this.getHTMLEntityCompletions(v,g,b,y):[]},this.getTagCompletions=function(v,g,b,y){return u.map(function(x){return{value:x,meta:"tag",score:1e6}})},this.getAttributeCompletions=function(v,g,b,y){var x=f(g,b);if(!x)return[];var w=l;return x in c&&(w=w.concat(Object.keys(c[x]))),w.map(function(_){return{caption:_,snippet:_+'="$0"',meta:"attribute",score:1e6}})},this.getAttributeValueCompletions=function(v,g,b,y){var x=f(g,b),w=p(g,b);if(!x)return[];var _=[];return x in c&&w in c[x]&&typeof c[x][w]=="object"&&(_=Object.keys(c[x][w])),_.map(function(k){return{caption:k,snippet:k,meta:"attribute value",score:1e6}})},this.getHTMLEntityCompletions=function(v,g,b,y){var x=["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"];return x.map(function(w){return{caption:w,snippet:w,meta:"html entity",score:1e6}})}}).call(m.prototype),r.HtmlCompletions=m}),ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},s.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};i.inherits(s,a),s.getTagRule=function(l){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},s.getStartRule=function(l){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:l}},s.getEndRule=function(l){return{token:"comment.doc",regex:"\\*\\/",next:l}},r.JsDocCommentHighlightRules=s}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,s=n("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",c=function(f){var p={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},m=this.createKeywordMapper(p,"identifier"),v="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",g="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",b="(function)(\\s*)(\\*?)",y={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(p).join("|")+"\\b)"+l+")(\\s*)(\\()"};this.$rules={no_regex:[a.getStartRule("doc-start"),h("no_regex"),y,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+v+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:m,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[a.getStartRule("doc-start"),h("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[h("function_arguments"),{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!f||!f.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,w,_){if(this.next=x=="{"?this.nextState:"",x=="{"&&_.length)_.unshift("start",w);else if(x=="}"&&_.length&&(_.shift(),this.next=_.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:g},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+l+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!f||f.jsx!=!1)&&u.call(this)),this.embedRules(a,"doc-",[a.getEndRule("no_regex")]),this.normalizeRules()};i.inherits(c,s);function u(){var f=l.replace("\\d","\\d\\-"),p={onMatch:function(v,g,b){var y=v.charAt(1)=="/"?2:1;return y==1?(g!=this.nextState?b.unshift(this.next,this.nextState,0):b.unshift(this.next),b[2]++):y==2&&g==this.nextState&&(b[1]--,(!b[1]||b[1]<0)&&(b.shift(),b.shift())),[{type:"meta.tag.punctuation."+(y==1?"":"end-")+"tag-open.xml",value:v.slice(0,y)},{type:"meta.tag.tag-name.xml",value:v.substr(y)}]},regex:"</?(?:"+f+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(p);var m={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[m,p,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(v,g,b){return g==b[0]&&b.shift(),v.length==2&&(b[0]==this.nextState&&b[1]--,(!b[1]||b[1]<0)&&b.splice(0,2)),this.next=b[0]||"start",[{type:this.token,value:v}]},nextState:"jsx"},m,h("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:f},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},p],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function h(f){return[{token:"comment",regex:/\/\*/,next:[a.getTagRule(),{token:"comment",regex:"\\*\\/",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[a.getTagRule(),{token:"comment",regex:"$|^",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}r.JavaScriptHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,o){var i=n("../range").Range,a=function(){};(function(){this.checkOutdent=function(s,l){return/^\s+$/.test(s)?/^\s*\}/.test(l):!1},this.autoOutdent=function(s,l){var c=s.getLine(l),u=c.match(/^(\s*\})/);if(!u)return 0;var h=u[1].length,f=s.findMatchingBracket({row:l,column:h});if(!f||f.row==l)return 0;var p=this.$getIndent(s.getLine(f.row));s.replace(new i(l,0,l,h-1),p)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(a.prototype),r.MatchingBraceOutdent=a}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../token_iterator").TokenIterator,s=n("../behaviour/cstyle").CstyleBehaviour,l=n("../behaviour/xml").XmlBehaviour,c=function(){var u=new l({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(u),this.inherit(s),this.add("autoclosing-fragment","insertion",function(h,f,p,m,v){if(v==">"){var g=p.getSelectionRange().start,b=new a(m,g.row,g.column),y=b.getCurrentToken()||b.stepBackward();if(!y)return;if(y.value=="<")return{text:"></>",selection:[1,1]}}})};i.inherits(c,s),r.JavaScriptBehaviour=c}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,r,o){var i=n("../../lib/oop"),a=n("./xml").FoldMode,s=n("./cstyle").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end))),this.xmlFoldMode=new a};i.inherits(l,s),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,h){var f=this.getFoldWidgetBase(c,u,h);return f||this.xmlFoldMode.getFoldWidget(c,u,h)},this.getFoldWidgetRange=function(c,u,h,f){var p=this.getFoldWidgetRangeBase(c,u,h,f);return p||this.xmlFoldMode.getFoldWidgetRange(c,u,h)}}).call(l.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(n,r,o){var i=n("../lib/oop"),a=n("./text").Mode,s=n("./javascript_highlight_rules").JavaScriptHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("../worker/worker_client").WorkerClient,u=n("./behaviour/javascript").JavaScriptBehaviour,h=n("./folding/javascript").FoldMode,f=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=new u,this.foldingRules=new h};i.inherits(f,a),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(p,m,v){var g=this.$getIndent(m),b=this.getTokenizer().getLineTokens(m,p),y=b.tokens,x=b.state;if(y.length&&y[y.length-1].type=="comment")return g;if(p=="start"||p=="no_regex"){var w=m.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);w&&(g+=v)}else if(p=="doc-start"&&(x=="start"||x=="no_regex"))return"";return g},this.checkOutdent=function(p,m,v){return this.$outdent.checkOutdent(m,v)},this.autoOutdent=function(p,m,v){this.$outdent.autoOutdent(m,v)},this.createWorker=function(p){var m=new c(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return m.attachToDocument(p.getDocument()),m.on("annotate",function(v){p.setAnnotations(v.data)}),m.on("terminate",function(){p.clearAnnotations()}),m},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(f.prototype),r.Mode=f}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop");n("../lib/lang");var a=n("./text_highlight_rules").TextHighlightRules,s=r.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",l=r.supportFunction="rgb|rgba|url|attr|counter|counters",c=r.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",u=r.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",h=r.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",f=r.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",p=r.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",m=r.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",v=function(){var g=this.createKeywordMapper({"support.function":l,"support.constant":c,"support.type":s,"support.constant.color":u,"support.constant.fonts":h},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:f},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+f+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:f},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:p},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:m},{include:"url"},{token:g,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{token:"paren.lparen",regex:"\\{"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};i.inherits(v,a),r.CssHighlightRules=v}),ace.define("ace/mode/css_completions",["require","exports","module"],function(n,r,o){var i={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},a=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var s=document.createElement("c").style;for(var l in s)if(typeof s[l]=="string"){var c=l.replace(/[A-Z]/g,function(u){return"-"+u.toLowerCase()});i.hasOwnProperty(c)||(i[c]=1)}}this.completionsDefined=!0},this.getCompletions=function(s,l,c,u){if(this.completionsDefined||this.defineCompletions(),s==="ruleset"||l.$mode.$id=="ace/mode/scss"){var h=l.getLine(c.row).substr(0,c.column),f=/\([^)]*$/.test(h);return f&&(h=h.substr(h.lastIndexOf("(")+1)),/:[^;]+$/.test(h)?this.getPropertyValueCompletions(s,l,c,u):this.getPropertyCompletions(s,l,c,u,f)}return[]},this.getPropertyCompletions=function(s,l,c,u,h){h=h||!1;var f=Object.keys(i);return f.map(function(p){return{caption:p,snippet:p+": $0"+(h?"":";"),meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(s,l,c,u){var h=l.getLine(c.row).substr(0,c.column),f=(/([\w\-]+):[^:]*$/.exec(h)||{})[1];if(!f)return[];var p=[];return f in i&&typeof i[f]=="object"&&(p=Object.keys(i[f])),p.map(function(m){return{caption:m,snippet:m,meta:"property value",score:1e6}})}}).call(a.prototype),r.CssCompletions=a}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(n,r,o){var i=n("../../lib/oop");n("../behaviour").Behaviour;var a=n("./cstyle").CstyleBehaviour,s=n("../../token_iterator").TokenIterator,l=function(){this.inherit(a),this.add("colon","insertion",function(c,u,h,f,p){if(p===":"&&h.selection.isEmpty()){var m=h.getCursorPosition(),v=new s(f,m.row,m.column),g=v.getCurrentToken();if(g&&g.value.match(/\s+/)&&(g=v.stepBackward()),g&&g.type==="support.type"){var b=f.doc.getLine(m.row),y=b.substring(m.column,m.column+1);if(y===":")return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(b.substring(m.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(c,u,h,f,p){var m=f.doc.getTextRange(p);if(!p.isMultiLine()&&m===":"){var v=h.getCursorPosition(),g=new s(f,v.row,v.column),b=g.getCurrentToken();if(b&&b.value.match(/\s+/)&&(b=g.stepBackward()),b&&b.type==="support.type"){var y=f.doc.getLine(p.start.row),x=y.substring(p.end.column,p.end.column+1);if(x===";")return p.end.column++,p}}}),this.add("semicolon","insertion",function(c,u,h,f,p){if(p===";"&&h.selection.isEmpty()){var m=h.getCursorPosition(),v=f.doc.getLine(m.row),g=v.substring(m.column,m.column+1);if(g===";")return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(c,u,h,f,p){if(p==="!"&&h.selection.isEmpty()){var m=h.getCursorPosition(),v=f.doc.getLine(m.row);if(/^\s*(;|}|$)/.test(v.substring(m.column)))return{text:"!important",selection:[10,10]}}})};i.inherits(l,a),r.CssBehaviour=l}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(n,r,o){var i=n("../lib/oop"),a=n("./text").Mode,s=n("./css_highlight_rules").CssHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("../worker/worker_client").WorkerClient,u=n("./css_completions").CssCompletions,h=n("./behaviour/css").CssBehaviour,f=n("./folding/cstyle").FoldMode,p=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=new h,this.$completer=new u,this.foldingRules=new f};i.inherits(p,a),(function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(m,v,g){var b=this.$getIndent(v),y=this.getTokenizer().getLineTokens(v,m).tokens;if(y.length&&y[y.length-1].type=="comment")return b;var x=v.match(/^.*\{\s*$/);return x&&(b+=g),b},this.checkOutdent=function(m,v,g){return this.$outdent.checkOutdent(v,g)},this.autoOutdent=function(m,v,g){this.$outdent.autoOutdent(v,g)},this.getCompletions=function(m,v,g,b){return this.$completer.getCompletions(m,v,g,b)},this.createWorker=function(m){var v=new c(["ace"],"ace/mode/css_worker","Worker");return v.attachToDocument(m.getDocument()),v.on("annotate",function(g){m.setAnnotations(g.data)}),v.on("terminate",function(){m.clearAnnotations()}),v},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}).call(p.prototype),r.Mode=p}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules,s=function(l){var c="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+c+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:c},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+c+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+c+":)?"+c+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:c},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===s&&this.normalizeRules()};(function(){this.embedTagRules=function(l,c,u){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+u+".tag-name.xml"],regex:"(<)("+u+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:c+"start"}]}),this.$rules[u+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(h,f,p){return p.splice(0),this.token}}],this.embedRules(l,c,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+u+".tag-name.xml"],regex:"(</)("+u+"(?=\\s|>|$))",next:u+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(a.prototype),i.inherits(s,a),r.XmlHighlightRules=s}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("../lib/lang"),s=n("./css_highlight_rules").CssHighlightRules,l=n("./javascript_highlight_rules").JavaScriptHighlightRules,c=n("./xml_highlight_rules").XmlHighlightRules,u=a.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),h=function(){c.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(f,p){var m=u[p];return["meta.tag.punctuation."+(f=="<"?"":"end-")+"tag-open.xml","meta.tag"+(m?"."+m:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(s,"css-","style"),this.embedTagRules(new l({jsx:!1}).getRules(),"js-","script"),this.constructor===h&&this.normalizeRules()};i.inherits(h,c),r.HtmlHighlightRules=h}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(n,r,o){var i=n("../lib/oop"),a=n("../lib/lang"),s=n("./text").Mode,l=n("./javascript").Mode,c=n("./css").Mode,u=n("./html_highlight_rules").HtmlHighlightRules,h=n("./behaviour/xml").XmlBehaviour,f=n("./folding/html").FoldMode,p=n("./html_completions").HtmlCompletions,m=n("../worker/worker_client").WorkerClient,v=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],g=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],b=function(y){this.fragmentContext=y&&y.fragmentContext,this.HighlightRules=u,this.$behaviour=new h,this.$completer=new p,this.createModeDelegates({"js-":l,"css-":c}),this.foldingRules=new f(this.voidElements,a.arrayToMap(g))};i.inherits(b,s),(function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=a.arrayToMap(v),this.getNextLineIndent=function(y,x,w){return this.$getIndent(x)},this.checkOutdent=function(y,x,w){return!1},this.getCompletions=function(y,x,w,_){return this.$completer.getCompletions(y,x,w,_)},this.createWorker=function(y){if(this.constructor==b){var x=new m(["ace"],"ace/mode/html_worker","Worker");return x.attachToDocument(y.getDocument()),this.fragmentContext&&x.call("setOptions",[{context:this.fragmentContext}]),x.on("error",function(w){y.setAnnotations(w.data)}),x.on("terminate",function(){y.clearAnnotations()}),x}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}).call(b.prototype),r.Mode=b}),ace.define("ace/mode/typescript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/javascript_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./javascript_highlight_rules").JavaScriptHighlightRules,s=function(l){var c=[{token:["storage.type","text","entity.name.function.ts"],regex:"(function)(\\s+)([a-zA-Z0-9$_¡-￿][a-zA-Z0-9d$_¡-￿]*)"},{token:"keyword",regex:"(?:\\b(constructor|declare|interface|as|AS|public|private|extends|export|super|readonly|module|namespace|abstract|implements)\\b)"},{token:["keyword","storage.type.variable.ts"],regex:"(class|type)(\\s+[a-zA-Z0-9_?.$][\\w?.$]*)"},{token:"keyword",regex:"\\b(?:super|export|import|keyof|infer)\\b"},{token:["storage.type.variable.ts"],regex:"(?:\\b(this\\.|string\\b|bool\\b|boolean\\b|number\\b|true\\b|false\\b|undefined\\b|any\\b|null\\b|(?:unique )?symbol\\b|object\\b|never\\b|enum\\b))"}],u=new a({jsx:(l&&l.jsx)==!0}).getRules();u.no_regex=c.concat(u.no_regex),this.$rules=u};i.inherits(s,a),r.TypeScriptHighlightRules=s}),ace.define("ace/mode/coffee_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules;i.inherits(s,a);function s(){var l="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",c="this|throw|then|try|typeof|super|switch|return|break|by|continue|catch|class|in|instanceof|is|isnt|if|else|extends|for|own|finally|function|while|when|new|no|not|delete|debugger|do|loop|of|off|or|on|unless|until|and|yes|yield|export|import|default",u="true|false|null|undefined|NaN|Infinity",h="case|const|function|var|void|with|enum|implements|interface|let|package|private|protected|public|static",f="Array|Boolean|Date|Function|Number|Object|RegExp|ReferenceError|String|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray",p="Math|JSON|isNaN|isFinite|parseInt|parseFloat|encodeURI|encodeURIComponent|decodeURI|decodeURIComponent|String|",m="window|arguments|prototype|document",v=this.createKeywordMapper({keyword:c,"constant.language":u,"invalid.illegal":h,"language.support.class":f,"language.support.function":p,"variable.language":m},"identifier"),g={token:["paren.lparen","variable.parameter","paren.rparen","text","storage.type"],regex:/(?:(\()((?:"[^")]*?"|'[^')]*?'|\/[^\/)]*?\/|[^()"'\/])*?)(\))(\s*))?([\-=]>)/.source},b=/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)/;this.$rules={start:[{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{stateName:"qdoc",token:"string",regex:"'''",next:[{token:"string",regex:"'''",next:"start"},{token:"constant.language.escape",regex:b},{defaultToken:"string"}]},{stateName:"qqdoc",token:"string",regex:'"""',next:[{token:"string",regex:'"""',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:b},{defaultToken:"string"}]},{stateName:"qstring",token:"string",regex:"'",next:[{token:"string",regex:"'",next:"start"},{token:"constant.language.escape",regex:b},{defaultToken:"string"}]},{stateName:"qqstring",token:"string.start",regex:'"',next:[{token:"string.end",regex:'"',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:b},{defaultToken:"string"}]},{stateName:"js",token:"string",regex:"`",next:[{token:"string",regex:"`",next:"start"},{token:"constant.language.escape",regex:b},{defaultToken:"string"}]},{regex:"[{}]",onMatch:function(y,x,w){return this.next="",y=="{"&&w.length?(w.unshift("start",x),"paren"):y=="}"&&w.length&&(w.shift(),this.next=w.shift()||"",this.next.indexOf("string")!=-1)?"paren.string":"paren"}},{token:"string.regex",regex:"///",next:"heregex"},{token:"string.regex",regex:/(?:\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)(?:[imgy]{0,4})(?!\w)/},{token:"comment",regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:["punctuation.operator","text","identifier"],regex:"(\\.)(\\s*)("+h+")"},{token:"punctuation.operator",regex:"\\.{1,3}"},{token:["keyword","text","language.support.class","text","keyword","text","language.support.class"],regex:"(class)(\\s+)("+l+")(?:(\\s+)(extends)(\\s+)("+l+"))?"},{token:["entity.name.function","text","keyword.operator","text"].concat(g.token),regex:"("+l+")(\\s*)([=:])(\\s*)"+g.regex},g,{token:"variable",regex:"@(?:"+l+")?"},{token:v,regex:l},{token:"punctuation.operator",regex:"\\,|\\."},{token:"storage.type",regex:"[\\-=]>"},{token:"keyword.operator",regex:"(?:[-+*/%<>&|^!?=]=|>>>=?|\\-\\-|\\+\\+|::|&&=|\\|\\|=|<<=|>>=|\\?\\.|\\.{2,3}|[!*+-=><])"},{token:"paren.lparen",regex:"[({[]"},{token:"paren.rparen",regex:"[\\]})]"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],comment:[{token:"comment",regex:"###",next:"start"},{defaultToken:"comment"}]},this.normalizeRules()}r.CoffeeHighlightRules=s}),ace.define("ace/mode/stylus_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/css_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules,s=n("./css_highlight_rules"),l=function(){var c=this.createKeywordMapper({"support.type":s.supportType,"support.function":s.supportFunction,"support.constant":s.supportConstant,"support.constant.color":s.supportConstantColor,"support.constant.fonts":s.supportConstantFonts},"text",!0);this.$rules={start:[{token:"comment",regex:/\/\/.*$/},{token:"comment",regex:/\/\*/,next:"comment"},{token:["entity.name.function.stylus","text"],regex:"^([-a-zA-Z_][-\\w]*)?(\\()"},{token:["entity.other.attribute-name.class.stylus"],regex:"\\.-?[_a-zA-Z]+[_a-zA-Z0-9-]*"},{token:["entity.language.stylus"],regex:"^ *&"},{token:["variable.language.stylus"],regex:"(arguments)"},{token:["keyword.stylus"],regex:"@[-\\w]+"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:s.pseudoElements},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:s.pseudoClasses},{token:["entity.name.tag.stylus"],regex:"(?:\\b)(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|eventsource|fieldset|figure|figcaption|footer|form|frame|frameset|(?:h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|label|legend|li|link|map|mark|menu|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|samp|script|section|select|small|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)(?:\\b)"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{6}"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{3}"},{token:["punctuation.definition.entity.stylus","entity.other.attribute-name.id.stylus"],regex:"(#)([a-zA-Z][a-zA-Z0-9_-]*)"},{token:"meta.vendor-prefix.stylus",regex:"-webkit-|-moz\\-|-ms-|-o-"},{token:"keyword.control.stylus",regex:"(?:!important|for|in|return|true|false|null|if|else|unless|return)\\b"},{token:"keyword.operator.stylus",regex:"!|~|\\+|-|(?:\\*)?\\*|\\/|%|(?:\\.)\\.\\.|<|>|(?:=|:|\\?|\\+|-|\\*|\\/|%|<|>)?=|!="},{token:"keyword.operator.stylus",regex:"(?:in|is(?:nt)?|not)\\b"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:s.numRe},{token:"keyword",regex:"(?:ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)\\b"},{token:c,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],qqstring:[{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"}],qstring:[{token:"string",regex:"[^'\\\\]+"},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"}]}};i.inherits(l,a),r.StylusHighlightRules=l}),ace.define("ace/mode/scss_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/css_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("../lib/lang"),s=n("./text_highlight_rules").TextHighlightRules,l=n("./css_highlight_rules"),c=function(){var u=a.arrayToMap(l.supportType.split("|")),h=a.arrayToMap("hsl|hsla|rgb|rgba|url|attr|counter|counters|abs|adjust_color|adjust_hue|alpha|join|blue|ceil|change_color|comparable|complement|darken|desaturate|floor|grayscale|green|hue|if|invert|join|length|lighten|lightness|mix|nth|opacify|opacity|percentage|quote|red|round|saturate|saturation|scale_color|transparentize|type_of|unit|unitless|unquote".split("|")),f=a.arrayToMap(l.supportConstant.split("|")),p=a.arrayToMap(l.supportConstantColor.split("|")),m=a.arrayToMap("@mixin|@extend|@include|@import|@media|@debug|@warn|@if|@for|@each|@while|@else|@font-face|@-webkit-keyframes|if|and|!default|module|def|end|declare".split("|")),v=a.arrayToMap("a|abbr|acronym|address|applet|area|article|aside|audio|b|base|basefont|bdo|big|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|dir|div|dl|dt|em|embed|fieldset|figcaption|figure|font|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|keygen|kbd|label|legend|li|link|map|mark|menu|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|u|ul|var|video|wbr|xmp".split("|")),g="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:g+"(?:ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:"constant.numeric",regex:g},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:function(b){return u.hasOwnProperty(b.toLowerCase())?"support.type":m.hasOwnProperty(b)?"keyword":f.hasOwnProperty(b)?"constant.language":h.hasOwnProperty(b)?"support.function":p.hasOwnProperty(b.toLowerCase())?"support.constant.color":v.hasOwnProperty(b.toLowerCase())?"variable.language":"text"},regex:"\\-?[@a-z_][@a-z0-9_\\-]*"},{token:"variable",regex:"[a-z_\\-$][a-z0-9_\\-$]*\\b"},{token:"variable.language",regex:"#[a-z0-9-_]+"},{token:"variable.language",regex:"\\.[a-z0-9-_]+"},{token:"variable.language",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{token:"keyword.operator",regex:"<|>|<=|>=|==|!=|-|%|#|\\+|\\$|\\+|\\*"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+"}]}};i.inherits(c,s),r.ScssHighlightRules=c}),ace.define("ace/mode/sass_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/scss_highlight_rules"],function(n,r,o){var i=n("../lib/oop");n("../lib/lang");var a=n("./scss_highlight_rules").ScssHighlightRules,s=function(){a.call(this);var l=this.$rules.start;l[1].token=="comment"&&(l.splice(1,1,{onMatch:function(c,u,h){return h.unshift(this.next,-1,c.length-2,u),"comment"},regex:/^\s*\/\*/,next:"comment"},{token:"error.invalid",regex:"/\\*|[{;}]"},{token:"support.type",regex:/^\s*:[\w\-]+\s/}),this.$rules.comment=[{regex:/^\s*/,onMatch:function(c,u,h){return h[1]===-1&&(h[1]=Math.max(h[2],c.length-1)),c.length<=h[1]?(h.shift(),h.shift(),h.shift(),this.next=h.shift(),"text"):(this.next="","comment")},next:"start"},{defaultToken:"comment"}])};i.inherits(s,a),r.SassHighlightRules=s}),ace.define("ace/mode/less_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/css_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules,s=n("./css_highlight_rules"),l=function(){var c="@import|@media|@font-face|@keyframes|@-webkit-keyframes|@supports|@charset|@plugin|@namespace|@document|@page|@viewport|@-ms-viewport|or|and|when|not",u=c.split("|"),h=s.supportType.split("|"),f=this.createKeywordMapper({"support.constant":s.supportConstant,keyword:c,"support.constant.color":s.supportConstantColor,"support.constant.fonts":s.supportConstantFonts},"identifier",!0),p="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+p+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:"constant.numeric",regex:p},{token:["support.function","paren.lparen","string","paren.rparen"],regex:"(url)(\\()(.*)(\\))"},{token:["support.function","paren.lparen"],regex:"(:extend|[a-z0-9_\\-]+)(\\()"},{token:function(m){return u.indexOf(m.toLowerCase())>-1?"keyword":"variable"},regex:"[@\\$][a-z0-9_\\-@\\$]*\\b"},{token:"variable",regex:"[@\\$]\\{[a-z0-9_\\-@\\$]*\\}"},{token:function(m,v){return h.indexOf(m.toLowerCase())>-1?["support.type.property","text"]:["support.type.unknownProperty","text"]},regex:"([a-z0-9-_]+)(\\s*:)"},{token:"keyword",regex:"&"},{token:f,regex:"\\-?[@a-z_][@a-z0-9_\\-]*"},{token:"variable.language",regex:"#[a-z0-9-_]+"},{token:"variable.language",regex:"\\.[a-z0-9-_]+"},{token:"variable.language",regex:":[a-z_][a-z0-9-_]*"},{token:"constant",regex:"[a-z0-9-_]+"},{token:"keyword.operator",regex:"<|>|<=|>=|=|!=|-|%|\\+|\\*"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]},this.normalizeRules()};i.inherits(l,a),r.LessHighlightRules=l}),ace.define("ace/mode/slim_highlight_rules",["require","exports","module","ace/config","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../config").$modes,a=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,l=function(){this.$rules={start:[{token:"keyword",regex:/^(\s*)(\w+):\s*/,onMatch:function(c,u,h,f){var p=/^\s*/.exec(f)[0],m=c.match(/^(\s*)(\w+):/),v=m[2];return/^(javascript|ruby|coffee|markdown|css|scss|sass|less)$/.test(v)||(v=""),h.unshift("language-embed",[],[p,v],u),this.token},stateName:"language-embed",next:[{token:"string",regex:/^(\s*)/,onMatch:function(c,u,h,f){var p=h[2][0];return p.length>=c.length?(h.splice(0,3),this.next=h.shift(),this.token):(this.next="",[{type:"text",value:p}])},next:""},{token:"string",regex:/.+/,onMatch:function(c,u,h,f){var p=h[2][0],m=h[2][1],v=h[1];if(i[m]){var g=i[m].getTokenizer().getLineTokens(f.slice(p.length),v.slice(0));return h[1]=g.state,g.tokens}return this.token}}]},{token:"constant.begin.javascript.filter.slim",regex:"^(\\s*)():$"},{token:"constant.begin..filter.slim",regex:"^(\\s*)(ruby):$"},{token:"constant.begin.coffeescript.filter.slim",regex:"^(\\s*)():$"},{token:"constant.begin..filter.slim",regex:"^(\\s*)(markdown):$"},{token:"constant.begin.css.filter.slim",regex:"^(\\s*)():$"},{token:"constant.begin.scss.filter.slim",regex:"^(\\s*)():$"},{token:"constant.begin..filter.slim",regex:"^(\\s*)(sass):$"},{token:"constant.begin..filter.slim",regex:"^(\\s*)(less):$"},{token:"constant.begin..filter.slim",regex:"^(\\s*)(erb):$"},{token:"keyword.html.tags.slim",regex:"^(\\s*)((:?\\*(\\w)+)|doctype html|abbr|acronym|address|applet|area|article|aside|audio|base|basefont|bdo|big|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|command|datalist|dd|del|details|dialog|dfn|dir|div|dl|dt|embed|fieldset|figure|font|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|keygen|kbd|label|legend|link|li|map|mark|menu|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|source|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video|xmp|b|u|s|em|a)(?:([.#](\\w|\\.)+)+\\s?)?\\b"},{token:"keyword.slim",regex:"^(\\s*)(?:([.#](\\w|\\.)+)+\\s?)"},{token:"string",regex:/^(\s*)('|\||\/|(\/!))\s*/,onMatch:function(c,u,h,f){var p=/^\s*/.exec(f)[0];return h.length<1?h.push(this.next):h[0]="mlString",h.length<2?h.push(p.length):h[1]=p.length,this.token},next:"mlString"},{token:"keyword.control.slim",regex:"^(\\s*)(\\-|==|=)",push:[{token:"control.end.slim",regex:"$",next:"pop"},{include:"rubyline"},{include:"misc"}]},{token:"paren",regex:"\\(",push:[{token:"paren",regex:"\\)",next:"pop"},{include:"misc"}]},{token:"paren",regex:"\\[",push:[{token:"paren",regex:"\\]",next:"pop"},{include:"misc"}]},{include:"misc"}],mlString:[{token:"indent",regex:/^\s*/,onMatch:function(c,u,h){var f=h[1];return f>=c.length?(this.next="start",h.splice(0)):this.next="mlString",this.token},next:"start"},{defaultToken:"string"}],rubyline:[{token:"keyword.operator.ruby.embedded.slim",regex:"(==|=)(<>|><|<'|'<|<|>)?|-"},{token:"list.ruby.operators.slim",regex:"(\\b)(for|in|do|if|else|elsif|unless|while|yield|not|and|or)\\b"},{token:"string",regex:"['](.)*?[']"},{token:"string",regex:'["](.)*?["]'}],misc:[{token:"class.variable.slim",regex:"\\@([a-zA-Z_][a-zA-Z0-9_]*)\\b"},{token:"list.meta.slim",regex:"(\\b)(true|false|nil)(\\b)"},{token:"keyword.operator.equals.slim",regex:"="},{token:"string",regex:"['](.)*?[']"},{token:"string",regex:'["](.)*?["]'}]},this.normalizeRules()};a.inherits(l,s),r.SlimHighlightRules=l}),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/config","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/html_highlight_rules"],function(n,r,o){var i=n("../config").$modes,a=n("../lib/oop"),s=n("../lib/lang"),l=n("./text_highlight_rules").TextHighlightRules,c=n("./html_highlight_rules").HtmlHighlightRules,u=function(f){return"(?:[^"+s.escapeRegExp(f)+"\\\\]|\\\\.)*"},h=function(){c.call(this);var f={token:"support.function",regex:/^\s*(```+[^`]*|~~~+[^~]*)$/,onMatch:function(m,v,g,b){var y=m.match(/^(\s*)([`~]+)(.*)/),x=/[\w-]+|$/.exec(y[3])[0];return i[x]||(x=""),g.unshift("githubblock",[],[y[1],y[2],x],v),this.token},next:"githubblock"},p=[{token:"support.function",regex:".*",onMatch:function(m,v,g,b){var y=g[1],x=g[2][0],w=g[2][1],_=g[2][2],k=/^(\s*)(`+|~+)\s*$/.exec(m);if(k&&k[1].length<x.length+3&&k[2].length>=w.length&&k[2][0]==w[0])return g.splice(0,3),this.next=g.shift(),this.token;if(this.next="",_&&i[_]){var E=i[_].getTokenizer().getLineTokens(m,y.slice(0));return g[1]=E.state,E.tokens}return this.token}}];this.$rules.start.unshift({token:"empty_line",regex:"^$",next:"allowBlock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(m){return"markup.heading."+m.length},regex:/^#{1,6}(?=\s|$)/,next:"header"},f,{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"constant",regex:"^ {0,3}(?:(?:\\* ?){3,}|(?:\\- ?){3,}|(?:\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}),this.addRules({basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:"support.function",regex:"(`+)(.*?[^`])(\\1)"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)("+u("]")+")(\\]\\s*\\[)("+u("]")+")(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:"(\\!?\\[)("+u("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+u('"')+'"\\s*)?(\\))'},{token:"string.strong",regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:"string.emphasis",regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:`(<)((?:https?|ftp|dict):[^'">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)`}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty_line",regex:"^$",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"support.variable",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},f,{defaultToken:"list"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:p}),this.normalizeRules()};a.inherits(h,l),r.MarkdownHighlightRules=h}),ace.define("ace/mode/jade_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/markdown_highlight_rules","ace/mode/scss_highlight_rules","ace/mode/less_highlight_rules","ace/mode/coffee_highlight_rules","ace/mode/javascript_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules;n("./markdown_highlight_rules").MarkdownHighlightRules,n("./scss_highlight_rules").ScssHighlightRules,n("./less_highlight_rules").LessHighlightRules,n("./coffee_highlight_rules").CoffeeHighlightRules;var s=n("./javascript_highlight_rules").JavaScriptHighlightRules;function l(u,h){return{token:"entity.name.function.jade",regex:"^\\s*\\:"+u,next:h+"start"}}var c=function(){var u="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={start:[{token:"keyword.control.import.include.jade",regex:"\\s*\\binclude\\b"},{token:"keyword.other.doctype.jade",regex:"^!!!\\s*(?:[a-zA-Z0-9-_]+)?"},{onMatch:function(h,f,p){return p.unshift(this.next,h.length-2,f),"comment"},regex:/^\s*\/\//,next:"comment_block"},l("markdown","markdown-"),l("sass","sass-"),l("less","less-"),l("coffee","coffee-"),{token:["storage.type.function.jade","entity.name.function.jade","punctuation.definition.parameters.begin.jade","variable.parameter.function.jade","punctuation.definition.parameters.end.jade"],regex:"^(\\s*mixin)( [\\w\\-]+)(\\s*\\()(.*?)(\\))"},{token:["storage.type.function.jade","entity.name.function.jade"],regex:"^(\\s*mixin)( [\\w\\-]+)"},{token:"source.js.embedded.jade",regex:"^\\s*(?:-|=|!=)",next:"js-start"},{token:"string.interpolated.jade",regex:"[#!]\\{[^\\}]+\\}"},{token:"meta.tag.any.jade",regex:/^\s*(?!\w+:)(?:[\w-]+|(?=\.|#)])/,next:"tag_single"},{token:"suport.type.attribute.id.jade",regex:"#\\w+"},{token:"suport.type.attribute.class.jade",regex:"\\.\\w+"},{token:"punctuation",regex:"\\s*(?:\\()",next:"tag_attributes"}],comment_block:[{regex:/^\s*(?:\/\/)?/,onMatch:function(h,f,p){return h.length<=p[1]?h.slice(-1)=="/"?(p[1]=h.length-2,this.next="","comment"):(p.shift(),p.shift(),this.next=p.shift(),"text"):(this.next="","comment")},next:"start"},{defaultToken:"comment"}],tag_single:[{token:"entity.other.attribute-name.class.jade",regex:"\\.[\\w-]+"},{token:"entity.other.attribute-name.id.jade",regex:"#[\\w-]+"},{token:["text","punctuation"],regex:"($)|((?!\\.|#|=|-))",next:"start"}],tag_attributes:[{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:["entity.other.attribute-name.jade","punctuation"],regex:"([a-zA-Z:\\.-]+)(=)?",next:"attribute_strings"},{token:"punctuation",regex:"\\)",next:"start"}],attribute_strings:[{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"string",regex:"(?=\\S)",next:"tag_attributes"}],qqstring:[{token:"constant.language.escape",regex:u},{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"tag_attributes"}],qstring:[{token:"constant.language.escape",regex:u},{token:"string",regex:"[^'\\\\]+"},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"tag_attributes"}]},this.embedRules(s,"js-",[{token:"text",regex:".$",next:"start"}])};i.inherits(c,a),r.JadeHighlightRules=c}),ace.define("ace/mode/vue_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/css_highlight_rules","ace/mode/typescript_highlight_rules","ace/mode/coffee_highlight_rules","ace/mode/html_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/stylus_highlight_rules","ace/mode/sass_highlight_rules","ace/mode/scss_highlight_rules","ace/mode/less_highlight_rules","ace/tokenizer","ace/mode/slim_highlight_rules","ace/mode/jade_highlight_rules","ace/mode/javascript"],function(n,r,o){var i=this&&this.__read||function(k,E){var $=typeof Symbol=="function"&&k[Symbol.iterator];if(!$)return k;var A=$.call(k),D,O=[],S;try{for(;(E===void 0||E-- >0)&&!(D=A.next()).done;)O.push(D.value)}catch(T){S={error:T}}finally{try{D&&!D.done&&($=A.return)&&$.call(A)}finally{if(S)throw S.error}}return O},a=this&&this.__spreadArray||function(k,E,$){if($||arguments.length===2)for(var A=0,D=E.length,O;A<D;A++)(O||!(A in E))&&(O||(O=Array.prototype.slice.call(E,0,A)),O[A]=E[A]);return k.concat(O||Array.prototype.slice.call(E))},s=n("../lib/oop"),l=n("./css_highlight_rules").CssHighlightRules,c=n("./typescript_highlight_rules").TypeScriptHighlightRules,u=n("./coffee_highlight_rules").CoffeeHighlightRules,h=n("./html_highlight_rules").HtmlHighlightRules,f=n("./javascript_highlight_rules").JavaScriptHighlightRules,p=n("./stylus_highlight_rules").StylusHighlightRules,m=n("./sass_highlight_rules").SassHighlightRules,v=n("./scss_highlight_rules").ScssHighlightRules,g=n("./less_highlight_rules").LessHighlightRules,b=n("../tokenizer").Tokenizer,y=n("./slim_highlight_rules").SlimHighlightRules,x=n("./jade_highlight_rules").JadeHighlightRules,w=n("./javascript").Mode,_=function(k){this.embedLangRules=function(D,O,S,T){var C=T?"(?=[^>]*"+T+`\\s*=\\s*['"]`+S+`['"]))`:"(?=\\s|>|$))";this.$rules.start.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+O+".tag-name.xml"],regex:"(<)("+O+C,next:[{token:"meta.tag.punctuation.tag-close."+O+".xml",regex:"/?>",next:S+"-start"},{include:"attributes"}]}),this.$rules[O+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(M,R,L){return L.splice(0),this.token}}],this.embedRules(D,S+"-",[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+O+".tag-name.xml"],regex:"(</)("+O+"(?=\\s|>|$))",next:O+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])};var E=[{include:"vue-interpolations"}],$=new h().getRules();$.start=E.concat($.start),$["vue-interpolations"]=[{token:"punctuation",regex:/\{\{\{?/,next:"js-interpolation-start"}];var A=this;$.tag_stuff.unshift({token:"string",regex:/(?:\b(v-)|(:|@))(\[?[a-zA-Z\-.]+\]?)(?:(\:\[?[a-zA-Z\-]+\]?))?((?:\.[a-zA-Z\-]+)*)(\s*)(=)(\s*)(["'])/,onMatch:function(D,O,S){var T=D[D.length-1];S.unshift(T,O);var C=new RegExp(this.regex).exec(D);if(!C)return"text";for(var M=[],R=["entity.other.attribute-name.xml","punctuation.separator.key-value.xml","entity.other.attribute-name.xml","entity.other.attribute-name.xml","entity.other.attribute-name.xml","text","punctuation.separator.key-value.xml","text","string"],L=0,P=R.length;L<P;L++)C[L+1]&&(M[M.length]={type:R[L],value:C[L+1]});return M},next:[{token:"string",regex:/$/,next:"tag_stuff"},{token:"string",regex:/.*/,onMatch:function(D,O,S,T){var C=S[0],M=D.split(C),R=M[0];if(this.next="",M.length>1){S.shift();var L=S.shift(),P=new b(A.$rules).getLineTokens(M.slice(1).join(C),L);P.tokens.unshift({type:"string",value:C}),this.next=Array.isArray(P.state)?P.state[P.state.length-1]:P.state}var N=new w().getTokenizer().getLineTokens(R,"start"),j=N.tokens;return P&&j.push.apply(j,a([],i(P.tokens),!1)),j}}]},{token:"string",regex:'"',next:[{token:"string",regex:'"|$',next:"tag_stuff"},{include:"vue-interpolations"},{defaultToken:"string"}]},{token:"string",regex:"'",next:[{token:"string",regex:"'|$",next:"tag_stuff"},{include:"vue-interpolations"},{defaultToken:"string"}]}),this.$rules=$,this.embedRules(f,"js-interpolation-",[{token:"punctuation",regex:/\}\}\}?/,next:"start"}]),this.embedLangRules(l,"style","css"),this.embedLangRules(p,"style","stylus","lang"),this.embedLangRules(m,"style","sass","lang"),this.embedLangRules(v,"style","scss","lang"),this.embedLangRules(g,"style","less","lang"),this.embedLangRules(c,"script","ts","lang"),this.embedLangRules(u,"script","coffee","lang"),this.embedLangRules(y,"template","slm","lang"),this.embedLangRules(x,"template","jade","lang"),this.embedLangRules(p,"template","stylus","lang"),this.normalizeRules()};s.inherits(_,h),r.VueHighlightRules=_}),ace.define("ace/mode/vue",["require","exports","module","ace/lib/oop","ace/mode/folding/html","ace/lib/lang","ace/mode/behaviour/xml","ace/mode/html_completions","ace/mode/html","ace/mode/vue_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./folding/html").FoldMode,s=n("../lib/lang"),l=n("./behaviour/xml").XmlBehaviour,c=n("./html_completions").HtmlCompletions,u=n("./html").Mode,h=n("./vue_highlight_rules").VueHighlightRules,f=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],p=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],m=function(){this.HighlightRules=h,this.foldingRules=new a(this.voidElements,s.arrayToMap(p)),this.$behaviour=new l,this.$completer=new c};i.inherits(m,u),(function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=s.arrayToMap(f),this.getCompletions=function(v,g,b,y){return this.$completer.getCompletions(v,g,b,y)},this.$id="ace/mode/vue"}).call(m.prototype),r.Mode=m}),function(){ace.require(["ace/mode/vue"],function(n){t&&(t.exports=n)})}()}(jf)),jf.exports}bA();var Bf={exports:{}},mb;function yA(){return mb||(mb=1,function(t,e){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},s.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};i.inherits(s,a),s.getTagRule=function(l){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},s.getStartRule=function(l){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:l}},s.getEndRule=function(l){return{token:"comment.doc",regex:"\\*\\/",next:l}},r.JsDocCommentHighlightRules=s}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,s=n("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",c=function(f){var p={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},m=this.createKeywordMapper(p,"identifier"),v="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",g="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",b="(function)(\\s*)(\\*?)",y={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(p).join("|")+"\\b)"+l+")(\\s*)(\\()"};this.$rules={no_regex:[a.getStartRule("doc-start"),h("no_regex"),y,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+v+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:m,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[a.getStartRule("doc-start"),h("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[h("function_arguments"),{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!f||!f.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,w,_){if(this.next=x=="{"?this.nextState:"",x=="{"&&_.length)_.unshift("start",w);else if(x=="}"&&_.length&&(_.shift(),this.next=_.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:g},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+l+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!f||f.jsx!=!1)&&u.call(this)),this.embedRules(a,"doc-",[a.getEndRule("no_regex")]),this.normalizeRules()};i.inherits(c,s);function u(){var f=l.replace("\\d","\\d\\-"),p={onMatch:function(v,g,b){var y=v.charAt(1)=="/"?2:1;return y==1?(g!=this.nextState?b.unshift(this.next,this.nextState,0):b.unshift(this.next),b[2]++):y==2&&g==this.nextState&&(b[1]--,(!b[1]||b[1]<0)&&(b.shift(),b.shift())),[{type:"meta.tag.punctuation."+(y==1?"":"end-")+"tag-open.xml",value:v.slice(0,y)},{type:"meta.tag.tag-name.xml",value:v.substr(y)}]},regex:"</?(?:"+f+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(p);var m={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[m,p,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(v,g,b){return g==b[0]&&b.shift(),v.length==2&&(b[0]==this.nextState&&b[1]--,(!b[1]||b[1]<0)&&b.splice(0,2)),this.next=b[0]||"start",[{type:this.token,value:v}]},nextState:"jsx"},m,h("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:f},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},p],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function h(f){return[{token:"comment",regex:/\/\*/,next:[a.getTagRule(),{token:"comment",regex:"\\*\\/",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[a.getTagRule(),{token:"comment",regex:"$|^",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}r.JavaScriptHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,o){var i=n("../range").Range,a=function(){};(function(){this.checkOutdent=function(s,l){return/^\s+$/.test(s)?/^\s*\}/.test(l):!1},this.autoOutdent=function(s,l){var c=s.getLine(l),u=c.match(/^(\s*\})/);if(!u)return 0;var h=u[1].length,f=s.findMatchingBracket({row:l,column:h});if(!f||f.row==l)return 0;var p=this.$getIndent(s.getLine(f.row));s.replace(new i(l,0,l,h-1),p)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(a.prototype),r.MatchingBraceOutdent=a}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(n,r,o){var i=n("../../lib/oop"),a=n("../behaviour").Behaviour,s=n("../../token_iterator").TokenIterator;function l(u,h){return u&&u.type.lastIndexOf(h+".xml")>-1}var c=function(){this.add("string_dquotes","insertion",function(u,h,f,p,m){if(m=='"'||m=="'"){var v=m,g=p.doc.getTextRange(f.getSelectionRange());if(g!==""&&g!=="'"&&g!='"'&&f.getWrapBehavioursEnabled())return{text:v+g+v,selection:!1};var b=f.getCursorPosition(),y=p.doc.getLine(b.row),x=y.substring(b.column,b.column+1),w=new s(p,b.row,b.column),_=w.getCurrentToken();if(x==v&&(l(_,"attribute-value")||l(_,"string")))return{text:"",selection:[1,1]};if(_||(_=w.stepBackward()),!_)return;for(;l(_,"tag-whitespace")||l(_,"whitespace");)_=w.stepBackward();var k=!x||x.match(/\s/);if(l(_,"attribute-equals")&&(k||x==">")||l(_,"decl-attribute-equals")&&(k||x=="?"))return{text:v+v,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(u,h,f,p,m){var v=p.doc.getTextRange(m);if(!m.isMultiLine()&&(v=='"'||v=="'")){var g=p.doc.getLine(m.start.row),b=g.substring(m.start.column+1,m.start.column+2);if(b==v)return m.end.column++,m}}),this.add("autoclosing","insertion",function(u,h,f,p,m){if(m==">"){var v=f.getSelectionRange().start,g=new s(p,v.row,v.column),b=g.getCurrentToken()||g.stepBackward();if(!b||!(l(b,"tag-name")||l(b,"tag-whitespace")||l(b,"attribute-name")||l(b,"attribute-equals")||l(b,"attribute-value"))||l(b,"reference.attribute-value"))return;if(l(b,"attribute-value")){var y=g.getCurrentTokenColumn()+b.value.length;if(v.column<y)return;if(v.column==y){var x=g.stepForward();if(x&&l(x,"attribute-value"))return;g.stepBackward()}}if(/^\s*>/.test(p.getLine(v.row).slice(v.column)))return;for(;!l(b,"tag-name");)if(b=g.stepBackward(),b.value=="<"){b=g.stepForward();break}var w=g.getCurrentTokenRow(),_=g.getCurrentTokenColumn();if(l(g.stepBackward(),"end-tag-open"))return;var k=b.value;return w==v.row&&(k=k.substring(0,v.column-_)),this.voidElements&&this.voidElements.hasOwnProperty(k.toLowerCase())?void 0:{text:"></"+k+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(u,h,f,p,m){if(m==`
`){var v=f.getCursorPosition(),g=p.getLine(v.row),b=new s(p,v.row,v.column),y=b.getCurrentToken();if(l(y,"")&&y.type.indexOf("tag-close")!==-1){if(y.value=="/>")return;for(;y&&y.type.indexOf("tag-name")===-1;)y=b.stepBackward();if(!y)return;var x=y.value,w=b.getCurrentTokenRow();if(y=b.stepBackward(),!y||y.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var _=p.getTokenAt(v.row,v.column+1),g=p.getLine(w),k=this.$getIndent(g),E=k+p.getTabString();return _&&_.value==="</"?{text:`
`+E+`
`+k,selection:[1,E.length,1,E.length]}:{text:`
`+E}}}}})};i.inherits(c,a),r.XmlBehaviour=c}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../token_iterator").TokenIterator,s=n("../behaviour/cstyle").CstyleBehaviour,l=n("../behaviour/xml").XmlBehaviour,c=function(){var u=new l({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(u),this.inherit(s),this.add("autoclosing-fragment","insertion",function(h,f,p,m,v){if(v==">"){var g=p.getSelectionRange().start,b=new a(m,g.row,g.column),y=b.getCurrentToken()||b.stepBackward();if(!y)return;if(y.value=="<")return{text:"></>",selection:[1,1]}}})};i.inherits(c,s),r.JavaScriptBehaviour=c}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(h,f){s.call(this),this.voidElements=h||{},this.optionalEndTags=i.mixin({},this.voidElements),f&&i.mixin(this.optionalEndTags,f)};i.inherits(l,s);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function u(h,f){return h&&h.type&&h.type.lastIndexOf(f+".xml")>-1}(function(){this.getFoldWidget=function(h,f,p){var m=this._getFirstTagInLine(h,p);return m?m.closing||!m.tagName&&m.selfClosing?f==="markbeginend"?"end":"":!m.tagName||m.selfClosing||this.voidElements.hasOwnProperty(m.tagName.toLowerCase())||this._findEndTagInLine(h,p,m.tagName,m.end.column)?"":"start":this.getCommentFoldWidget(h,p)},this.getCommentFoldWidget=function(h,f){return/comment/.test(h.getState(f))&&/<!-/.test(h.getLine(f))?"start":""},this._getFirstTagInLine=function(h,f){for(var p=h.getTokens(f),m=new c,v=0;v<p.length;v++){var g=p[v];if(u(g,"tag-open")){if(m.end.column=m.start.column+g.value.length,m.closing=u(g,"end-tag-open"),g=p[++v],!g)return null;if(m.tagName=g.value,g.value===""){if(g=p[++v],!g)return null;m.tagName=g.value}for(m.end.column+=g.value.length,v++;v<p.length;v++)if(g=p[v],m.end.column+=g.value.length,u(g,"tag-close")){m.selfClosing=g.value=="/>";break}return m}else if(u(g,"tag-close"))return m.selfClosing=g.value=="/>",m;m.start.column+=g.value.length}return null},this._findEndTagInLine=function(h,f,p,m){for(var v=h.getTokens(f),g=0,b=0;b<v.length;b++){var y=v[b];if(g+=y.value.length,!(g<m-1)&&u(y,"end-tag-open")&&(y=v[b+1],u(y,"tag-name")&&y.value===""&&(y=v[b+2]),y&&y.value==p))return!0}return!1},this.getFoldWidgetRange=function(h,f,p){var m=this._getFirstTagInLine(h,p);if(!m)return this.getCommentFoldWidget(h,p)&&h.getCommentFoldRange(p,h.getLine(p).length);var v=h.getMatchingTags({row:p,column:0});if(v)return new a(v.openTag.end.row,v.openTag.end.column,v.closeTag.start.row,v.closeTag.start.column)}}).call(l.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};i.inherits(l,s),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,h){var f=c.getLine(h);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var p=this._getFoldWidgetBase(c,u,h);return!p&&this.startRegionRe.test(f)?"start":p},this.getFoldWidgetRange=function(c,u,h,f){var p=c.getLine(h);if(this.startRegionRe.test(p))return this.getCommentRegionBlock(c,p,h);var g=p.match(this.foldingStartMarker);if(g){var m=g.index;if(g[1])return this.openingBracketBlock(c,g[1],h,m);var v=c.getCommentFoldRange(h,m+g[0].length,1);return v&&!v.isMultiLine()&&(f?v=this.getSectionRange(c,h):u!="all"&&(v=null)),v}if(u!=="markbegin"){var g=p.match(this.foldingStopMarker);if(g){var m=g.index+g[0].length;return g[1]?this.closingBracketBlock(c,g[1],h,m):c.getCommentFoldRange(h,m,-1)}}},this.getSectionRange=function(c,u){var h=c.getLine(u),f=h.search(/\S/),p=u,m=h.length;u=u+1;for(var v=u,g=c.getLength();++u<g;){h=c.getLine(u);var b=h.search(/\S/);if(b!==-1){if(f>b)break;var y=this.getFoldWidgetRange(c,"all",u);if(y){if(y.start.row<=p)break;if(y.isMultiLine())u=y.end.row;else if(f==b)break}v=u}}return new a(p,m,v,c.getLine(v).length)},this.getCommentRegionBlock=function(c,u,h){for(var f=u.search(/\s*$/),p=c.getLength(),m=h,v=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++h<p;){u=c.getLine(h);var b=v.exec(u);if(b&&(b[1]?g--:g++,!g))break}var y=h;if(y>m)return new a(m,f,y,u.length)}}).call(l.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,r,o){var i=n("../../lib/oop"),a=n("./xml").FoldMode,s=n("./cstyle").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end))),this.xmlFoldMode=new a};i.inherits(l,s),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,h){var f=this.getFoldWidgetBase(c,u,h);return f||this.xmlFoldMode.getFoldWidget(c,u,h)},this.getFoldWidgetRange=function(c,u,h,f){var p=this.getFoldWidgetRangeBase(c,u,h,f);return p||this.xmlFoldMode.getFoldWidgetRange(c,u,h)}}).call(l.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(n,r,o){var i=n("../lib/oop"),a=n("./text").Mode,s=n("./javascript_highlight_rules").JavaScriptHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("../worker/worker_client").WorkerClient,u=n("./behaviour/javascript").JavaScriptBehaviour,h=n("./folding/javascript").FoldMode,f=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=new u,this.foldingRules=new h};i.inherits(f,a),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(p,m,v){var g=this.$getIndent(m),b=this.getTokenizer().getLineTokens(m,p),y=b.tokens,x=b.state;if(y.length&&y[y.length-1].type=="comment")return g;if(p=="start"||p=="no_regex"){var w=m.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);w&&(g+=v)}else if(p=="doc-start"&&(x=="start"||x=="no_regex"))return"";return g},this.checkOutdent=function(p,m,v){return this.$outdent.checkOutdent(m,v)},this.autoOutdent=function(p,m,v){this.$outdent.autoOutdent(m,v)},this.createWorker=function(p){var m=new c(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return m.attachToDocument(p.getDocument()),m.on("annotate",function(v){p.setAnnotations(v.data)}),m.on("terminate",function(){p.clearAnnotations()}),m},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(f.prototype),r.Mode=f}),function(){ace.require(["ace/mode/javascript"],function(n){t&&(t.exports=n)})}()}(Bf)),Bf.exports}yA();var zf={exports:{}},vb;function xA(){return vb||(vb=1,function(t,e){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},s.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};i.inherits(s,a),s.getTagRule=function(l){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},s.getStartRule=function(l){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:l}},s.getEndRule=function(l){return{token:"comment.doc",regex:"\\*\\/",next:l}},r.JsDocCommentHighlightRules=s}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,s=n("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",c=function(f){var p={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},m=this.createKeywordMapper(p,"identifier"),v="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",g="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",b="(function)(\\s*)(\\*?)",y={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(p).join("|")+"\\b)"+l+")(\\s*)(\\()"};this.$rules={no_regex:[a.getStartRule("doc-start"),h("no_regex"),y,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+v+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:m,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[a.getStartRule("doc-start"),h("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[h("function_arguments"),{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!f||!f.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(x,w,_){if(this.next=x=="{"?this.nextState:"",x=="{"&&_.length)_.unshift("start",w);else if(x=="}"&&_.length&&(_.shift(),this.next=_.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return x=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:g},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+l+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!f||f.jsx!=!1)&&u.call(this)),this.embedRules(a,"doc-",[a.getEndRule("no_regex")]),this.normalizeRules()};i.inherits(c,s);function u(){var f=l.replace("\\d","\\d\\-"),p={onMatch:function(v,g,b){var y=v.charAt(1)=="/"?2:1;return y==1?(g!=this.nextState?b.unshift(this.next,this.nextState,0):b.unshift(this.next),b[2]++):y==2&&g==this.nextState&&(b[1]--,(!b[1]||b[1]<0)&&(b.shift(),b.shift())),[{type:"meta.tag.punctuation."+(y==1?"":"end-")+"tag-open.xml",value:v.slice(0,y)},{type:"meta.tag.tag-name.xml",value:v.substr(y)}]},regex:"</?(?:"+f+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(p);var m={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[m,p,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(v,g,b){return g==b[0]&&b.shift(),v.length==2&&(b[0]==this.nextState&&b[1]--,(!b[1]||b[1]<0)&&b.splice(0,2)),this.next=b[0]||"start",[{type:this.token,value:v}]},nextState:"jsx"},m,h("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:f},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},p],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function h(f){return[{token:"comment",regex:/\/\*/,next:[a.getTagRule(),{token:"comment",regex:"\\*\\/",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[a.getTagRule(),{token:"comment",regex:"$|^",next:f||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}r.JavaScriptHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,o){var i=n("../range").Range,a=function(){};(function(){this.checkOutdent=function(s,l){return/^\s+$/.test(s)?/^\s*\}/.test(l):!1},this.autoOutdent=function(s,l){var c=s.getLine(l),u=c.match(/^(\s*\})/);if(!u)return 0;var h=u[1].length,f=s.findMatchingBracket({row:l,column:h});if(!f||f.row==l)return 0;var p=this.$getIndent(s.getLine(f.row));s.replace(new i(l,0,l,h-1),p)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(a.prototype),r.MatchingBraceOutdent=a}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(n,r,o){var i=n("../../lib/oop"),a=n("../behaviour").Behaviour,s=n("../../token_iterator").TokenIterator;function l(u,h){return u&&u.type.lastIndexOf(h+".xml")>-1}var c=function(){this.add("string_dquotes","insertion",function(u,h,f,p,m){if(m=='"'||m=="'"){var v=m,g=p.doc.getTextRange(f.getSelectionRange());if(g!==""&&g!=="'"&&g!='"'&&f.getWrapBehavioursEnabled())return{text:v+g+v,selection:!1};var b=f.getCursorPosition(),y=p.doc.getLine(b.row),x=y.substring(b.column,b.column+1),w=new s(p,b.row,b.column),_=w.getCurrentToken();if(x==v&&(l(_,"attribute-value")||l(_,"string")))return{text:"",selection:[1,1]};if(_||(_=w.stepBackward()),!_)return;for(;l(_,"tag-whitespace")||l(_,"whitespace");)_=w.stepBackward();var k=!x||x.match(/\s/);if(l(_,"attribute-equals")&&(k||x==">")||l(_,"decl-attribute-equals")&&(k||x=="?"))return{text:v+v,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(u,h,f,p,m){var v=p.doc.getTextRange(m);if(!m.isMultiLine()&&(v=='"'||v=="'")){var g=p.doc.getLine(m.start.row),b=g.substring(m.start.column+1,m.start.column+2);if(b==v)return m.end.column++,m}}),this.add("autoclosing","insertion",function(u,h,f,p,m){if(m==">"){var v=f.getSelectionRange().start,g=new s(p,v.row,v.column),b=g.getCurrentToken()||g.stepBackward();if(!b||!(l(b,"tag-name")||l(b,"tag-whitespace")||l(b,"attribute-name")||l(b,"attribute-equals")||l(b,"attribute-value"))||l(b,"reference.attribute-value"))return;if(l(b,"attribute-value")){var y=g.getCurrentTokenColumn()+b.value.length;if(v.column<y)return;if(v.column==y){var x=g.stepForward();if(x&&l(x,"attribute-value"))return;g.stepBackward()}}if(/^\s*>/.test(p.getLine(v.row).slice(v.column)))return;for(;!l(b,"tag-name");)if(b=g.stepBackward(),b.value=="<"){b=g.stepForward();break}var w=g.getCurrentTokenRow(),_=g.getCurrentTokenColumn();if(l(g.stepBackward(),"end-tag-open"))return;var k=b.value;return w==v.row&&(k=k.substring(0,v.column-_)),this.voidElements&&this.voidElements.hasOwnProperty(k.toLowerCase())?void 0:{text:"></"+k+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(u,h,f,p,m){if(m==`
`){var v=f.getCursorPosition(),g=p.getLine(v.row),b=new s(p,v.row,v.column),y=b.getCurrentToken();if(l(y,"")&&y.type.indexOf("tag-close")!==-1){if(y.value=="/>")return;for(;y&&y.type.indexOf("tag-name")===-1;)y=b.stepBackward();if(!y)return;var x=y.value,w=b.getCurrentTokenRow();if(y=b.stepBackward(),!y||y.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[x]||!this.voidElements){var _=p.getTokenAt(v.row,v.column+1),g=p.getLine(w),k=this.$getIndent(g),E=k+p.getTabString();return _&&_.value==="</"?{text:`
`+E+`
`+k,selection:[1,E.length,1,E.length]}:{text:`
`+E}}}}})};i.inherits(c,a),r.XmlBehaviour=c}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../token_iterator").TokenIterator,s=n("../behaviour/cstyle").CstyleBehaviour,l=n("../behaviour/xml").XmlBehaviour,c=function(){var u=new l({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(u),this.inherit(s),this.add("autoclosing-fragment","insertion",function(h,f,p,m,v){if(v==">"){var g=p.getSelectionRange().start,b=new a(m,g.row,g.column),y=b.getCurrentToken()||b.stepBackward();if(!y)return;if(y.value=="<")return{text:"></>",selection:[1,1]}}})};i.inherits(c,s),r.JavaScriptBehaviour=c}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(h,f){s.call(this),this.voidElements=h||{},this.optionalEndTags=i.mixin({},this.voidElements),f&&i.mixin(this.optionalEndTags,f)};i.inherits(l,s);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function u(h,f){return h&&h.type&&h.type.lastIndexOf(f+".xml")>-1}(function(){this.getFoldWidget=function(h,f,p){var m=this._getFirstTagInLine(h,p);return m?m.closing||!m.tagName&&m.selfClosing?f==="markbeginend"?"end":"":!m.tagName||m.selfClosing||this.voidElements.hasOwnProperty(m.tagName.toLowerCase())||this._findEndTagInLine(h,p,m.tagName,m.end.column)?"":"start":this.getCommentFoldWidget(h,p)},this.getCommentFoldWidget=function(h,f){return/comment/.test(h.getState(f))&&/<!-/.test(h.getLine(f))?"start":""},this._getFirstTagInLine=function(h,f){for(var p=h.getTokens(f),m=new c,v=0;v<p.length;v++){var g=p[v];if(u(g,"tag-open")){if(m.end.column=m.start.column+g.value.length,m.closing=u(g,"end-tag-open"),g=p[++v],!g)return null;if(m.tagName=g.value,g.value===""){if(g=p[++v],!g)return null;m.tagName=g.value}for(m.end.column+=g.value.length,v++;v<p.length;v++)if(g=p[v],m.end.column+=g.value.length,u(g,"tag-close")){m.selfClosing=g.value=="/>";break}return m}else if(u(g,"tag-close"))return m.selfClosing=g.value=="/>",m;m.start.column+=g.value.length}return null},this._findEndTagInLine=function(h,f,p,m){for(var v=h.getTokens(f),g=0,b=0;b<v.length;b++){var y=v[b];if(g+=y.value.length,!(g<m-1)&&u(y,"end-tag-open")&&(y=v[b+1],u(y,"tag-name")&&y.value===""&&(y=v[b+2]),y&&y.value==p))return!0}return!1},this.getFoldWidgetRange=function(h,f,p){var m=this._getFirstTagInLine(h,p);if(!m)return this.getCommentFoldWidget(h,p)&&h.getCommentFoldRange(p,h.getLine(p).length);var v=h.getMatchingTags({row:p,column:0});if(v)return new a(v.openTag.end.row,v.openTag.end.column,v.closeTag.start.row,v.closeTag.start.column)}}).call(l.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};i.inherits(l,s),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,h){var f=c.getLine(h);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var p=this._getFoldWidgetBase(c,u,h);return!p&&this.startRegionRe.test(f)?"start":p},this.getFoldWidgetRange=function(c,u,h,f){var p=c.getLine(h);if(this.startRegionRe.test(p))return this.getCommentRegionBlock(c,p,h);var g=p.match(this.foldingStartMarker);if(g){var m=g.index;if(g[1])return this.openingBracketBlock(c,g[1],h,m);var v=c.getCommentFoldRange(h,m+g[0].length,1);return v&&!v.isMultiLine()&&(f?v=this.getSectionRange(c,h):u!="all"&&(v=null)),v}if(u!=="markbegin"){var g=p.match(this.foldingStopMarker);if(g){var m=g.index+g[0].length;return g[1]?this.closingBracketBlock(c,g[1],h,m):c.getCommentFoldRange(h,m,-1)}}},this.getSectionRange=function(c,u){var h=c.getLine(u),f=h.search(/\S/),p=u,m=h.length;u=u+1;for(var v=u,g=c.getLength();++u<g;){h=c.getLine(u);var b=h.search(/\S/);if(b!==-1){if(f>b)break;var y=this.getFoldWidgetRange(c,"all",u);if(y){if(y.start.row<=p)break;if(y.isMultiLine())u=y.end.row;else if(f==b)break}v=u}}return new a(p,m,v,c.getLine(v).length)},this.getCommentRegionBlock=function(c,u,h){for(var f=u.search(/\s*$/),p=c.getLength(),m=h,v=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++h<p;){u=c.getLine(h);var b=v.exec(u);if(b&&(b[1]?g--:g++,!g))break}var y=h;if(y>m)return new a(m,f,y,u.length)}}).call(l.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,r,o){var i=n("../../lib/oop"),a=n("./xml").FoldMode,s=n("./cstyle").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end))),this.xmlFoldMode=new a};i.inherits(l,s),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,h){var f=this.getFoldWidgetBase(c,u,h);return f||this.xmlFoldMode.getFoldWidget(c,u,h)},this.getFoldWidgetRange=function(c,u,h,f){var p=this.getFoldWidgetRangeBase(c,u,h,f);return p||this.xmlFoldMode.getFoldWidgetRange(c,u,h)}}).call(l.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(n,r,o){var i=n("../lib/oop"),a=n("./text").Mode,s=n("./javascript_highlight_rules").JavaScriptHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("../worker/worker_client").WorkerClient,u=n("./behaviour/javascript").JavaScriptBehaviour,h=n("./folding/javascript").FoldMode,f=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=new u,this.foldingRules=new h};i.inherits(f,a),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(p,m,v){var g=this.$getIndent(m),b=this.getTokenizer().getLineTokens(m,p),y=b.tokens,x=b.state;if(y.length&&y[y.length-1].type=="comment")return g;if(p=="start"||p=="no_regex"){var w=m.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);w&&(g+=v)}else if(p=="doc-start"&&(x=="start"||x=="no_regex"))return"";return g},this.checkOutdent=function(p,m,v){return this.$outdent.checkOutdent(m,v)},this.autoOutdent=function(p,m,v){this.$outdent.autoOutdent(m,v)},this.createWorker=function(p){var m=new c(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return m.attachToDocument(p.getDocument()),m.on("annotate",function(v){p.setAnnotations(v.data)}),m.on("terminate",function(){p.clearAnnotations()}),m},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(f.prototype),r.Mode=f}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop");n("../lib/lang");var a=n("./text_highlight_rules").TextHighlightRules,s=r.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",l=r.supportFunction="rgb|rgba|url|attr|counter|counters",c=r.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",u=r.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",h=r.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",f=r.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",p=r.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",m=r.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",v=function(){var g=this.createKeywordMapper({"support.function":l,"support.constant":c,"support.type":s,"support.constant.color":u,"support.constant.fonts":h},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:f},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+f+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:f},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:p},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:m},{include:"url"},{token:g,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{token:"paren.lparen",regex:"\\{"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};i.inherits(v,a),r.CssHighlightRules=v}),ace.define("ace/mode/css_completions",["require","exports","module"],function(n,r,o){var i={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},a=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var s=document.createElement("c").style;for(var l in s)if(typeof s[l]=="string"){var c=l.replace(/[A-Z]/g,function(u){return"-"+u.toLowerCase()});i.hasOwnProperty(c)||(i[c]=1)}}this.completionsDefined=!0},this.getCompletions=function(s,l,c,u){if(this.completionsDefined||this.defineCompletions(),s==="ruleset"||l.$mode.$id=="ace/mode/scss"){var h=l.getLine(c.row).substr(0,c.column),f=/\([^)]*$/.test(h);return f&&(h=h.substr(h.lastIndexOf("(")+1)),/:[^;]+$/.test(h)?this.getPropertyValueCompletions(s,l,c,u):this.getPropertyCompletions(s,l,c,u,f)}return[]},this.getPropertyCompletions=function(s,l,c,u,h){h=h||!1;var f=Object.keys(i);return f.map(function(p){return{caption:p,snippet:p+": $0"+(h?"":";"),meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(s,l,c,u){var h=l.getLine(c.row).substr(0,c.column),f=(/([\w\-]+):[^:]*$/.exec(h)||{})[1];if(!f)return[];var p=[];return f in i&&typeof i[f]=="object"&&(p=Object.keys(i[f])),p.map(function(m){return{caption:m,snippet:m,meta:"property value",score:1e6}})}}).call(a.prototype),r.CssCompletions=a}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(n,r,o){var i=n("../../lib/oop");n("../behaviour").Behaviour;var a=n("./cstyle").CstyleBehaviour,s=n("../../token_iterator").TokenIterator,l=function(){this.inherit(a),this.add("colon","insertion",function(c,u,h,f,p){if(p===":"&&h.selection.isEmpty()){var m=h.getCursorPosition(),v=new s(f,m.row,m.column),g=v.getCurrentToken();if(g&&g.value.match(/\s+/)&&(g=v.stepBackward()),g&&g.type==="support.type"){var b=f.doc.getLine(m.row),y=b.substring(m.column,m.column+1);if(y===":")return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(b.substring(m.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(c,u,h,f,p){var m=f.doc.getTextRange(p);if(!p.isMultiLine()&&m===":"){var v=h.getCursorPosition(),g=new s(f,v.row,v.column),b=g.getCurrentToken();if(b&&b.value.match(/\s+/)&&(b=g.stepBackward()),b&&b.type==="support.type"){var y=f.doc.getLine(p.start.row),x=y.substring(p.end.column,p.end.column+1);if(x===";")return p.end.column++,p}}}),this.add("semicolon","insertion",function(c,u,h,f,p){if(p===";"&&h.selection.isEmpty()){var m=h.getCursorPosition(),v=f.doc.getLine(m.row),g=v.substring(m.column,m.column+1);if(g===";")return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(c,u,h,f,p){if(p==="!"&&h.selection.isEmpty()){var m=h.getCursorPosition(),v=f.doc.getLine(m.row);if(/^\s*(;|}|$)/.test(v.substring(m.column)))return{text:"!important",selection:[10,10]}}})};i.inherits(l,a),r.CssBehaviour=l}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(n,r,o){var i=n("../lib/oop"),a=n("./text").Mode,s=n("./css_highlight_rules").CssHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("../worker/worker_client").WorkerClient,u=n("./css_completions").CssCompletions,h=n("./behaviour/css").CssBehaviour,f=n("./folding/cstyle").FoldMode,p=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=new h,this.$completer=new u,this.foldingRules=new f};i.inherits(p,a),(function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(m,v,g){var b=this.$getIndent(v),y=this.getTokenizer().getLineTokens(v,m).tokens;if(y.length&&y[y.length-1].type=="comment")return b;var x=v.match(/^.*\{\s*$/);return x&&(b+=g),b},this.checkOutdent=function(m,v,g){return this.$outdent.checkOutdent(v,g)},this.autoOutdent=function(m,v,g){this.$outdent.autoOutdent(v,g)},this.getCompletions=function(m,v,g,b){return this.$completer.getCompletions(m,v,g,b)},this.createWorker=function(m){var v=new c(["ace"],"ace/mode/css_worker","Worker");return v.attachToDocument(m.getDocument()),v.on("annotate",function(g){m.setAnnotations(g.data)}),v.on("terminate",function(){m.clearAnnotations()}),v},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}).call(p.prototype),r.Mode=p}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules,s=function(l){var c="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+c+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:c},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+c+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+c+":)?"+c+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:c},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===s&&this.normalizeRules()};(function(){this.embedTagRules=function(l,c,u){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+u+".tag-name.xml"],regex:"(<)("+u+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:c+"start"}]}),this.$rules[u+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(h,f,p){return p.splice(0),this.token}}],this.embedRules(l,c,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+u+".tag-name.xml"],regex:"(</)("+u+"(?=\\s|>|$))",next:u+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(a.prototype),i.inherits(s,a),r.XmlHighlightRules=s}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("../lib/lang"),s=n("./css_highlight_rules").CssHighlightRules,l=n("./javascript_highlight_rules").JavaScriptHighlightRules,c=n("./xml_highlight_rules").XmlHighlightRules,u=a.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),h=function(){c.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(f,p){var m=u[p];return["meta.tag.punctuation."+(f=="<"?"":"end-")+"tag-open.xml","meta.tag"+(m?"."+m:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(s,"css-","style"),this.embedTagRules(new l({jsx:!1}).getRules(),"js-","script"),this.constructor===h&&this.normalizeRules()};i.inherits(h,c),r.HtmlHighlightRules=h}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(n,r,o){var i=n("../../lib/oop"),a=n("./fold_mode").FoldMode,s=r.FoldMode=function(l,c){this.defaultMode=l,this.subModes=c};i.inherits(s,a),(function(){this.$getMode=function(l){typeof l!="string"&&(l=l[0]);for(var c in this.subModes)if(l.indexOf(c)===0)return this.subModes[c];return null},this.$tryMode=function(l,c,u,h){var f=this.$getMode(l);return f?f.getFoldWidget(c,u,h):""},this.getFoldWidget=function(l,c,u){return this.$tryMode(l.getState(u-1),l,c,u)||this.$tryMode(l.getState(u),l,c,u)||this.defaultMode.getFoldWidget(l,c,u)},this.getFoldWidgetRange=function(l,c,u){var h=this.$getMode(l.getState(u-1));return(!h||!h.getFoldWidget(l,c,u))&&(h=this.$getMode(l.getState(u))),(!h||!h.getFoldWidget(l,c,u))&&(h=this.defaultMode),h.getFoldWidgetRange(l,c,u)}}).call(s.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,r,o){var i=n("../../lib/oop"),a=n("./mixed").FoldMode,s=n("./xml").FoldMode,l=n("./cstyle").FoldMode,c=r.FoldMode=function(u,h){a.call(this,new s(u,h),{"js-":new l,"css-":new l})};i.inherits(c,a)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(n,r,o){var i=n("../token_iterator").TokenIterator,a=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],s=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],l=a.concat(s),c={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},u=Object.keys(c);function h(v,g){return v.type.lastIndexOf(g+".xml")>-1}function f(v,g){for(var b=new i(v,g.row,g.column),y=b.getCurrentToken();y&&!h(y,"tag-name");)y=b.stepBackward();if(y)return y.value}function p(v,g){for(var b=new i(v,g.row,g.column),y=b.getCurrentToken();y&&!h(y,"attribute-name");)y=b.stepBackward();if(y)return y.value}var m=function(){};(function(){this.getCompletions=function(v,g,b,y){var x=g.getTokenAt(b.row,b.column);if(!x)return[];if(h(x,"tag-name")||h(x,"tag-open")||h(x,"end-tag-open"))return this.getTagCompletions(v,g,b,y);if(h(x,"tag-whitespace")||h(x,"attribute-name"))return this.getAttributeCompletions(v,g,b,y);if(h(x,"attribute-value"))return this.getAttributeValueCompletions(v,g,b,y);var w=g.getLine(b.row).substr(0,b.column);return/&[a-z]*$/i.test(w)?this.getHTMLEntityCompletions(v,g,b,y):[]},this.getTagCompletions=function(v,g,b,y){return u.map(function(x){return{value:x,meta:"tag",score:1e6}})},this.getAttributeCompletions=function(v,g,b,y){var x=f(g,b);if(!x)return[];var w=l;return x in c&&(w=w.concat(Object.keys(c[x]))),w.map(function(_){return{caption:_,snippet:_+'="$0"',meta:"attribute",score:1e6}})},this.getAttributeValueCompletions=function(v,g,b,y){var x=f(g,b),w=p(g,b);if(!x)return[];var _=[];return x in c&&w in c[x]&&typeof c[x][w]=="object"&&(_=Object.keys(c[x][w])),_.map(function(k){return{caption:k,snippet:k,meta:"attribute value",score:1e6}})},this.getHTMLEntityCompletions=function(v,g,b,y){var x=["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"];return x.map(function(w){return{caption:w,snippet:w,meta:"html entity",score:1e6}})}}).call(m.prototype),r.HtmlCompletions=m}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(n,r,o){var i=n("../lib/oop"),a=n("../lib/lang"),s=n("./text").Mode,l=n("./javascript").Mode,c=n("./css").Mode,u=n("./html_highlight_rules").HtmlHighlightRules,h=n("./behaviour/xml").XmlBehaviour,f=n("./folding/html").FoldMode,p=n("./html_completions").HtmlCompletions,m=n("../worker/worker_client").WorkerClient,v=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],g=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],b=function(y){this.fragmentContext=y&&y.fragmentContext,this.HighlightRules=u,this.$behaviour=new h,this.$completer=new p,this.createModeDelegates({"js-":l,"css-":c}),this.foldingRules=new f(this.voidElements,a.arrayToMap(g))};i.inherits(b,s),(function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=a.arrayToMap(v),this.getNextLineIndent=function(y,x,w){return this.$getIndent(x)},this.checkOutdent=function(y,x,w){return!1},this.getCompletions=function(y,x,w,_){return this.$completer.getCompletions(y,x,w,_)},this.createWorker=function(y){if(this.constructor==b){var x=new m(["ace"],"ace/mode/html_worker","Worker");return x.attachToDocument(y.getDocument()),this.fragmentContext&&x.call("setOptions",[{context:this.fragmentContext}]),x.on("error",function(w){y.setAnnotations(w.data)}),x.on("terminate",function(){y.clearAnnotations()}),x}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}).call(b.prototype),r.Mode=b}),function(){ace.require(["ace/mode/html"],function(n){t&&(t.exports=n)})}()}(zf)),zf.exports}xA();var Uf={exports:{}},bb;function wA(){return bb||(bb=1,function(t,e){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};i.inherits(s,a),r.JsonHighlightRules=s}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,o){var i=n("../range").Range,a=function(){};(function(){this.checkOutdent=function(s,l){return/^\s+$/.test(s)?/^\s*\}/.test(l):!1},this.autoOutdent=function(s,l){var c=s.getLine(l),u=c.match(/^(\s*\})/);if(!u)return 0;var h=u[1].length,f=s.findMatchingBracket({row:l,column:h});if(!f||f.row==l)return 0;var p=this.$getIndent(s.getLine(f.row));s.replace(new i(l,0,l,h-1),p)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(a.prototype),r.MatchingBraceOutdent=a}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};i.inherits(l,s),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,h){var f=c.getLine(h);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var p=this._getFoldWidgetBase(c,u,h);return!p&&this.startRegionRe.test(f)?"start":p},this.getFoldWidgetRange=function(c,u,h,f){var p=c.getLine(h);if(this.startRegionRe.test(p))return this.getCommentRegionBlock(c,p,h);var g=p.match(this.foldingStartMarker);if(g){var m=g.index;if(g[1])return this.openingBracketBlock(c,g[1],h,m);var v=c.getCommentFoldRange(h,m+g[0].length,1);return v&&!v.isMultiLine()&&(f?v=this.getSectionRange(c,h):u!="all"&&(v=null)),v}if(u!=="markbegin"){var g=p.match(this.foldingStopMarker);if(g){var m=g.index+g[0].length;return g[1]?this.closingBracketBlock(c,g[1],h,m):c.getCommentFoldRange(h,m,-1)}}},this.getSectionRange=function(c,u){var h=c.getLine(u),f=h.search(/\S/),p=u,m=h.length;u=u+1;for(var v=u,g=c.getLength();++u<g;){h=c.getLine(u);var b=h.search(/\S/);if(b!==-1){if(f>b)break;var y=this.getFoldWidgetRange(c,"all",u);if(y){if(y.start.row<=p)break;if(y.isMultiLine())u=y.end.row;else if(f==b)break}v=u}}return new a(p,m,v,c.getLine(v).length)},this.getCommentRegionBlock=function(c,u,h){for(var f=u.search(/\s*$/),p=c.getLength(),m=h,v=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++h<p;){u=c.getLine(h);var b=v.exec(u);if(b&&(b[1]?g--:g++,!g))break}var y=h;if(y>m)return new a(m,f,y,u.length)}}).call(l.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(n,r,o){var i=n("../lib/oop"),a=n("./text").Mode,s=n("./json_highlight_rules").JsonHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("./folding/cstyle").FoldMode,u=n("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new c};i.inherits(h,a),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(f,p,m){var v=this.$getIndent(p);if(f=="start"){var g=p.match(/^.*[\{\(\[]\s*$/);g&&(v+=m)}return v},this.checkOutdent=function(f,p,m){return this.$outdent.checkOutdent(p,m)},this.autoOutdent=function(f,p,m){this.$outdent.autoOutdent(p,m)},this.createWorker=function(f){var p=new u(["ace"],"ace/mode/json_worker","JsonWorker");return p.attachToDocument(f.getDocument()),p.on("annotate",function(m){f.setAnnotations(m.data)}),p.on("terminate",function(){f.clearAnnotations()}),p},this.$id="ace/mode/json"}).call(h.prototype),r.Mode=h}),function(){ace.require(["ace/mode/json"],function(n){t&&(t.exports=n)})}()}(Uf)),Uf.exports}wA();var Hf={exports:{}},yb;function _A(){return yb||(yb=1,function(t,e){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};i.inherits(s,a),r.JsonHighlightRules=s}),ace.define("ace/mode/json5_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/json_highlight_rules"],function(n,r,o){var i=n("../lib/oop"),a=n("./json_highlight_rules").JsonHighlightRules,s=function(){a.call(this);var l=[{token:"variable",regex:/[a-zA-Z$_\u00a1-\uffff][\w$\u00a1-\uffff]*\s*(?=:)/},{token:"variable",regex:/['](?:(?:\\.)|(?:[^'\\]))*?[']\s*(?=:)/},{token:"constant.language.boolean",regex:/(?:null)\b/},{token:"string",regex:/'/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/'|$/,next:"start"},{defaultToken:"string"}]},{token:"string",regex:/"(?![^"]*":)/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/"|$/,next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:/[+-]?(?:Infinity|NaN)\b/}];for(var c in this.$rules)this.$rules[c].unshift.apply(this.$rules[c],l);this.normalizeRules()};i.inherits(s,a),r.Json5HighlightRules=s}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,o){var i=n("../range").Range,a=function(){};(function(){this.checkOutdent=function(s,l){return/^\s+$/.test(s)?/^\s*\}/.test(l):!1},this.autoOutdent=function(s,l){var c=s.getLine(l),u=c.match(/^(\s*\})/);if(!u)return 0;var h=u[1].length,f=s.findMatchingBracket({row:l,column:h});if(!f||f.row==l)return 0;var p=this.$getIndent(s.getLine(f.row));s.replace(new i(l,0,l,h-1),p)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(a.prototype),r.MatchingBraceOutdent=a}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,o){var i=n("../../lib/oop"),a=n("../../range").Range,s=n("./fold_mode").FoldMode,l=r.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};i.inherits(l,s),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,u,h){var f=c.getLine(h);if(this.singleLineBlockCommentRe.test(f)&&!this.startRegionRe.test(f)&&!this.tripleStarBlockCommentRe.test(f))return"";var p=this._getFoldWidgetBase(c,u,h);return!p&&this.startRegionRe.test(f)?"start":p},this.getFoldWidgetRange=function(c,u,h,f){var p=c.getLine(h);if(this.startRegionRe.test(p))return this.getCommentRegionBlock(c,p,h);var g=p.match(this.foldingStartMarker);if(g){var m=g.index;if(g[1])return this.openingBracketBlock(c,g[1],h,m);var v=c.getCommentFoldRange(h,m+g[0].length,1);return v&&!v.isMultiLine()&&(f?v=this.getSectionRange(c,h):u!="all"&&(v=null)),v}if(u!=="markbegin"){var g=p.match(this.foldingStopMarker);if(g){var m=g.index+g[0].length;return g[1]?this.closingBracketBlock(c,g[1],h,m):c.getCommentFoldRange(h,m,-1)}}},this.getSectionRange=function(c,u){var h=c.getLine(u),f=h.search(/\S/),p=u,m=h.length;u=u+1;for(var v=u,g=c.getLength();++u<g;){h=c.getLine(u);var b=h.search(/\S/);if(b!==-1){if(f>b)break;var y=this.getFoldWidgetRange(c,"all",u);if(y){if(y.start.row<=p)break;if(y.isMultiLine())u=y.end.row;else if(f==b)break}v=u}}return new a(p,m,v,c.getLine(v).length)},this.getCommentRegionBlock=function(c,u,h){for(var f=u.search(/\s*$/),p=c.getLength(),m=h,v=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++h<p;){u=c.getLine(h);var b=v.exec(u);if(b&&(b[1]?g--:g++,!g))break}var y=h;if(y>m)return new a(m,f,y,u.length)}}).call(l.prototype)}),ace.define("ace/mode/json5",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json5_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle"],function(n,r,o){var i=n("../lib/oop"),a=n("./text").Mode,s=n("./json5_highlight_rules").Json5HighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,c=n("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=s,this.$outdent=new l,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new c};i.inherits(u,a),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.checkOutdent=function(h,f,p){return this.$outdent.checkOutdent(f,p)},this.autoOutdent=function(h,f,p){this.$outdent.autoOutdent(f,p)},this.$id="ace/mode/json5"}).call(u.prototype),r.Mode=u}),function(){ace.require(["ace/mode/json5"],function(n){t&&(t.exports=n)})}()}(Hf)),Hf.exports}_A();var Wf={exports:{}},xb;function kA(){return xb||(xb=1,function(t,e){ace.define("ace/theme/tomorrow_night-css",["require","exports","module"],function(n,r,o){o.exports=`.ace-tomorrow-night .ace_gutter {
  background: #25282c;
  color: #C5C8C6
}

.ace-tomorrow-night .ace_print-margin {
  width: 1px;
  background: #25282c
}

.ace-tomorrow-night {
  background-color: #1D1F21;
  color: #C5C8C6
}

.ace-tomorrow-night .ace_cursor {
  color: #AEAFAD
}

.ace-tomorrow-night .ace_marker-layer .ace_selection {
  background: #373B41
}

.ace-tomorrow-night.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #1D1F21;
}

.ace-tomorrow-night .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-tomorrow-night .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #4B4E55
}

.ace-tomorrow-night .ace_marker-layer .ace_active-line {
  background: #282A2E
}

.ace-tomorrow-night .ace_gutter-active-line {
  background-color: #282A2E
}

.ace-tomorrow-night .ace_marker-layer .ace_selected-word {
  border: 1px solid #373B41
}

.ace-tomorrow-night .ace_invisible {
  color: #4B4E55
}

.ace-tomorrow-night .ace_keyword,
.ace-tomorrow-night .ace_meta,
.ace-tomorrow-night .ace_storage,
.ace-tomorrow-night .ace_storage.ace_type,
.ace-tomorrow-night .ace_support.ace_type {
  color: #B294BB
}

.ace-tomorrow-night .ace_keyword.ace_operator {
  color: #8ABEB7
}

.ace-tomorrow-night .ace_constant.ace_character,
.ace-tomorrow-night .ace_constant.ace_language,
.ace-tomorrow-night .ace_constant.ace_numeric,
.ace-tomorrow-night .ace_keyword.ace_other.ace_unit,
.ace-tomorrow-night .ace_support.ace_constant,
.ace-tomorrow-night .ace_variable.ace_parameter {
  color: #DE935F
}

.ace-tomorrow-night .ace_constant.ace_other {
  color: #CED1CF
}

.ace-tomorrow-night .ace_invalid {
  color: #CED2CF;
  background-color: #DF5F5F
}

.ace-tomorrow-night .ace_invalid.ace_deprecated {
  color: #CED2CF;
  background-color: #B798BF
}

.ace-tomorrow-night .ace_fold {
  background-color: #81A2BE;
  border-color: #C5C8C6
}

.ace-tomorrow-night .ace_entity.ace_name.ace_function,
.ace-tomorrow-night .ace_support.ace_function,
.ace-tomorrow-night .ace_variable {
  color: #81A2BE
}

.ace-tomorrow-night .ace_support.ace_class,
.ace-tomorrow-night .ace_support.ace_type {
  color: #F0C674
}

.ace-tomorrow-night .ace_heading,
.ace-tomorrow-night .ace_markup.ace_heading,
.ace-tomorrow-night .ace_string {
  color: #B5BD68
}

.ace-tomorrow-night .ace_entity.ace_name.ace_tag,
.ace-tomorrow-night .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow-night .ace_meta.ace_tag,
.ace-tomorrow-night .ace_string.ace_regexp,
.ace-tomorrow-night .ace_variable {
  color: #CC6666
}

.ace-tomorrow-night .ace_comment {
  color: #969896
}

.ace-tomorrow-night .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-tomorrow-night .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/tomorrow_night",["require","exports","module","ace/theme/tomorrow_night-css","ace/lib/dom"],function(n,r,o){r.isDark=!0,r.cssClass="ace-tomorrow-night",r.cssText=n("./tomorrow_night-css");var i=n("../lib/dom");i.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow_night"],function(n){t&&(t.exports=n)})}()}(Wf)),Wf.exports}kA();var Vf={exports:{}},wb;function CA(){return wb||(wb=1,function(t,e){ace.define("ace/theme/tomorrow-css",["require","exports","module"],function(n,r,o){o.exports=`.ace-tomorrow .ace_gutter {
  background: #f6f6f6;
  color: #4D4D4C
}

.ace-tomorrow .ace_print-margin {
  width: 1px;
  background: #f6f6f6
}

.ace-tomorrow {
  background-color: #FFFFFF;
  color: #4D4D4C
}

.ace-tomorrow .ace_cursor {
  color: #AEAFAD
}

.ace-tomorrow .ace_marker-layer .ace_selection {
  background: #D6D6D6
}

.ace-tomorrow.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #FFFFFF;
}

.ace-tomorrow .ace_marker-layer .ace_step {
  background: rgb(255, 255, 0)
}

.ace-tomorrow .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #D1D1D1
}

.ace-tomorrow .ace_marker-layer .ace_active-line {
  background: #EFEFEF
}

.ace-tomorrow .ace_gutter-active-line {
  background-color : #dcdcdc
}

.ace-tomorrow .ace_marker-layer .ace_selected-word {
  border: 1px solid #D6D6D6
}

.ace-tomorrow .ace_invisible {
  color: #D1D1D1
}

.ace-tomorrow .ace_keyword,
.ace-tomorrow .ace_meta,
.ace-tomorrow .ace_storage,
.ace-tomorrow .ace_storage.ace_type,
.ace-tomorrow .ace_support.ace_type {
  color: #8959A8
}

.ace-tomorrow .ace_keyword.ace_operator {
  color: #3E999F
}

.ace-tomorrow .ace_constant.ace_character,
.ace-tomorrow .ace_constant.ace_language,
.ace-tomorrow .ace_constant.ace_numeric,
.ace-tomorrow .ace_keyword.ace_other.ace_unit,
.ace-tomorrow .ace_support.ace_constant,
.ace-tomorrow .ace_variable.ace_parameter {
  color: #F5871F
}

.ace-tomorrow .ace_constant.ace_other {
  color: #666969
}

.ace-tomorrow .ace_invalid {
  color: #FFFFFF;
  background-color: #C82829
}

.ace-tomorrow .ace_invalid.ace_deprecated {
  color: #FFFFFF;
  background-color: #8959A8
}

.ace-tomorrow .ace_fold {
  background-color: #4271AE;
  border-color: #4D4D4C
}

.ace-tomorrow .ace_entity.ace_name.ace_function,
.ace-tomorrow .ace_support.ace_function,
.ace-tomorrow .ace_variable {
  color: #4271AE
}

.ace-tomorrow .ace_support.ace_class,
.ace-tomorrow .ace_support.ace_type {
  color: #C99E00
}

.ace-tomorrow .ace_heading,
.ace-tomorrow .ace_markup.ace_heading,
.ace-tomorrow .ace_string {
  color: #718C00
}

.ace-tomorrow .ace_entity.ace_name.ace_tag,
.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow .ace_meta.ace_tag,
.ace-tomorrow .ace_string.ace_regexp,
.ace-tomorrow .ace_variable {
  color: #C82829
}

.ace-tomorrow .ace_comment {
  color: #8E908C
}

.ace-tomorrow .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y
}

.ace-tomorrow .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/tomorrow",["require","exports","module","ace/theme/tomorrow-css","ace/lib/dom"],function(n,r,o){r.isDark=!1,r.cssClass="ace-tomorrow",r.cssText=n("./tomorrow-css");var i=n("../lib/dom");i.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow"],function(n){t&&(t.exports=n)})}()}(Vf)),Vf.exports}CA();var Xf={exports:{}},_b;function SA(){return _b||(_b=1,function(t,e){ace.define("ace/ext/searchbox-css",["require","exports","module"],function(n,r,o){o.exports=`

/* ------------------------------------------------------------------------------------------
 * Editor Search Form
 * --------------------------------------------------------------------------------------- */
.ace_search {
    background-color: #ddd;
    color: #666;
    border: 1px solid #cbcbcb;
    border-top: 0 none;
    overflow: hidden;
    margin: 0;
    padding: 4px 6px 0 4px;
    position: absolute;
    top: 0;
    z-index: 99;
    white-space: normal;
}
.ace_search.left {
    border-left: 0 none;
    border-radius: 0px 0px 5px 0px;
    left: 0;
}
.ace_search.right {
    border-radius: 0px 0px 0px 5px;
    border-right: 0 none;
    right: 0;
}

.ace_search_form, .ace_replace_form {
    margin: 0 20px 4px 0;
    overflow: hidden;
    line-height: 1.9;
}
.ace_replace_form {
    margin-right: 0;
}
.ace_search_form.ace_nomatch {
    outline: 1px solid red;
}

.ace_search_field {
    border-radius: 3px 0 0 3px;
    background-color: white;
    color: black;
    border: 1px solid #cbcbcb;
    border-right: 0 none;
    outline: 0;
    padding: 0;
    font-size: inherit;
    margin: 0;
    line-height: inherit;
    padding: 0 6px;
    min-width: 17em;
    vertical-align: top;
    min-height: 1.8em;
    box-sizing: content-box;
}
.ace_searchbtn {
    border: 1px solid #cbcbcb;
    line-height: inherit;
    display: inline-block;
    padding: 0 6px;
    background: #fff;
    border-right: 0 none;
    border-left: 1px solid #dcdcdc;
    cursor: pointer;
    margin: 0;
    position: relative;
    color: #666;
}
.ace_searchbtn:last-child {
    border-radius: 0 3px 3px 0;
    border-right: 1px solid #cbcbcb;
}
.ace_searchbtn:disabled {
    background: none;
    cursor: default;
}
.ace_searchbtn:hover {
    background-color: #eef1f6;
}
.ace_searchbtn.prev, .ace_searchbtn.next {
     padding: 0px 0.7em
}
.ace_searchbtn.prev:after, .ace_searchbtn.next:after {
     content: "";
     border: solid 2px #888;
     width: 0.5em;
     height: 0.5em;
     border-width:  2px 0 0 2px;
     display:inline-block;
     transform: rotate(-45deg);
}
.ace_searchbtn.next:after {
     border-width: 0 2px 2px 0 ;
}
.ace_searchbtn_close {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;
    border-radius: 50%;
    border: 0 none;
    color: #656565;
    cursor: pointer;
    font: 16px/16px Arial;
    padding: 0;
    height: 14px;
    width: 14px;
    top: 9px;
    right: 7px;
    position: absolute;
}
.ace_searchbtn_close:hover {
    background-color: #656565;
    background-position: 50% 100%;
    color: white;
}

.ace_button {
    margin-left: 2px;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
    overflow: hidden;
    opacity: 0.7;
    border: 1px solid rgba(100,100,100,0.23);
    padding: 1px;
    box-sizing:    border-box!important;
    color: black;
}

.ace_button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_button:active {
    background-color: #ddd;
}

.ace_button.checked {
    border-color: #3399ff;
    opacity:1;
}

.ace_search_options{
    margin-bottom: 3px;
    text-align: right;
    -webkit-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
    clear: both;
}

.ace_search_counter {
    float: left;
    font-family: arial;
    padding: 0 8px;
}`}),ace.define("ace/ext/searchbox",["require","exports","module","ace/ext/searchbox","ace/ext/searchbox","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/ext/searchbox-css","ace/keyboard/hash_handler","ace/lib/keys","ace/config"],function(n,r,o){var i=n("../lib/dom"),a=n("../lib/lang"),s=n("../lib/event"),l=n("./searchbox-css"),c=n("../keyboard/hash_handler").HashHandler,u=n("../lib/keys"),h=n("../config").nls,f=999;i.importCssString(l,"ace_searchbox",!1);var p=function(){function g(b,y,x){this.activeInput,this.element=i.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:h("search-box.find.placeholder","Search for"),spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"​"],["span",{action:"findNext",class:"ace_searchbtn next"},"​"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},h("search-box.find-all.text","All")]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:h("search-box.replace.placeholder","Replace with"),spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},h("search-box.replace-next.text","Replace")],["span",{action:"replaceAll",class:"ace_searchbtn"},h("search-box.replace-all.text","All")]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:h("search-box.toggle-replace.title","Toggle Replace mode"),style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:h("search-box.toggle-regexp.title","RegExp Search")},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:h("search-box.toggle-case.title","CaseSensitive Search")},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:h("search-box.toggle-whole-word.title","Whole Word Search")},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:h("search-box.toggle-in-selection.title","Search In Selection")},"S"]]]),this.setSession=this.setSession.bind(this),this.$onEditorInput=this.onEditorInput.bind(this),this.$init(),this.setEditor(b),i.importCssString(l,"ace_searchbox",b.container),s.addListener(this.element,"touchstart",function(w){w.stopPropagation()},b)}return g.prototype.setEditor=function(b){b.searchBox=this,b.renderer.scroller.appendChild(this.element),this.editor=b},g.prototype.setSession=function(b){this.searchRange=null,this.$syncOptions(!0)},g.prototype.onEditorInput=function(){this.find(!1,!1,!0)},g.prototype.$initElements=function(b){this.searchBox=b.querySelector(".ace_search_form"),this.replaceBox=b.querySelector(".ace_replace_form"),this.searchOption=b.querySelector("[action=searchInSelection]"),this.replaceOption=b.querySelector("[action=toggleReplace]"),this.regExpOption=b.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=b.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=b.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=b.querySelector(".ace_search_counter")},g.prototype.$init=function(){var b=this.element;this.$initElements(b);var y=this;s.addListener(b,"mousedown",function(x){setTimeout(function(){y.activeInput.focus()},0),s.stopPropagation(x)}),s.addListener(b,"click",function(x){var w=x.target||x.srcElement,_=w.getAttribute("action");_&&y[_]?y[_]():y.$searchBarKb.commands[_]&&y.$searchBarKb.commands[_].exec(y),s.stopPropagation(x)}),s.addCommandKeyListener(b,function(x,w,_){var k=u.keyCodeToString(_),E=y.$searchBarKb.findKeyCommand(w,k);E&&E.exec&&(E.exec(y),s.stopEvent(x))}),this.$onChange=a.delayedCall(function(){y.find(!1,!1)}),s.addListener(this.searchInput,"input",function(){y.$onChange.schedule(20)}),s.addListener(this.searchInput,"focus",function(){y.activeInput=y.searchInput,y.searchInput.value&&y.highlight()}),s.addListener(this.replaceInput,"focus",function(){y.activeInput=y.replaceInput,y.searchInput.value&&y.highlight()})},g.prototype.setSearchRange=function(b){this.searchRange=b,b?this.searchRangeMarker=this.editor.session.addMarker(b,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},g.prototype.$syncOptions=function(b){i.setCssClass(this.replaceOption,"checked",this.searchRange),i.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",i.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),i.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),i.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var y=this.editor.getReadOnly();this.replaceOption.style.display=y?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!y?"":"none",this.find(!1,!1,b)},g.prototype.highlight=function(b){this.editor.session.highlight(b||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},g.prototype.find=function(b,y,x){var w=this.editor.find(this.searchInput.value,{skipCurrent:b,backwards:y,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:x,range:this.searchRange}),_=!w&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",_),this.editor._emit("findSearchBox",{match:!_}),this.highlight(),this.updateCounter()},g.prototype.updateCounter=function(){var b=this.editor,y=b.$search.$options.re,x=y.unicode,w=0,_=0;if(y){var k=this.searchRange?b.session.getTextRange(this.searchRange):b.getValue();b.$search.$isMultilineSearch(b.getLastSearchOptions())&&(k=k.replace(/\r\n|\r|\n/g,`
`),b.session.doc.$autoNewLine=`
`);var E=b.session.doc.positionToIndex(b.selection.anchor);this.searchRange&&(E-=b.session.doc.positionToIndex(this.searchRange.start));for(var $=y.lastIndex=0,A;(A=y.exec(k))&&(w++,$=A.index,$<=E&&_++,!(w>f||!A[0]&&(y.lastIndex=$+=a.skipEmptyMatch(k,$,x),$>=k.length))););}this.searchCounter.textContent=h("search-box.search-counter","$0 of $1",[_,w>f?f+"+":w])},g.prototype.findNext=function(){this.find(!0,!1)},g.prototype.findPrev=function(){this.find(!0,!0)},g.prototype.findAll=function(){var b=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),y=!b&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",y),this.editor._emit("findSearchBox",{match:!y}),this.highlight(),this.hide()},g.prototype.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},g.prototype.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},g.prototype.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},g.prototype.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.editor.off("input",this.$onEditorInput),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},g.prototype.show=function(b,y){this.active=!0,this.editor.on("changeSession",this.setSession),this.editor.on("input",this.$onEditorInput),this.element.style.display="",this.replaceOption.checked=y,this.editor.$search.$options.regExp&&(b=a.escapeRegExp(b)),b!=null&&(this.searchInput.value=b),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},g.prototype.isFocused=function(){var b=document.activeElement;return b==this.searchInput||b==this.replaceInput},g}(),m=new c;m.bindKeys({"Ctrl-f|Command-f":function(g){var b=g.isReplace=!g.isReplace;g.replaceBox.style.display=b?"":"none",g.replaceOption.checked=!1,g.$syncOptions(),g.searchInput.focus()},"Ctrl-H|Command-Option-F":function(g){g.editor.getReadOnly()||(g.replaceOption.checked=!0,g.$syncOptions(),g.replaceInput.focus())},"Ctrl-G|Command-G":function(g){g.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(g){g.findPrev()},esc:function(g){setTimeout(function(){g.hide()})},Return:function(g){g.activeInput==g.replaceInput&&g.replace(),g.findNext()},"Shift-Return":function(g){g.activeInput==g.replaceInput&&g.replace(),g.findPrev()},"Alt-Return":function(g){g.activeInput==g.replaceInput&&g.replaceAll(),g.findAll()},Tab:function(g){(g.activeInput==g.replaceInput?g.searchInput:g.replaceInput).focus()}}),m.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(g){g.regExpOption.checked=!g.regExpOption.checked,g.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(g){g.caseSensitiveOption.checked=!g.caseSensitiveOption.checked,g.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(g){g.wholeWordOption.checked=!g.wholeWordOption.checked,g.$syncOptions()}},{name:"toggleReplace",exec:function(g){g.replaceOption.checked=!g.replaceOption.checked,g.$syncOptions()}},{name:"searchInSelection",exec:function(g){g.searchOption.checked=!g.searchRange,g.setSearchRange(g.searchOption.checked&&g.editor.getSelectionRange()),g.$syncOptions()}}]);var v=new c([{bindKey:"Esc",name:"closeSearchBar",exec:function(g){g.searchBox.hide()}}]);p.prototype.$searchBarKb=m,p.prototype.$closeSearchBarKb=v,r.SearchBox=p,r.Search=function(g,b){var y=g.searchBox||new p(g),x=g.session.selection.getRange(),w=x.isMultiLine()?"":g.session.getTextRange(x);y.show(w,b)}}),function(){ace.require(["ace/ext/searchbox"],function(n){t&&(t.exports=n)})}()}(Xf)),Xf.exports}SA();var Yf={exports:{}},kb;function EA(){return kb||(kb=1,function(t,e){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(n,r,o){var i=n("./lib/dom"),a=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,l=n("./lib/lang"),c=n("./range").Range,u=n("./range_list").RangeList,h=n("./keyboard/hash_handler").HashHandler,f=n("./tokenizer").Tokenizer,p=n("./clipboard"),m={CURRENT_WORD:function(k){return k.session.getTextRange(k.session.getWordRange())},SELECTION:function(k,E,$){var A=k.session.getTextRange();return $?A.replace(/\n\r?([ \t]*\S)/g,`
`+$+"$1"):A},CURRENT_LINE:function(k){return k.session.getLine(k.getCursorPosition().row)},PREV_LINE:function(k){return k.session.getLine(k.getCursorPosition().row-1)},LINE_INDEX:function(k){return k.getCursorPosition().row},LINE_NUMBER:function(k){return k.getCursorPosition().row+1},SOFT_TABS:function(k){return k.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(k){return k.session.getTabSize()},CLIPBOARD:function(k){return p.getText&&p.getText()},FILENAME:function(k){return/[^/\\]*$/.exec(this.FILEPATH(k))[0]},FILENAME_BASE:function(k){return/[^/\\]*$/.exec(this.FILEPATH(k))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(k){return this.FILEPATH(k).replace(/[^/\\]*$/,"")},FILEPATH:function(k){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(k){var E=k.session.$mode||{};return E.blockComment&&E.blockComment.start||""},BLOCK_COMMENT_END:function(k){var E=k.session.$mode||{};return E.blockComment&&E.blockComment.end||""},LINE_COMMENT:function(k){var E=k.session.$mode||{};return E.lineCommentStart||""},CURRENT_YEAR:v.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:v.bind(null,{year:"2-digit"}),CURRENT_MONTH:v.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:v.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:v.bind(null,{month:"short"}),CURRENT_DATE:v.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:v.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:v.bind(null,{weekday:"short"}),CURRENT_HOUR:v.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:v.bind(null,{minute:"2-digit"}),CURRENT_SECOND:v.bind(null,{second:"2-digit"})};m.SELECTED_TEXT=m.SELECTION;function v(k){var E=new Date().toLocaleString("en-us",k);return E.length==1?"0"+E:E}var g=function(){function k(){this.snippetMap={},this.snippetNameMap={},this.variables=m}return k.prototype.getTokenizer=function(){return k.$tokenizer||this.createTokenizer()},k.prototype.createTokenizer=function(){function E(D){return D=D.substr(1),/^\d+$/.test(D)?[{tabstopId:parseInt(D,10)}]:[{text:D}]}function $(D){return"(?:[^\\\\"+D+"]|\\\\.)"}var A={regex:"/("+$("/")+"+)/",onMatch:function(D,O,S){var T=S[0];return T.fmtString=!0,T.guard=D.slice(1,-1),T.flag="",""},next:"formatString"};return k.$tokenizer=new f({start:[{regex:/\\./,onMatch:function(D,O,S){var T=D[1];return(T=="}"&&S.length||"`$\\".indexOf(T)!=-1)&&(D=T),[D]}},{regex:/}/,onMatch:function(D,O,S){return[S.length?S.shift():D]}},{regex:/\$(?:\d+|\w+)/,onMatch:E},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(D,O,S){var T=E(D.substr(1));return S.unshift(T[0]),T},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+$("\\|")+"*\\|",onMatch:function(D,O,S){var T=D.slice(1,-1).replace(/\\[,|\\]|,/g,function(C){return C.length==2?C[1]:"\0"}).split("\0").map(function(C){return{value:C}});return S[0].choices=T,[T[0]]},next:"start"},A,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(D,O,S){return S.length&&S[0].expectElse?(S[0].expectElse=!1,S[0].ifEnd={elseEnd:S[0]},[S[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(D,O,S){var T=D[1];return T=="}"&&S.length||"`$\\".indexOf(T)!=-1?D=T:T=="n"?D=`
`:T=="t"?D="	":"ulULE".indexOf(T)!=-1&&(D={changeCase:T,local:T>"a"}),[D]}},{regex:"/\\w*}",onMatch:function(D,O,S){var T=S.shift();return T&&(T.flag=D.slice(1,-1)),this.next=T&&T.tabstopId?"start":"",[T||D]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(D,O,S){return[{text:D.slice(1)}]}},{regex:/\${\w+/,onMatch:function(D,O,S){var T={text:D.slice(2)};return S.unshift(T),[T]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(D,O,S){var T=S.shift();return this.next=T&&T.tabstopId?"start":"",[T||D]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(D,O,S){var T=S[0];return T.formatFunction=D.slice(2,-1),[S.shift()]},next:"formatString"},A,{regex:/:[\?\-+]?/,onMatch:function(D,O,S){D[1]=="+"&&(S[0].ifEnd=S[0]),D[1]=="?"&&(S[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),k.$tokenizer},k.prototype.tokenizeTmSnippet=function(E,$){return this.getTokenizer().getLineTokens(E,$).tokens.map(function(A){return A.value||A})},k.prototype.getVariableValue=function(E,$,A){if(/^\d+$/.test($))return(this.variables.__||{})[$]||"";if(/^[A-Z]\d+$/.test($))return(this.variables[$[0]+"__"]||{})[$.substr(1)]||"";if($=$.replace(/^TM_/,""),!this.variables.hasOwnProperty($))return"";var D=this.variables[$];return typeof D=="function"&&(D=this.variables[$](E,$,A)),D??""},k.prototype.tmStrFormat=function(E,$,A){if(!$.fmt)return E;var D=$.flag||"",O=$.guard;O=new RegExp(O,D.replace(/[^gim]/g,""));var S=typeof $.fmt=="string"?this.tokenizeTmSnippet($.fmt,"formatString"):$.fmt,T=this,C=E.replace(O,function(){var M=T.variables.__;T.variables.__=[].slice.call(arguments);for(var R=T.resolveVariables(S,A),L="E",P=0;P<R.length;P++){var N=R[P];if(typeof N=="object")if(R[P]="",N.changeCase&&N.local){var j=R[P+1];j&&typeof j=="string"&&(N.changeCase=="u"?R[P]=j[0].toUpperCase():R[P]=j[0].toLowerCase(),R[P+1]=j.substr(1))}else N.changeCase&&(L=N.changeCase);else L=="U"?R[P]=N.toUpperCase():L=="L"&&(R[P]=N.toLowerCase())}return T.variables.__=M,R.join("")});return C},k.prototype.tmFormatFunction=function(E,$,A){return $.formatFunction=="upcase"?E.toUpperCase():$.formatFunction=="downcase"?E.toLowerCase():E},k.prototype.resolveVariables=function(E,$){for(var A=[],D="",O=!0,S=0;S<E.length;S++){var T=E[S];if(typeof T=="string"){A.push(T),T==`
`?(O=!0,D=""):O&&(D=/^\t*/.exec(T)[0],O=/\S/.test(T));continue}if(T){if(O=!1,T.fmtString){var C=E.indexOf(T,S+1);C==-1&&(C=E.length),T.fmt=E.slice(S+1,C),S=C}if(T.text){var M=this.getVariableValue($,T.text,D)+"";T.fmtString&&(M=this.tmStrFormat(M,T,$)),T.formatFunction&&(M=this.tmFormatFunction(M,T,$)),M&&!T.ifEnd?(A.push(M),R(T)):!M&&T.ifEnd&&R(T.ifEnd)}else T.elseEnd?R(T.elseEnd):(T.tabstopId!=null||T.changeCase!=null)&&A.push(T)}}function R(L){var P=E.indexOf(L,S+1);P!=-1&&(S=P)}return A},k.prototype.getDisplayTextForSnippet=function(E,$){var A=b.call(this,E,$);return A.text},k.prototype.insertSnippetForSelection=function(E,$,A){A===void 0&&(A={});var D=b.call(this,E,$,A),O=E.getSelectionRange(),S=E.session.replace(O,D.text),T=new y(E),C=E.inVirtualSelectionMode&&E.selection.index;T.addTabstops(D.tabstops,O.start,S,C)},k.prototype.insertSnippet=function(E,$,A){A===void 0&&(A={});var D=this;if(E.inVirtualSelectionMode)return D.insertSnippetForSelection(E,$,A);E.forEachSelection(function(){D.insertSnippetForSelection(E,$,A)},null,{keepOrder:!0}),E.tabstopManager&&E.tabstopManager.tabNext()},k.prototype.$getScope=function(E){var $=E.session.$mode.$id||"";if($=$.split("/").pop(),$==="html"||$==="php"){$==="php"&&!E.session.$mode.inlinePhp&&($="html");var A=E.getCursorPosition(),D=E.session.getState(A.row);typeof D=="object"&&(D=D[0]),D.substring&&(D.substring(0,3)=="js-"?$="javascript":D.substring(0,4)=="css-"?$="css":D.substring(0,4)=="php-"&&($="php"))}return $},k.prototype.getActiveScopes=function(E){var $=this.$getScope(E),A=[$],D=this.snippetMap;return D[$]&&D[$].includeScopes&&A.push.apply(A,D[$].includeScopes),A.push("_"),A},k.prototype.expandWithTab=function(E,$){var A=this,D=E.forEachSelection(function(){return A.expandSnippetForSelection(E,$)},null,{keepOrder:!0});return D&&E.tabstopManager&&E.tabstopManager.tabNext(),D},k.prototype.expandSnippetForSelection=function(E,$){var A=E.getCursorPosition(),D=E.session.getLine(A.row),O=D.substring(0,A.column),S=D.substr(A.column),T=this.snippetMap,C;return this.getActiveScopes(E).some(function(M){var R=T[M];return R&&(C=this.findMatchingSnippet(R,O,S)),!!C},this),C?($&&$.dryRun||(E.session.doc.removeInLine(A.row,A.column-C.replaceBefore.length,A.column+C.replaceAfter.length),this.variables.M__=C.matchBefore,this.variables.T__=C.matchAfter,this.insertSnippetForSelection(E,C.content),this.variables.M__=this.variables.T__=null),!0):!1},k.prototype.findMatchingSnippet=function(E,$,A){for(var D=E.length;D--;){var O=E[D];if(!(O.startRe&&!O.startRe.test($))&&!(O.endRe&&!O.endRe.test(A))&&!(!O.startRe&&!O.endRe))return O.matchBefore=O.startRe?O.startRe.exec($):[""],O.matchAfter=O.endRe?O.endRe.exec(A):[""],O.replaceBefore=O.triggerRe?O.triggerRe.exec($)[0]:"",O.replaceAfter=O.endTriggerRe?O.endTriggerRe.exec(A)[0]:"",O}},k.prototype.register=function(E,$){var A=this.snippetMap,D=this.snippetNameMap,O=this;E||(E=[]);function S(M){return M&&!/^\^?\(.*\)\$?$|^\\b$/.test(M)&&(M="(?:"+M+")"),M||""}function T(M,R,L){return M=S(M),R=S(R),M=R+M,M&&M[M.length-1]!="$"&&(M=M+"$"),new RegExp(M)}function C(M){M.scope||(M.scope=$||"_"),$=M.scope,A[$]||(A[$]=[],D[$]={});var R=D[$];if(M.name){var L=R[M.name];L&&O.unregister(L),R[M.name]=M}A[$].push(M),M.prefix&&(M.tabTrigger=M.prefix),!M.content&&M.body&&(M.content=Array.isArray(M.body)?M.body.join(`
`):M.body),M.tabTrigger&&!M.trigger&&(!M.guard&&/^\w/.test(M.tabTrigger)&&(M.guard="\\b"),M.trigger=l.escapeRegExp(M.tabTrigger)),!(!M.trigger&&!M.guard&&!M.endTrigger&&!M.endGuard)&&(M.startRe=T(M.trigger,M.guard),M.triggerRe=new RegExp(M.trigger),M.endRe=T(M.endTrigger,M.endGuard),M.endTriggerRe=new RegExp(M.endTrigger))}Array.isArray(E)?E.forEach(C):Object.keys(E).forEach(function(M){C(E[M])}),this._signal("registerSnippets",{scope:$})},k.prototype.unregister=function(E,$){var A=this.snippetMap,D=this.snippetNameMap;function O(S){var T=D[S.scope||$];if(T&&T[S.name]){delete T[S.name];var C=A[S.scope||$],M=C&&C.indexOf(S);M>=0&&C.splice(M,1)}}E.content?O(E):Array.isArray(E)&&E.forEach(O)},k.prototype.parseSnippetFile=function(E){E=E.replace(/\r/g,"");for(var $=[],A={},D=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,O;O=D.exec(E);){if(O[1])try{A=JSON.parse(O[1]),$.push(A)}catch{}if(O[4])A.content=O[4].replace(/^\t/gm,""),$.push(A),A={};else{var S=O[2],T=O[3];if(S=="regex"){var C=/\/((?:[^\/\\]|\\.)*)|$/g;A.guard=C.exec(T)[1],A.trigger=C.exec(T)[1],A.endTrigger=C.exec(T)[1],A.endGuard=C.exec(T)[1]}else S=="snippet"?(A.tabTrigger=T.match(/^\S*/)[0],A.name||(A.name=T)):S&&(A[S]=T)}}return $},k.prototype.getSnippetByName=function(E,$){var A=this.snippetNameMap,D;return this.getActiveScopes($).some(function(O){var S=A[O];return S&&(D=S[E]),!!D},this),D},k}();a.implement(g.prototype,s);var b=function(k,E,$){$===void 0&&($={});var A=k.getCursorPosition(),D=k.session.getLine(A.row),O=k.session.getTabString(),S=D.match(/^\s*/)[0];A.column<S.length&&(S=S.slice(0,A.column)),E=E.replace(/\r/g,"");var T=this.tokenizeTmSnippet(E);T=this.resolveVariables(T,k),T=T.map(function(V){return V==`
`&&!$.excludeExtraIndent?V+S:typeof V=="string"?V.replace(/\t/g,O):V});var C=[];T.forEach(function(V,de){if(typeof V=="object"){var ve=V.tabstopId,ge=C[ve];if(ge||(ge=C[ve]=[],ge.index=ve,ge.value="",ge.parents={}),ge.indexOf(V)===-1){V.choices&&!ge.choices&&(ge.choices=V.choices),ge.push(V);var ke=T.indexOf(V,de+1);if(ke!==-1){var Ce=T.slice(de+1,ke),Ae=Ce.some(function(Me){return typeof Me=="object"});Ae&&!ge.value?ge.value=Ce:Ce.length&&(!ge.value||typeof ge.value!="string")&&(ge.value=Ce.join(""))}}}}),C.forEach(function(V){V.length=0});var M={};function R(V){for(var de=[],ve=0;ve<V.length;ve++){var ge=V[ve];if(typeof ge=="object"){if(M[ge.tabstopId])continue;var ke=V.lastIndexOf(ge,ve-1);ge=de[ke]||{tabstopId:ge.tabstopId}}de[ve]=ge}return de}for(var L=0;L<T.length;L++){var P=T[L];if(typeof P=="object"){var N=P.tabstopId,j=C[N],H=T.indexOf(P,L+1);if(M[N]){M[N]===P&&(delete M[N],Object.keys(M).forEach(function(V){j.parents[V]=!0}));continue}M[N]=P;var B=j.value;typeof B!="string"?B=R(B):P.fmt&&(B=this.tmStrFormat(B,P,k)),T.splice.apply(T,[L+1,Math.max(0,H-L)].concat(B,P)),j.indexOf(P)===-1&&j.push(P)}}var te=0,U=0,ie="";return T.forEach(function(V){if(typeof V=="string"){var de=V.split(`
`);de.length>1?(U=de[de.length-1].length,te+=de.length-1):U+=V.length,ie+=V}else V&&(V.start?V.end={row:te,column:U}:V.start={row:te,column:U})}),{text:ie,tabstops:C,tokens:T}},y=function(){function k(E){if(this.index=0,this.ranges=[],this.tabstops=[],E.tabstopManager)return E.tabstopManager;E.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=l.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(E)}return k.prototype.attach=function(E){this.$openTabstops=null,this.selectedTabstop=null,this.editor=E,this.session=E.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},k.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},k.prototype.onChange=function(E){for(var $=E.action[0]=="r",A=this.selectedTabstop||{},D=A.parents||{},O=this.tabstops.slice(),S=0;S<O.length;S++){var T=O[S],C=T==A||D[T.index];if(T.rangeList.$bias=C?0:1,E.action=="remove"&&T!==A){var M=T.parents&&T.parents[A.index],R=T.rangeList.pointIndex(E.start,M);R=R<0?-R-1:R+1;var L=T.rangeList.pointIndex(E.end,M);L=L<0?-L-1:L-1;for(var P=T.rangeList.ranges.slice(R,L),N=0;N<P.length;N++)this.removeRange(P[N])}T.rangeList.$onChange(E)}var j=this.session;!this.$inChange&&$&&j.getLength()==1&&!j.getValue()&&this.detach()},k.prototype.updateLinkedFields=function(){var E=this.selectedTabstop;if(!(!E||!E.hasLinkedRanges||!E.firstNonLinked)){this.$inChange=!0;for(var $=this.session,A=$.getTextRange(E.firstNonLinked),D=0;D<E.length;D++){var O=E[D];if(O.linked){var S=O.original,T=r.snippetManager.tmStrFormat(A,S,this.editor);$.replace(O,T)}}this.$inChange=!1}},k.prototype.onAfterExec=function(E){E.command&&!E.command.readOnly&&this.updateLinkedFields()},k.prototype.onChangeSelection=function(){if(this.editor){for(var E=this.editor.selection.lead,$=this.editor.selection.anchor,A=this.editor.selection.isEmpty(),D=0;D<this.ranges.length;D++)if(!this.ranges[D].linked){var O=this.ranges[D].contains(E.row,E.column),S=A||this.ranges[D].contains($.row,$.column);if(O&&S)return}this.detach()}},k.prototype.onChangeSession=function(){this.detach()},k.prototype.tabNext=function(E){var $=this.tabstops.length,A=this.index+(E||1);A=Math.min(Math.max(A,1),$),A==$&&(A=0),this.selectTabstop(A),this.updateTabstopMarkers(),A===0&&this.detach()},k.prototype.selectTabstop=function(E){this.$openTabstops=null;var $=this.tabstops[this.index];if($&&this.addTabstopMarkers($),this.index=E,$=this.tabstops[this.index],!(!$||!$.length)){this.selectedTabstop=$;var A=$.firstNonLinked||$;if($.choices&&(A.cursor=A.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(A);else{var D=this.editor.multiSelect;D.toSingleRange(A);for(var O=0;O<$.length;O++)$.hasLinkedRanges&&$[O].linked||D.addRange($[O].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},k.prototype.addTabstops=function(E,$,A){var D=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!E[0]){var O=c.fromPoints(A,A);w(O.start,$),w(O.end,$),E[0]=[O],E[0].index=0}var S=this.index,T=[S+1,0],C=this.ranges,M=this.snippetId=(this.snippetId||0)+1;E.forEach(function(R,L){var P=this.$openTabstops[L]||R;P.snippetId=M;for(var N=0;N<R.length;N++){var j=R[N],H=c.fromPoints(j.start,j.end||j.start);x(H.start,$),x(H.end,$),H.original=j,H.tabstop=P,C.push(H),P!=R?P.unshift(H):P[N]=H,j.fmtString||P.firstNonLinked&&D?(H.linked=!0,P.hasLinkedRanges=!0):P.firstNonLinked||(P.firstNonLinked=H)}P.firstNonLinked||(P.hasLinkedRanges=!1),P===R&&(T.push(P),this.$openTabstops[L]=P),this.addTabstopMarkers(P),P.rangeList=P.rangeList||new u,P.rangeList.$bias=0,P.rangeList.addList(P)},this),T.length>2&&(this.tabstops.length&&T.push(T.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,T))},k.prototype.addTabstopMarkers=function(E){var $=this.session;E.forEach(function(A){A.markerId||(A.markerId=$.addMarker(A,"ace_snippet-marker","text"))})},k.prototype.removeTabstopMarkers=function(E){var $=this.session;E.forEach(function(A){$.removeMarker(A.markerId),A.markerId=null})},k.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var E=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&E--,this.tabstops.forEach(function($){$.snippetId===E?this.addTabstopMarkers($):this.removeTabstopMarkers($)},this)}},k.prototype.removeRange=function(E){var $=E.tabstop.indexOf(E);$!=-1&&E.tabstop.splice($,1),$=this.ranges.indexOf(E),$!=-1&&this.ranges.splice($,1),$=E.tabstop.rangeList.ranges.indexOf(E),$!=-1&&E.tabstop.splice($,1),this.session.removeMarker(E.markerId),E.tabstop.length||($=this.tabstops.indexOf(E.tabstop),$!=-1&&this.tabstops.splice($,1),this.tabstops.length||this.detach())},k}();y.prototype.keyboardHandler=new h,y.prototype.keyboardHandler.bindKeys({Tab:function(k){r.snippetManager&&r.snippetManager.expandWithTab(k)||(k.tabstopManager.tabNext(1),k.renderer.scrollCursorIntoView())},"Shift-Tab":function(k){k.tabstopManager.tabNext(-1),k.renderer.scrollCursorIntoView()},Esc:function(k){k.tabstopManager.detach()}});var x=function(k,E){k.row==0&&(k.column+=E.column),k.row+=E.row},w=function(k,E){k.row==E.row&&(k.column-=E.column),k.row-=E.row};i.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),r.snippetManager=new g;var _=n("./editor").Editor;(function(){this.insertSnippet=function(k,E){return r.snippetManager.insertSnippet(this,k,E)},this.expandSnippet=function(k){return r.snippetManager.expandWithTab(this,k)}}).call(_.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(n,r,o){var i=n("../virtual_renderer").VirtualRenderer,a=n("../editor").Editor,s=n("../range").Range,l=n("../lib/event"),c=n("../lib/lang"),u=n("../lib/dom"),h=n("../config").nls,f=n("./../lib/useragent"),p=function(x){return"suggest-aria-id:".concat(x)},m=f.isSafari?"menu":"listbox",v=f.isSafari?"menuitem":"option",g=f.isSafari?"aria-current":"aria-selected",b=function(x){var w=new i(x);w.$maxLines=4;var _=new a(w);return _.setHighlightActiveLine(!1),_.setShowPrintMargin(!1),_.renderer.setShowGutter(!1),_.renderer.setHighlightGutterLine(!1),_.$mouseHandler.$focusTimeout=0,_.$highlightTagPending=!0,_},y=function(){function x(w){var _=u.createElement("div"),k=b(_);w&&w.appendChild(_),_.style.display="none",k.renderer.content.style.cursor="default",k.renderer.setStyle("ace_autocomplete"),k.renderer.$textLayer.element.setAttribute("role",m),k.renderer.$textLayer.element.setAttribute("aria-roledescription",h("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),k.renderer.$textLayer.element.setAttribute("aria-label",h("autocomplete.popup.aria-label","Autocomplete suggestions")),k.renderer.textarea.setAttribute("aria-hidden","true"),k.setOption("displayIndentGuides",!1),k.setOption("dragDelay",150);var E=function(){};k.focus=E,k.$isFocused=!0,k.renderer.$cursorLayer.restartTimer=E,k.renderer.$cursorLayer.element.style.opacity="0",k.renderer.$maxLines=8,k.renderer.$keepTextAreaAtCursor=!1,k.setHighlightActiveLine(!1),k.session.highlight(""),k.session.$searchHighlight.clazz="ace_highlight-marker",k.on("mousedown",function(C){var M=C.getDocumentPosition();k.selection.moveToPosition(M),D.start.row=D.end.row=M.row,C.stop()});var $,A=new s(-1,0,-1,1/0),D=new s(-1,0,-1,1/0);D.id=k.session.addMarker(D,"ace_active-line","fullLine"),k.setSelectOnHover=function(C){C?A.id&&(k.session.removeMarker(A.id),A.id=null):A.id=k.session.addMarker(A,"ace_line-hover","fullLine")},k.setSelectOnHover(!1),k.on("mousemove",function(C){if(!$){$=C;return}if(!($.x==C.x&&$.y==C.y)){$=C,$.scrollTop=k.renderer.scrollTop,k.isMouseOver=!0;var M=$.getDocumentPosition().row;A.start.row!=M&&(A.id||k.setRow(M),S(M))}}),k.renderer.on("beforeRender",function(){if($&&A.start.row!=-1){$.$pos=null;var C=$.getDocumentPosition().row;A.id||k.setRow(C),S(C,!0)}}),k.renderer.on("afterRender",function(){for(var C=k.renderer.$textLayer,M=C.config.firstRow,R=C.config.lastRow;M<=R;M++){var L=C.element.childNodes[M-C.config.firstRow];L.setAttribute("role",v),L.setAttribute("aria-roledescription",h("autocomplete.popup.item.aria-roledescription","item")),L.setAttribute("aria-setsize",k.data.length),L.setAttribute("aria-describedby","doc-tooltip"),L.setAttribute("aria-posinset",M+1);var P=k.getData(M);if(P){var N="".concat(P.caption||P.value).concat(P.meta?", ".concat(P.meta):"");L.setAttribute("aria-label",N)}var j=L.querySelectorAll(".ace_completion-highlight");j.forEach(function(H){H.setAttribute("role","mark")})}}),k.renderer.on("afterRender",function(){var C=k.getRow(),M=k.renderer.$textLayer,R=M.element.childNodes[C-M.config.firstRow],L=document.activeElement;if(R!==k.selectedNode&&k.selectedNode&&(u.removeCssClass(k.selectedNode,"ace_selected"),k.selectedNode.removeAttribute(g),k.selectedNode.removeAttribute("id")),L.removeAttribute("aria-activedescendant"),k.selectedNode=R,R){var P=p(C);u.addCssClass(R,"ace_selected"),R.id=P,M.element.setAttribute("aria-activedescendant",P),L.setAttribute("aria-activedescendant",P),R.setAttribute(g,"true")}});var O=function(){S(-1)},S=function(C,M){C!==A.start.row&&(A.start.row=A.end.row=C,M||k.session._emit("changeBackMarker"),k._emit("changeHoverMarker"))};k.getHoveredRow=function(){return A.start.row},l.addListener(k.container,"mouseout",function(){k.isMouseOver=!1,O()}),k.on("hide",O),k.on("changeSelection",O),k.session.doc.getLength=function(){return k.data.length},k.session.doc.getLine=function(C){var M=k.data[C];return typeof M=="string"?M:M&&M.value||""};var T=k.session.bgTokenizer;return T.$tokenizeRow=function(C){var M=k.data[C],R=[];if(!M)return R;typeof M=="string"&&(M={value:M});var L=M.caption||M.value||M.name;function P(V,de){V&&R.push({type:(M.className||"")+(de||""),value:V})}for(var N=L.toLowerCase(),j=(k.filterText||"").toLowerCase(),H=0,B=0,te=0;te<=j.length;te++)if(te!=B&&(M.matchMask&1<<te||te==j.length)){var U=j.slice(B,te);B=te;var ie=N.indexOf(U,H);if(ie==-1)continue;P(L.slice(H,ie),""),H=ie+U.length,P(L.slice(ie,H),"completion-highlight")}return P(L.slice(H,L.length),""),R.push({type:"completion-spacer",value:" "}),M.meta&&R.push({type:"completion-meta",value:M.meta}),M.message&&R.push({type:"completion-message",value:M.message}),R},T.$updateOnChange=E,T.start=E,k.session.$computeWidth=function(){return this.screenWidth=0},k.isOpen=!1,k.isTopdown=!1,k.autoSelect=!0,k.filterText="",k.isMouseOver=!1,k.data=[],k.setData=function(C,M){k.filterText=M||"",k.setValue(c.stringRepeat(`
`,C.length),-1),k.data=C||[],k.setRow(0)},k.getData=function(C){return k.data[C]},k.getRow=function(){return D.start.row},k.setRow=function(C){C=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,C)),D.start.row!=C&&(k.selection.clearSelection(),D.start.row=D.end.row=C||0,k.session._emit("changeBackMarker"),k.moveCursorTo(C||0,0),k.isOpen&&k._signal("select"))},k.on("changeSelection",function(){k.isOpen&&k.setRow(k.selection.lead.row),k.renderer.scrollCursorIntoView()}),k.hide=function(){this.container.style.display="none",k.anchorPos=null,k.anchor=null,k.isOpen&&(k.isOpen=!1,this._signal("hide"))},k.tryShow=function(C,M,R,L){if(!L&&k.isOpen&&k.anchorPos&&k.anchor&&k.anchorPos.top===C.top&&k.anchorPos.left===C.left&&k.anchor===R)return!0;var P=this.container,N=this.renderer.scrollBar.width||10,j=window.innerHeight-N,H=window.innerWidth-N,B=this.renderer,te=B.$maxLines*M*1.4,U={top:0,bottom:0},ie=j-C.top-3*this.$borderSize-M,V=C.top-3*this.$borderSize;R||(V<=ie||ie>=te?R="bottom":R="top"),R==="top"?(U.bottom=C.top-this.$borderSize,U.top=U.bottom-te):R==="bottom"&&(U.top=C.top+M+this.$borderSize,U.bottom=U.top+te);var de=U.top>=0&&U.bottom<=j;if(!L&&!de)return!1;de?B.$maxPixelHeight=null:R==="top"?B.$maxPixelHeight=V:B.$maxPixelHeight=ie,R==="top"?(P.style.top="",P.style.bottom=j+N-U.bottom+"px",k.isTopdown=!1):(P.style.top=U.top+"px",P.style.bottom="",k.isTopdown=!0),P.style.display="";var ve=C.left;return ve+P.offsetWidth>H&&(ve=H-P.offsetWidth),P.style.left=ve+"px",P.style.right="",k.isOpen||(k.isOpen=!0,this._signal("show"),$=null),k.anchorPos=C,k.anchor=R,!0},k.show=function(C,M,R){this.tryShow(C,M,R?"bottom":void 0,!0)},k.goTo=function(C){var M=this.getRow(),R=this.session.getLength()-1;switch(C){case"up":M=M<=0?R:M-1;break;case"down":M=M>=R?-1:M+1;break;case"start":M=0;break;case"end":M=R;break}this.setRow(M)},k.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},k.$imageSize=0,k.$borderSize=1,k}return x}();u.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),r.AcePopup=y,r.$singleLineEditor=b,r.getAriaId=p}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(n,r,o){var i=function(){function a(s){this.editor=s,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return a.prototype.setScreenReaderContent=function(s){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var c=this.popup.getRow(),u=this.popup.renderer.$textLayer,h=u.element.childNodes[c-u.config.firstRow];if(h){for(var f="doc-tooltip ",p=0;p<this._lines.length;p++)f+="ace-inline-screenreader-line-".concat(p," ");h.setAttribute("aria-describedby",f)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=s.split(/\r\n|\r|\n/);var l=this.createCodeBlock();this.screenReaderDiv.appendChild(l)},a.prototype.destroy=function(){this.screenReaderDiv.remove()},a.prototype.createCodeBlock=function(){var s=document.createElement("pre");s.setAttribute("id","ace-inline-screenreader");for(var l=0;l<this._lines.length;l++){var c=document.createElement("code");c.setAttribute("id","ace-inline-screenreader-line-".concat(l));var u=document.createTextNode(this._lines[l]);c.appendChild(u),s.appendChild(c)}return s},a}();r.AceInlineScreenReader=i}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(n,r,o){var i=n("../snippets").snippetManager,a=n("./inline_screenreader").AceInlineScreenReader,s=function(){function l(){this.editor=null}return l.prototype.show=function(c,u,h){if(h=h||"",c&&this.editor&&this.editor!==c&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!c||!u)return!1;this.inlineScreenReader||(this.inlineScreenReader=new a(c));var f=u.snippet?i.getDisplayTextForSnippet(c,u.snippet):u.value;return u.hideInlinePreview||!f||!f.startsWith(h)?!1:(this.editor=c,this.inlineScreenReader.setScreenReaderContent(f),f=f.slice(h.length),f===""?c.removeGhostText():c.setGhostText(f),!0)},l.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},l.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},l.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},l}();r.AceInline=s}),ace.define("ace/autocomplete/util",["require","exports","module"],function(n,r,o){r.parForEach=function(a,s,l){var c=0,u=a.length;u===0&&l();for(var h=0;h<u;h++)s(a[h],function(f,p){c++,c===u&&l(f,p)})};var i=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;r.retrievePrecedingIdentifier=function(a,s,l){l=l||i;for(var c=[],u=s-1;u>=0&&l.test(a[u]);u--)c.push(a[u]);return c.reverse().join("")},r.retrieveFollowingIdentifier=function(a,s,l){l=l||i;for(var c=[],u=s;u<a.length&&l.test(a[u]);u++)c.push(a[u]);return c},r.getCompletionPrefix=function(a){var s=a.getCursorPosition(),l=a.session.getLine(s.row),c;return a.completers.forEach((function(u){u.identifierRegexps&&u.identifierRegexps.forEach((function(h){!c&&h&&(c=this.retrievePrecedingIdentifier(l,s.column,h))}).bind(this))}).bind(this)),c||this.retrievePrecedingIdentifier(l,s.column)},r.triggerAutocomplete=function(a,l){var l=l??a.session.getPrecedingCharacter();return a.completers.some(function(c){if(c.triggerCharacters&&Array.isArray(c.triggerCharacters))return c.triggerCharacters.includes(l)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(n,r,o){var i=n("./keyboard/hash_handler").HashHandler,a=n("./autocomplete/popup").AcePopup,s=n("./autocomplete/inline").AceInline,l=n("./autocomplete/popup").getAriaId,c=n("./autocomplete/util"),u=n("./lib/lang"),h=n("./lib/dom"),f=n("./snippets").snippetManager,p=n("./config"),m=n("./lib/event"),v=n("./lib/scroll").preventParentScroll,g=function(w,_){_.completer&&_.completer.destroy()},b=function(){function w(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new i,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=u.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=u.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=u.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=u.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=u.delayedCall((function(){var _=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!_||this.editor.completers.length===0||(this.completions=new x(w.completionsForLoading),this.openPopup(this.editor,_.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(w,"completionsForLoading",{get:function(){return[{caption:p.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),w.prototype.$init=function(){return this.popup=new a(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(_){this.insertMatch(),_.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),m.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},w.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new s,this.inlineRenderer},w.prototype.getPopup=function(){return this.popup||this.$init()},w.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},w.prototype.$seen=function(_){!this.hasSeen.has(_)&&_&&_.completer&&_.completer.onSeen&&typeof _.completer.onSeen=="function"&&(_.completer.onSeen(this.editor,_),this.hasSeen.add(_))},w.prototype.$onPopupChange=function(_){if(this.inlineRenderer&&this.inlineEnabled){var k=_?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(k),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},w.prototype.$updateGhostText=function(_){var k=this.base.row,E=this.base.column,$=this.editor.getCursorPosition().column,A=this.editor.session.getLine(k).slice(E,$);this.inlineRenderer.show(this.editor,_,A)?this.$seen(_):this.inlineRenderer.hide()},w.prototype.$onPopupRender=function(){var _=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var k=this.popup.getFirstVisibleRow();k<=this.popup.getLastVisibleRow();k++){var E=this.popup.getData(k);E&&(!_||E.hideInlinePreview)&&this.$seen(E)}},w.prototype.$onPopupShow=function(_){this.$onPopupChange(_),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},w.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var _=this.editor.container.parentNode,k=[];_;)k.push(_),_.addEventListener("scroll",this.onLayoutChange,{passive:!0}),_=_.parentNode;this.$elements=k}},w.prototype.unObserveLayoutChanges=function(){var _=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(k){k.removeEventListener("scroll",_.onLayoutChange,{passive:!0})}),this.$elements=null},w.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},w.prototype.$updatePopupPosition=function(){var _=this.editor,k=_.renderer,E=k.layerConfig.lineHeight,$=k.$cursorLayer.getPixelPosition(this.base,!0);$.left-=this.popup.getTextLeftOffset();var A=_.container.getBoundingClientRect();$.top+=A.top-k.layerConfig.offset,$.left+=A.left-_.renderer.scrollLeft,$.left+=k.gutterWidth;var D={top:$.top,left:$.left};k.$ghostText&&k.$ghostTextWidget&&this.base.row===k.$ghostText.position.row&&(D.top+=k.$ghostTextWidget.el.offsetHeight);var O=_.container.getBoundingClientRect().bottom-E,S=O<D.top?{top:O,left:D.left}:D;this.popup.tryShow(S,E,"bottom")||this.popup.tryShow($,E,"top")||this.popup.show($,E)},w.prototype.openPopup=function(_,k,E){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var $=this.popup.getRow(),A=this.popup.data[$];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:l(this.popup.getRow()),inline:this.inlineEnabled}),_.keyBinding.addKeyboardHandler(this.keyboardHandler);var D;this.stickySelection&&(D=this.popup.data.indexOf(A)),(!D||D===-1)&&(D=0),this.popup.setRow(this.autoSelect?D:-1),D===$&&A!==this.completions.filtered[D]&&this.$onPopupChange();var O=this.inlineRenderer&&this.inlineEnabled;if(D===$&&O){var S=this.popup.getData(this.popup.getRow());this.$updateGhostText(S)}E||(this.popup.setTheme(_.getTheme()),this.popup.setFontSize(_.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},w.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},w.prototype.changeListener=function(_){var k=this.editor.selection.lead;(k.row!=this.base.row||k.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},w.prototype.blurListener=function(_){var k=document.activeElement,E=this.editor.textInput.getElement(),$=_.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(_.relatedTarget),A=this.popup&&this.popup.container;k!=E&&k.parentNode!=A&&!$&&k!=this.tooltipNode&&_.relatedTarget!=E&&this.detach()},w.prototype.mousedownListener=function(_){this.detach()},w.prototype.mousewheelListener=function(_){this.popup&&!this.popup.isMouseOver&&this.detach()},w.prototype.mouseOutListener=function(_){this.popup.isOpen&&this.$updatePopupPosition()},w.prototype.goTo=function(_){this.popup.goTo(_)},w.prototype.insertMatch=function(_,k){if(_||(_=this.popup.getData(this.popup.getRow())),!_)return!1;if(_.value==="")return this.detach();var E=this.completions,$=this.getCompletionProvider().insertMatch(this.editor,_,E.filterText,k);return this.completions==E&&this.detach(),$},w.prototype.showPopup=function(_,k){this.editor&&this.detach(),this.activated=!0,this.editor=_,_.completer!=this&&(_.completer&&_.completer.detach(),_.completer=this),_.on("changeSelection",this.changeListener),_.on("blur",this.blurListener),_.on("mousedown",this.mousedownListener),_.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,k)},w.prototype.getCompletionProvider=function(_){return this.completionProvider||(this.completionProvider=new y(_)),this.completionProvider},w.prototype.gatherCompletions=function(_,k){return this.getCompletionProvider().gatherCompletions(_,k)},w.prototype.updateCompletions=function(_,k){if(_&&this.base&&this.completions){var $=this.editor.getCursorPosition(),A=this.editor.session.getTextRange({start:this.base,end:$});if(A==this.completions.filterText)return;if(this.completions.setFilter(A),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==A&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,A,_);return}if(k&&k.matches){var $=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor($.row,$.column),this.base.$insertRight=!0,this.completions=new x(k.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",_)}var E=this.editor.getSession(),$=this.editor.getCursorPosition(),A=c.getCompletionPrefix(this.editor);this.base=E.doc.createAnchor($.row,$.column-A.length),this.base.$insertRight=!0;var D={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:A,pos:$}).provideCompletions(this.editor,D,(function(O,S,T){var C=S.filtered,M=c.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),T){if(!C.length){var R=!this.autoShown&&this.emptyMessage;if(typeof R=="function"&&(R=this.emptyMessage(M)),R){var L=[{caption:R,value:""}];this.completions=new x(L),this.openPopup(this.editor,M,_),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(C.length==1&&C[0].value==M&&!C[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&C.length==1)return this.insertMatch(C[0])}this.completions=!T&&this.showLoadingState?new x(w.completionsForLoading.concat(C),S.filterText):S,this.openPopup(this.editor,M,_),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!T)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},w.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},w.prototype.updateDocTooltip=function(){var _=this.popup,k=this.completions&&this.completions.filtered,E=k&&(k[_.getHoveredRow()]||k[_.getRow()]),$=null;if(!E||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var A=this.editor.completers.length,D=0;D<A;D++){var O=this.editor.completers[D];if(O.getDocTooltip&&E.completerId===O.id){$=O.getDocTooltip(E);break}}if(!$&&typeof E!="string"&&($=E),typeof $=="string"&&($={docText:$}),!$||!($.docHTML||$.docText))return this.hideDocTooltip();this.showDocTooltip($)},w.prototype.showDocTooltip=function(_){this.tooltipNode||(this.tooltipNode=h.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",v));var k=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(k.isDark?"ace_dark ":"")+(k.cssClass||"");var E=this.tooltipNode;_.docHTML?E.innerHTML=_.docHTML:_.docText&&(E.textContent=_.docText),E.parentNode||this.popup.container.appendChild(this.tooltipNode);var $=this.popup,A=$.container.getBoundingClientRect(),D=400,O=300,S=$.renderer.scrollBar.width||10,T=A.left,C=window.innerWidth-A.right-S,M=$.isTopdown?A.top:window.innerHeight-S-A.bottom,R=[Math.min(C/D,1),Math.min(T/D,1),Math.min(M/O*.9)],L=Math.max.apply(Math,R),P=E.style;P.display="block",L==R[0]?(P.left=A.right+1+"px",P.right="",P.maxWidth=D*L+"px",P.top=A.top+"px",P.bottom="",P.maxHeight=Math.min(window.innerHeight-S-A.top,O)+"px"):L==R[1]?(P.right=window.innerWidth-A.left+"px",P.left="",P.maxWidth=D*L+"px",P.top=A.top+"px",P.bottom="",P.maxHeight=Math.min(window.innerHeight-S-A.top,O)+"px"):L==R[2]&&(P.left=window.innerWidth-A.left+"px",P.maxWidth=Math.min(D,window.innerWidth)+"px",$.isTopdown?(P.top=A.bottom+"px",P.left=A.left+"px",P.right="",P.bottom="",P.maxHeight=Math.min(window.innerHeight-S-A.bottom,O)+"px"):(P.top=$.container.offsetTop-E.offsetHeight+"px",P.left=A.left+"px",P.right="",P.bottom="",P.maxHeight=Math.min($.container.offsetTop,O)+"px"))},w.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var _=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==_&&this.editor.focus(),this.tooltipNode=null,_.parentNode&&_.parentNode.removeChild(_)}},w.prototype.onTooltipClick=function(_){for(var k=_.target;k&&k!=this.tooltipNode;){if(k.nodeName=="A"&&k.href){k.rel="noreferrer",k.target="_blank";break}k=k.parentNode}},w.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var _=this.popup.container;_&&_.parentNode&&_.parentNode.removeChild(_)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",g),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},w.for=function(_){return _.completer instanceof w||(_.completer&&(_.completer.destroy(),_.completer=null),p.get("sharedPopups")?(w.$sharedInstance||(w.$sharedInstance=new w),_.completer=w.$sharedInstance):(_.completer=new w,_.once("destroy",g))),_.completer},w}();b.prototype.commands={Up:function(w){w.completer.goTo("up")},Down:function(w){w.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(w){w.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(w){w.completer.goTo("end")},Esc:function(w){w.completer.detach()},Return:function(w){return w.completer.insertMatch()},"Shift-Return":function(w){w.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(w){var _=w.completer.insertMatch();if(!_&&!w.tabstopManager)w.completer.goTo("down");else return _},Backspace:function(w){w.execCommand("backspace");var _=c.getCompletionPrefix(w);!_&&w.completer&&w.completer.detach()},PageUp:function(w){w.completer.popup.gotoPageUp()},PageDown:function(w){w.completer.popup.gotoPageDown()}},b.startCommand={name:"startAutocomplete",exec:function(w,_){var k=b.for(w);k.autoInsert=!1,k.autoSelect=!0,k.autoShown=!1,k.showPopup(w,_),k.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var y=function(){function w(_){this.initialPosition=_,this.active=!0}return w.prototype.insertByIndex=function(_,k,E){return!this.completions||!this.completions.filtered?!1:this.insertMatch(_,this.completions.filtered[k],E)},w.prototype.insertMatch=function(_,k,E){if(!k)return!1;if(_.startOperation({command:{name:"insertMatch"}}),k.completer&&k.completer.insertMatch)k.completer.insertMatch(_,k);else{if(!this.completions)return!1;var $=this.completions.filterText.length,A=0;if(k.range&&k.range.start.row===k.range.end.row&&($-=this.initialPosition.prefix.length,$+=this.initialPosition.pos.column-k.range.start.column,A+=k.range.end.column-this.initialPosition.pos.column),$||A){var D;_.selection.getAllRanges?D=_.selection.getAllRanges():D=[_.getSelectionRange()];for(var O=0,S;S=D[O];O++)S.start.column-=$,S.end.column+=A,_.session.remove(S)}k.snippet?f.insertSnippet(_,k.snippet):this.$insertString(_,k),k.completer&&k.completer.onInsert&&typeof k.completer.onInsert=="function"&&k.completer.onInsert(_,k),k.command&&k.command==="startAutocomplete"&&_.execCommand(k.command)}return _.endOperation(),!0},w.prototype.$insertString=function(_,k){var E=k.value||k;_.execCommand("insertstring",E)},w.prototype.gatherCompletions=function(_,k){var E=_.getSession(),$=_.getCursorPosition(),A=c.getCompletionPrefix(_),D=[];this.completers=_.completers;var O=_.completers.length;return _.completers.forEach(function(S,T){S.getCompletions(_,E,$,A,function(C,M){S.hideInlinePreview&&(M=M.map(function(R){return Object.assign(R,{hideInlinePreview:S.hideInlinePreview})})),!C&&M&&(D=D.concat(M)),k(null,{prefix:c.getCompletionPrefix(_),matches:D,finished:--O===0})})}),!0},w.prototype.provideCompletions=function(_,k,E){var $=(function(S){var T=S.prefix,C=S.matches;this.completions=new x(C),k.exactMatch&&(this.completions.exactMatch=!0),k.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(T),(S.finished||this.completions.filtered.length)&&E(null,this.completions,S.finished)}).bind(this),A=!0,D=null;if(this.gatherCompletions(_,(function(S,T){if(this.active){S&&(E(S,[],!0),this.detach());var C=T.prefix;if(C.indexOf(T.prefix)===0){if(A){D=T;return}$(T)}}}).bind(this)),A=!1,D){var O=D;D=null,$(O)}},w.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(_){typeof _.cancel=="function"&&_.cancel()})},w}(),x=function(){function w(_,k){this.all=_,this.filtered=_,this.filterText=k||"",this.exactMatch=!1,this.ignoreCaption=!1}return w.prototype.setFilter=function(_){if(_.length>this.filterText&&_.lastIndexOf(this.filterText,0)===0)var k=this.filtered;else var k=this.all;this.filterText=_,k=this.filterCompletions(k,this.filterText),k=k.sort(function($,A){return A.exactMatch-$.exactMatch||A.$score-$.$score||($.caption||$.value).localeCompare(A.caption||A.value)});var E=null;k=k.filter(function($){var A=$.snippet||$.caption||$.value;return A===E?!1:(E=A,!0)}),this.filtered=k},w.prototype.filterCompletions=function(_,k){var E=[],$=k.toUpperCase(),A=k.toLowerCase();e:for(var D=0,O;O=_[D];D++){if(O.skipFilter){O.$score=O.score,E.push(O);continue}var S=!this.ignoreCaption&&O.caption||O.value||O.snippet;if(S){var T=-1,C=0,M=0,R,L;if(this.exactMatch){if(k!==S.substr(0,k.length))continue e}else{var P=S.toLowerCase().indexOf(A);if(P>-1)M=P;else for(var N=0;N<k.length;N++){var j=S.indexOf(A[N],T+1),H=S.indexOf($[N],T+1);if(R=j>=0&&(H<0||j<H)?j:H,R<0)continue e;L=R-T-1,L>0&&(T===-1&&(M+=10),M+=L,C=C|1<<N),T=R}}O.matchMask=C,O.exactMatch=M?0:1,O.$score=(O.score||0)-M,E.push(O)}}return E},w}();r.Autocomplete=b,r.CompletionProvider=y,r.FilteredList=x}),ace.define("ace/marker_group",["require","exports","module"],function(n,r,o){var i=function(){function a(s,l){l&&(this.markerType=l.markerType),this.markers=[],this.session=s,s.addDynamicMarker(this)}return a.prototype.getMarkerAtPosition=function(s){return this.markers.find(function(l){return l.range.contains(s.row,s.column)})},a.prototype.markersComparator=function(s,l){return s.range.start.row-l.range.start.row},a.prototype.setMarkers=function(s){this.markers=s.sort(this.markersComparator).slice(0,this.MAX_MARKERS),this.session._signal("changeBackMarker")},a.prototype.update=function(s,l,c,u){if(!(!this.markers||!this.markers.length))for(var h=u.firstRow,f=u.lastRow,p,m=0,v=0,g=0;g<this.markers.length;g++){var b=this.markers[g];if(!(b.range.end.row<h)&&!(b.range.start.row>f)&&(b.range.start.row===v?m++:(v=b.range.start.row,m=0),!(m>200))){var y=b.range.clipRows(h,f);if(!(y.start.row===y.end.row&&y.start.column===y.end.column)){var x=y.toScreenRange(c);if(x.isEmpty()){p=c.getNextFoldLine(y.end.row,p),p&&p.end.row>y.end.row&&(h=p.end.row);continue}this.markerType==="fullLine"?l.drawFullLineMarker(s,x,b.className,u):x.isMultiLine()?this.markerType==="line"?l.drawMultiLineMarker(s,x,b.className,u):l.drawTextMarker(s,x,b.className,u):l.drawSingleLineMarker(s,x,b.className+" ace_br15",u)}}}},a}();i.prototype.MAX_MARKERS=1e4,r.MarkerGroup=i}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,r,o){var i=n("../range").Range,a=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function s(c,u){var h=c.getTextRange(i.fromPoints({row:0,column:0},u));return h.split(a).length-1}function l(c,u){var h=s(c,u),f=c.getValue().split(a),p=Object.create(null),m=f[h];return f.forEach(function(v,g){if(!(!v||v===m)){var b=Math.abs(h-g),y=f.length-b;p[v]?p[v]=Math.max(y,p[v]):p[v]=y}}),p}r.getCompletions=function(c,u,h,f,p){var m=l(u,h),v=Object.keys(m);p(null,v.map(function(g){return{caption:g,value:g,score:m[g],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/marker_group","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,r,o){var i=n("../snippets").snippetManager,a=n("../autocomplete").Autocomplete,s=n("../config"),l=n("../lib/lang"),c=n("../autocomplete/util"),u=n("../marker_group").MarkerGroup,h=n("../autocomplete/text_completer"),f={getCompletions:function(A,D,O,S,T){if(D.$mode.completer)return D.$mode.completer.getCompletions(A,D,O,S,T);var C=A.session.getState(O.row),M=D.$mode.getCompletions(C,D,O,S);M=M.map(function(R){return R.completerId=f.id,R}),T(null,M)},id:"keywordCompleter"},p=function(A){var D={};return A.replace(/\${(\d+)(:(.*?))?}/g,function(O,S,T,C){return D[S]=C||""}).replace(/\$(\d+?)/g,function(O,S){return D[S]})},m={getCompletions:function(A,D,O,S,T){var C=[],M=D.getTokenAt(O.row,O.column);M&&M.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?C.push("html-tag"):C=i.getActiveScopes(A);var R=i.snippetMap,L=[];C.forEach(function(P){for(var N=R[P]||[],j=N.length;j--;){var H=N[j],B=H.name||H.tabTrigger;B&&L.push({caption:B,snippet:H.content,meta:H.tabTrigger&&!H.name?H.tabTrigger+"⇥ ":"snippet",completerId:m.id})}},this),T(null,L)},getDocTooltip:function(A){A.snippet&&!A.docHTML&&(A.docHTML=["<b>",l.escapeHTML(A.caption),"</b>","<hr></hr>",l.escapeHTML(p(A.snippet))].join(""))},id:"snippetCompleter"},v=[m,h,f];r.setCompleters=function(A){v.length=0,A&&v.push.apply(v,A)},r.addCompleter=function(A){v.push(A)},r.textCompleter=h,r.keyWordCompleter=f,r.snippetCompleter=m;var g={name:"expandSnippet",exec:function(A){return i.expandWithTab(A)},bindKey:"Tab"},b=function(A,D){y(D.session.$mode)},y=function(A){typeof A=="string"&&(A=s.$modes[A]),A&&(i.files||(i.files={}),x(A.$id,A.snippetFileId),A.modes&&A.modes.forEach(y))},x=function(A,D){!D||!A||i.files[A]||(i.files[A]={},s.loadModule(D,function(O){O&&(i.files[A]=O,!O.snippets&&O.snippetText&&(O.snippets=i.parseSnippetFile(O.snippetText)),i.register(O.snippets||[],O.scope),O.includeScopes&&(i.snippetMap[O.scope].includeScopes=O.includeScopes,O.includeScopes.forEach(function(S){y("ace/mode/"+S)})))}))},w=function(A){var D=A.editor,O=D.completer&&D.completer.activated;if(A.command.name==="backspace")O&&!c.getCompletionPrefix(D)&&D.completer.detach();else if(A.command.name==="insertstring"&&!O){_=A;var S=A.editor.$liveAutocompletionDelay;S?k.delay(S):E(A)}},_,k=l.delayedCall(function(){E(_)},0),E=function(A){var D=A.editor,O=c.getCompletionPrefix(D),S=A.args,T=c.triggerAutocomplete(D,S);if(O&&O.length>=D.$liveAutocompletionThreshold||T){var C=a.for(D);C.autoShown=!0,C.showPopup(D)}},$=n("../editor").Editor;n("../config").defineOptions($.prototype,"editor",{enableBasicAutocompletion:{set:function(A){A?(a.for(this),this.completers||(this.completers=Array.isArray(A)?A:v),this.commands.addCommand(a.startCommand)):this.commands.removeCommand(a.startCommand)},value:!1},enableLiveAutocompletion:{set:function(A){A?(this.completers||(this.completers=Array.isArray(A)?A:v),this.commands.on("afterExec",w)):this.commands.off("afterExec",w)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(A){A?(this.commands.addCommand(g),this.on("changeMode",b),b(null,this)):(this.commands.removeCommand(g),this.off("changeMode",b))},value:!1}}),r.MarkerGroup=u}),function(){ace.require(["ace/ext/language_tools"],function(n){t&&(t.exports=n)})}()}(Yf)),Yf.exports}EA();var Gf={exports:{}},Cb;function TA(){return Cb||(Cb=1,function(t,e){ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(n,r,o){var i=n("../../lib/oop"),a=n("./fold_mode").FoldMode,s=n("../../range").Range,l=r.FoldMode=function(){};i.inherits(l,a),(function(){this.commentBlock=function(c,u){var h=/\S/,f=c.getLine(u),p=f.search(h);if(!(p==-1||f[p]!="#")){for(var m=f.length,v=c.getLength(),g=u,b=u;++u<v;){f=c.getLine(u);var y=f.search(h);if(y!=-1){if(f[y]!="#")break;b=u}}if(b>g){var x=c.getLine(b).length;return new s(g,m,b,x)}}},this.getFoldWidgetRange=function(c,u,h){var f=this.indentationBlock(c,h);if(f||(f=this.commentBlock(c,h),f))return f},this.getFoldWidget=function(c,u,h){var f=c.getLine(h),p=f.search(/\S/),m=c.getLine(h+1),v=c.getLine(h-1),g=v.search(/\S/),b=m.search(/\S/);if(p==-1)return c.foldWidgets[h-1]=g!=-1&&g<b?"start":"","";if(g==-1){if(p==b&&f[p]=="#"&&m[p]=="#")return c.foldWidgets[h-1]="",c.foldWidgets[h+1]="","start"}else if(g==p&&f[p]=="#"&&v[p]=="#"&&c.getLine(h-2).search(/\S/)==-1)return c.foldWidgets[h-1]="start",c.foldWidgets[h+1]="","";return g!=-1&&g<p?c.foldWidgets[h-1]="start":c.foldWidgets[h-1]="",p<b?"start":""}}).call(l.prototype)}),ace.define("ace/mode/snippets",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/text_highlight_rules","ace/mode/folding/coffee"],function(n,r,o){var i=n("../lib/oop"),a=n("./text").Mode,s=n("./text_highlight_rules").TextHighlightRules,l=function(){var f="SELECTION|CURRENT_WORD|SELECTED_TEXT|CURRENT_LINE|LINE_INDEX|LINE_NUMBER|SOFT_TABS|TAB_SIZE|FILENAME|FILEPATH|FULLNAME";this.$rules={start:[{token:"constant.language.escape",regex:/\\[\$}`\\]/},{token:"keyword",regex:"\\$(?:TM_)?(?:"+f+")\\b"},{token:"variable",regex:"\\$\\w+"},{onMatch:function(p,m,v){return v[1]?v[1]++:v.unshift(m,1),this.tokenName},tokenName:"markup.list",regex:"\\${",next:"varDecl"},{onMatch:function(p,m,v){return v[1]?(v[1]--,v[1]||v.splice(0,2),this.tokenName):"text"},tokenName:"markup.list",regex:"}"},{token:"doc.comment",regex:/^\${2}-{5,}$/}],varDecl:[{regex:/\d+\b/,token:"constant.numeric"},{token:"keyword",regex:"(?:TM_)?(?:"+f+")\\b"},{token:"variable",regex:"\\w+"},{regex:/:/,token:"punctuation.operator",next:"start"},{regex:/\//,token:"string.regex",next:"regexp"},{regex:"",next:"start"}],regexp:[{regex:/\\./,token:"escape"},{regex:/\[/,token:"regex.start",next:"charClass"},{regex:"/",token:"string.regex",next:"format"},{token:"string.regex",regex:"."}],charClass:[{regex:"\\.",token:"escape"},{regex:"\\]",token:"regex.end",next:"regexp"},{token:"string.regex",regex:"."}],format:[{regex:/\\[ulULE]/,token:"keyword"},{regex:/\$\d+/,token:"variable"},{regex:"/[gim]*:?",token:"string.regex",next:"start"},{token:"string",regex:"."}]}};i.inherits(l,s),r.SnippetHighlightRules=l;var c=function(){this.$rules={start:[{token:"text",regex:"^\\t",next:"sn-start"},{token:"invalid",regex:/^ \s*/},{token:"comment",regex:/^#.*/},{token:"constant.language.escape",regex:"^regex ",next:"regex"},{token:"constant.language.escape",regex:"^(trigger|endTrigger|name|snippet|guard|endGuard|tabTrigger|key)\\b"}],regex:[{token:"text",regex:"\\."},{token:"keyword",regex:"/"},{token:"empty",regex:"$",next:"start"}]},this.embedRules(l,"sn-",[{token:"text",regex:"^\\t",next:"sn-start"},{onMatch:function(f,p,m){return m.splice(m.length),this.tokenName},tokenName:"text",regex:"^(?!	)",next:"start"}])};i.inherits(c,s),r.SnippetGroupHighlightRules=c;var u=n("./folding/coffee").FoldMode,h=function(){this.HighlightRules=c,this.foldingRules=new u,this.$behaviour=this.$defaultBehaviour};i.inherits(h,a),(function(){this.$indentWithTabs=!0,this.lineCommentStart="#",this.$id="ace/mode/snippets",this.snippetFileId="ace/snippets/snippets"}).call(h.prototype),r.Mode=h}),function(){ace.require(["ace/mode/snippets"],function(n){t&&(t.exports=n)})}()}(Gf)),Gf.exports}TA();const x3={};x3.getData=t=>new Promise((e,n)=>{let r={};OA(t).then(o=>{r.arrayBuffer=o;try{r.orientation=RA(o)}catch{r.orientation=-1}e(r)}).catch(o=>{n(o)})});function OA(t){let e=null;return new Promise((n,r)=>{if(t.src)if(/^data\:/i.test(t.src))e=MA(t.src),n(e);else if(/^blob\:/i.test(t.src)){var o=new FileReader;o.onload=function(a){e=a.target.result,n(e)},AA(t.src,function(a){o.readAsArrayBuffer(a)})}else{var i=new XMLHttpRequest;i.onload=function(){if(this.status==200||this.status===0)e=i.response,n(e);else throw"Could not load image";i=null},i.open("GET",t.src,!0),i.responseType="arraybuffer",i.send(null)}else r("img error")})}function AA(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(r){(this.status==200||this.status===0)&&e(this.response)},n.send()}function MA(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/mi)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gmi,"");for(var n=atob(t),r=n.length%2==0?n.length:n.length+1,o=new ArrayBuffer(r),i=new Uint16Array(o),a=0;a<r;a++)i[a]=n.charCodeAt(a);return o}function $A(t,e,n){var r="",o;for(o=e,n+=e;o<n;o++)r+=String.fromCharCode(t.getUint8(o));return r}function RA(t){var e=new DataView(t),n=e.byteLength,r,o,i,a,s,l,c,u,h,f;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(h=2;h<n;){if(e.getUint8(h)===255&&e.getUint8(h+1)===225){c=h;break}h++}if(c&&(o=c+4,i=c+10,$A(e,o,4)==="Exif"&&(l=e.getUint16(i),s=l===18761,(s||l===19789)&&e.getUint16(i+2,s)===42&&(a=e.getUint32(i+4,s),a>=8&&(u=i+a)))),u){for(n=e.getUint16(u,s),f=0;f<n;f++)if(h=u+f*12+2,e.getUint16(h,s)===274){h+=8,r=e.getUint16(h,s);break}}return r}const DA=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n},PA=X({data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0,imgIsQqualCrop:!1}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:()=>[1,1]},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:[Number,String],default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:()=>10,validator:function(t){return Array.isArray(t)?Number(t[0])>=0&&Number(t[1])>=0:Number(t)>=0}},fillColor:{type:String,default:""}},computed:{cropInfo(){let t={};if(t.top=this.cropOffsertY>21?"-21px":"0px",t.width=this.cropW>0?this.cropW:0,t.height=this.cropH>0?this.cropH:0,this.infoTrue){let e=1;this.high&&!this.full&&(e=window.devicePixelRatio),this.enlarge!==1&!this.full&&(e=Math.abs(Number(this.enlarge))),t.width=t.width*e,t.height=t.height*e,this.full&&(t.width=t.width/this.scale,t.height=t.height/this.scale)}return t.width=t.width.toFixed(0),t.height=t.height.toFixed(0),t},isIE(){return!!window.ActiveXObject||"ActiveXObject"in window},passive(){return this.isIE?null:{passive:!1}},isRotateRightOrLeft(){return[1,-1,3,-3].includes(this.rotate)}},watch:{img(){this.checkedImg()},imgs(t){t!==""&&this.reload()},cropW(){this.showPreview()},cropH(){this.showPreview()},cropOffsertX(){this.showPreview()},cropOffsertY(){this.showPreview()},scale(t,e){this.showPreview()},x(){this.showPreview()},y(){this.showPreview()},autoCrop(t){t&&this.goAutoCrop()},autoCropWidth(){this.autoCrop&&this.goAutoCrop()},autoCropHeight(){this.autoCrop&&this.goAutoCrop()},mode(){this.checkedImg()},rotate(){this.showPreview(),this.autoCrop?this.goAutoCrop(this.cropW,this.cropH):(this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion(t){var e=navigator.userAgent.split(" "),n="";let r=0;const o=new RegExp(t,"i");for(var i=0;i<e.length;i++)o.test(e[i])&&(n=e[i]);return n?r=n.split("/")[1].split("."):r=["0","0","0"],r},checkOrientationImage(t,e,n,r){if(this.getVersion("chrome")[0]>=81)e=-1;else if(this.getVersion("safari")[0]>=605){const a=this.getVersion("version");a[0]>13&&a[1]>1&&(e=-1)}else{const a=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(a){let s=a[1];s=s.split("_"),(s[0]>13||s[0]>=13&&s[1]>=4)&&(e=-1)}}let o=document.createElement("canvas"),i=o.getContext("2d");switch(i.save(),e){case 2:o.width=n,o.height=r,i.translate(n,0),i.scale(-1,1);break;case 3:o.width=n,o.height=r,i.translate(n/2,r/2),i.rotate(180*Math.PI/180),i.translate(-n/2,-r/2);break;case 4:o.width=n,o.height=r,i.translate(0,r),i.scale(1,-1);break;case 5:o.height=n,o.width=r,i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:o.width=r,o.height=n,i.translate(r/2,n/2),i.rotate(90*Math.PI/180),i.translate(-n/2,-r/2);break;case 7:o.height=n,o.width=r,i.rotate(.5*Math.PI),i.translate(n,-r),i.scale(-1,1);break;case 8:o.height=n,o.width=r,i.translate(r/2,n/2),i.rotate(-90*Math.PI/180),i.translate(-n/2,-r/2);break;default:o.width=n,o.height=r}i.drawImage(t,0,0,n,r),i.restore(),o.toBlob(a=>{let s=URL.createObjectURL(a);URL.revokeObjectURL(this.imgs),this.imgs=s},"image/"+this.outputType,1)},checkedImg(){if(this.img===null||this.img===""){this.imgs="",this.clearCrop();return}this.loading=!0,this.scale=1,this.rotate=0,this.imgIsQqualCrop=!1,this.clearCrop();let t=new Image;if(t.onload=()=>{if(this.img==="")return this.$emit("img-load",new Error("图片不能为空")),!1;let n=t.width,r=t.height;x3.getData(t).then(o=>{this.orientation=o.orientation||1;let i=Number(this.maxImgSize);if(!this.orientation&&n<i&r<i){this.imgs=this.img;return}n>i&&(r=r/n*i,n=i),r>i&&(n=n/r*i,r=i),this.checkOrientationImage(t,this.orientation,n,r)}).catch(o=>{this.$emit("img-load","error"),this.$emit("img-load-error",o)})},t.onerror=n=>{this.$emit("img-load","error"),this.$emit("img-load-error",n)},this.img.substr(0,4)!=="data"&&(t.crossOrigin=""),this.isIE){var e=new XMLHttpRequest;e.onload=function(){var n=URL.createObjectURL(this.response);t.src=n},e.open("GET",this.img,!0),e.responseType="blob",e.send()}else t.src=this.img},startMove(t){if(t.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=("clientX"in t?t.clientX:t.touches[0].clientX)-this.x,this.moveY=("clientY"in t?t.clientY:t.touches[0].clientY)-this.y,t.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),t.touches.length==2&&(this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=t.offsetX?t.offsetX:t.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=t.offsetY?t.offsetY:t.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX="clientX"in t?t.clientX:t.touches[0].clientX,this.cropY="clientY"in t?t.clientY:t.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale(t){t.preventDefault();let e=this.scale;var n={x:this.touches[0].clientX,y:this.touches[0].clientY},r={x:t.touches[0].clientX,y:t.touches[0].clientY},o={x:this.touches[1].clientX,y:this.touches[1].clientY},i={x:t.touches[1].clientX,y:t.touches[1].clientY},a=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)),s=Math.sqrt(Math.pow(r.x-i.x,2)+Math.pow(r.y-i.y,2)),l=s-a,c=1;c=c/this.trueWidth>c/this.trueHeight?c/this.trueHeight:c/this.trueWidth,c=c>.1?.1:c;var u=c*l;if(!this.touchNow){if(this.touchNow=!0,l>0?e+=Math.abs(u):l<0&&e>Math.abs(u)&&(e-=Math.abs(u)),this.touches=t.touches,setTimeout(()=>{this.touchNow=!1},8),!this.checkoutImgAxis(this.x,this.y,e))return!1;this.scale=e}},cancelTouchScale(t){window.removeEventListener("touchmove",this.touchScale)},moveImg(t){if(t.preventDefault(),t.touches&&t.touches.length===2)return this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;let e="clientX"in t?t.clientX:t.touches[0].clientX,n="clientY"in t?t.clientY:t.touches[0].clientY,r,o;r=e-this.moveX,o=n-this.moveY,this.$nextTick(()=>{if(this.centerBox){let i=this.getImgAxis(r,o,this.scale),a=this.getCropAxis(),s=this.trueHeight*this.scale,l=this.trueWidth*this.scale,c,u,h,f;switch(this.rotate){case 1:case-1:case 3:case-3:c=this.cropOffsertX-this.trueWidth*(1-this.scale)/2+(s-l)/2,u=this.cropOffsertY-this.trueHeight*(1-this.scale)/2+(l-s)/2,h=c-s+this.cropW,f=u-l+this.cropH;break;default:c=this.cropOffsertX-this.trueWidth*(1-this.scale)/2,u=this.cropOffsertY-this.trueHeight*(1-this.scale)/2,h=c-l+this.cropW,f=u-s+this.cropH;break}i.x1>=a.x1&&(r=c),i.y1>=a.y1&&(o=u),i.x2<=a.x2&&(r=h),i.y2<=a.y2&&(o=f)}this.x=r,this.y=o,this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})})},leaveImg(t){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize(t){t.preventDefault();let e=this.scale;var n=t.deltaY||t.wheelDelta,r=navigator.userAgent.indexOf("Firefox");n=r>0?n*30:n,this.isIE&&(n=-n);var o=this.coe;o=o/this.trueWidth>o/this.trueHeight?o/this.trueHeight:o/this.trueWidth;var i=o*n;i<0?e+=Math.abs(i):e>Math.abs(i)&&(e-=Math.abs(i));let a=i<0?"add":"reduce";if(a!==this.coeStatus&&(this.coeStatus=a,this.coe=.2),this.scaling||(this.scalingSet=setTimeout(()=>{this.scaling=!1,this.coe=this.coe+=.01},50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,e))return!1;this.scale=e},changeScale(t){let e=this.scale;t=t||1;var n=20;if(n=n/this.trueWidth>n/this.trueHeight?n/this.trueHeight:n/this.trueWidth,t=t*n,t>0?e+=Math.abs(t):e>Math.abs(t)&&(e-=Math.abs(t)),!this.checkoutImgAxis(this.x,this.y,e))return!1;this.scale=e},createCrop(t){t.preventDefault();var e="clientX"in t?t.clientX:t.touches?t.touches[0].clientX:0,n="clientY"in t?t.clientY:t.touches?t.touches[0].clientY:0;this.$nextTick(()=>{var r=e-this.cropX,o=n-this.cropY;if(r>0?(this.cropW=r+this.cropChangeX>this.w?this.w-this.cropChangeX:r,this.cropOffsertX=this.cropChangeX):(this.cropW=this.w-this.cropChangeX+Math.abs(r)>this.w?this.cropChangeX:Math.abs(r),this.cropOffsertX=this.cropChangeX+r>0?this.cropChangeX+r:0),!this.fixed)o>0?(this.cropH=o+this.cropChangeY>this.h?this.h-this.cropChangeY:o,this.cropOffsertY=this.cropChangeY):(this.cropH=this.h-this.cropChangeY+Math.abs(o)>this.h?this.cropChangeY:Math.abs(o),this.cropOffsertY=this.cropChangeY+o>0?this.cropChangeY+o:0);else{var i=this.cropW/this.fixedNumber[0]*this.fixedNumber[1];i+this.cropOffsertY>this.h?(this.cropH=this.h-this.cropOffsertY,this.cropW=this.cropH/this.fixedNumber[1]*this.fixedNumber[0],r>0?this.cropOffsertX=this.cropChangeX:this.cropOffsertX=this.cropChangeX-this.cropW):this.cropH=i,this.cropOffsertY=this.cropOffsertY}})},changeCropSize(t,e,n,r,o){t.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=e,this.canChangeY=n,this.changeCropTypeX=r,this.changeCropTypeY=o,this.cropX="clientX"in t?t.clientX:t.touches[0].clientX,this.cropY="clientY"in t?t.clientY:t.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow(t){t.preventDefault();var e="clientX"in t?t.clientX:t.touches?t.touches[0].clientX:0,n="clientY"in t?t.clientY:t.touches?t.touches[0].clientY:0;let r=this.w,o=this.h,i=0,a=0;if(this.centerBox){let c=this.getImgAxis(),u=c.x2,h=c.y2;i=c.x1>0?c.x1:0,a=c.y1>0?c.y1:0,r>u&&(r=u),o>h&&(o=h)}const[s,l]=this.checkCropLimitSize();this.$nextTick(()=>{var c=e-this.cropX,u=n-this.cropY;if(this.canChangeX&&(this.changeCropTypeX===1?this.cropOldW-c<s?(this.cropW=s,this.cropOffsertX=this.cropOldW+this.cropChangeX-i-s):this.cropOldW-c>0?(this.cropW=r-this.cropChangeX-c<=r-i?this.cropOldW-c:this.cropOldW+this.cropChangeX-i,this.cropOffsertX=r-this.cropChangeX-c<=r-i?this.cropChangeX+c:i):(this.cropW=Math.abs(c)+this.cropChangeX<=r?Math.abs(c)-this.cropOldW:r-this.cropOldW-this.cropChangeX,this.cropOffsertX=this.cropChangeX+this.cropOldW):this.changeCropTypeX===2&&(this.cropOldW+c<s?this.cropW=s:this.cropOldW+c>0?(this.cropW=this.cropOldW+c+this.cropOffsertX<=r?this.cropOldW+c:r-this.cropOffsertX,this.cropOffsertX=this.cropChangeX):(this.cropW=r-this.cropChangeX+Math.abs(c+this.cropOldW)<=r-i?Math.abs(c+this.cropOldW):this.cropChangeX-i,this.cropOffsertX=r-this.cropChangeX+Math.abs(c+this.cropOldW)<=r-i?this.cropChangeX-Math.abs(c+this.cropOldW):i))),this.canChangeY&&(this.changeCropTypeY===1?this.cropOldH-u<l?(this.cropH=l,this.cropOffsertY=this.cropOldH+this.cropChangeY-a-l):this.cropOldH-u>0?(this.cropH=o-this.cropChangeY-u<=o-a?this.cropOldH-u:this.cropOldH+this.cropChangeY-a,this.cropOffsertY=o-this.cropChangeY-u<=o-a?this.cropChangeY+u:a):(this.cropH=Math.abs(u)+this.cropChangeY<=o?Math.abs(u)-this.cropOldH:o-this.cropOldH-this.cropChangeY,this.cropOffsertY=this.cropChangeY+this.cropOldH):this.changeCropTypeY===2&&(this.cropOldH+u<l?this.cropH=l:this.cropOldH+u>0?(this.cropH=this.cropOldH+u+this.cropOffsertY<=o?this.cropOldH+u:o-this.cropOffsertY,this.cropOffsertY=this.cropChangeY):(this.cropH=o-this.cropChangeY+Math.abs(u+this.cropOldH)<=o-a?Math.abs(u+this.cropOldH):this.cropChangeY-a,this.cropOffsertY=o-this.cropChangeY+Math.abs(u+this.cropOldH)<=o-a?this.cropChangeY-Math.abs(u+this.cropOldH):a))),this.canChangeX&&this.fixed){var h=this.cropW/this.fixedNumber[0]*this.fixedNumber[1];h<l?(this.cropH=l,this.cropW=this.fixedNumber[0]*l/this.fixedNumber[1],this.changeCropTypeX===1&&(this.cropOffsertX=this.cropChangeX+(this.cropOldW-this.cropW))):h+this.cropOffsertY>o?(this.cropH=o-this.cropOffsertY,this.cropW=this.cropH/this.fixedNumber[1]*this.fixedNumber[0],this.changeCropTypeX===1&&(this.cropOffsertX=this.cropChangeX+(this.cropOldW-this.cropW))):this.cropH=h}if(this.canChangeY&&this.fixed){var f=this.cropH/this.fixedNumber[1]*this.fixedNumber[0];f<s?(this.cropW=s,this.cropH=this.fixedNumber[1]*s/this.fixedNumber[0],this.cropOffsertY=this.cropOldH+this.cropChangeY-this.cropH):f+this.cropOffsertX>r?(this.cropW=r-this.cropOffsertX,this.cropH=this.cropW/this.fixedNumber[0]*this.fixedNumber[1]):this.cropW=f}})},checkCropLimitSize(){let{cropW:t,cropH:e,limitMinSize:n}=this,r=new Array;return Array.isArray(n)?r=n:r=[n,n],t=parseFloat(r[0]),e=parseFloat(r[1]),[t,e]},changeCropEnd(t){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},calculateSize(t,e,n,r,o,i){const a=t/e;let s=o,l=i;return s<n&&(s=n,l=Math.ceil(s/a)),l<r&&(l=r,s=Math.ceil(l*a),s<n&&(s=n,l=Math.ceil(s/a))),s<o&&(s=o,l=Math.ceil(s/a)),l<i&&(l=i,s=Math.ceil(l*a)),{width:s,height:l}},endCrop(){this.cropW===0&&this.cropH===0&&(this.cropping=!1);let[t,e]=this.checkCropLimitSize();const{width:n,height:r}=this.fixed?this.calculateSize(this.fixedNumber[0],this.fixedNumber[1],t,e,this.cropW,this.cropH):{width:t,height:e};n>this.cropW&&(this.cropW=n,this.cropOffsertX+n>this.w&&(this.cropOffsertX=this.w-n)),r>this.cropH&&(this.cropH=r,this.cropOffsertY+r>this.h&&(this.cropOffsertY=this.h-r)),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop(){this.crop=!0},stopCrop(){this.crop=!1},clearCrop(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove(t){if(t.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(t),!1;if(t.touches&&t.touches.length===2)return this.crop=!1,this.startMove(t),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);let e="clientX"in t?t.clientX:t.touches[0].clientX,n="clientY"in t?t.clientY:t.touches[0].clientY,r,o;r=e-this.cropOffsertX,o=n-this.cropOffsertY,this.cropX=r,this.cropY=o,this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop(t,e){let n=0,r=0;t&&(t.preventDefault(),n="clientX"in t?t.clientX:t.touches[0].clientX,r="clientY"in t?t.clientY:t.touches[0].clientY),this.$nextTick(()=>{let o,i,a=n-this.cropX,s=r-this.cropY;if(e&&(a=this.cropOffsertX,s=this.cropOffsertY),a<=0?o=0:a+this.cropW>this.w?o=this.w-this.cropW:o=a,s<=0?i=0:s+this.cropH>this.h?i=this.h-this.cropH:i=s,this.centerBox){let l=this.getImgAxis();o<=l.x1&&(o=l.x1),o+this.cropW>l.x2&&(o=l.x2-this.cropW),i<=l.y1&&(i=l.y1),i+this.cropH>l.y2&&(i=l.y2-this.cropH)}this.cropOffsertX=o,this.cropOffsertY=i,this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})})},getImgAxis(t,e,n){t=t||this.x,e=e||this.y,n=n||this.scale;let r={x1:0,x2:0,y1:0,y2:0},o=this.trueWidth*n,i=this.trueHeight*n;switch(this.rotate){case 0:r.x1=t+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=e+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n;break;case 1:case-1:case 3:case-3:r.x1=t+this.trueWidth*(1-n)/2+(o-i)/2,r.x2=r.x1+this.trueHeight*n,r.y1=e+this.trueHeight*(1-n)/2+(i-o)/2,r.y2=r.y1+this.trueWidth*n;break;default:r.x1=t+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=e+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n;break}return r},getCropAxis(){let t={x1:0,x2:0,y1:0,y2:0};return t.x1=this.cropOffsertX,t.x2=t.x1+this.cropW,t.y1=this.cropOffsertY,t.y2=t.y1+this.cropH,t},leaveCrop(t){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked(t){let e=document.createElement("canvas"),n=e.getContext("2d"),r=new Image,o=this.rotate,i=this.trueWidth,a=this.trueHeight,s=this.cropOffsertX,l=this.cropOffsertY;r.onload=()=>{if(this.cropW!==0){let f=1;this.high&!this.full&&(f=window.devicePixelRatio),this.enlarge!==1&!this.full&&(f=Math.abs(Number(this.enlarge)));let p=this.cropW*f,m=this.cropH*f,v=i*this.scale*f,g=a*this.scale*f,b=(this.x-s+this.trueWidth*(1-this.scale)/2)*f,y=(this.y-l+this.trueHeight*(1-this.scale)/2)*f;switch(h(p,m),n.save(),o){case 0:this.full?(h(p/this.scale,m/this.scale),n.drawImage(r,b/this.scale,y/this.scale,v/this.scale,g/this.scale)):n.drawImage(r,b,y,v,g);break;case 1:case-3:this.full?(h(p/this.scale,m/this.scale),b=b/this.scale+(v/this.scale-g/this.scale)/2,y=y/this.scale+(g/this.scale-v/this.scale)/2,n.rotate(o*90*Math.PI/180),n.drawImage(r,y,-b-g/this.scale,v/this.scale,g/this.scale)):(b=b+(v-g)/2,y=y+(g-v)/2,n.rotate(o*90*Math.PI/180),n.drawImage(r,y,-b-g,v,g));break;case 2:case-2:this.full?(h(p/this.scale,m/this.scale),n.rotate(o*90*Math.PI/180),b=b/this.scale,y=y/this.scale,n.drawImage(r,-b-v/this.scale,-y-g/this.scale,v/this.scale,g/this.scale)):(n.rotate(o*90*Math.PI/180),n.drawImage(r,-b-v,-y-g,v,g));break;case 3:case-1:this.full?(h(p/this.scale,m/this.scale),b=b/this.scale+(v/this.scale-g/this.scale)/2,y=y/this.scale+(g/this.scale-v/this.scale)/2,n.rotate(o*90*Math.PI/180),n.drawImage(r,-y-v/this.scale,b,v/this.scale,g/this.scale)):(b=b+(v-g)/2,y=y+(g-v)/2,n.rotate(o*90*Math.PI/180),n.drawImage(r,-y-v,b,v,g));break;default:this.full?(h(p/this.scale,m/this.scale),n.drawImage(r,b/this.scale,y/this.scale,v/this.scale,g/this.scale)):n.drawImage(r,b,y,v,g)}n.restore()}else{let f=i*this.scale,p=a*this.scale;switch(n.save(),o){case 0:h(f,p),n.drawImage(r,0,0,f,p);break;case 1:case-3:h(p,f),n.rotate(o*90*Math.PI/180),n.drawImage(r,0,-p,f,p);break;case 2:case-2:h(f,p),n.rotate(o*90*Math.PI/180),n.drawImage(r,-f,-p,f,p);break;case 3:case-1:h(p,f),n.rotate(o*90*Math.PI/180),n.drawImage(r,-f,0,f,p);break;default:h(f,p),n.drawImage(r,0,0,f,p)}n.restore()}t(e)};var c=this.img.substr(0,4);c!=="data"&&(r.crossOrigin="Anonymous"),r.src=this.imgs;const u=this.fillColor;function h(f,p){e.width=Math.round(f),e.height=Math.round(p),u&&(n.fillStyle=u,n.fillRect(0,0,e.width,e.height))}},getCropData(t){this.getCropChecked(e=>{t(e.toDataURL("image/"+this.outputType,this.outputSize))})},getCropBlob(t){this.getCropChecked(e=>{e.toBlob(n=>t(n),"image/"+this.outputType,this.outputSize)})},showPreview(){if(this.isCanShow)this.isCanShow=!1,setTimeout(()=>{this.isCanShow=!0},16);else return!1;let t=this.cropW,e=this.cropH,n=this.scale;var r={};r.div={width:`${t}px`,height:`${e}px`};let o=(this.x-this.cropOffsertX)/n,i=(this.y-this.cropOffsertY)/n,a=0;r.w=t,r.h=e,r.url=this.imgs,r.img={width:`${this.trueWidth}px`,height:`${this.trueHeight}px`,transform:`scale(${n})translate3d(${o}px, ${i}px, ${a}px)rotateZ(${this.rotate*90}deg)`},r.html=`
      <div class="show-preview" style="width: ${r.w}px; height: ${r.h}px,; overflow: hidden">
        <div style="width: ${t}px; height: ${e}px">
          <img src=${r.url} style="width: ${this.trueWidth}px; height: ${this.trueHeight}px; transform:
          scale(${n})translate3d(${o}px, ${i}px, ${a}px)rotateZ(${this.rotate*90}deg)">
        </div>
      </div>`,this.$emit("real-time",r)},reload(){let t=new Image;t.onload=()=>{this.w=parseFloat(window.getComputedStyle(this.$refs.cropper).width),this.h=parseFloat(window.getComputedStyle(this.$refs.cropper).height),this.trueWidth=t.width,this.trueHeight=t.height,this.original?this.scale=1:this.scale=this.checkedMode(),this.$nextTick(()=>{this.x=-(this.trueWidth-this.trueWidth*this.scale)/2+(this.w-this.trueWidth*this.scale)/2,this.y=-(this.trueHeight-this.trueHeight*this.scale)/2+(this.h-this.trueHeight*this.scale)/2,this.loading=!1,this.autoCrop&&this.goAutoCrop(),this.$emit("img-load","success"),setTimeout(()=>{this.showPreview()},20)})},t.onerror=()=>{this.$emit("img-load","error")},t.src=this.imgs},checkedMode(){let t=1,e=this.trueWidth,n=this.trueHeight;const r=this.mode.split(" ");switch(r[0]){case"contain":this.trueWidth>this.w&&(t=this.w/this.trueWidth),this.trueHeight*t>this.h&&(t=this.h/this.trueHeight);break;case"cover":e=this.w,t=e/this.trueWidth,n=n*t,n<this.h&&(n=this.h,t=n/this.trueHeight);break;default:try{let o=r[0];if(o.search("px")!==-1){o=o.replace("px",""),e=parseFloat(o);const i=e/this.trueWidth;let a=1,s=r[1];s.search("px")!==-1&&(s=s.replace("px",""),n=parseFloat(s),a=n/this.trueHeight),t=Math.min(i,a)}if(o.search("%")!==-1&&(o=o.replace("%",""),e=parseFloat(o)/100*this.w,t=e/this.trueWidth),r.length===2&&o==="auto"){let i=r[1];i.search("px")!==-1&&(i=i.replace("px",""),n=parseFloat(i),t=n/this.trueHeight),i.search("%")!==-1&&(i=i.replace("%",""),n=parseFloat(i)/100*this.h,t=n/this.trueHeight)}}catch{t=1}}return t},goAutoCrop(t,e){if(this.imgs===""||this.imgs===null)return;this.clearCrop(),this.cropping=!0;let n=this.w,r=this.h;if(this.centerBox){const a=Math.abs(this.rotate)%2>0;let s=(a?this.trueHeight:this.trueWidth)*this.scale,l=(a?this.trueWidth:this.trueHeight)*this.scale;n=s<n?s:n,r=l<r?l:r}var o=t||parseFloat(this.autoCropWidth),i=e||parseFloat(this.autoCropHeight);(o===0||i===0)&&(o=n*.8,i=r*.8),o=o>n?n:o,i=i>r?r:i,this.fixed&&(i=o/this.fixedNumber[0]*this.fixedNumber[1]),i>this.h&&(i=this.h,o=i/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(o,i)},changeCrop(t,e){if(this.centerBox){let n=this.getImgAxis();t>n.x2-n.x1&&(t=n.x2-n.x1,e=t/this.fixedNumber[0]*this.fixedNumber[1]),e>n.y2-n.y1&&(e=n.y2-n.y1,t=e/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=t,this.cropH=e,this.checkCropLimitSize(),this.$nextTick(()=>{this.cropOffsertX=(this.w-this.cropW)/2,this.cropOffsertY=(this.h-this.cropH)/2,this.centerBox&&this.moveCrop(null,!0)})},refresh(){this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.imgIsQqualCrop=!1,this.clearCrop(),this.$nextTick(()=>{this.checkedImg()})},rotateLeft(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear(){this.rotate=0},checkoutImgAxis(t,e,n){t=t||this.x,e=e||this.y,n=n||this.scale;let r=!0;if(this.centerBox){let o=this.getImgAxis(t,e,n),i=this.getCropAxis();o.x1>=i.x1&&(r=!1),o.x2<=i.x2&&(r=!1),o.y1>=i.y1&&(r=!1),o.y2<=i.y2&&(r=!1),r||this.changeImgScale(o,i,n)}return r},changeImgScale(t,e,n){let r=this.trueWidth,o=this.trueHeight,i=r*n,a=o*n;if(i>=this.cropW&&a>=this.cropH)this.scale=n;else{const s=this.cropW/r,l=this.cropH/o,c=this.cropH<=o*s?s:l;this.scale=c,i=r*c,a=o*c}this.imgIsQqualCrop||(t.x1>=e.x1&&(this.isRotateRightOrLeft?this.x=e.x1-(r-i)/2-(i-a)/2:this.x=e.x1-(r-i)/2),t.x2<=e.x2&&(this.isRotateRightOrLeft?this.x=e.x1-(r-i)/2-(i-a)/2-a+this.cropW:this.x=e.x2-(r-i)/2-i),t.y1>=e.y1&&(this.isRotateRightOrLeft?this.y=e.y1-(o-a)/2-(a-i)/2:this.y=e.y1-(o-a)/2),t.y2<=e.y2&&(this.isRotateRightOrLeft?this.y=e.y2-(o-a)/2-(a-i)/2-i:this.y=e.y2-(o-a)/2-a)),(i<this.cropW||a<this.cropH)&&(this.imgIsQqualCrop=!0)}},mounted(){this.support="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";let t=this;var e=navigator.userAgent;this.isIOS=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(n,r,o){for(var i=atob(this.toDataURL(r,o).split(",")[1]),a=i.length,s=new Uint8Array(a),l=0;l<a;l++)s[l]=i.charCodeAt(l);n(new Blob([s],{type:t.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},unmounted(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.cancelScale()}}),LA={key:0,class:"cropper-box"},FA=["src"],IA={class:"cropper-view-box"},NA=["src"],jA={key:1};function BA(t,e,n,r,o,i){return Ve(),ct("div",{class:"vue-cropper",ref:"cropper",onMouseover:e[28]||(e[28]=(...a)=>t.scaleImg&&t.scaleImg(...a)),onMouseout:e[29]||(e[29]=(...a)=>t.cancelScale&&t.cancelScale(...a))},[t.imgs?(Ve(),ct("div",LA,[ud(at("div",{class:"cropper-box-canvas",style:pr({width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+t.x/t.scale+"px,"+t.y/t.scale+"px,0)rotateZ("+t.rotate*90+"deg)"})},[at("img",{src:t.imgs,alt:"cropper-img",ref:"cropperImg"},null,8,FA)],4),[[dd,!t.loading]])])):xn("",!0),at("div",{class:ba(["cropper-drag-box",{"cropper-move":t.move&&!t.crop,"cropper-crop":t.crop,"cropper-modal":t.cropping}]),onMousedown:e[0]||(e[0]=(...a)=>t.startMove&&t.startMove(...a)),onTouchstart:e[1]||(e[1]=(...a)=>t.startMove&&t.startMove(...a))},null,34),ud(at("div",{class:"cropper-crop-box",style:pr({width:t.cropW+"px",height:t.cropH+"px",transform:"translate3d("+t.cropOffsertX+"px,"+t.cropOffsertY+"px,0)"})},[at("span",IA,[at("img",{style:pr({width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+(t.x-t.cropOffsertX)/t.scale+"px,"+(t.y-t.cropOffsertY)/t.scale+"px,0)rotateZ("+t.rotate*90+"deg)"}),src:t.imgs,alt:"cropper-img"},null,12,NA)]),at("span",{class:"cropper-face cropper-move",onMousedown:e[2]||(e[2]=(...a)=>t.cropMove&&t.cropMove(...a)),onTouchstart:e[3]||(e[3]=(...a)=>t.cropMove&&t.cropMove(...a))},null,32),t.info?(Ve(),ct("span",{key:0,class:"crop-info",style:pr({top:t.cropInfo.top})},gs(t.cropInfo.width)+" × "+gs(t.cropInfo.height),5)):xn("",!0),t.fixedBox?xn("",!0):(Ve(),ct("span",jA,[at("span",{class:"crop-line line-w",onMousedown:e[4]||(e[4]=a=>t.changeCropSize(a,!1,!0,0,1)),onTouchstart:e[5]||(e[5]=a=>t.changeCropSize(a,!1,!0,0,1))},null,32),at("span",{class:"crop-line line-a",onMousedown:e[6]||(e[6]=a=>t.changeCropSize(a,!0,!1,1,0)),onTouchstart:e[7]||(e[7]=a=>t.changeCropSize(a,!0,!1,1,0))},null,32),at("span",{class:"crop-line line-s",onMousedown:e[8]||(e[8]=a=>t.changeCropSize(a,!1,!0,0,2)),onTouchstart:e[9]||(e[9]=a=>t.changeCropSize(a,!1,!0,0,2))},null,32),at("span",{class:"crop-line line-d",onMousedown:e[10]||(e[10]=a=>t.changeCropSize(a,!0,!1,2,0)),onTouchstart:e[11]||(e[11]=a=>t.changeCropSize(a,!0,!1,2,0))},null,32),at("span",{class:"crop-point point1",onMousedown:e[12]||(e[12]=a=>t.changeCropSize(a,!0,!0,1,1)),onTouchstart:e[13]||(e[13]=a=>t.changeCropSize(a,!0,!0,1,1))},null,32),at("span",{class:"crop-point point2",onMousedown:e[14]||(e[14]=a=>t.changeCropSize(a,!1,!0,0,1)),onTouchstart:e[15]||(e[15]=a=>t.changeCropSize(a,!1,!0,0,1))},null,32),at("span",{class:"crop-point point3",onMousedown:e[16]||(e[16]=a=>t.changeCropSize(a,!0,!0,2,1)),onTouchstart:e[17]||(e[17]=a=>t.changeCropSize(a,!0,!0,2,1))},null,32),at("span",{class:"crop-point point4",onMousedown:e[18]||(e[18]=a=>t.changeCropSize(a,!0,!1,1,0)),onTouchstart:e[19]||(e[19]=a=>t.changeCropSize(a,!0,!1,1,0))},null,32),at("span",{class:"crop-point point5",onMousedown:e[20]||(e[20]=a=>t.changeCropSize(a,!0,!1,2,0)),onTouchstart:e[21]||(e[21]=a=>t.changeCropSize(a,!0,!1,2,0))},null,32),at("span",{class:"crop-point point6",onMousedown:e[22]||(e[22]=a=>t.changeCropSize(a,!0,!0,1,2)),onTouchstart:e[23]||(e[23]=a=>t.changeCropSize(a,!0,!0,1,2))},null,32),at("span",{class:"crop-point point7",onMousedown:e[24]||(e[24]=a=>t.changeCropSize(a,!1,!0,0,2)),onTouchstart:e[25]||(e[25]=a=>t.changeCropSize(a,!1,!0,0,2))},null,32),at("span",{class:"crop-point point8",onMousedown:e[26]||(e[26]=a=>t.changeCropSize(a,!0,!0,2,2)),onTouchstart:e[27]||(e[27]=a=>t.changeCropSize(a,!0,!0,2,2))},null,32)]))],4),[[dd,t.cropping]])],544)}const zA=DA(PA,[["render",BA],["__scopeId","data-v-a742df44"]]),Bg="jinrishici-token";function UA(t,e){return window.localStorage&&window.localStorage.getItem(Bg)?WA(t,e,window.localStorage.getItem(Bg)):HA(t,e)}function HA(t,e){return w3(function(r){window.localStorage.setItem(Bg,r.token),t(r)},e,"https://v2.jinrishici.com/one.json?client=npm-sdk/1.0")}function WA(t,e,n){return w3(t,e,"https://v2.jinrishici.com/one.json?client=npm-sdk/1.0&X-User-Token="+encodeURIComponent(n))}function w3(t,e,n){var r=new XMLHttpRequest;r.open("get",n),r.withCredentials=!0,r.send(),r.onreadystatechange=function(){if(r.readyState===4){var o=JSON.parse(r.responseText);o.status==="success"?t(o):console.error("今日诗词API加载失败，错误原因："+o.errMessage)}}}var VA=Object.defineProperty,_d=Object.getOwnPropertySymbols,_3=Object.prototype.hasOwnProperty,k3=Object.prototype.propertyIsEnumerable,Sb=(t,e,n)=>e in t?VA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ja=(t,e)=>{for(var n in e||(e={}))_3.call(e,n)&&Sb(t,n,e[n]);if(_d)for(var n of _d(e))k3.call(e,n)&&Sb(t,n,e[n]);return t},C3=(t,e)=>{var n={};for(var r in t)_3.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&_d)for(var r of _d(t))e.indexOf(r)<0&&k3.call(t,r)&&(n[r]=t[r]);return n};const S3="[vue-draggable-plus]: ";function XA(t){console.warn(S3+t)}function YA(t){console.error(S3+t)}function Eb(t,e,n){return n>=0&&n<t.length&&t.splice(n,0,t.splice(e,1)[0]),t}function GA(t){return t.replace(/-(\w)/g,(e,n)=>n?n.toUpperCase():"")}function qA(t){return Object.keys(t).reduce((e,n)=>(typeof t[n]<"u"&&(e[GA(n)]=t[n]),e),{})}function Tb(t,e){return Array.isArray(t)&&t.splice(e,1),t}function Ob(t,e,n){return Array.isArray(t)&&t.splice(e,0,n),t}function KA(t){return typeof t>"u"}function ZA(t){return typeof t=="string"}function Ab(t,e,n){const r=t.children[n];t.insertBefore(e,r)}function qf(t){t.parentNode&&t.parentNode.removeChild(t)}function JA(t,e=document){var n;let r=null;return typeof e?.querySelector=="function"?r=(n=e?.querySelector)==null?void 0:n.call(e,t):r=document.querySelector(t),r||XA(`Element not found: ${t}`),r}function QA(t,e,n=null){return function(...r){return t.apply(n,r),e.apply(n,r)}}function eM(t,e){const n=Ja({},t);return Object.keys(e).forEach(r=>{n[r]?n[r]=QA(t[r],e[r]):n[r]=e[r]}),n}function tM(t){return t instanceof HTMLElement}function Mb(t,e){Object.keys(t).forEach(n=>{e(n,t[n])})}function nM(t){return t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97)}const rM=Object.assign;/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function $b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$b(Object(n),!0).forEach(function(r){oM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(e){return typeof e}:Wu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function oM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ko(){return Ko=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(this,arguments)}function iM(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function aM(t,e){if(t==null)return{};var n=iM(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var sM="1.15.2";function Yo(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var si=Yo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),gc=Yo(/Edge/i),Rb=Yo(/firefox/i),kl=Yo(/safari/i)&&!Yo(/chrome/i)&&!Yo(/android/i),E3=Yo(/iP(ad|od|hone)/i),T3=Yo(/chrome/i)&&Yo(/android/i),O3={capture:!1,passive:!1};function xt(t,e,n){t.addEventListener(e,n,!si&&O3)}function gt(t,e,n){t.removeEventListener(e,n,!si&&O3)}function kd(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function lM(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Br(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&kd(t,e):kd(t,e))||r&&t===n)return t;if(t===n)break}while(t=lM(t))}return null}var Db=/\s+/g;function ur(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(Db," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(Db," ")}}function He(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function is(t,e){var n="";if(typeof t=="string")n=t;else do{var r=He(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function A3(t,e,n){if(t){var r=t.getElementsByTagName(e),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function xo(){var t=document.scrollingElement;return t||document.documentElement}function rn(t,e,n,r,o){if(!(!t.getBoundingClientRect&&t!==window)){var i,a,s,l,c,u,h;if(t!==window&&t.parentNode&&t!==xo()?(i=t.getBoundingClientRect(),a=i.top,s=i.left,l=i.bottom,c=i.right,u=i.height,h=i.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!si))do if(o&&o.getBoundingClientRect&&(He(o,"transform")!=="none"||n&&He(o,"position")!=="static")){var f=o.getBoundingClientRect();a-=f.top+parseInt(He(o,"border-top-width")),s-=f.left+parseInt(He(o,"border-left-width")),l=a+i.height,c=s+i.width;break}while(o=o.parentNode);if(r&&t!==window){var p=is(o||t),m=p&&p.a,v=p&&p.d;p&&(a/=v,s/=m,h/=m,u/=v,l=a+u,c=s+h)}return{top:a,left:s,bottom:l,right:c,width:h,height:u}}}function Pb(t,e,n){for(var r=ki(t,!0),o=rn(t)[e];r;){var i=rn(r)[n],a=void 0;if(a=o>=i,!a)return r;if(r===xo())break;r=ki(r,!1)}return!1}function ks(t,e,n,r){for(var o=0,i=0,a=t.children;i<a.length;){if(a[i].style.display!=="none"&&a[i]!==We.ghost&&(r||a[i]!==We.dragged)&&Br(a[i],n.draggable,t,!1)){if(o===e)return a[i];o++}i++}return null}function C0(t,e){for(var n=t.lastElementChild;n&&(n===We.ghost||He(n,"display")==="none"||e&&!kd(n,e));)n=n.previousElementSibling;return n||null}function Cr(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==We.clone&&(!e||kd(t,e))&&n++;return n}function Lb(t){var e=0,n=0,r=xo();if(t)do{var o=is(t),i=o.a,a=o.d;e+=t.scrollLeft*i,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function cM(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function ki(t,e){if(!t||!t.getBoundingClientRect)return xo();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=He(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return xo();if(r||e)return n;r=!0}}while(n=n.parentNode);return xo()}function uM(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Kf(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Cl;function M3(t,e){return function(){if(!Cl){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Cl=setTimeout(function(){Cl=void 0},e)}}}function dM(){clearTimeout(Cl),Cl=void 0}function $3(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function R3(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function D3(t,e,n){var r={};return Array.from(t.children).forEach(function(o){var i,a,s,l;if(!(!Br(o,e.draggable,t,!1)||o.animated||o===n)){var c=rn(o);r.left=Math.min((i=r.left)!==null&&i!==void 0?i:1/0,c.left),r.top=Math.min((a=r.top)!==null&&a!==void 0?a:1/0,c.top),r.right=Math.max((s=r.right)!==null&&s!==void 0?s:-1/0,c.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var fr="Sortable"+new Date().getTime();function hM(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(He(r,"display")==="none"||r===We.ghost)){t.push({target:r,rect:rn(r)});var o=ko({},t[t.length-1].rect);if(r.thisAnimationDuration){var i=is(r,!0);i&&(o.top-=i.f,o.left-=i.e)}r.fromRect=o}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(cM(t,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var o=!1,i=0;t.forEach(function(a){var s=0,l=a.target,c=l.fromRect,u=rn(l),h=l.prevFromRect,f=l.prevToRect,p=a.rect,m=is(l,!0);m&&(u.top-=m.f,u.left-=m.e),l.toRect=u,l.thisAnimationDuration&&Kf(h,u)&&!Kf(c,u)&&(p.top-u.top)/(p.left-u.left)===(c.top-u.top)/(c.left-u.left)&&(s=pM(p,h,f,r.options)),Kf(u,c)||(l.prevFromRect=c,l.prevToRect=u,s||(s=r.options.animation),r.animate(l,p,u,s)),s&&(o=!0,i=Math.max(i,s),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},s),l.thisAnimationDuration=s)}),clearTimeout(e),o?e=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),t=[]},animate:function(n,r,o,i){if(i){He(n,"transition",""),He(n,"transform","");var a=is(this.el),s=a&&a.a,l=a&&a.d,c=(r.left-o.left)/(s||1),u=(r.top-o.top)/(l||1);n.animatingX=!!c,n.animatingY=!!u,He(n,"transform","translate3d("+c+"px,"+u+"px,0)"),this.forRepaintDummy=fM(n),He(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),He(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){He(n,"transition",""),He(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function fM(t){return t.offsetWidth}function pM(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var Na=[],Zf={initializeByDefault:!0},mc={mount:function(t){for(var e in Zf)Zf.hasOwnProperty(e)&&!(e in t)&&(t[e]=Zf[e]);Na.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Na.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=t+"Global";Na.forEach(function(i){e[i.pluginName]&&(e[i.pluginName][o]&&e[i.pluginName][o](ko({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](ko({sortable:e},n)))})},initializePlugins:function(t,e,n,r){Na.forEach(function(a){var s=a.pluginName;if(!(!t.options[s]&&!a.initializeByDefault)){var l=new a(t,e,t.options);l.sortable=t,l.options=t.options,t[s]=l,Ko(n,l.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var i=this.modifyOption(t,o,t.options[o]);typeof i<"u"&&(t.options[o]=i)}},getEventProperties:function(t,e){var n={};return Na.forEach(function(r){typeof r.eventProperties=="function"&&Ko(n,r.eventProperties.call(e[r.pluginName],t))}),n},modifyOption:function(t,e,n){var r;return Na.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[e]=="function"&&(r=o.optionListeners[e].call(t[o.pluginName],n))}),r}};function gM(t){var e=t.sortable,n=t.rootEl,r=t.name,o=t.targetEl,i=t.cloneEl,a=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,h=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[fr],!!e){var v,g=e.options,b="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!si&&!gc?v=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(r,!0,!0)),v.to=a||n,v.from=s||n,v.item=o||n,v.clone=i,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=u,v.newDraggableIndex=h,v.originalEvent=f,v.pullMode=p?p.lastPutMode:void 0;var y=ko(ko({},m),mc.getEventProperties(r,e));for(var x in y)v[x]=y[x];n&&n.dispatchEvent(v),g[b]&&g[b].call(e,v)}}var mM=["evt"],Xn=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,o=aM(n,mM);mc.pluginEvent.bind(We)(t,e,ko({dragEl:Se,parentEl:Vt,ghostEl:Ke,rootEl:It,nextEl:Zi,lastDownEl:Vu,cloneEl:jt,cloneHidden:_i,dragStarted:pl,putSortable:kn,activeSortable:We.active,originalEvent:r,oldIndex:Qa,oldDraggableIndex:Sl,newIndex:dr,newDraggableIndex:xi,hideGhostForTarget:I3,unhideGhostForTarget:N3,cloneNowHidden:function(){_i=!0},cloneNowShown:function(){_i=!1},dispatchSortableEvent:function(i){jn({sortable:e,name:i,originalEvent:r})}},o))};function jn(t){gM(ko({putSortable:kn,cloneEl:jt,targetEl:Se,rootEl:It,oldIndex:Qa,oldDraggableIndex:Sl,newIndex:dr,newDraggableIndex:xi},t))}var Se,Vt,Ke,It,Zi,Vu,jt,_i,Qa,dr,Sl,xi,jc,kn,Ya=!1,Cd=!1,Sd=[],Gi,Fr,Jf,Qf,Fb,Ib,pl,ja,El,Tl=!1,Bc=!1,Xu,An,ep=[],zg=!1,Ed=[],Dh=typeof document<"u",zc=E3,Nb=gc||si?"cssFloat":"float",vM=Dh&&!T3&&!E3&&"draggable"in document.createElement("div"),P3=function(){if(Dh){if(si)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),L3=function(t,e){var n=He(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=ks(t,0,e),i=ks(t,1,e),a=o&&He(o),s=i&&He(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+rn(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+rn(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var u=a.float==="left"?"left":"right";return i&&(s.clear==="both"||s.clear===u)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||l>=r&&n[Nb]==="none"||i&&n[Nb]==="none"&&l+c>r)?"vertical":"horizontal"},bM=function(t,e,n){var r=n?t.left:t.top,o=n?t.right:t.bottom,i=n?t.width:t.height,a=n?e.left:e.top,s=n?e.right:e.bottom,l=n?e.width:e.height;return r===a||o===s||r+i/2===a+l/2},yM=function(t,e){var n;return Sd.some(function(r){var o=r[fr].options.emptyInsertThreshold;if(!(!o||C0(r))){var i=rn(r),a=t>=i.left-o&&t<=i.right+o,s=e>=i.top-o&&e<=i.bottom+o;if(a&&s)return n=r}}),n},F3=function(t){function e(o,i){return function(a,s,l,c){var u=a.options.group.name&&s.options.group.name&&a.options.group.name===s.options.group.name;if(o==null&&(i||u))return!0;if(o==null||o===!1)return!1;if(i&&o==="clone")return o;if(typeof o=="function")return e(o(a,s,l,c),i)(a,s,l,c);var h=(i?a:s).options.group.name;return o===!0||typeof o=="string"&&o===h||o.join&&o.indexOf(h)>-1}}var n={},r=t.group;(!r||Wu(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},I3=function(){!P3&&Ke&&He(Ke,"display","none")},N3=function(){!P3&&Ke&&He(Ke,"display","")};Dh&&!T3&&document.addEventListener("click",function(t){if(Cd)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Cd=!1,!1},!0);var qi=function(t){if(Se){t=t.touches?t.touches[0]:t;var e=yM(t.clientX,t.clientY);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[fr]._onDragOver(n)}}},xM=function(t){Se&&Se.parentNode[fr]._isOutsideThisEl(t.target)};function We(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Ko({},e),t[fr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return L3(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,a){i.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:We.supportPointer!==!1&&"PointerEvent"in window&&!kl,emptyInsertThreshold:5};mc.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);F3(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:vM,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?xt(t,"pointerdown",this._onTapStart):(xt(t,"mousedown",this._onTapStart),xt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(xt(t,"dragover",this),xt(t,"dragenter",this)),Sd.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ko(this,hM())}We.prototype={constructor:We,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(ja=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,Se):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,o=r.preventOnFilter,i=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=r.filter;if(OM(n),!Se&&!(/mousedown|pointerdown/.test(i)&&t.button!==0||r.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&kl&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Br(s,r.draggable,n,!1),!(s&&s.animated)&&Vu!==s)){if(Qa=Cr(s),Sl=Cr(s,r.draggable),typeof c=="function"){if(c.call(this,t,s,this)){jn({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),Xn("filter",e,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(u){if(u=Br(l,u.trim(),n,!1),u)return jn({sortable:e,rootEl:u,name:"filter",targetEl:s,fromEl:n,toEl:n}),Xn("filter",e,{evt:t}),!0}),c)){o&&t.cancelable&&t.preventDefault();return}r.handle&&!Br(l,r.handle,n,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,n){var r=this,o=r.el,i=r.options,a=o.ownerDocument,s;if(n&&!Se&&n.parentNode===o){var l=rn(n);if(It=o,Se=n,Vt=Se.parentNode,Zi=Se.nextSibling,Vu=n,jc=i.group,We.dragged=Se,Gi={target:Se,clientX:(e||t).clientX,clientY:(e||t).clientY},Fb=Gi.clientX-l.left,Ib=Gi.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Se.style["will-change"]="all",s=function(){if(Xn("delayEnded",r,{evt:t}),We.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Rb&&r.nativeDraggable&&(Se.draggable=!0),r._triggerDragStart(t,e),jn({sortable:r,name:"choose",originalEvent:t}),ur(Se,i.chosenClass,!0)},i.ignore.split(",").forEach(function(c){A3(Se,c.trim(),tp)}),xt(a,"dragover",qi),xt(a,"mousemove",qi),xt(a,"touchmove",qi),xt(a,"mouseup",r._onDrop),xt(a,"touchend",r._onDrop),xt(a,"touchcancel",r._onDrop),Rb&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Se.draggable=!0),Xn("delayStart",this,{evt:t}),i.delay&&(!i.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(gc||si))){if(We.eventCanceled){this._onDrop();return}xt(a,"mouseup",r._disableDelayedDrag),xt(a,"touchend",r._disableDelayedDrag),xt(a,"touchcancel",r._disableDelayedDrag),xt(a,"mousemove",r._delayedDragTouchMoveHandler),xt(a,"touchmove",r._delayedDragTouchMoveHandler),i.supportPointer&&xt(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(s,i.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Se&&tp(Se),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;gt(t,"mouseup",this._disableDelayedDrag),gt(t,"touchend",this._disableDelayedDrag),gt(t,"touchcancel",this._disableDelayedDrag),gt(t,"mousemove",this._delayedDragTouchMoveHandler),gt(t,"touchmove",this._delayedDragTouchMoveHandler),gt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?xt(document,"pointermove",this._onTouchMove):e?xt(document,"touchmove",this._onTouchMove):xt(document,"mousemove",this._onTouchMove):(xt(Se,"dragend",this),xt(It,"dragstart",this._onDragStart));try{document.selection?Yu(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(Ya=!1,It&&Se){Xn("dragStarted",this,{evt:e}),this.nativeDraggable&&xt(document,"dragover",xM);var n=this.options;!t&&ur(Se,n.dragClass,!1),ur(Se,n.ghostClass,!0),We.active=this,t&&this._appendGhost(),jn({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Fr){this._lastX=Fr.clientX,this._lastY=Fr.clientY,I3();for(var t=document.elementFromPoint(Fr.clientX,Fr.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Fr.clientX,Fr.clientY),t!==e);)e=t;if(Se.parentNode[fr]._isOutsideThisEl(t),e)do{if(e[fr]){var n=void 0;if(n=e[fr]._onDragOver({clientX:Fr.clientX,clientY:Fr.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);N3()}},_onTouchMove:function(t){if(Gi){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,i=Ke&&is(Ke,!0),a=Ke&&i&&i.a,s=Ke&&i&&i.d,l=zc&&An&&Lb(An),c=(o.clientX-Gi.clientX+r.x)/(a||1)+(l?l[0]-ep[0]:0)/(a||1),u=(o.clientY-Gi.clientY+r.y)/(s||1)+(l?l[1]-ep[1]:0)/(s||1);if(!We.active&&!Ya){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Ke){i?(i.e+=c-(Jf||0),i.f+=u-(Qf||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var h="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");He(Ke,"webkitTransform",h),He(Ke,"mozTransform",h),He(Ke,"msTransform",h),He(Ke,"transform",h),Jf=c,Qf=u,Fr=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ke){var t=this.options.fallbackOnBody?document.body:It,e=rn(Se,!0,zc,!0,t),n=this.options;if(zc){for(An=t;He(An,"position")==="static"&&He(An,"transform")==="none"&&An!==document;)An=An.parentNode;An!==document.body&&An!==document.documentElement?(An===document&&(An=xo()),e.top+=An.scrollTop,e.left+=An.scrollLeft):An=xo(),ep=Lb(An)}Ke=Se.cloneNode(!0),ur(Ke,n.ghostClass,!1),ur(Ke,n.fallbackClass,!0),ur(Ke,n.dragClass,!0),He(Ke,"transition",""),He(Ke,"transform",""),He(Ke,"box-sizing","border-box"),He(Ke,"margin",0),He(Ke,"top",e.top),He(Ke,"left",e.left),He(Ke,"width",e.width),He(Ke,"height",e.height),He(Ke,"opacity","0.8"),He(Ke,"position",zc?"absolute":"fixed"),He(Ke,"zIndex","100000"),He(Ke,"pointerEvents","none"),We.ghost=Ke,t.appendChild(Ke),He(Ke,"transform-origin",Fb/parseInt(Ke.style.width)*100+"% "+Ib/parseInt(Ke.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,o=n.options;if(Xn("dragStart",this,{evt:t}),We.eventCanceled){this._onDrop();return}Xn("setupClone",this),We.eventCanceled||(jt=R3(Se),jt.removeAttribute("id"),jt.draggable=!1,jt.style["will-change"]="",this._hideClone(),ur(jt,this.options.chosenClass,!1),We.clone=jt),n.cloneId=Yu(function(){Xn("clone",n),!We.eventCanceled&&(n.options.removeCloneOnHide||It.insertBefore(jt,Se),n._hideClone(),jn({sortable:n,name:"clone"}))}),!e&&ur(Se,o.dragClass,!0),e?(Cd=!0,n._loopId=setInterval(n._emulateDragOver,50)):(gt(document,"mouseup",n._onDrop),gt(document,"touchend",n._onDrop),gt(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,Se)),xt(document,"drop",n),He(Se,"transform","translateZ(0)")),Ya=!0,n._dragStartId=Yu(n._dragStarted.bind(n,e,t)),xt(document,"selectstart",n),pl=!0,kl&&He(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,n=t.target,r,o,i,a=this.options,s=a.group,l=We.active,c=jc===s,u=a.sort,h=kn||l,f,p=this,m=!1;if(zg)return;function v(L,P){Xn(L,p,ko({evt:t,isOwner:c,axis:f?"vertical":"horizontal",revert:i,dragRect:r,targetRect:o,canSort:u,fromSortable:h,target:n,completed:b,onMove:function(N,j){return Uc(It,e,Se,r,N,rn(N),t,j)},changed:y},P))}function g(){v("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function b(L){return v("dragOverCompleted",{insertion:L}),L&&(c?l._hideClone():l._showClone(p),p!==h&&(ur(Se,kn?kn.options.ghostClass:l.options.ghostClass,!1),ur(Se,a.ghostClass,!0)),kn!==p&&p!==We.active?kn=p:p===We.active&&kn&&(kn=null),h===p&&(p._ignoreWhileAnimating=n),p.animateAll(function(){v("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(n===Se&&!Se.animated||n===e&&!n.animated)&&(ja=null),!a.dragoverBubble&&!t.rootEl&&n!==document&&(Se.parentNode[fr]._isOutsideThisEl(t.target),!L&&qi(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function y(){dr=Cr(Se),xi=Cr(Se,a.draggable),jn({sortable:p,name:"change",toEl:e,newIndex:dr,newDraggableIndex:xi,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=Br(n,a.draggable,e,!0),v("dragOver"),We.eventCanceled)return m;if(Se.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||p._ignoreWhileAnimating===n)return b(!1);if(Cd=!1,l&&!a.disabled&&(c?u||(i=Vt!==It):kn===this||(this.lastPutMode=jc.checkPull(this,l,Se,t))&&s.checkPut(this,l,Se,t))){if(f=this._getDirection(t,n)==="vertical",r=rn(Se),v("dragOverValid"),We.eventCanceled)return m;if(i)return Vt=It,g(),this._hideClone(),v("revert"),We.eventCanceled||(Zi?It.insertBefore(Se,Zi):It.appendChild(Se)),b(!0);var x=C0(e,a.draggable);if(!x||CM(t,f,this)&&!x.animated){if(x===Se)return b(!1);if(x&&e===t.target&&(n=x),n&&(o=rn(n)),Uc(It,e,Se,r,n,o,t,!!n)!==!1)return g(),x&&x.nextSibling?e.insertBefore(Se,x.nextSibling):e.appendChild(Se),Vt=e,y(),b(!0)}else if(x&&kM(t,f,this)){var w=ks(e,0,a,!0);if(w===Se)return b(!1);if(n=w,o=rn(n),Uc(It,e,Se,r,n,o,t,!1)!==!1)return g(),e.insertBefore(Se,w),Vt=e,y(),b(!0)}else if(n.parentNode===e){o=rn(n);var _=0,k,E=Se.parentNode!==e,$=!bM(Se.animated&&Se.toRect||r,n.animated&&n.toRect||o,f),A=f?"top":"left",D=Pb(n,"top","top")||Pb(Se,"top","top"),O=D?D.scrollTop:void 0;ja!==n&&(k=o[A],Tl=!1,Bc=!$&&a.invertSwap||E),_=SM(t,n,o,f,$?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Bc,ja===n);var S;if(_!==0){var T=Cr(Se);do T-=_,S=Vt.children[T];while(S&&(He(S,"display")==="none"||S===Ke))}if(_===0||S===n)return b(!1);ja=n,El=_;var C=n.nextElementSibling,M=!1;M=_===1;var R=Uc(It,e,Se,r,n,o,t,M);if(R!==!1)return(R===1||R===-1)&&(M=R===1),zg=!0,setTimeout(_M,30),g(),M&&!C?e.appendChild(Se):n.parentNode.insertBefore(Se,M?C:n),D&&$3(D,0,O-D.scrollTop),Vt=Se.parentNode,k!==void 0&&!Bc&&(Xu=Math.abs(k-rn(n)[A])),y(),b(!0)}if(e.contains(Se))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){gt(document,"mousemove",this._onTouchMove),gt(document,"touchmove",this._onTouchMove),gt(document,"pointermove",this._onTouchMove),gt(document,"dragover",qi),gt(document,"mousemove",qi),gt(document,"touchmove",qi)},_offUpEvents:function(){var t=this.el.ownerDocument;gt(t,"mouseup",this._onDrop),gt(t,"touchend",this._onDrop),gt(t,"pointerup",this._onDrop),gt(t,"touchcancel",this._onDrop),gt(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(dr=Cr(Se),xi=Cr(Se,n.draggable),Xn("drop",this,{evt:t}),Vt=Se&&Se.parentNode,dr=Cr(Se),xi=Cr(Se,n.draggable),We.eventCanceled){this._nulling();return}Ya=!1,Bc=!1,Tl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ug(this.cloneId),Ug(this._dragStartId),this.nativeDraggable&&(gt(document,"drop",this),gt(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),kl&&He(document.body,"user-select",""),He(Se,"transform",""),t&&(pl&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Ke&&Ke.parentNode&&Ke.parentNode.removeChild(Ke),(It===Vt||kn&&kn.lastPutMode!=="clone")&&jt&&jt.parentNode&&jt.parentNode.removeChild(jt),Se&&(this.nativeDraggable&&gt(Se,"dragend",this),tp(Se),Se.style["will-change"]="",pl&&!Ya&&ur(Se,kn?kn.options.ghostClass:this.options.ghostClass,!1),ur(Se,this.options.chosenClass,!1),jn({sortable:this,name:"unchoose",toEl:Vt,newIndex:null,newDraggableIndex:null,originalEvent:t}),It!==Vt?(dr>=0&&(jn({rootEl:Vt,name:"add",toEl:Vt,fromEl:It,originalEvent:t}),jn({sortable:this,name:"remove",toEl:Vt,originalEvent:t}),jn({rootEl:Vt,name:"sort",toEl:Vt,fromEl:It,originalEvent:t}),jn({sortable:this,name:"sort",toEl:Vt,originalEvent:t})),kn&&kn.save()):dr!==Qa&&dr>=0&&(jn({sortable:this,name:"update",toEl:Vt,originalEvent:t}),jn({sortable:this,name:"sort",toEl:Vt,originalEvent:t})),We.active&&((dr==null||dr===-1)&&(dr=Qa,xi=Sl),jn({sortable:this,name:"end",toEl:Vt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Xn("nulling",this),It=Se=Vt=Ke=Zi=jt=Vu=_i=Gi=Fr=pl=dr=xi=Qa=Sl=ja=El=kn=jc=We.dragged=We.ghost=We.clone=We.active=null,Ed.forEach(function(t){t.checked=!0}),Ed.length=Jf=Qf=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Se&&(this._onDragOver(t),wM(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)e=n[r],Br(e,i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||TM(e));return t},sort:function(t,e){var n={},r=this.el;this.toArray().forEach(function(o,i){var a=r.children[i];Br(a,this.options.draggable,r,!1)&&(n[o]=a)},this),e&&this.captureAnimationState(),t.forEach(function(o){n[o]&&(r.removeChild(n[o]),r.appendChild(n[o]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Br(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(e===void 0)return n[t];var r=mc.modifyOption(this,t,e);typeof r<"u"?n[t]=r:n[t]=e,t==="group"&&F3(n)},destroy:function(){Xn("destroy",this);var t=this.el;t[fr]=null,gt(t,"mousedown",this._onTapStart),gt(t,"touchstart",this._onTapStart),gt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(gt(t,"dragover",this),gt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Sd.splice(Sd.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!_i){if(Xn("hideClone",this),We.eventCanceled)return;He(jt,"display","none"),this.options.removeCloneOnHide&&jt.parentNode&&jt.parentNode.removeChild(jt),_i=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(_i){if(Xn("showClone",this),We.eventCanceled)return;Se.parentNode==It&&!this.options.group.revertClone?It.insertBefore(jt,Se):Zi?It.insertBefore(jt,Zi):It.appendChild(jt),this.options.group.revertClone&&this.animate(Se,jt),He(jt,"display",""),_i=!1}}};function wM(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Uc(t,e,n,r,o,i,a,s){var l,c=t[fr],u=c.options.onMove,h;return window.CustomEvent&&!si&&!gc?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=o||e,l.relatedRect=i||rn(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),u&&(h=u.call(c,l,a)),h}function tp(t){t.draggable=!1}function _M(){zg=!1}function kM(t,e,n){var r=rn(ks(n.el,0,n.options,!0)),o=D3(n.el,n.options,Ke),i=10;return e?t.clientX<o.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<o.top-i||t.clientY<r.bottom&&t.clientX<r.left}function CM(t,e,n){var r=rn(C0(n.el,n.options.draggable)),o=D3(n.el,n.options,Ke),i=10;return e?t.clientX>o.right+i||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>o.bottom+i||t.clientX>r.right&&t.clientY>r.top}function SM(t,e,n,r,o,i,a,s){var l=r?t.clientY:t.clientX,c=r?n.height:n.width,u=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!a){if(s&&Xu<c*o){if(!Tl&&(El===1?l>u+c*i/2:l<h-c*i/2)&&(Tl=!0),Tl)f=!0;else if(El===1?l<u+Xu:l>h-Xu)return-El}else if(l>u+c*(1-o)/2&&l<h-c*(1-o)/2)return EM(e)}return f=f||a,f&&(l<u+c*i/2||l>h-c*i/2)?l>u+c/2?1:-1:0}function EM(t){return Cr(Se)<Cr(t)?1:-1}function TM(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function OM(t){Ed.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Ed.push(r)}}function Yu(t){return setTimeout(t,0)}function Ug(t){return clearTimeout(t)}Dh&&xt(document,"touchmove",function(t){(We.active||Ya)&&t.cancelable&&t.preventDefault()});We.utils={on:xt,off:gt,css:He,find:A3,is:function(t,e){return!!Br(t,e,t,!1)},extend:uM,throttle:M3,closest:Br,toggleClass:ur,clone:R3,index:Cr,nextTick:Yu,cancelNextTick:Ug,detectDirection:L3,getChild:ks};We.get=function(t){return t[fr]};We.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(We.utils=ko(ko({},We.utils),r.utils)),mc.mount(r)})};We.create=function(t,e){return new We(t,e)};We.version=sM;var nn=[],gl,Hg,Wg=!1,np,rp,Td,ml;function AM(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(e){var n=e.originalEvent;this.sortable.nativeDraggable?xt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?xt(document,"pointermove",this._handleFallbackAutoScroll):n.touches?xt(document,"touchmove",this._handleFallbackAutoScroll):xt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var n=e.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?gt(document,"dragover",this._handleAutoScroll):(gt(document,"pointermove",this._handleFallbackAutoScroll),gt(document,"touchmove",this._handleFallbackAutoScroll),gt(document,"mousemove",this._handleFallbackAutoScroll)),jb(),Gu(),dM()},nulling:function(){Td=Hg=gl=Wg=ml=np=rp=null,nn.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,n){var r=this,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(o,i);if(Td=e,n||this.options.forceAutoScrollFallback||gc||si||kl){op(e,this.options,a,n);var s=ki(a,!0);Wg&&(!ml||o!==np||i!==rp)&&(ml&&jb(),ml=setInterval(function(){var l=ki(document.elementFromPoint(o,i),!0);l!==s&&(s=l,Gu()),op(e,r.options,l,n)},10),np=o,rp=i)}else{if(!this.options.bubbleScroll||ki(a,!0)===xo()){Gu();return}op(e,this.options,ki(a,!1),!1)}}},Ko(t,{pluginName:"scroll",initializeByDefault:!0})}function Gu(){nn.forEach(function(t){clearInterval(t.pid)}),nn=[]}function jb(){clearInterval(ml)}var op=M3(function(t,e,n,r){if(e.scroll){var o=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,s=e.scrollSpeed,l=xo(),c=!1,u;Hg!==n&&(Hg=n,Gu(),gl=e.scroll,u=e.scrollFn,gl===!0&&(gl=ki(n,!0)));var h=0,f=gl;do{var p=f,m=rn(p),v=m.top,g=m.bottom,b=m.left,y=m.right,x=m.width,w=m.height,_=void 0,k=void 0,E=p.scrollWidth,$=p.scrollHeight,A=He(p),D=p.scrollLeft,O=p.scrollTop;p===l?(_=x<E&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),k=w<$&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(_=x<E&&(A.overflowX==="auto"||A.overflowX==="scroll"),k=w<$&&(A.overflowY==="auto"||A.overflowY==="scroll"));var S=_&&(Math.abs(y-o)<=a&&D+x<E)-(Math.abs(b-o)<=a&&!!D),T=k&&(Math.abs(g-i)<=a&&O+w<$)-(Math.abs(v-i)<=a&&!!O);if(!nn[h])for(var C=0;C<=h;C++)nn[C]||(nn[C]={});(nn[h].vx!=S||nn[h].vy!=T||nn[h].el!==p)&&(nn[h].el=p,nn[h].vx=S,nn[h].vy=T,clearInterval(nn[h].pid),(S!=0||T!=0)&&(c=!0,nn[h].pid=setInterval((function(){r&&this.layer===0&&We.active._onTouchMove(Td);var M=nn[this.layer].vy?nn[this.layer].vy*s:0,R=nn[this.layer].vx?nn[this.layer].vx*s:0;typeof u=="function"&&u.call(We.dragged.parentNode[fr],R,M,t,Td,nn[this.layer].el)!=="continue"||$3(nn[this.layer].el,R,M)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&f!==l&&(f=ki(f,!1)));Wg=c}},30),j3=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,o=t.activeSortable,i=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var l=n||o;a();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function S0(){}S0.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=ks(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:j3};Ko(S0,{pluginName:"revertOnSpill"});function E0(){}E0.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,r=n||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:j3};Ko(E0,{pluginName:"removeOnSpill"});We.mount(new AM);We.mount(E0,S0);function MM(t){return t==null?t:JSON.parse(JSON.stringify(t))}function $M(t){Wn()&&Ps(t)}function RM(t){Wn()?vn(t):Lt(t)}let B3=null,z3=null;function Bb(t=null,e=null){B3=t,z3=e}function DM(){return{data:B3,clonedData:z3}}const zb=Symbol("cloneElement");function PM(...t){var e,n;const r=(e=Wn())==null?void 0:e.proxy;let o=null;const i=t[0];let[,a,s]=t;Array.isArray(_e(a))||(s=a,a=null);let l=null;const{immediate:c=!0,clone:u=MM,customUpdate:h}=(n=_e(s))!=null?n:{};function f($){var A;const{from:D,oldIndex:O,item:S}=$;o=Array.from(D.childNodes);const T=_e((A=_e(a))==null?void 0:A[O]),C=u(T);Bb(T,C),S[zb]=C}function p($){const A=$.item[zb];if(!KA(A)){if(qf($.item),Tr(a)){const D=[..._e(a)];a.value=Ob(D,$.newDraggableIndex,A);return}Ob(_e(a),$.newDraggableIndex,A)}}function m($){const{from:A,item:D,oldIndex:O,oldDraggableIndex:S,pullMode:T,clone:C}=$;if(Ab(A,D,O),T==="clone"){qf(C);return}if(Tr(a)){const M=[..._e(a)];a.value=Tb(M,S);return}Tb(_e(a),S)}function v($){if(h){h($);return}const{from:A,item:D,oldIndex:O,oldDraggableIndex:S,newDraggableIndex:T}=$;if(qf(D),Ab(A,D,O),Tr(a)){const C=[..._e(a)];a.value=Eb(C,S,T);return}Eb(_e(a),S,T)}function g($){const{newIndex:A,oldIndex:D,from:O,to:S}=$;let T=null;const C=A===D&&O===S;try{if(C){let M=null;o?.some((R,L)=>{if(M&&o?.length!==S.childNodes.length)return O.insertBefore(M,R.nextSibling),!0;const P=S.childNodes[L];M=S?.replaceChild(R,P)})}}catch(M){T=M}finally{o=null}Lt(()=>{if(Bb(),T)throw T})}const b={onUpdate:v,onStart:f,onAdd:p,onRemove:m,onEnd:g};function y($){const A=_e(i);return $||($=ZA(A)?JA(A,r?.$el):A),$&&!tM($)&&($=$.$el),$||YA("Root element not found"),$}function x(){var $;const A=($=_e(s))!=null?$:{},{immediate:D,clone:O}=A,S=C3(A,["immediate","clone"]);return Mb(S,(T,C)=>{nM(T)&&(S[T]=(M,...R)=>{const L=DM();return rM(M,L),C(M,...R)})}),eM(a===null?{}:b,S)}const w=$=>{$=y($),l&&_.destroy(),l=new We($,x())};pe(()=>s,()=>{l&&Mb(x(),($,A)=>{l?.option($,A)})},{deep:!0});const _={option:($,A)=>l?.option($,A),destroy:()=>{l?.destroy(),l=null},save:()=>l?.save(),toArray:()=>l?.toArray(),closest:(...$)=>l?.closest(...$)},k=()=>_?.option("disabled",!0),E=()=>_?.option("disabled",!1);return RM(()=>{c&&w()}),$M(_.destroy),Ja({start:w,pause:k,resume:E},_)}const Vg=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],LM=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...Vg.map(t=>`on${t.replace(/^\S/,e=>e.toUpperCase())}`)],Ph=X({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:LM,emits:["update:modelValue",...Vg],setup(t,{slots:e,emit:n,expose:r,attrs:o}){const i=Vg.reduce((u,h)=>{const f=`on${h.replace(/^\S/,p=>p.toUpperCase())}`;return u[f]=(...p)=>n(h,...p),u},{}),a=z(()=>{const u=ac(t),{modelValue:h}=u,f=C3(u,["modelValue"]),p=Object.entries(f).reduce((m,[v,g])=>{const b=_e(g);return b!==void 0&&(m[v]=b),m},{});return Ja(Ja({},i),qA(Ja(Ja({},o),p)))}),s=z({get:()=>t.modelValue,set:u=>n("update:modelValue",u)}),l=re(),c=Pn(PM(t.target||l,s,a));return r(c),()=>{var u;return Oe(t.tag||"div",{ref:l},(u=e?.default)==null?void 0:u.call(e,c))}}});var ip,Ub;function FM(){if(Ub)return ip;Ub=1;function t(q){return q instanceof Map?q.clear=q.delete=q.set=function(){throw new Error("map is read-only")}:q instanceof Set&&(q.add=q.clear=q.delete=function(){throw new Error("set is read-only")}),Object.freeze(q),Object.getOwnPropertyNames(q).forEach(fe=>{const Ee=q[fe],qe=typeof Ee;(qe==="object"||qe==="function")&&!Object.isFrozen(Ee)&&t(Ee)}),q}class e{constructor(fe){fe.data===void 0&&(fe.data={}),this.data=fe.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(q){return q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(q,...fe){const Ee=Object.create(null);for(const qe in q)Ee[qe]=q[qe];return fe.forEach(function(qe){for(const Gt in qe)Ee[Gt]=qe[Gt]}),Ee}const o="</span>",i=q=>!!q.scope,a=(q,{prefix:fe})=>{if(q.startsWith("language:"))return q.replace("language:","language-");if(q.includes(".")){const Ee=q.split(".");return[`${fe}${Ee.shift()}`,...Ee.map((qe,Gt)=>`${qe}${"_".repeat(Gt+1)}`)].join(" ")}return`${fe}${q}`};class s{constructor(fe,Ee){this.buffer="",this.classPrefix=Ee.classPrefix,fe.walk(this)}addText(fe){this.buffer+=n(fe)}openNode(fe){if(!i(fe))return;const Ee=a(fe.scope,{prefix:this.classPrefix});this.span(Ee)}closeNode(fe){i(fe)&&(this.buffer+=o)}value(){return this.buffer}span(fe){this.buffer+=`<span class="${fe}">`}}const l=(q={})=>{const fe={children:[]};return Object.assign(fe,q),fe};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(fe){this.top.children.push(fe)}openNode(fe){const Ee=l({scope:fe});this.add(Ee),this.stack.push(Ee)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(fe){return this.constructor._walk(fe,this.rootNode)}static _walk(fe,Ee){return typeof Ee=="string"?fe.addText(Ee):Ee.children&&(fe.openNode(Ee),Ee.children.forEach(qe=>this._walk(fe,qe)),fe.closeNode(Ee)),fe}static _collapse(fe){typeof fe!="string"&&fe.children&&(fe.children.every(Ee=>typeof Ee=="string")?fe.children=[fe.children.join("")]:fe.children.forEach(Ee=>{c._collapse(Ee)}))}}class u extends c{constructor(fe){super(),this.options=fe}addText(fe){fe!==""&&this.add(fe)}startScope(fe){this.openNode(fe)}endScope(){this.closeNode()}__addSublanguage(fe,Ee){const qe=fe.root;Ee&&(qe.scope=`language:${Ee}`),this.add(qe)}toHTML(){return new s(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function h(q){return q?typeof q=="string"?q:q.source:null}function f(q){return v("(?=",q,")")}function p(q){return v("(?:",q,")*")}function m(q){return v("(?:",q,")?")}function v(...q){return q.map(Ee=>h(Ee)).join("")}function g(q){const fe=q[q.length-1];return typeof fe=="object"&&fe.constructor===Object?(q.splice(q.length-1,1),fe):{}}function b(...q){return"("+(g(q).capture?"":"?:")+q.map(qe=>h(qe)).join("|")+")"}function y(q){return new RegExp(q.toString()+"|").exec("").length-1}function x(q,fe){const Ee=q&&q.exec(fe);return Ee&&Ee.index===0}const w=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function _(q,{joinWith:fe}){let Ee=0;return q.map(qe=>{Ee+=1;const Gt=Ee;let qt=h(qe),Ie="";for(;qt.length>0;){const Fe=w.exec(qt);if(!Fe){Ie+=qt;break}Ie+=qt.substring(0,Fe.index),qt=qt.substring(Fe.index+Fe[0].length),Fe[0][0]==="\\"&&Fe[1]?Ie+="\\"+String(Number(Fe[1])+Gt):(Ie+=Fe[0],Fe[0]==="("&&Ee++)}return Ie}).map(qe=>`(${qe})`).join(fe)}const k=/\b\B/,E="[a-zA-Z]\\w*",$="[a-zA-Z_]\\w*",A="\\b\\d+(\\.\\d+)?",D="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",O="\\b(0b[01]+)",S="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",T=(q={})=>{const fe=/^#![ ]*\//;return q.binary&&(q.begin=v(fe,/.*\b/,q.binary,/\b.*/)),r({scope:"meta",begin:fe,end:/$/,relevance:0,"on:begin":(Ee,qe)=>{Ee.index!==0&&qe.ignoreMatch()}},q)},C={begin:"\\\\[\\s\\S]",relevance:0},M={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[C]},R={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[C]},L={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},P=function(q,fe,Ee={}){const qe=r({scope:"comment",begin:q,end:fe,contains:[]},Ee);qe.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Gt=b("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return qe.contains.push({begin:v(/[ ]+/,"(",Gt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),qe},N=P("//","$"),j=P("/\\*","\\*/"),H=P("#","$"),B={scope:"number",begin:A,relevance:0},te={scope:"number",begin:D,relevance:0},U={scope:"number",begin:O,relevance:0},ie={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[C,{begin:/\[/,end:/\]/,relevance:0,contains:[C]}]},V={scope:"title",begin:E,relevance:0},de={scope:"title",begin:$,relevance:0},ve={begin:"\\.\\s*"+$,relevance:0};var ke=Object.freeze({__proto__:null,APOS_STRING_MODE:M,BACKSLASH_ESCAPE:C,BINARY_NUMBER_MODE:U,BINARY_NUMBER_RE:O,COMMENT:P,C_BLOCK_COMMENT_MODE:j,C_LINE_COMMENT_MODE:N,C_NUMBER_MODE:te,C_NUMBER_RE:D,END_SAME_AS_BEGIN:function(q){return Object.assign(q,{"on:begin":(fe,Ee)=>{Ee.data._beginMatch=fe[1]},"on:end":(fe,Ee)=>{Ee.data._beginMatch!==fe[1]&&Ee.ignoreMatch()}})},HASH_COMMENT_MODE:H,IDENT_RE:E,MATCH_NOTHING_RE:k,METHOD_GUARD:ve,NUMBER_MODE:B,NUMBER_RE:A,PHRASAL_WORDS_MODE:L,QUOTE_STRING_MODE:R,REGEXP_MODE:ie,RE_STARTERS_RE:S,SHEBANG:T,TITLE_MODE:V,UNDERSCORE_IDENT_RE:$,UNDERSCORE_TITLE_MODE:de});function Ce(q,fe){q.input[q.index-1]==="."&&fe.ignoreMatch()}function Ae(q,fe){q.className!==void 0&&(q.scope=q.className,delete q.className)}function Me(q,fe){fe&&q.beginKeywords&&(q.begin="\\b("+q.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",q.__beforeBegin=Ce,q.keywords=q.keywords||q.beginKeywords,delete q.beginKeywords,q.relevance===void 0&&(q.relevance=0))}function Y(q,fe){Array.isArray(q.illegal)&&(q.illegal=b(...q.illegal))}function W(q,fe){if(q.match){if(q.begin||q.end)throw new Error("begin & end are not supported with match");q.begin=q.match,delete q.match}}function Z(q,fe){q.relevance===void 0&&(q.relevance=1)}const K=(q,fe)=>{if(!q.beforeMatch)return;if(q.starts)throw new Error("beforeMatch cannot be used with starts");const Ee=Object.assign({},q);Object.keys(q).forEach(qe=>{delete q[qe]}),q.keywords=Ee.keywords,q.begin=v(Ee.beforeMatch,f(Ee.begin)),q.starts={relevance:0,contains:[Object.assign(Ee,{endsParent:!0})]},q.relevance=0,delete Ee.beforeMatch},F=["of","and","for","in","not","or","if","then","parent","list","value"],I="keyword";function G(q,fe,Ee=I){const qe=Object.create(null);return typeof q=="string"?Gt(Ee,q.split(" ")):Array.isArray(q)?Gt(Ee,q):Object.keys(q).forEach(function(qt){Object.assign(qe,G(q[qt],fe,qt))}),qe;function Gt(qt,Ie){fe&&(Ie=Ie.map(Fe=>Fe.toLowerCase())),Ie.forEach(function(Fe){const Xe=Fe.split("|");qe[Xe[0]]=[qt,oe(Xe[0],Xe[1])]})}}function oe(q,fe){return fe?Number(fe):ue(q)?0:1}function ue(q){return F.includes(q.toLowerCase())}const he={},Q=q=>{console.error(q)},se=(q,...fe)=>{console.log(`WARN: ${q}`,...fe)},Le=(q,fe)=>{he[`${q}/${fe}`]||(console.log(`Deprecated as of ${q}. ${fe}`),he[`${q}/${fe}`]=!0)},we=new Error;function pt(q,fe,{key:Ee}){let qe=0;const Gt=q[Ee],qt={},Ie={};for(let Fe=1;Fe<=fe.length;Fe++)Ie[Fe+qe]=Gt[Fe],qt[Fe+qe]=!0,qe+=y(fe[Fe-1]);q[Ee]=Ie,q[Ee]._emit=qt,q[Ee]._multi=!0}function yr(q){if(Array.isArray(q.begin)){if(q.skip||q.excludeBegin||q.returnBegin)throw Q("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),we;if(typeof q.beginScope!="object"||q.beginScope===null)throw Q("beginScope must be object"),we;pt(q,q.begin,{key:"beginScope"}),q.begin=_(q.begin,{joinWith:""})}}function ui(q){if(Array.isArray(q.end)){if(q.skip||q.excludeEnd||q.returnEnd)throw Q("skip, excludeEnd, returnEnd not compatible with endScope: {}"),we;if(typeof q.endScope!="object"||q.endScope===null)throw Q("endScope must be object"),we;pt(q,q.end,{key:"endScope"}),q.end=_(q.end,{joinWith:""})}}function xf(q){q.scope&&typeof q.scope=="object"&&q.scope!==null&&(q.beginScope=q.scope,delete q.scope)}function Bv(q){xf(q),typeof q.beginScope=="string"&&(q.beginScope={_wrap:q.beginScope}),typeof q.endScope=="string"&&(q.endScope={_wrap:q.endScope}),yr(q),ui(q)}function bE(q){function fe(Ie,Fe){return new RegExp(h(Ie),"m"+(q.case_insensitive?"i":"")+(q.unicodeRegex?"u":"")+(Fe?"g":""))}class Ee{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Fe,Xe){Xe.position=this.position++,this.matchIndexes[this.matchAt]=Xe,this.regexes.push([Xe,Fe]),this.matchAt+=y(Fe)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Fe=this.regexes.map(Xe=>Xe[1]);this.matcherRe=fe(_(Fe,{joinWith:"|"}),!0),this.lastIndex=0}exec(Fe){this.matcherRe.lastIndex=this.lastIndex;const Xe=this.matcherRe.exec(Fe);if(!Xe)return null;const bn=Xe.findIndex((Js,_f)=>_f>0&&Js!==void 0),tn=this.matchIndexes[bn];return Xe.splice(0,bn),Object.assign(Xe,tn)}}class qe{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Fe){if(this.multiRegexes[Fe])return this.multiRegexes[Fe];const Xe=new Ee;return this.rules.slice(Fe).forEach(([bn,tn])=>Xe.addRule(bn,tn)),Xe.compile(),this.multiRegexes[Fe]=Xe,Xe}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Fe,Xe){this.rules.push([Fe,Xe]),Xe.type==="begin"&&this.count++}exec(Fe){const Xe=this.getMatcher(this.regexIndex);Xe.lastIndex=this.lastIndex;let bn=Xe.exec(Fe);if(this.resumingScanAtSamePosition()&&!(bn&&bn.index===this.lastIndex)){const tn=this.getMatcher(0);tn.lastIndex=this.lastIndex+1,bn=tn.exec(Fe)}return bn&&(this.regexIndex+=bn.position+1,this.regexIndex===this.count&&this.considerAll()),bn}}function Gt(Ie){const Fe=new qe;return Ie.contains.forEach(Xe=>Fe.addRule(Xe.begin,{rule:Xe,type:"begin"})),Ie.terminatorEnd&&Fe.addRule(Ie.terminatorEnd,{type:"end"}),Ie.illegal&&Fe.addRule(Ie.illegal,{type:"illegal"}),Fe}function qt(Ie,Fe){const Xe=Ie;if(Ie.isCompiled)return Xe;[Ae,W,Bv,K].forEach(tn=>tn(Ie,Fe)),q.compilerExtensions.forEach(tn=>tn(Ie,Fe)),Ie.__beforeBegin=null,[Me,Y,Z].forEach(tn=>tn(Ie,Fe)),Ie.isCompiled=!0;let bn=null;return typeof Ie.keywords=="object"&&Ie.keywords.$pattern&&(Ie.keywords=Object.assign({},Ie.keywords),bn=Ie.keywords.$pattern,delete Ie.keywords.$pattern),bn=bn||/\w+/,Ie.keywords&&(Ie.keywords=G(Ie.keywords,q.case_insensitive)),Xe.keywordPatternRe=fe(bn,!0),Fe&&(Ie.begin||(Ie.begin=/\B|\b/),Xe.beginRe=fe(Xe.begin),!Ie.end&&!Ie.endsWithParent&&(Ie.end=/\B|\b/),Ie.end&&(Xe.endRe=fe(Xe.end)),Xe.terminatorEnd=h(Xe.end)||"",Ie.endsWithParent&&Fe.terminatorEnd&&(Xe.terminatorEnd+=(Ie.end?"|":"")+Fe.terminatorEnd)),Ie.illegal&&(Xe.illegalRe=fe(Ie.illegal)),Ie.contains||(Ie.contains=[]),Ie.contains=[].concat(...Ie.contains.map(function(tn){return yE(tn==="self"?Ie:tn)})),Ie.contains.forEach(function(tn){qt(tn,Xe)}),Ie.starts&&qt(Ie.starts,Fe),Xe.matcher=Gt(Xe),Xe}if(q.compilerExtensions||(q.compilerExtensions=[]),q.contains&&q.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return q.classNameAliases=r(q.classNameAliases||{}),qt(q)}function zv(q){return q?q.endsWithParent||zv(q.starts):!1}function yE(q){return q.variants&&!q.cachedVariants&&(q.cachedVariants=q.variants.map(function(fe){return r(q,{variants:null},fe)})),q.cachedVariants?q.cachedVariants:zv(q)?r(q,{starts:q.starts?r(q.starts):null}):Object.isFrozen(q)?r(q):q}var xE="11.11.1";class wE extends Error{constructor(fe,Ee){super(fe),this.name="HTMLInjectionError",this.html=Ee}}const wf=n,Uv=r,Hv=Symbol("nomatch"),_E=7,Wv=function(q){const fe=Object.create(null),Ee=Object.create(null),qe=[];let Gt=!0;const qt="Could not find the language '{}', did you forget to load/include a language module?",Ie={disableAutodetect:!0,name:"Plain text",contains:[]};let Fe={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function Xe(xe){return Fe.noHighlightRe.test(xe)}function bn(xe){let je=xe.className+" ";je+=xe.parentNode?xe.parentNode.className:"";const ft=Fe.languageDetectRe.exec(je);if(ft){const Mt=di(ft[1]);return Mt||(se(qt.replace("{}",ft[1])),se("Falling back to no-highlight mode for this block.",xe)),Mt?ft[1]:"no-highlight"}return je.split(/\s+/).find(Mt=>Xe(Mt)||di(Mt))}function tn(xe,je,ft){let Mt="",un="";typeof je=="object"?(Mt=xe,ft=je.ignoreIllegals,un=je.language):(Le("10.7.0","highlight(lang, code, ...args) has been deprecated."),Le("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),un=xe,Mt=je),ft===void 0&&(ft=!0);const $r={code:Mt,language:un};Mc("before:highlight",$r);const hi=$r.result?$r.result:Js($r.language,$r.code,ft);return hi.code=$r.code,Mc("after:highlight",hi),hi}function Js(xe,je,ft,Mt){const un=Object.create(null);function $r(Te,Ne){return Te.keywords[Ne]}function hi(){if(!Je.keywords){_n.addText($t);return}let Te=0;Je.keywordPatternRe.lastIndex=0;let Ne=Je.keywordPatternRe.exec($t),nt="";for(;Ne;){nt+=$t.substring(Te,Ne.index);const kt=io.case_insensitive?Ne[0].toLowerCase():Ne[0],On=$r(Je,kt);if(On){const[Ro,jE]=On;if(_n.addText(nt),nt="",un[kt]=(un[kt]||0)+1,un[kt]<=_E&&(Dc+=jE),Ro.startsWith("_"))nt+=Ne[0];else{const BE=io.classNameAliases[Ro]||Ro;oo(Ne[0],BE)}}else nt+=Ne[0];Te=Je.keywordPatternRe.lastIndex,Ne=Je.keywordPatternRe.exec($t)}nt+=$t.substring(Te),_n.addText(nt)}function $c(){if($t==="")return;let Te=null;if(typeof Je.subLanguage=="string"){if(!fe[Je.subLanguage]){_n.addText($t);return}Te=Js(Je.subLanguage,$t,!0,Jv[Je.subLanguage]),Jv[Je.subLanguage]=Te._top}else Te=kf($t,Je.subLanguage.length?Je.subLanguage:null);Je.relevance>0&&(Dc+=Te.relevance),_n.__addSublanguage(Te._emitter,Te.language)}function lr(){Je.subLanguage!=null?$c():hi(),$t=""}function oo(Te,Ne){Te!==""&&(_n.startScope(Ne),_n.addText(Te),_n.endScope())}function Gv(Te,Ne){let nt=1;const kt=Ne.length-1;for(;nt<=kt;){if(!Te._emit[nt]){nt++;continue}const On=io.classNameAliases[Te[nt]]||Te[nt],Ro=Ne[nt];On?oo(Ro,On):($t=Ro,hi(),$t=""),nt++}}function qv(Te,Ne){return Te.scope&&typeof Te.scope=="string"&&_n.openNode(io.classNameAliases[Te.scope]||Te.scope),Te.beginScope&&(Te.beginScope._wrap?(oo($t,io.classNameAliases[Te.beginScope._wrap]||Te.beginScope._wrap),$t=""):Te.beginScope._multi&&(Gv(Te.beginScope,Ne),$t="")),Je=Object.create(Te,{parent:{value:Je}}),Je}function Kv(Te,Ne,nt){let kt=x(Te.endRe,nt);if(kt){if(Te["on:end"]){const On=new e(Te);Te["on:end"](Ne,On),On.isMatchIgnored&&(kt=!1)}if(kt){for(;Te.endsParent&&Te.parent;)Te=Te.parent;return Te}}if(Te.endsWithParent)return Kv(Te.parent,Ne,nt)}function PE(Te){return Je.matcher.regexIndex===0?($t+=Te[0],1):(Tf=!0,0)}function LE(Te){const Ne=Te[0],nt=Te.rule,kt=new e(nt),On=[nt.__beforeBegin,nt["on:begin"]];for(const Ro of On)if(Ro&&(Ro(Te,kt),kt.isMatchIgnored))return PE(Ne);return nt.skip?$t+=Ne:(nt.excludeBegin&&($t+=Ne),lr(),!nt.returnBegin&&!nt.excludeBegin&&($t=Ne)),qv(nt,Te),nt.returnBegin?0:Ne.length}function FE(Te){const Ne=Te[0],nt=je.substring(Te.index),kt=Kv(Je,Te,nt);if(!kt)return Hv;const On=Je;Je.endScope&&Je.endScope._wrap?(lr(),oo(Ne,Je.endScope._wrap)):Je.endScope&&Je.endScope._multi?(lr(),Gv(Je.endScope,Te)):On.skip?$t+=Ne:(On.returnEnd||On.excludeEnd||($t+=Ne),lr(),On.excludeEnd&&($t=Ne));do Je.scope&&_n.closeNode(),!Je.skip&&!Je.subLanguage&&(Dc+=Je.relevance),Je=Je.parent;while(Je!==kt.parent);return kt.starts&&qv(kt.starts,Te),On.returnEnd?0:Ne.length}function IE(){const Te=[];for(let Ne=Je;Ne!==io;Ne=Ne.parent)Ne.scope&&Te.unshift(Ne.scope);Te.forEach(Ne=>_n.openNode(Ne))}let Rc={};function Zv(Te,Ne){const nt=Ne&&Ne[0];if($t+=Te,nt==null)return lr(),0;if(Rc.type==="begin"&&Ne.type==="end"&&Rc.index===Ne.index&&nt===""){if($t+=je.slice(Ne.index,Ne.index+1),!Gt){const kt=new Error(`0 width match regex (${xe})`);throw kt.languageName=xe,kt.badRule=Rc.rule,kt}return 1}if(Rc=Ne,Ne.type==="begin")return LE(Ne);if(Ne.type==="illegal"&&!ft){const kt=new Error('Illegal lexeme "'+nt+'" for mode "'+(Je.scope||"<unnamed>")+'"');throw kt.mode=Je,kt}else if(Ne.type==="end"){const kt=FE(Ne);if(kt!==Hv)return kt}if(Ne.type==="illegal"&&nt==="")return $t+=`
`,1;if(Ef>1e5&&Ef>Ne.index*3)throw new Error("potential infinite loop, way more iterations than matches");return $t+=nt,nt.length}const io=di(xe);if(!io)throw Q(qt.replace("{}",xe)),new Error('Unknown language: "'+xe+'"');const NE=bE(io);let Sf="",Je=Mt||NE;const Jv={},_n=new Fe.__emitter(Fe);IE();let $t="",Dc=0,Vi=0,Ef=0,Tf=!1;try{if(io.__emitTokens)io.__emitTokens(je,_n);else{for(Je.matcher.considerAll();;){Ef++,Tf?Tf=!1:Je.matcher.considerAll(),Je.matcher.lastIndex=Vi;const Te=Je.matcher.exec(je);if(!Te)break;const Ne=je.substring(Vi,Te.index),nt=Zv(Ne,Te);Vi=Te.index+nt}Zv(je.substring(Vi))}return _n.finalize(),Sf=_n.toHTML(),{language:xe,value:Sf,relevance:Dc,illegal:!1,_emitter:_n,_top:Je}}catch(Te){if(Te.message&&Te.message.includes("Illegal"))return{language:xe,value:wf(je),illegal:!0,relevance:0,_illegalBy:{message:Te.message,index:Vi,context:je.slice(Vi-100,Vi+100),mode:Te.mode,resultSoFar:Sf},_emitter:_n};if(Gt)return{language:xe,value:wf(je),illegal:!1,relevance:0,errorRaised:Te,_emitter:_n,_top:Je};throw Te}}function _f(xe){const je={value:wf(xe),illegal:!1,relevance:0,_top:Ie,_emitter:new Fe.__emitter(Fe)};return je._emitter.addText(xe),je}function kf(xe,je){je=je||Fe.languages||Object.keys(fe);const ft=_f(xe),Mt=je.filter(di).filter(Yv).map(lr=>Js(lr,xe,!1));Mt.unshift(ft);const un=Mt.sort((lr,oo)=>{if(lr.relevance!==oo.relevance)return oo.relevance-lr.relevance;if(lr.language&&oo.language){if(di(lr.language).supersetOf===oo.language)return 1;if(di(oo.language).supersetOf===lr.language)return-1}return 0}),[$r,hi]=un,$c=$r;return $c.secondBest=hi,$c}function kE(xe,je,ft){const Mt=je&&Ee[je]||ft;xe.classList.add("hljs"),xe.classList.add(`language-${Mt}`)}function Cf(xe){let je=null;const ft=bn(xe);if(Xe(ft))return;if(Mc("before:highlightElement",{el:xe,language:ft}),xe.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",xe);return}if(xe.children.length>0&&(Fe.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(xe)),Fe.throwUnescapedHTML))throw new wE("One of your code blocks includes unescaped HTML.",xe.innerHTML);je=xe;const Mt=je.textContent,un=ft?tn(Mt,{language:ft,ignoreIllegals:!0}):kf(Mt);xe.innerHTML=un.value,xe.dataset.highlighted="yes",kE(xe,ft,un.language),xe.result={language:un.language,re:un.relevance,relevance:un.relevance},un.secondBest&&(xe.secondBest={language:un.secondBest.language,relevance:un.secondBest.relevance}),Mc("after:highlightElement",{el:xe,result:un,text:Mt})}function CE(xe){Fe=Uv(Fe,xe)}const SE=()=>{Ac(),Le("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function EE(){Ac(),Le("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Vv=!1;function Ac(){function xe(){Ac()}if(document.readyState==="loading"){Vv||window.addEventListener("DOMContentLoaded",xe,!1),Vv=!0;return}document.querySelectorAll(Fe.cssSelector).forEach(Cf)}function TE(xe,je){let ft=null;try{ft=je(q)}catch(Mt){if(Q("Language definition for '{}' could not be registered.".replace("{}",xe)),Gt)Q(Mt);else throw Mt;ft=Ie}ft.name||(ft.name=xe),fe[xe]=ft,ft.rawDefinition=je.bind(null,q),ft.aliases&&Xv(ft.aliases,{languageName:xe})}function OE(xe){delete fe[xe];for(const je of Object.keys(Ee))Ee[je]===xe&&delete Ee[je]}function AE(){return Object.keys(fe)}function di(xe){return xe=(xe||"").toLowerCase(),fe[xe]||fe[Ee[xe]]}function Xv(xe,{languageName:je}){typeof xe=="string"&&(xe=[xe]),xe.forEach(ft=>{Ee[ft.toLowerCase()]=je})}function Yv(xe){const je=di(xe);return je&&!je.disableAutodetect}function ME(xe){xe["before:highlightBlock"]&&!xe["before:highlightElement"]&&(xe["before:highlightElement"]=je=>{xe["before:highlightBlock"](Object.assign({block:je.el},je))}),xe["after:highlightBlock"]&&!xe["after:highlightElement"]&&(xe["after:highlightElement"]=je=>{xe["after:highlightBlock"](Object.assign({block:je.el},je))})}function $E(xe){ME(xe),qe.push(xe)}function RE(xe){const je=qe.indexOf(xe);je!==-1&&qe.splice(je,1)}function Mc(xe,je){const ft=xe;qe.forEach(function(Mt){Mt[ft]&&Mt[ft](je)})}function DE(xe){return Le("10.7.0","highlightBlock will be removed entirely in v12.0"),Le("10.7.0","Please use highlightElement now."),Cf(xe)}Object.assign(q,{highlight:tn,highlightAuto:kf,highlightAll:Ac,highlightElement:Cf,highlightBlock:DE,configure:CE,initHighlighting:SE,initHighlightingOnLoad:EE,registerLanguage:TE,unregisterLanguage:OE,listLanguages:AE,getLanguage:di,registerAliases:Xv,autoDetection:Yv,inherit:Uv,addPlugin:$E,removePlugin:RE}),q.debugMode=function(){Gt=!1},q.safeMode=function(){Gt=!0},q.versionString=xE,q.regex={concat:v,lookahead:f,either:b,optional:m,anyNumberOfTimes:p};for(const xe in ke)typeof ke[xe]=="object"&&t(ke[xe]);return Object.assign(q,ke),q},Ia=Wv({});return Ia.newInstance=()=>Wv({}),ip=Ia,Ia.HighlightJS=Ia,Ia.default=Ia,ip}var IM=FM();const Yn=ch(IM);function NM(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const o={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},i=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,o]};o.contains.push(s);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},u={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=t.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),m={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},v=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],g=["true","false"],b={match:/(\/[a-z._-]+)+/},y=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],x=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],w=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],_=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:v,literal:g,built_in:[...y,...x,"set","shopt",...w,..._]},contains:[p,t.SHEBANG(),m,h,i,a,b,s,l,c,u,n]}}const jM=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),BM=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],zM=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],UM=[...BM,...zM],HM=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),WM=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),VM=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),XM=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function YM(t){const e=t.regex,n=jM(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},o="and or not only",i=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",s=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+WM.join("|")+")"},{begin:":(:)?("+VM.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+XM.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...s,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...s,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:i},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:o,attribute:HM.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...s,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+UM.join("|")+")\\b"}]}}function GM(t){const i={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:i,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:i,illegal:/["']/}]}]}}var Ga="[0-9](_*[0-9])*",Hc=`\\.(${Ga})`,Wc="[0-9a-fA-F](_*[0-9a-fA-F])*",Hb={className:"number",variants:[{begin:`(\\b(${Ga})((${Hc})|\\.)?|(${Hc}))[eE][+-]?(${Ga})[fFdD]?\\b`},{begin:`\\b(${Ga})((${Hc})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Hc})[fFdD]?\\b`},{begin:`\\b(${Ga})[fFdD]\\b`},{begin:`\\b0[xX]((${Wc})\\.?|(${Wc})?\\.(${Wc}))[pP][+-]?(${Ga})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Wc})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function U3(t,e,n){return n===-1?"":t.replace(e,r=>U3(t,e,n-1))}function qM(t){const e=t.regex,n="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",r=n+U3("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[u,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,Hb,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},Hb,c]}}const Wb="[A-Za-z$_][0-9A-Za-z$_]*",KM=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],ZM=["true","false","null","undefined","NaN","Infinity"],H3=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],W3=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],V3=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],JM=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],QM=[].concat(V3,H3,W3);function e$(t){const e=t.regex,n=(P,{after:N})=>{const j="</"+P[0].slice(1);return P.input.indexOf(j,N)!==-1},r=Wb,o={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,N)=>{const j=P[0].length+P.index,H=P.input[j];if(H==="<"||H===","){N.ignoreMatch();return}H===">"&&(n(P,{after:j})||N.ignoreMatch());let B;const te=P.input.substring(j);if(B=te.match(/^\s*=/)){N.ignoreMatch();return}if((B=te.match(/^\s+extends\s+/))&&B.index===0){N.ignoreMatch();return}}},s={$pattern:Wb,keyword:KM,literal:ZM,built_in:QM,"variable.language":JM},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},y={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},x=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,v,g,{match:/\$\d+/},h];f.contains=x.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(x)});const w=[].concat(y,f.contains),_=w.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(w)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:_},E={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},$={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...H3,...W3]}},A={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},D={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function S(P){return e.concat("(?!",P.join("|"),")")}const T={match:e.concat(/\b/,S([...V3,"super","import"].map(P=>`${P}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},C={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},M={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},R="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",L={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(R)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:$},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),A,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,v,g,y,{match:/\$\d+/},h,$,{scope:"attr",match:r+e.lookahead(":"),relevance:0},L,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,t.REGEXP_MODE,{className:"function",begin:R,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:o.begin,end:o.end},{match:i},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},D,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},C,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},T,O,E,M,{match:/\$[(.]/}]}}function t$(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],o={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,o,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function n$(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},o={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},i={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},s=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,s,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},u={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=t.inherit(c,{contains:[]}),f=t.inherit(u,{contains:[]});c.contains.push(f),u.contains.push(h);let p=[n,l];return[c,u,h,f].forEach(b=>{b.contains=b.contains.concat(p)}),p=p.concat(c,u),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},n,i,c,u,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},o,r,l,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function r$(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),o=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),i=e.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+r},s={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=t.inherit(t.APOS_STRING_MODE,{illegal:null}),u=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(l)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(C,M)=>{M.data._beginMatch=C[1]||C[2]},"on:end":(C,M)=>{M.data._beginMatch!==C[1]&&M.ignoreMatch()}},f=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,m={scope:"string",variants:[u,c,h,f]},v={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},g=["false","null","true"],b=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],y=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],w={keyword:b,literal:(C=>{const M=[];return C.forEach(R=>{M.push(R),R.toLowerCase()===R?M.push(R.toUpperCase()):M.push(R.toLowerCase())}),M})(g),built_in:y},_=C=>C.map(M=>M.replace(/\|\d+$/,"")),k={variants:[{match:[/new/,e.concat(p,"+"),e.concat("(?!",_(y).join("\\b|"),"\\b)"),o],scope:{1:"keyword",4:"title.class"}}]},E=e.concat(r,"\\b(?!\\()"),$={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),E],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[o,e.concat(/::/,e.lookahead(/(?!class\b)/)),E],scope:{1:"title.class",3:"variable.constant"}},{match:[o,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[o,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},A={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},D={relevance:0,begin:/\(/,end:/\)/,keywords:w,contains:[A,a,$,t.C_BLOCK_COMMENT_MODE,m,v,k]},O={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",_(b).join("\\b|"),"|",_(y).join("\\b|"),"\\b)"),r,e.concat(p,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[D]};D.contains.push(O);const S=[A,$,t.C_BLOCK_COMMENT_MODE,m,v,k],T={begin:e.concat(/#\[\s*\\?/,e.either(o,i)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:g,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:g,keyword:["new","array"]},contains:["self",...S]},...S,{scope:"meta",variants:[{match:o},{match:i}]}]};return{case_insensitive:!1,keywords:w,contains:[T,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},s,{scope:"variable.language",match:/\$this\b/},a,O,$,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},k,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:w,contains:["self",T,a,$,t.C_BLOCK_COMMENT_MODE,m,v]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},m,v]}}function o$(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],s={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:s,illegal:/#/},u={begin:/\{\{/,relevance:0},h={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,u,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",p=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,m=`\\b|${r.join("|")}`,v={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${p}))[eE][+-]?(${f})[jJ]?(?=${m})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${m})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${m})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${m})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${m})`},{begin:`\\b(${f})[jJ](?=${m})`}]},g={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:s,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:["self",l,v,h,t.HASH_COMMENT_MODE]}]};return c.contains=[h,v,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:s,illegal:/(<\/|\?)|=>/,contains:[l,v,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,g,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[v,b,h]}]}}function i$(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function a$(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},o={begin:/"/,end:/"/,contains:[{match:/""/}]},i=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],s=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=u,m=[...c,...l].filter(_=>!u.includes(_)),v={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},g={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={match:e.concat(/\b/,e.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function y(_){return e.concat(/\b/,e.either(..._.map(k=>k.replace(/\s+/,"\\s+"))),/\b/)}const x={scope:"keyword",match:y(f),relevance:0};function w(_,{exceptions:k,when:E}={}){const $=E;return k=k||[],_.map(A=>A.match(/\|\d+$/)||k.includes(A)?A:$(A)?`${A}|0`:A)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:w(m,{when:_=>_.length<3}),literal:i,type:s,built_in:h},contains:[{scope:"type",match:y(a)},x,b,v,r,o,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,g]}}const Od="[A-Za-z$_][0-9A-Za-z$_]*",X3=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Y3=["true","false","null","undefined","NaN","Infinity"],G3=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],q3=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],K3=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Z3=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],J3=[].concat(K3,G3,q3);function s$(t){const e=t.regex,n=(P,{after:N})=>{const j="</"+P[0].slice(1);return P.input.indexOf(j,N)!==-1},r=Od,o={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,N)=>{const j=P[0].length+P.index,H=P.input[j];if(H==="<"||H===","){N.ignoreMatch();return}H===">"&&(n(P,{after:j})||N.ignoreMatch());let B;const te=P.input.substring(j);if(B=te.match(/^\s*=/)){N.ignoreMatch();return}if((B=te.match(/^\s+extends\s+/))&&B.index===0){N.ignoreMatch();return}}},s={$pattern:Od,keyword:X3,literal:Y3,built_in:J3,"variable.language":Z3},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},y={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},x=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,v,g,{match:/\$\d+/},h];f.contains=x.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(x)});const w=[].concat(y,f.contains),_=w.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(w)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:_},E={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},$={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...G3,...q3]}},A={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},D={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function S(P){return e.concat("(?!",P.join("|"),")")}const T={match:e.concat(/\b/,S([...K3,"super","import"].map(P=>`${P}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},C={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},M={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},R="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",L={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(R)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:$},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),A,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,m,v,g,y,{match:/\$\d+/},h,$,{scope:"attr",match:r+e.lookahead(":"),relevance:0},L,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,t.REGEXP_MODE,{className:"function",begin:R,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:o.begin,end:o.end},{match:i},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},D,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},C,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},T,O,E,M,{match:/\$[(.]/}]}}function l$(t){const e=t.regex,n=s$(t),r=Od,o=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:o},contains:[n.exports.CLASS_REFERENCE]},s={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:Od,keyword:X3.concat(l),literal:Y3,built_in:J3.concat(o),"variable.language":Z3},u={className:"meta",begin:"@"+r},h=(v,g,b)=>{const y=v.contains.findIndex(x=>x.label===g);if(y===-1)throw new Error("can not find mode to replace");v.contains.splice(y,1,b)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(u);const f=n.contains.find(v=>v.scope==="attr"),p=Object.assign({},f,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,f,p]),n.contains=n.contains.concat([u,i,a,p]),h(n,"shebang",t.SHEBANG()),h(n,"use_strict",s);const m=n.contains.find(v=>v.label==="func.def");return m.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function c$(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,o={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=t.inherit(i,{begin:/\(/,end:/\)/}),s=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[o]},{begin:/'/,end:/'/,contains:[o]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,l,s,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,a,l,s]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},o,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const yn=Math.round;function ap(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(o=>parseFloat(o));for(let o=0;o<3;o+=1)r[o]=e(r[o]||0,n[o]||"",o);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Vb=(t,e,n)=>n===0?t:t/100;function tl(t,e){const n=e||255;return t>n?n:t<0?0:t}class es{constructor(e){xr(this,"isValid",!0),xr(this,"r",0),xr(this,"g",0),xr(this,"b",0),xr(this,"a",1),xr(this,"_h",void 0),xr(this,"_s",void 0),xr(this,"_l",void 0),xr(this,"_v",void 0),xr(this,"_max",void 0),xr(this,"_min",void 0),xr(this,"_brightness",void 0);function n(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let o=function(i){return r.startsWith(i)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):o("rgb")?this.fromRgbString(r):o("hsl")?this.fromHslString(r):(o("hsv")||o("hsb"))&&this.fromHsvString(r)}else if(e instanceof es)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=tl(e.r),this.g=tl(e.g),this.b=tl(e.b),this.a=typeof e.a=="number"?tl(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(i){const a=i/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),o=e(this.b);return .2126*n+.7152*r+.0722*o}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=yn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()-e/100;return o<0&&(o=0),this._c({h:n,s:r,l:o,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()+e/100;return o>1&&(o=1),this._c({h:n,s:r,l:o,a:this.a})}mix(e,n=50){const r=this._c(e),o=n/100,i=s=>(r[s]-this[s])*o+this[s],a={r:yn(i("r")),g:yn(i("g")),b:yn(i("b")),a:yn(i("a")*100)/100};return this._c(a)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),o=i=>yn((this[i]*this.a+n[i]*n.a*(1-this.a))/r);return this._c({r:o("r"),g:o("g"),b:o("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const o=(this.b||0).toString(16);if(e+=o.length===2?o:"0"+o,typeof this.a=="number"&&this.a>=0&&this.a<1){const i=yn(this.a*255).toString(16);e+=i.length===2?i:"0"+i}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=yn(this.getSaturation()*100),r=yn(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const o=this.clone();return o[e]=tl(n,r),o}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(o,i){return parseInt(n[o]+n[i||o],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:o}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof o=="number"?o:1,n<=0){const f=yn(r*255);this.r=f,this.g=f,this.b=f}let i=0,a=0,s=0;const l=e/60,c=(1-Math.abs(2*r-1))*n,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(i=c,a=u):l>=1&&l<2?(i=u,a=c):l>=2&&l<3?(a=c,s=u):l>=3&&l<4?(a=u,s=c):l>=4&&l<5?(i=u,s=c):l>=5&&l<6&&(i=c,s=u);const h=r-c/2;this.r=yn((i+h)*255),this.g=yn((a+h)*255),this.b=yn((s+h)*255)}fromHsv({h:e,s:n,v:r,a:o}){this._h=e%360,this._s=n,this._v=r,this.a=typeof o=="number"?o:1;const i=yn(r*255);if(this.r=i,this.g=i,this.b=i,n<=0)return;const a=e/60,s=Math.floor(a),l=a-s,c=yn(r*(1-n)*255),u=yn(r*(1-n*l)*255),h=yn(r*(1-n*(1-l))*255);switch(s){case 0:this.g=h,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=h;break;case 3:this.r=c,this.g=u;break;case 4:this.r=h,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const n=ap(e,Vb);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=ap(e,Vb);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=ap(e,(r,o)=>o.includes("%")?yn(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var Vc=2,Xb=.16,u$=.05,d$=.05,h$=.15,Q3=5,ek=4,f$=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Yb(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Vc*e:Math.round(t.h)+Vc*e:r=n?Math.round(t.h)+Vc*e:Math.round(t.h)-Vc*e,r<0?r+=360:r>=360&&(r-=360),r}function Gb(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-Xb*e:e===ek?r=t.s+Xb:r=t.s+u$*e,r>1&&(r=1),n&&e===Q3&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function qb(t,e,n){var r;return n?r=t.v+d$*e:r=t.v-h$*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Kb(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new es(t),o=r.toHsv(),i=Q3;i>0;i-=1){var a=new es({h:Yb(o,i,!0),s:Gb(o,i,!0),v:qb(o,i,!0)});n.push(a)}n.push(r);for(var s=1;s<=ek;s+=1){var l=new es({h:Yb(o,s),s:Gb(o,s),v:qb(o,s)});n.push(l)}return e.theme==="dark"?f$.map(function(c){var u=c.index,h=c.amount;return new es(e.backgroundColor||"#141414").mix(n[u],h).toHexString()}):n.map(function(c){return c.toHexString()})}const p$=Object.freeze({left:0,top:0,width:16,height:16}),Ad=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),tk=Object.freeze({...p$,...Ad}),g$=Object.freeze({...tk,body:"",hidden:!1}),m$=Object.freeze({width:null,height:null}),nk=Object.freeze({...m$,...Ad});function v$(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function Zb(t,e){const n=v$(t,e);for(const r in g$)r in Ad?r in t&&!(r in n)&&(n[r]=Ad[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function b$(t,e){const n=t.icons,r=t.aliases||Object.create(null),o=Object.create(null);function i(a){if(n[a])return o[a]=[];if(!(a in o)){o[a]=null;const s=r[a]&&r[a].parent,l=s&&i(s);l&&(o[a]=[s].concat(l))}return o[a]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(i),o}function Jb(t,e,n){const r=t.icons,o=t.aliases||Object.create(null);let i={};function a(s){i=Zb(r[s]||o[s],i)}return a(e),n.forEach(a),Zb(t,i)}function y$(t,e){if(t.icons[e])return Jb(t,e,[]);const n=b$(t,[e])[e];return n?Jb(t,e,n):null}const x$=/(-?[0-9.]*[0-9]+[0-9.]*)/g,w$=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Md(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(x$);if(r===null||!r.length)return t;const o=[];let i=r.shift(),a=w$.test(i);for(;;){if(a){const s=parseFloat(i);isNaN(s)?o.push(i):o.push(Math.ceil(s*e*n)/n)}else o.push(i);if(i=r.shift(),i===void 0)return o.join("");a=!a}}function _$(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const o=t.indexOf(">",r),i=t.indexOf("</"+e);if(o===-1||i===-1)break;const a=t.indexOf(">",i);if(a===-1)break;n+=t.slice(o+1,i).trim(),t=t.slice(0,r).trim()+t.slice(a+1)}return{defs:n,content:t}}function k$(t,e){return t?"<defs>"+t+"</defs>"+e:e}function C$(t,e,n){const r=_$(t);return k$(r.defs,e+r.content+n)}const T0=t=>t==="unset"||t==="undefined"||t==="none";function S$(t,e){const n={...tk,...t},r={...nk,...e},o={left:n.left,top:n.top,width:n.width,height:n.height};let i=n.body;[n,r].forEach(v=>{const g=[],b=v.hFlip,y=v.vFlip;let x=v.rotate;b?y?x+=2:(g.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),g.push("scale(-1 1)"),o.top=o.left=0):y&&(g.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),g.push("scale(1 -1)"),o.top=o.left=0);let w;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:w=o.height/2+o.top,g.unshift("rotate(90 "+w.toString()+" "+w.toString()+")");break;case 2:g.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:w=o.width/2+o.left,g.unshift("rotate(-90 "+w.toString()+" "+w.toString()+")");break}x%2===1&&(o.left!==o.top&&(w=o.left,o.left=o.top,o.top=w),o.width!==o.height&&(w=o.width,o.width=o.height,o.height=w)),g.length&&(i=C$(i,'<g transform="'+g.join(" ")+'">',"</g>"))});const a=r.width,s=r.height,l=o.width,c=o.height;let u,h;a===null?(h=s===null?"1em":s==="auto"?c:s,u=Md(h,l/c)):(u=a==="auto"?l:a,h=s===null?Md(u,c/l):s==="auto"?c:s);const f={},p=(v,g)=>{T0(g)||(f[v]=g.toString())};p("width",u),p("height",h);const m=[o.left,o.top,l,c];return f.viewBox=m.join(" "),{attributes:f,viewBox:m,body:i}}function E$(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Qb(t){let e=t.startsWith("<svg>")?t.replace("<svg>","<svg >"):t;return!e.includes(" xmlns:xlink=")&&e.includes(" xlink:")&&(e=e.replace("<svg ",'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ')),e.includes(" xmlns=")||(e=e.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')),E$(e)}function T$(t){return t.replace(/(['"])\s*\n\s*([^>\\/\s])/g,"$1 $2").replace(/(["';{}><])\s*\n\s*/g,"$1").replace(/\s*\n\s*/g," ").replace(/\s+"/g,'"').replace(/="\s+/g,'="').replace(/(\s)+\/>/g,"/>").trim()}const O$=/\swidth\s*=\s*["']([\w.]+)["']/,A$=/\sheight\s*=\s*["']([\w.]+)["']/,sp=/<svg\s+/;function M$(t,e,n){const r=t.slice(0,t.indexOf(">")),o=(i,a)=>{const s=a.exec(r),l=s!=null,c=e[i];return!c&&!T0(c)&&(typeof n=="number"?n>0&&(e[i]=Md(s?.[1]??"1em",n)):s&&(e[i]=s[1])),l};return[o("width",O$),o("height",A$)]}async function rk(t,e,n,r,o,i){const{scale:a,addXmlNs:s=!1}=r??{},{additionalProps:l={},iconCustomizer:c}=r?.customizations??{},u=await o?.()??{};await c?.(e,n,u),Object.keys(l).forEach(v=>{const g=l[v];g!=null&&(u[v]=g)}),i?.(u);const[h,f]=M$(t,u,a);s&&(!t.includes("xmlns=")&&!u.xmlns&&(u.xmlns="http://www.w3.org/2000/svg"),!t.includes("xmlns:xlink=")&&t.includes("xlink:")&&!u["xmlns:xlink"]&&(u["xmlns:xlink"]="http://www.w3.org/1999/xlink"));const p=Object.keys(u).map(v=>v==="width"&&h||v==="height"&&f?null:`${v}="${u[v]}"`).filter(v=>v!=null);if(p.length&&(t=t.replace(sp,`<svg ${p.join(" ")} `)),r){const{defaultStyle:v,defaultClass:g}=r;g&&!t.includes("class=")&&(t=t.replace(sp,`<svg class="${g}" `)),v&&!t.includes("style=")&&(t=t.replace(sp,`<svg style="${v}" `))}const m=r?.usedProps;return m&&(Object.keys(l).forEach(v=>{const g=u[v];g!=null&&(m[v]=g)}),typeof u.width<"u"&&u.width!==null&&(m.width=u.width),typeof u.height<"u"&&u.height!==null&&(m.height=u.height)),t}var Xc={exports:{}},lp,ey;function $$(){if(ey)return lp;ey=1;var t=1e3,e=t*60,n=e*60,r=n*24,o=r*7,i=r*365.25;lp=function(u,h){h=h||{};var f=typeof u;if(f==="string"&&u.length>0)return a(u);if(f==="number"&&isFinite(u))return h.long?l(u):s(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(h){var f=parseFloat(h[1]),p=(h[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"weeks":case"week":case"w":return f*o;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function s(u){var h=Math.abs(u);return h>=r?Math.round(u/r)+"d":h>=n?Math.round(u/n)+"h":h>=e?Math.round(u/e)+"m":h>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var h=Math.abs(u);return h>=r?c(u,h,r,"day"):h>=n?c(u,h,n,"hour"):h>=e?c(u,h,e,"minute"):h>=t?c(u,h,t,"second"):u+" ms"}function c(u,h,f,p){var m=h>=f*1.5;return Math.round(u/f)+" "+p+(m?"s":"")}return lp}var cp,ty;function R$(){if(ty)return cp;ty=1;function t(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=l,r.humanize=$$(),r.destroy=u,Object.keys(e).forEach(h=>{r[h]=e[h]}),r.names=[],r.skips=[],r.formatters={};function n(h){let f=0;for(let p=0;p<h.length;p++)f=(f<<5)-f+h.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=n;function r(h){let f,p=null,m,v;function g(...b){if(!g.enabled)return;const y=g,x=Number(new Date),w=x-(f||x);y.diff=w,y.prev=f,y.curr=x,f=x,b[0]=r.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let _=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(E,$)=>{if(E==="%%")return"%";_++;const A=r.formatters[$];if(typeof A=="function"){const D=b[_];E=A.call(y,D),b.splice(_,1),_--}return E}),r.formatArgs.call(y,b),(y.log||r.log).apply(y,b)}return g.namespace=h,g.useColors=r.useColors(),g.color=r.selectColor(h),g.extend=o,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==r.namespaces&&(m=r.namespaces,v=r.enabled(h)),v),set:b=>{p=b}}),typeof r.init=="function"&&r.init(g),g}function o(h,f){const p=r(this.namespace+(typeof f>"u"?":":f)+h);return p.log=this.log,p}function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];const f=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const p of f)p[0]==="-"?r.skips.push(p.slice(1)):r.names.push(p)}function a(h,f){let p=0,m=0,v=-1,g=0;for(;p<h.length;)if(m<f.length&&(f[m]===h[p]||f[m]==="*"))f[m]==="*"?(v=m,g=p,m++):(p++,m++);else if(v!==-1)m=v+1,g++,p=g;else return!1;for(;m<f.length&&f[m]==="*";)m++;return m===f.length}function s(){const h=[...r.names,...r.skips.map(f=>"-"+f)].join(",");return r.enable(""),h}function l(h){for(const f of r.skips)if(a(h,f))return!1;for(const f of r.names)if(a(h,f))return!0;return!1}function c(h){return h instanceof Error?h.stack||h.message:h}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return cp=t,cp}var ny;function D$(){return ny||(ny=1,function(t,e){var n={};e.formatArgs=o,e.save=i,e.load=a,e.useColors=r,e.storage=s(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let h=0,f=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(h++,p==="%c"&&(f=h))}),c.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function a(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function s(){try{return localStorage}catch{}}t.exports=R$()(e);const{formatters:l}=t.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}(Xc,Xc.exports)),Xc.exports}var P$=D$();const ok=ch(P$),L$=ok("@iconify-loader:custom");async function ry(t,e,n,r){let o;L$(`${e}:${n}`);try{if(typeof t=="function")o=await t(n);else{const i=t[n];o=typeof i=="function"?await i():i}}catch(i){console.warn(`Failed to load custom icon "${n}" in "${e}":`,i);return}if(o){const i=o.indexOf("<svg");i>0&&(o=o.slice(i));const{transform:a}=r?.customizations??{};return o=typeof a=="function"?await a(o,e,n):o,o.startsWith("<svg")?await rk(r?.customizations?.trimCustomSvg===!0?T$(o):o,e,n,r,void 0):(console.warn(`Custom icon "${n}" in "${e}" is not a valid SVG`),o)}}const F$=ok("@iconify-loader:icon");async function ik(t,e,n,r){let o;const{customize:i}=r?.customizations??{};for(const a of n)if(o=y$(t,a),o){F$(`${e}:${a}`);let s={...nk};typeof i=="function"&&(o=Object.assign({},o),s=i(s,o,`${e}:${a}`)??s);const{attributes:{width:l,height:c,...u},body:h}=S$(o,s),f=r?.scale;return await rk(`<svg >${h}</svg>`,e,a,r,()=>({...u}),p=>{const m=(v,g)=>{const b=p[v];let y;if(!T0(b)){if(b)return;typeof f=="number"?f&&(y=Md(g??"1em",f)):y=g}y?p[v]=y:delete p[v]};m("width",l),m("height",c)})}}const ak=async(t,e,n)=>{const r=n?.customCollections?.[t];if(r)if(typeof r=="function"){let o;try{o=await r(e)}catch(i){console.warn(`Failed to load custom icon "${e}" in "${t}":`,i);return}if(o){if(typeof o=="string")return await ry(()=>o,t,e,n);if("icons"in o){const i=[e,e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.replace(/([a-z])(\d+)/g,"$1-$2")];return await ik(o,t,i,n)}}}else return await ry(r,t,e,n)},I$=/#/g,N$=/&/g,j$=/\//g,B$=/=/g,O0=/\+/g,z$=/%5e/gi,U$=/%60/gi,H$=/%7c/gi,W$=/%20/gi;function V$(t){return encodeURI(""+t).replace(H$,"|")}function Xg(t){return V$(typeof t=="string"?t:JSON.stringify(t)).replace(O0,"%2B").replace(W$,"+").replace(I$,"%23").replace(N$,"%26").replace(U$,"`").replace(z$,"^").replace(j$,"%2F")}function up(t){return Xg(t).replace(B$,"%3D")}function sk(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function X$(t){return sk(t.replace(O0," "))}function Y$(t){return sk(t.replace(O0," "))}function G$(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const o=X$(r[1]);if(o==="__proto__"||o==="constructor")continue;const i=Y$(r[2]||"");e[o]===void 0?e[o]=i:Array.isArray(e[o])?e[o].push(i):e[o]=[e[o],i]}return e}function q$(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${up(t)}=${Xg(n)}`).join("&"):`${up(t)}=${Xg(e)}`:up(t)}function K$(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>q$(e,t[e])).filter(Boolean).join("&")}const Z$=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,J$=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Q$=/^([/\\]\s*){2,}[^/\\]/,eR=/^\.?\//;function lk(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Z$.test(t):J$.test(t)||(e.acceptRelative?Q$.test(t):!1)}function tR(t="",e){return t.endsWith("/")}function nR(t="",e){return(tR(t)?t.slice(0,-1):t)||"/"}function rR(t="",e){return t.endsWith("/")?t:t+"/"}function oR(t,e){if(aR(e)||lk(t))return t;const n=nR(e);return t.startsWith(n)?t:lR(n,t)}function iR(t,e){const n=cR(t),r={...G$(n.search),...e};return n.search=K$(r),uR(n)}function aR(t){return!t||t==="/"}function sR(t){return t&&t!=="/"}function lR(t,...e){let n=t||"";for(const r of e.filter(o=>sR(o)))if(n){const o=r.replace(eR,"");n=rR(n)+o}else n=r;return n}const ck=Symbol.for("ufo:protocolRelative");function cR(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,f=""]=n;return{protocol:h.toLowerCase(),pathname:f,href:h+f,auth:"",host:"",search:"",hash:""}}if(!lk(t,{acceptRelative:!0}))return oy(t);const[,r="",o,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",s=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(s=s.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=oy(s);return{protocol:r.toLowerCase(),auth:o?o.slice(0,Math.max(0,o.length-1)):"",host:a,pathname:l,search:c,hash:u,[ck]:!r}}function oy(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function uR(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",o=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[ck]?(t.protocol||"")+"//":"")+o+i+e+n+r}class dR extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function hR(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",o=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${o}: ${i}${e?` ${e}`:""}`,s=new dR(a,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(s,l,{get(){return t[l]}});for(const[l,c]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(s,l,{get(){return t.response&&t.response[c]}});return s}const fR=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function iy(t="GET"){return fR.has(t.toUpperCase())}function pR(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const gR=new Set(["image/svg","application/xml","application/xhtml","application/html"]),mR=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function vR(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return mR.test(e)?"json":gR.has(e)||e.startsWith("text/")?"text":"blob"}function bR(t,e,n,r){const o=yR(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:o}}function yR(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[o,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(o,i);return r}async function Yc(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const xR=new Set([408,409,425,429,500,502,503,504]),wR=new Set([101,204,205,304]);function uk(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function o(s){const l=s.error&&s.error.name==="AbortError"&&!s.options.timeout||!1;if(s.options.retry!==!1&&!l){let u;typeof s.options.retry=="number"?u=s.options.retry:u=iy(s.options.method)?0:1;const h=s.response&&s.response.status||500;if(u>0&&(Array.isArray(s.options.retryStatusCodes)?s.options.retryStatusCodes.includes(h):xR.has(h))){const f=typeof s.options.retryDelay=="function"?s.options.retryDelay(s):s.options.retryDelay||0;return f>0&&await new Promise(p=>setTimeout(p,f)),i(s.request,{...s.options,retry:u-1})}}const c=hR(s);throw Error.captureStackTrace&&Error.captureStackTrace(c,i),c}const i=async function(l,c={}){const u={request:l,options:bR(l,c,t.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await Yc(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=oR(u.request,u.options.baseURL)),u.options.query&&(u.request=iR(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&iy(u.options.method)&&(pR(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let h;if(!u.options.signal&&u.options.timeout){const p=new r;h=setTimeout(()=>{const m=new Error("[TimeoutError]: The operation was aborted due to timeout");m.name="TimeoutError",m.code=23,p.abort(m)},u.options.timeout),u.options.signal=p.signal}try{u.response=await e(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await Yc(u,u.options.onRequestError),await o(u)}finally{h&&clearTimeout(h)}if((u.response.body||u.response._bodyInit)&&!wR.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||vR(u.response.headers.get("content-type")||"");switch(p){case"json":{const m=await u.response.text(),v=u.options.parseResponse||r4;u.response._data=v(m);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await Yc(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await Yc(u,u.options.onResponseError),await o(u)):u.response},a=async function(l,c){return(await i(l,c))._data};return a.raw=i,a.native=(...s)=>e(...s),a.create=(s={},l={})=>uk({...t,...l,defaults:{...t.defaults,...l.defaults,...s}}),a}const $d=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),_R=$d.fetch?(...t)=>$d.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),kR=$d.Headers,CR=$d.AbortController,SR=uk({fetch:_R,Headers:kR,AbortController:CR}),ER=SR,qu="default",Yg="preflights",TR="shortcuts",OR="imports",AR={[OR]:-200,[Yg]:-100,[TR]:-10,[qu]:0},dk=/[\\:]?[\s'"`;{}]+/g;function MR(t){return t.split(dk)}const $R={name:"@unocss/core/extractor-split",order:0,extract({code:t}){return MR(t)}};function zt(t=[]){return Array.isArray(t)?t:[t]}function Wr(t){return Array.from(new Set(t))}function ay(t,e){return t.reduce((n,r)=>(n.findIndex(i=>e(r,i))===-1&&n.push(r),n),[])}function Kt(t){return typeof t=="string"}class hk extends Set{_map=new Map;constructor(e){if(super(),e)for(const n of e)this.add(n)}add(e){return this._map.set(e,(this._map.get(e)??0)+1),super.add(e)}delete(e){return this._map.has(e)?(this._map.delete(e),super.delete(e)):!1}clear(){this._map.clear(),super.clear()}getCount(e){return this._map.get(e)??0}setCount(e,n){return this._map.set(e,n),super.add(e)}}function dp(t){return t instanceof hk}function Hl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function as(t){const e=t.length;let n=-1,r,o="";const i=t.charCodeAt(0);for(;++n<e;){if(r=t.charCodeAt(n),r===0){o+="�";continue}if(r===37){o+="\\%";continue}if(r===44){o+="\\,";continue}if(r>=1&&r<=31||r===127||n===0&&r>=48&&r<=57||n===1&&r>=48&&r<=57&&i===45){o+=`\\${r.toString(16)} `;continue}if(n===0&&e===1&&r===45){o+=`\\${t.charAt(n)}`;continue}if(r>=128||r===45||r===95||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122){o+=t.charAt(n);continue}o+=`\\${t.charAt(n)}`}return o}const hp=as;function RR(){return{events:{},emit(t,...e){(this.events[t]||[]).forEach(n=>n(...e))},on(t,e){return(this.events[t]=this.events[t]||[]).push(e),()=>this.events[t]=(this.events[t]||[]).filter(n=>n!==e)}}}const DR=/[\w\u00A0-\uFFFF%-?]/;function PR(t=""){return DR.test(t)}function LR(t){return typeof t=="function"?{match:t}:t}function sy(t){return t.length===3}function Ku(t){return t!=null}function FR(){}class IR{_map=new Map;get(e,n){const r=this._map.get(e);if(r)return r.get(n)}getFallback(e,n,r){let o=this._map.get(e);return o||(o=new Map,this._map.set(e,o)),o.has(n)||o.set(n,r),o.get(n)}set(e,n,r){let o=this._map.get(e);return o||(o=new Map,this._map.set(e,o)),o.set(n,r),this}has(e,n){return this._map.get(e)?.has(n)}delete(e,n){return this._map.get(e)?.delete(n)||!1}deleteTop(e){return this._map.delete(e)}map(e){return Array.from(this._map.entries()).flatMap(([n,r])=>Array.from(r.entries()).map(([o,i])=>e(i,n,o)))}}class NR extends Map{getFallback(e,n){const r=this.get(e);return r===void 0?(this.set(e,n),n):r}map(e){const n=[];return this.forEach((r,o)=>{n.push(e(r,o))}),n}flatMap(e){const n=[];return this.forEach((r,o)=>{n.push(...e(r,o))}),n}}function Rd(t){return Kt(t)?t:(Array.isArray(t)?t:Object.entries(t)).filter(e=>e[1]!=null)}function jR(t){return Array.isArray(t)?t.find(e=>!Array.isArray(e)||Array.isArray(e[0]))?t.map(e=>Rd(e)):[t]:[Rd(t)]}function BR(t){return t.filter(([e,n],r)=>{if(e.startsWith("$$"))return!1;for(let o=r-1;o>=0;o--)if(t[o][0]===e&&t[o][1]===n)return!1;return!0})}function fp(t){return t==null?"":BR(t).map(([e,n])=>n!=null&&typeof n!="function"?`${e}:${n};`:void 0).filter(Boolean).join("")}function Gc(t){return t&&typeof t=="object"&&!Array.isArray(t)}function A0(t,e,n=!1){const r=t,o=e;if(Array.isArray(o))return n&&Array.isArray(o)?[...r,...o]:[...o];const i={...r};return Gc(r)&&Gc(o)&&Object.keys(o).forEach(a=>{Gc(r[a])&&Gc(o[a])||Array.isArray(r[a])&&Array.isArray(o[a])?i[a]=A0(r[a],o[a],n):Object.assign(i,{[a]:o[a]})}),i}function Zu(t){let e,n,r;if(Array.isArray(t)){for(n=Array.from({length:e=t.length});e--;)n[e]=(r=t[e])&&typeof r=="object"?Zu(r):r;return n}if(Object.prototype.toString.call(t)==="[object Object]"){n={};for(e in t)e==="__proto__"?Object.defineProperty(n,e,{value:Zu(t[e]),configurable:!0,enumerable:!0,writable:!0}):n[e]=(r=t[e])&&typeof r=="object"?Zu(r):r;return n}return t}function zR(t){return Kt(t[0])}function UR(t){return Kt(t[0])}const qc={};function HR(t=["-",":"]){const e=t.join("|");return qc[e]||(qc[e]=new RegExp(`((?:[!@<~\\w+:_-]|\\[&?>?:?\\S*\\])+?)(${e})\\(((?:[~!<>\\w\\s:/\\\\,%#.$?-]|\\[[^\\]]*?\\])+?)\\)(?!\\s*?=>)`,"gm")),qc[e].lastIndex=0,qc[e]}function WR(t,e=["-",":"],n=5){const r=HR(e);let o,i=t.toString();const a=new Set,s=new Map;do o=!1,i=i.replace(r,(c,u,h,f,p)=>{if(!e.includes(h))return c;o=!0,a.add(u+h);const m=p+u.length+h.length+1,v={length:c.length,items:[]};s.set(p,v);for(const g of[...f.matchAll(/\S+/g)]){const b=m+g.index;let y=s.get(b)?.items;y?s.delete(b):y=[{offset:b,length:g[0].length,className:g[0]}];for(const x of y)x.className=x.className==="~"?u:x.className.replace(/^(!?)(.*)/,`$1${u}${h}$2`),v.items.push(x)}return"$".repeat(c.length)}),n-=1;while(o&&n);let l;if(typeof t=="string"){l="";let c=0;for(const[u,h]of s)l+=t.slice(c,u),l+=h.items.map(f=>f.className).join(" "),c=u+h.length;l+=t.slice(c)}else{l=t;for(const[c,u]of s)l.overwrite(c,c+u.length,u.items.map(h=>h.className).join(" "))}return{prefixes:Array.from(a),hasChanged:o,groupsByOffset:s,get expanded(){return l.toString()}}}function VR(t,e=["-",":"],n=5){const r=WR(t,e,n);return typeof t=="string"?r.expanded:t}const ly=new Set;function fk(t){ly.has(t)||(console.warn("[unocss]",t),ly.add(t))}function pk(t){return zt(t).flatMap(e=>Array.isArray(e)?[e]:Object.entries(e))}const cy="_uno_resolved";async function XR(t){let e=typeof t=="function"?await t():await t;if(cy in e)return e;e={...e},Object.defineProperty(e,cy,{value:!0,enumerable:!1});const n=e.shortcuts?pk(e.shortcuts):void 0;if(e.shortcuts=n,e.prefix||e.layer){const r=o=>{o[2]||(o[2]={});const i=o[2];i.prefix==null&&e.prefix&&(i.prefix=zt(e.prefix)),i.layer==null&&e.layer&&(i.layer=e.layer)};n?.forEach(r),e.rules?.forEach(r)}return e}async function gk(t){const e=await XR(t);if(!e.presets)return[e];const n=(await Promise.all((e.presets||[]).flatMap(zt).flatMap(gk))).flat();return[e,...n]}function YR(t){if(t.length===0)return{};const e=[],n=[];let r=!1;const o=[],i=[],a=[];for(const l of t){if(l.pipeline===!1){r=!0;break}else l.pipeline?.include&&e.push(l.pipeline.include),l.pipeline?.exclude&&n.push(l.pipeline.exclude);l.filesystem&&o.push(l.filesystem),l.inline&&i.push(l.inline),l.plain&&a.push(l.plain)}const s={pipeline:r?!1:{include:Wr(dy(...e)),exclude:Wr(dy(...n))}};return o.length&&(s.filesystem=Wr(o.flat())),i.length&&(s.inline=Wr(i.flat())),a.length&&(s.plain=Wr(a.flat())),s}async function uy(t={},e={}){const n=Object.assign({},e,t),r=ay((await Promise.all((n.presets||[]).flatMap(zt).flatMap(gk))).flat(),(_,k)=>_.name===k.name),o=[...r.filter(_=>_.enforce==="pre"),...r.filter(_=>!_.enforce),...r.filter(_=>_.enforce==="post")],i=[...o,n],a=[...i].reverse(),s=Object.assign({},AR,...i.map(_=>_.layers));function l(_){return Wr(i.flatMap(k=>zt(k[_]||[])))}const c=l("extractors");let u=a.find(_=>_.extractorDefault!==void 0)?.extractorDefault;u===void 0&&(u=$R),u&&!c.includes(u)&&c.unshift(u),c.sort((_,k)=>(_.order||0)-(k.order||0));const h=l("rules"),f={},p=h.length,m=h.filter(_=>zR(_)?(zt(_[2]?.prefix||"").forEach(E=>{f[E+_[0]]=_}),!1):!0).reverse(),v={templates:Wr(i.flatMap(_=>zt(_.autocomplete?.templates))),extractors:i.flatMap(_=>zt(_.autocomplete?.extractors)).sort((_,k)=>(_.order||0)-(k.order||0)),shorthands:qR(i.map(_=>_.autocomplete?.shorthands||{}))};let g=l("separators");g.length||(g=[":","-"]);const b=l("content"),y=YR(b),x={mergeSelectors:!0,warn:!0,sortLayers:_=>_,...n,blocklist:l("blocklist"),presets:o,envMode:n.envMode||"build",shortcutsLayer:n.shortcutsLayer||"shortcuts",layers:s,theme:GR(i.map(_=>_.theme)),rules:h,rulesSize:p,rulesDynamic:m,rulesStaticMap:f,preprocess:l("preprocess"),postprocess:l("postprocess"),preflights:l("preflights"),autocomplete:v,variants:l("variants").map(LR).sort((_,k)=>(_.order||0)-(k.order||0)),shortcuts:pk(l("shortcuts")).reverse(),extractors:c,safelist:l("safelist"),separators:g,details:n.details??n.envMode==="dev",content:y,transformers:ay(l("transformers"),(_,k)=>_.name===k.name)},w=l("extendTheme");for(const _ of w)x.theme=_(x.theme,x)||x.theme;for(const _ of i)_?.configResolved?.(x);return x}function GR(t){return t.map(e=>e?Zu(e):{}).reduce((e,n)=>A0(e,n),{})}function qR(t){return t.reduce((e,n)=>{const r={};for(const o in n){const i=n[o];Array.isArray(i)?r[o]=`(${i.join("|")})`:r[o]=i}return{...e,...r}},{})}function dy(...t){return t.flatMap(KR)}function KR(t){return Array.isArray(t)?t:t?[t]:[]}const ZR="66.2.3",$n={shortcutsNoMerge:"$$symbol-shortcut-no-merge",noMerge:"$$symbol-no-merge",variants:"$$symbol-variants",parent:"$$symbol-parent",selector:"$$symbol-selector",layer:"$$symbol-layer",sort:"$$symbol-sort"};class M0{constructor(e={},n={}){this.userConfig=e,this.defaults=n}version=ZR;events=RR();config=void 0;cache=new Map;blocked=new Set;parentOrders=new Map;activatedRules=new Set;static async create(e={},n={}){const r=new M0(e,n);return r.config=await uy(r.userConfig,r.defaults),r.events.emit("config",r.config),r}async setConfig(e,n){e&&(n&&(this.defaults=n),this.userConfig=e,this.blocked.clear(),this.parentOrders.clear(),this.activatedRules.clear(),this.cache.clear(),this.config=await uy(e,this.defaults),this.events.emit("config",this.config))}async applyExtractors(e,n,r=new Set){const o={original:e,code:e,id:n,extracted:r,envMode:this.config.envMode};for(const i of this.config.extractors){const a=await i.extract?.(o);if(a)if(dp(a)&&dp(r))for(const s of a)r.setCount(s,r.getCount(s)+a.getCount(s));else for(const s of a)r.add(s)}return r}makeContext(e,n){const r={rawSelector:e,currentSelector:n[1],theme:this.config.theme,generator:this,symbols:$n,variantHandlers:n[2],constructCSS:(...o)=>this.constructCustomCSS(r,...o),variantMatch:n};return r}async parseToken(e,n){if(this.blocked.has(e))return;const r=`${e}${n?` ${n}`:""}`;if(this.cache.has(r))return this.cache.get(r);let o=e;for(const l of this.config.preprocess)o=l(e);if(this.isBlocked(o)){this.blocked.add(e),this.cache.set(r,null);return}const i=await this.matchVariants(e,o);if(i.every(l=>!l||this.isBlocked(l[1]))){this.blocked.add(e),this.cache.set(r,null);return}const a=async l=>{const c=this.makeContext(e,[n||l[0],l[1],l[2],l[3]]);this.config.details&&(c.variants=[...l[3]]);const u=await this.expandShortcut(c.currentSelector,c);return u?await this.stringifyShortcuts(c.variantMatch,c,u[0],u[1]):(await this.parseUtil(c.variantMatch,c))?.map(f=>this.stringifyUtil(f,c)).filter(Ku)},s=(await Promise.all(i.map(l=>a(l)))).flat().filter(l=>!!l);if(s?.length)return this.cache.set(r,s),s;this.cache.set(r,null)}async generate(e,n={}){const{id:r,scope:o,preflights:i=!0,safelist:a=!0,minify:s=!1,extendedInfo:l=!1}=n,c=Kt(e)?await this.applyExtractors(e,r,l?new hk:new Set):Array.isArray(e)?new Set(e):e;if(a){const E={generator:this,theme:this.config.theme};this.config.safelist.flatMap($=>typeof $=="function"?$(E):$).forEach($=>{const A=$.trim();A&&!c.has(A)&&c.add(A)})}const u=s?"":`
`,h=new Set([qu]),f=l?new Map:new Set,p=new Map;let m={};const v=Array.from(c).map(async E=>{if(f.has(E))return;const $=await this.parseToken(E);if($!=null){f instanceof Map?f.set(E,{data:$,count:dp(c)?c.getCount(E):-1}):f.add(E);for(const A of $){const D=A[3]||"",O=A[4]?.layer;p.has(D)||p.set(D,[]),p.get(D).push(A),O&&h.add(O)}}});await Promise.all(v),await(async()=>{if(!i)return;const E={generator:this,theme:this.config.theme},$=new Set([]);this.config.preflights.forEach(({layer:A=Yg})=>{h.add(A),$.add(A)}),m=Object.fromEntries(await Promise.all(Array.from($).map(async A=>{const O=(await Promise.all(this.config.preflights.filter(S=>(S.layer||Yg)===A).map(async S=>await S.getCSS(E)))).filter(Boolean).join(u);return[A,O]})))})();const g=this.config.sortLayers(Array.from(h).sort((E,$)=>(this.config.layers[E]??0)-(this.config.layers[$]??0)||E.localeCompare($))),b={},y=this.config.outputToCssLayers,x=E=>{let $=E;return typeof y=="object"&&($=y.cssLayerName?.(E)),$===null?null:$??E},w=(E=qu)=>{if(b[E])return b[E];let $=Array.from(p).sort((O,S)=>(this.parentOrders.get(O[0])??0)-(this.parentOrders.get(S[0])??0)||O[0]?.localeCompare(S[0]||"")||0).map(([O,S])=>{const T=S.length,C=S.filter(P=>(P[4]?.layer||qu)===E).sort((P,N)=>P[0]-N[0]||(P[4]?.sort||0)-(N[4]?.sort||0)||P[5]?.currentSelector?.localeCompare(N[5]?.currentSelector??"")||P[1]?.localeCompare(N[1]||"")||P[2]?.localeCompare(N[2]||"")||0).map(([,P,N,,j,,H])=>[[[(P&&eD(P,o))??"",j?.sort??0]],N,!!(H??j?.noMerge)]);if(!C.length)return;const M=C.reverse().map(([P,N,j],H)=>{if(!j&&this.config.mergeSelectors)for(let te=H+1;te<T;te++){const U=C[te];if(U&&!U[2]&&(P&&U[0]||P==null&&U[0]==null)&&U[1]===N)return P&&U[0]&&U[0].push(...P),null}const B=P?Wr(P.sort((te,U)=>te[1]-U[1]||te[0]?.localeCompare(U[0]||"")||0).map(te=>te[0]).filter(Boolean)):[];return B.length?`${B.join(`,${u}`)}{${N}}`:N}).filter(Boolean),R=Array.from(new Set(M)).reverse().join(u);if(!O)return R;const L=O.split(" $$ ");return`${L.join("{")}{${u}${R}${u}${"}".repeat(L.length)}`}).filter(Boolean).join(u);i&&($=[m[E],$].filter(Boolean).join(u));let A;y&&$&&(A=x(E),A!==null&&($=`@layer ${A}{${u}${$}${u}}`));const D=s?"":`/* layer: ${E}${A&&A!==E?`, alias: ${A}`:""} */${u}`;return b[E]=$?D+$:""},_=(E=g,$)=>{const A=E.filter(D=>!$?.includes(D));return[y&&A.length>0?`@layer ${A.map(x).filter(Ku).join(", ")};`:void 0,...A.map(D=>w(D)||"")].filter(Boolean).join(u)};return{get css(){return _()},layers:g,matched:f,getLayers:_,getLayer:w,setLayer:async(E,$)=>{const A=await $(w(E));return b[E]=A,A}}}async matchVariants(e,n){const r={rawSelector:e,theme:this.config.theme,generator:this},o=async i=>{let a=!0;const[,,s,l]=i;for(;a;){a=!1;const c=i[1];for(const u of this.config.variants){if(!u.multiPass&&l.has(u))continue;let h=await u.match(c,r);if(h){if(Kt(h)){if(h===c)continue;h={matcher:h}}if(Array.isArray(h)){if(!h.length)continue;if(h.length===1)h=h[0];else{if(u.multiPass)throw new Error("multiPass can not be used together with array return variants");const f=h.map(p=>{const m=p.matcher??c,v=[p,...s],g=new Set(l);return g.add(u),[i[0],m,v,g]});return(await Promise.all(f.map(p=>o(p)))).flat()}}i[1]=h.matcher??c,s.unshift(h),l.add(u),a=!0;break}}if(!a)break;if(s.length>500)throw new Error(`Too many variants applied to "${e}"`)}return[i]};return await o([e,n||e,[],new Set])}applyVariants(e,n=e[4],r=e[1]){const i=n.slice().sort((c,u)=>(c.order||0)-(u.order||0)).reduceRight((c,u)=>h=>{const f=u.body?.(h.entries)||h.entries,p=Array.isArray(u.parent)?u.parent:[u.parent,void 0],m=u.selector?.(h.selector,f);return(u.handle??tD)({...h,entries:f,selector:m||h.selector,parent:p[0]||h.parent,parentOrder:p[1]||h.parentOrder,layer:u.layer||h.layer,sort:u.sort||h.sort},c)},c=>c)({prefix:"",selector:vk(r),pseudo:"",entries:e[2]}),{parent:a,parentOrder:s}=i;a!=null&&s!=null&&this.parentOrders.set(a,s);const l={selector:[i.prefix,i.selector,i.pseudo].join(""),entries:i.entries,parent:a,layer:i.layer,sort:i.sort,noMerge:i.noMerge};for(const c of this.config.postprocess)c(l);return l}constructCustomCSS(e,n,r){const o=Rd(n);if(Kt(o))return o;const{selector:i,entries:a,parent:s}=this.applyVariants([0,r||e.rawSelector,o,void 0,e.variantHandlers]),l=`${i}{${fp(a)}}`;return s?`${s}{${l}}`:l}async parseUtil(e,n,r=!1,o){const i=Kt(e)?await this.matchVariants(e):[e],a=async([l,c,u])=>{this.config.details&&(n.rules=n.rules??[]);const h={...n,variantHandlers:u},f=this.config.rulesStaticMap[c];if(f&&f[1]&&(r||!f[2]?.internal))return this.resolveCSSResult(l,f[1],f,h);for(const p of this.config.rulesDynamic){const[m,v,g]=p;if(g?.internal&&!r)continue;let b=c;if(g?.prefix){const _=zt(g.prefix);if(o){const k=zt(o);if(!_.some(E=>k.includes(E)))continue}else{const k=_.find(E=>c.startsWith(E));if(k==null)continue;b=c.slice(k.length)}}const y=b.match(m);if(!y)continue;let x=await v(y,h);if(!x)continue;if(typeof x!="string")if(Symbol.asyncIterator in x){const _=[];for await(const k of x)k&&_.push(k);x=_}else Symbol.iterator in x&&!Array.isArray(x)&&(x=Array.from(x).filter(Ku));const w=this.resolveCSSResult(l,x,p,h);if(w)return w}},s=(await Promise.all(i.map(l=>a(l)))).flat().filter(l=>!!l);if(s.length)return s}resolveCSSResult=(e,n,r,o)=>{const i=jR(n).filter(a=>a.length);if(i.length){this.config.details&&o.rules.push(r),o.generator.activatedRules.add(r);const a=o.generator.config.rules.indexOf(r),s=r[2];return i.map(l=>{if(Kt(l))return[a,l,s];let c=o.variantHandlers,u=s;for(const h of l)h[0]===$n.variants?typeof h[1]=="function"?c=h[1](c)||c:c=[...zt(h[1]),...c]:h[0]===$n.parent?c=[{parent:h[1]},...c]:h[0]===$n.selector?c=[{selector:h[1]},...c]:h[0]===$n.layer?c=[{layer:h[1]},...c]:h[0]===$n.sort?u={...u,sort:h[1]}:h[0]===$n.noMerge&&(u={...u,noMerge:h[1]});return[a,e,l,u,c]})}};stringifyUtil(e,n){if(!e)return;if(sy(e))return[e[0],void 0,e[1],void 0,e[2],this.config.details?n:void 0,void 0];const{selector:r,entries:o,parent:i,layer:a,sort:s,noMerge:l}=this.applyVariants(e),c=fp(o);if(!c)return;const{layer:u,sort:h,...f}=e[3]??{},p={...f,layer:a??u,sort:s??h};return[e[0],r,c,i,p,this.config.details?n:void 0,l]}async expandShortcut(e,n,r=5){if(r===0)return;const o=this.config.details?c=>{n.shortcuts=n.shortcuts??[],n.shortcuts.push(c)}:FR;let i,a,s,l;for(const c of this.config.shortcuts){let u=e;if(c[2]?.prefix){const f=zt(c[2].prefix).find(p=>e.startsWith(p));if(f==null)continue;u=e.slice(f.length)}if(UR(c)){if(c[0]===u){i=i||c[2],a=c[1],o(c);break}}else{const h=u.match(c[0]);if(h&&(a=c[1](h,n)),a){i=i||c[2],o(c);break}}}if(a&&(s=Wr(zt(a).filter(Kt).map(c=>VR(c.trim()).split(/\s+/g)).flat()),l=zt(a).filter(c=>!Kt(c)).map(c=>({handles:[],value:c}))),!a){const c=Kt(e)?await this.matchVariants(e):[e];for(const u of c){const[h,f,p]=u;if(h!==f){const m=await this.expandShortcut(f,n,r-1);m&&(s=m[0].filter(Kt).map(v=>h.replace(f,v)),l=m[0].filter(v=>!Kt(v)).map(v=>({handles:[...v.handles,...p],value:v.value})))}}}if(!(!s?.length&&!l?.length))return[[await Promise.all(zt(s).map(async c=>(await this.expandShortcut(c,n,r-1))?.[0]||[c])),l].flat(2).filter(c=>!!c),i]}async stringifyShortcuts(e,n,r,o={layer:this.config.shortcutsLayer}){const i=new NR,a=(await Promise.all(Wr(r).map(async u=>{const h=Kt(u)?await this.parseUtil(u,n,!0,o.prefix):[[Number.POSITIVE_INFINITY,"{inline}",Rd(u.value),void 0,u.handles]];return!h&&this.config.warn&&fk(`unmatched utility "${u}" in shortcut "${e[1]}"`),h||[]}))).flat(1).filter(Boolean).sort((u,h)=>u[0]-h[0]),[s,,l]=e,c=[];for(const u of a){if(sy(u)){c.push([u[0],void 0,u[1],void 0,u[2],n,void 0]);continue}const{selector:h,entries:f,parent:p,sort:m,noMerge:v,layer:g}=this.applyVariants(u,[...u[4],...l],s);i.getFallback(g??o.layer,new IR).getFallback(h,p,[[],u[0]])[0].push([f,!!(v??u[3]?.noMerge),m??0])}return c.concat(i.flatMap((u,h)=>u.map(([f,p],m,v)=>{const g=(y,x,w)=>{const _=Math.max(...w.map(E=>E[1])),k=w.map(E=>E[0]);return(y?[k.flat(1)]:k).map(E=>{const $=fp(E);if($)return[p,m,$,v,{...o,noMerge:x,sort:_,layer:h},n,void 0]})};return[[f.filter(([,y])=>y).map(([y,,x])=>[y,x]),!0],[f.filter(([,y])=>!y).map(([y,,x])=>[y,x]),!1]].map(([y,x])=>[...g(!1,x,y.filter(([w])=>w.some(_=>_[0]===$n.shortcutsNoMerge))),...g(!0,x,y.filter(([w])=>w.every(_=>_[0]!==$n.shortcutsNoMerge)))])}).flat(2).filter(Boolean)))}isBlocked(e){return!e||this.config.blocklist.map(n=>Array.isArray(n)?n[0]:n).some(n=>typeof n=="function"?n(e):Kt(n)?n===e:n.test(e))}getBlocked(e){const n=this.config.blocklist.find(r=>{const o=Array.isArray(r)?r[0]:r;return typeof o=="function"?o(e):Kt(o)?o===e:o.test(e)});return n?Array.isArray(n)?n:[n,void 0]:void 0}}async function JR(t,e){return await M0.create(t,e)}const mk=/\s\$\$\s+/g;function QR(t){return mk.test(t)}function eD(t,e){return QR(t)?t.replace(mk,e?` ${e} `:" "):e?`${e} ${t}`:t}const hy=/^\[(.+?)(~?=)"(.*)"\]$/;function vk(t){return hy.test(t)?t.replace(hy,(e,n,r,o)=>`[${hp(n)}${r}"${hp(o)}"]`):`.${hp(t)}`}function tD(t,e){return e(t)}var fy={};const bk=["academicons","akar-icons","ant-design","arcticons","aws","basil","bi","bitcoin-icons","bpmn","brandico","bubbles","bx","bxl","bxs","bytesize","carbon","catppuccin","cbi","charm","ci","cib","cif","cil","circle-flags","circum","clarity","codex","codicon","covid","cryptocurrency-color","cryptocurrency","cuida","dashicons","devicon-line","devicon-original","devicon-plain","devicon","dinkie-icons","duo-icons","ei","el","emblemicons","emojione-monotone","emojione-v1","emojione","entypo-social","entypo","eos-icons","ep","et","eva","f7","fa-brands","fa-regular","fa-solid","fa","fa6-brands","fa6-regular","fa6-solid","fad","famicons","fe","feather","file-icons","flag","flagpack","flat-color-icons","flat-ui","flowbite","fluent-color","fluent-emoji-flat","fluent-emoji-high-contrast","fluent-emoji","fluent-mdl2","fluent","fontelico","fontisto","formkit","foundation","fxemoji","gala","game-icons","garden","geo","gg","gis","gravity-ui","gridicons","grommet-icons","guidance","healthicons","heroicons-outline","heroicons-solid","heroicons","hugeicons","humbleicons","ic","icomoon-free","icon-park-outline","icon-park-solid","icon-park-twotone","icon-park","iconamoon","iconoir","icons8","il","ion","iwwa","ix","jam","la","lets-icons","line-md","lineicons","logos","ls","lsicon","lucide-lab","lucide","mage","majesticons","maki","map","marketeq","material-icon-theme","material-symbols-light","material-symbols","mdi-light","mdi","medical-icon","memory","meteocons","meteor-icons","mi","mingcute","mono-icons","mynaui","nimbus","nonicons","noto-v1","noto","nrk","octicon","oi","ooui","openmoji","oui","pajamas","pepicons-pencil","pepicons-pop","pepicons-print","pepicons","ph","picon","pixel","pixelarticons","prime","proicons","ps","qlementine-icons","quill","radix-icons","raphael","ri","rivet-icons","si-glyph","si","simple-icons","simple-line-icons","skill-icons","solar","stash","streamline-block","streamline-color","streamline-cyber-color","streamline-cyber","streamline-emojis","streamline-flex-color","streamline-flex","streamline-freehand-color","streamline-freehand","streamline-guidance","streamline-kameleon-color","streamline-logos","streamline-pixel","streamline-plump-color","streamline-plump","streamline-sharp-color","streamline-sharp","streamline-stickies-color","streamline-ultimate-color","streamline-ultimate","streamline","subway","svg-spinners","system-uicons","tabler","tdesign","teenyicons","token-branded","token","topcoat","twemoji","typcn","uil","uim","uis","uit","uiw","unjs","vaadin","vs","vscode-icons","websymbol","weui","whh","wi","wpf","zmdi","zondicons"],nD=3;function rD(t){return(e={})=>{const{scale:n=1,mode:r="auto",prefix:o="i-",warn:i=!1,iconifyCollectionsNames:a,collections:s,extraProperties:l={},customizations:c={},autoInstall:u=!1,collectionsNodeResolvePath:h,layer:f="icons",unit:p,processor:m}=e,v=oD(),g={addXmlNs:!0,scale:n,customCollections:s,autoInstall:u,cwd:h,warn:void 0,customizations:{...c,additionalProps:{...l},trimCustomSvg:!0,async iconCustomizer(y,x,w){await c.iconCustomizer?.(y,x,w),p&&(w.width||(w.width=`${n}${p}`),w.height||(w.height=`${n}${p}`))}}};let b;return{name:"@unocss/preset-icons",enforce:"pre",options:e,layers:{icons:-30},api:{encodeSvgForCss:Qb,parseIconWithLoader:py},rules:[[/^([\w:-]+)(?:\?(mask|bg|auto))?$/,async y=>{let[x,w,_=r]=y;b=b||await t(e);const k={},E=await py(w,b,{...g,usedProps:k},a);if(!E){i&&!v.isESLint&&fk(`failed to load icon "${x}"`);return}let $;const A=`url("data:image/svg+xml;utf8,${Qb(E.svg)}")`;return _==="auto"&&(_=E.svg.includes("currentColor")?"mask":"bg"),_==="mask"?$={"--un-icon":A,"-webkit-mask":"var(--un-icon) no-repeat",mask:"var(--un-icon) no-repeat","-webkit-mask-size":"100% 100%","mask-size":"100% 100%","background-color":"currentColor",color:"inherit",...k}:$={background:`${A} no-repeat`,"background-size":"100% 100%","background-color":"transparent",...k},m?.($,{...E,icon:E.name,mode:_}),$},{layer:f,prefix:o}]]}}}function yk(t,e,n=new Map){function r(o){if(bk.includes(o))return n.has(o)||n.set(o,t(`${e}@iconify-json/${o}/icons.json`)),n.get(o)}return async(o,i,a)=>{let s=await ak(o,i,a);if(s)return s;const l=await r(o);if(l){const c=[i,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i.replace(/([a-z])(\d+)/g,"$1-$2")];s=await ik(l,o,c,a)}return s}}function oD(){const t=typeof process<"u"&&process.stdout,e=t&&!!fy.VSCODE_CWD,n=t&&!!fy.ESLINT;return{isNode:t,isVSCode:e,isESLint:n}}async function py(t,e,n={},r=[]){let o="",i="",a;const s=new Set([...bk,...r,...Object.keys(n.customCollections||{})]);if(t.includes(":")){if([o,i]=t.split(":"),!s.has(o))return;a=await e(o,i,n)}else{const l=t.split(/-/g);for(let c=nD;c>=1&&(o=l.slice(0,c).join("-"),!(!!s.has(o)&&(i=l.slice(c).join("-"),a=await e(o,i,n),a)));c--);}if(a)return{collection:o,name:i,svg:a}}function iD(t){return yk(ER,t)}const aD=rD(async t=>{const e=t?.customFetch,n=t?.cdn;return e&&n?yk(e,n):n?iD(n):ak});var vl={exports:{}},sD=vl.exports,gy;function lD(){return gy||(gy=1,function(t,e){(function(n,r){r(e)})(sD,function(n){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(64),s=new Uint8Array(128);for(let O=0;O<i.length;O++){const S=i.charCodeAt(O);a[O]=S,s[S]=O}function l(O,S){let T=0,C=0,M=0;do{const L=O.next();M=s[L],T|=(M&31)<<C,C+=5}while(M&32);const R=T&1;return T>>>=1,R&&(T=-2147483648|-T),S+T}function c(O,S,T){let C=S-T;C=C<0?-C<<1|1:C<<1;do{let M=C&31;C>>>=5,C>0&&(M|=32),O.write(a[M])}while(C>0);return S}function u(O,S){return O.pos>=S?!1:O.peek()!==44}const h=1024*16,f=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode(O){return Buffer.from(O.buffer,O.byteOffset,O.byteLength).toString()}}:{decode(O){let S="";for(let T=0;T<O.length;T++)S+=String.fromCharCode(O[T]);return S}};class p{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(h)}write(S){const{buffer:T}=this;T[this.pos++]=S,this.pos===h&&(this.out+=f.decode(T),this.pos=0)}flush(){const{buffer:S,out:T,pos:C}=this;return C>0?T+f.decode(S.subarray(0,C)):T}}class m{constructor(S){this.pos=0,this.buffer=S}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(S){const{buffer:T,pos:C}=this,M=T.indexOf(S,C);return M===-1?T.length:M}}const v=[];function g(O){const{length:S}=O,T=new m(O),C=[],M=[];let R=0;for(;T.pos<S;T.pos++){R=l(T,R);const L=l(T,0);if(!u(T,S)){const te=M.pop();te[2]=R,te[3]=L;continue}const P=l(T,0),H=l(T,0)&1?[R,L,0,0,P,l(T,0)]:[R,L,0,0,P];let B=v;if(u(T,S)){B=[];do{const te=l(T,0);B.push(te)}while(u(T,S))}H.vars=B,C.push(H),M.push(H)}return C}function b(O){const S=new p;for(let T=0;T<O.length;)T=y(O,T,S,[0]);return S.flush()}function y(O,S,T,C){const M=O[S],{0:R,1:L,2:P,3:N,4:j,vars:H}=M;S>0&&T.write(44),C[0]=c(T,R,C[0]),c(T,L,0),c(T,j,0);const B=M.length===6?1:0;c(T,B,0),M.length===6&&c(T,M[5],0);for(const te of H)c(T,te,0);for(S++;S<O.length;){const te=O[S],{0:U,1:ie}=te;if(U>P||U===P&&ie>=N)break;S=y(O,S,T,C)}return T.write(44),C[0]=c(T,P,C[0]),c(T,N,0),S}function x(O){const{length:S}=O,T=new m(O),C=[],M=[];let R=0,L=0,P=0,N=0,j=0,H=0,B=0,te=0;do{const U=T.indexOf(";");let ie=0;for(;T.pos<U;T.pos++){if(ie=l(T,ie),!u(T,U)){const Me=M.pop();Me[2]=R,Me[3]=ie;continue}const V=l(T,0),de=V&1,ve=V&2,ge=V&4;let ke=null,Ce=v,Ae;if(de){const Me=l(T,L);P=l(T,L===Me?P:0),L=Me,Ae=[R,ie,0,0,Me,P]}else Ae=[R,ie,0,0];if(Ae.isScope=!!ge,ve){const Me=N,Y=j;N=l(T,N);const W=Me===N;j=l(T,W?j:0),H=l(T,W&&Y===j?H:0),ke=[N,j,H]}if(Ae.callsite=ke,u(T,U)){Ce=[];do{B=R,te=ie;const Me=l(T,0);let Y;if(Me<-1){Y=[[l(T,0)]];for(let W=-1;W>Me;W--){const Z=B;B=l(T,B),te=l(T,B===Z?te:0);const K=l(T,0);Y.push([K,B,te])}}else Y=[[Me]];Ce.push(Y)}while(u(T,U))}Ae.bindings=Ce,C.push(Ae),M.push(Ae)}R++,T.pos=U+1}while(T.pos<S);return C}function w(O){if(O.length===0)return"";const S=new p;for(let T=0;T<O.length;)T=_(O,T,S,[0,0,0,0,0,0,0]);return S.flush()}function _(O,S,T,C){const M=O[S],{0:R,1:L,2:P,3:N,isScope:j,callsite:H,bindings:B}=M;C[0]<R?(k(T,C[0],R),C[0]=R,C[1]=0):S>0&&T.write(44),C[1]=c(T,M[1],C[1]);const te=(M.length===6?1:0)|(H?2:0)|(j?4:0);if(c(T,te,0),M.length===6){const{4:U,5:ie}=M;U!==C[2]&&(C[3]=0),C[2]=c(T,U,C[2]),C[3]=c(T,ie,C[3])}if(H){const{0:U,1:ie,2:V}=M.callsite;U!==C[4]?(C[5]=0,C[6]=0):ie!==C[5]&&(C[6]=0),C[4]=c(T,U,C[4]),C[5]=c(T,ie,C[5]),C[6]=c(T,V,C[6])}if(B)for(const U of B){U.length>1&&c(T,-U.length,0);const ie=U[0][0];c(T,ie,0);let V=R,de=L;for(let ve=1;ve<U.length;ve++){const ge=U[ve];V=c(T,ge[1],V),de=c(T,ge[2],de),c(T,ge[0],0)}}for(S++;S<O.length;){const U=O[S],{0:ie,1:V}=U;if(ie>P||ie===P&&V>=N)break;S=_(O,S,T,C)}return C[0]<P?(k(T,C[0],P),C[0]=P,C[1]=0):T.write(44),C[1]=c(T,N,C[1]),S}function k(O,S,T){do O.write(59);while(++S<T)}function E(O){const{length:S}=O,T=new m(O),C=[];let M=0,R=0,L=0,P=0,N=0;do{const j=T.indexOf(";"),H=[];let B=!0,te=0;for(M=0;T.pos<j;){let U;M=l(T,M),M<te&&(B=!1),te=M,u(T,j)?(R=l(T,R),L=l(T,L),P=l(T,P),u(T,j)?(N=l(T,N),U=[M,R,L,P,N]):U=[M,R,L,P]):U=[M],H.push(U),T.pos++}B||$(H),C.push(H),T.pos=j+1}while(T.pos<=S);return C}function $(O){O.sort(A)}function A(O,S){return O[0]-S[0]}function D(O){const S=new p;let T=0,C=0,M=0,R=0;for(let L=0;L<O.length;L++){const P=O[L];if(L>0&&S.write(59),P.length===0)continue;let N=0;for(let j=0;j<P.length;j++){const H=P[j];j>0&&S.write(44),N=c(S,H[0],N),H.length!==1&&(T=c(S,H[1],T),C=c(S,H[2],C),M=c(S,H[3],M),H.length!==4&&(R=c(S,H[4],R)))}}return S.flush()}n.decode=E,n.decodeGeneratedRanges=x,n.decodeOriginalScopes=g,n.encode=D,n.encodeGeneratedRanges=w,n.encodeOriginalScopes=b,Object.defineProperty(n,"__esModule",{value:!0})})}(vl,vl.exports)),vl.exports}var cD=lD();class Dd{constructor(e){this.bits=e instanceof Dd?e.bits.slice():[]}add(e){this.bits[e>>5]|=1<<(e&31)}has(e){return!!(this.bits[e>>5]&1<<(e&31))}}class Wl{constructor(e,n,r){this.start=e,this.end=n,this.original=r,this.intro="",this.outro="",this.content=r,this.storeName=!1,this.edited=!1,this.previous=null,this.next=null}appendLeft(e){this.outro+=e}appendRight(e){this.intro=this.intro+e}clone(){const e=new Wl(this.start,this.end,this.original);return e.intro=this.intro,e.outro=this.outro,e.content=this.content,e.storeName=this.storeName,e.edited=this.edited,e}contains(e){return this.start<e&&e<this.end}eachNext(e){let n=this;for(;n;)e(n),n=n.next}eachPrevious(e){let n=this;for(;n;)e(n),n=n.previous}edit(e,n,r){return this.content=e,r||(this.intro="",this.outro=""),this.storeName=n,this.edited=!0,this}prependLeft(e){this.outro=e+this.outro}prependRight(e){this.intro=e+this.intro}reset(){this.intro="",this.outro="",this.edited&&(this.content=this.original,this.storeName=!1,this.edited=!1)}split(e){const n=e-this.start,r=this.original.slice(0,n),o=this.original.slice(n);this.original=r;const i=new Wl(e,this.end,o);return i.outro=this.outro,this.outro="",this.end=e,this.edited?(i.edit("",!1),this.content=""):this.content=r,i.next=this.next,i.next&&(i.next.previous=i),i.previous=this,this.next=i,i}toString(){return this.intro+this.content+this.outro}trimEnd(e){if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;const n=this.content.replace(e,"");if(n.length)return n!==this.content&&(this.split(this.start+n.length).edit("",void 0,!0),this.edited&&this.edit(n,this.storeName,!0)),!0;if(this.edit("",void 0,!0),this.intro=this.intro.replace(e,""),this.intro.length)return!0}trimStart(e){if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;const n=this.content.replace(e,"");if(n.length){if(n!==this.content){const r=this.split(this.end-n.length);this.edited&&r.edit(n,this.storeName,!0),this.edit("",void 0,!0)}return!0}else if(this.edit("",void 0,!0),this.outro=this.outro.replace(e,""),this.outro.length)return!0}}function uD(){return typeof globalThis<"u"&&typeof globalThis.btoa=="function"?t=>globalThis.btoa(unescape(encodeURIComponent(t))):typeof Buffer=="function"?t=>Buffer.from(t,"utf-8").toString("base64"):()=>{throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")}}const dD=uD();class hD{constructor(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=cD.encode(e.mappings),typeof e.x_google_ignoreList<"u"&&(this.x_google_ignoreList=e.x_google_ignoreList),typeof e.debugId<"u"&&(this.debugId=e.debugId)}toString(){return JSON.stringify(this)}toUrl(){return"data:application/json;charset=utf-8;base64,"+dD(this.toString())}}function fD(t){const e=t.split(`
`),n=e.filter(i=>/^\t+/.test(i)),r=e.filter(i=>/^ {2,}/.test(i));if(n.length===0&&r.length===0)return null;if(n.length>=r.length)return"	";const o=r.reduce((i,a)=>{const s=/^ +/.exec(a)[0].length;return Math.min(s,i)},1/0);return new Array(o+1).join(" ")}function pD(t,e){const n=t.split(/[/\\]/),r=e.split(/[/\\]/);for(n.pop();n[0]===r[0];)n.shift(),r.shift();if(n.length){let o=n.length;for(;o--;)n[o]=".."}return n.concat(r).join("/")}const gD=Object.prototype.toString;function mD(t){return gD.call(t)==="[object Object]"}function my(t){const e=t.split(`
`),n=[];for(let r=0,o=0;r<e.length;r++)n.push(o),o+=e[r].length+1;return function(o){let i=0,a=n.length;for(;i<a;){const c=i+a>>1;o<n[c]?a=c:i=c+1}const s=i-1,l=o-n[s];return{line:s,column:l}}}const vD=/\w/;class bD{constructor(e){this.hires=e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null}addEdit(e,n,r,o){if(n.length){const i=n.length-1;let a=n.indexOf(`
`,0),s=-1;for(;a>=0&&i>a;){const c=[this.generatedCodeColumn,e,r.line,r.column];o>=0&&c.push(o),this.rawSegments.push(c),this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,s=a,a=n.indexOf(`
`,a+1)}const l=[this.generatedCodeColumn,e,r.line,r.column];o>=0&&l.push(o),this.rawSegments.push(l),this.advance(n.slice(s+1))}else this.pending&&(this.rawSegments.push(this.pending),this.advance(n));this.pending=null}addUneditedChunk(e,n,r,o,i){let a=n.start,s=!0,l=!1;for(;a<n.end;){if(r[a]===`
`)o.line+=1,o.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,s=!0,l=!1;else{if(this.hires||s||i.has(a)){const c=[this.generatedCodeColumn,e,o.line,o.column];this.hires==="boundary"?vD.test(r[a])?l||(this.rawSegments.push(c),l=!0):(this.rawSegments.push(c),l=!1):this.rawSegments.push(c)}o.column+=1,this.generatedCodeColumn+=1,s=!1}a+=1}this.pending=null}advance(e){if(!e)return;const n=e.split(`
`);if(n.length>1){for(let r=0;r<n.length-1;r++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=n[n.length-1].length}}const nl=`
`,Ba={insertLeft:!1,insertRight:!1,storeName:!1};class $0{constructor(e,n={}){const r=new Wl(0,e.length,e);Object.defineProperties(this,{original:{writable:!0,value:e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:r},lastChunk:{writable:!0,value:r},lastSearchedChunk:{writable:!0,value:r},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:n.filename},indentExclusionRanges:{writable:!0,value:n.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new Dd},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:void 0},ignoreList:{writable:!0,value:n.ignoreList},offset:{writable:!0,value:n.offset||0}}),this.byStart[0]=r,this.byEnd[e.length]=r}addSourcemapLocation(e){this.sourcemapLocations.add(e)}append(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.outro+=e,this}appendLeft(e,n){if(e=e+this.offset,typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byEnd[e];return r?r.appendLeft(n):this.intro+=n,this}appendRight(e,n){if(e=e+this.offset,typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byStart[e];return r?r.appendRight(n):this.outro+=n,this}clone(){const e=new $0(this.original,{filename:this.filename,offset:this.offset});let n=this.firstChunk,r=e.firstChunk=e.lastSearchedChunk=n.clone();for(;n;){e.byStart[r.start]=r,e.byEnd[r.end]=r;const o=n.next,i=o&&o.clone();i&&(r.next=i,i.previous=r,r=i),n=o}return e.lastChunk=r,this.indentExclusionRanges&&(e.indentExclusionRanges=this.indentExclusionRanges.slice()),e.sourcemapLocations=new Dd(this.sourcemapLocations),e.intro=this.intro,e.outro=this.outro,e}generateDecodedMap(e){e=e||{};const n=0,r=Object.keys(this.storedNames),o=new bD(e.hires),i=my(this.original);return this.intro&&o.advance(this.intro),this.firstChunk.eachNext(a=>{const s=i(a.start);a.intro.length&&o.advance(a.intro),a.edited?o.addEdit(n,a.content,s,a.storeName?r.indexOf(a.original):-1):o.addUneditedChunk(n,a,this.original,s,this.sourcemapLocations),a.outro.length&&o.advance(a.outro)}),{file:e.file?e.file.split(/[/\\]/).pop():void 0,sources:[e.source?pD(e.file||"",e.source):e.file||""],sourcesContent:e.includeContent?[this.original]:void 0,names:r,mappings:o.raw,x_google_ignoreList:this.ignoreList?[n]:void 0}}generateMap(e){return new hD(this.generateDecodedMap(e))}_ensureindentStr(){this.indentStr===void 0&&(this.indentStr=fD(this.original))}_getRawIndentString(){return this._ensureindentStr(),this.indentStr}getIndentString(){return this._ensureindentStr(),this.indentStr===null?"	":this.indentStr}indent(e,n){const r=/^[^\r\n]/gm;if(mD(e)&&(n=e,e=void 0),e===void 0&&(this._ensureindentStr(),e=this.indentStr||"	"),e==="")return this;n=n||{};const o={};n.exclude&&(typeof n.exclude[0]=="number"?[n.exclude]:n.exclude).forEach(u=>{for(let h=u[0];h<u[1];h+=1)o[h]=!0});let i=n.indentStart!==!1;const a=c=>i?`${e}${c}`:(i=!0,c);this.intro=this.intro.replace(r,a);let s=0,l=this.firstChunk;for(;l;){const c=l.end;if(l.edited)o[s]||(l.content=l.content.replace(r,a),l.content.length&&(i=l.content[l.content.length-1]===`
`));else for(s=l.start;s<c;){if(!o[s]){const u=this.original[s];u===`
`?i=!0:u!=="\r"&&i&&(i=!1,s===l.start||(this._splitChunk(l,s),l=l.next),l.prependRight(e))}s+=1}s=l.end,l=l.next}return this.outro=this.outro.replace(r,a),this}insert(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")}insertLeft(e,n){return Ba.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),Ba.insertLeft=!0),this.appendLeft(e,n)}insertRight(e,n){return Ba.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),Ba.insertRight=!0),this.prependRight(e,n)}move(e,n,r){if(e=e+this.offset,n=n+this.offset,r=r+this.offset,r>=e&&r<=n)throw new Error("Cannot move a selection inside itself");this._split(e),this._split(n),this._split(r);const o=this.byStart[e],i=this.byEnd[n],a=o.previous,s=i.next,l=this.byStart[r];if(!l&&i===this.lastChunk)return this;const c=l?l.previous:this.lastChunk;return a&&(a.next=s),s&&(s.previous=a),c&&(c.next=o),l&&(l.previous=i),o.previous||(this.firstChunk=i.next),i.next||(this.lastChunk=o.previous,this.lastChunk.next=null),o.previous=c,i.next=l||null,c||(this.firstChunk=o),l||(this.lastChunk=i),this}overwrite(e,n,r,o){return o=o||{},this.update(e,n,r,{...o,overwrite:!o.contentOnly})}update(e,n,r,o){if(e=e+this.offset,n=n+this.offset,typeof r!="string")throw new TypeError("replacement content must be a string");if(this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}if(n>this.original.length)throw new Error("end is out of bounds");if(e===n)throw new Error("Cannot overwrite a zero-length range – use appendLeft or prependRight instead");this._split(e),this._split(n),o===!0&&(Ba.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),Ba.storeName=!0),o={storeName:!0});const i=o!==void 0?o.storeName:!1,a=o!==void 0?o.overwrite:!1;if(i){const c=this.original.slice(e,n);Object.defineProperty(this.storedNames,c,{writable:!0,value:!0,enumerable:!0})}const s=this.byStart[e],l=this.byEnd[n];if(s){let c=s;for(;c!==l;){if(c.next!==this.byStart[c.end])throw new Error("Cannot overwrite across a split point");c=c.next,c.edit("",!1)}s.edit(r,i,!a)}else{const c=new Wl(e,n,"").edit(r,i);l.next=c,c.previous=l}return this}prepend(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.intro=e+this.intro,this}prependLeft(e,n){if(e=e+this.offset,typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byEnd[e];return r?r.prependLeft(n):this.intro=n+this.intro,this}prependRight(e,n){if(e=e+this.offset,typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byStart[e];return r?r.prependRight(n):this.outro=n+this.outro,this}remove(e,n){if(e=e+this.offset,n=n+this.offset,this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}if(e===n)return this;if(e<0||n>this.original.length)throw new Error("Character is out of bounds");if(e>n)throw new Error("end must be greater than start");this._split(e),this._split(n);let r=this.byStart[e];for(;r;)r.intro="",r.outro="",r.edit(""),r=n>r.end?this.byStart[r.end]:null;return this}reset(e,n){if(e=e+this.offset,n=n+this.offset,this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}if(e===n)return this;if(e<0||n>this.original.length)throw new Error("Character is out of bounds");if(e>n)throw new Error("end must be greater than start");this._split(e),this._split(n);let r=this.byStart[e];for(;r;)r.reset(),r=n>r.end?this.byStart[r.end]:null;return this}lastChar(){if(this.outro.length)return this.outro[this.outro.length-1];let e=this.lastChunk;do{if(e.outro.length)return e.outro[e.outro.length-1];if(e.content.length)return e.content[e.content.length-1];if(e.intro.length)return e.intro[e.intro.length-1]}while(e=e.previous);return this.intro.length?this.intro[this.intro.length-1]:""}lastLine(){let e=this.outro.lastIndexOf(nl);if(e!==-1)return this.outro.substr(e+1);let n=this.outro,r=this.lastChunk;do{if(r.outro.length>0){if(e=r.outro.lastIndexOf(nl),e!==-1)return r.outro.substr(e+1)+n;n=r.outro+n}if(r.content.length>0){if(e=r.content.lastIndexOf(nl),e!==-1)return r.content.substr(e+1)+n;n=r.content+n}if(r.intro.length>0){if(e=r.intro.lastIndexOf(nl),e!==-1)return r.intro.substr(e+1)+n;n=r.intro+n}}while(r=r.previous);return e=this.intro.lastIndexOf(nl),e!==-1?this.intro.substr(e+1)+n:this.intro+n}slice(e=0,n=this.original.length-this.offset){if(e=e+this.offset,n=n+this.offset,this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}let r="",o=this.firstChunk;for(;o&&(o.start>e||o.end<=e);){if(o.start<n&&o.end>=n)return r;o=o.next}if(o&&o.edited&&o.start!==e)throw new Error(`Cannot use replaced character ${e} as slice start anchor.`);const i=o;for(;o;){o.intro&&(i!==o||o.start===e)&&(r+=o.intro);const a=o.start<n&&o.end>=n;if(a&&o.edited&&o.end!==n)throw new Error(`Cannot use replaced character ${n} as slice end anchor.`);const s=i===o?e-o.start:0,l=a?o.content.length+n-o.end:o.content.length;if(r+=o.content.slice(s,l),o.outro&&(!a||o.end===n)&&(r+=o.outro),a)break;o=o.next}return r}snip(e,n){const r=this.clone();return r.remove(0,e),r.remove(n,r.original.length),r}_split(e){if(this.byStart[e]||this.byEnd[e])return;let n=this.lastSearchedChunk;const r=e>n.end;for(;n;){if(n.contains(e))return this._splitChunk(n,e);n=r?this.byStart[n.end]:this.byEnd[n.start]}}_splitChunk(e,n){if(e.edited&&e.content.length){const o=my(this.original)(n);throw new Error(`Cannot split a chunk that has already been edited (${o.line}:${o.column} – "${e.original}")`)}const r=e.split(n);return this.byEnd[n]=e,this.byStart[n]=r,this.byEnd[r.end]=r,e===this.lastChunk&&(this.lastChunk=r),this.lastSearchedChunk=e,!0}toString(){let e=this.intro,n=this.firstChunk;for(;n;)e+=n.toString(),n=n.next;return e+this.outro}isEmpty(){let e=this.firstChunk;do if(e.intro.length&&e.intro.trim()||e.content.length&&e.content.trim()||e.outro.length&&e.outro.trim())return!1;while(e=e.next);return!0}length(){let e=this.firstChunk,n=0;do n+=e.intro.length+e.content.length+e.outro.length;while(e=e.next);return n}trimLines(){return this.trim("[\\r\\n]")}trim(e){return this.trimStart(e).trimEnd(e)}trimEndAborted(e){const n=new RegExp((e||"\\s")+"+$");if(this.outro=this.outro.replace(n,""),this.outro.length)return!0;let r=this.lastChunk;do{const o=r.end,i=r.trimEnd(n);if(r.end!==o&&(this.lastChunk===r&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),i)return!0;r=r.previous}while(r);return!1}trimEnd(e){return this.trimEndAborted(e),this}trimStartAborted(e){const n=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(n,""),this.intro.length)return!0;let r=this.firstChunk;do{const o=r.end,i=r.trimStart(n);if(r.end!==o&&(r===this.lastChunk&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),i)return!0;r=r.next}while(r);return!1}trimStart(e){return this.trimStartAborted(e),this}hasChanged(){return this.original!==this.toString()}_replaceRegexp(e,n){function r(i,a){return typeof n=="string"?n.replace(/\$(\$|&|\d+)/g,(s,l)=>l==="$"?"$":l==="&"?i[0]:+l<i.length?i[+l]:`$${l}`):n(...i,i.index,a,i.groups)}function o(i,a){let s;const l=[];for(;s=i.exec(a);)l.push(s);return l}if(e.global)o(e,this.original).forEach(a=>{if(a.index!=null){const s=r(a,this.original);s!==a[0]&&this.overwrite(a.index,a.index+a[0].length,s)}});else{const i=this.original.match(e);if(i&&i.index!=null){const a=r(i,this.original);a!==i[0]&&this.overwrite(i.index,i.index+i[0].length,a)}}return this}_replaceString(e,n){const{original:r}=this,o=r.indexOf(e);return o!==-1&&this.overwrite(o,o+e.length,n),this}replace(e,n){return typeof e=="string"?this._replaceString(e,n):this._replaceRegexp(e,n)}_replaceAllString(e,n){const{original:r}=this,o=e.length;for(let i=r.indexOf(e);i!==-1;i=r.indexOf(e,i+o))r.slice(i,i+o)!==n&&this.overwrite(i,i+o,n);return this}replaceAll(e,n){if(typeof e=="string")return this._replaceAllString(e,n);if(!e.global)throw new TypeError("MagicString.prototype.replaceAll called with a non-global RegExp argument");return this._replaceRegexp(e,n)}}function R0(t,e,n){if(t==="")return;const r=t.length;let o=0,i=!1,a=0;for(let s=0;s<r;s++)switch(t[s]){case e:i||(i=!0,a=s),o++;break;case n:if(--o,o<0)return;if(o===0)return[t.slice(a,s+1),t.slice(s+1),t.slice(0,a)];break}}function Lh(t,e,n,r){if(t===""||(Kt(r)&&(r=[r]),r.length===0))return;const o=t.length;let i=0;for(let a=0;a<o;a++)switch(t[a]){case e:i++;break;case n:if(--i<0)return;break;default:for(const s of r){const l=s.length;if(l&&s===t.slice(a,a+l)&&i===0)return a===0||a===o-l?void 0:[t.slice(0,a),t.slice(a+l)]}}return[t,""]}function Vl(t,e,n,r="(",o=")"){n=n??10;const i=[];let a=0;for(;t!=="";){if(++a>n)return;const s=Lh(t,r,o,e);if(!s)return;const[l,c]=s;i.push(l),t=c}if(i.length>0)return i}const D0=["hsl","hsla","hwb","lab","lch","oklab","oklch","rgb","rgba"],yD=["srgb","srgb-linear","display-p3","a98-rgb","prophoto-rgb","rec2020","lab","oklab","xyz","xyz-d50","xyz-d65"],xD=["hsl","hwb","lch","oklch"],wD=["shorter","longer","increasing","decreasing"],xk=["%alpha","<alpha-value>"],wk=new RegExp(xk.map(t=>Hl(t)).join("|"),"g");function vy(t){return t?yD.some(e=>t.includes(e))||xD.some(e=>t.includes(e))||wD.some(e=>t.includes(e)):!1}function ts(t=""){const e=_D(t);if(e==null||e===!1)return;const{type:n,components:r,alpha:o}=e,i=n.toLowerCase();if(r.length!==0&&!(D0.includes(i)&&![1,3].includes(r.length)))return{type:i,components:r.map(a=>typeof a=="string"?a.trim():a),alpha:typeof o=="string"?o.trim():o}}function Gg(t,e){if(typeof t=="string")return t.replace(wk,`${e??1}`);const{components:n}=t;let{alpha:r,type:o}=t;return r=e??r,o=o.toLowerCase(),["hsla","rgba"].includes(o)?`${o}(${n.join(", ")}${r==null?"":`, ${r}`})`:(r=r==null?"":` / ${r}`,D0.includes(o)?`${o}(${n.join(" ")}${r})`:`color(${o} ${n.join(" ")}${r})`)}function _D(t){if(!t)return;let e=kD(t);if(e!=null||(e=CD(t),e!=null)||(e=SD(t),e!=null)||(e=TD(t),e!=null)||(e=OD(t),e!=null))return e}function kD(t){const[,e]=t.match(/^#([\da-f]+)$/i)||[];if(e)switch(e.length){case 3:case 4:{const n=Array.from(e,r=>Number.parseInt(r,16)).map(r=>r<<4|r);return{type:"rgb",components:n.slice(0,3),alpha:e.length===3?void 0:Math.round(n[3]/255*100)/100}}case 6:case 8:{const n=Number.parseInt(e,16);return{type:"rgb",components:e.length===6?[n>>16&255,n>>8&255,n&255]:[n>>24&255,n>>16&255,n>>8&255],alpha:e.length===6?void 0:Math.round((n&255)/255*100)/100}}}}function CD(t){const e={rebeccapurple:[102,51,153,1]}[t];if(e!=null)return{type:"rgb",components:e.slice(0,3),alpha:e[3]}}function SD(t){const e=t.match(/^(rgb|rgba|hsl|hsla)\((.+)\)$/i);if(!e)return;const[,n,r]=e,o=Vl(r,",",5);if(o){if([3,4].includes(o.length))return{type:n,components:o.slice(0,3),alpha:o[3]};if(o.length!==1)return!1}}const ED=new RegExp(`^(${D0.join("|")})\\((.+)\\)$`,"i");function TD(t){const e=t.match(ED);if(!e)return;const[,n,r]=e,o=_k(`${n} ${r}`);if(o){const{alpha:i,components:[a,...s]}=o;return{type:a,components:s,alpha:i}}}function OD(t){const e=t.match(/^color\((.+)\)$/);if(!e)return;const n=_k(e[1]);if(n){const{alpha:r,components:[o,...i]}=n;return{type:o,components:i,alpha:r}}}function _k(t){const e=Vl(t," ");if(!e)return;let n=e.length;if(e[n-2]==="/")return{components:e.slice(0,n-2),alpha:e[n-1]};if(e[n-2]!=null&&(e[n-2].endsWith("/")||e[n-1].startsWith("/"))){const i=e.splice(n-2);e.push(i.join(" ")),--n}const r=Vl(e[n-1],"/",2);if(!r)return;if(r.length===1||r[r.length-1]==="")return{components:e};const o=r.pop();return e[n-1]=r.join("/"),{components:e,alpha:o}}const AD=/theme\(\s*(['"])?(.*?)\1?\s*\)/g;function MD(t){return t.includes("theme(")&&t.includes(")")}function $D(t,e,n=!0){const r=Array.from(t.toString().matchAll(AD));if(!r.length)return t;const o=new $0(t);for(const i of r){const a=i[2];if(!a)throw new Error("theme() expect exact one argument, but got 0");const s=RD(a,e,n);s&&o.overwrite(i.index,i.index+i[0].length,s)}return o.toString()}function RD(t,e,n=!0){const[r,o]=t.split("/");let a=r.trim().split(".").reduce((s,l)=>s?.[l],e);if(typeof a=="object"&&(a=a.DEFAULT),typeof a=="string"){if(o){const s=ts(a);s&&(a=Gg(s,o))}return a}else if(n)throw new Error(`theme of "${t}" did not found`)}function by(t){const e=t.match(/^-?\d+\.?\d*/)?.[0]||"",n=t.slice(e.length);if(n==="px"){const r=Number.parseFloat(e)-.1;return Number.isNaN(r)?t:`${r}${n}`}return`calc(${t} - 0.1px)`}function DD(t){const e=function(r){const o=this.__options?.sequence||[];this.__options.sequence=[];for(const i of o){const a=t[i](r);if(a!=null)return a}};function n(r,o){return r.__options||(r.__options={sequence:[]}),r.__options.sequence.push(o),r}for(const r of Object.keys(t))Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get(){return n(this,r)}});return e}const kk="__pseudo_placeholder__",Bs=Object.fromEntries([["first-letter","::first-letter"],["first-line","::first-line"],"any-link","link","visited","target",["open","[open]"],"default","checked","indeterminate","placeholder-shown","autofill","optional","required","valid","invalid","user-valid","user-invalid","in-range","out-of-range","read-only","read-write","empty","focus-within","hover","focus","focus-visible","active","enabled","disabled","popover-open","root","empty",["even-of-type",":nth-of-type(even)"],["even",":nth-child(even)"],["odd-of-type",":nth-of-type(odd)"],["odd",":nth-child(odd)"],["nth",`:nth-child(${kk})`],"first-of-type",["first",":first-child"],"last-of-type",["last",":last-child"],"only-child","only-of-type",["backdrop-element","::backdrop"],["placeholder","::placeholder"],["before","::before"],["after","::after"],["file","::file-selector-button"]].map(t=>Array.isArray(t)?t:[t,`:${t}`])),Ck=Object.keys(Bs),zs=Object.fromEntries([["backdrop","::backdrop"]].map(t=>Array.isArray(t)?t:[t,`:${t}`])),Sk=Object.keys(zs),PD=["not","is","where","has"],Ek=Object.fromEntries([["selection",["::selection"," *::selection"]],["marker",["::marker"," *::marker"]]]),qg=Object.entries(Bs).filter(([,t])=>!t.startsWith("::")).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|"),Kg=Object.entries(zs).filter(([,t])=>!t.startsWith("::")).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|"),la=PD.join("|"),yy=Object.keys(Ek).sort((t,e)=>e.length-t.length).join("|"),LD=["::-webkit-resizer","::-webkit-scrollbar","::-webkit-scrollbar-button","::-webkit-scrollbar-corner","::-webkit-scrollbar-thumb","::-webkit-scrollbar-track","::-webkit-scrollbar-track-piece","::file-selector-button"],xy=Object.entries(Bs).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|"),wy=Object.entries(zs).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|");function FD(t,e,n,r){const{h:o,variantGetBracket:i}=r,a=new RegExp(`^(${Hl(e)}:)(\\S+)${Hl(n)}\\1`);let s,l,c,u;const h=m=>{const v=i(`${t}-`,m,[]);if(!v)return;const[g,b]=v,y=o.bracket(g);if(y==null)return;const x=b.split(s,1)?.[0]??"",w=`${e}${as(x)}`;return[x,m.slice(m.length-(b.length-x.length-1)),y.includes("&")?y.replace(/&/g,w):`${w}${y}`]},f=m=>{const v=m.match(l)||m.match(c);if(!v)return;const[g,b,y]=v,x=v[3]??"";let w=Bs[y]||zs[y]||`:${y}`;return b&&(w=`:${b}(${w})`),[x,m.slice(g.length),`${e}${as(x)}${w}`,y]},p=m=>{const v=m.match(u);if(!v)return;const[g,b,y]=v,x=v[3]??"",w=`:${b}(${y})`;return[x,m.slice(g.length),`${e}${as(x)}${w}`]};return{name:`pseudo:${t}`,match(m,v){if(s&&l&&c||(s=new RegExp(`(?:${v.generator.config.separators.join("|")})`),l=new RegExp(`^${t}-(?:(?:(${la})-)?(${qg}))(?:(/[\\w-]+))?(?:${v.generator.config.separators.join("|")})`),c=new RegExp(`^${t}-(?:(?:(${la})-)?(${Kg}))(?:(/[\\w-]+))?(?:${v.generator.config.separators.filter(_=>_!=="-").join("|")})`),u=new RegExp(`^${t}-(?:(${la})-)?\\[(.+)\\](?:(/[\\w-]+))?(?:${v.generator.config.separators.filter(_=>_!=="-").join("|")})`)),!m.startsWith(t))return;const g=h(m)||f(m)||p(m);if(!g)return;const[b,y,x,w=""]=g;return{matcher:y,handle:(_,k)=>k({..._,prefix:`${x}${n}${_.prefix}`.replace(a,"$1$2:"),sort:Ck.indexOf(w)??Sk.indexOf(w)})}},multiPass:!0}}function ID(t){const{h:e}=t;let n,r,o;return[{name:"pseudo",match(i,a){n&&r||(n=new RegExp(`^(${xy})(?:-(\\d+|\\[\\w+\\]))?(?:${a.generator.config.separators.join("|")})`),r=new RegExp(`^(${wy})(?:${a.generator.config.separators.filter(l=>l!=="-").join("|")})`));const s=i.match(n)||i.match(r);if(s){let l=Bs[s[1]]||zs[s[1]]||`:${s[1]}`;if(s[2]){let u;s[2].startsWith("[")&&s[2].endsWith("]")?u=e.bracket(s[2]):u=s[2],u&&(l=l.replace(kk,u))}let c=Ck.indexOf(s[1]);return c===-1&&(c=Sk.indexOf(s[1])),c===-1&&(c=void 0),{matcher:i.slice(s[0].length),handle:(u,h)=>{const f=l.includes("::")&&!LD.includes(l)?{pseudo:`${u.pseudo}${l}`}:{selector:`${u.selector}${l}`};return h({...u,...f,sort:c,noMerge:!0})}}}},multiPass:!0,autocomplete:`(${xy}|${wy}):`},{name:"pseudo:multi",match(i,a){o||(o=new RegExp(`^(${yy})(?:${a.generator.config.separators.join("|")})`));const s=i.match(o);if(s)return Ek[s[1]].map(c=>({matcher:i.slice(s[0].length),handle:(u,h)=>h({...u,pseudo:`${u.pseudo}${c}`})}))},multiPass:!1,autocomplete:`(${yy}):`}]}function ND(t){const{getBracket:e,h:n}=t;let r,o,i;return{match(a,s){r&&o||(r=new RegExp(`^(${la})-(${qg})(?:${s.generator.config.separators.join("|")})`),o=new RegExp(`^(${la})-(${Kg})(?:${s.generator.config.separators.filter(c=>c!=="-").join("|")})`),i=new RegExp(`^(${la})-(\\[.+\\])(?:${s.generator.config.separators.filter(c=>c!=="-").join("|")})`));const l=a.match(r)||a.match(o)||a.match(i);if(l){const c=l[1],h=e(l[2],"[","]")?n.bracket(l[2]):Bs[l[2]]||zs[l[2]]||`:${l[2]}`;return{matcher:a.slice(l[0].length),selector:f=>`${f}:${c}(${h})`}}},multiPass:!0,autocomplete:`(${la})-(${qg}|${Kg}):`}}function jD(t,e){const n=!!t?.attributifyPseudo;let r=t?.prefix??"";r=(Array.isArray(r)?r:[r]).filter(Boolean)[0]??"";const o=(i,a)=>FD(i,n?`[${r}${i}=""]`:`.${r}${i}`,a,e);return[o("group"," "),o("peer","~"),o("parent",">"),o("previous","+"),o("group-aria"," "),o("peer-aria","~"),o("parent-aria",">"),o("previous-aria","+")]}const BD=/(part-\[(.+)\]:)(.+)/;function zD(){return{match(t){const e=t.match(BD);if(e){const n=`part(${e[2]})`;return{matcher:t.slice(e[1].length),selector:r=>`${r}::${n}`}}},multiPass:!0}}function Zo(t,e){let n;return{name:t,match(r,o){n||(n=new RegExp(`^${Hl(t)}(?:${o.generator.config.separators.join("|")})`));const i=r.match(n);if(i){const a=r.slice(i[0].length),s=zt(e).map(l=>({matcher:a,handle:(c,u)=>u({...c,...l(c)})}));return s.length===1?s[0]:s}},autocomplete:`${t}:`}}function Qn(t,e){let n;return{name:t,match(r,o){n||(n=new RegExp(`^${Hl(t)}(?:${o.generator.config.separators.join("|")})`));const i=r.match(n);if(i)return{matcher:r.slice(i[0].length),handle:(a,s)=>s({...a,parent:`${a.parent?`${a.parent} $$ `:""}${e}`})}},autocomplete:`${t}:`}}function vc(t,e,n){if(e.startsWith(`${t}[`)){const[r,o]=R0(e.slice(t.length),"[","]")??[];if(r&&o){for(const i of n)if(o.startsWith(i))return[r,o.slice(i.length),i];return[r,o,""]}}}function no(t,e,n){for(const r of zt(t))if(e.startsWith(r)){const o=vc(r,e,n);if(o){const[i="",a=o[1]]=no("/",o[1],n)??[];return[o[0],a,i]}for(const i of n.filter(a=>a!=="/")){const a=e.indexOf(i,r.length);if(a!==-1){const s=e.indexOf("/",r.length),l=s===-1||a<=s;return[e.slice(r.length,l?a:s),e.slice(a+i.length),l?"":e.slice(s+1,a)]}}}}function _y(t){return{"h1,h2,h3,h4,h5,h6":{color:"var(--un-prose-headings)","font-weight":"600","line-height":1.25},a:{color:"var(--un-prose-links)","text-decoration":"underline","font-weight":"500"},"a code":{color:"var(--un-prose-links)"},"p,ul,ol,pre":{margin:"1em 0","line-height":1.75},blockquote:{margin:"1em 0","padding-left":"1em","font-style":"italic","border-left":".25em solid var(--un-prose-borders)"},h1:{margin:"1rem 0","font-size":"2.25em"},h2:{margin:"1.75em 0 .5em","font-size":"1.75em"},h3:{margin:"1.5em 0 .5em","font-size":"1.375em"},h4:{margin:"1em 0","font-size":"1.125em"},"img,video":{"max-width":"100%"},"figure,picture":{margin:"1em 0"},figcaption:{color:"var(--un-prose-captions)","font-size":".875em"},code:{color:"var(--un-prose-code)","font-size":".875em","font-weight":600,"font-family":t.fontFamily?.mono},":not(pre) > code::before,:not(pre) > code::after":{content:'"`"'},pre:{padding:"1.25rem 1.5rem","overflow-x":"auto","border-radius":".375rem"},"pre,code":{"white-space":"pre","word-spacing":"normal","word-break":"normal","word-wrap":"normal","-moz-tab-size":4,"-o-tab-size":4,"tab-size":4,"-webkit-hyphens":"none","-moz-hyphens":"none",hyphens:"none",background:"transparent"},"pre code":{"font-weight":"inherit"},"ol,ul":{"padding-left":"1.25em"},ol:{"list-style-type":"decimal"},'ol[type="A"]':{"list-style-type":"upper-alpha"},'ol[type="a"]':{"list-style-type":"lower-alpha"},'ol[type="A" s]':{"list-style-type":"upper-alpha"},'ol[type="a" s]':{"list-style-type":"lower-alpha"},'ol[type="I"]':{"list-style-type":"upper-roman"},'ol[type="i"]':{"list-style-type":"lower-roman"},'ol[type="I" s]':{"list-style-type":"upper-roman"},'ol[type="i" s]':{"list-style-type":"lower-roman"},'ol[type="1"]':{"list-style-type":"decimal"},ul:{"list-style-type":"disc"},"ol > li::marker,ul > li::marker,summary::marker":{color:"var(--un-prose-lists)"},hr:{margin:"2em 0",border:"1px solid var(--un-prose-hr)"},table:{display:"block",margin:"1em 0","border-collapse":"collapse","overflow-x":"auto"},"tr:nth-child(2n)":{background:"var(--un-prose-bg-soft)"},"td,th":{border:"1px solid var(--un-prose-borders)",padding:".625em 1em"},abbr:{cursor:"help"},kbd:{color:"var(--un-prose-code)",border:"1px solid",padding:".25rem .5rem","font-size":".875em","border-radius":".25rem"},details:{margin:"1em 0",padding:"1.25rem 1.5rem",background:"var(--un-prose-bg-soft)"},summary:{cursor:"pointer","font-weight":"600"}}}const UD=[["headings","h1","h2","h3","h4","h5","h6","th"],["h1"],["h2"],["h3"],["h4"],["h5"],["h6"],["p"],["a"],["blockquote"],["figure"],["figcaption"],["strong"],["em"],["kbd"],["code"],["pre"],["ol"],["ul"],["li"],["table"],["thead"],["tr"],["th"],["td"],["img"],["video"],["hr"]];function HD(t){for(const[e,...n]of UD)if(e===t)return n.length>0?n:[e]}function ky(t){let e="";const{escapedSelector:n,selectorName:r,preflights:o,compatibility:i,important:a}=t,s=i?.noColonNot||i?.noColonWhere;for(const l in o){const c=o[l],u=`:not(:where(.not-${r},.not-${r} *))`,h=l.split(",").map(f=>{const p=f.match(/:[():\-\w]+$/g);if(p){const m=p[0];return f=f.replace(m,""),n.map(v=>s?`${v} ${f}${m}`:`${v} :where(${f})${u}${m}`).join(",")}return null}).filter(f=>f);h.length?e+=h.join(","):e+=n.map(f=>s?l.split(",").map(p=>`${f} ${p}`).join(","):`${f} :where(${l})${u}`).join(","),e+="{";for(const f in c){const p=c[f];e+=`${f}:${p}${a?" !important":""};`}e+="}"}return e}function WD(t,e){const{compatibility:n,selectorName:r,important:o=!1}=e,i=typeof e?.cssExtend=="function"?e.cssExtend(t.theme):e?.cssExtend;let a=Array.from(e.escapedSelectors);return!a[a.length-1].startsWith(".")&&!n?.noColonIs&&(a=[`:is(${a[a.length-1]},.${e.selectorName})`]),typeof o=="string"&&(a=a.map(s=>n?.noColonIs?`${o} ${s}`:`:is(${o}) ${s}`)),ky(i?{escapedSelector:a,selectorName:r,preflights:A0(_y(t.theme),i),compatibility:n,important:o===!0}:{escapedSelector:a,selectorName:r,preflights:_y(t.theme),compatibility:n,important:o===!0})}const VD=t=>{t?.className&&console.warn('[unocss:preset-typography] "className" is deprecated. Please use "selectorName" instead.');const e=new Set,n=t?.selectorName||t?.className||"prose",r=new RegExp(`^${n}$`),o=new RegExp(`^${n}-([-\\w]+)$`),i=new RegExp(`^${n}-invert$`),a=t?.compatibility?.noColonNot||t?.compatibility?.noColonWhere;return{name:"@unocss/preset-typography",enforce:"post",layers:{typography:-20},rules:[[r,(s,{rawSelector:l})=>(e.add(vk(l)),{color:"var(--un-prose-body)","max-width":"65ch"}),{layer:"typography"}],[o,([,s],{theme:l})=>{const c=l.colors?.[s];if(c==null)return;const u=typeof c=="object"?c:{},h={body:700,headings:900,links:900,lists:400,hr:200,captions:500,code:900,borders:200,"bg-soft":100,"invert-body":200,"invert-headings":100,"invert-links":100,"invert-lists":500,"invert-hr":700,"invert-captions":400,"invert-code":100,"invert-borders":700,"invert-bg-soft":800},f={};for(const p in h){const m=h[p],v=u[m]??c;let g=!1;for(const b of xk)if(v.includes(b)){g=!0,f[`--un-prose-${p}-opacity`]=1,f[`--un-prose-${p}`]=v.replace(b,`var(--un-prose-${p}-opacity)`);break}g||(f[`--un-prose-${p}`]=v)}return f},{layer:"typography"}],[i,()=>({"--un-prose-body":"var(--un-prose-invert-body)","--un-prose-headings":"var(--un-prose-invert-headings)","--un-prose-links":"var(--un-prose-invert-links)","--un-prose-lists":"var(--un-prose-invert-lists)","--un-prose-hr":"var(--un-prose-invert-hr)","--un-prose-captions":"var(--un-prose-invert-captions)","--un-prose-code":"var(--un-prose-invert-code)","--un-prose-borders":"var(--un-prose-invert-borders)","--un-prose-bg-soft":"var(--un-prose-invert-bg-soft)"}),{layer:"typography"}]],variants:[{name:"typography element modifiers",match:s=>{if(s.startsWith(`${n}-`)){const l=new RegExp(`^${n}-(\\w+)[:-].+$`),c=s.match(l)?.[1];if(c){const u=HD(c);if(u?.length)return{matcher:s.slice(n.length+c.length+2),selector:h=>{const f=`:not(:where(.not-${n},.not-${n} *))`;return a?u.map(m=>`${h} ${m}`).join(","):`${h} :is(:where(${u})${f})`}}}}}}],preflights:[{layer:"typography",getCSS:s=>{if(e.size>0)return WD(s,{escapedSelectors:e,...t,selectorName:n})}}]}};function XD(t){let e,n,r=2166136261;for(e=0,n=t.length;e<n;e++)r^=t.charCodeAt(e),r+=(r<<1)+(r<<4)+(r<<7)+(r<<8)+(r<<24);return`00000${(r>>>0).toString(36)}`.slice(-6)}function YD(t,e,n,r){for(const o of Array.from(t.matchAll(n)))if(o!=null){const i=o[0],a=`${r}${XD(i)}`;e.set(a,i),t=t.replace(i,a)}return t}function GD(t,e){for(const[n,r]of e.entries())t=t.replaceAll(n,r);return t}const qD=/\/\/#\s*sourceMappingURL=.*\n?/g;function KD(t){return t.includes("sourceMappingURL=")?t.replace(qD,""):t}const ZD=/(?:[\w&:[\]-]|\[\S{1,64}=\S{1,64}\]){1,64}\[\\?['"]?\S{1,64}?['"]\]\]?[\w:-]{0,64}/g,JD=/\[(\\\W|[\w-]){1,64}:[^\s:]{0,64}?("\S{1,64}?"|'\S{1,64}?'|`\S{1,64}?`|[^\s:]{1,64}?)[^\s:]{0,64}?\)?\]/g,QD=/^\[(?:\\\W|[\w-]){1,64}:['"]?\S{1,64}?['"]?\]$/;function eP(t){const e=[];for(const o of t.matchAll(JD))o.index!==0&&!/^[\s'"`]/.test(t[o.index-1]??"")||e.push(o[0]);for(const o of t.matchAll(ZD))e.push(o[0]);const n=new Map,r="@unocss-skip-arbitrary-brackets";return t=YD(t,n,/-\[(?!&.+?;)[^\]]*\]/g,r),t&&t.split(dk).forEach(o=>{o.includes(r)&&(o=GD(o,n)),PR(o)&&!QD.test(o)&&e.push(o)}),e}function tP(){return{name:"@unocss/extractor-arbitrary-variants",order:0,extract({code:t}){return eP(KD(t))}}}const nP="@unocss/preset-wind4",Zg="$$mini-no-negative",Fh={transparent:"transparent",current:"currentColor",inherit:"inherit"},gr={l:["-left"],r:["-right"],t:["-top"],b:["-bottom"],s:["-inline-start"],e:["-inline-end"],x:["-inline"],y:["-block"],"":[""],bs:["-block-start"],be:["-block-end"],is:["-inline-start"],ie:["-inline-end"],block:["-block-start","-block-end"],inline:["-inline-start","-inline-end"]},Cy={...gr,x:["-inset-inline"],y:["-inset-block"],s:["-inset-inline-start"],start:["-inset-inline-start"],e:["-inset-inline-end"],end:["-inset-inline-end"],bs:["-inset-block-start"],be:["-inset-block-end"],is:["-inset-inline-start"],ie:["-inset-inline-end"],block:["-inset-block-start","-inset-block-end"],inline:["-inset-inline-start","-inset-inline-end"]},pp={l:["-top-left","-bottom-left"],r:["-top-right","-bottom-right"],t:["-top-left","-top-right"],b:["-bottom-left","-bottom-right"],tl:["-top-left"],lt:["-top-left"],tr:["-top-right"],rt:["-top-right"],bl:["-bottom-left"],lb:["-bottom-left"],br:["-bottom-right"],rb:["-bottom-right"],"":[""],bs:["-start-start","-start-end"],be:["-end-start","-end-end"],s:["-end-start","-start-start"],is:["-end-start","-start-start"],e:["-start-end","-end-end"],ie:["-start-end","-end-end"],ss:["-start-start"],"bs-is":["-start-start"],"is-bs":["-start-start"],se:["-start-end"],"bs-ie":["-start-end"],"ie-bs":["-start-end"],es:["-end-start"],"be-is":["-end-start"],"is-be":["-end-start"],ee:["-end-end"],"be-ie":["-end-end"],"ie-be":["-end-end"]},Tk={x:["-x"],y:["-y"],z:["-z"],"":["-x","-y"]},rP=["x","y","z"],Sy=["top","top center","top left","top right","bottom","bottom center","bottom left","bottom right","left","left center","left top","left bottom","right","right center","right top","right bottom","center","center top","center bottom","center left","center right","center center"],qr=Object.assign({},...Sy.map(t=>({[t.replace(/ /,"-")]:t})),...Sy.map(t=>({[t.replace(/\b(\w)\w+/g,"$1").replace(/ /,"")]:t}))),en=["inherit","initial","revert","revert-layer","unset"],P0=/^(calc|clamp|min|max)\s*\((.+)\)(.*)/,Ok=/^(var)\s*\((.+)\)(.*)/,bc=/^(-?\d*(?:\.\d+)?)(px|pt|pc|%|r?(?:em|ex|lh|cap|ch|ic)|(?:[sld]?v|cq)(?:[whib]|min|max)|in|cm|mm|rpx)?$/i,oP=/^(-?\d*(?:\.\d+)?)$/,Ak=/^(px|[sld]?v[wh])$/i,Mk={px:1,vw:100,vh:100,svw:100,svh:100,dvw:100,dvh:100,lvh:100,lvw:100},L0=/^\[(color|image|length|size|position|quoted|string|number|family):/i,iP=/,(?![^()]*\))/g,aP=["color","border-color","background-color","outline-color","text-decoration-color","flex-grow","flex","flex-shrink","caret-color","font","gap","opacity","visibility","z-index","font-weight","zoom","text-shadow","transform","box-shadow","border","background-position","left","right","top","bottom","object-position","max-height","min-height","max-width","min-width","height","width","border-width","margin","padding","outline-width","outline-offset","font-size","line-height","text-indent","vertical-align","border-spacing","letter-spacing","word-spacing","stroke","filter","backdrop-filter","fill","mask","mask-size","mask-border","clip-path","clip","border-radius"];function eo(t){return+t.toFixed(10)}function sP(t){const e=t.match(bc);if(!e)return;const[,n,r]=e,o=Number.parseFloat(n);if(r&&!Number.isNaN(o))return`${eo(o)}${r}`}function lP(t){if(t==="auto"||t==="a")return"auto"}function cP(t){if(!t)return;if(Ak.test(t))return`${Mk[t]}${t}`;const e=t.match(bc);if(!e)return;const[,n,r]=e,o=Number.parseFloat(n);if(!Number.isNaN(o))return o===0?"0":r?`${eo(o)}${r}`:`${eo(o/4)}rem`}function uP(t){if(Ak.test(t))return`${Mk[t]}${t}`;const e=t.match(bc);if(!e)return;const[,n,r]=e,o=Number.parseFloat(n);if(!Number.isNaN(o))return r?`${eo(o)}${r}`:`${eo(o)}px`}function $k(t){if(!oP.test(t))return;const e=Number.parseFloat(t);if(!Number.isNaN(e))return eo(e)}function dP(t){t.endsWith("%")&&(t=t.slice(0,-1));const e=$k(t);if(e!=null)return`${e}%`}function hP(t){if(!t)return;if(t==="full")return"100%";const[e,n]=t.split("/"),r=Number.parseFloat(e)/Number.parseFloat(n);if(!Number.isNaN(r))return r===0?"0":`${eo(r*100)}%`}function wa(t,e){if(t&&t.startsWith("[")&&t.endsWith("]")){let n,r;const o=t.match(L0);if(!o)n=t.slice(1,-1);else{if(!e)r=o[1];else if(o[1]!==e)return;n=t.slice(o[0].length,-1)}if(!n||n==='=""')return;if(n.startsWith("--")){const[a,s]=n.slice(2).split(",");n=`var(--${as(a)}${s?`, ${s}`:""})`}let i=0;for(const a of n)if(a==="[")i+=1;else if(a==="]"&&(i-=1,i<0))return;if(i)return;switch(r){case"string":return n.replace(/(^|[^\\])_/g,"$1 ").replace(/\\_/g,"_");case"quoted":return n.replace(/(^|[^\\])_/g,"$1 ").replace(/\\_/g,"_").replace(/(["\\])/g,"\\$1").replace(/^(.+)$/,'"$1"')}return n.replace(/(url\(.*?\))/g,a=>a.replace(/_/g,"\\_")).replace(/(^|[^\\])_/g,"$1 ").replace(/\\_/g,"_").replace(/(?:calc|clamp|max|min)\((.*)/g,a=>{const s=[];return a.replace(/var\((--.+?)[,)]/g,(l,c)=>(s.push(c),l.replace(c,"--un-calc"))).replace(/(-?\d*\.?\d(?!-\d.+[,)](?![^+\-/*])\D)(?:%|[a-z]+)?|\))([+\-/*])/g,"$1 $2 ").replace(/--un-calc/g,()=>s.shift())})}}function fP(t){return wa(t)}function pP(t){return wa(t,"color")}function gP(t){return wa(t,"length")||wa(t,"size")}function mP(t){return wa(t,"position")}function vP(t){return wa(t,"family")}function bP(t){return wa(t,"number")}function yP(t){if(t.startsWith("var("))return t;const e=t.match(/^(?:\$|--)([^\s'"`;{}]+)$/);if(e){const[n,r]=e[1].split(",");return`var(--${as(n)}${r?`, ${r}`:""})`}}function xP(t){const e=t.match(/^(-?[0-9.]+)(s|ms)?$/i);if(!e)return;const[,n,r]=e,o=Number.parseFloat(n);if(!Number.isNaN(o))return o===0&&!r?"0s":r?`${eo(o)}${r}`:`${eo(o)}ms`}function wP(t){const e=t.match(/^(-?[0-9.]+)(deg|rad|grad|turn)?$/i);if(!e)return;const[,n,r]=e,o=Number.parseFloat(n);if(!Number.isNaN(o))return o===0?"0":r?`${eo(o)}${r}`:`${eo(o)}deg`}function _P(t){if(en.includes(t))return t}function kP(t){if(t.split(",").every(e=>aP.includes(e)))return t}function CP(t){if(["top","left","right","bottom","center"].includes(t))return t}function SP(t){if(t==="none")return"none"}const EP={__proto__:null,auto:lP,bracket:fP,bracketOfColor:pP,bracketOfFamily:vP,bracketOfLength:gP,bracketOfNumber:bP,bracketOfPosition:mP,cssvar:yP,degree:wP,fraction:hP,global:_P,none:SP,number:$k,numberWithUnit:sP,percent:dP,position:CP,properties:kP,px:uP,rem:cP,time:xP},TP=DD(EP),ne=TP;function Co(t,e){const n=ne.number(t)??e;if(n!=null){let r=Number(n);return String(n).endsWith("%")&&(r=Number(String(n).slice(0,-1))/100),r}}function Xt(t){function e(r){const o=r.match(bc);if(o){const[,i,a]=o,s=Number.parseFloat(i);if(!Number.isNaN(s))return[s,a]}return[void 0,void 0]}function n(r){let o,i;if(r.spacing?.DEFAULT){const[a,s]=e(r.spacing.DEFAULT);a!=null&&s!=null&&(o=a,i=s)}return Object.entries(r.spacing??{}).reduce((a,[s,l])=>{const[c,u]=e(l);return c!=null&&u!=null&&u===i?a[s]=c/o:a[s]=l,a},{})}return([r,o,i],{theme:a})=>{if(i!=null&&o!=null){const s=n(a);let l;const c=i.startsWith("-");if(c&&(i=i.slice(1)),l=Co(i,s[i]),l!=null)return Number.isNaN(l)?(lt("spacing",i),gr[o].map(u=>[`${t}${u}`,c?`calc(var(--spacing-${i} * -1)`:`var(--spacing-${i})`])):(lt("spacing"),gr[o].map(u=>[`${t}${u}`,`calc(var(--spacing) * ${c?"-":""}${l})`]));if(l=ne.bracket.cssvar.global.auto.fraction.rem(c?`-${i}`:i),l!=null)return gr[o].map(u=>[`${t}${u}`,l])}}}function Ih(t,e){let n;const[r,...o]=Vl(t,["/",":"],3)??[];if(r!=null){const m=(r.match(L0)??[])[1];(m==null||m==="color")&&(n=[r,...o])}if(!n)return;let i,[a,s,l]=n;vy(s)||vy(ne.bracket(s??""))?l=s:i=s;const c=a.replace(/([a-z])(\d)/g,"$1-$2").split(/-/g),[u]=c;if(!u)return;let{no:h,keys:f,color:p}=OP(e,c)??{};if(!p){const m=ne.bracketOfColor(a),v=m||a;if(ne.numberWithUnit(v))return;/^#[\da-f]+$/i.test(v)?p=v:/^hex-[\da-fA-F]+$/.test(v)?p=`#${v.slice(4)}`:a.startsWith("$")&&(p=ne.cssvar(a)),p=p||m}return{opacity:i,modifier:l&&ne.bracket.cssvar(l)||l,name:u,no:h,color:p??Fh[u],alpha:ne.bracket.cssvar.percent(i??""),keys:f,get cssColor(){return ts(this.color)}}}function OP(t,e){let n,r,o;const i=Pd(t,"colors",e);if(typeof i=="object"?"DEFAULT"in i&&(n=i.DEFAULT,r="DEFAULT",o=[...e,r]):typeof i=="string"&&(n=i,o=e,r=e.at(-1)),!!n)return{color:n,no:r,keys:o}}function Pd(t,e,n){const r=t[e];function o(i,a){if(!(!i||typeof i!="object")){if(a.length===0)return i;for(let s=a.length;s>0;s--){const l=a.slice(0,s).join("-");if(l in i){const c=i[l];return s===a.length?c:o(c,a.slice(s))}}}}return o(r,n)}function Rk(t,e,n,r){if(!t)return;const{color:o,keys:i,alpha:a,modifier:s}=t,l=r?.generator.config.envMode==="dev"&&o?` /* ${o} */`:"",c={};if(o){const u=[c];if(Object.values(Fh).includes(o))c[e]=o;else{const h=`--un-${n}-opacity`,f=i?Jt("colors",i):o;let p=s??(i?"in srgb":"in oklab");!p.startsWith("in ")&&!p.startsWith("var(")&&(p=`in ${p}`),c[e]=`color-mix(${p}, ${f} ${a??`var(${h})`}, transparent)${l}`,u.push(Be(h,{syntax:"<percentage>",initialValue:"100%"})),i&&(lt("colors",i),s||u.push({[$n.parent]:"@supports (color: color-mix(in lab, red, red))",[$n.noMerge]:!0,[$n.shortcutsNoMerge]:!0,[e]:`color-mix(in oklab, ${f} ${a??`var(${h})`}, transparent)${l}`})),r?.theme&&jh(o,r.theme)}return u}}function fn(t,e){return([,n],r)=>{const o=Ih(n??"",r.theme);if(o)return Rk(o,t,e,r)}}function F0(t,e){const n=[];t=zt(t);for(let r=0;r<t.length;r++){const o=Vl(t[r]," ",6);if(!o||o.length<3)return t;let i=!1;const a=o.indexOf("inset");a!==-1&&(o.splice(a,1),i=!0);let s="";const l=o.at(-1);if(ts(o.at(0))){const c=ts(o.shift());c&&(s=`, ${Gg(c)}`)}else if(ts(l)){const c=ts(o.pop());c&&(s=`, ${Gg(c)}`)}else l&&Ok.test(l)&&(s=`, ${o.pop()}`);n.push(`${i?"inset ":""}${o.join(" ")} var(${e}${s})`)}return n}function I0(t,e){return t!=null&&!!Ih(t,e)?.color}const Ey=/[a-z]+/gi,gp=new WeakMap;function Nh({theme:t,generator:e},n="breakpoint"){const r=e?.userConfig?.theme?.[n]||t[n];if(!r)return;if(gp.has(t))return gp.get(t);const o=Object.entries(r).sort((i,a)=>Number.parseInt(i[1].replace(Ey,""))-Number.parseInt(a[1].replace(Ey,""))).map(([i,a])=>({point:i,size:a}));return gp.set(t,o),o}function ut(t,e){return en.map(n=>[`${t}-${n}`,{[e??t]:n}])}function Be(t,e={}){const{syntax:n="*",inherits:r=!1,initialValue:o}=e,i={[$n.shortcutsNoMerge]:!0,[$n.noMerge]:!0,[$n.variants]:()=>[{parent:"",layer:"properties",selector:()=>`@property ${t}`}],syntax:JSON.stringify(n),inherits:r?"true":"false"};return o!=null&&(i["initial-value"]=o,$P(t,String(o))),i}function yc(t){return t!=null&&P0.test(t)}function AP(t){return t[0]==="["&&t.slice(-1)==="]"&&(t=t.slice(1,-1)),P0.test(t)||bc.test(t)}function MP(t){return t.replace(/(?:^|\B)([A-Z])/g,"-$1").toLowerCase()}function Dk(t,e=!1){return e?t.trim():t.trim().replace(/\s+/g," ").replace(/\/\*[\s\S]*?\*\//g,"")}const Cs=new Set([]);function lt(t,e="DEFAULT"){const n=`${t}:${zt(e).join("-")}`;Cs.has(n)||Cs.add(n)}function Jt(t,e){return`var(--${t}-${zt(e).join("-")})`}function jh(t,e){if(t.startsWith("var(")){const n=t.match(/var\(--([\w-]+)(?:,.*)?\)/)?.[1];if(n){const[r,...o]=n.split("-"),i=Pd(e,r,o);typeof i=="string"&&(lt(r,o),jh(i,e))}}}const Ss=new Map;function $P(t,e){Ss.has(t)||Ss.set(t,e)}function RP({important:t}){if(t==null||t===!1)return[];const e=n=>n.startsWith(":is(")&&n.endsWith(")")?n:n.includes("::")?n.replace(/(.*?)((?:\s\*)?::.*)/,":is($1)$2"):`:is(${n})`;return[t===!0?n=>{n.layer!=="properties"&&n.entries.forEach(r=>{r[1]!=null&&!String(r[1]).endsWith("!important")&&(r[1]+=" !important")})}:n=>{n.selector.startsWith(t)||(n.selector=`${t} ${e(n.selector)}`)}]}function DP({variablePrefix:t}){return t!=="un-"?[n=>{n.entries.forEach(r=>{r[0]=r[0].replace(/^--un-/,`--${t}`),typeof r[1]=="string"&&(r[1]=r[1].replace(/var\(--un-/g,`var(--${t}`))})}]:[]}function PP(t){return[RP,DP].flatMap(e=>e(t))}const LP={name:"aria",match(t,e){const n=no("aria-",t,e.generator.config.separators);if(n){const[r,o]=n,i=ne.bracket(r)??e.theme.aria?.[r]??"";if(i)return{matcher:o,selector:a=>`${a}[aria-${i}]`}}},multiPass:!0,autocomplete:"aria-$aria"};function Kc(t){return{name:`${t}-aria`,match(e,n){const r=no(`${t}-aria-`,e,n.generator.config.separators);if(r){const[o,i]=r,a=ne.bracket(o)??n.theme.aria?.[o]??"";if(a)return{matcher:`${t}-[[aria-${a}]]:${i}`}}}}}const FP=[Kc("group"),Kc("peer"),Kc("parent"),Kc("previous")],Ty=/(max|min)-\[([^\]]*)\]:/;function IP(){const t={};return{name:"breakpoints",match(e,n){if(Ty.test(e)){const o=e.match(Ty);return{matcher:e.replace(o[0],""),handle:(a,s)=>s({...a,parent:`${a.parent?`${a.parent} $$ `:""}@media (${o[1]}-width: ${o[2]})`})}}const r=(Nh(n)??[]).map(({point:o,size:i},a)=>[o,i,a]);for(const[o,i,a]of r){t[o]||(t[o]=new RegExp(`^((?:([al]t-|[<~]|max-))?${o}(?:${n.generator.config.separators.join("|")}))`));const s=e.match(t[o]);if(!s)continue;const[,l]=s,c=e.slice(l.length);if(c==="container")continue;const u=l.startsWith("lt-")||l.startsWith("<")||l.startsWith("max-"),h=l.startsWith("at-")||l.startsWith("~");let f=3e3;return u?(f-=a+1,{matcher:c,handle:(p,m)=>m({...p,parent:`${p.parent?`${p.parent} $$ `:""}@media (max-width: ${by(i)})`,parentOrder:f})}):(f+=a+1,h&&a<r.length-1?{matcher:c,handle:(p,m)=>m({...p,parent:`${p.parent?`${p.parent} $$ `:""}@media (min-width: ${i}) and (max-width: ${by(r[a+1][1])})`,parentOrder:f})}:{matcher:c,handle:(p,m)=>m({...p,parent:`${p.parent?`${p.parent} $$ `:""}@media (min-width: ${i})`,parentOrder:f})})}},multiPass:!0,autocomplete:"(at-|lt-|max-|)$breakpoint:"}}const NP=[Zo("*",t=>({selector:`${t.selector} > *`}))];function rl(t,e){return{name:`combinator:${t}`,match(n,r){if(!n.startsWith(t))return;const o=r.generator.config.separators;let i=vc(`${t}-`,n,o);if(!i){for(const s of o)if(n.startsWith(`${t}${s}`)){i=["",n.slice(t.length+s.length)];break}if(!i)return}let a=ne.bracket(i[0])??"";return a===""&&(a="*"),{matcher:i[1],selector:s=>`${s}${e}${a}`}},multiPass:!0}}const jP=[rl("all"," "),rl("children",">"),rl("next","+"),rl("sibling","+"),rl("siblings","~")],BP=[Zo("svg",t=>({selector:`${t.selector} svg`}))],zP={name:"@",match(t,e){if(t.startsWith("@container"))return;const n=no("@",t,e.generator.config.separators);if(n){const[r,o,i]=n,a=ne.bracket(r);let s;if(a?s=ne.numberWithUnit(a):s=e.theme.container?.[r]??"",s){let l=1e3+Object.keys(e.theme.container??{}).indexOf(r);return i&&(l+=1e3),{matcher:o,handle:(c,u)=>u({...c,parent:`${c.parent?`${c.parent} $$ `:""}@container${i?` ${i} `:" "}(min-width: ${s})`,parentOrder:l})}}}},multiPass:!0};function UP(t={}){if(t?.dark==="class"||typeof t.dark=="object"){const{dark:e=".dark",light:n=".light"}=typeof t.dark=="string"?{}:t.dark;return[Zo("dark",r=>({prefix:`${e} $$ ${r.prefix}`})),Zo("light",r=>({prefix:`${n} $$ ${r.prefix}`}))]}return[Qn("dark","@media (prefers-color-scheme: dark)"),Qn("light","@media (prefers-color-scheme: light)")]}const HP=[Zo(".dark",t=>({prefix:`.dark $$ ${t.prefix}`})),Zo(".light",t=>({prefix:`.light $$ ${t.prefix}`})),Qn("@dark","@media (prefers-color-scheme: dark)"),Qn("@light","@media (prefers-color-scheme: light)"),Qn("not-dark","@media not (prefers-color-scheme: dark)")],WP={name:"data",match(t,e){const n=no("data-",t,e.generator.config.separators);if(n){const[r,o]=n,i=ne.bracket(r)??e.theme.data?.[r]??"";if(i)return{matcher:o,selector:a=>`${a}[data-${i}]`}}},multiPass:!0};function Zc(t){return{name:`${t}-data`,match(e,n){const r=no(`${t}-data-`,e,n.generator.config.separators);if(r){const[o,i,a]=r,s=ne.bracket(o)??n.theme.data?.[o]??"";if(s)return{matcher:`${t}-[[data-${s}]]${a?`/${a}`:""}:${i}`}}}}}const VP=[Zc("group"),Zc("peer"),Zc("parent"),Zc("previous")],XP=[Zo("rtl",t=>({prefix:`[dir="rtl"] $$ ${t.prefix}`})),Zo("ltr",t=>({prefix:`[dir="ltr"] $$ ${t.prefix}`}))];function YP(){let t;return{name:"important",match(e,n){t||(t=new RegExp(`^(important(?:${n.generator.config.separators.join("|")})|!)`));let r;const o=e.match(t);if(o?r=e.slice(o[0].length):e.endsWith("!")&&(r=e.slice(0,-1)),r)return{matcher:r,body:i=>(i.forEach(a=>{a[1]!=null&&(a[1]+=" !important")}),i)}}}}const GP=Qn("noscript","@media (scripting: none)"),qP={name:"scripting",match(t,e){const n=no(["script-","scripting-"],t,e.generator.config.separators);if(n){const[r,o]=n;if(["none","initial-only","enabled"].includes(r))return{matcher:o,handle:(a,s)=>s({...a,parent:`${a.parent?`${a.parent} $$ `:""}@media (scripting: ${r})`})}}},multiPass:!0,autocomplete:["(scripting|script)-(none|initial-only|enabled)"]},KP=Qn("print","@media print"),ZP={name:"media",match(t,e){const n=no("media-",t,e.generator.config.separators);if(n){const[r,o]=n;let i=ne.bracket(r)??"";if(i===""&&(i=e.theme.media?.[r]??""),i)return{matcher:o,handle:(a,s)=>s({...a,parent:`${a.parent?`${a.parent} $$ `:""}@media ${i}`})}}},multiPass:!0,autocomplete:"media-$media"},JP=[Qn("contrast-more","@media (prefers-contrast: more)"),Qn("contrast-less","@media (prefers-contrast: less)")],QP=[Qn("motion-reduce","@media (prefers-reduced-motion: reduce)"),Qn("motion-safe","@media (prefers-reduced-motion: no-preference)")],eL=[Qn("landscape","@media (orientation: landscape)"),Qn("portrait","@media (orientation: portrait)")],tL=[Qn("forced-colors","@media (forced-colors: active)")],nL={name:"selector",match(t,e){const n=vc("selector-",t,e.generator.config.separators);if(n){const[r,o]=n,i=ne.bracket(r);if(i)return{matcher:o,selector:()=>i}}}},rL={name:"layer",match(t,e){const n=no("layer-",t,e.generator.config.separators);if(n){const[r,o]=n,i=ne.bracket(r)??r;if(i)return{matcher:o,handle:(a,s)=>s({...a,parent:`${a.parent?`${a.parent} $$ `:""}@layer ${i}`})}}}},oL={name:"uno-layer",match(t,e){const n=no("uno-layer-",t,e.generator.config.separators);if(n){const[r,o]=n,i=ne.bracket(r)??r;if(i)return{matcher:o,layer:i}}}},iL={name:"scope",match(t,e){const n=vc("scope-",t,e.generator.config.separators);if(n){const[r,o]=n,i=ne.bracket(r);if(i)return{matcher:o,selector:a=>`${i} $$ ${a}`}}}},aL={name:"variables",match(t,e){if(!t.startsWith("["))return;const[n,r]=R0(t,"[","]")??[];if(!(n&&r))return;let o;for(const s of e.generator.config.separators)if(r.startsWith(s)){o=r.slice(s.length);break}if(o==null)return;const i=ne.bracket(n)??"",a=i.startsWith("@");if(a||i.includes("&"))return{matcher:o,handle(s,l){const c=a?{parent:`${s.parent?`${s.parent} $$ `:""}${i}`}:{selector:i.replace(/&/g,s.selector)};return l({...s,...c})}}},multiPass:!0},sL={name:"theme-variables",match(t,e){if(MD(t))return{matcher:t,handle(n,r){return r({...n,entries:JSON.parse($D(JSON.stringify(n.entries),e.theme))})}}}},lL=[Zo("@hover",t=>({parent:`${t.parent?`${t.parent} $$ `:""}@media (hover: hover) and (pointer: fine)`,selector:`${t.selector||""}:hover`}))],Pk=/^-?[0-9.]+(?:[a-z]+|%)?$/,Lk=/-?[0-9.]+(?:[a-z]+|%)?/,cL=[/\b(opacity|color|flex|backdrop-filter|^filter|transform)\b/];function uL(t){const e=t.match(P0)||t.match(Ok);if(e){const[n,r]=Lh(`(${e[2]})${e[3]}`,"(",")"," ")??[];if(n)return`calc(${e[1]}${n} * -1)${r?` ${r}`:""}`}}const dL=/\b(hue-rotate)\s*(\(.*)/;function hL(t){const e=t.match(dL);if(e){const[n,r]=Lh(e[2],"(",")"," ")??[];if(n){const o=Pk.test(n.slice(1,-1))?n.replace(Lk,i=>i.startsWith("-")?i.slice(1):`-${i}`):`(calc(${n} * -1))`;return`${e[1]}${o}${r?` ${r}`:""}`}}}const fL={name:"negative",match(t){if(t.startsWith("-"))return{matcher:t.slice(1),body:e=>{if(e.find(r=>r[0]===Zg))return;let n=!1;return e.forEach(r=>{if(zt(r[2]).includes(Zg))return;const o=r[1]?.toString();if(!o||o==="0"||cL.some(s=>s.test(r[0])))return;const i=uL(o);if(i){r[1]=i,n=!0;return}const a=hL(o);if(a){r[1]=a,n=!0;return}Pk.test(o)&&(r[1]=o.replace(Lk,s=>s.startsWith("-")?s.slice(1):`-${s}`),n=!0)}),n?e:[]}}}},pL=(t,{theme:e})=>{const n=t.match(/^(.*)\b(placeholder-)(.+)$/);if(n){const[,r="",o,i]=n;if(I0(i,e)||gL(i))return{matcher:`${r}placeholder-$ ${o}${i}`}}};function gL(t){const e=t.match(/^op(?:acity)?-?(.+)$/);return e&&e[1]!=null?ne.bracket.percent(e[1])!=null:!1}function mL(){return ID({h:ne})}function vL(){return ND({getBracket:R0,h:ne})}function bL(t={}){return jD(t,{h:ne,variantGetBracket:vc})}const yL=zD(),xL={name:"starting",match(t){if(t.startsWith("starting:"))return{matcher:t.slice(9),handle:(e,n)=>n({...e,parent:"@starting-style"})}}},wL={name:"supports",match(t,e){const n=no("supports-",t,e.generator.config.separators);if(n){const[r,o]=n;let i=ne.bracket(r)??"";if(i===""&&(i=e.theme.supports?.[r]??""),i)return i.startsWith("(")&&i.endsWith(")")||(i=`(${i})`),{matcher:o,handle:(a,s)=>s({...a,parent:`${a.parent?`${a.parent} $$ `:""}@supports ${i}`})}}},multiPass:!0};function _L(t){return[LP,WP,rL,nL,oL,fL,xL,YP(),wL,GP,qP,KP,ZP,...JP,...QP,...eL,...tL,IP(),...jP,...BP,pL,...mL(),vL(),...bL(t),yL,...UP(t),...HP,...XP,iL,...NP,zP,aL,...VP,...FP,sL,...lL].flat()}const Fk={black:"#000",white:"#fff",slate:{50:"oklch(98.4% 0.003 247.858)",100:"oklch(96.8% 0.007 247.896)",200:"oklch(92.9% 0.013 255.508)",300:"oklch(86.9% 0.022 252.894)",400:"oklch(70.4% 0.04 256.788)",500:"oklch(55.4% 0.046 257.417)",600:"oklch(44.6% 0.043 257.281)",700:"oklch(37.2% 0.044 257.287)",800:"oklch(27.9% 0.041 260.031)",900:"oklch(20.8% 0.042 265.755)",950:"oklch(12.9% 0.042 264.695)"},gray:{50:"oklch(98.5% 0.002 247.839)",100:"oklch(96.7% 0.003 264.542)",200:"oklch(92.8% 0.006 264.531)",300:"oklch(87.2% 0.01 258.338)",400:"oklch(70.7% 0.022 261.325)",500:"oklch(55.1% 0.027 264.364)",600:"oklch(44.6% 0.03 256.802)",700:"oklch(37.3% 0.034 259.733)",800:"oklch(27.8% 0.033 256.848)",900:"oklch(21% 0.034 264.665)",950:"oklch(13% 0.028 261.692)"},zinc:{50:"oklch(98.5% 0 0)",100:"oklch(96.7% 0.001 286.375)",200:"oklch(92% 0.004 286.32)",300:"oklch(87.1% 0.006 286.286)",400:"oklch(70.5% 0.015 286.067)",500:"oklch(55.2% 0.016 285.938)",600:"oklch(44.2% 0.017 285.786)",700:"oklch(37% 0.013 285.805)",800:"oklch(27.4% 0.006 286.033)",900:"oklch(21% 0.006 285.885)",950:"oklch(14.1% 0.005 285.823)"},neutral:{50:"oklch(98.5% 0 0)",100:"oklch(97% 0 0)",200:"oklch(92.2% 0 0)",300:"oklch(87% 0 0)",400:"oklch(70.8% 0 0)",500:"oklch(55.6% 0 0)",600:"oklch(43.9% 0 0)",700:"oklch(37.1% 0 0)",800:"oklch(26.9% 0 0)",900:"oklch(20.5% 0 0)",950:"oklch(14.5% 0 0)"},stone:{50:"oklch(98.5% 0.001 106.423)",100:"oklch(97% 0.001 106.424)",200:"oklch(92.3% 0.003 48.717)",300:"oklch(86.9% 0.005 56.366)",400:"oklch(70.9% 0.01 56.259)",500:"oklch(55.3% 0.013 58.071)",600:"oklch(44.4% 0.011 73.639)",700:"oklch(37.4% 0.01 67.558)",800:"oklch(26.8% 0.007 34.298)",900:"oklch(21.6% 0.006 56.043)",950:"oklch(14.7% 0.004 49.25)"},red:{50:"oklch(97.1% 0.013 17.38)",100:"oklch(93.6% 0.032 17.717)",200:"oklch(88.5% 0.062 18.334)",300:"oklch(80.8% 0.114 19.571)",400:"oklch(70.4% 0.191 22.216)",500:"oklch(63.7% 0.237 25.331)",600:"oklch(57.7% 0.245 27.325)",700:"oklch(50.5% 0.213 27.518)",800:"oklch(44.4% 0.177 26.899)",900:"oklch(39.6% 0.141 25.723)",950:"oklch(25.8% 0.092 26.042)"},orange:{50:"oklch(98% 0.016 73.684)",100:"oklch(95.4% 0.038 75.164)",200:"oklch(90.1% 0.076 70.697)",300:"oklch(83.7% 0.128 66.29)",400:"oklch(75% 0.183 55.934)",500:"oklch(70.5% 0.213 47.604)",600:"oklch(64.6% 0.222 41.116)",700:"oklch(55.3% 0.195 38.402)",800:"oklch(47% 0.157 37.304)",900:"oklch(40.8% 0.123 38.172)",950:"oklch(26.6% 0.079 36.259)"},amber:{50:"oklch(98.7% 0.022 95.277)",100:"oklch(96.2% 0.059 95.617)",200:"oklch(92.4% 0.12 95.746)",300:"oklch(87.9% 0.169 91.605)",400:"oklch(82.8% 0.189 84.429)",500:"oklch(76.9% 0.188 70.08)",600:"oklch(66.6% 0.179 58.318)",700:"oklch(55.5% 0.163 48.998)",800:"oklch(47.3% 0.137 46.201)",900:"oklch(41.4% 0.112 45.904)",950:"oklch(27.9% 0.077 45.635)"},yellow:{50:"oklch(98.7% 0.026 102.212)",100:"oklch(97.3% 0.071 103.193)",200:"oklch(94.5% 0.129 101.54)",300:"oklch(90.5% 0.182 98.111)",400:"oklch(85.2% 0.199 91.936)",500:"oklch(79.5% 0.184 86.047)",600:"oklch(68.1% 0.162 75.834)",700:"oklch(55.4% 0.135 66.442)",800:"oklch(47.6% 0.114 61.907)",900:"oklch(42.1% 0.095 57.708)",950:"oklch(28.6% 0.066 53.813)"},lime:{50:"oklch(98.6% 0.031 120.757)",100:"oklch(96.7% 0.067 122.328)",200:"oklch(93.8% 0.127 124.321)",300:"oklch(89.7% 0.196 126.665)",400:"oklch(84.1% 0.238 128.85)",500:"oklch(76.8% 0.233 130.85)",600:"oklch(64.8% 0.2 131.684)",700:"oklch(53.2% 0.157 131.589)",800:"oklch(45.3% 0.124 130.933)",900:"oklch(40.5% 0.101 131.063)",950:"oklch(27.4% 0.072 132.109)"},green:{50:"oklch(98.2% 0.018 155.826)",100:"oklch(96.2% 0.044 156.743)",200:"oklch(92.5% 0.084 155.995)",300:"oklch(87.1% 0.15 154.449)",400:"oklch(79.2% 0.209 151.711)",500:"oklch(72.3% 0.219 149.579)",600:"oklch(62.7% 0.194 149.214)",700:"oklch(52.7% 0.154 150.069)",800:"oklch(44.8% 0.119 151.328)",900:"oklch(39.3% 0.095 152.535)",950:"oklch(26.6% 0.065 152.934)"},emerald:{50:"oklch(97.9% 0.021 166.113)",100:"oklch(95% 0.052 163.051)",200:"oklch(90.5% 0.093 164.15)",300:"oklch(84.5% 0.143 164.978)",400:"oklch(76.5% 0.177 163.223)",500:"oklch(69.6% 0.17 162.48)",600:"oklch(59.6% 0.145 163.225)",700:"oklch(50.8% 0.118 165.612)",800:"oklch(43.2% 0.095 166.913)",900:"oklch(37.8% 0.077 168.94)",950:"oklch(26.2% 0.051 172.552)"},teal:{50:"oklch(98.4% 0.014 180.72)",100:"oklch(95.3% 0.051 180.801)",200:"oklch(91% 0.096 180.426)",300:"oklch(85.5% 0.138 181.071)",400:"oklch(77.7% 0.152 181.912)",500:"oklch(70.4% 0.14 182.503)",600:"oklch(60% 0.118 184.704)",700:"oklch(51.1% 0.096 186.391)",800:"oklch(43.7% 0.078 188.216)",900:"oklch(38.6% 0.063 188.416)",950:"oklch(27.7% 0.046 192.524)"},cyan:{50:"oklch(98.4% 0.019 200.873)",100:"oklch(95.6% 0.045 203.388)",200:"oklch(91.7% 0.08 205.041)",300:"oklch(86.5% 0.127 207.078)",400:"oklch(78.9% 0.154 211.53)",500:"oklch(71.5% 0.143 215.221)",600:"oklch(60.9% 0.126 221.723)",700:"oklch(52% 0.105 223.128)",800:"oklch(45% 0.085 224.283)",900:"oklch(39.8% 0.07 227.392)",950:"oklch(30.2% 0.056 229.695)"},sky:{50:"oklch(97.7% 0.013 236.62)",100:"oklch(95.1% 0.026 236.824)",200:"oklch(90.1% 0.058 230.902)",300:"oklch(82.8% 0.111 230.318)",400:"oklch(74.6% 0.16 232.661)",500:"oklch(68.5% 0.169 237.323)",600:"oklch(58.8% 0.158 241.966)",700:"oklch(50% 0.134 242.749)",800:"oklch(44.3% 0.11 240.79)",900:"oklch(39.1% 0.09 240.876)",950:"oklch(29.3% 0.066 243.157)"},blue:{50:"oklch(97% 0.014 254.604)",100:"oklch(93.2% 0.032 255.585)",200:"oklch(88.2% 0.059 254.128)",300:"oklch(80.9% 0.105 251.813)",400:"oklch(70.7% 0.165 254.624)",500:"oklch(62.3% 0.214 259.815)",600:"oklch(54.6% 0.245 262.881)",700:"oklch(48.8% 0.243 264.376)",800:"oklch(42.4% 0.199 265.638)",900:"oklch(37.9% 0.146 265.522)",950:"oklch(28.2% 0.091 267.935)"},indigo:{50:"oklch(96.2% 0.018 272.314)",100:"oklch(93% 0.034 272.788)",200:"oklch(87% 0.065 274.039)",300:"oklch(78.5% 0.115 274.713)",400:"oklch(67.3% 0.182 276.935)",500:"oklch(58.5% 0.233 277.117)",600:"oklch(51.1% 0.262 276.966)",700:"oklch(45.7% 0.24 277.023)",800:"oklch(39.8% 0.195 277.366)",900:"oklch(35.9% 0.144 278.697)",950:"oklch(25.7% 0.09 281.288)"},violet:{50:"oklch(96.9% 0.016 293.756)",100:"oklch(94.3% 0.029 294.588)",200:"oklch(89.4% 0.057 293.283)",300:"oklch(81.1% 0.111 293.571)",400:"oklch(70.2% 0.183 293.541)",500:"oklch(60.6% 0.25 292.717)",600:"oklch(54.1% 0.281 293.009)",700:"oklch(49.1% 0.27 292.581)",800:"oklch(43.2% 0.232 292.759)",900:"oklch(38% 0.189 293.745)",950:"oklch(28.3% 0.141 291.089)"},purple:{50:"oklch(97.7% 0.014 308.299)",100:"oklch(94.6% 0.033 307.174)",200:"oklch(90.2% 0.063 306.703)",300:"oklch(82.7% 0.119 306.383)",400:"oklch(71.4% 0.203 305.504)",500:"oklch(62.7% 0.265 303.9)",600:"oklch(55.8% 0.288 302.321)",700:"oklch(49.6% 0.265 301.924)",800:"oklch(43.8% 0.218 303.724)",900:"oklch(38.1% 0.176 304.987)",950:"oklch(29.1% 0.149 302.717)"},fuchsia:{50:"oklch(97.7% 0.017 320.058)",100:"oklch(95.2% 0.037 318.852)",200:"oklch(90.3% 0.076 319.62)",300:"oklch(83.3% 0.145 321.434)",400:"oklch(74% 0.238 322.16)",500:"oklch(66.7% 0.295 322.15)",600:"oklch(59.1% 0.293 322.896)",700:"oklch(51.8% 0.253 323.949)",800:"oklch(45.2% 0.211 324.591)",900:"oklch(40.1% 0.17 325.612)",950:"oklch(29.3% 0.136 325.661)"},pink:{50:"oklch(97.1% 0.014 343.198)",100:"oklch(94.8% 0.028 342.258)",200:"oklch(89.9% 0.061 343.231)",300:"oklch(82.3% 0.12 346.018)",400:"oklch(71.8% 0.202 349.761)",500:"oklch(65.6% 0.241 354.308)",600:"oklch(59.2% 0.249 0.584)",700:"oklch(52.5% 0.223 3.958)",800:"oklch(45.9% 0.187 3.815)",900:"oklch(40.8% 0.153 2.432)",950:"oklch(28.4% 0.109 3.907)"},rose:{50:"oklch(96.9% 0.015 12.422)",100:"oklch(94.1% 0.03 12.58)",200:"oklch(89.2% 0.058 10.001)",300:"oklch(81% 0.117 11.638)",400:"oklch(71.2% 0.194 13.428)",500:"oklch(64.5% 0.246 16.439)",600:"oklch(58.6% 0.253 17.585)",700:"oklch(51.4% 0.222 16.935)",800:"oklch(45.5% 0.188 13.697)",900:"oklch(41% 0.159 10.272)",950:"oklch(27.1% 0.105 12.094)"},light:{50:"oklch(99.4% 0 0)",100:"oklch(99.11% 0 0)",200:"oklch(98.51% 0 0)",300:"oklch(98.16% 0.0017 247.84)",400:"oklch(97.31% 0 0)",500:"oklch(96.12% 0 0)",600:"oklch(96.32% 0.0034 247.86)",700:"oklch(94.17% 0.0052 247.88)",800:"oklch(91.09% 0.007 247.9)",900:"oklch(90.72% 0.0051 228.82)",950:"oklch(89.23% 0.006 239.83)"},dark:{50:"oklch(40.91% 0 0)",100:"oklch(35.62% 0 0)",200:"oklch(31.71% 0 0)",300:"oklch(29.72% 0 0)",400:"oklch(25.2% 0 0)",500:"oklch(23.93% 0 0)",600:"oklch(22.73% 0.0038 286.09)",700:"oklch(22.21% 0 0)",800:"oklch(20.9% 0 0)",900:"oklch(16.84% 0 0)",950:"oklch(13.44% 0 0)"}};Object.values(Fk).forEach(t=>{typeof t!="string"&&t!==void 0&&(t.DEFAULT=t.DEFAULT||t[400])});const kL={keyframes:{pulse:"{0%, 100% {opacity:1} 50% {opacity:.5}}",bounce:"{0%, 100% {transform:translateY(-25%);animation-timing-function:cubic-bezier(0.8,0,1,1)} 50% {transform:translateY(0);animation-timing-function:cubic-bezier(0,0,0.2,1)}}",spin:"{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}",ping:"{0%{transform:scale(1);opacity:1}75%,100%{transform:scale(2);opacity:0}}","bounce-alt":"{from,20%,53%,80%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1);transform:translate3d(0,0,0)}40%,43%{animation-timing-function:cubic-bezier(0.755,0.05,0.855,0.06);transform:translate3d(0,-30px,0)}70%{animation-timing-function:cubic-bezier(0.755,0.05,0.855,0.06);transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}",flash:"{from,50%,to{opacity:1}25%,75%{opacity:0}}","pulse-alt":"{from{transform:scale3d(1,1,1)}50%{transform:scale3d(1.05,1.05,1.05)}to{transform:scale3d(1,1,1)}}","rubber-band":"{from{transform:scale3d(1,1,1)}30%{transform:scale3d(1.25,0.75,1)}40%{transform:scale3d(0.75,1.25,1)}50%{transform:scale3d(1.15,0.85,1)}65%{transform:scale3d(0.95,1.05,1)}75%{transform:scale3d(1.05,0.95,1)}to{transform:scale3d(1,1,1)}}","shake-x":"{from,to{transform:translate3d(0,0,0)}10%,30%,50%,70%,90%{transform:translate3d(-10px,0,0)}20%,40%,60%,80%{transform:translate3d(10px,0,0)}}","shake-y":"{from,to{transform:translate3d(0,0,0)}10%,30%,50%,70%,90%{transform:translate3d(0,-10px,0)}20%,40%,60%,80%{transform:translate3d(0,10px,0)}}","head-shake":"{0%{transform:translateX(0)}6.5%{transform:translateX(-6px) rotateY(-9deg)}18.5%{transform:translateX(5px) rotateY(7deg)}31.5%{transform:translateX(-3px) rotateY(-5deg)}43.5%{transform:translateX(2px) rotateY(3deg)}50%{transform:translateX(0)}}",swing:"{20%{transform:rotate3d(0,0,1,15deg)}40%{transform:rotate3d(0,0,1,-10deg)}60%{transform:rotate3d(0,0,1,5deg)}80%{transform:rotate3d(0,0,1,-5deg)}to{transform:rotate3d(0,0,1,0deg)}}",tada:"{from{transform:scale3d(1,1,1)}10%,20%{transform:scale3d(0.9,0.9,0.9) rotate3d(0,0,1,-3deg)}30%,50%,70%,90%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,3deg)}40%,60%,80%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,-3deg)}to{transform:scale3d(1,1,1)}}",wobble:"{from{transform:translate3d(0,0,0)}15%{transform:translate3d(-25%,0,0) rotate3d(0,0,1,-5deg)}30%{transform:translate3d(20%,0,0) rotate3d(0,0,1,3deg)}45%{transform:translate3d(-15%,0,0) rotate3d(0,0,1,-3deg)}60%{transform:translate3d(10%,0,0) rotate3d(0,0,1,2deg)}75%{transform:translate3d(-5%,0,0) rotate3d(0,0,1,-1deg)}to{transform:translate3d(0,0,0)}}",jello:"{from,11.1%,to{transform:translate3d(0,0,0)}22.2%{transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{transform:skewX(6.25deg) skewY(6.25deg)}44.4%{transform:skewX(-3.125deg)skewY(-3.125deg)}55.5%{transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{transform:skewX(-0.78125deg) skewY(-0.78125deg)}77.7%{transform:skewX(0.390625deg) skewY(0.390625deg)}88.8%{transform:skewX(-0.1953125deg) skewY(-0.1953125deg)}}","heart-beat":"{0%{transform:scale(1)}14%{transform:scale(1.3)}28%{transform:scale(1)}42%{transform:scale(1.3)}70%{transform:scale(1)}}",hinge:"{0%{transform-origin:top left;animation-timing-function:ease-in-out}20%,60%{transform:rotate3d(0,0,1,80deg);transform-origin:top left;animation-timing-function:ease-in-out}40%,80%{transform:rotate3d(0,0,1,60deg);transform-origin:top left;animation-timing-function:ease-in-out}to{transform:translate3d(0,700px,0);opacity:0}}","jack-in-the-box":"{from{opacity:0;transform-origin:center bottom;transform:scale(0.1) rotate(30deg)}50%{transform:rotate(-10deg)}70%{transform:rotate(3deg)}to{transform:scale(1)}}","light-speed-in-left":"{from{opacity:0;transform:translate3d(-100%,0,0) skewX(-30deg)}60%{opacity:1;transform:skewX(20deg)}80%{transform:skewX(-5deg)}to{transform:translate3d(0,0,0)}}","light-speed-in-right":"{from{opacity:0;transform:translate3d(100%,0,0) skewX(-30deg)}60%{opacity:1;transform:skewX(20deg)}80%{transform:skewX(-5deg)}to{transform:translate3d(0,0,0)}}","light-speed-out-left":"{from{opacity:1}to{opacity:0;transform:translate3d(-100%,0,0) skewX(30deg)}}","light-speed-out-right":"{from{opacity:1}to{opacity:0;transform:translate3d(100%,0,0) skewX(30deg)}}",flip:"{from{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,0) rotate3d(0,1,0,-360deg);animation-timing-function:ease-out}40%{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,150px) rotate3d(0,1,0,-190deg);animation-timing-function:ease-out}50%{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,150px) rotate3d(0,1,0,-170deg);animation-timing-function:ease-in}80%{transform:perspective(400px) scale3d(0.95,0.95,0.95) translate3d(0,0,0) rotate3d(0,1,0,0deg);animation-timing-function:ease-in}to{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,0) rotate3d(0,1,0,0deg);animation-timing-function:ease-in}}","flip-in-x":"{from{transform:perspective(400px) rotate3d(1,0,0,90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotate3d(1,0,0,-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotate3d(1,0,0,10deg);opacity:1}80%{transform:perspective(400px) rotate3d(1,0,0,-5deg)}to{transform:perspective(400px)}}","flip-in-y":"{from{transform:perspective(400px) rotate3d(0,1,0,90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotate3d(0,1,0,-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotate3d(0,1,0,10deg);opacity:1}80%{transform:perspective(400px) rotate3d(0,1,0,-5deg)}to{transform:perspective(400px)}}","flip-out-x":"{from{transform:perspective(400px)}30%{transform:perspective(400px) rotate3d(1,0,0,-20deg);opacity:1}to{transform:perspective(400px) rotate3d(1,0,0,90deg);opacity:0}}","flip-out-y":"{from{transform:perspective(400px)}30%{transform:perspective(400px) rotate3d(0,1,0,-15deg);opacity:1}to{transform:perspective(400px) rotate3d(0,1,0,90deg);opacity:0}}","rotate-in":"{from{transform-origin:center;transform:rotate3d(0,0,1,-200deg);opacity:0}to{transform-origin:center;transform:translate3d(0,0,0);opacity:1}}","rotate-in-down-left":"{from{transform-origin:left bottom;transform:rotate3d(0,0,1,-45deg);opacity:0}to{transform-origin:left bottom;transform:translate3d(0,0,0);opacity:1}}","rotate-in-down-right":"{from{transform-origin:right bottom;transform:rotate3d(0,0,1,45deg);opacity:0}to{transform-origin:right bottom;transform:translate3d(0,0,0);opacity:1}}","rotate-in-up-left":"{from{transform-origin:left top;transform:rotate3d(0,0,1,45deg);opacity:0}to{transform-origin:left top;transform:translate3d(0,0,0);opacity:1}}","rotate-in-up-right":"{from{transform-origin:right bottom;transform:rotate3d(0,0,1,-90deg);opacity:0}to{transform-origin:right bottom;transform:translate3d(0,0,0);opacity:1}}","rotate-out":"{from{transform-origin:center;opacity:1}to{transform-origin:center;transform:rotate3d(0,0,1,200deg);opacity:0}}","rotate-out-down-left":"{from{transform-origin:left bottom;opacity:1}to{transform-origin:left bottom;transform:rotate3d(0,0,1,45deg);opacity:0}}","rotate-out-down-right":"{from{transform-origin:right bottom;opacity:1}to{transform-origin:right bottom;transform:rotate3d(0,0,1,-45deg);opacity:0}}","rotate-out-up-left":"{from{transform-origin:left bottom;opacity:1}to{transform-origin:left bottom;transform:rotate3d(0,0,1,-45deg);opacity:0}}","rotate-out-up-right":"{from{transform-origin:right bottom;opacity:1}to{transform-origin:left bottom;transform:rotate3d(0,0,1,90deg);opacity:0}}","roll-in":"{from{opacity:0;transform:translate3d(-100%,0,0) rotate3d(0,0,1,-120deg)}to{opacity:1;transform:translate3d(0,0,0)}}","roll-out":"{from{opacity:1}to{opacity:0;transform:translate3d(100%,0,0) rotate3d(0,0,1,120deg)}}","zoom-in":"{from{opacity:0;transform:scale3d(0.3,0.3,0.3)}50%{opacity:1}}","zoom-in-down":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,-1000px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,60px,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-in-left":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(-1000px,0,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(10px,0,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-in-right":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(1000px,0,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(-10px,0,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-in-up":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,1000px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,-60px,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-out":"{from{opacity:1}50%{opacity:0;transform:scale3d(0.3,0.3,0.3)}to{opacity:0}}","zoom-out-down":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,-60px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}to{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,2000px,0);transform-origin:center bottom;animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-out-left":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(42px,0,0)}to{opacity:0;transform:scale(0.1) translate3d(-2000px,0,0);transform-origin:left center}}","zoom-out-right":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(-42px,0,0)}to{opacity:0;transform:scale(0.1) translate3d(2000px,0,0);transform-origin:right center}}","zoom-out-up":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,60px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}to{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,-2000px,0);transform-origin:center bottom;animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","bounce-in":"{from,20%,40%,60%,80%,to{animation-timing-function:ease-in-out}0%{opacity:0;transform:scale3d(0.3,0.3,0.3)}20%{transform:scale3d(1.1,1.1,1.1)}40%{transform:scale3d(0.9,0.9,0.9)}60%{transform:scale3d(1.03,1.03,1.03);opacity:1}80%{transform:scale3d(0.97,0.97,0.97)}to{opacity:1;transform:scale3d(1,1,1)}}","bounce-in-down":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:translate3d(0,0,0)}}","bounce-in-left":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:translate3d(0,0,0)}}","bounce-in-right":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:translate3d(0,0,0)}}","bounce-in-up":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translate3d(0,0,0)}}","bounce-out":"{20%{transform:scale3d(0.9,0.9,0.9)}50%,55%{opacity:1;transform:scale3d(1.1,1.1,1.1)}to{opacity:0;transform:scale3d(0.3,0.3,0.3)}}","bounce-out-down":"{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}","bounce-out-left":"{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}","bounce-out-right":"{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}","bounce-out-up":"{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}","slide-in-down":"{from{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-in-left":"{from{transform:translate3d(-100%,0,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-in-right":"{from{transform:translate3d(100%,0,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-in-up":"{from{transform:translate3d(0,100%,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-out-down":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(0,100%,0)}}","slide-out-left":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(-100%,0,0)}}","slide-out-right":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(100%,0,0)}}","slide-out-up":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(0,-100%,0)}}","fade-in":"{from{opacity:0}to{opacity:1}}","fade-in-down":"{from{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-down-big":"{from{opacity:0;transform:translate3d(0,-2000px,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-left":"{from{opacity:0;transform:translate3d(-100%,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-left-big":"{from{opacity:0;transform:translate3d(-2000px,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-right":"{from{opacity:0;transform:translate3d(100%,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-right-big":"{from{opacity:0;transform:translate3d(2000px,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-up":"{from{opacity:0;transform:translate3d(0,100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-up-big":"{from{opacity:0;transform:translate3d(0,2000px,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-top-left":"{from{opacity:0;transform:translate3d(-100%,-100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-top-right":"{from{opacity:0;transform:translate3d(100%,-100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-bottom-left":"{from{opacity:0;transform:translate3d(-100%,100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-bottom-right":"{from{opacity:0;transform:translate3d(100%,100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-out":"{from{opacity:1}to{opacity:0}}","fade-out-down":"{from{opacity:1}to{opacity:0;transform:translate3d(0,100%,0)}}","fade-out-down-big":"{from{opacity:1}to{opacity:0;transform:translate3d(0,2000px,0)}}","fade-out-left":"{from{opacity:1}to{opacity:0;transform:translate3d(-100%,0,0)}}","fade-out-left-big":"{from{opacity:1}to{opacity:0;transform:translate3d(-2000px,0,0)}}","fade-out-right":"{from{opacity:1}to{opacity:0;transform:translate3d(100%,0,0)}}","fade-out-right-big":"{from{opacity:1}to{opacity:0;transform:translate3d(2000px,0,0)}}","fade-out-up":"{from{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}","fade-out-up-big":"{from{opacity:1}to{opacity:0;transform:translate3d(0,-2000px,0)}}","fade-out-top-left":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(-100%,-100%,0)}}","fade-out-top-right":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(100%,-100%,0)}}","fade-out-bottom-left":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(-100%,100%,0)}}","fade-out-bottom-right":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(100%,100%,0)}}","back-in-up":"{0%{opacity:0.7;transform:translateY(1200px) scale(0.7)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-in-down":"{0%{opacity:0.7;transform:translateY(-1200px) scale(0.7)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-in-right":"{0%{opacity:0.7;transform:translateX(2000px) scale(0.7)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-in-left":"{0%{opacity:0.7;transform:translateX(-2000px) scale(0.7)}80%{opacity:0.7;transform:translateX(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-out-up":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:0.7;transform:translateY(-700px) scale(0.7)}}","back-out-down":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:0.7;transform:translateY(700px) scale(0.7)}}","back-out-right":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:0.7;transform:translateX(2000px) scale(0.7)}}","back-out-left":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateX(-2000px) scale(0.7)}100%{opacity:0.7;transform:translateY(-700px) scale(0.7)}}"},durations:{pulse:"2s","heart-beat":"1.3s","bounce-in":"0.75s","bounce-out":"0.75s","flip-out-x":"0.75s","flip-out-y":"0.75s",hinge:"2s"},timingFns:{pulse:"cubic-bezier(0.4,0,.6,1)",ping:"cubic-bezier(0,0,.2,1)","head-shake":"ease-in-out","heart-beat":"ease-in-out","pulse-alt":"ease-in-out","light-speed-in-left":"ease-out","light-speed-in-right":"ease-out","light-speed-out-left":"ease-in","light-speed-out-right":"ease-in"},properties:{"bounce-alt":{"transform-origin":"center bottom"},jello:{"transform-origin":"center"},swing:{"transform-origin":"top center"},flip:{"backface-visibility":"visible"},"flip-in-x":{"backface-visibility":"visible !important"},"flip-in-y":{"backface-visibility":"visible !important"},"flip-out-x":{"backface-visibility":"visible !important"},"flip-out-y":{"backface-visibility":"visible !important"},"rotate-in":{"transform-origin":"center"},"rotate-in-down-left":{"transform-origin":"left bottom"},"rotate-in-down-right":{"transform-origin":"right bottom"},"rotate-in-up-left":{"transform-origin":"left bottom"},"rotate-in-up-right":{"transform-origin":"right bottom"},"rotate-out":{"transform-origin":"center"},"rotate-out-down-left":{"transform-origin":"left bottom"},"rotate-out-down-right":{"transform-origin":"right bottom"},"rotate-out-up-left":{"transform-origin":"left bottom"},"rotate-out-up-right":{"transform-origin":"right bottom"},hinge:{"transform-origin":"top left"},"zoom-out-down":{"transform-origin":"center bottom"},"zoom-out-left":{"transform-origin":"left center"},"zoom-out-right":{"transform-origin":"right center"},"zoom-out-up":{"transform-origin":"center bottom"}},counts:{spin:"infinite",ping:"infinite",pulse:"infinite","pulse-alt":"infinite",bounce:"infinite","bounce-alt":"infinite"},category:{pulse:"Attention Seekers",bounce:"Attention Seekers",spin:"Attention Seekers",ping:"Attention Seekers","bounce-alt":"Attention Seekers",flash:"Attention Seekers","pulse-alt":"Attention Seekers","rubber-band":"Attention Seekers","shake-x":"Attention Seekers","shake-y":"Attention Seekers","head-shake":"Attention Seekers",swing:"Attention Seekers",tada:"Attention Seekers",wobble:"Attention Seekers",jello:"Attention Seekers","heart-beat":"Attention Seekers",hinge:"Specials","jack-in-the-box":"Specials","light-speed-in-left":"Lightspeed","light-speed-in-right":"Lightspeed","light-speed-out-left":"Lightspeed","light-speed-out-right":"Lightspeed",flip:"Flippers","flip-in-x":"Flippers","flip-in-y":"Flippers","flip-out-x":"Flippers","flip-out-y":"Flippers","rotate-in":"Rotating Entrances","rotate-in-down-left":"Rotating Entrances","rotate-in-down-right":"Rotating Entrances","rotate-in-up-left":"Rotating Entrances","rotate-in-up-right":"Rotating Entrances","rotate-out":"Rotating Exits","rotate-out-down-left":"Rotating Exits","rotate-out-down-right":"Rotating Exits","rotate-out-up-left":"Rotating Exits","rotate-out-up-right":"Rotating Exits","roll-in":"Specials","roll-out":"Specials","zoom-in":"Zooming Entrances","zoom-in-down":"Zooming Entrances","zoom-in-left":"Zooming Entrances","zoom-in-right":"Zooming Entrances","zoom-in-up":"Zooming Entrances","zoom-out":"Zooming Exits","zoom-out-down":"Zooming Exits","zoom-out-left":"Zooming Exits","zoom-out-right":"Zooming Exits","zoom-out-up":"Zooming Exits","bounce-in":"Bouncing Entrances","bounce-in-down":"Bouncing Entrances","bounce-in-left":"Bouncing Entrances","bounce-in-right":"Bouncing Entrances","bounce-in-up":"Bouncing Entrances","bounce-out":"Bouncing Exits","bounce-out-down":"Bouncing Exits","bounce-out-left":"Bouncing Exits","bounce-out-right":"Bouncing Exits","bounce-out-up":"Bouncing Exits","slide-in-down":"Sliding Entrances","slide-in-left":"Sliding Entrances","slide-in-right":"Sliding Entrances","slide-in-up":"Sliding Entrances","slide-out-down":"Sliding Exits","slide-out-left":"Sliding Exits","slide-out-right":"Sliding Exits","slide-out-up":"Sliding Exits","fade-in":"Fading Entrances","fade-in-down":"Fading Entrances","fade-in-down-big":"Fading Entrances","fade-in-left":"Fading Entrances","fade-in-left-big":"Fading Entrances","fade-in-right":"Fading Entrances","fade-in-right-big":"Fading Entrances","fade-in-up":"Fading Entrances","fade-in-up-big":"Fading Entrances","fade-in-top-left":"Fading Entrances","fade-in-top-right":"Fading Entrances","fade-in-bottom-left":"Fading Entrances","fade-in-bottom-right":"Fading Entrances","fade-out":"Fading Exits","fade-out-down":"Fading Exits","fade-out-down-big":"Fading Exits","fade-out-left":"Fading Exits","fade-out-left-big":"Fading Exits","fade-out-right":"Fading Exits","fade-out-right-big":"Fading Exits","fade-out-up":"Fading Exits","fade-out-up-big":"Fading Exits","fade-out-top-left":"Fading Exits","fade-out-top-right":"Fading Exits","fade-out-bottom-left":"Fading Exits","fade-out-bottom-right":"Fading Exits","back-in-up":"Back Entrances","back-in-down":"Back Entrances","back-in-right":"Back Entrances","back-in-left":"Back Entrances","back-out-up":"Back Exits","back-out-down":"Back Exits","back-out-right":"Back Exits","back-out-left":"Back Exits"}},CL={busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},SL={DEFAULT:"8px",xs:"4px",sm:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},EL={sans:["ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'].join(","),serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"].join(","),mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"].join(",")},TL={xs:{fontSize:"0.75rem",lineHeight:"1rem"},sm:{fontSize:"0.875rem",lineHeight:"1.25rem"},base:{fontSize:"1rem",lineHeight:"1.5rem"},lg:{fontSize:"1.125rem",lineHeight:"1.75rem"},xl:{fontSize:"1.25rem",lineHeight:"1.75rem"},"2xl":{fontSize:"1.5rem",lineHeight:"2rem"},"3xl":{fontSize:"1.875rem",lineHeight:"2.25rem"},"4xl":{fontSize:"2.25rem",lineHeight:"2.5rem"},"5xl":{fontSize:"3rem",lineHeight:"1"},"6xl":{fontSize:"3.75rem",lineHeight:"1"},"7xl":{fontSize:"4.5rem",lineHeight:"1"},"8xl":{fontSize:"6rem",lineHeight:"1"},"9xl":{fontSize:"8rem",lineHeight:"1"}},OL={thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},AL={tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},ML={none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2"},$L={DEFAULT:"1.5rem",none:"0",sm:"thin",md:"medium",lg:"thick"},RL={portrait:"(orientation: portrait)",landscape:"(orientation: landscape)",os_dark:"(prefers-color-scheme: dark)",os_light:"(prefers-color-scheme: light)",motion_ok:"(prefers-reduced-motion: no-preference)",motion_not_ok:"(prefers-reduced-motion: reduce)",high_contrast:"(prefers-contrast: high)",low_contrast:"(prefers-contrast: low)",opacity_ok:"(prefers-reduced-transparency: no-preference)",opacity_not_ok:"(prefers-reduced-transparency: reduce)",use_data_ok:"(prefers-reduced-data: no-preference)",use_data_not_ok:"(prefers-reduced-data: reduce)",touch:"(hover: none) and (pointer: coarse)",stylus:"(hover: none) and (pointer: fine)",pointer:"(hover) and (pointer: coarse)",mouse:"(hover) and (pointer: fine)",hd_color:"(dynamic-range: high)"},DL={DEFAULT:"0.25rem",xs:"0.75rem",sm:"0.875rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"},PL={DEFAULT:"0.25rem",none:"0",xs:"0.125rem",sm:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem","4xl":"2rem"},LL={DEFAULT:["0 1px 3px 0 rgb(0 0 0 / 0.1)","0 1px 2px -1px rgb(0 0 0 / 0.1)"],"2xs":"0 1px rgb(0 0 0 / 0.05)",xs:"0 1px 2px 0 rgb(0 0 0 / 0.05)",sm:["0 1px 3px 0 rgb(0 0 0 / 0.1)","0 1px 2px -1px rgb(0 0 0 / 0.1)"],md:["0 4px 6px -1px rgb(0 0 0 / 0.1)","0 2px 4px -2px rgb(0 0 0 / 0.1)"],lg:["0 10px 15px -3px rgb(0 0 0 / 0.1)","0 4px 6px -4px rgb(0 0 0 / 0.1)"],xl:["0 20px 25px -5px rgb(0 0 0 / 0.1)","0 8px 10px -6px rgb(0 0 0 / 0.1)"],"2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",none:"0 0 rgb(0 0 0 / 0)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)"},FL={"2xs":"inset 0 1px rgb(0 0 0 / 0.05)",xs:"inset 0 1px 1px rgb(0 0 0 / 0.05)",sm:"inset 0 2px 4px rgb(0 0 0 / 0.05)",none:"0 0 rgb(0 0 0 / 0)"},IL={DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],xs:"0 1px 1px rgb(0 0 0 / 0.05)",sm:"0 1px 2px rgb(0 0 0 / 0.15)",md:"0 3px 3px rgb(0 0 0 / 0.12)",lg:"0 4px 4px rgb(0 0 0 / 0.15)",xl:"0 9px 7px rgb(0 0 0 / 0.1)","2xl":"0 25px 25px rgb(0 0 0 / 0.15)"},NL={none:"0 0 rgb(0 0 0 / 0)","2xs":"0 1px 0 rgb(0 0 0 / 0.15)",xs:"0 1px 1px rgb(0 0 0 / 0.2)",sm:["0 1px 0 rgb(0 0 0 / 0.075)","0 1px 1px rgb(0 0 0 / 0.075)","0 2px 2px rgb(0 0 0 / 0.075)"],md:["0 1px 1px rgb(0 0 0 / 0.1)","0 1px 2px rgb(0 0 0 / 0.1)","0 2px 4px rgb(0 0 0 / 0.1)"],lg:["0 1px 2px rgb(0 0 0 / 0.1)","0 3px 2px rgb(0 0 0 / 0.1)","0 4px 8px rgb(0 0 0 / 0.1)"]},jL={dramatic:"100px",near:"300px",normal:"500px",midrange:"800px",distant:"1200px"},BL={transition:{duration:"150ms",timingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},font:{family:"var(--font-sans)",featureSettings:"var(--font-sans--font-feature-settings)",variationSettings:"var(--font-sans--font-variation-settings)"},monoFont:{family:"var(--font-mono)",featureSettings:"var(--font-mono--font-feature-settings)",variationSettings:"var(--font-mono--font-variation-settings)"}},zL={"3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",prose:"65ch"},Ik={sm:"40rem",md:"48rem",lg:"64rem",xl:"80rem","2xl":"96rem"},UL={...Ik},HL={grid:"(display: grid)"},WL={linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)",DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)"},VL={none:"none",all:"all",colors:["color","background-color","border-color","text-decoration-color","fill","stroke","--un-gradient-from","--un-gradient-via","--un-gradient-to"].join(","),opacity:"opacity",shadow:"box-shadow",transform:["transform","translate","scale","rotate"].join(","),get DEFAULT(){return[this.colors,this.opacity,this.shadow,this.transform,"filter","-webkit-backdrop-filter","backdrop-filter"].join(",")}},XL={font:EL,colors:Fk,spacing:DL,breakpoint:Ik,verticalBreakpoint:UL,text:TL,fontWeight:OL,tracking:AL,leading:ML,textStrokeWidth:$L,radius:PL,shadow:LL,insetShadow:FL,dropShadow:IL,textShadow:NL,ease:WL,animation:kL,blur:SL,perspective:jL,property:VL,default:BL,container:zL,aria:CL,media:RL,supports:HL},YL=[[/^@container(?:\/(\w+))?(?:-(normal))?$/,([,t,e])=>({"container-type":e??"inline-size","container-name":t})]],GL=/@media \(min-width: (.+)\)/,qL=[[/^__container$/,(t,e)=>{const{theme:n,variantHandlers:r}=e,o=n.containers?.padding;let i;Kt(o)?i=o:i=o?.DEFAULT;const a=n.containers?.maxWidth;let s;for(const c of r){const u=c.handle?.({},h=>h)?.parent;if(Kt(u)){const h=u.match(GL)?.[1];if(h){const p=(Nh(e)??[]).find(m=>m.size===h)?.point;a?p&&(s=a?.[p]):s=h,p&&!Kt(o)&&(i=o?.[p]??i)}}}const l={"max-width":s};return r.length||(l.width="100%"),n.containers?.center&&(l["margin-left"]="auto",l["margin-right"]="auto"),o&&(l["padding-left"]=i,l["padding-right"]=i),l},{internal:!0}]],KL=[[/^(?:(\w+)[:-])?container$/,([,t],e)=>{let n=(Nh(e)??[]).map(o=>o.point);if(t){if(!n.includes(t))return;n=n.slice(n.indexOf(t))}const r=n.map(o=>`${o}:__container`);return t||r.unshift("__container"),r}]],ZL=[...KL],Oy={mid:"middle",base:"baseline",btm:"bottom",baseline:"baseline",top:"top",start:"top",middle:"middle",bottom:"bottom",end:"bottom","text-top":"text-top","text-bottom":"text-bottom",sub:"sub",super:"super",...Object.fromEntries(en.map(t=>[t,t]))},JL=[[/^(?:vertical|align|v)-(.+)$/,([,t])=>({"vertical-align":Oy[t]??ne.bracket.cssvar.numberWithUnit(t)}),{autocomplete:[`(vertical|align|v)-(${Object.keys(Oy).join("|")})`,"(vertical|align|v)-<percentage>"]}]],Ay=["center","left","right","justify","start","end"],QL=[...Ay.map(t=>[`text-${t}`,{"text-align":t}]),...[...en,...Ay].map(t=>[`text-align-${t}`,{"text-align":t}])],eF=[[/^(?:animate-)?keyframes-(.+)$/,([,t],{theme:e})=>{const n=e.animation?.keyframes?.[t];if(n)return[`@keyframes ${t}${n}`,{animation:t}]},{autocomplete:["animate-keyframes-$animation.keyframes","keyframes-$animation.keyframes"]}],[/^animate-(.+)$/,([,t],{theme:e})=>{const n=e.animation?.keyframes?.[t];if(n){const r=e.animation?.durations?.[t]??"1s",o=e.animation?.timingFns?.[t]??"linear",i=e.animation?.counts?.[t]??1,a=e.animation?.properties?.[t];return[`@keyframes ${t}${n}`,{animation:`${t} ${r} ${o} ${i}`,...a}]}return{animation:ne.bracket.cssvar(t)}},{autocomplete:"animate-$animation.keyframes"}],[/^animate-name-(.+)/,([,t])=>({"animation-name":ne.bracket.cssvar(t)??t})],[/^animate-duration-(.+)$/,([,t],{theme:e})=>({"animation-duration":e.duration?.[t||"DEFAULT"]??ne.bracket.cssvar.time(t)}),{autocomplete:["animate-duration"]}],[/^animate-delay-(.+)$/,([,t],{theme:e})=>({"animation-delay":e.duration?.[t||"DEFAULT"]??ne.bracket.cssvar.time(t)}),{autocomplete:["animate-delay"]}],[/^animate-ease(?:-(.+))?$/,([,t],{theme:e})=>({"animation-timing-function":e.ease?.[t||"DEFAULT"]??ne.bracket.cssvar(t)}),{autocomplete:["animate-ease","animate-ease-$ease"]}],[/^animate-(fill-mode-|fill-|mode-)?(.+)$/,([,t,e])=>["none","forwards","backwards","both",t?en:[]].includes(e)?{"animation-fill-mode":e}:void 0,{autocomplete:["animate-(fill|mode|fill-mode)","animate-(fill|mode|fill-mode)-(none|forwards|backwards|both|inherit|initial|revert|revert-layer|unset)","animate-(none|forwards|backwards|both|inherit|initial|revert|revert-layer|unset)"]}],[/^animate-(direction-)?(.+)$/,([,t,e])=>["normal","reverse","alternate","alternate-reverse",t?en:[]].includes(e)?{"animation-direction":e}:void 0,{autocomplete:["animate-direction","animate-direction-(normal|reverse|alternate|alternate-reverse|inherit|initial|revert|revert-layer|unset)","animate-(normal|reverse|alternate|alternate-reverse|inherit|initial|revert|revert-layer|unset)"]}],[/^animate-(?:iteration-count-|iteration-|count-)(.+)$/,([,t])=>({"animation-iteration-count":ne.bracket.cssvar(t)??t.replace(/-/g,",")}),{autocomplete:["animate-(iteration|count|iteration-count)","animate-(iteration|count|iteration-count)-<num>"]}],[/^animate-(play-state-|play-|state-)?(.+)$/,([,t,e])=>["paused","running",t?en:[]].includes(e)?{"animation-play-state":e}:void 0,{autocomplete:["animate-(play|state|play-state)","animate-(play|state|play-state)-(paused|running|inherit|initial|revert|revert-layer|unset)","animate-(paused|running|inherit|initial|revert|revert-layer|unset)"]}],["animate-none",{animation:"none"}],...ut("animate","animation")],Nk={"gradient-position":Be("--un-gradient-position"),"gradient-from":Be("--un-gradient-from",{syntax:"<color>",initialValue:"#0000"}),"gradient-via":Be("--un-gradient-via",{syntax:"<color>",initialValue:"#0000"}),"gradient-to":Be("--un-gradient-to",{syntax:"<color>",initialValue:"#0000"}),"gradient-stops":Be("--un-gradient-stops"),"gradient-via-stops":Be("--un-gradient-via-stops"),"gradient-from-position":Be("--un-gradient-from-position",{syntax:"<length-percentage>",initialValue:"0%"}),"gradient-via-position":Be("--un-gradient-via-position",{syntax:"<length-percentage>",initialValue:"50%"}),"gradient-to-position":Be("--un-gradient-to-position",{syntax:"<length-percentage>",initialValue:"100%"})};function My(t){let e="in oklab";if(t)if(t.startsWith("[")&&t.endsWith("]"))e=t.slice(1,-1);else switch(t){case"longer":case"shorter":case"increasing":case"decreasing":e=`in oklch ${t} hue`;break;default:e=`in ${t}`}return e}function tF(){return function*([,t,e],{theme:n}){const r={},o=Ih(e,n);if(o){const{color:i,keys:a,alpha:s}=o;if(i){if(Object.values(Fh).includes(i))r[`--un-gradient-${t}`]=i;else{r[`--un-${t}-opacity`]=s;const l=a?Jt("colors",a):i;r[`--un-gradient-${t}`]=`color-mix(in oklab, ${l} var(--un-${t}-opacity), transparent)`,yield Be(`--un-${t}-opacity`,{syntax:"<percentage>",initialValue:"100%"})}a&&lt("colors",a),n&&jh(i,n)}}else r[`--un-gradient-${t}`]=ne.bracket.cssvar(e);if(r[`--un-gradient-${t}`]){switch(t){case"from":yield{...r,"--un-gradient-stops":"var(--un-gradient-via-stops, var(--un-gradient-position), var(--un-gradient-from) var(--un-gradient-from-position), var(--un-gradient-to) var(--un-gradient-to-position))"};break;case"via":yield{...r,"--un-gradient-via-stops":"var(--un-gradient-position), var(--un-gradient-from) var(--un-gradient-from-position), var(--un-gradient-via) var(--un-gradient-via-position), var(--un-gradient-to) var(--un-gradient-to-position)","--un-gradient-stops":"var(--un-gradient-via-stops)"};break;case"to":yield{...r,"--un-gradient-stops":"var(--un-gradient-via-stops, var(--un-gradient-position), var(--un-gradient-from) var(--un-gradient-from-position), var(--un-gradient-to) var(--un-gradient-to-position))"};break;case"stops":yield{...r};break}for(const i of Object.values(Nk))yield i}}}function nF(){return function*([,t,e]){yield{[`--un-gradient-${t}-position`]:`${ne.bracket.cssvar.percent(e)}`};for(const n of Object.values(Nk))yield n}}const rF=[[/^bg-(linear|radial|conic)-([^/]+)(?:\/(.+))?$/,([,t,e,n])=>{let r;if(ne.number(e)!=null?r=`${ne.number(e)}deg ${My(n)};`:r=ne.bracket(e),r)return{"--un-gradient-position":r,"background-image":`${t}-gradient(var(--un-gradient-stops))`}},{autocomplete:["bg-(linear|radial|conic)","(from|to|via)-$colors","(from|to|via)-(op|opacity)","(from|to|via)-(op|opacity)-<percent>"]}],[/^(from|via|to|stops)-(.+)$/,tF()],[/^(from|via|to)-op(?:acity)?-?(.+)$/,([,t,e])=>({[`--un-${t}-opacity`]:ne.bracket.percent(e)})],[/^(from|via|to)-([\d.]+%)$/,nF()],[/^bg-((?:repeating-)?(?:linear|radial|conic))$/,([,t])=>({"background-image":`${t}-gradient(var(--un-gradient, var(--un-gradient-stops, rgb(255 255 255 / 0))))`}),{autocomplete:["bg-gradient-repeating","bg-gradient-(linear|radial|conic)","bg-gradient-repeating-(linear|radial|conic)"]}],[/^bg-(linear|radial|conic)(?:-to-([rltb]{1,2}))?(?:\/(.+))?$/,([,t,e,n])=>({"--un-gradient-position":`${e in qr?`to ${qr[e]} `:" "}${My(n)}`,"background-image":`${t}-gradient(var(--un-gradient-stops))`}),{autocomplete:`bg-gradient-to-(${Object.keys(qr).filter(t=>t.length<=2&&Array.from(t).every(e=>"rltb".includes(e))).join("|")})`}],["bg-none",{"background-image":"none"}],["box-decoration-slice",{"box-decoration-break":"slice"}],["box-decoration-clone",{"box-decoration-break":"clone"}],...ut("box-decoration","box-decoration-break"),["bg-auto",{"background-size":"auto"}],["bg-cover",{"background-size":"cover"}],["bg-contain",{"background-size":"contain"}],["bg-fixed",{"background-attachment":"fixed"}],["bg-local",{"background-attachment":"local"}],["bg-scroll",{"background-attachment":"scroll"}],["bg-clip-border",{"-webkit-background-clip":"border-box","background-clip":"border-box"}],["bg-clip-content",{"-webkit-background-clip":"content-box","background-clip":"content-box"}],["bg-clip-padding",{"-webkit-background-clip":"padding-box","background-clip":"padding-box"}],["bg-clip-text",{"-webkit-background-clip":"text","background-clip":"text"}],...en.map(t=>[`bg-clip-${t}`,{"-webkit-background-clip":t,"background-clip":t}]),[/^bg-([-\w]{3,})$/,([,t])=>({"background-position":qr[t]})],["bg-repeat",{"background-repeat":"repeat"}],["bg-no-repeat",{"background-repeat":"no-repeat"}],["bg-repeat-x",{"background-repeat":"repeat-x"}],["bg-repeat-y",{"background-repeat":"repeat-y"}],["bg-repeat-round",{"background-repeat":"round"}],["bg-repeat-space",{"background-repeat":"space"}],...ut("bg-repeat","background-repeat"),["bg-origin-border",{"background-origin":"border-box"}],["bg-origin-padding",{"background-origin":"padding-box"}],["bg-origin-content",{"background-origin":"content-box"}],...ut("bg-origin","background-origin")],$y=[[/^outline-(?:width-|size-)?(.+)$/,jk,{autocomplete:"outline-(width|size)-<num>"}],[/^outline-(?:color-)?(.+)$/,oF,{autocomplete:"outline-$colors"}],[/^outline-op(?:acity)?-?(.+)$/,([,t])=>({"--un-outline-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"outline-(op|opacity)-<percent>"}],[/^outline-offset-(.+)$/,([,t])=>({"outline-offset":ne.bracket.cssvar.global.px(t)}),{autocomplete:"outline-(offset)-<num>"}],["outline-offset-none",{"outline-offset":"0"}],["outline",[{"outline-style":"var(--un-outline-style)","outline-width":"1px"},Be("--un-outline-style",{initialValue:"solid"})]],["outline-hidden",[{"outline-style":"none"},{[$n.parent]:"@media (forced-colors: active)",outline:"2px solid transparent","outline-offset":"2px"}]],["outline-none",{"--un-outline-style":"none","outline-style":"none"}],...["auto","dashed","dotted","double","solid","groove","ridge","inset","outset",...en].map(t=>[`outline-${t}`,{"--un-outline-style":t,"outline-style":t}])];function*jk([,t]){const e=ne.bracket.cssvar.global.px(t);e!=null&&(yield{"outline-style":"var(--un-outline-style)","outline-width":e},yield Be("--un-outline-style",{initialValue:"solid"}))}function*oF(t,e){if(yc(ne.bracket(t[1])))yield*jk(t);else{const n=fn("outline-color","outline")(t,e);if(n)for(const r of n)yield r}}const iF=[["appearance-auto",{"-webkit-appearance":"auto",appearance:"auto"}],["appearance-none",{"-webkit-appearance":"none",appearance:"none"}]];function aF(t){const e=ne.bracket(t);return e&&ne.properties(e)?e:ne.properties.auto.cssvar.global(t)??{contents:"contents",scroll:"scroll-position"}[t]}const Ry=[[/^will-change-(.+)/,([,t])=>({"will-change":aF(t)})]],mp={disc:"disc",circle:"circle",square:"square",decimal:"decimal","zero-decimal":"decimal-leading-zero",greek:"lower-greek",roman:"lower-roman","upper-roman":"upper-roman",alpha:"lower-alpha","upper-alpha":"upper-alpha",latin:"lower-latin","upper-latin":"upper-latin"},sF=[[/^list-(.+?)(?:-(outside|inside))?$/,([,t,e])=>{const n=mp[t];if(n)return e?{"list-style-position":e,"list-style-type":n}:{"list-style-type":n}},{autocomplete:[`list-(${Object.keys(mp).join("|")})`,`list-(${Object.keys(mp).join("|")})-(outside|inside)`]}],["list-outside",{"list-style-position":"outside"}],["list-inside",{"list-style-position":"inside"}],["list-none",{"list-style-type":"none"}],[/^list-image-(.+)$/,([,t])=>{if(/^\[url\(.+\)\]$/.test(t))return{"list-style-image":ne.bracket(t)}}],["list-image-none",{"list-style-image":"none"}],...ut("list","list-style-type")],lF=[[/^accent-(.+)$/,fn("accent-color","accent"),{autocomplete:"accent-$colors"}],[/^accent-op(?:acity)?-?(.+)$/,([,t])=>({"--un-accent-opacity":ne.bracket.percent(t)}),{autocomplete:["accent-(op|opacity)","accent-(op|opacity)-<percent>"]}]],cF=[[/^caret-(.+)$/,fn("caret-color","caret"),{autocomplete:"caret-$colors"}],[/^caret-op(?:acity)?-?(.+)$/,([,t])=>({"--un-caret-opacity":ne.bracket.percent(t)}),{autocomplete:["caret-(op|opacity)","caret-(op|opacity)-<percent>"]}]],uF=[["image-render-auto",{"image-rendering":"auto"}],["image-render-edge",{"image-rendering":"crisp-edges"}],["image-render-pixel",[["-ms-interpolation-mode","nearest-neighbor"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-pixelated"],["image-rendering","pixelated"]]]],dF=[["overscroll-auto",{"overscroll-behavior":"auto"}],["overscroll-contain",{"overscroll-behavior":"contain"}],["overscroll-none",{"overscroll-behavior":"none"}],...ut("overscroll","overscroll-behavior"),["overscroll-x-auto",{"overscroll-behavior-x":"auto"}],["overscroll-x-contain",{"overscroll-behavior-x":"contain"}],["overscroll-x-none",{"overscroll-behavior-x":"none"}],...ut("overscroll-x","overscroll-behavior-x"),["overscroll-y-auto",{"overscroll-behavior-y":"auto"}],["overscroll-y-contain",{"overscroll-behavior-y":"contain"}],["overscroll-y-none",{"overscroll-behavior-y":"none"}],...ut("overscroll-y","overscroll-behavior-y")],hF=[["scroll-auto",{"scroll-behavior":"auto"}],["scroll-smooth",{"scroll-behavior":"smooth"}],...ut("scroll","scroll-behavior")],ca=["solid","dashed","dotted","double","hidden","none","groove","ridge","inset","outset",...en],fF=[[/^(?:border|b)()(?:-(.+))?$/,Nr,{autocomplete:"(border|b)-<directions>"}],[/^(?:border|b)-([xy])(?:-(.+))?$/,Nr],[/^(?:border|b)-([rltbse])(?:-(.+))?$/,Nr],[/^(?:border|b)-(block|inline)(?:-(.+))?$/,Nr],[/^(?:border|b)-([bi][se])(?:-(.+))?$/,Nr],[/^(?:border|b)-()(?:width|size)-(.+)$/,Nr,{autocomplete:["(border|b)-<num>","(border|b)-<directions>-<num>"]}],[/^(?:border|b)-([xy])-(?:width|size)-(.+)$/,Nr],[/^(?:border|b)-([rltbse])-(?:width|size)-(.+)$/,Nr],[/^(?:border|b)-(block|inline)-(?:width|size)-(.+)$/,Nr],[/^(?:border|b)-([bi][se])-(?:width|size)-(.+)$/,Nr],[/^(?:border|b)-()(?:color-)?(.+)$/,ol,{autocomplete:["(border|b)-$colors","(border|b)-<directions>-$colors"]}],[/^(?:border|b)-([xy])-(?:color-)?(.+)$/,ol],[/^(?:border|b)-([rltbse])-(?:color-)?(.+)$/,ol],[/^(?:border|b)-(block|inline)-(?:color-)?(.+)$/,ol],[/^(?:border|b)-([bi][se])-(?:color-)?(.+)$/,ol],[/^(?:border|b)-()op(?:acity)?-?(.+)$/,il,{autocomplete:"(border|b)-(op|opacity)-<percent>"}],[/^(?:border|b)-([xy])-op(?:acity)?-?(.+)$/,il],[/^(?:border|b)-([rltbse])-op(?:acity)?-?(.+)$/,il],[/^(?:border|b)-(block|inline)-op(?:acity)?-?(.+)$/,il],[/^(?:border|b)-([bi][se])-op(?:acity)?-?(.+)$/,il],[/^(?:border-|b-)?(?:rounded|rd)()(?:-(.+))?$/,al,{autocomplete:["(border|b)-(rounded|rd)","(border|b)-(rounded|rd)-$radius","(rounded|rd)","(rounded|rd)-$radius"]}],[/^(?:border-|b-)?(?:rounded|rd)-([rltbse])(?:-(.+))?$/,al],[/^(?:border-|b-)?(?:rounded|rd)-([rltb]{2})(?:-(.+))?$/,al],[/^(?:border-|b-)?(?:rounded|rd)-([bise][se])(?:-(.+))?$/,al],[/^(?:border-|b-)?(?:rounded|rd)-([bi][se]-[bi][se])(?:-(.+))?$/,al],[/^(?:border|b)-(?:style-)?()(.+)$/,sl,{autocomplete:["(border|b)-style",`(border|b)-(${ca.join("|")})`,"(border|b)-<directions>-style",`(border|b)-<directions>-(${ca.join("|")})`,`(border|b)-<directions>-style-(${ca.join("|")})`,`(border|b)-style-(${ca.join("|")})`]}],[/^(?:border|b)-([xy])-(?:style-)?(.+)$/,sl],[/^(?:border|b)-([rltbse])-(?:style-)?(.+)$/,sl],[/^(?:border|b)-(block|inline)-(?:style-)?(.+)$/,sl],[/^(?:border|b)-([bi][se])-(?:style-)?(.+)$/,sl]];function pF(t){return([,e],n)=>{const r=Ih(e,n.theme),o=Rk(r,`border${t}-color`,`border${t}`,n);if(o){const i=o[0];return r?.color&&!Object.values(Fh).includes(r.color)&&!r.alpha&&t&&t!==""&&(i[`--un-border${t}-opacity`]="var(--un-border-opacity)"),o}}}function Nr([,t="",e="1"]){const n=ne.bracket.cssvar.global.px(e);if(t in gr&&n!=null)return gr[t].map(r=>[`border${r}-width`,n])}function ol([,t="",e],n){if(t in gr){if(yc(ne.bracket(e)))return Nr(["",t,e]);if(I0(e,n.theme)){const r=gr[t].map(o=>pF(o)(["",e],n)).filter(Ku);return[r.map(o=>o[0]).reduce((o,i)=>(Object.assign(o,i),o),{}),...r.flatMap(o=>o.slice(1))]}}}function il([,t="",e]){const n=ne.bracket.percent.cssvar(e);if(t in gr&&n!=null)return gr[t].map(r=>[`--un-border${r}-opacity`,n])}function al([,t="",e="DEFAULT"],{theme:n}){if(t in pp){if(e==="full")return pp[t].map(o=>[`border${o}-radius`,"calc(infinity * 1px)"]);const r=n.radius?.[e]??ne.bracket.cssvar.global.fraction.rem(e);if(r!=null){const o=n.radius&&e in n.radius;return o&&lt("radius",e),pp[t].map(i=>[`border${i}-radius`,o?Jt("radius",e):r])}}}function sl([,t="",e]){if(ca.includes(e)&&t in gr)return[["--un-border-style",e],...gr[t].map(n=>[`border${n}-style`,e])]}const gF=[[/^op(?:acity)?-?(.+)$/,([,t])=>({opacity:ne.bracket.percent.cssvar(t)})]],mF=/^\[url\(.+\)\]$/,vF=/^\[(?:length|size):.+\]$/,bF=/^\[position:.+\]$/,yF=/^\[(?:linear|conic|radial)-gradient\(.+\)\]$/,xF=/^\[image:.+\]$/,wF=[[/^bg-(.+)$/,(...t)=>{const e=t[0][1];if(mF.test(e))return{"--un-url":ne.bracket(e),"background-image":"var(--un-url)"};if(vF.test(e)&&ne.bracketOfLength(e)!=null)return{"background-size":ne.bracketOfLength(e).split(" ").map(n=>ne.fraction.auto.px.cssvar(n)??n).join(" ")};if((AP(e)||bF.test(e))&&ne.bracketOfPosition(e)!=null)return{"background-position":ne.bracketOfPosition(e).split(" ").map(n=>ne.position.fraction.auto.px.cssvar(n)??n).join(" ")};if(yF.test(e)||xF.test(e)){const n=ne.bracket(e);if(n)return{"background-image":(n.startsWith("http")?`url(${n})`:ne.cssvar(n))??n}}return fn("background-color","bg")(...t)},{autocomplete:"bg-$colors"}],[/^bg-op(?:acity)?-?(.+)$/,([,t])=>({"--un-bg-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"bg-(op|opacity)-<percent>"}]],_F=[[/^(?:color-)?scheme-(.+)$/,([,t])=>({"color-scheme":t.split("-").join(" ")})]],kF=[[/^columns-(.+)$/,([,t])=>({columns:ne.bracket.global.number.auto.numberWithUnit(t)}),{autocomplete:"columns-<num>"}],["break-before-auto",{"break-before":"auto"}],["break-before-avoid",{"break-before":"avoid"}],["break-before-all",{"break-before":"all"}],["break-before-avoid-page",{"break-before":"avoid-page"}],["break-before-page",{"break-before":"page"}],["break-before-left",{"break-before":"left"}],["break-before-right",{"break-before":"right"}],["break-before-column",{"break-before":"column"}],...ut("break-before"),["break-inside-auto",{"break-inside":"auto"}],["break-inside-avoid",{"break-inside":"avoid"}],["break-inside-avoid-page",{"break-inside":"avoid-page"}],["break-inside-avoid-column",{"break-inside":"avoid-column"}],...ut("break-inside"),["break-after-auto",{"break-after":"auto"}],["break-after-avoid",{"break-after":"avoid"}],["break-after-all",{"break-after":"all"}],["break-after-avoid-page",{"break-after":"avoid-page"}],["break-after-page",{"break-after":"page"}],["break-after-left",{"break-after":"left"}],["break-after-right",{"break-after":"right"}],["break-after-column",{"break-after":"column"}],...ut("break-after")],Dy=["solid","double","dotted","dashed","wavy",...en],CF=[[/^(?:decoration-)?(underline|overline|line-through)$/,([,t])=>({"text-decoration-line":t}),{autocomplete:"decoration-(underline|overline|line-through)"}],[/^(?:underline|decoration)-(?:size-)?(.+)$/,Bk,{autocomplete:"(underline|decoration)-<num>"}],[/^(?:underline|decoration)-(auto|from-font)$/,([,t])=>({"text-decoration-thickness":t}),{autocomplete:"(underline|decoration)-(auto|from-font)"}],[/^(?:underline|decoration)-(.+)$/,SF,{autocomplete:"(underline|decoration)-$colors"}],[/^(?:underline|decoration)-op(?:acity)?-?(.+)$/,([,t])=>({"--un-line-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"(underline|decoration)-(op|opacity)-<percent>"}],[/^(?:underline|decoration)-offset-(.+)$/,([,t])=>({"text-underline-offset":ne.auto.bracket.cssvar.global.px(t)}),{autocomplete:"(underline|decoration)-(offset)-<num>"}],...Dy.map(t=>[`underline-${t}`,{"text-decoration-style":t}]),...Dy.map(t=>[`decoration-${t}`,{"text-decoration-style":t}]),["no-underline",{"text-decoration":"none"}],["decoration-none",{"text-decoration":"none"}]];function Bk([,t]){return{"text-decoration-thickness":ne.bracket.cssvar.global.px(t)}}function SF(t,e){if(yc(ne.bracket(t[1])))return Bk(t);const n=fn("text-decoration-color","line")(t,e);if(n){const r=n[0];return r["-webkit-text-decoration-color"]=r["text-decoration-color"],n}}const EF=[[/^pa?()-?(.+)$/,Xt("padding"),{autocomplete:["(m|p)<num>","(m|p)-<num>"]}],[/^p-?xy()()$/,Xt("padding"),{autocomplete:"(m|p)-(xy)"}],[/^p-?([xy])(?:-?(.+))?$/,Xt("padding")],[/^p-?([rltbse])(?:-?(.+))?$/,Xt("padding"),{autocomplete:"(m|p)<directions>-<num>"}],[/^p-(block|inline)(?:-(.+))?$/,Xt("padding"),{autocomplete:"(m|p)-(block|inline)-<num>"}],[/^p-?([bi][se])(?:-?(.+))?$/,Xt("padding"),{autocomplete:"(m|p)-(bs|be|is|ie)-<num>"}]],TF=[[/^ma?()-?(.+)$/,Xt("margin")],[/^m-?xy()()$/,Xt("margin")],[/^m-?([xy])(?:-?(.+))?$/,Xt("margin")],[/^m-?([rltbse])(?:-?(.+))?$/,Xt("margin")],[/^m-(block|inline)(?:-(.+))?$/,Xt("margin")],[/^m-?([bi][se])(?:-?(.+))?$/,Xt("margin")]],OF=[[/^space-([xy])-(.+)$/,AF,{autocomplete:["space-(x|y)","space-(x|y)-reverse","space-(x|y)-$spacing"]}],[/^space-([xy])-reverse$/,function*([,t],{symbols:e}){yield{[e.selector]:ua,[`--un-space-${t}-reverse`]:"1"},yield Be(`--un-space-${t}-reverse`,{initialValue:0})}]];function ua(t){const e=">:not(:last-child)";return t.includes(e)?t:`${t}${e}`}function*AF([,t,e],{theme:n,symbols:r}){let o;const i=Co(e);if(i!=null?(lt("spacing"),o=`calc(var(--spacing) * ${i})`):o=n.spacing?.[e]??ne.bracket.cssvar.auto.fraction.rem(e||"1"),o!=null){const a=gr[t==="x"?"inline":"block"].map((s,l)=>{const c=`margin${s}`,u=` calc(${o} * ${l===0?`var(--un-space-${t}-reverse)`:`calc(1 - var(--un-space-${t}-reverse))`})`;return[c,u]});a&&(yield{[r.selector]:ua,[`--un-space-${t}-reverse`]:"0",...Object.fromEntries(a)},yield Be(`--un-space-${t}-reverse`,{initialValue:0}))}}const MF=[[/^divide-(.+)$/,function*(t,e){const n=fn("border-color","divide")(t,e);n&&(yield{[e.symbols.selector]:ua,...n[0]},yield n[1])},{autocomplete:"divide-$colors"}],[/^divide-op(?:acity)?-?(.+)$/,function*([,t],{symbols:e}){yield{[e.selector]:ua,"--un-divide-opacity":ne.bracket.percent(t)}},{autocomplete:["divide-(op|opacity)","divide-(op|opacity)-<percent>"]}],[/^divide-?([xy])$/,Py,{autocomplete:["divide-(x|y)","divide-(x|y)-reverse"]}],[/^divide-?([xy])-?(.+)$/,Py],[/^divide-?([xy])-reverse$/,function*([,t],{symbols:e}){yield{[e.selector]:ua,[`--un-divide-${t}-reverse`]:"1"},yield Be(`--un-divide-${t}-reverse`,{initialValue:0})}],[new RegExp(`^divide-(${ca.join("|")})$`),function*([,t],{symbols:e}){yield{[e.selector]:ua,"border-style":t}},{autocomplete:ca.map(t=>`divide-${t}`)}]];function*Py([,t,e],{symbols:n}){let r=ne.bracket.cssvar.px(e||"1");if(r!=null){r==="0"&&(r="0px");const i={x:["-left","-right"],y:["-top","-bottom"]}[t].map(a=>{const s=a.endsWith("left")||a.endsWith("top")?`calc(${r} * var(--un-divide-${t}-reverse))`:`calc(${r} * calc(1 - var(--un-divide-${t}-reverse)))`;return[[`border${a}-width`,s],[`border${a}-style`,"var(--un-border-style)"]]});i&&(yield{[n.selector]:ua,[`--un-divide-${t}-reverse`]:0,...Object.fromEntries(i.flat())},yield Be(`--un-divide-${t}-reverse`,{initialValue:0}),yield Be("--un-border-style",{initialValue:"solid"}))}}const zk=["blur","brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"],Jg=zk.map(t=>Be(`--un-${t}`)),Ld=zk.map(t=>`var(--un-${t},)`).join(" "),Uk=["backdrop-blur","backdrop-brightness","backdrop-contrast","backdrop-grayscale","backdrop-hue-rotate","backdrop-invert","backdrop-opacity","backdrop-saturate","backdrop-sepia"],$F=Uk.map(t=>Be(`--un-${t}`)),Fd=Uk.map(t=>`var(--un-${t},)`).join(" ");function vp(t){let e=ne.bracket.cssvar(t||"");if(e!=null||(e=t?ne.percent(t):"100%",e!=null&&Number.parseFloat(e.slice(0,-1))<=100))return e}function Lo(t,e){return([,n,r],{theme:o})=>{const i=e(r,o)??(r==="none"?"0":"");if(i!=="")return n?[{[`--un-${n}${t}`]:`${t}(${i})`,"-webkit-backdrop-filter":Fd,"backdrop-filter":Fd},...$F]:[{[`--un-${t}`]:`${t}(${i})`,filter:Ld},...Jg]}}function RF([,t],{theme:e}){let n=e.dropShadow?.[t||"DEFAULT"];if(n!=null)return[{"--un-drop-shadow":`drop-shadow(${F0(n,"--un-drop-shadow-color").join(") drop-shadow(")})`,filter:Ld},...Jg];if(n=ne.bracket.cssvar(t)??(t==="none"?"":void 0),n!=null)return[{"--un-drop-shadow":n&&`drop-shadow(${n})`,filter:Ld},...Jg]}const DF=[[/^(?:(backdrop-)|filter-)?blur(?:-(.+))?$/,Lo("blur",(t,e)=>e.blur?.[t||"DEFAULT"]||ne.bracket.cssvar.px(t)),{autocomplete:["(backdrop|filter)-blur-$blur","blur-$blur","filter-blur"]}],[/^(?:(backdrop-)|filter-)?brightness-(.+)$/,Lo("brightness",t=>ne.bracket.cssvar.percent(t)),{autocomplete:["(backdrop|filter)-brightness-<percent>","brightness-<percent>"]}],[/^(?:(backdrop-)|filter-)?contrast-(.+)$/,Lo("contrast",t=>ne.bracket.cssvar.percent(t)),{autocomplete:["(backdrop|filter)-contrast-<percent>","contrast-<percent>"]}],[/^(?:filter-)?drop-shadow(?:-(.+))?$/,RF,{autocomplete:["filter-drop","filter-drop-shadow","filter-drop-shadow-color","drop-shadow","drop-shadow-color","filter-drop-shadow-$dropShadow","drop-shadow-$dropShadow","filter-drop-shadow-color-$colors","drop-shadow-color-$colors","filter-drop-shadow-color-(op|opacity)","drop-shadow-color-(op|opacity)","filter-drop-shadow-color-(op|opacity)-<percent>","drop-shadow-color-(op|opacity)-<percent>"]}],[/^(?:filter-)?drop-shadow-color-(.+)$/,fn("--un-drop-shadow-color","drop-shadow")],[/^(?:filter-)?drop-shadow-color-op(?:acity)?-?(.+)$/,([,t])=>({"--un-drop-shadow-opacity":ne.bracket.percent(t)})],[/^(?:(backdrop-)|filter-)?grayscale(?:-(.+))?$/,Lo("grayscale",vp),{autocomplete:["(backdrop|filter)-grayscale","(backdrop|filter)-grayscale-<percent>","grayscale-<percent>"]}],[/^(?:(backdrop-)|filter-)?hue-rotate-(.+)$/,Lo("hue-rotate",t=>ne.bracket.cssvar.degree(t))],[/^(?:(backdrop-)|filter-)?invert(?:-(.+))?$/,Lo("invert",vp),{autocomplete:["(backdrop|filter)-invert","(backdrop|filter)-invert-<percent>","invert-<percent>"]}],[/^(backdrop-)op(?:acity)?-(.+)$/,Lo("opacity",t=>ne.bracket.cssvar.percent(t)),{autocomplete:["backdrop-(op|opacity)","backdrop-(op|opacity)-<percent>"]}],[/^(?:(backdrop-)|filter-)?saturate-(.+)$/,Lo("saturate",t=>ne.bracket.cssvar.percent(t)),{autocomplete:["(backdrop|filter)-saturate","(backdrop|filter)-saturate-<percent>","saturate-<percent>"]}],[/^(?:(backdrop-)|filter-)?sepia(?:-(.+))?$/,Lo("sepia",vp),{autocomplete:["(backdrop|filter)-sepia","(backdrop|filter)-sepia-<percent>","sepia-<percent>"]}],["filter",{filter:Ld}],["backdrop-filter",{"-webkit-backdrop-filter":Fd,"backdrop-filter":Fd}],["filter-none",{filter:"none"}],["backdrop-filter-none",{"-webkit-backdrop-filter":"none","backdrop-filter":"none"}],...en.map(t=>[`filter-${t}`,{filter:t}]),...en.map(t=>[`backdrop-filter-${t}`,{"-webkit-backdrop-filter":t,"backdrop-filter":t}])],PF=[["flex",{display:"flex"}],["inline-flex",{display:"inline-flex"}],["flex-inline",{display:"inline-flex"}],[/^flex-(.*)$/,([,t])=>({flex:ne.bracket(t)!=null?ne.bracket(t).split(" ").map(e=>ne.cssvar.fraction(e)??e).join(" "):ne.cssvar.fraction(t)})],["flex-1",{flex:"1 1 0%"}],["flex-auto",{flex:"1 1 auto"}],["flex-initial",{flex:"0 1 auto"}],["flex-none",{flex:"none"}],[/^(?:flex-)?shrink(?:-(.*))?$/,([,t=""])=>({"flex-shrink":ne.bracket.cssvar.number(t)??1}),{autocomplete:["flex-shrink-<num>","shrink-<num>"]}],[/^(?:flex-)?grow(?:-(.*))?$/,([,t=""])=>({"flex-grow":ne.bracket.cssvar.number(t)??1}),{autocomplete:["flex-grow-<num>","grow-<num>"]}],[/^(?:flex-)?basis-(.+)$/,([,t])=>{const e=Co(t);return e!=null?(lt("spacing"),{"flex-basis":`calc(var(--spacing) * ${e})`}):{"flex-basis":ne.bracket.cssvar.auto.fraction.rem(t)}},{autocomplete:["flex-basis-$spacing","basis-$spacing"]}],["flex-row",{"flex-direction":"row"}],["flex-row-reverse",{"flex-direction":"row-reverse"}],["flex-col",{"flex-direction":"column"}],["flex-col-reverse",{"flex-direction":"column-reverse"}],["flex-wrap",{"flex-wrap":"wrap"}],["flex-wrap-reverse",{"flex-wrap":"wrap-reverse"}],["flex-nowrap",{"flex-wrap":"nowrap"}]],Ly={"":"",x:"column-",y:"row-",col:"column-",row:"row-"};function bp([,t="",e]){const n=Co(e);return n!=null?(lt("spacing"),{[`${Ly[t]}gap`]:`calc(var(--spacing) * ${n})`}):{[`${Ly[t]}gap`]:ne.bracket.cssvar.global.rem(e)}}const LF=[[/^(?:flex-|grid-)?gap-?()(.+)$/,bp,{autocomplete:["gap-$spacing","gap-<num>"]}],[/^(?:flex-|grid-)?gap-([xy])-?(.+)$/,bp,{autocomplete:["gap-(x|y)-$spacing","gap-(x|y)-<num>"]}],[/^(?:flex-|grid-)?gap-(col|row)-?(.+)$/,bp,{autocomplete:["gap-(col|row)-$spacing","gap-(col|row)-<num>"]}]];function uo(t){return t.replace("col","column")}function FF(t){switch(t){case"min":return"min-content";case"max":return"max-content";case"fr":return"minmax(0,1fr)"}return ne.bracket.cssvar.auto.rem(t)}const IF=[["grid",{display:"grid"}],["inline-grid",{display:"inline-grid"}],[/^(?:grid-)?(row|col)-(.+)$/,([,t,e])=>({[`grid-${uo(t)}`]:ne.bracket.number.cssvar.auto(e)})],[/^(?:grid-)?(row|col)-span-(.+)$/,([,t,e])=>{if(e==="full")return{[`grid-${uo(t)}`]:"1/-1"};const n=ne.bracket.number.cssvar(e);if(n!=null)return{[`grid-${uo(t)}`]:`span ${n}/span ${n}`}},{autocomplete:"(grid-row|grid-col|row|col)-span-<num>"}],[/^(?:grid-)?(row|col)-start-(.+)$/,([,t,e])=>({[`grid-${uo(t)}-start`]:ne.bracket.cssvar(e)??e})],[/^(?:grid-)?(row|col)-end-(.+)$/,([,t,e])=>({[`grid-${uo(t)}-end`]:ne.bracket.cssvar(e)??e}),{autocomplete:"(grid-row|grid-col|row|col)-(start|end)-<num>"}],[/^(?:grid-)?auto-(rows|cols)-(.+)$/,([,t,e])=>({[`grid-auto-${uo(t)}`]:FF(e)}),{autocomplete:"(grid-auto|auto)-(rows|cols)-<num>"}],[/^(?:grid-auto-flow|auto-flow|grid-flow)-(.+)$/,([,t])=>({"grid-auto-flow":ne.bracket.cssvar(t)})],[/^(?:grid-auto-flow|auto-flow|grid-flow)-(row|col|dense|row-dense|col-dense)$/,([,t])=>({"grid-auto-flow":uo(t).replace("-"," ")}),{autocomplete:["(grid-auto-flow|auto-flow|grid-flow)-(row|col|dense|row-dense|col-dense)"]}],[/^(?:grid-)?(rows|cols)-(.+)$/,([,t,e])=>({[`grid-template-${uo(t)}`]:ne.bracket.cssvar(e)})],[/^(?:grid-)?(rows|cols)-minmax-([\w.-]+)$/,([,t,e])=>({[`grid-template-${uo(t)}`]:`repeat(auto-fill,minmax(${e},1fr))`})],[/^(?:grid-)?(rows|cols)-(\d+)$/,([,t,e])=>({[`grid-template-${uo(t)}`]:`repeat(${e},minmax(0,1fr))`}),{autocomplete:"(grid-rows|grid-cols|rows|cols)-<num>"}],[/^grid-area(s)?-(.+)$/,([,t,e])=>t!=null?{"grid-template-areas":ne.cssvar(e)??e.split("-").map(n=>`"${ne.bracket(n)}"`).join(" ")}:{"grid-area":ne.bracket.cssvar(e)}],["grid-rows-none",{"grid-template-rows":"none"}],["grid-cols-none",{"grid-template-columns":"none"}],["grid-rows-subgrid",{"grid-template-rows":"subgrid"}],["grid-cols-subgrid",{"grid-template-columns":"subgrid"}]],Jc=["auto","hidden","clip","visible","scroll","overlay",...en],NF=[[/^(?:overflow|of)-(.+)$/,([,t])=>Jc.includes(t)?{overflow:t}:void 0,{autocomplete:[`(overflow|of)-(${Jc.join("|")})`,`(overflow|of)-(x|y)-(${Jc.join("|")})`]}],[/^(?:overflow|of)-([xy])-(.+)$/,([,t,e])=>Jc.includes(e)?{[`overflow-${t}`]:e}:void 0]],jF=[[/^line-clamp-(\d+)$/,([,t])=>({overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":t}),{autocomplete:["line-clamp","line-clamp-(1|2|3|4|5|6|none)"]}],["line-clamp-none",{overflow:"visible",display:"block","-webkit-box-orient":"horizontal","-webkit-line-clamp":"unset"}]],BF=[[/^\$ placeholder-(.+)$/,fn("color","placeholder"),{autocomplete:"placeholder-$colors"}],[/^\$ placeholder-op(?:acity)?-?(.+)$/,([,t])=>({"--un-placeholder-opacity":ne.bracket.percent(t)}),{autocomplete:["placeholder-(op|opacity)","placeholder-(op|opacity)-<percent>"]}]],zF=[[/^(?:position-|pos-)?(relative|absolute|fixed|sticky)$/,([,t])=>({position:t}),{autocomplete:["(position|pos)-<position>","(position|pos)-<globalKeyword>","<position>"]}],[/^(?:position-|pos-)([-\w]+)$/,([,t])=>en.includes(t)?{position:t}:void 0],[/^(?:position-|pos-)?(static)$/,([,t])=>({position:t})]],Hk=[["justify-start",{"justify-content":"flex-start"}],["justify-end",{"justify-content":"flex-end"}],["justify-center",{"justify-content":"center"}],["justify-between",{"justify-content":"space-between"}],["justify-around",{"justify-content":"space-around"}],["justify-evenly",{"justify-content":"space-evenly"}],["justify-stretch",{"justify-content":"stretch"}],["justify-left",{"justify-content":"left"}],["justify-right",{"justify-content":"right"}],["justify-center-safe",{"justify-content":"safe center"}],["justify-end-safe",{"justify-content":"safe flex-end"}],["justify-normal",{"justify-content":"normal"}],...ut("justify","justify-content"),["justify-items-start",{"justify-items":"start"}],["justify-items-end",{"justify-items":"end"}],["justify-items-center",{"justify-items":"center"}],["justify-items-stretch",{"justify-items":"stretch"}],["justify-items-center-safe",{"justify-items":"safe center"}],["justify-items-end-safe",{"justify-items":"safe flex-end"}],...ut("justify-items"),["justify-self-auto",{"justify-self":"auto"}],["justify-self-start",{"justify-self":"start"}],["justify-self-end",{"justify-self":"end"}],["justify-self-center",{"justify-self":"center"}],["justify-self-stretch",{"justify-self":"stretch"}],["justify-self-baseline",{"justify-self":"baseline"}],["justify-self-center-safe",{"justify-self":"safe center"}],["justify-self-end-safe",{"justify-self":"safe flex-end"}],...ut("justify-self")],UF=[[/^order-(.+)$/,([,t])=>({order:ne.bracket.cssvar.number(t)})],["order-first",{order:"calc(-infinity)"}],["order-last",{order:"calc(infinity)"}],["order-none",{order:"0"}]],Wk=[["content-center",{"align-content":"center"}],["content-start",{"align-content":"flex-start"}],["content-end",{"align-content":"flex-end"}],["content-between",{"align-content":"space-between"}],["content-around",{"align-content":"space-around"}],["content-evenly",{"align-content":"space-evenly"}],["content-baseline",{"align-content":"baseline"}],["content-center-safe",{"align-content":"safe center"}],["content-end-safe",{"align-content":"safe flex-end"}],["content-stretch",{"align-content":"stretch"}],["content-normal",{"align-content":"normal"}],...ut("content","align-content"),["items-start",{"align-items":"flex-start"}],["items-end",{"align-items":"flex-end"}],["items-center",{"align-items":"center"}],["items-baseline",{"align-items":"baseline"}],["items-stretch",{"align-items":"stretch"}],["items-baseline-last",{"align-items":"last baseline"}],["items-center-safe",{"align-items":"safe center"}],["items-end-safe",{"align-items":"safe flex-end"}],...ut("items","align-items"),["self-auto",{"align-self":"auto"}],["self-start",{"align-self":"flex-start"}],["self-end",{"align-self":"flex-end"}],["self-center",{"align-self":"center"}],["self-stretch",{"align-self":"stretch"}],["self-baseline",{"align-self":"baseline"}],["self-baseline-last",{"align-self":"last baseline"}],["self-center-safe",{"align-self":"safe center"}],["self-end-safe",{"align-self":"safe flex-end"}],...ut("self","align-self")],Vk=[["place-content-center",{"place-content":"center"}],["place-content-start",{"place-content":"start"}],["place-content-end",{"place-content":"end"}],["place-content-between",{"place-content":"space-between"}],["place-content-around",{"place-content":"space-around"}],["place-content-evenly",{"place-content":"space-evenly"}],["place-content-stretch",{"place-content":"stretch"}],["place-content-baseline",{"place-content":"baseline"}],["place-content-center-safe",{"place-content":"safe center"}],["place-content-end-safe",{"place-content":"safe flex-end"}],...ut("place-content"),["place-items-start",{"place-items":"start"}],["place-items-end",{"place-items":"end"}],["place-items-center",{"place-items":"center"}],["place-items-stretch",{"place-items":"stretch"}],["place-items-baseline",{"place-items":"baseline"}],["place-items-center-safe",{"place-items":"safe center"}],["place-items-end-safe",{"place-items":"safe flex-end"}],...ut("place-items"),["place-self-auto",{"place-self":"auto"}],["place-self-start",{"place-self":"start"}],["place-self-end",{"place-self":"end"}],["place-self-center",{"place-self":"center"}],["place-self-stretch",{"place-self":"stretch"}],["place-self-center-safe",{"place-self":"safe center"}],["place-self-end-safe",{"place-self":"safe flex-end"}],...ut("place-self")],HF=[...Hk,...Wk,...Vk].flatMap(([t,e])=>[[`flex-${t}`,e],[`grid-${t}`,e]]);function Qg(t){const e=Co(t);return e!=null?(lt("spacing"),`calc(var(--spacing) * ${e})`):ne.bracket.cssvar.global.auto.fraction.rem(t)}function ll([,t,e]){const n=Qg(e);if(n!=null&&t in Cy)return Cy[t].map(r=>[r.slice(1),n])}const WF=[[/^(?:position-|pos-)?inset-(.+)$/,([,t])=>({inset:Qg(t)}),{autocomplete:["(position|pos)-inset-<directions>-$spacing","(position|pos)-inset-(block|inline)-$spacing","(position|pos)-inset-(bs|be|is|ie)-$spacing","(position|pos)-(top|left|right|bottom)-$spacing"]}],[/^(?:position-|pos-)?(start|end)-(.+)$/,ll],[/^(?:position-|pos-)?inset-([xy])-(.+)$/,ll],[/^(?:position-|pos-)?inset-([rltbse])-(.+)$/,ll],[/^(?:position-|pos-)?inset-(block|inline)-(.+)$/,ll],[/^(?:position-|pos-)?inset-([bi][se])-(.+)$/,ll],[/^(?:position-|pos-)?(top|left|right|bottom)-(.+)$/,([,t,e])=>({[t]:Qg(e)})]],VF=[["float-left",{float:"left"}],["float-right",{float:"right"}],["float-start",{float:"inline-start"}],["float-end",{float:"inline-end"}],["float-none",{float:"none"}],...ut("float"),["clear-left",{clear:"left"}],["clear-right",{clear:"right"}],["clear-both",{clear:"both"}],["clear-start",{clear:"inline-start"}],["clear-end",{clear:"inline-end"}],["clear-none",{clear:"none"}],...ut("clear")],XF=[[/^(?:position-|pos-)?z([\d.]+)$/,([,t])=>({"z-index":ne.number(t)})],[/^(?:position-|pos-)?z-(.+)$/,([,t])=>({"z-index":ne.bracket.cssvar.global.auto.number(t)}),{autocomplete:"z-<num>"}]],YF=[["box-border",{"box-sizing":"border-box"}],["box-content",{"box-sizing":"content-box"}],...ut("box","box-sizing")],GF=[[/^(where|\?)$/,(t,{constructCSS:e,generator:n})=>{if(n.userConfig.envMode==="dev")return`@keyframes __un_qm{0%{box-shadow:inset 4px 4px #ff1e90, inset -4px -4px #ff1e90}100%{box-shadow:inset 8px 8px #3399ff, inset -8px -8px #3399ff}} ${e({animation:"__un_qm 0.5s ease-in-out alternate infinite"})}`}]],em={shadow:Be("--un-shadow",{initialValue:"0 0 #0000"}),shadowColor:Be("--un-shadow-color"),insetShadow:Be("--un-inset-shadow",{initialValue:"0 0 #0000"}),insetShadowColor:Be("--un-inset-shadow-color"),ringColor:Be("--un-ring-color"),ringShadow:Be("--un-ring-shadow",{initialValue:"0 0 #0000"}),insetRingColor:Be("--un-inset-ring-color"),insetRingShadow:Be("--un-inset-ring-shadow",{initialValue:"0 0 #0000"}),ringInset:Be("--un-ring-inset"),ringOffsetWidth:Be("--un-ring-offset-width",{syntax:"<length>",initialValue:"0px"}),ringOffsetColor:Be("--un-ring-offset-color"),ringOffsetShadow:Be("--un-ring-offset-shadow",{initialValue:"0 0 #0000"})},qF=[[/^shadow(?:-(.+))?$/,Fy("shadow"),{autocomplete:["shadow-$colors","shadow-$shadow"]}],[/^shadow-op(?:acity)?-?(.+)$/,([,t])=>({"--un-shadow-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"shadow-(op|opacity)-<percent>"}],[/^inset-shadow(?:-(.+))?$/,Fy("insetShadow"),{autocomplete:["inset-shadow-$colors","inset-shadow-$insetShadow"]}],[/^inset-shadow-op(?:acity)?-?(.+)$/,([,t])=>({"--un-inset-shadow-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"shadow-(op|opacity)-<percent>"}]];function Fy(t){return(e,n)=>{const[,r]=e,{theme:o}=n,i=o[t]?.[r||"DEFAULT"],a=r?ne.bracket.cssvar(r):void 0,s=MP(t);return(i!=null||a!=null)&&!I0(a,o)?[{[`--un-${s}`]:F0(i||a,`--un-${s}-color`).join(","),"box-shadow":"var(--un-inset-shadow), var(--un-inset-ring-shadow), var(--un-ring-offset-shadow), var(--un-ring-shadow), var(--un-shadow)"},...Object.values(em)]:fn(`--un-${s}-color`,s)(e,n)}}const KF=[[/^ring(?:-(.+))?$/,([,t])=>{const e=ne.bracket.px(t||"1");if(e!=null)return[{"--un-ring-shadow":`var(--un-ring-inset,) 0 0 0 calc(${e} + var(--un-ring-offset-width)) var(--un-ring-color, currentColor)`,"box-shadow":"var(--un-inset-shadow), var(--un-inset-ring-shadow), var(--un-ring-offset-shadow), var(--un-ring-shadow), var(--un-shadow)"},...Object.values(em)]}],[/^ring-(.+)$/,fn("--un-ring-color","ring"),{autocomplete:"ring-$colors"}],[/^ring-op(?:acity)?-?(.+)$/,([,t])=>({"--un-ring-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"ring-(op|opacity)-<percent>"}],[/^inset-ring(?:-(.+))?$/,([,t])=>{const e=ne.bracket.px(t||"1");if(e!=null)return[{"--un-inset-ring-shadow":`inset 0 0 0 ${e} var(--un-inset-ring-color, currentColor)`,"box-shadow":"var(--un-inset-shadow), var(--un-inset-ring-shadow), var(--un-ring-offset-shadow), var(--un-ring-shadow), var(--un-shadow)"},...Object.values(em)]}],[/^inset-ring-(.+)$/,fn("--un-inset-ring-color","inset-ring"),{autocomplete:"inset-ring-$colors"}],[/^inset-ring-op(?:acity)?-?(.+)$/,([,t])=>({"--un-inset-ring-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"inset-ring-(op|opacity)-<percent>"}],[/^ring-offset(?:-(?:width-|size-)?(.+))?$/,([,t])=>{const e=ne.bracket.cssvar.px(t||"1");if(e!=null)return{"--un-ring-offset-width":e,"--un-ring-offset-shadow":"var(--un-ring-inset,) 0 0 0 var(--un-ring-offset-width) var(--un-ring-offset-color)"}},{autocomplete:"ring-offset-$colors"}],[/^ring-offset-(.+)$/,fn("--un-ring-offset-color","ring-offset"),{autocomplete:"ring-offset-$colors"}],[/^ring-offset-op(?:acity)?-?(.+)$/,([,t])=>({"--un-ring-offset-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"ring-offset-(op|opacity)-<percent>"}],["ring-inset",{"--un-ring-inset":"inset"}]],ZF=[...["x","y","both"].map(t=>[`snap-${t}`,[{"scroll-snap-type":`${t} var(--un-scroll-snap-strictness)`},Be("--un-scroll-snap-strictness",{initialValue:"proximity"})]]),...["mandatory","proximity"].map(t=>[`snap-${t}`,[{"--un-scroll-snap-strictness":t},Be("--un-scroll-snap-strictness",{initialValue:"proximity"})]]),["snap-none",{"scroll-snap-type":"none"}],["snap-start",{"scroll-snap-align":"start"}],["snap-end",{"scroll-snap-align":"end"}],["snap-center",{"scroll-snap-align":"center"}],["snap-align-none",{"scroll-snap-align":"none"}],["snap-normal",{"scroll-snap-stop":"normal"}],["snap-always",{"scroll-snap-stop":"always"}],[/^scroll-ma?()-?(.+)$/,Xt("scroll-margin"),{autocomplete:["scroll-(m|p|ma|pa|block|inline)","scroll-(m|p|ma|pa|block|inline)-$spacing","scroll-(m|p|ma|pa|block|inline)-(x|y|r|l|t|b|bs|be|is|ie)","scroll-(m|p|ma|pa|block|inline)-(x|y|r|l|t|b|bs|be|is|ie)-$spacing"]}],[/^scroll-m-?([xy])-?(.+)$/,Xt("scroll-margin")],[/^scroll-m-?([rltb])-?(.+)$/,Xt("scroll-margin")],[/^scroll-m-(block|inline)-(.+)$/,Xt("scroll-margin")],[/^scroll-m-?([bi][se])-?(.+)$/,Xt("scroll-margin")],[/^scroll-pa?()-?(.+)$/,Xt("scroll-padding")],[/^scroll-p-?([xy])-?(.+)$/,Xt("scroll-padding")],[/^scroll-p-?([rltb])-?(.+)$/,Xt("scroll-padding")],[/^scroll-p-(block|inline)-(.+)$/,Xt("scroll-padding")],[/^scroll-p-?([bi][se])-?(.+)$/,Xt("scroll-padding")]],JF={h:"height",w:"width",inline:"inline-size",block:"block-size"};function za(t,e){return`${t||""}${JF[e]}`}function Qc(t,e,n){let r;const o=["container","spacing"];for(const i of o)if(t[i]?.[n]){lt(i,n),r=Jt(i,n);break}if(!r)switch(n){case"fit":case"max":case"min":r=`${n}-content`;break;case"screen":r=e==="w"?"100vw":"100vh";break}return!r&&ne.number(n)!=null&&(lt("spacing"),r=`calc(var(--spacing) * ${ne.number(n)})`),r??ne.bracket.cssvar.global.auto.none.fraction.rem(n)}const QF=[[/^size-(min-|max-)?(.+)$/,([,t,e],{theme:n})=>({[za(t,"w")]:Qc(n,"w",e),[za(t,"h")]:Qc(n,"h",e)})],[/^(?:size-)?(min-|max-)?([wh])-?(.+)$/,([,t,e,n],{theme:r})=>({[za(t,e)]:Qc(r,e,n)})],[/^(?:size-)?(min-|max-)?(block|inline)-(.+)$/,([,t,e,n],{theme:r})=>({[za(t,e)]:Qc(r,e,n)}),{autocomplete:["(w|h)-<num>","(w|h)-(full|screen|fit|max|min)","(max|min)-(w|h)-<num>","(max|min)-(w|h)-(full|screen|fit|max|min)","(block|inline)-<num>","(block|inline)-(full|screen|fit|max|min)","(max|min)-(w|h|block|inline)","(max|min)-(w|h|block|inline)-<num>","(max|min)-(w|h|block|inline)-(full|screen|fit|max|min)"]}],[/^(?:size-)?(min-|max-)?(h)-screen-(.+)$/,([,t,e,n],r)=>({[za(t,e)]:Iy(r,n,"verticalBreakpoint")})],[/^(?:size-)?(min-|max-)?(w)-screen-(.+)$/,([,t,e,n],r)=>({[za(t,e)]:Iy(r,n)}),{autocomplete:["(w|h)-screen","(min|max)-(w|h)-screen","h-screen-$breakpoint","(min|max)-h-screen-$breakpoint","w-screen-$breakpoint","(min|max)-w-screen-$breakpoint"]}]];function Iy(t,e,n="breakpoint"){const r=Nh(t,n);if(r)return r.find(o=>o.point===e)?.size}function eI(t){if(/^\d+\/\d+$/.test(t))return t;switch(t){case"square":return"1/1";case"video":return"16/9"}return ne.bracket.cssvar.global.auto.number(t)}const tI=[[/^(?:size-)?aspect-(?:ratio-)?(.+)$/,([,t])=>({"aspect-ratio":eI(t)}),{autocomplete:["aspect-(square|video|ratio)","aspect-ratio-(square|video)"]}]],nI=["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out"],yp=["size","layout","paint","style"],rI=[["inline",{display:"inline"}],["block",{display:"block"}],["inline-block",{display:"inline-block"}],["contents",{display:"contents"}],["flow-root",{display:"flow-root"}],["list-item",{display:"list-item"}],["hidden",{display:"none"}],[/^display-(.+)$/,([,t])=>({display:ne.bracket.cssvar.global(t)})]],oI=[["visible",{visibility:"visible"}],["invisible",{visibility:"hidden"}],["collapse",{visibility:"collapse"}],["backface-visible",{"backface-visibility":"visible"}],["backface-hidden",{"backface-visibility":"hidden"}],...ut("backface","backface-visibility")],iI=[[/^cursor-(.+)$/,([,t])=>({cursor:ne.bracket.cssvar.global(t)})],...nI.map(t=>[`cursor-${t}`,{cursor:t}])],aI=[[/^contain-(.*)$/,([,t])=>ne.bracket(t)!=null?{contain:ne.bracket(t).split(" ").map(e=>ne.cssvar.fraction(e)??e).join(" ")}:yp.includes(t)?[{"--un-contain-size":t,contain:yp.map(e=>`var(--un-contain-${e})`).join(" ")},...yp.map(e=>Be(`--un-contain-${e}`))]:void 0],["contain-strict",{contain:"strict"}],["contain-content",{contain:"content"}],["contain-none",{contain:"none"}]],sI=[["pointer-events-auto",{"pointer-events":"auto"}],["pointer-events-none",{"pointer-events":"none"}],...ut("pointer-events")],lI=[["resize-x",{resize:"horizontal"}],["resize-y",{resize:"vertical"}],["resize",{resize:"both"}],["resize-none",{resize:"none"}],...ut("resize")],cI=[["select-auto",{"-webkit-user-select":"auto","user-select":"auto"}],["select-all",{"-webkit-user-select":"all","user-select":"all"}],["select-text",{"-webkit-user-select":"text","user-select":"text"}],["select-none",{"-webkit-user-select":"none","user-select":"none"}],...ut("select","user-select")],uI=[[/^(?:whitespace-|ws-)([-\w]+)$/,([,t])=>["normal","nowrap","pre","pre-line","pre-wrap","break-spaces",...en].includes(t)?{"white-space":t}:void 0,{autocomplete:"(whitespace|ws)-(normal|nowrap|pre|pre-line|pre-wrap|break-spaces)"}]],dI=[[/^intrinsic-size-(.+)$/,([,t])=>({"contain-intrinsic-size":ne.bracket.cssvar.global.fraction.rem(t)}),{autocomplete:"intrinsic-size-<num>"}],["content-visibility-visible",{"content-visibility":"visible"}],["content-visibility-hidden",{"content-visibility":"hidden"}],["content-visibility-auto",{"content-visibility":"auto"}],...ut("content-visibility")],hI=[[/^content-(.+)$/,([,t])=>{if(ne.bracket.cssvar(t)!=null)return[{"--un-content":ne.bracket.cssvar(t),content:"var(--un-content)"},Be("--un-content",{initialValue:'""'})]}],["content-empty",{content:'""'}],["content-none",{content:"none"}]],fI=[["break-normal",{"overflow-wrap":"normal","word-break":"normal"}],["break-words",{"overflow-wrap":"break-word"}],["break-all",{"word-break":"break-all"}],["break-keep",{"word-break":"keep-all"}],["break-anywhere",{"overflow-wrap":"anywhere"}]],pI=[["text-wrap",{"text-wrap":"wrap"}],["text-nowrap",{"text-wrap":"nowrap"}],["text-balance",{"text-wrap":"balance"}],["text-pretty",{"text-wrap":"pretty"}]],gI=[["truncate",{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}],["text-truncate",{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}],["text-ellipsis",{"text-overflow":"ellipsis"}],["text-clip",{"text-overflow":"clip"}]],mI=[["case-upper",{"text-transform":"uppercase"}],["case-lower",{"text-transform":"lowercase"}],["case-capital",{"text-transform":"capitalize"}],["case-normal",{"text-transform":"none"}],["uppercase",{"text-transform":"uppercase"}],["lowercase",{"text-transform":"lowercase"}],["capitalize",{"text-transform":"capitalize"}],["normal-case",{"text-transform":"none"}],...ut("case","text-transform")],vI=[["italic",{"font-style":"italic"}],["not-italic",{"font-style":"normal"}],["font-italic",{"font-style":"italic"}],["font-not-italic",{"font-style":"normal"}],["oblique",{"font-style":"oblique"}],["not-oblique",{"font-style":"normal"}],["font-oblique",{"font-style":"oblique"}],["font-not-oblique",{"font-style":"normal"}]],bI=[["antialiased",{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"}],["subpixel-antialiased",{"-webkit-font-smoothing":"auto","-moz-osx-font-smoothing":"auto"}]],yI=[...["manual","auto","none",...en].map(t=>[`hyphens-${t}`,{"-webkit-hyphens":t,"-ms-hyphens":t,hyphens:t}])],xI=[["write-vertical-right",{"writing-mode":"vertical-rl"}],["write-vertical-left",{"writing-mode":"vertical-lr"}],["write-normal",{"writing-mode":"horizontal-tb"}],...ut("write","writing-mode")],wI=[["write-orient-mixed",{"text-orientation":"mixed"}],["write-orient-sideways",{"text-orientation":"sideways"}],["write-orient-upright",{"text-orientation":"upright"}],...ut("write-orient","text-orientation")],_I=[["sr-only",{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0,0,0,0)","white-space":"nowrap","border-width":0}],["not-sr-only",{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto","white-space":"normal"}]],kI=[["isolate",{isolation:"isolate"}],["isolate-auto",{isolation:"auto"}],["isolation-auto",{isolation:"auto"}]],CI=[["object-cover",{"object-fit":"cover"}],["object-contain",{"object-fit":"contain"}],["object-fill",{"object-fit":"fill"}],["object-scale-down",{"object-fit":"scale-down"}],["object-none",{"object-fit":"none"}],[/^object-(.+)$/,([,t])=>{if(qr[t])return{"object-position":qr[t]};if(ne.bracketOfPosition(t)!=null)return{"object-position":ne.bracketOfPosition(t).split(" ").map(e=>ne.position.fraction.auto.px.cssvar(e)??e).join(" ")}},{autocomplete:`object-(${Object.keys(qr).join("|")})`}]],SI=[["bg-blend-multiply",{"background-blend-mode":"multiply"}],["bg-blend-screen",{"background-blend-mode":"screen"}],["bg-blend-overlay",{"background-blend-mode":"overlay"}],["bg-blend-darken",{"background-blend-mode":"darken"}],["bg-blend-lighten",{"background-blend-mode":"lighten"}],["bg-blend-color-dodge",{"background-blend-mode":"color-dodge"}],["bg-blend-color-burn",{"background-blend-mode":"color-burn"}],["bg-blend-hard-light",{"background-blend-mode":"hard-light"}],["bg-blend-soft-light",{"background-blend-mode":"soft-light"}],["bg-blend-difference",{"background-blend-mode":"difference"}],["bg-blend-exclusion",{"background-blend-mode":"exclusion"}],["bg-blend-hue",{"background-blend-mode":"hue"}],["bg-blend-saturation",{"background-blend-mode":"saturation"}],["bg-blend-color",{"background-blend-mode":"color"}],["bg-blend-luminosity",{"background-blend-mode":"luminosity"}],["bg-blend-normal",{"background-blend-mode":"normal"}],...ut("bg-blend","background-blend")],EI=[["mix-blend-multiply",{"mix-blend-mode":"multiply"}],["mix-blend-screen",{"mix-blend-mode":"screen"}],["mix-blend-overlay",{"mix-blend-mode":"overlay"}],["mix-blend-darken",{"mix-blend-mode":"darken"}],["mix-blend-lighten",{"mix-blend-mode":"lighten"}],["mix-blend-color-dodge",{"mix-blend-mode":"color-dodge"}],["mix-blend-color-burn",{"mix-blend-mode":"color-burn"}],["mix-blend-hard-light",{"mix-blend-mode":"hard-light"}],["mix-blend-soft-light",{"mix-blend-mode":"soft-light"}],["mix-blend-difference",{"mix-blend-mode":"difference"}],["mix-blend-exclusion",{"mix-blend-mode":"exclusion"}],["mix-blend-hue",{"mix-blend-mode":"hue"}],["mix-blend-saturation",{"mix-blend-mode":"saturation"}],["mix-blend-color",{"mix-blend-mode":"color"}],["mix-blend-luminosity",{"mix-blend-mode":"luminosity"}],["mix-blend-plus-lighter",{"mix-blend-mode":"plus-lighter"}],["mix-blend-normal",{"mix-blend-mode":"normal"}],...ut("mix-blend")],TI=[["min-h-dvh",{"min-height":"100dvh"}],["min-h-svh",{"min-height":"100svh"}],["min-h-lvh",{"min-height":"100lvh"}],["h-dvh",{height:"100dvh"}],["h-svh",{height:"100svh"}],["h-lvh",{height:"100lvh"}],["max-h-dvh",{"max-height":"100dvh"}],["max-h-svh",{"max-height":"100svh"}],["max-h-lvh",{"max-height":"100lvh"}]],OI=[["forced-color-adjust-auto",{"forced-color-adjust":"auto"}],["forced-color-adjust-none",{"forced-color-adjust":"none"}]],AI=[["field-sizing-fixed",{"field-sizing":"fixed"}],["field-sizing-content",{"field-sizing":"content"}]],MI=[[/^fill-(.+)$/,fn("fill","fill"),{autocomplete:"fill-$colors"}],[/^fill-op(?:acity)?-?(.+)$/,([,t])=>({"--un-fill-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"fill-(op|opacity)-<percent>"}],["fill-none",{fill:"none"}],[/^stroke-(?:width-|size-)?(.+)$/,Xk],[/^stroke-dash-(.+)$/,([,t])=>({"stroke-dasharray":ne.bracket.cssvar.number(t)}),{autocomplete:"stroke-dash-<num>"}],[/^stroke-offset-(.+)$/,([,t])=>({"stroke-dashoffset":ne.bracket.cssvar.px.numberWithUnit(t)})],[/^stroke-(.+)$/,$I,{autocomplete:"stroke-$colors"}],[/^stroke-op(?:acity)?-?(.+)$/,([,t])=>({"--un-stroke-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"stroke-(op|opacity)-<percent>"}],["stroke-cap-square",{"stroke-linecap":"square"}],["stroke-cap-round",{"stroke-linecap":"round"}],["stroke-cap-auto",{"stroke-linecap":"butt"}],["stroke-join-arcs",{"stroke-linejoin":"arcs"}],["stroke-join-bevel",{"stroke-linejoin":"bevel"}],["stroke-join-clip",{"stroke-linejoin":"miter-clip"}],["stroke-join-round",{"stroke-linejoin":"round"}],["stroke-join-auto",{"stroke-linejoin":"miter"}],["stroke-none",{stroke:"none"}]];function Xk([,t]){return{"stroke-width":ne.bracket.cssvar.fraction.px.number(t)}}function $I(t,e){return yc(ne.bracket(t[1]))?Xk(t):fn("stroke","stroke")(t,e)}const RI=[["inline-table",{display:"inline-table"}],["table",{display:"table"}],["table-caption",{display:"table-caption"}],["table-cell",{display:"table-cell"}],["table-column",{display:"table-column"}],["table-column-group",{display:"table-column-group"}],["table-footer-group",{display:"table-footer-group"}],["table-header-group",{display:"table-header-group"}],["table-row",{display:"table-row"}],["table-row-group",{display:"table-row-group"}],["border-collapse",{"border-collapse":"collapse"}],["border-separate",{"border-collapse":"separate"}],[/^border-spacing-(.+)$/,function*([,t],{theme:e}){const n=Ny(t,e);if(n!=null){yield{"--un-border-spacing-x":n,"--un-border-spacing-y":n,"border-spacing":"var(--un-border-spacing-x) var(--un-border-spacing-y)"};for(const r of["x","y"])yield Be(`--un-border-spacing-${r}`,{syntax:"<length>",initialValue:"0"})}},{autocomplete:["border-spacing","border-spacing-$spacing"]}],[/^border-spacing-([xy])-(.+)$/,function*([,t,e],{theme:n}){const r=Ny(e,n);if(r!=null){yield{[`--un-border-spacing-${t}`]:r,"border-spacing":"var(--un-border-spacing-x) var(--un-border-spacing-y)"};for(const o of["x","y"])yield Be(`--un-border-spacing-${o}`,{syntax:"<length>",initialValue:"0"})}},{autocomplete:["border-spacing-(x|y)","border-spacing-(x|y)-$spacing"]}],["caption-top",{"caption-side":"top"}],["caption-bottom",{"caption-side":"bottom"}],["table-auto",{"table-layout":"auto"}],["table-fixed",{"table-layout":"fixed"}],["table-empty-cells-visible",{"empty-cells":"show"}],["table-empty-cells-hidden",{"empty-cells":"hide"}]];function Ny(t,e){let n=e.spacing?.[t];if(!n){const r=Co(t);r!=null?(lt("spacing"),n=`calc(var(--spacing) * ${r})`):n=ne.bracket.cssvar.global.auto.fraction.rem(t)}return n}const xp="var(--un-pan-x) var(--un-pan-y) var(--un-pinch-zoom)",wp=["pan-x","pan-y","pinch-zoom"].map(t=>Be(`--un-${t}`)),DI=[[/^touch-pan-(x|left|right)$/,function*([,t]){yield{"--un-pan-x":`pan-${t}`,"touch-action":xp};for(const e of wp)yield e},{autocomplete:["touch-pan","touch-pan-(x|left|right|y|up|down)"]}],[/^touch-pan-(y|up|down)$/,function*([,t]){yield{"--un-pan-y":`pan-${t}`,"touch-action":xp};for(const e of wp)yield e}],[/^touch-pinch-zoom$/,function*(){yield{"--un-pinch-zoom":"pinch-zoom","touch-action":xp};for(const t of wp)yield t}],["touch-auto",{"touch-action":"auto"}],["touch-manipulation",{"touch-action":"manipulation"}],["touch-none",{"touch-action":"none"}],...ut("touch","touch-action")],eu=["translate","rotate","scale"],N0=["var(--un-rotate-x)","var(--un-rotate-y)","var(--un-rotate-z)","var(--un-skew-x)","var(--un-skew-y)"].join(" "),j0=N0,PI=["translateZ(0)",N0].join(" "),LI=[[/^(?:transform-)?origin-(.+)$/,([,t])=>({"transform-origin":qr[t]??ne.bracket.cssvar(t)}),{autocomplete:[`transform-origin-(${Object.keys(qr).join("|")})`,`origin-(${Object.keys(qr).join("|")})`]}],[/^(?:transform-)?perspect(?:ive)?-(.+)$/,([,t],{theme:e})=>{let n;if(e.perspective?.[t]?(lt("perspective",t),n=Jt("perspective",t)):n=ne.bracket.cssvar.px.numberWithUnit(t),n!=null)return{perspective:n}},{autocomplete:["transform-perspective-<num>","perspective-<num>","perspective-$perspective"]}],[/^(?:transform-)?perspect(?:ive)?-origin-(.+)$/,([,t])=>{const e=ne.bracket.cssvar(t)??(t.length>=3?qr[t]:void 0);if(e!=null)return{"perspective-origin":e}}],[/^(?:transform-)?translate-()(.+)$/,jy],[/^(?:transform-)?translate-([xyz])-(.+)$/,jy],[/^(?:transform-)?rotate-()(.+)$/,zy],[/^(?:transform-)?rotate-([xyz])-(.+)$/,zy],[/^(?:transform-)?skew-()(.+)$/,Uy],[/^(?:transform-)?skew-([xy])-(.+)$/,Uy,{autocomplete:["transform-skew-(x|y)-<percent>","skew-(x|y)-<percent>"]}],[/^(?:transform-)?scale-()(.+)$/,By],[/^(?:transform-)?scale-([xyz])-(.+)$/,By,{autocomplete:[`transform-(${eu.join("|")})-<percent>`,`transform-(${eu.join("|")})-(x|y|z)-<percent>`,`(${eu.join("|")})-<percent>`,`(${eu.join("|")})-(x|y|z)-<percent>`]}],["transform-3d",{"transform-style":"preserve-3d"}],["transform-flat",{"transform-style":"flat"}],[/^transform-(border|content|fill|stroke|view)$/,([,t])=>({"transform-box":`${t}-box`})],["transform",{transform:j0}],["transform-cpu",{transform:N0}],["transform-gpu",{transform:PI}],["transform-none",{transform:"none"}],...ut("transform")];function jy([,t,e]){const n=Co(e)??ne.bracket.cssvar.none.fraction.rem(e);if(n!=null)return n==="none"?{translate:"none"}:(lt("spacing"),[[...B0(t,typeof n=="number"?`calc(var(--spacing) * ${n})`:n,"translate"),["translate",`var(--un-translate-x) var(--un-translate-y)${t==="z"?" var(--un-translate-z)":""}`,Zg]],...["x","y","z"].map(r=>Be(`--un-translate-${r}`,{initialValue:0}))])}function By([,t,e]){const n=ne.bracket.cssvar.none.fraction.percent(e);if(n!=null)return n==="none"?{scale:"none"}:[[...B0(t,n,"scale"),["scale",`var(--un-scale-x) var(--un-scale-y)${t==="z"?" var(--un-scale-z)":""}`]],...["x","y","z"].map(r=>Be(`--un-scale-${r}`,{initialValue:1}))]}function zy([,t="",e]){const n=ne.bracket.cssvar.none.degree(e);if(n!=null)return n==="none"?{rotate:"none"}:t?[[...B0(t,n.endsWith("deg")?`rotate${t.toUpperCase()}(${n})`:n,"rotate"),["transform",j0]],...["x","y","z"].map(r=>Be(`--un-rotate-${r}`,{initialValue:`rotate${r.toUpperCase()}(0)`})),...["x","y"].map(r=>Be(`--un-skew-${r}`,{initialValue:`skew${r.toUpperCase()}(0)`}))]:{rotate:ne.bracket.cssvar.degree(e)}}function Uy([,t,e]){const n=ne.bracket.cssvar.degree(e),r=Tk[t];if(n!=null&&r)return[[...r.map(o=>[`--un-skew${o}`,n.endsWith("deg")?`skew${o.slice(1).toUpperCase()}(${n})`:n]),["transform",j0]],...["x","y","z"].map(o=>Be(`--un-rotate-${o}`,{initialValue:`rotate${o.toUpperCase()}(0)`})),...["x","y"].map(o=>Be(`--un-skew-${o}`,{initialValue:`skew${o.toUpperCase()}(0)`}))]}function B0(t,e,n){const r=e.split(iP);return t||!t&&r.length===1?Tk[t].map(o=>[`--un-${n}${o}`,e]):r.map((o,i)=>[`--un-${n}-${rP[i]}`,o])}function Hy(t,e){let n;if(ne.cssvar(t)!=null)n=ne.cssvar(t);else{t.startsWith("[")&&t.endsWith("]")&&(t=t.slice(1,-1));const r=t.split(",").map(o=>e.property?.[o]??ne.properties(o));r.every(Boolean)&&(n=r.join(","))}return n}const FI=[[/^transition(?:-(\D+?))?(?:-(\d+))?$/,([,t,e],{theme:n})=>{lt("default",["transition","timingFunction"]),lt("default",["transition","duration"]);const r={"transition-property":n.property?.DEFAULT,"transition-timing-function":`var(--un-ease, ${Jt("default",["transition","timingFunction"])})`,"transition-duration":`var(--un-duration, ${Jt("default",["transition","duration"])})`};if(!t&&!e)return{...r};if(t!=null){const o=Hy(t,n);if(o)return{"--un-duration":e&&ne.time(e),...r,"transition-property":o}}else if(e!=null)return{"--un-duration":ne.time(e),...r}}],[/^(?:transition-)?duration-(.+)$/,([,t])=>({"--un-duration":ne.bracket.cssvar.time(t),"transition-duration":ne.bracket.cssvar.time(t)})],[/^(?:transition-)?delay-(.+)$/,([,t])=>({"transition-delay":ne.bracket.cssvar.time(t)})],[/^(?:transition-)?ease(?:-(.+))?$/,([,t="DEFAULT"],{theme:e})=>{let n;return e.ease?.[t]?(lt("ease",t),n=Jt("ease",t)):n=ne.bracket.cssvar(t),[{"--un-ease":n,"transition-timing-function":n},Be("--un-ease")]},{autocomplete:["transition-ease-(linear|in|out|in-out)","ease-(linear|in|out|in-out)"]}],[/^(?:transition-)?property-(.+)$/,([,t],{theme:e})=>{const n=ne.global(t)||Hy(t,e);if(n)return{"transition-property":n}},{autocomplete:[`transition-property-(${[...en].join("|")})`]}],["transition-none",{transition:"none"}],...ut("transition"),["transition-discrete",{"transition-behavior":"allow-discrete"}],["transition-normal",{"transition-behavior":"normal"}]],II=[[/^text-(.+)$/,HI,{autocomplete:"text-$text"}],[/^(?:text|font)-size-(.+)$/,Yk,{autocomplete:"text-size-$text"}],[/^text-(?:color-)?(.+)$/,WI,{autocomplete:"text-$colors"}],[/^(?:color|c)-(.+)$/,fn("color","text")],[/^(?:text|color|c)-(.+)$/,([,t])=>en.includes(t)?{color:t}:void 0,{autocomplete:`(text|color|c)-(${en.join("|")})`}],[/^(?:text|color|c)-op(?:acity)?-?(.+)$/,([,t])=>({"--un-text-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"(text|color|c)-(op|opacity)-<percent>"}],[/^fw-?([^-]+)$/,([,t],{theme:e})=>{let n;return e.fontWeight?.[t]?(lt("fontWeight",t),n=Jt("fontWeight",t)):n=ne.bracket.cssvar.global.number(t),{"--un-font-weight":n,"font-weight":n}},{autocomplete:["(font|fw)-(100|200|300|400|500|600|700|800|900)","(font|fw)-$fontWeight"]}],[/^(?:font-)?(?:leading|lh|line-height)-(.+)$/,([,t],{theme:e})=>{let n;if(e.leading?.[t]?(lt("leading",t),n=Jt("leading",t)):Co(t)?(lt("spacing"),n=`calc(var(--spacing) * ${Co(t)})`):n=ne.bracket.cssvar.global.rem(t),n!=null)return[{"--un-leading":n,"line-height":n},Be("--un-leading")]},{autocomplete:"(leading|lh|line-height)-$leading"}],["font-synthesis-weight",{"font-synthesis":"weight"}],["font-synthesis-style",{"font-synthesis":"style"}],["font-synthesis-small-caps",{"font-synthesis":"small-caps"}],["font-synthesis-none",{"font-synthesis":"none"}],[/^font-synthesis-(.+)$/,([,t])=>({"font-synthesis":ne.bracket.cssvar.global(t)})],[/^(?:font-)?tracking-(.+)$/,([,t],{theme:e})=>{let n;return e.tracking?.[t]?(lt("tracking",t),n=Jt("tracking",t)):n=ne.bracket.cssvar.global.rem(t),{"--un-tracking":n,"letter-spacing":n}},{autocomplete:"tracking-$tracking"}],[/^(?:font-)?word-spacing-(.+)$/,([,t],{theme:e})=>{const n=e.tracking?.[t]?Jt("tracking",t):ne.bracket.cssvar.global.rem(t);return{"--un-word-spacing":n,"word-spacing":n}},{autocomplete:"word-spacing-$spacing"}],["font-stretch-normal",{"font-stretch":"normal"}],["font-stretch-ultra-condensed",{"font-stretch":"ultra-condensed"}],["font-stretch-extra-condensed",{"font-stretch":"extra-condensed"}],["font-stretch-condensed",{"font-stretch":"condensed"}],["font-stretch-semi-condensed",{"font-stretch":"semi-condensed"}],["font-stretch-semi-expanded",{"font-stretch":"semi-expanded"}],["font-stretch-expanded",{"font-stretch":"expanded"}],["font-stretch-extra-expanded",{"font-stretch":"extra-expanded"}],["font-stretch-ultra-expanded",{"font-stretch":"ultra-expanded"}],[/^font-stretch-(.+)$/,([,t])=>({"font-stretch":ne.bracket.cssvar.fraction.global(t)}),{autocomplete:"font-stretch-<percentage>"}],[/^font-(.+)$/,([,t],{theme:e})=>{let n;if(e.font?.[t])return lt("font",t),n=Jt("font",t),{"font-family":n};if(e.fontWeight?.[t])return lt("fontWeight",t),n=Jt("fontWeight",t),{"--un-font-weight":n,"font-weight":n};if(n=ne.number(t),n!=null)return{"--un-font-weight":n,"font-weight":n};if(n=ne.bracketOfFamily(t),n!=null&&ne.number(n)==null)return n=ne.cssvar(n)??n,{"font-family":n};if(n=ne.bracketOfNumber(t),n!=null)return n=ne.cssvar.number(n),{"--un-font-weight":n,"font-weight":n};if(n=ne.bracket(t),n!=null&&ne.number(n)!=null){const r=ne.number(n);return{"--un-font-weight":r,"font-weight":r}}if(n=ne.bracket.cssvar.global(t),n!=null)return{"font-family":n}},{autocomplete:["font-$font","font-$fontWeight"]}]],NI=[[/^tab(?:-(.+))?$/,([,t])=>{const e=ne.bracket.cssvar.global.number(t||"4");if(e!=null)return{"-moz-tab-size":e,"-o-tab-size":e,"tab-size":e}}]],jI=[[/^indent-(.+)$/,([,t])=>{let e=Co(t);if(e!=null)return lt("spacing"),{"text-indent":`calc(var(--spacing) * ${e})`};if(e=ne.bracket.cssvar.auto.global.rem(t),e!=null)return{"text-indent":e}}]],BI=[[/^text-stroke(?:-(.+))?$/,([,t="DEFAULT"],{theme:e})=>(e.textStrokeWidth?.[t]&&lt("textStrokeWidth",t),{"-webkit-text-stroke-width":e.textStrokeWidth?.[t]?Jt("textStrokeWidth",t):ne.bracket.cssvar.px(t)}),{autocomplete:"text-stroke-$textStrokeWidth"}],[/^text-stroke-(.+)$/,fn("-webkit-text-stroke-color","text-stroke"),{autocomplete:"text-stroke-$colors"}],[/^text-stroke-op(?:acity)?-?(.+)$/,([,t])=>({"--un-text-stroke-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"text-stroke-(op|opacity)-<percent>"}]],Wy=/op(?:acity)?-/,zI=[[/^text-shadow(?:-(.+))?$/,(t,e)=>{const[n,r="DEFAULT"]=t,o=e.theme.textShadow?.[r];return o!=null?{"--un-text-shadow":F0(o,"--un-text-shadow-color").join(","),"text-shadow":"var(--un-text-shadow)"}:Wy.test(r)?{"--un-text-shadow-opacity":ne.bracket.percent.cssvar(r.replace(Wy,""))}:fn("--un-text-shadow-color","text-shadow")(t,e)??{"text-shadow":ne.bracket.cssvar.global(r)}},{autocomplete:["text-shadow-$textShadow","text-shadow(-color)?-$colors","text-shadow(-color)?-(op|opacity)-<percent>"]}],[/^text-shadow-color-(.+)$/,fn("--un-text-shadow-color","text-shadow"),{autocomplete:"text-shadow-color-$colors"}],[/^text-shadow-color-op(?:acity)?-?(.+)$/,([,t])=>({"--un-text-shadow-opacity":ne.bracket.percent.cssvar(t)}),{autocomplete:"text-shadow-color-(op|opacity)-<percent>"}]],pi=[Be("--un-ordinal"),Be("--un-slashed-zero"),Be("--un-numeric-figure"),Be("--un-numeric-spacing"),Be("--un-numeric-fraction")],gi={"font-variant-numeric":"var(--un-ordinal) var(--un-slashed-zero) var(--un-numeric-figure) var(--un-numeric-spacing) var(--un-numeric-fraction)"},UI=[["ordinal",[{"--un-ordinal":"ordinal",...gi},...pi]],["slashed-zero",[{"--un-slashed-zero":"slashed-zero",...gi},...pi]],["lining-nums",[{"--un-numeric-figure":"lining-nums",...gi},...pi]],["oldstyle-nums",[{"--un-numeric-figure":"oldstyle-nums",...gi},...pi]],["proportional-nums",[{"--un-numeric-spacing":"proportional-nums",...gi},...pi]],["tabular-nums",[{"--un-numeric-spacing":"tabular-nums",...gi},...pi]],["diagonal-fractions",[{"--un-numeric-fraction":"diagonal-fractions",...gi},...pi]],["stacked-fractions",[{"--un-numeric-fraction":"stacked-fractions",...gi},...pi]],["normal-nums",[{"font-variant-numeric":"normal"}]]];function HI([,t="base"],{theme:e}){const n=VI(t,"length");if(!n)return;const[r,o]=n,i=e.text?.[r];let a;if(o&&(e.leading?.[o]?(lt("leading",o),a=Jt("leading",o)):a=ne.bracket.cssvar.global.rem(o)),i)return lt("text",[r,"fontSize"]),lt("text",[r,"lineHeight"]),i.letterSpacing&&lt("text",[r,"letterSpacing"]),{"font-size":Jt("text",[r,"fontSize"]),"line-height":a??`var(--un-leading, ${Jt("text",[r,"lineHeight"])})`,"letter-spacing":i.letterSpacing?Jt("text",[r,"letterSpacing"]):void 0};const s=ne.bracketOfLength.rem(r);return a&&s?{"font-size":s,"line-height":a}:{"font-size":ne.bracketOfLength.rem(t)}}function Yk([,t],{theme:e}){if(e.text?.[t]!=null)return lt("text",[t,"fontSize"]),lt("text",[t,"lineHeight"]),{"font-size":Jt("text",[t,"fontSize"]),"line-height":`var(--un-leading, ${Jt("text",[t,"lineHeight"])})`};{const n=ne.bracket.cssvar.global.rem(t);if(n)return{"font-size":n}}}function WI(t,e){return yc(ne.bracket(t[1]))?Yk(t,e):fn("color","text")(t,e)}function VI(t,e){const[n,r]=Lh(t,"[","]",["/",":"])??[];if(n!=null){const o=(n.match(L0)??[])[1];if(o==null||o===e)return[n,r]}}const XI={backface:"backface-visibility",break:"word-break",case:"text-transform",content:"align-content",fw:"font-weight",items:"align-items",justify:"justify-content",select:"user-select",self:"align-self",vertical:"vertical-align",visible:"visibility",whitespace:"white-space",ws:"white-space","bg-blend":"background-blend-mode","bg-clip":"-webkit-background-clip","bg-image":"background-image","bg-origin":"background-origin","bg-position":"background-position","bg-repeat":"background-repeat","bg-size":"background-size","mix-blend":"mix-blend-mode",object:"object-fit","object-position":"object-position",write:"writing-mode","write-orient":"text-orientation"},YI=[[/^(.+?)-(\$.+)$/,([,t,e])=>{const n=XI[t];if(n)return{[n]:ne.cssvar(e)}}]],GI=[[/^\[(.*)\]$/,([t,e])=>{if(!e.includes(":"))return;const[n,...r]=e.split(":"),o=r.join(":");if(!KI(e)&&/^[\w-]+$/.test(n)&&qI(o)){const i=ne.bracket(`[${o}]`);if(i)return{[n]:i}}}]];function qI(t){let e=0;function n(r){for(;e<t.length;)if(e+=1,t[e]===r)return!0;return!1}for(e=0;e<t.length;e++){const r=t[e];if("\"`'".includes(r)){if(!n(r))return!1}else if(r==="("){if(!n(")"))return!1}else if("[]{}:".includes(r))return!1}return!0}function KI(t){if(!t.includes("://"))return!1;try{return new URL(t).host!==""}catch{return!1}}const ZI=[[/^view-transition-([\w-]+)$/,([,t])=>({"view-transition-name":t})]],JI=[II,NI,jI,BI,zI,TF,EF,QL,JL,iF,$y,Ry,sF,lF,cF,uF,dF,$y,hF,Ry,fF,wF,gF,_F,qL,YL,CF,PF,LF,IF,QF,tI,rI,oI,iI,aI,sI,lI,cI,uI,dI,hI,fI,pI,gI,mI,vI,bI,KF,qF,LI,FI,YI,GI,Wk,YF,HF,VF,WF,Hk,UF,Vk,zF,XF,NF,MI,eF,rF,yI,xI,wI,OI,_I,kI,CI,SI,EI,TI,kF,DF,jF,BF,ZF,RI,DI,UI,ZI,OF,MF,AI,GF].flat();function QI(){return{getCSS:()=>{if(Ss.size>0){const t="@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b))))",e="*, ::before, ::after, ::backdrop",n=Array.from(Ss.entries()).map(([r,o])=>`${r}:${o};`).join("");return`${t}{${e}{${n}}}`}},layer:"properties"}}const eN=`
/*
  1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)
  2. Remove default margins and padding
  3. Reset all borders.
*/

*,
::after,
::before,
::backdrop,
::file-selector-button {
  box-sizing: border-box; /* 1 */
  margin: 0; /* 2 */
  padding: 0; /* 2 */
  border: 0 solid; /* 3 */
}

/*
  1. Use a consistent sensible line-height in all browsers.
  2. Prevent adjustments of font size after orientation changes in iOS.
  3. Use a more readable tab size.
  4. Use the user's configured \`sans\` font-family by default.
  5. Use the user's configured \`sans\` font-feature-settings by default.
  6. Use the user's configured \`sans\` font-variation-settings by default.
  7. Disable tap highlights on iOS.
*/

html,
:host {
  line-height: 1.5; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
  tab-size: 4; /* 3 */
  font-family: var(
    --default-font-family,
    ui-sans-serif,
    system-ui,
    sans-serif,
    'Apple Color Emoji',
    'Segoe UI Emoji',
    'Segoe UI Symbol',
    'Noto Color Emoji'
  ); /* 4 */
  font-feature-settings: var(--default-font-featureSettings, normal); /* 5 */
  font-variation-settings: var(--default-font-variationSettings, normal); /* 6 */
  -webkit-tap-highlight-color: transparent; /* 7 */
}

/*
  1. Add the correct height in Firefox.
  2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)
  3. Reset the default border style to a 1px solid border.
*/

hr {
  height: 0; /* 1 */
  color: inherit; /* 2 */
  border-top-width: 1px; /* 3 */
}

/*
  Add the correct text decoration in Chrome, Edge, and Safari.
*/

abbr:where([title]) {
  -webkit-text-decoration: underline dotted;
  text-decoration: underline dotted;
}

/*
  Remove the default font size and weight for headings.
*/

h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: inherit;
  font-weight: inherit;
}

/*
  Reset links to optimize for opt-in styling instead of opt-out.
*/

a {
  color: inherit;
  -webkit-text-decoration: inherit;
  text-decoration: inherit;
}

/*
  Add the correct font weight in Edge and Safari.
*/

b,
strong {
  font-weight: bolder;
}

/*
  1. Use the user's configured \`mono\` font-family by default.
  2. Use the user's configured \`mono\` font-feature-settings by default.
  3. Use the user's configured \`mono\` font-variation-settings by default.
  4. Correct the odd \`em\` font sizing in all browsers.
*/

code,
kbd,
samp,
pre {
  font-family: var(
    --default-monoFont-family,
    ui-monospace,
    SFMono-Regular,
    Menlo,
    Monaco,
    Consolas,
    'Liberation Mono',
    'Courier New',
    monospace
  ); /* 1 */
  font-feature-settings: var(--default-monoFont-featureSettings, normal); /* 2 */
  font-variation-settings: var(--default-monoFont-variationSettings, normal); /* 3 */
  font-size: 1em; /* 4 */
}

/*
  Add the correct font size in all browsers.
*/

small {
  font-size: 80%;
}

/*
  Prevent \`sub\` and \`sup\` elements from affecting the line height in all browsers.
*/

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub {
  bottom: -0.25em;
}

sup {
  top: -0.5em;
}

/*
  1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)
  2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)
  3. Remove gaps between table borders by default.
*/

table {
  text-indent: 0; /* 1 */
  border-color: inherit; /* 2 */
  border-collapse: collapse; /* 3 */
}

/*
  Use the modern Firefox focus style for all focusable elements.
*/

:-moz-focusring {
  outline: auto;
}

/*
  Add the correct vertical alignment in Chrome and Firefox.
*/

progress {
  vertical-align: baseline;
}

/*
  Add the correct display in Chrome and Safari.
*/

summary {
  display: list-item;
}

/*
  Make lists unstyled by default.
*/

ol,
ul,
menu {
  list-style: none;
}

/*
  1. Make replaced elements \`display: block\` by default. (https://github.com/mozdevs/cssremedy/issues/14)
  2. Add \`vertical-align: middle\` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)
      This can trigger a poorly considered lint error in some tools but is included by design.
*/

img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
  display: block; /* 1 */
  vertical-align: middle; /* 2 */
}

/*
  Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)
*/

img,
video {
  max-width: 100%;
  height: auto;
}

/*
  1. Inherit font styles in all browsers.
  2. Remove border radius in all browsers.
  3. Remove background color in all browsers.
  4. Ensure consistent opacity for disabled states in all browsers.
*/

button,
input,
select,
optgroup,
textarea,
::file-selector-button {
  font: inherit; /* 1 */
  font-feature-settings: inherit; /* 1 */
  font-variation-settings: inherit; /* 1 */
  letter-spacing: inherit; /* 1 */
  color: inherit; /* 1 */
  border-radius: 0; /* 2 */
  background-color: transparent; /* 3 */
  opacity: 1; /* 4 */
}

/*
  Restore default font weight.
*/

:where(select:is([multiple], [size])) optgroup {
  font-weight: bolder;
}

/*
  Restore indentation.
*/

:where(select:is([multiple], [size])) optgroup option {
  padding-inline-start: 20px;
}

/*
  Restore space after button.
*/

::file-selector-button {
  margin-inline-end: 4px;
}

/*
  Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)
*/

::placeholder {
  opacity: 1;
}

/*
  Set the default placeholder color to a semi-transparent version of the current text color in browsers that do not
  crash when using \`color-mix(…)\` with \`currentcolor\`. (https://github.com/tailwindlabs/tailwindcss/issues/17194)
*/

@supports (not (-webkit-appearance: -apple-pay-button)) /* Not Safari */ or
  (contain-intrinsic-size: 1px) /* Safari 17+ */ {
  ::placeholder {
    color: color-mix(in oklab, currentcolor 50%, transparent);
  }
}

/*
  Prevent resizing textareas horizontally by default.
*/

textarea {
  resize: vertical;
}

/*
  Remove the inner padding in Chrome and Safari on macOS.
*/

::-webkit-search-decoration {
  -webkit-appearance: none;
}

/*
  1. Ensure date/time inputs have the same height when empty in iOS Safari.
  2. Ensure text alignment can be changed on date/time inputs in iOS Safari.
*/

::-webkit-date-and-time-value {
  min-height: 1lh; /* 1 */
  text-align: inherit; /* 2 */
}

/*
  Prevent height from changing on date/time inputs in macOS Safari when the input is set to \`display: block\`.
*/

::-webkit-datetime-edit {
  display: inline-flex;
}

/*
  Remove excess padding from pseudo-elements in date/time inputs to ensure consistent height across browsers.
*/

::-webkit-datetime-edit-fields-wrapper {
  padding: 0;
}

::-webkit-datetime-edit,
::-webkit-datetime-edit-year-field,
::-webkit-datetime-edit-month-field,
::-webkit-datetime-edit-day-field,
::-webkit-datetime-edit-hour-field,
::-webkit-datetime-edit-minute-field,
::-webkit-datetime-edit-second-field,
::-webkit-datetime-edit-millisecond-field,
::-webkit-datetime-edit-meridiem-field {
  padding-block: 0;
}

/*
  Remove the additional \`:invalid\` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)
*/

:-moz-ui-invalid {
  box-shadow: none;
}

/*
  Correct the inability to style the border radius in iOS Safari.
*/

button,
input:where([type='button'], [type='reset'], [type='submit']),
::file-selector-button {
  appearance: button;
}

/*
  Correct the cursor style of increment and decrement buttons in Safari.
*/

::-webkit-inner-spin-button,
::-webkit-outer-spin-button {
  height: auto;
}

/*
  Make elements with the HTML hidden attribute stay hidden by default.
*/

[hidden]:where(:not([hidden='until-found'])) {
  display: none !important;
}
`;function tN(t){if(t.preflights?.reset!==!1)return{getCSS:({generator:e})=>(lt("font","sans"),lt("font","mono"),lt("default",["font","family"]),lt("default",["monoFont","family"]),Dk(eN,e.config.envMode==="dev")),layer:"base"}}const nN=["spacing","breakpoint","verticalBreakpoint","shadow","insetShadow","dropShadow","textShadow","animation","property","aria","media","supports"];function rN(t,e){const n=new Map([["--spacing",t.spacing.DEFAULT]]),r=i=>i.replace(wk,"1");function o(i,a){for(const s in i)Array.isArray(i[s])?n.set(`--${a}-${s}`,r(i[s].join(","))):typeof i[s]=="object"?o(i[s],`${a}-${s}`):n.set(`--${a}-${s}`,r(i[s]))}for(const i in t)e.includes(i)&&o(t[i],i);return n}function oN(t){return{layer:"theme",getCSS(e){const{theme:n,generator:r}=e,o=Wr(r.config.safelist.flatMap(c=>typeof c=="function"?c(e):c)),{mode:i,process:a}=t.preflights.theme;if(i===!1)return;if(o.length>0)for(const c of o){const[u,...h]=c.trim().split(":");if(u in n&&h.length<=1){const f=h.length===0?["DEFAULT"]:h[0].split("-"),p=Pd(n,u,f);typeof p=="string"&&(lt(u,f),jh(p,n))}}let s;const l=c=>{if(a)for(const f of c)for(const p of zt(a))p(f,e);const u=c.map(([f,p])=>f&&p?`${f}: ${p};`:void 0).filter(Boolean);if(u.length===0)return;const h=u.join(`
`);return Dk(`
:root, :host {
${h}
}`,r.config.envMode==="dev")};if(i==="on-demand"){if(Cs.size===0)return;s=Array.from(Cs).map(c=>{const[u,h]=c.split(":"),f=Pd(n,u,h.split("-"));if(typeof f=="string")return[`--${u}${`${u==="spacing"&&h==="DEFAULT"?"":`-${h}`}`}`,f]}).filter(Boolean)}else{const c=Object.keys(n).filter(u=>!nN.includes(u));s=Array.from(rN(n,c))}return l(s)}}}const iN=t=>[tN(t),oN(t),QI()].filter(Boolean),aN={position:["relative","absolute","fixed","sticky","static"],globalKeyword:en},sN=(t={})=>{t.dark=t.dark??"class",t.attributifyPseudo=t.attributifyPseudo??!1,t.variablePrefix=t.variablePrefix??"un-",t.important=t.important??!1;const e=typeof t.preflights?.theme=="boolean"||typeof t.preflights?.theme=="string"?{mode:t.preflights.theme??"on-demand"}:{mode:t.preflights?.theme?.mode??"on-demand",...t.preflights?.theme};return t.preflights={reset:t.preflights?.reset??!0,theme:e},{name:nP,rules:JI,shortcuts:ZL,theme:XL,layers:{properties:-200,theme:-150,base:-100},preflights:iN(t),variants:_L(t),prefix:t.prefix,postprocess:PP(t),extractorDefault:t.arbitraryVariants===!1?void 0:tP(),autocomplete:{shorthands:aN},options:t,configResolved(){Cs.clear(),Ss.clear()},meta:{themeDeps:Cs,propertyDeps:Ss}}},lN="en",cN={_default:"The {field} is not valid",alpha:"The {field} field may only contain alphabetic characters",alpha_num:"The {field} field may only contain alpha-numeric characters",alpha_dash:"The {field} field may contain alpha-numeric characters as well as dashes and underscores",alpha_spaces:"The {field} field may only contain alphabetic characters as well as spaces",between:"The {field} field must be between 0:{min} and 1:{max}",confirmed:"The {field} field confirmation does not match",digits:"The {field} field must be numeric and exactly contain 0:{length} digits",dimensions:"The {field} field must be 0:{width} pixels by 1:{height} pixels",email:"The {field} field must be a valid email",not_one_of:"The {field} field is not a valid value",ext:"The {field} field is not a valid file",image:"The {field} field must be an image",integer:"The {field} field must be an integer",length:"The {field} field must be 0:{length} long",max_value:"The {field} field must be 0:{max} or less",max:"The {field} field may not be greater than 0:{length} characters",mimes:"The {field} field must have a valid file type",min_value:"The {field} field must be 0:{min} or more",min:"The {field} field must be at least 0:{length} characters",numeric:"The {field} field may only contain numeric characters",one_of:"The {field} field is not a valid value",regex:"The {field} field format is invalid",required_if:"The {field} field is required",required:"The {field} field is required",size:"The {field} field size must be less than 0:{size}KB",url:"The {field} field is not a valid URL"},uN={code:lN,messages:cN},dN="zh_CN",hN={_default:"{field}不是一个有效值",alpha:"{field}只能包含字母字符",alpha_dash:"{field}能够包含字母数字字符、破折号和下划线",alpha_num:"{field}只能包含字母数字字符",alpha_spaces:"{field}只能包含字母字符和空格",between:"{field}必须在0:{min}与1:{max}之间",confirmed:"{field}不能和0:{target}匹配",digits:"{field}必须是数字，且精确到0:{length}位数",dimensions:"{field}必须在0:{width}像素与1:{height}像素之间",email:"{field}不是一个有效的邮箱",not_one_of:"{field}不是一个有效值",ext:"{field}不是一个有效的文件",image:"{field}不是一张有效的图片",one_of:"{field}不是一个有效值",integer:"{field}必须是整数",length:"{field}长度必须为0:{length}",max:"{field}不能超过0:{length}个字符",max_value:"{field}必须小于或等于0:{max}",mimes:"{field}不是一个有效的文件类型",min:"{field}必须至少有0:{length}个字符",min_value:"{field}必须大于或等于0:{min}",numeric:"{field}只能包含数字字符",regex:"{field}格式无效",required:"{field}是必须的",required_if:"{field}是必须的",size:"{field}必须小于0:{size}KB",url:"{field}不是一个有效的URL"},fN={code:dN,messages:hN};var Vy;const Gk=typeof window<"u",pN=t=>typeof t=="string",Ju=()=>{};Gk&&(Vy=window?.navigator)!=null&&Vy.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function tm(t){return typeof t=="function"?t():_e(t)}function gN(t,e){function n(...r){t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})}return n}function mN(t,e={}){let n,r;return o=>{const i=tm(t),a=tm(e.maxWait);if(n&&clearTimeout(n),i<=0||a!==void 0&&a<=0)return r&&(clearTimeout(r),r=null),o();a&&!r&&(r=setTimeout(()=>{n&&clearTimeout(n),r=null,o()},a)),n=setTimeout(()=>{r&&clearTimeout(r),r=null,o()},i)}}function vN(t){return t}function bN(t){return Wm()?(bo(t),!0):!1}function yN(t,e=200,n={}){return gN(mN(e,n),t)}function _p(t,e=200,n={}){if(e<=0)return t;const r=re(t.value),o=yN(()=>{r.value=t.value},e,n);return pe(t,()=>o()),r}function qk(t,e,n){return pe(t,(r,o,i)=>{r&&e(r,o,i)},n)}function xN(t){var e;const n=tm(t);return(e=n?.$el)!=null?e:n}const Kk=Gk?window:void 0;function tu(...t){let e,n,r,o;if(pN(t[0])?([n,r,o]=t,e=Kk):[e,n,r,o]=t,!e)return Ju;let i=Ju;const a=pe(()=>xN(e),l=>{i(),l&&(l.addEventListener(n,r,o),i=()=>{l.removeEventListener(n,r,o),i=Ju})},{immediate:!0,flush:"post"}),s=()=>{a(),i()};return bN(s),s}const Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yy="__vueuse_ssr_handlers__";Xy[Yy]=Xy[Yy]||{};const wN={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function _N(t={}){const{reactive:e=!1,target:n=Kk,aliasMap:r=wN,passive:o=!0,onEventFired:i=Ju}=t,a=Pn(new Set),s={toJSON(){return{}},current:a},l=e?Pn(s):s,c=new Set,u=new Set;function h(v,g){v in l&&(e?l[v]=g:l[v].value=g)}function f(){for(const v of u)h(v,!1)}function p(v,g){var b,y;const x=(b=v.key)==null?void 0:b.toLowerCase(),w=[(y=v.code)==null?void 0:y.toLowerCase(),x].filter(Boolean);x&&(g?a.add(x):a.delete(x));for(const _ of w)u.add(_),h(_,g);x==="meta"&&!g?(c.forEach(_=>{a.delete(_),h(_,!1)}),c.clear()):typeof v.getModifierState=="function"&&v.getModifierState("Meta")&&g&&[...a,...w].forEach(_=>c.add(_))}tu(n,"keydown",v=>(p(v,!0),i(v)),{passive:o}),tu(n,"keyup",v=>(p(v,!1),i(v)),{passive:o}),tu("blur",f,{passive:!0}),tu("focus",f,{passive:!0});const m=new Proxy(l,{get(v,g,b){if(typeof g!="string")return Reflect.get(v,g,b);if(g=g.toLowerCase(),g in r&&(g=r[g]),!(g in l))if(/[+_-]/.test(g)){const x=g.split(/[+_-]/g).map(w=>w.trim());l[g]=z(()=>x.every(w=>_e(m[w])))}else l[g]=re(!1);const y=Reflect.get(v,g,b);return e?_e(y):y}});return m}var Gy;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Gy||(Gy={}));var kN=Object.defineProperty,qy=Object.getOwnPropertySymbols,CN=Object.prototype.hasOwnProperty,SN=Object.prototype.propertyIsEnumerable,Ky=(t,e,n)=>e in t?kN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EN=(t,e)=>{for(var n in e||(e={}))CN.call(e,n)&&Ky(t,n,e[n]);if(qy)for(var n of qy(e))SN.call(e,n)&&Ky(t,n,e[n]);return t};const TN={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};EN({linear:vN},TN);function Jo(t){return Array.isArray?Array.isArray(t):Qk(t)==="[object Array]"}function ON(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function AN(t){return t==null?"":ON(t)}function mo(t){return typeof t=="string"}function Zk(t){return typeof t=="number"}function MN(t){return t===!0||t===!1||$N(t)&&Qk(t)=="[object Boolean]"}function Jk(t){return typeof t=="object"}function $N(t){return Jk(t)&&t!==null}function hr(t){return t!=null}function kp(t){return!t.trim().length}function Qk(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const RN="Incorrect 'index' type",DN=t=>`Invalid value for key ${t}`,PN=t=>`Pattern length exceeds max of ${t}.`,LN=t=>`Missing ${t} property in key`,FN=t=>`Property 'weight' in key '${t}' must be a positive integer`,Zy=Object.prototype.hasOwnProperty;let IN=class{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let o=eC(r);n+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function eC(t){let e=null,n=null,r=null,o=1,i=null;if(mo(t)||Jo(t))r=t,e=Jy(t),n=nm(t);else{if(!Zy.call(t,"name"))throw new Error(LN("name"));const a=t.name;if(r=a,Zy.call(t,"weight")&&(o=t.weight,o<=0))throw new Error(FN(a));e=Jy(a),n=nm(a),i=t.getFn}return{path:e,id:n,weight:o,src:r,getFn:i}}function Jy(t){return Jo(t)?t:t.split(".")}function nm(t){return Jo(t)?t.join("."):t}function NN(t,e){let n=[],r=!1;const o=(i,a,s)=>{if(hr(i))if(!a[s])n.push(i);else{let l=a[s];const c=i[l];if(!hr(c))return;if(s===a.length-1&&(mo(c)||Zk(c)||MN(c)))n.push(AN(c));else if(Jo(c)){r=!0;for(let u=0,h=c.length;u<h;u+=1)o(c[u],a,s+1)}else a.length&&o(c,a,s+1)}};return o(t,mo(e)?e.split("."):e,0),r?n:n[0]}const jN={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},BN={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},zN={location:0,threshold:.6,distance:100},UN={useExtendedSearch:!1,getFn:NN,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ge={...BN,...jN,...zN,...UN};const HN=/[^ ]+/g;function WN(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(o){const i=o.match(HN).length;if(n.has(i))return n.get(i);const a=1/Math.pow(i,.5*t),s=parseFloat(Math.round(a*r)/r);return n.set(i,s),s},clear(){n.clear()}}}let z0=class{constructor({getFn:e=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){this.norm=WN(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,mo(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();mo(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!hr(e)||kp(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((o,i)=>{let a=o.getFn?o.getFn(e):this.getFn(e,o.path);if(hr(a)){if(Jo(a)){let s=[];const l=[{nestedArrIndex:-1,value:a}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(hr(u))if(mo(u)&&!kp(u)){let h={v:u,i:c,n:this.norm.get(u)};s.push(h)}else Jo(u)&&u.forEach((h,f)=>{l.push({nestedArrIndex:f,value:h})})}r.$[i]=s}else if(mo(a)&&!kp(a)){let s={v:a,n:this.norm.get(a)};r.$[i]=s}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}};function tC(t,e,{getFn:n=Ge.getFn,fieldNormWeight:r=Ge.fieldNormWeight}={}){const o=new z0({getFn:n,fieldNormWeight:r});return o.setKeys(t.map(eC)),o.setSources(e),o.create(),o}function VN(t,{getFn:e=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){const{keys:r,records:o}=t,i=new z0({getFn:e,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i}function nu(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:o=Ge.distance,ignoreLocation:i=Ge.ignoreLocation}={}){const a=e/t.length;if(i)return a;const s=Math.abs(r-n);return o?a+s/o:s?1:a}function XN(t=[],e=Ge.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=t.length;i<a;i+=1){let s=t[i];s&&r===-1?r=i:!s&&r!==-1&&(o=i-1,o-r+1>=e&&n.push([r,o]),r=-1)}return t[i-1]&&i-r>=e&&n.push([r,i-1]),n}const Qi=32;function YN(t,e,n,{location:r=Ge.location,distance:o=Ge.distance,threshold:i=Ge.threshold,findAllMatches:a=Ge.findAllMatches,minMatchCharLength:s=Ge.minMatchCharLength,includeMatches:l=Ge.includeMatches,ignoreLocation:c=Ge.ignoreLocation}={}){if(e.length>Qi)throw new Error(PN(Qi));const u=e.length,h=t.length,f=Math.max(0,Math.min(r,h));let p=i,m=f;const v=s>1||l,g=v?Array(h):[];let b;for(;(b=t.indexOf(e,m))>-1;){let E=nu(e,{currentLocation:b,expectedLocation:f,distance:o,ignoreLocation:c});if(p=Math.min(E,p),m=b+u,v){let $=0;for(;$<u;)g[b+$]=1,$+=1}}m=-1;let y=[],x=1,w=u+h;const _=1<<u-1;for(let E=0;E<u;E+=1){let $=0,A=w;for(;$<A;)nu(e,{errors:E,currentLocation:f+A,expectedLocation:f,distance:o,ignoreLocation:c})<=p?$=A:w=A,A=Math.floor((w-$)/2+$);w=A;let D=Math.max(1,f-A+1),O=a?h:Math.min(f+A,h)+u,S=Array(O+2);S[O+1]=(1<<E)-1;for(let T=O;T>=D;T-=1){let C=T-1,M=n[t.charAt(C)];if(v&&(g[C]=+!!M),S[T]=(S[T+1]<<1|1)&M,E&&(S[T]|=(y[T+1]|y[T])<<1|1|y[T+1]),S[T]&_&&(x=nu(e,{errors:E,currentLocation:C,expectedLocation:f,distance:o,ignoreLocation:c}),x<=p)){if(p=x,m=C,m<=f)break;D=Math.max(1,2*f-m)}}if(nu(e,{errors:E+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:c})>p)break;y=S}const k={isMatch:m>=0,score:Math.max(.001,x)};if(v){const E=XN(g,s);E.length?l&&(k.indices=E):k.isMatch=!1}return k}function GN(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const o=t.charAt(n);e[o]=(e[o]||0)|1<<r-n-1}return e}let nC=class{constructor(e,{location:n=Ge.location,threshold:r=Ge.threshold,distance:o=Ge.distance,includeMatches:i=Ge.includeMatches,findAllMatches:a=Ge.findAllMatches,minMatchCharLength:s=Ge.minMatchCharLength,isCaseSensitive:l=Ge.isCaseSensitive,ignoreLocation:c=Ge.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:o,includeMatches:i,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(f,p)=>{this.chunks.push({pattern:f,alphabet:GN(f),startIndex:p})},h=this.pattern.length;if(h>Qi){let f=0;const p=h%Qi,m=h-p;for(;f<m;)u(this.pattern.substr(f,Qi),f),f+=Qi;if(p){const v=h-Qi;u(this.pattern.substr(v),v)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let m={isMatch:!0,score:0};return r&&(m.indices=[[0,e.length-1]]),m}const{location:o,distance:i,threshold:a,findAllMatches:s,minMatchCharLength:l,ignoreLocation:c}=this.options;let u=[],h=0,f=!1;this.chunks.forEach(({pattern:m,alphabet:v,startIndex:g})=>{const{isMatch:b,score:y,indices:x}=YN(e,m,v,{location:o+g,distance:i,threshold:a,findAllMatches:s,minMatchCharLength:l,includeMatches:r,ignoreLocation:c});b&&(f=!0),h+=y,b&&x&&(u=[...u,...x])});let p={isMatch:f,score:f?h/this.chunks.length:1};return f&&r&&(p.indices=u),p}},zi=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Qy(e,this.multiRegex)}static isSingleMatch(e){return Qy(e,this.singleRegex)}search(){}};function Qy(t,e){const n=t.match(e);return n?n[1]:null}let qN=class extends zi{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}},KN=class extends zi{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},ZN=class extends zi{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}},JN=class extends zi{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},QN=class extends zi{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},ej=class extends zi{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},rC=class extends zi{constructor(e,{location:n=Ge.location,threshold:r=Ge.threshold,distance:o=Ge.distance,includeMatches:i=Ge.includeMatches,findAllMatches:a=Ge.findAllMatches,minMatchCharLength:s=Ge.minMatchCharLength,isCaseSensitive:l=Ge.isCaseSensitive,ignoreLocation:c=Ge.ignoreLocation}={}){super(e),this._bitapSearch=new nC(e,{location:n,threshold:r,distance:o,includeMatches:i,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},oC=class extends zi{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const o=[],i=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+i,o.push([r,n-1]);const a=!!o.length;return{isMatch:a,score:a?0:1,indices:o}}};const rm=[qN,oC,ZN,JN,ej,QN,KN,rC],ex=rm.length,tj=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,nj="|";function rj(t,e={}){return t.split(nj).map(n=>{let r=n.trim().split(tj).filter(i=>i&&!!i.trim()),o=[];for(let i=0,a=r.length;i<a;i+=1){const s=r[i];let l=!1,c=-1;for(;!l&&++c<ex;){const u=rm[c];let h=u.isMultiMatch(s);h&&(o.push(new u(h,e)),l=!0)}if(!l)for(c=-1;++c<ex;){const u=rm[c];let h=u.isSingleMatch(s);if(h){o.push(new u(h,e));break}}}return o})}const oj=new Set([rC.type,oC.type]);class ij{constructor(e,{isCaseSensitive:n=Ge.isCaseSensitive,includeMatches:r=Ge.includeMatches,minMatchCharLength:o=Ge.minMatchCharLength,ignoreLocation:i=Ge.ignoreLocation,findAllMatches:a=Ge.findAllMatches,location:s=Ge.location,threshold:l=Ge.threshold,distance:c=Ge.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:s,threshold:l,distance:c},this.pattern=n?e:e.toLowerCase(),this.query=rj(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let i=0,a=[],s=0;for(let l=0,c=n.length;l<c;l+=1){const u=n[l];a.length=0,i=0;for(let h=0,f=u.length;h<f;h+=1){const p=u[h],{isMatch:m,indices:v,score:g}=p.search(e);if(m){if(i+=1,s+=g,r){const b=p.constructor.type;oj.has(b)?a=[...a,...v]:a.push(v)}}else{s=0,i=0,a.length=0;break}}if(i){let h={isMatch:!0,score:s/i};return r&&(h.indices=a),h}}return{isMatch:!1,score:1}}}const om=[];function aj(...t){om.push(...t)}function im(t,e){for(let n=0,r=om.length;n<r;n+=1){let o=om[n];if(o.condition(t,e))return new o(t,e)}return new nC(t,e)}const Id={AND:"$and",OR:"$or"},am={PATH:"$path",PATTERN:"$val"},sm=t=>!!(t[Id.AND]||t[Id.OR]),sj=t=>!!t[am.PATH],lj=t=>!Jo(t)&&Jk(t)&&!sm(t),tx=t=>({[Id.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function iC(t,e,{auto:n=!0}={}){const r=o=>{let i=Object.keys(o);const a=sj(o);if(!a&&i.length>1&&!sm(o))return r(tx(o));if(lj(o)){const l=a?o[am.PATH]:i[0],c=a?o[am.PATTERN]:o[l];if(!mo(c))throw new Error(DN(l));const u={keyId:nm(l),pattern:c};return n&&(u.searcher=im(c,e)),u}let s={children:[],operator:i[0]};return i.forEach(l=>{const c=o[l];Jo(c)&&c.forEach(u=>{s.children.push(r(u))})}),s};return sm(t)||(t=tx(t)),r(t)}function cj(t,{ignoreFieldNorm:e=Ge.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:o,norm:i,score:a})=>{const s=o?o.weight:null;r*=Math.pow(a===0&&s?Number.EPSILON:a,(s||1)*(e?1:i))}),n.score=r})}function uj(t,e){const n=t.matches;e.matches=[],hr(n)&&n.forEach(r=>{if(!hr(r.indices)||!r.indices.length)return;const{indices:o,value:i}=r;let a={indices:o,value:i};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}function dj(t,e){e.score=t.score}function hj(t,e,{includeMatches:n=Ge.includeMatches,includeScore:r=Ge.includeScore}={}){const o=[];return n&&o.push(uj),r&&o.push(dj),t.map(i=>{const{idx:a}=i,s={item:e[a],refIndex:a};return o.length&&o.forEach(l=>{l(i,s)}),s})}let _a=class{constructor(e,n={},r){this.options={...Ge,...n},this.options.useExtendedSearch,this._keyStore=new IN(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof z0))throw new Error(RN);this._myIndex=n||tC(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){hr(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,o=this._docs.length;r<o;r+=1){const i=this._docs[r];e(i,r)&&(this.removeAt(r),r-=1,o-=1,n.push(i))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:o,shouldSort:i,sortFn:a,ignoreFieldNorm:s}=this.options;let l=mo(e)?mo(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return cj(l,{ignoreFieldNorm:s}),i&&l.sort(a),Zk(n)&&n>-1&&(l=l.slice(0,n)),hj(l,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(e){const n=im(e,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:i,i:a,n:s})=>{if(!hr(i))return;const{isMatch:l,score:c,indices:u}=n.searchIn(i);l&&o.push({item:i,idx:a,matches:[{score:c,value:i,norm:s,indices:u}]})}),o}_searchLogical(e){const n=iC(e,this.options),r=(s,l,c)=>{if(!s.children){const{keyId:h,searcher:f}=s,p=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(l,h),searcher:f});return p&&p.length?[{idx:c,item:l,matches:p}]:[]}const u=[];for(let h=0,f=s.children.length;h<f;h+=1){const p=s.children[h],m=r(p,l,c);if(m.length)u.push(...m);else if(s.operator===Id.AND)return[]}return u},o=this._myIndex.records,i={},a=[];return o.forEach(({$:s,i:l})=>{if(hr(s)){let c=r(n,s,l);c.length&&(i[l]||(i[l]={idx:l,item:s,matches:[]},a.push(i[l])),c.forEach(({matches:u})=>{i[l].matches.push(...u)}))}}),a}_searchObjectList(e){const n=im(e,this.options),{keys:r,records:o}=this._myIndex,i=[];return o.forEach(({$:a,i:s})=>{if(!hr(a))return;let l=[];r.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:a[u],searcher:n}))}),l.length&&i.push({idx:s,item:a,matches:l})}),i}_findMatches({key:e,value:n,searcher:r}){if(!hr(n))return[];let o=[];if(Jo(n))n.forEach(({v:i,i:a,n:s})=>{if(!hr(i))return;const{isMatch:l,score:c,indices:u}=r.searchIn(i);l&&o.push({score:c,key:e,value:i,idx:a,norm:s,indices:u})});else{const{v:i,n:a}=n,{isMatch:s,score:l,indices:c}=r.searchIn(i);s&&o.push({score:l,key:e,value:i,norm:a,indices:c})}return o}};_a.version="6.6.2";_a.createIndex=tC;_a.parseIndex=VN;_a.config=Ge;_a.parseQuery=iC;aj(ij);const Ua=Pn({selectedNode:"",selectedGroup:"",shouldRerender:!1,search:"",filtered:{count:0,items:new Map,groups:new Set}}),Us=()=>({isSearching:z(()=>Ua.search!==""),resetStore:()=>{Ua.search="",Ua.filtered.count=0,Ua.filtered.items=new Map,Ua.filtered.groups=new Set},...ac(Ua)});function fj(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(o){o(n)}),(r=t.get("*"))&&r.slice().map(function(o){o(e,n)})}}}const pj=fj(),Bh=()=>({emitter:pj});function gj(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function mj(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}const vj=["command-theme"],bj={"command-root":""},yj=X({name:"CommandRoot"}),lm=X({...yj,props:{theme:{type:String,default:"default"},fuseOptions:{type:Object,default:()=>({threshold:.2,keys:["label"]})}},emits:["select-item"],setup(t,{emit:e}){const n=t,r='[command-item=""]',o="command-item-key",i='[command-group=""]',a="command-group-key",s='[command-group-heading=""]',l=`${r}:not([aria-disabled="true"])`,c=`${r}[aria-selected="true"]`,u="command-item-select",h="data-value";Fn("theme",n.theme||"default");const{selectedNode:f,search:p,filtered:m,shouldRerender:v}=Us(),{emitter:g}=Bh(),b=re(),y=_p(re(new Map),333),x=_p(re(new Set),333),w=_p(re(new Map)),_=z(()=>{const U=[];for(const[ie,V]of y.value.entries())U.push({key:ie,label:V});return U}),k=z(()=>{const U=_a.createIndex(n.fuseOptions.keys,_.value);return new _a(_.value,n.fuseOptions,U)}),E=()=>{var U,ie,V;const de=$();de&&(((U=de.parentElement)==null?void 0:U.firstElementChild)===de&&((V=(ie=de.closest(i))==null?void 0:ie.querySelector(s))==null||V.scrollIntoView({block:"nearest"})),de.scrollIntoView({block:"nearest"}))},$=()=>{var U;return(U=b.value)==null?void 0:U.querySelector(c)},A=()=>{var U;const ie=(U=b.value)==null?void 0:U.querySelectorAll(i);return ie?Array.from(ie):[]},D=(U=b.value)=>{const ie=U?.querySelectorAll(r);return ie?Array.from(ie):[]},O=(U=b.value)=>{const ie=U?.querySelectorAll(l);return ie?Array.from(ie):[]},S=()=>{const[U]=O();U&&U.getAttribute(o)&&(f.value=U.getAttribute(o)||"")},T=U=>{const ie=O()[U];ie&&(f.value=ie.getAttribute(o)||"")},C=U=>{const ie=$(),V=O(),de=V.findIndex(ge=>ge===ie),ve=V[de+U];ve?f.value=ve.getAttribute(o)||"":U>0?T(0):T(V.length-1)},M=U=>{const ie=$();let V=ie?.closest(i),de=null;for(;V&&!de;)V=U>0?gj(V,i):mj(V,i),de=V?.querySelector(l);de?f.value=de.getAttribute(o)||"":C(U)},R=()=>T(0),L=()=>T(O().length-1),P=U=>{U.preventDefault(),U.metaKey?L():U.altKey?M(1):C(1)},N=U=>{U.preventDefault(),U.metaKey?R():U.altKey?M(-1):C(-1)},j=U=>{switch(U.key){case"n":case"j":{U.ctrlKey&&P(U);break}case"ArrowDown":{P(U);break}case"p":case"k":{U.ctrlKey&&N(U);break}case"ArrowUp":{N(U);break}case"Home":{R();break}case"End":{L();break}case"Enter":{const ie=$();if(ie){const V=new Event(u);ie.dispatchEvent(V)}}}},H=()=>{if(!p.value){m.value.count=x.value.size;return}m.value.groups=new Set;const U=new Map,ie=k.value.search(p.value).map(V=>V.item);for(const{key:V,label:de}of ie)U.set(V,de);for(const[V,de]of w.value)for(const ve of de)U.get(ve)&&m.value.groups.add(V);m.value.count=U.size,m.value.items=U},B=()=>{const U=A(),ie=D();for(const V of ie){const de=V.getAttribute(o)||"",ve=V.getAttribute(h)||"";x.value.add(de),y.value.set(de,ve),m.value.count=y.value.size}for(const V of U){const de=D(V),ve=V.getAttribute(a)||"",ge=new Set("");for(const ke of de){const Ce=ke.getAttribute(o)||"";ge.add(Ce)}w.value.set(ve,ge)}};pe(()=>f.value,U=>{U&&Lt(E)},{deep:!0}),pe(()=>p.value,()=>{v.value||(H(),Lt(S))}),g.on("selectItem",U=>{e("select-item",U)});const te=U=>{U&&(v.value=U,B(),Lt(()=>{H(),S(),v.value=!1}))};return g.on("rerenderList",te),vn(()=>{B(),Lt(S)}),(U,ie)=>(Ve(),ct("div",{class:ba(t.theme),onKeydown:j,ref_key:"commandRef",ref:b,"command-theme":t.theme},[at("div",bj,[En(U.$slots,"default")])],42,vj))}}),xj={"command-dialog":""},wj={"command-dialog-mask":""},_j={"command-dialog-wrapper":""},kj={"command-dialog-header":""},Cj={"command-dialog-body":""},Sj={key:0,"command-dialog-footer":""},Ej=X({name:"Command.Dialog"}),Tj=X({...Ej,props:{visible:{type:Boolean},theme:{}},emits:["select-item"],setup(t,{emit:e}){const n=t,{resetStore:r}=Us(),{emitter:o}=Bh(),i=re();return o.on("selectItem",a=>{e("select-item",a)}),qk(()=>n.visible,r),lc(r),(a,s)=>(Ve(),_o(GE,{to:"body",ref_key:"dialogRef",ref:i},[d(ps,{name:"command-dialog",appear:""},{default:Ll(()=>[a.visible?(Ve(),_o(lm,{key:0,theme:a.theme},{default:Ll(()=>[at("div",xj,[at("div",wj,[at("div",_j,[at("div",kj,[En(a.$slots,"header")]),at("div",Cj,[En(a.$slots,"body")]),a.$slots.footer?(Ve(),ct("div",Sj,[En(a.$slots,"footer")])):xn("",!0)])])])]),_:3},8,["theme"])):xn("",!0)]),_:3})],512))}});let aC=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Oj=["command-group-key","data-value"],Aj={key:0,"command-group-heading":""},Mj={"command-group-items":"",role:"group"},$j=X({name:"Command.Group"}),Rj=X({...$j,props:{heading:{}},setup(t){const e=z(()=>`command-group-${aC()}`),{filtered:n,isSearching:r}=Us(),o=z(()=>r.value?n.value.groups.has(e.value):!0);return(i,a)=>ud((Ve(),ct("div",{"command-group":"",role:"presentation",key:e.value,"command-group-key":e.value,"data-value":i.heading},[i.heading?(Ve(),ct("div",Aj,gs(i.heading),1)):xn("",!0),at("div",Mj,[En(i.$slots,"default")])],8,Oj)),[[dd,o.value]])}}),Dj=["placeholder","value"],Pj=X({name:"Command.Input"}),Lj=X({...Pj,props:{placeholder:{},value:{}},emits:["input","update:value"],setup(t,{emit:e}){const n=re(null),{search:r}=Us(),o=z(()=>r.value),i=a=>{const s=a,l=a.target;r.value=l?.value,e("input",s),e("update:value",r.value)};return sc(()=>{var a;(a=n.value)==null||a.focus()}),(a,s)=>(Ve(),ct("input",{ref_key:"inputRef",ref:n,"command-input":"","auto-focus":"","auto-complete":"off","auto-correct":"off","spell-check":!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,placeholder:a.placeholder,value:o.value,onInput:i},null,40,Dj))}}),Fj=["aria-selected","aria-disabled","command-item-key"],Ij=X({name:"Command.Item"}),Nj=X({...Ij,props:{shortcut:{},perform:{type:Function}},emits:["select"],setup(t,{emit:e}){const n=t,r="command-item-select",o="data-value",{current:i}=_N(),{selectedNode:a,filtered:s,isSearching:l}=Us(),{emitter:c}=Bh(),u=re(),h=z(()=>`command-item-${aC()}`),f=z(()=>{const v=s.value.items.get(h.value);return l.value?v!==void 0:!0}),p=z(()=>Array.from(i)),m=()=>{var v;const g={key:h.value,value:((v=u.value)==null?void 0:v.getAttribute(o))||""};e("select",g),c.emit("selectItem",g)};return qk(p,v=>{n.shortcut&&n.shortcut.length>0&&n.shortcut.every(g=>i.has(g.toLowerCase()))&&n.perform&&n.perform()}),sc(()=>{var v;(v=u.value)==null||v.addEventListener(r,m)}),lc(()=>{var v;(v=u.value)==null||v.removeEventListener(r,m)}),(v,g)=>ud((Ve(),ct("div",{ref_key:"itemRef",ref:u,"command-item":"",role:"option","aria-selected":_e(a)===h.value,"aria-disabled":!f.value,key:h.value,"command-item-key":h.value,onClick:m},[En(v.$slots,"default")],8,Fj)),[[dd,f.value]])}}),jj=X({name:"Command.List"}),Bj=X({...jj,setup(t){const{emitter:e}=Bh(),n=re(),r=re();let o=null,i;return sc(()=>{i=r.value;const a=n.value;let s;if(i&&a)return o=new ResizeObserver(l=>{s=requestAnimationFrame(()=>{const c=i?.offsetHeight;a?.style.setProperty("--command-list-height",`${c?.toFixed(1)}px`),e.emit("rerenderList",!0)})}),o.observe(i),()=>{cancelAnimationFrame(s),o?.unobserve(i)}}),lc(()=>{o!==null&&i&&o.unobserve(i)}),(a,s)=>(Ve(),ct("div",{"command-list":"",role:"listbox","aria-label":"Suggestions",ref_key:"listRef",ref:n},[at("div",{"command-list-sizer":"",ref_key:"heightRef",ref:r},[En(a.$slots,"default")],512)],512))}}),zj=X({name:"Command.Empty",setup(t,{attrs:e,slots:n}){const{filtered:r}=Us(),o=z(()=>r.value.count===0);return()=>o.value?Oe("div",{"command-empty":"",role:"presentation",...e},n):Oe("div",{"command-empty":"hidden",role:"presentation",style:{display:"none"},...e})}}),Uj=X({name:"Command.Loading",setup(t,{attrs:e,slots:n}){return()=>Oe("div",{"command-loading":"",role:"progressbar",...e},n)}}),Hj=X({name:"Command.Separator",setup(t,{attrs:e,slots:n}){return()=>Oe("div",{"command-separator":"",role:"separator",...e})}}),Ki=Object.assign(lm,{Root:lm,Dialog:Tj,Empty:zj,Group:Rj,Input:Lj,Item:Nj,List:Bj,Loading:Uj,Separator:Hj}),Wj=X({name:"DuxAutoComplete",props:{path:String,params:Object,pagination:{type:Boolean,default:!0},valueField:{type:String,default:"id"},labelField:{type:String,default:"name"},multiple:Boolean},extends:t1,setup(t,{emit:e,slots:n}){const r=Ue(t,"value",e,{passive:!0,defaultValue:t.defaultValue||void 0}),o=be(t,"path"),i=be(t,"params",{}),{onSearch:a,loading:s,options:l}=h0({path:o.value||"",params:i.value,pagination:t.pagination,optionValue:t.valueField||"id"});return pe(r,()=>{a(r.value||"")},{immediate:!0}),()=>d(t1,yt(t,{loading:s.value,clearable:!0,options:l.value?.map(c=>({label:c[t.labelField||"name"],value:c[t.valueField||"id"]})),showEmpty:!0,value:r.value,"onUpdate:value":c=>r.value=c}),{...n})}}),sC=X({name:"DuxCascader",props:{path:String,params:Object},extends:ng,setup(t,{emit:e,slots:n}){const r=be(t,"path",""),o=be(t,"params",{}),i=Ue(t,"value",e,{passive:!0,defaultValue:t.defaultValue}),{options:a,loading:s}=fc({path:r.value,params:o.value}),l=z(()=>{const{path:c,params:u,...h}=t;return h});return()=>d(ii,{show:s.value,class:"w-full",size:16},{default:()=>[d(ng,yt(l.value,{clearable:!0,options:a.value,value:i.value,"onUpdate:value":c=>i.value=c}),{...n})]})}}),lC=X({name:"DuxMention",props:{path:String,params:Object,labelField:{type:String,default:"name"},valueField:{type:String,default:"name"}},extends:n1,setup(t,{emit:e,slots:n}){const r=Ue(t,"value",e,{passive:!0,defaultValue:t.defaultValue}),o=re([]),i=re(!1),a=be(t,"path"),s=be(t,"params",{}),{mutateAsync:l}=ai({path:a.value,query:s.value,method:"GET"}),c=u=>{if(!a.value||!u){o.value=[];return}i.value=!0,l({query:{keyword:u,limit:10}}).then(h=>{o.value=h?.data?.map(f=>({label:f[t.labelField||"name"],value:f[t.valueField||"name"]}))||[]}).catch(()=>{o.value=[]}).finally(()=>{i.value=!1})};return()=>d(n1,yt(t,{value:r.value,"onUpdate:value":u=>r.value=u,options:o.value,onSearch:c,loading:i.value}),{...n})}});function Vj(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const cC=X({name:"DuxSelect",props:{path:String,params:Object,pagination:{type:Boolean,default:!0},avatarField:{type:String},imageField:{type:String},descField:{type:String},multiple:Boolean},extends:ya,setup(t,{emit:e,slots:n}){const r=be(t,"params",{}),o=be(t,"path"),i=Ue(t,"value",e,{passive:!0,defaultValue:t.defaultValue}),a=be(t,"labelField","name"),s=be(t,"valueField","id"),l=be(t,"avatarField",""),c=be(t,"imageField",""),u=be(t,"descField",""),{onSearch:h,loading:f,pagination:p,options:m,pageCount:v}=h0({path:o.value||"",params:r.value,defaultValue:i,pagination:t.pagination,optionLabel:a.value,optionValue:s.value}),g=z(()=>{const{labelField:b,valueField:y,avatarField:x,imageField:w,descField:_,...k}=t;return k});return()=>d(ya,yt(g.value,{onSearch:h,loading:f.value,filterable:!!t.pagination,clearable:!0,remote:!0,options:m.value,value:i.value,"onUpdate:value":b=>i.value=b,multiple:t.multiple,onClear:()=>{h("")},renderLabel:b=>c.value||u.value?d(rg,{align:"center",size:"small",wrapItem:!1,style:{padding:"6px 0"}},{default:()=>[c.value&&d(Ei,{src:b?.raw?.[c.value],objectFit:"cover",width:32,height:32},null),l.value&&d(Fl,{round:!0,src:b?.raw?.[l.value],size:32},{default:()=>[b?.raw?.[a.value]?.charAt?.(0)]}),d(rg,{vertical:!0,size:0,wrapItem:!1},{default:()=>[d("div",null,[b?.raw?.[a.value]]),u.value&&d("div",{style:{opacity:.6}},[b?.raw?.[u.value]])]})]}):b?.raw?.[a.value],renderTag:({option:b,handleClose:y})=>{let x;return t.multiple?d(Ti,{type:"primary",size:t.size,closable:!0,round:!0,onClose:()=>{y()},style:{"--n-padding":"0"}},Vj(x=nx(b,a.value,c.value,l.value,u.value))?x:{default:()=>[x]}):nx(b,a.value,c.value,l.value,u.value)}}),{action:()=>t.pagination?d(dh,{size:"small",page:p.value.page,"onUpdate:page":b=>p.value.page=b,pageSlot:3,pageCount:v.value,pageSize:p.value.pageSize},null):null,...n})}});function nx(t,e,n,r,o){return n||o||r?d(rg,{align:"center",size:"small",style:{padding:"6px 0"},wrapItem:!1},{default:()=>[n&&d(Ei,{src:t?.raw?.[n],objectFit:"cover",width:22,height:22},null),r&&d(Fl,{round:!0,src:t?.raw?.[r]||"",size:22},{default:()=>[t?.raw?.[e]?.charAt?.(0)]}),d("div",null,[t?.raw?.[e]])]}):t?.raw?.[e]||""}const uC=X({name:"DuxTransfer",props:{path:String,params:{type:Object},labelField:{type:String,default:"name"},valueField:{type:String,default:"id"},imageField:{type:String},descField:{type:String}},extends:r1,setup(t,{emit:e}){const n=Ue(t,"value",e,{passive:!0,defaultValue:t.defaultValue||[]}),r=be(t,"path",""),o=be(t,"params",{}),i=re([]),{data:a,isLoading:s}=Ns({path:r.value,filters:o.value});return pe(a,l=>{i.value=l?.value?.data?.map(c=>({label:c[t.labelField||"name"],value:c[t.valueField||"id"],raw:c}))||[]},{immediate:!0}),()=>d("div",{class:"w-full"},[d(ii,{show:s.value},{default:()=>[d(r1,yt(t,{value:n.value,"onUpdate:value":l=>n.value=l,options:i.value,renderTargetLabel:({option:l})=>t.imageField||t.descField?d("div",{style:{padding:"0 6px",display:"flex",alignItems:"center",gap:"4px"}},[t.imageField&&d(Fl,{round:!0,src:l?.raw[t.imageField],size:32},null),d("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"}},[d("div",null,[l?.raw[t.labelField||"name"]]),t.descField&&d("div",{style:{opacity:.6}},[l?.raw[t.descField||"desc"]])])]):l?.raw[t.labelField||"name"]}),null)]})])}}),Xj=X({name:"DuxTree",props:{path:String,params:Object,height:String,value:Array,defaultValue:Array,hookProps:Object},extends:hd,setup(t,{emit:e}){const n=be(t,"params",{}),r=be(t,"path",""),o=Ue(t,"value",e,{passive:!0,deep:!0,defaultValue:t.defaultValue||[]}),i=re([]),{options:a,loading:s,expanded:l}=fc({path:r.value,params:n.value,...t.hookProps});pe(l,u=>{i.value=u});const c=z(()=>{const{hookProps:u,height:h,...f}=t;return f});return()=>d(ii,{show:s.value},{default:()=>[d(rr,{style:{height:t.height||"300px"}},{default:()=>[d(hd,yt(c.value,{cascade:!0,checkable:!0,defaultExpandAll:!0,selectable:!1,expandedKeys:i.value,onUpdateExpandedKeys:u=>{i.value=u},data:a.value||[],checkedKeys:o.value||[],onUpdateCheckedKeys:u=>{o.value=u,t.onUpdateValue?.(u)}}),null)]})]})}}),dC=X({name:"DuxTreeSelect",props:{path:String,params:Object,hookProps:Object},extends:og,setup(t,{emit:e}){const n=be(t,"params",{}),r=be(t,"path",""),o=Ue(t,"value",e,{passive:!0,deep:!0,defaultValue:t.defaultValue||[]}),{options:i,loading:a}=fc({path:r.value,params:n.value,...t.hookProps});return()=>d(og,yt(t,{loading:a.value,options:i.value,value:o.value,"onUpdate:value":s=>o.value=s}),null)}});function hC(t){const e=d0(t);return{options:z(()=>{const n=e.getMenu(!0).map(r=>({...r,key:r.name,icon:r?.icon?()=>Oe("div",{class:`${r.icon} size-5`}):void 0,labelName:r.label,label:()=>r.path?Oe(W2,{to:{path:r.path}},{default:()=>r.label}):r.label}));return ys(n,{idKey:"key",parentKey:"parent",childrenKey:"children",sortKey:"sort"},void 0)}),...e}}function fC(){const t=Pa(),{tabs:e,current:n}=lh(t),r=mn(),o=z(()=>({value:n.value,defaultValue:n.value||"",onClose:i=>{t.delTab(i,a=>{r.push(a.path||"")})},onUpdateValue:i=>{t.changeTab(i,a=>{r.push(a.path||"")})}}));return{...t,tabs:e,current:n,tabsProps:o}}function pC(t){const e=be(t,"filters",{}),n=be(t,"sorters",{}),r=be(t,"columns",[]),o=re({}),i=re([]),a=re({...e.value,...o.value}),s=re({...n.value});G2([e,o],([y,x])=>{Object.keys(a.value).forEach(w=>{delete a.value[w]}),Object.assign(a.value,y,x)},{debounce:300,deep:!0});const l=u0({...t,filters:a.value,sorters:s.value}),c=re([]);pe(r,y=>{c.value=y},{immediate:!0});const u=z(()=>c.value.filter(y=>y.show!==!1&&"key"in y).map(y=>y.key)),h=y=>{const x=Cn(r.value)?.map(w=>(!("key"in w)||!w?.key||!("title"in w)||!w?.title||y.includes(w.key)||(w.show=!1),w));c.value=[...x]},f=y=>{l.checkeds.value=y},p=y=>{const x=Array.isArray(y)?y:[y],w={};x?.forEach(_=>{_?.columnKey&&_.order&&(w[_.columnKey]=_.order==="ascend"?"asc":"desc")}),Object.keys(s.value).forEach(_=>{delete s.value[_]}),Object.assign(s.value,w)},m=y=>{const x={...o.value};Object.entries(y).forEach(([w,_])=>{x[w]=_}),o.value=x},v=y=>{i.value=y};pe([()=>t?.expanded,l.list],([y,x])=>{y&&(i.value=Ah(x,t.key||"id","children"))});const g=z(()=>({page:l.page.value,pageSize:l.pageSize.value,pageCount:l.pageCount.value,pageSizes:l.pageSizes,pageSlot:5,onUpdatePage:l.onUpdatePage,onUpdatePageSize:l.onUpdatePageSize,showSizePicker:!0,showQuickJumper:!0})),b=z(()=>({remote:!0,checkedRowKeys:l.checkeds.value,expandedRowKeys:i.value,onUpdateCheckedRowKeys:f,onUpdateExpandedRowKeys:v,onUpdateSorter:p,onUpdateFilters:m,loading:l.isLoading.value,data:l.list.value,columns:c.value.filter(y=>y.show!==!1)}));return{...l,tablePagination:g,table:b,columns:c,columnSelected:u,onUpdateColumnSelected:h}}function Yj(t){const e=Da(t),n=new Map;return pe(()=>e.uploadFiles.value,r=>{r.forEach(o=>{const i=n.get(o.id);i&&(o.status==="uploading"&&o.progress&&i.onProgress?i.onProgress({percent:o.progress.percent||0}):o.status==="success"?(i.onFinish?.(),n.delete(o.id)):o.status==="error"&&(i.onError?.(),n.delete(o.id)))})},{deep:!0}),{...e,request:r=>{const{file:o,onFinish:i,onError:a,onProgress:s}=r,l=o.file;if(!l){a?.();return}e.addFiles([l],"file").then(()=>{const c=e.uploadFiles.value.find(u=>u.file===l);if(!c){a?.();return}n.set(c.id,{onFinish:i,onError:a,onProgress:s}),e.trigger().catch(()=>{n.delete(c.id),a?.()})}).catch(()=>{a?.()})}}}const LJ=Object.freeze(Object.defineProperty({__proto__:null,DuxAutoComplete:Wj,DuxCascader:sC,DuxMention:lC,DuxSelect:cC,DuxTransfer:uC,DuxTree:Xj,DuxTreeSelect:dC,useNaiveMenu:hC,useNaiveTab:fC,useNaiveTable:pC,useNaiveUpload:Yj},Symbol.toStringTag,{value:"Module"}));var Qu={exports:{}},Gj=Qu.exports,rx;function qj(){return rx||(rx=1,function(t,e){(function(n,r){t.exports=r()})(Gj,function(){var n=1e3,r=6e4,o=36e5,i="millisecond",a="second",s="minute",l="hour",c="day",u="week",h="month",f="quarter",p="year",m="date",v="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(C){var M=["th","st","nd","rd"],R=C%100;return"["+C+(M[(R-20)%10]||M[R]||M[0])+"]"}},x=function(C,M,R){var L=String(C);return!L||L.length>=M?C:""+Array(M+1-L.length).join(R)+C},w={s:x,z:function(C){var M=-C.utcOffset(),R=Math.abs(M),L=Math.floor(R/60),P=R%60;return(M<=0?"+":"-")+x(L,2,"0")+":"+x(P,2,"0")},m:function C(M,R){if(M.date()<R.date())return-C(R,M);var L=12*(R.year()-M.year())+(R.month()-M.month()),P=M.clone().add(L,h),N=R-P<0,j=M.clone().add(L+(N?-1:1),h);return+(-(L+(R-P)/(N?P-j:j-P))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:h,y:p,w:u,d:c,D:m,h:l,m:s,s:a,ms:i,Q:f}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return C===void 0}},_="en",k={};k[_]=y;var E="$isDayjsObject",$=function(C){return C instanceof S||!(!C||!C[E])},A=function C(M,R,L){var P;if(!M)return _;if(typeof M=="string"){var N=M.toLowerCase();k[N]&&(P=N),R&&(k[N]=R,P=N);var j=M.split("-");if(!P&&j.length>1)return C(j[0])}else{var H=M.name;k[H]=M,P=H}return!L&&P&&(_=P),P||!L&&_},D=function(C,M){if($(C))return C.clone();var R=typeof M=="object"?M:{};return R.date=C,R.args=arguments,new S(R)},O=w;O.l=A,O.i=$,O.w=function(C,M){return D(C,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var S=function(){function C(R){this.$L=A(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[E]=!0}var M=C.prototype;return M.parse=function(R){this.$d=function(L){var P=L.date,N=L.utc;if(P===null)return new Date(NaN);if(O.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var j=P.match(g);if(j){var H=j[2]-1||0,B=(j[7]||"0").substring(0,3);return N?new Date(Date.UTC(j[1],H,j[3]||1,j[4]||0,j[5]||0,j[6]||0,B)):new Date(j[1],H,j[3]||1,j[4]||0,j[5]||0,j[6]||0,B)}}return new Date(P)}(R),this.init()},M.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},M.$utils=function(){return O},M.isValid=function(){return this.$d.toString()!==v},M.isSame=function(R,L){var P=D(R);return this.startOf(L)<=P&&P<=this.endOf(L)},M.isAfter=function(R,L){return D(R)<this.startOf(L)},M.isBefore=function(R,L){return this.endOf(L)<D(R)},M.$g=function(R,L,P){return O.u(R)?this[L]:this.set(P,R)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(R,L){var P=this,N=!!O.u(L)||L,j=O.p(R),H=function(ge,ke){var Ce=O.w(P.$u?Date.UTC(P.$y,ke,ge):new Date(P.$y,ke,ge),P);return N?Ce:Ce.endOf(c)},B=function(ge,ke){return O.w(P.toDate()[ge].apply(P.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(ke)),P)},te=this.$W,U=this.$M,ie=this.$D,V="set"+(this.$u?"UTC":"");switch(j){case p:return N?H(1,0):H(31,11);case h:return N?H(1,U):H(0,U+1);case u:var de=this.$locale().weekStart||0,ve=(te<de?te+7:te)-de;return H(N?ie-ve:ie+(6-ve),U);case c:case m:return B(V+"Hours",0);case l:return B(V+"Minutes",1);case s:return B(V+"Seconds",2);case a:return B(V+"Milliseconds",3);default:return this.clone()}},M.endOf=function(R){return this.startOf(R,!1)},M.$set=function(R,L){var P,N=O.p(R),j="set"+(this.$u?"UTC":""),H=(P={},P[c]=j+"Date",P[m]=j+"Date",P[h]=j+"Month",P[p]=j+"FullYear",P[l]=j+"Hours",P[s]=j+"Minutes",P[a]=j+"Seconds",P[i]=j+"Milliseconds",P)[N],B=N===c?this.$D+(L-this.$W):L;if(N===h||N===p){var te=this.clone().set(m,1);te.$d[H](B),te.init(),this.$d=te.set(m,Math.min(this.$D,te.daysInMonth())).$d}else H&&this.$d[H](B);return this.init(),this},M.set=function(R,L){return this.clone().$set(R,L)},M.get=function(R){return this[O.p(R)]()},M.add=function(R,L){var P,N=this;R=Number(R);var j=O.p(L),H=function(U){var ie=D(N);return O.w(ie.date(ie.date()+Math.round(U*R)),N)};if(j===h)return this.set(h,this.$M+R);if(j===p)return this.set(p,this.$y+R);if(j===c)return H(1);if(j===u)return H(7);var B=(P={},P[s]=r,P[l]=o,P[a]=n,P)[j]||1,te=this.$d.getTime()+R*B;return O.w(te,this)},M.subtract=function(R,L){return this.add(-1*R,L)},M.format=function(R){var L=this,P=this.$locale();if(!this.isValid())return P.invalidDate||v;var N=R||"YYYY-MM-DDTHH:mm:ssZ",j=O.z(this),H=this.$H,B=this.$m,te=this.$M,U=P.weekdays,ie=P.months,V=P.meridiem,de=function(ke,Ce,Ae,Me){return ke&&(ke[Ce]||ke(L,N))||Ae[Ce].slice(0,Me)},ve=function(ke){return O.s(H%12||12,ke,"0")},ge=V||function(ke,Ce,Ae){var Me=ke<12?"AM":"PM";return Ae?Me.toLowerCase():Me};return N.replace(b,function(ke,Ce){return Ce||function(Ae){switch(Ae){case"YY":return String(L.$y).slice(-2);case"YYYY":return O.s(L.$y,4,"0");case"M":return te+1;case"MM":return O.s(te+1,2,"0");case"MMM":return de(P.monthsShort,te,ie,3);case"MMMM":return de(ie,te);case"D":return L.$D;case"DD":return O.s(L.$D,2,"0");case"d":return String(L.$W);case"dd":return de(P.weekdaysMin,L.$W,U,2);case"ddd":return de(P.weekdaysShort,L.$W,U,3);case"dddd":return U[L.$W];case"H":return String(H);case"HH":return O.s(H,2,"0");case"h":return ve(1);case"hh":return ve(2);case"a":return ge(H,B,!0);case"A":return ge(H,B,!1);case"m":return String(B);case"mm":return O.s(B,2,"0");case"s":return String(L.$s);case"ss":return O.s(L.$s,2,"0");case"SSS":return O.s(L.$ms,3,"0");case"Z":return j}return null}(ke)||j.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(R,L,P){var N,j=this,H=O.p(L),B=D(R),te=(B.utcOffset()-this.utcOffset())*r,U=this-B,ie=function(){return O.m(j,B)};switch(H){case p:N=ie()/12;break;case h:N=ie();break;case f:N=ie()/3;break;case u:N=(U-te)/6048e5;break;case c:N=(U-te)/864e5;break;case l:N=U/o;break;case s:N=U/r;break;case a:N=U/n;break;default:N=U}return P?N:O.a(N)},M.daysInMonth=function(){return this.endOf(h).$D},M.$locale=function(){return k[this.$L]},M.locale=function(R,L){if(!R)return this.$L;var P=this.clone(),N=A(R,L,!0);return N&&(P.$L=N),P},M.clone=function(){return O.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},C}(),T=S.prototype;return D.prototype=T,[["$ms",i],["$s",a],["$m",s],["$H",l],["$W",c],["$M",h],["$y",p],["$D",m]].forEach(function(C){T[C[1]]=function(M){return this.$g(M,C[0],C[1])}}),D.extend=function(C,M){return C.$i||(C(M,S,D),C.$i=!0),D},D.locale=A,D.isDayjs=$,D.unix=function(C){return D(1e3*C)},D.en=k[_],D.Ls=k,D.p={},D})}(Qu)),Qu.exports}var Kj=qj();const Zj=ch(Kj),zh=X({name:"DuxDrawEmpty",setup(){return()=>d("svg",{viewBox:"0 0 150 178",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("defs",null,[d("linearGradient",{id:"paint_linear_1_218_0",x1:"75.000000",y1:"17.000000",x2:"75.000000",y2:"167.000000",gradientUnits:"userSpaceOnUse"},[d("stop",{"stop-color":"rgb(var(--ui-color-primary) / .2)"},null),d("stop",{offset:"1.000000","stop-color":"rgb(var(--ui-color-primary) / .2)"},null)])]),d("path",{id:"Ellipse 652",d:"M150 92C150 133.42 116.42 167 75 167C33.57 167 0 133.42 0 92C0 50.57 33.57 17 75 17C116.42 17 150 50.57 150 92Z",fill:"url(#paint_linear_1_218_0)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("g",null,[d("path",{id:"Rectangle 5615",d:"M32 60L118 60C120.76 60 123 62.23 123 65L123 170C123 172.76 120.76 175 118 175L32 175C29.23 175 27 172.76 27 170L27 65C27 62.23 29.23 60 32 60Z",fill:"rgb(var(--ui-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),d("path",{id:"Rectangle 5617",d:"M39 75L65 75C66.65 75 68 76.34 68 78C68 79.65 66.65 81 65 81L39 81C37.34 81 36 79.65 36 78C36 76.34 37.34 75 39 75Z",fill:"rgb(var(--ui-color-primary-300))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5618",d:"M39 88L83 88C84.65 88 86 89.34 86 91C86 92.65 84.65 94 83 94L39 94C37.34 94 36 92.65 36 91C36 89.34 37.34 88 39 88Z",fill:"rgb(var(--ui-color-primary-100))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5617",d:"M39 102L65 102C66.65 102 68 103.34 68 105C68 106.65 66.65 108 65 108L39 108C37.34 108 36 106.65 36 105C36 103.34 37.34 102 39 102Z",fill:"rgb(var(--ui-color-primary-300))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5618",d:"M39 115L83 115C84.65 115 86 116.34 86 118C86 119.65 84.65 121 83 121L39 121C37.34 121 36 119.65 36 118C36 116.34 37.34 115 39 115Z",fill:"rgb(var(--ui-color-primary-100))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5617",d:"M39 129L65 129C66.65 129 68 130.34 68 132C68 133.65 66.65 135 65 135L39 135C37.34 135 36 133.65 36 132C36 130.34 37.34 129 39 129Z",fill:"rgb(var(--ui-color-primary-300))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5618",d:"M39 142L83 142C84.65 142 86 143.34 86 145C86 146.65 84.65 148 83 148L39 148C37.34 148 36 146.65 36 145C36 143.34 37.34 142 39 142Z",fill:"rgb(var(--ui-color-primary-100))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("g",null,[d("path",{id:"Rectangle 5616",d:"M32 9L118 9C120.76 9 123 11.23 123 14L123 44C123 46.76 120.76 49 118 49L32 49C29.23 49 27 46.76 27 44L27 14C27 11.23 29.23 9 32 9Z",fill:"rgb(var(--ui-color-primary))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),d("path",{id:"Rectangle 5617",d:"M39 20L65 20C66.65 20 68 21.34 68 23C68 24.65 66.65 26 65 26L39 26C37.34 26 36 24.65 36 23C36 21.34 37.34 20 39 20Z",fill:"rgb(var(--ui-color-primary-300))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5618",d:"M39 33L83 33C84.65 33 86 34.34 86 36C86 37.65 84.65 39 83 39L39 39C37.34 39 36 37.65 36 36C36 34.34 37.34 33 39 33Z",fill:"rgb(var(--ui-color-gray-100))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)])}});var Cp={exports:{}},ox;function Jj(){return ox||(ox=1,function(t){var e=(()=>{var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(w,_,k)=>_ in w?n(w,_,{enumerable:!0,configurable:!0,writable:!0,value:k}):w[_]=k,c=(w,_)=>{for(var k in _||(_={}))a.call(_,k)&&l(w,k,_[k]);if(i)for(var k of i(_))s.call(_,k)&&l(w,k,_[k]);return w},u=(w,_)=>{for(var k in _)n(w,k,{get:_[k],enumerable:!0})},h=(w,_,k,E)=>{if(_&&typeof _=="object"||typeof _=="function")for(let $ of o(_))!a.call(w,$)&&$!==k&&n(w,$,{get:()=>_[$],enumerable:!(E=r(_,$))||E.enumerable});return w},f=w=>h(n({},"__esModule",{value:!0}),w),p=(w,_,k)=>l(w,typeof _!="symbol"?_+"":_,k),m={};u(m,{DEFAULT_OPTIONS:()=>b,DEFAULT_UUID_LENGTH:()=>g,default:()=>x});var v="5.3.2",g=6,b={dictionary:"alphanum",shuffle:!0,debug:!1,length:g,counter:0},y=class{constructor(_={}){p(this,"counter"),p(this,"debug"),p(this,"dict"),p(this,"version"),p(this,"dictIndex",0),p(this,"dictRange",[]),p(this,"lowerBound",0),p(this,"upperBound",0),p(this,"dictLength",0),p(this,"uuidLength"),p(this,"_digit_first_ascii",48),p(this,"_digit_last_ascii",58),p(this,"_alpha_lower_first_ascii",97),p(this,"_alpha_lower_last_ascii",123),p(this,"_hex_last_ascii",103),p(this,"_alpha_upper_first_ascii",65),p(this,"_alpha_upper_last_ascii",91),p(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),p(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),p(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),p(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),p(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),p(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),p(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),p(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),p(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),p(this,"log",(...O)=>{const S=[...O];if(S[0]="[short-unique-id] ".concat(O[0]),this.debug===!0&&typeof console<"u"&&console!==null){console.log(...S);return}}),p(this,"_normalizeDictionary",(O,S)=>{let T;if(O&&Array.isArray(O)&&O.length>1)T=O;else{T=[],this.dictIndex=0;const C="_".concat(O,"_dict_ranges"),M=this._dict_ranges[C];let R=0;for(const[,P]of Object.entries(M)){const[N,j]=P;R+=Math.abs(j-N)}T=new Array(R);let L=0;for(const[,P]of Object.entries(M)){this.dictRange=P,this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1];const N=this.lowerBound<=this.upperBound,j=this.lowerBound,H=this.upperBound;if(N)for(let B=j;B<H;B++)T[L++]=String.fromCharCode(B),this.dictIndex=B;else for(let B=j;B>H;B--)T[L++]=String.fromCharCode(B),this.dictIndex=B}T.length=L}if(S){const C=T.length;for(let M=C-1;M>0;M--){const R=Math.floor(Math.random()*(M+1));[T[M],T[R]]=[T[R],T[M]]}}return T}),p(this,"setDictionary",(O,S)=>{this.dict=this._normalizeDictionary(O,S),this.dictLength=this.dict.length,this.setCounter(0)}),p(this,"seq",()=>this.sequentialUUID()),p(this,"sequentialUUID",()=>{const O=this.dictLength,S=this.dict;let T=this.counter;const C=[];do{const R=T%O;T=Math.trunc(T/O),C.push(S[R])}while(T!==0);const M=C.join("");return this.counter+=1,M}),p(this,"rnd",(O=this.uuidLength||g)=>this.randomUUID(O)),p(this,"randomUUID",(O=this.uuidLength||g)=>{if(O===null||typeof O>"u"||O<1)throw new Error("Invalid UUID Length Provided");const S=new Array(O),T=this.dictLength,C=this.dict;for(let M=0;M<O;M++){const R=Math.floor(Math.random()*T);S[M]=C[R]}return S.join("")}),p(this,"fmt",(O,S)=>this.formattedUUID(O,S)),p(this,"formattedUUID",(O,S)=>{const T={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return O.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,M=>{const R=M.slice(0,2),L=Number.parseInt(M.slice(2),10);return R==="$s"?T[R]().padStart(L,"0"):R==="$t"&&S?T[R](L,S):T[R](L)})}),p(this,"availableUUIDs",(O=this.uuidLength)=>Number.parseFloat(([...new Set(this.dict)].length**O).toFixed(0))),p(this,"_collisionCache",new Map),p(this,"approxMaxBeforeCollision",(O=this.availableUUIDs(this.uuidLength))=>{const S=O,T=this._collisionCache.get(S);if(T!==void 0)return T;const C=Number.parseFloat(Math.sqrt(Math.PI/2*O).toFixed(20));return this._collisionCache.set(S,C),C}),p(this,"collisionProbability",(O=this.availableUUIDs(this.uuidLength),S=this.uuidLength)=>Number.parseFloat((this.approxMaxBeforeCollision(O)/this.availableUUIDs(S)).toFixed(20))),p(this,"uniqueness",(O=this.availableUUIDs(this.uuidLength))=>{const S=Number.parseFloat((1-this.approxMaxBeforeCollision(O)/O).toFixed(20));return S>1?1:S<0?0:S}),p(this,"getVersion",()=>this.version),p(this,"stamp",(O,S)=>{const T=Math.floor(+(S||new Date)/1e3).toString(16);if(typeof O=="number"&&O===0)return T;if(typeof O!="number"||O<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join(`
`));const C=O-9,M=Math.round(Math.random()*(C>15?15:C)),R=this.randomUUID(C);return"".concat(R.substring(0,M)).concat(T).concat(R.substring(M)).concat(M.toString(16))}),p(this,"parseStamp",(O,S)=>{if(S&&!/t0|t[1-9]\d{1,}/.test(S))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");const T=S?S.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,M=>{const R={$r:N=>[...Array(N)].map(()=>"r").join(""),$s:N=>[...Array(N)].map(()=>"s").join(""),$t:N=>[...Array(N)].map(()=>"t").join("")},L=M.slice(0,2),P=Number.parseInt(M.slice(2),10);return R[L](P)}).replace(/^(.*?)(t{8,})(.*)$/g,(M,R,L)=>O.substring(R.length,R.length+L.length)):O;if(T.length===8)return new Date(Number.parseInt(T,16)*1e3);if(T.length<10)throw new Error("Stamp length invalid");const C=Number.parseInt(T.substring(T.length-1),16);return new Date(Number.parseInt(T.substring(C,C+8),16)*1e3)}),p(this,"setCounter",O=>{this.counter=O}),p(this,"validate",(O,S)=>{const T=S?this._normalizeDictionary(S):this.dict;return O.split("").every(C=>T.includes(C))});const k=c(c({},b),_);this.counter=0,this.debug=!1,this.dict=[],this.version=v;const{dictionary:E,shuffle:$,length:A,counter:D}=k;this.uuidLength=A,this.setDictionary(E,$),this.setCounter(D),this.debug=k.debug,this.log(this.dict),this.log("Generator instantiated with Dictionary Size ".concat(this.dictLength," and counter set to ").concat(this.counter)),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this)}};p(y,"default",y);var x=y;return f(m)})();t.exports=e.default,typeof window<"u"&&(e=e.default)}(Cp)),Cp.exports}var Qj=Jj();const U0=ch(Qj);function Uh(t){return Wm()?(bo(t),!0):!1}function jo(t){return typeof t=="function"?t():_e(t)}const eB=typeof window<"u"&&typeof document<"u",tB=t=>typeof t<"u",nB=Object.prototype.toString,rB=t=>nB.call(t)==="[object Object]",oB=()=>{};function iB(t,e){function n(...r){return new Promise((o,i)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(o).catch(i)})}return n}const gC=t=>t();function aB(t=gC){const e=re(!0);function n(){e.value=!1}function r(){e.value=!0}const o=(...i)=>{e.value&&t(...i)};return{isActive:fs(e),pause:n,resume:r,eventFilter:o}}function ix(t,e=!1,n="Timeout"){return new Promise((r,o)=>{setTimeout(e?()=>o(n):r,t)})}function sB(t,e,n={}){const{eventFilter:r=gC,...o}=n;return pe(t,iB(r,e),o)}function Ha(t,e,n={}){const{eventFilter:r,...o}=n,{eventFilter:i,pause:a,resume:s,isActive:l}=aB(r);return{stop:sB(t,e,{...o,eventFilter:i}),pause:a,resume:s,isActive:l}}function lB(t,e={}){if(!Tr(t))return ac(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const r in t.value)n[r]=JE(()=>({get(){return t.value[r]},set(o){var i;if((i=jo(e.replaceRef))!=null?i:!0)if(Array.isArray(t.value)){const s=[...t.value];s[r]=o,t.value=s}else{const s={...t.value,[r]:o};Object.setPrototypeOf(s,Object.getPrototypeOf(t.value)),t.value=s}else t.value[r]=o}}));return n}function cm(t,e=!1){function n(h,{flush:f="sync",deep:p=!1,timeout:m,throwOnTimeout:v}={}){let g=null;const y=[new Promise(x=>{g=pe(t,w=>{h(w)!==e&&(g?.(),x(w))},{flush:f,deep:p,immediate:!0})})];return m!=null&&y.push(ix(m,v).then(()=>jo(t)).finally(()=>g?.())),Promise.race(y)}function r(h,f){if(!Tr(h))return n(w=>w===h,f);const{flush:p="sync",deep:m=!1,timeout:v,throwOnTimeout:g}=f??{};let b=null;const x=[new Promise(w=>{b=pe([t,h],([_,k])=>{e!==(_===k)&&(b?.(),w(_))},{flush:p,deep:m,immediate:!0})})];return v!=null&&x.push(ix(v,g).then(()=>jo(t)).finally(()=>(b?.(),jo(t)))),Promise.race(x)}function o(h){return n(f=>!!f,h)}function i(h){return r(null,h)}function a(h){return r(void 0,h)}function s(h){return n(Number.isNaN,h)}function l(h,f){return n(p=>{const m=Array.from(p);return m.includes(h)||m.includes(jo(h))},f)}function c(h){return u(1,h)}function u(h=1,f){let p=-1;return n(()=>(p+=1,p>=h),f)}return Array.isArray(jo(t))?{toMatch:n,toContains:l,changed:c,changedTimes:u,get not(){return cm(t,!e)}}:{toMatch:n,toBe:r,toBeTruthy:o,toBeNull:i,toBeNaN:s,toBeUndefined:a,changed:c,changedTimes:u,get not(){return cm(t,!e)}}}function um(t){return cm(t)}function cB(t){var e;const n=jo(t);return(e=n?.$el)!=null?e:n}const mC=eB?window:void 0;function vC(...t){let e,n,r,o;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,o]=t,e=mC):[e,n,r,o]=t,!e)return oB;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],a=()=>{i.forEach(u=>u()),i.length=0},s=(u,h,f,p)=>(u.addEventListener(h,f,p),()=>u.removeEventListener(h,f,p)),l=pe(()=>[cB(e),jo(o)],([u,h])=>{if(a(),!u)return;const f=rB(h)?{...h}:h;i.push(...n.flatMap(p=>r.map(m=>s(u,p,m,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};return Uh(c),c}function uB(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function ax(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:o=mC,eventName:i="keydown",passive:a=!1,dedupe:s=!1}=r,l=uB(e);return vC(o,i,u=>{u.repeat&&jo(s)||l(u)&&n(u)},a)}function dB(t){return JSON.parse(JSON.stringify(t))}function Sp(t,e,n,r={}){var o,i,a;const{clone:s=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:h,shouldEmit:f}=r,p=Wn(),m=n||p?.emit||((o=p?.$emit)==null?void 0:o.bind(p))||((a=(i=p?.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(p?.proxy));let v=c;e||(e="modelValue"),v=v||`update:${e.toString()}`;const g=x=>s?typeof s=="function"?s(x):dB(x):x,b=()=>tB(t[e])?g(t[e]):h,y=x=>{f?f(x)&&m(v,x):m(v,x)};if(l){const x=b(),w=re(x);let _=!1;return pe(()=>t[e],k=>{_||(_=!0,w.value=g(k),Lt(()=>_=!1))}),pe(w,k=>{!_&&(k!==t[e]||u)&&y(k)},{deep:u}),w}else return z({get(){return b()},set(x){y(x)}})}var hB={value:()=>{}};function Hh(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ed(n)}function ed(t){this._=t}function fB(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ed.prototype=Hh.prototype={constructor:ed,on:function(t,e){var n=this._,r=fB(t+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(t=r[i]).type)&&(o=pB(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=r[i]).type)n[o]=sx(n[o],t.name,e);else if(e==null)for(o in n)n[o]=sx(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ed(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};function pB(t,e){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===e)return o.value}function sx(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=hB,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var dm="http://www.w3.org/1999/xhtml";const lx={svg:"http://www.w3.org/2000/svg",xhtml:dm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wh(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),lx.hasOwnProperty(e)?{space:lx[e],local:t}:t}function gB(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===dm&&e.documentElement.namespaceURI===dm?e.createElement(t):e.createElementNS(n,t)}}function mB(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function bC(t){var e=Wh(t);return(e.local?mB:gB)(e)}function vB(){}function H0(t){return t==null?vB:function(){return this.querySelector(t)}}function bB(t){typeof t!="function"&&(t=H0(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,s=r[o]=new Array(a),l,c,u=0;u<a;++u)(l=i[u])&&(c=t.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new vr(r,this._parents)}function yB(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function xB(){return[]}function yC(t){return t==null?xB:function(){return this.querySelectorAll(t)}}function wB(t){return function(){return yB(t.apply(this,arguments))}}function _B(t){typeof t=="function"?t=wB(t):t=yC(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a=e[i],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(t.call(l,l.__data__,c,a)),o.push(l));return new vr(r,o)}function xC(t){return function(){return this.matches(t)}}function wC(t){return function(e){return e.matches(t)}}var kB=Array.prototype.find;function CB(t){return function(){return kB.call(this.children,t)}}function SB(){return this.firstElementChild}function EB(t){return this.select(t==null?SB:CB(typeof t=="function"?t:wC(t)))}var TB=Array.prototype.filter;function OB(){return Array.from(this.children)}function AB(t){return function(){return TB.call(this.children,t)}}function MB(t){return this.selectAll(t==null?OB:AB(typeof t=="function"?t:wC(t)))}function $B(t){typeof t!="function"&&(t=xC(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,s=r[o]=[],l,c=0;c<a;++c)(l=i[c])&&t.call(l,l.__data__,c,i)&&s.push(l);return new vr(r,this._parents)}function _C(t){return new Array(t.length)}function RB(){return new vr(this._enter||this._groups.map(_C),this._parents)}function Nd(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Nd.prototype={constructor:Nd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function DB(t){return function(){return t}}function PB(t,e,n,r,o,i){for(var a=0,s,l=e.length,c=i.length;a<c;++a)(s=e[a])?(s.__data__=i[a],r[a]=s):n[a]=new Nd(t,i[a]);for(;a<l;++a)(s=e[a])&&(o[a]=s)}function LB(t,e,n,r,o,i,a){var s,l,c=new Map,u=e.length,h=i.length,f=new Array(u),p;for(s=0;s<u;++s)(l=e[s])&&(f[s]=p=a.call(l,l.__data__,s,e)+"",c.has(p)?o[s]=l:c.set(p,l));for(s=0;s<h;++s)p=a.call(t,i[s],s,i)+"",(l=c.get(p))?(r[s]=l,l.__data__=i[s],c.delete(p)):n[s]=new Nd(t,i[s]);for(s=0;s<u;++s)(l=e[s])&&c.get(f[s])===l&&(o[s]=l)}function FB(t){return t.__data__}function IB(t,e){if(!arguments.length)return Array.from(this,FB);var n=e?LB:PB,r=this._parents,o=this._groups;typeof t!="function"&&(t=DB(t));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],h=o[c],f=h.length,p=NB(t.call(u,u&&u.__data__,c,r)),m=p.length,v=s[c]=new Array(m),g=a[c]=new Array(m),b=l[c]=new Array(f);n(u,h,v,g,b,p,e);for(var y=0,x=0,w,_;y<m;++y)if(w=v[y]){for(y>=x&&(x=y+1);!(_=g[x])&&++x<m;);w._next=_||null}}return a=new vr(a,r),a._enter=s,a._exit=l,a}function NB(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jB(){return new vr(this._exit||this._groups.map(_C),this._parents)}function BB(t,e,n){var r=this.enter(),o=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function zB(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c=n[l],u=r[l],h=c.length,f=s[l]=new Array(h),p,m=0;m<h;++m)(p=c[m]||u[m])&&(f[m]=p);for(;l<o;++l)s[l]=n[l];return new vr(s,this._parents)}function UB(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function HB(t){t||(t=WB);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],s=a.length,l=o[i]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(e)}return new vr(o,this._parents).order()}function WB(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function VB(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function XB(){return Array.from(this)}function YB(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function GB(){let t=0;for(const e of this)++t;return t}function qB(){return!this.node()}function KB(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,a=o.length,s;i<a;++i)(s=o[i])&&t.call(s,s.__data__,i,o);return this}function ZB(t){return function(){this.removeAttribute(t)}}function JB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function QB(t,e){return function(){this.setAttribute(t,e)}}function ez(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tz(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function nz(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function rz(t,e){var n=Wh(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?JB:ZB:typeof e=="function"?n.local?nz:tz:n.local?ez:QB)(n,e))}function kC(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function oz(t){return function(){this.style.removeProperty(t)}}function iz(t,e,n){return function(){this.style.setProperty(t,e,n)}}function az(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function sz(t,e,n){return arguments.length>1?this.each((e==null?oz:typeof e=="function"?az:iz)(t,e,n??"")):Es(this.node(),t)}function Es(t,e){return t.style.getPropertyValue(e)||kC(t).getComputedStyle(t,null).getPropertyValue(e)}function lz(t){return function(){delete this[t]}}function cz(t,e){return function(){this[t]=e}}function uz(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function dz(t,e){return arguments.length>1?this.each((e==null?lz:typeof e=="function"?uz:cz)(t,e)):this.node()[t]}function CC(t){return t.trim().split(/^|\s+/)}function W0(t){return t.classList||new SC(t)}function SC(t){this._node=t,this._names=CC(t.getAttribute("class")||"")}SC.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function EC(t,e){for(var n=W0(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function TC(t,e){for(var n=W0(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function hz(t){return function(){EC(this,t)}}function fz(t){return function(){TC(this,t)}}function pz(t,e){return function(){(e.apply(this,arguments)?EC:TC)(this,t)}}function gz(t,e){var n=CC(t+"");if(arguments.length<2){for(var r=W0(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?pz:e?hz:fz)(n,e))}function mz(){this.textContent=""}function vz(t){return function(){this.textContent=t}}function bz(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function yz(t){return arguments.length?this.each(t==null?mz:(typeof t=="function"?bz:vz)(t)):this.node().textContent}function xz(){this.innerHTML=""}function wz(t){return function(){this.innerHTML=t}}function _z(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function kz(t){return arguments.length?this.each(t==null?xz:(typeof t=="function"?_z:wz)(t)):this.node().innerHTML}function Cz(){this.nextSibling&&this.parentNode.appendChild(this)}function Sz(){return this.each(Cz)}function Ez(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Tz(){return this.each(Ez)}function Oz(t){var e=typeof t=="function"?t:bC(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Az(){return null}function Mz(t,e){var n=typeof t=="function"?t:bC(t),r=e==null?Az:typeof e=="function"?e:H0(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function $z(){var t=this.parentNode;t&&t.removeChild(this)}function Rz(){return this.each($z)}function Dz(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Pz(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Lz(t){return this.select(t?Pz:Dz)}function Fz(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Iz(t){return function(e){t.call(this,e,this.__data__)}}function Nz(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function jz(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,o=e.length,i;n<o;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function Bz(t,e,n){return function(){var r=this.__on,o,i=Iz(e);if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=e;return}}this.addEventListener(t.type,i,n),o={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(o):this.__on=[o]}}function zz(t,e,n){var r=Nz(t+""),o,i=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(o=0,u=s[l];o<i;++o)if((a=r[o]).type===u.type&&a.name===u.name)return u.value}return}for(s=e?Bz:jz,o=0;o<i;++o)this.each(s(r[o],e,n));return this}function OC(t,e,n){var r=kC(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Uz(t,e){return function(){return OC(this,t,e)}}function Hz(t,e){return function(){return OC(this,t,e.apply(this,arguments))}}function Wz(t,e){return this.each((typeof e=="function"?Hz:Uz)(t,e))}function*Vz(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var AC=[null];function vr(t,e){this._groups=t,this._parents=e}function xc(){return new vr([[document.documentElement]],AC)}function Xz(){return this}vr.prototype=xc.prototype={constructor:vr,select:bB,selectAll:_B,selectChild:EB,selectChildren:MB,filter:$B,data:IB,enter:RB,exit:jB,join:BB,merge:zB,selection:Xz,order:UB,sort:HB,call:VB,nodes:XB,node:YB,size:GB,empty:qB,each:KB,attr:rz,style:sz,property:dz,classed:gz,text:yz,html:kz,raise:Sz,lower:Tz,append:Oz,insert:Mz,remove:Rz,clone:Lz,datum:Fz,on:zz,dispatch:Wz,[Symbol.iterator]:Vz};function Vr(t){return typeof t=="string"?new vr([[document.querySelector(t)]],[document.documentElement]):new vr([[t]],AC)}function Yz(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ho(t,e){if(t=Yz(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Gz={passive:!1},Xl={capture:!0,passive:!1};function Ep(t){t.stopImmediatePropagation()}function ss(t){t.preventDefault(),t.stopImmediatePropagation()}function MC(t){var e=t.document.documentElement,n=Vr(t).on("dragstart.drag",ss,Xl);"onselectstart"in e?n.on("selectstart.drag",ss,Xl):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function $C(t,e){var n=t.document.documentElement,r=Vr(t).on("dragstart.drag",null);e&&(r.on("click.drag",ss,Xl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ru=t=>()=>t;function hm(t,{sourceEvent:e,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}hm.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function qz(t){return!t.ctrlKey&&!t.button}function Kz(){return this.parentNode}function Zz(t,e){return e??{x:t.x,y:t.y}}function Jz(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qz(){var t=qz,e=Kz,n=Zz,r=Jz,o={},i=Hh("start","drag","end"),a=0,s,l,c,u,h=0;function f(w){w.on("mousedown.drag",p).filter(r).on("touchstart.drag",g).on("touchmove.drag",b,Gz).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(w,_){if(!(u||!t.call(this,w,_))){var k=x(this,e.call(this,w,_),w,_,"mouse");k&&(Vr(w.view).on("mousemove.drag",m,Xl).on("mouseup.drag",v,Xl),MC(w.view),Ep(w),c=!1,s=w.clientX,l=w.clientY,k("start",w))}}function m(w){if(ss(w),!c){var _=w.clientX-s,k=w.clientY-l;c=_*_+k*k>h}o.mouse("drag",w)}function v(w){Vr(w.view).on("mousemove.drag mouseup.drag",null),$C(w.view,c),ss(w),o.mouse("end",w)}function g(w,_){if(t.call(this,w,_)){var k=w.changedTouches,E=e.call(this,w,_),$=k.length,A,D;for(A=0;A<$;++A)(D=x(this,E,w,_,k[A].identifier,k[A]))&&(Ep(w),D("start",w,k[A]))}}function b(w){var _=w.changedTouches,k=_.length,E,$;for(E=0;E<k;++E)($=o[_[E].identifier])&&(ss(w),$("drag",w,_[E]))}function y(w){var _=w.changedTouches,k=_.length,E,$;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),E=0;E<k;++E)($=o[_[E].identifier])&&(Ep(w),$("end",w,_[E]))}function x(w,_,k,E,$,A){var D=i.copy(),O=ho(A||k,_),S,T,C;if((C=n.call(w,new hm("beforestart",{sourceEvent:k,target:f,identifier:$,active:a,x:O[0],y:O[1],dx:0,dy:0,dispatch:D}),E))!=null)return S=C.x-O[0]||0,T=C.y-O[1]||0,function M(R,L,P){var N=O,j;switch(R){case"start":o[$]=M,j=a++;break;case"end":delete o[$],--a;case"drag":O=ho(P||L,_),j=a;break}D.call(R,w,new hm(R,{sourceEvent:L,subject:C,target:f,identifier:$,active:j,x:O[0]+S,y:O[1]+T,dx:O[0]-N[0],dy:O[1]-N[1],dispatch:D}),E)}}return f.filter=function(w){return arguments.length?(t=typeof w=="function"?w:ru(!!w),f):t},f.container=function(w){return arguments.length?(e=typeof w=="function"?w:ru(w),f):e},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:ru(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:ru(!!w),f):r},f.on=function(){var w=i.on.apply(i,arguments);return w===i?f:w},f.clickDistance=function(w){return arguments.length?(h=(w=+w)*w,f):Math.sqrt(h)},f}function V0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function RC(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wc(){}var Yl=.7,jd=1/Yl,ls="\\s*([+-]?\\d+)\\s*",Gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eU=/^#([0-9a-f]{3,8})$/,tU=new RegExp(`^rgb\\(${ls},${ls},${ls}\\)$`),nU=new RegExp(`^rgb\\(${wo},${wo},${wo}\\)$`),rU=new RegExp(`^rgba\\(${ls},${ls},${ls},${Gl}\\)$`),oU=new RegExp(`^rgba\\(${wo},${wo},${wo},${Gl}\\)$`),iU=new RegExp(`^hsl\\(${Gl},${wo},${wo}\\)$`),aU=new RegExp(`^hsla\\(${Gl},${wo},${wo},${Gl}\\)$`),cx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V0(wc,ka,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ux,formatHex:ux,formatHex8:sU,formatHsl:lU,formatRgb:dx,toString:dx});function ux(){return this.rgb().formatHex()}function sU(){return this.rgb().formatHex8()}function lU(){return DC(this).formatHsl()}function dx(){return this.rgb().formatRgb()}function ka(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=eU.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hx(e):n===3?new Kn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ou(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ou(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tU.exec(t))?new Kn(e[1],e[2],e[3],1):(e=nU.exec(t))?new Kn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rU.exec(t))?ou(e[1],e[2],e[3],e[4]):(e=oU.exec(t))?ou(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=iU.exec(t))?gx(e[1],e[2]/100,e[3]/100,1):(e=aU.exec(t))?gx(e[1],e[2]/100,e[3]/100,e[4]):cx.hasOwnProperty(t)?hx(cx[t]):t==="transparent"?new Kn(NaN,NaN,NaN,0):null}function hx(t){return new Kn(t>>16&255,t>>8&255,t&255,1)}function ou(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kn(t,e,n,r)}function cU(t){return t instanceof wc||(t=ka(t)),t?(t=t.rgb(),new Kn(t.r,t.g,t.b,t.opacity)):new Kn}function fm(t,e,n,r){return arguments.length===1?cU(t):new Kn(t,e,n,r??1)}function Kn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}V0(Kn,fm,RC(wc,{brighter(t){return t=t==null?jd:Math.pow(jd,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yl:Math.pow(Yl,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kn(pa(this.r),pa(this.g),pa(this.b),Bd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fx,formatHex:fx,formatHex8:uU,formatRgb:px,toString:px}));function fx(){return`#${da(this.r)}${da(this.g)}${da(this.b)}`}function uU(){return`#${da(this.r)}${da(this.g)}${da(this.b)}${da((isNaN(this.opacity)?1:this.opacity)*255)}`}function px(){const t=Bd(this.opacity);return`${t===1?"rgb(":"rgba("}${pa(this.r)}, ${pa(this.g)}, ${pa(this.b)}${t===1?")":`, ${t})`}`}function Bd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function da(t){return t=pa(t),(t<16?"0":"")+t.toString(16)}function gx(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xr(t,e,n,r)}function DC(t){if(t instanceof Xr)return new Xr(t.h,t.s,t.l,t.opacity);if(t instanceof wc||(t=ka(t)),!t)return new Xr;if(t instanceof Xr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(e===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Xr(a,s,l,t.opacity)}function dU(t,e,n,r){return arguments.length===1?DC(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}V0(Xr,dU,RC(wc,{brighter(t){return t=t==null?jd:Math.pow(jd,t),new Xr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yl:Math.pow(Yl,t),new Xr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Kn(Tp(t>=240?t-240:t+120,o,r),Tp(t,o,r),Tp(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new Xr(mx(this.h),iu(this.s),iu(this.l),Bd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bd(this.opacity);return`${t===1?"hsl(":"hsla("}${mx(this.h)}, ${iu(this.s)*100}%, ${iu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mx(t){return t=(t||0)%360,t<0?t+360:t}function iu(t){return Math.max(0,Math.min(1,t||0))}function Tp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const X0=t=>()=>t;function hU(t,e){return function(n){return t+n*e}}function fU(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pU(t){return(t=+t)==1?PC:function(e,n){return n-e?fU(e,n,t):X0(isNaN(e)?n:e)}}function PC(t,e){var n=e-t;return n?hU(t,n):X0(isNaN(t)?e:t)}const zd=function t(e){var n=pU(e);function r(o,i){var a=n((o=fm(o)).r,(i=fm(i)).r),s=n(o.g,i.g),l=n(o.b,i.b),c=PC(o.opacity,i.opacity);return function(u){return o.r=a(u),o.g=s(u),o.b=l(u),o.opacity=c(u),o+""}}return r.gamma=t,r}(1);function gU(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=t[o]*(1-i)+e[o]*i;return r}}function mU(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vU(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=Ol(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(s){for(a=0;a<r;++a)i[a]=o[a](s);return i}}function bU(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yU(t,e){var n={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=Ol(t[o],e[o]):r[o]=e[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var pm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Op=new RegExp(pm.source,"g");function xU(t){return function(){return t}}function wU(t){return function(e){return t(e)+""}}function LC(t,e){var n=pm.lastIndex=Op.lastIndex=0,r,o,i,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=pm.exec(t))&&(o=Op.exec(e));)(i=o.index)>n&&(i=e.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:fo(r,o)})),n=Op.lastIndex;return n<e.length&&(i=e.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?wU(l[0].x):xU(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)s[(h=l[u]).i]=h.x(c);return s.join("")})}function Ol(t,e){var n=typeof e,r;return e==null||n==="boolean"?X0(e):(n==="number"?fo:n==="string"?(r=ka(e))?(e=r,zd):LC:e instanceof ka?zd:e instanceof Date?bU:mU(e)?gU:Array.isArray(e)?vU:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yU:fo)(t,e)}var vx=180/Math.PI,gm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function FC(t,e,n,r,o,i){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*vx,skewX:Math.atan(l)*vx,scaleX:a,scaleY:s}}var au;function _U(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?gm:FC(e.a,e.b,e.c,e.d,e.e,e.f)}function kU(t){return t==null||(au||(au=document.createElementNS("http://www.w3.org/2000/svg","g")),au.setAttribute("transform",t),!(t=au.transform.baseVal.consolidate()))?gm:(t=t.matrix,FC(t.a,t.b,t.c,t.d,t.e,t.f))}function IC(t,e,n,r){function o(c){return c.length?c.pop()+" ":""}function i(c,u,h,f,p,m){if(c!==h||u!==f){var v=p.push("translate(",null,e,null,n);m.push({i:v-4,x:fo(c,h)},{i:v-2,x:fo(u,f)})}else(h||f)&&p.push("translate("+h+e+f+n)}function a(c,u,h,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:h.push(o(h)+"rotate(",null,r)-2,x:fo(c,u)})):u&&h.push(o(h)+"rotate("+u+r)}function s(c,u,h,f){c!==u?f.push({i:h.push(o(h)+"skewX(",null,r)-2,x:fo(c,u)}):u&&h.push(o(h)+"skewX("+u+r)}function l(c,u,h,f,p,m){if(c!==h||u!==f){var v=p.push(o(p)+"scale(",null,",",null,")");m.push({i:v-4,x:fo(c,h)},{i:v-2,x:fo(u,f)})}else(h!==1||f!==1)&&p.push(o(p)+"scale("+h+","+f+")")}return function(c,u){var h=[],f=[];return c=t(c),u=t(u),i(c.translateX,c.translateY,u.translateX,u.translateY,h,f),a(c.rotate,u.rotate,h,f),s(c.skewX,u.skewX,h,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,f),c=u=null,function(p){for(var m=-1,v=f.length,g;++m<v;)h[(g=f[m]).i]=g.x(p);return h.join("")}}}var CU=IC(_U,"px, ","px)","deg)"),SU=IC(kU,", ",")",")"),EU=1e-12;function bx(t){return((t=Math.exp(t))+1/t)/2}function TU(t){return((t=Math.exp(t))-1/t)/2}function OU(t){return((t=Math.exp(2*t))-1)/(t+1)}const td=function t(e,n,r){function o(i,a){var s=i[0],l=i[1],c=i[2],u=a[0],h=a[1],f=a[2],p=u-s,m=h-l,v=p*p+m*m,g,b;if(v<EU)b=Math.log(f/c)/e,g=function(E){return[s+E*p,l+E*m,c*Math.exp(e*E*b)]};else{var y=Math.sqrt(v),x=(f*f-c*c+r*v)/(2*c*n*y),w=(f*f-c*c-r*v)/(2*f*n*y),_=Math.log(Math.sqrt(x*x+1)-x),k=Math.log(Math.sqrt(w*w+1)-w);b=(k-_)/e,g=function(E){var $=E*b,A=bx(_),D=c/(n*y)*(A*OU(e*$+_)-TU(_));return[s+D*p,l+D*m,c*A/bx(e*$+_)]}}return g.duration=b*1e3*e/Math.SQRT2,g}return o.rho=function(i){var a=Math.max(.001,+i),s=a*a,l=s*s;return t(a,s,l)},o}(Math.SQRT2,2,4);var Ts=0,bl=0,cl=0,NC=1e3,Ud,yl,Hd=0,Ca=0,Vh=0,ql=typeof performance=="object"&&performance.now?performance:Date,jC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Y0(){return Ca||(jC(AU),Ca=ql.now()+Vh)}function AU(){Ca=0}function Wd(){this._call=this._time=this._next=null}Wd.prototype=BC.prototype={constructor:Wd,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Y0():+n)+(e==null?0:+e),!this._next&&yl!==this&&(yl?yl._next=this:Ud=this,yl=this),this._call=t,this._time=n,mm()},stop:function(){this._call&&(this._call=null,this._time=1/0,mm())}};function BC(t,e,n){var r=new Wd;return r.restart(t,e,n),r}function MU(){Y0(),++Ts;for(var t=Ud,e;t;)(e=Ca-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ts}function yx(){Ca=(Hd=ql.now())+Vh,Ts=bl=0;try{MU()}finally{Ts=0,RU(),Ca=0}}function $U(){var t=ql.now(),e=t-Hd;e>NC&&(Vh-=e,Hd=t)}function RU(){for(var t,e=Ud,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ud=n);yl=t,mm(r)}function mm(t){if(!Ts){bl&&(bl=clearTimeout(bl));var e=t-Ca;e>24?(t<1/0&&(bl=setTimeout(yx,t-ql.now()-Vh)),cl&&(cl=clearInterval(cl))):(cl||(Hd=ql.now(),cl=setInterval($U,NC)),Ts=1,jC(yx))}}function xx(t,e,n){var r=new Wd;return e=e==null?0:+e,r.restart(o=>{r.stop(),t(o+e)},e,n),r}var DU=Hh("start","end","cancel","interrupt"),PU=[],zC=0,wx=1,vm=2,nd=3,_x=4,bm=5,rd=6;function Xh(t,e,n,r,o,i){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;LU(t,n,{name:e,index:r,group:o,on:DU,tween:PU,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:zC})}function G0(t,e){var n=ro(t,e);if(n.state>zC)throw new Error("too late; already scheduled");return n}function Mo(t,e){var n=ro(t,e);if(n.state>nd)throw new Error("too late; already running");return n}function ro(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function LU(t,e,n){var r=t.__transition,o;r[e]=n,n.timer=BC(i,0,n.time);function i(c){n.state=wx,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var u,h,f,p;if(n.state!==wx)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===nd)return xx(a);p.state===_x?(p.state=rd,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=rd,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(xx(function(){n.state===nd&&(n.state=_x,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=vm,n.on.call("start",t,t.__data__,n.index,n.group),n.state===vm){for(n.state=nd,o=new Array(f=n.tween.length),u=0,h=-1;u<f;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(o[++h]=p);o.length=h+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=bm,1),h=-1,f=o.length;++h<f;)o[h].call(t,u);n.state===bm&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=rd,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function od(t,e){var n=t.__transition,r,o,i=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){i=!1;continue}o=r.state>vm&&r.state<bm,r.state=rd,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}i&&delete t.__transition}}function FU(t){return this.each(function(){od(this,t)})}function IU(t,e){var n,r;return function(){var o=Mo(this,t),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function NU(t,e,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Mo(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:e,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function jU(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ro(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===t)return a.value;return null}return this.each((e==null?IU:NU)(n,t,e))}function q0(t,e,n){var r=t._id;return t.each(function(){var o=Mo(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return ro(o,r).value[e]}}function UC(t,e){var n;return(typeof e=="number"?fo:e instanceof ka?zd:(n=ka(e))?(e=n,zd):LC)(t,e)}function BU(t){return function(){this.removeAttribute(t)}}function zU(t){return function(){this.removeAttributeNS(t.space,t.local)}}function UU(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function HU(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function WU(t,e,n){var r,o,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===o?i:(o=l,i=e(r=a,s)))}}function VU(t,e,n){var r,o,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===o?i:(o=l,i=e(r=a,s)))}}function XU(t,e){var n=Wh(t),r=n==="transform"?SU:UC;return this.attrTween(t,typeof e=="function"?(n.local?VU:WU)(n,r,q0(this,"attr."+t,e)):e==null?(n.local?zU:BU)(n):(n.local?HU:UU)(n,r,e))}function YU(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function GU(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function qU(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&GU(t,i)),n}return o._value=e,o}function KU(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&YU(t,i)),n}return o._value=e,o}function ZU(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Wh(t);return this.tween(n,(r.local?qU:KU)(r,e))}function JU(t,e){return function(){G0(this,t).delay=+e.apply(this,arguments)}}function QU(t,e){return e=+e,function(){G0(this,t).delay=e}}function eH(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?JU:QU)(e,t)):ro(this.node(),e).delay}function tH(t,e){return function(){Mo(this,t).duration=+e.apply(this,arguments)}}function nH(t,e){return e=+e,function(){Mo(this,t).duration=e}}function rH(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?tH:nH)(e,t)):ro(this.node(),e).duration}function oH(t,e){if(typeof e!="function")throw new Error;return function(){Mo(this,t).ease=e}}function iH(t){var e=this._id;return arguments.length?this.each(oH(e,t)):ro(this.node(),e).ease}function aH(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Mo(this,t).ease=n}}function sH(t){if(typeof t!="function")throw new Error;return this.each(aH(this._id,t))}function lH(t){typeof t!="function"&&(t=xC(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,s=r[o]=[],l,c=0;c<a;++c)(l=i[c])&&t.call(l,l.__data__,c,i)&&s.push(l);return new Qo(r,this._parents,this._name,this._id)}function cH(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l=e[s],c=n[s],u=l.length,h=a[s]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(h[p]=f);for(;s<r;++s)a[s]=e[s];return new Qo(a,this._parents,this._name,this._id)}function uH(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function dH(t,e,n){var r,o,i=uH(e)?G0:Mo;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(e,n),a.on=o}}function hH(t,e){var n=this._id;return arguments.length<2?ro(this.node(),n).on.on(t):this.each(dH(n,t,e))}function fH(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function pH(){return this.on("end.remove",fH(this._id))}function gH(t){var e=this._name,n=this._id;typeof t!="function"&&(t=H0(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s=r[a],l=s.length,c=i[a]=new Array(l),u,h,f=0;f<l;++f)(u=s[f])&&(h=t.call(u,u.__data__,f,s))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h,Xh(c[f],e,n,f,c,ro(u,n)));return new Qo(i,this._parents,e,n)}function mH(t){var e=this._name,n=this._id;typeof t!="function"&&(t=yC(t));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l=r[s],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var f=t.call(u,u.__data__,h,l),p,m=ro(u,n),v=0,g=f.length;v<g;++v)(p=f[v])&&Xh(p,e,n,v,f,m);i.push(f),a.push(u)}return new Qo(i,a,e,n)}var vH=xc.prototype.constructor;function bH(){return new vH(this._groups,this._parents)}function yH(t,e){var n,r,o;return function(){var i=Es(this,t),a=(this.style.removeProperty(t),Es(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}function HC(t){return function(){this.style.removeProperty(t)}}function xH(t,e,n){var r,o=n+"",i;return function(){var a=Es(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}function wH(t,e,n){var r,o,i;return function(){var a=Es(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Es(this,t))),a===l?null:a===r&&l===o?i:(o=l,i=e(r=a,s))}}function _H(t,e){var n,r,o,i="style."+e,a="end."+i,s;return function(){var l=Mo(this,t),c=l.on,u=l.value[i]==null?s||(s=HC(e)):void 0;(c!==n||o!==u)&&(r=(n=c).copy()).on(a,o=u),l.on=r}}function kH(t,e,n){var r=(t+="")=="transform"?CU:UC;return e==null?this.styleTween(t,yH(t,r)).on("end.style."+t,HC(t)):typeof e=="function"?this.styleTween(t,wH(t,r,q0(this,"style."+t,e))).each(_H(this._id,t)):this.styleTween(t,xH(t,r,e),n).on("end.style."+t,null)}function CH(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function SH(t,e,n){var r,o;function i(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&CH(t,a,n)),r}return i._value=e,i}function EH(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,SH(t,e,n??""))}function TH(t){return function(){this.textContent=t}}function OH(t){return function(){var e=t(this);this.textContent=e??""}}function AH(t){return this.tween("text",typeof t=="function"?OH(q0(this,"text",t)):TH(t==null?"":t+""))}function MH(t){return function(e){this.textContent=t.call(this,e)}}function $H(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&MH(o)),e}return r._value=t,r}function RH(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,$H(t))}function DH(){for(var t=this._name,e=this._id,n=WC(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var u=ro(l,e);Xh(l,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Qo(r,this._parents,t,n)}function PH(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--o===0&&i()}};n.each(function(){var c=Mo(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),c.on=e}),o===0&&i()})}var LH=0;function Qo(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function WC(){return++LH}var Fo=xc.prototype;Qo.prototype={constructor:Qo,select:gH,selectAll:mH,selectChild:Fo.selectChild,selectChildren:Fo.selectChildren,filter:lH,merge:cH,selection:bH,transition:DH,call:Fo.call,nodes:Fo.nodes,node:Fo.node,size:Fo.size,empty:Fo.empty,each:Fo.each,on:hH,attr:XU,attrTween:ZU,style:kH,styleTween:EH,text:AH,textTween:RH,remove:pH,tween:jU,delay:eH,duration:rH,ease:iH,easeVarying:sH,end:PH,[Symbol.iterator]:Fo[Symbol.iterator]};function FH(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var IH={time:null,delay:0,duration:250,ease:FH};function NH(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function jH(t){var e,n;t instanceof Qo?(e=t._id,t=t._name):(e=WC(),(n=IH).time=Y0(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,l,c=0;c<s;++c)(l=a[c])&&Xh(l,t,e,c,a,n||NH(l,e));return new Qo(r,this._parents,t,e)}xc.prototype.interrupt=FU;xc.prototype.transition=jH;const su=t=>()=>t;function BH(t,{sourceEvent:e,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ho(t,e,n){this.k=t,this.x=e,this.y=n}Ho.prototype={constructor:Ho,scale:function(t){return t===1?this:new Ho(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ho(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Os=new Ho(1,0,0);Ho.prototype;function Ap(t){t.stopImmediatePropagation()}function ul(t){t.preventDefault(),t.stopImmediatePropagation()}function zH(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function UH(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function kx(){return this.__zoom||Os}function HH(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function WH(){return navigator.maxTouchPoints||"ontouchstart"in this}function VH(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function XH(){var t=zH,e=UH,n=VH,r=HH,o=WH,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=td,c=Hh("start","zoom","end"),u,h,f,p=500,m=150,v=0,g=10;function b(C){C.property("__zoom",kx).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",O).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(C,M,R,L){var P=C.selection?C.selection():C;P.property("__zoom",kx),C!==P?_(C,M,R,L):P.interrupt().each(function(){k(this,arguments).event(L).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},b.scaleBy=function(C,M,R,L){b.scaleTo(C,function(){var P=this.__zoom.k,N=typeof M=="function"?M.apply(this,arguments):M;return P*N},R,L)},b.scaleTo=function(C,M,R,L){b.transform(C,function(){var P=e.apply(this,arguments),N=this.__zoom,j=R==null?w(P):typeof R=="function"?R.apply(this,arguments):R,H=N.invert(j),B=typeof M=="function"?M.apply(this,arguments):M;return n(x(y(N,B),j,H),P,a)},R,L)},b.translateBy=function(C,M,R,L){b.transform(C,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof R=="function"?R.apply(this,arguments):R),e.apply(this,arguments),a)},null,L)},b.translateTo=function(C,M,R,L,P){b.transform(C,function(){var N=e.apply(this,arguments),j=this.__zoom,H=L==null?w(N):typeof L=="function"?L.apply(this,arguments):L;return n(Os.translate(H[0],H[1]).scale(j.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof R=="function"?-R.apply(this,arguments):-R),N,a)},L,P)};function y(C,M){return M=Math.max(i[0],Math.min(i[1],M)),M===C.k?C:new Ho(M,C.x,C.y)}function x(C,M,R){var L=M[0]-R[0]*C.k,P=M[1]-R[1]*C.k;return L===C.x&&P===C.y?C:new Ho(C.k,L,P)}function w(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function _(C,M,R,L){C.on("start.zoom",function(){k(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(L).end()}).tween("zoom",function(){var P=this,N=arguments,j=k(P,N).event(L),H=e.apply(P,N),B=R==null?w(H):typeof R=="function"?R.apply(P,N):R,te=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),U=P.__zoom,ie=typeof M=="function"?M.apply(P,N):M,V=l(U.invert(B).concat(te/U.k),ie.invert(B).concat(te/ie.k));return function(de){if(de===1)de=ie;else{var ve=V(de),ge=te/ve[2];de=new Ho(ge,B[0]-ve[0]*ge,B[1]-ve[1]*ge)}j.zoom(null,de)}})}function k(C,M,R){return!R&&C.__zooming||new E(C,M)}function E(C,M){this.that=C,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(C,M),this.taps=0}E.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,M){return this.mouse&&C!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var M=Vr(this.that).datum();c.call(C,this.that,new BH(C,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),M)}};function $(C,...M){if(!t.apply(this,arguments))return;var R=k(this,M).event(C),L=this.__zoom,P=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,r.apply(this,arguments)))),N=ho(C);if(R.wheel)(R.mouse[0][0]!==N[0]||R.mouse[0][1]!==N[1])&&(R.mouse[1]=L.invert(R.mouse[0]=N)),clearTimeout(R.wheel);else{if(L.k===P)return;R.mouse=[N,L.invert(N)],od(this),R.start()}ul(C),R.wheel=setTimeout(j,m),R.zoom("mouse",n(x(y(L,P),R.mouse[0],R.mouse[1]),R.extent,a));function j(){R.wheel=null,R.end()}}function A(C,...M){if(f||!t.apply(this,arguments))return;var R=C.currentTarget,L=k(this,M,!0).event(C),P=Vr(C.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",te,!0),N=ho(C,R),j=C.clientX,H=C.clientY;MC(C.view),Ap(C),L.mouse=[N,this.__zoom.invert(N)],od(this),L.start();function B(U){if(ul(U),!L.moved){var ie=U.clientX-j,V=U.clientY-H;L.moved=ie*ie+V*V>v}L.event(U).zoom("mouse",n(x(L.that.__zoom,L.mouse[0]=ho(U,R),L.mouse[1]),L.extent,a))}function te(U){P.on("mousemove.zoom mouseup.zoom",null),$C(U.view,L.moved),ul(U),L.event(U).end()}}function D(C,...M){if(t.apply(this,arguments)){var R=this.__zoom,L=ho(C.changedTouches?C.changedTouches[0]:C,this),P=R.invert(L),N=R.k*(C.shiftKey?.5:2),j=n(x(y(R,N),L,P),e.apply(this,M),a);ul(C),s>0?Vr(this).transition().duration(s).call(_,j,L,C):Vr(this).call(b.transform,j,L,C)}}function O(C,...M){if(t.apply(this,arguments)){var R=C.touches,L=R.length,P=k(this,M,C.changedTouches.length===L).event(C),N,j,H,B;for(Ap(C),j=0;j<L;++j)H=R[j],B=ho(H,this),B=[B,this.__zoom.invert(B),H.identifier],P.touch0?!P.touch1&&P.touch0[2]!==B[2]&&(P.touch1=B,P.taps=0):(P.touch0=B,N=!0,P.taps=1+!!u);u&&(u=clearTimeout(u)),N&&(P.taps<2&&(h=B[0],u=setTimeout(function(){u=null},p)),od(this),P.start())}}function S(C,...M){if(this.__zooming){var R=k(this,M).event(C),L=C.changedTouches,P=L.length,N,j,H,B;for(ul(C),N=0;N<P;++N)j=L[N],H=ho(j,this),R.touch0&&R.touch0[2]===j.identifier?R.touch0[0]=H:R.touch1&&R.touch1[2]===j.identifier&&(R.touch1[0]=H);if(j=R.that.__zoom,R.touch1){var te=R.touch0[0],U=R.touch0[1],ie=R.touch1[0],V=R.touch1[1],de=(de=ie[0]-te[0])*de+(de=ie[1]-te[1])*de,ve=(ve=V[0]-U[0])*ve+(ve=V[1]-U[1])*ve;j=y(j,Math.sqrt(de/ve)),H=[(te[0]+ie[0])/2,(te[1]+ie[1])/2],B=[(U[0]+V[0])/2,(U[1]+V[1])/2]}else if(R.touch0)H=R.touch0[0],B=R.touch0[1];else return;R.zoom("touch",n(x(j,H,B),R.extent,a))}}function T(C,...M){if(this.__zooming){var R=k(this,M).event(C),L=C.changedTouches,P=L.length,N,j;for(Ap(C),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),N=0;N<P;++N)j=L[N],R.touch0&&R.touch0[2]===j.identifier?delete R.touch0:R.touch1&&R.touch1[2]===j.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(j=ho(j,this),Math.hypot(h[0]-j[0],h[1]-j[1])<g)){var H=Vr(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return b.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:su(+C),b):r},b.filter=function(C){return arguments.length?(t=typeof C=="function"?C:su(!!C),b):t},b.touchable=function(C){return arguments.length?(o=typeof C=="function"?C:su(!!C),b):o},b.extent=function(C){return arguments.length?(e=typeof C=="function"?C:su([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),b):e},b.scaleExtent=function(C){return arguments.length?(i[0]=+C[0],i[1]=+C[1],b):[i[0],i[1]]},b.translateExtent=function(C){return arguments.length?(a[0][0]=+C[0][0],a[1][0]=+C[1][0],a[0][1]=+C[0][1],a[1][1]=+C[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(C){return arguments.length?(n=C,b):n},b.duration=function(C){return arguments.length?(s=+C,b):s},b.interpolate=function(C){return arguments.length?(l=C,b):l},b.on=function(){var C=c.on.apply(c,arguments);return C===c?b:C},b.clickDistance=function(C){return arguments.length?(v=(C=+C)*C,b):Math.sqrt(v)},b.tapDistance=function(C){return arguments.length?(g=+C,b):g},b}var Pe=(t=>(t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom",t))(Pe||{}),K0=(t=>(t.Partial="partial",t.Full="full",t))(K0||{}),ea=(t=>(t.Bezier="default",t.SimpleBezier="simple-bezier",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t))(ea||{}),ei=(t=>(t.Strict="strict",t.Loose="loose",t))(ei||{}),As=(t=>(t.Arrow="arrow",t.ArrowClosed="arrowclosed",t))(As||{}),Al=(t=>(t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal",t))(Al||{});const YH=["INPUT","SELECT","TEXTAREA"],GH=typeof document<"u"?document:null;function ym(t){var e,n;const r=((n=(e=t.composedPath)==null?void 0:e.call(t))==null?void 0:n[0])||t.target,o=typeof r?.hasAttribute=="function"?r.hasAttribute("contenteditable"):!1,i=typeof r?.closest=="function"?r.closest(".nokey"):null;return YH.includes(r?.nodeName)||o||!!i}function qH(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey}function Cx(t,e,n,r){const o=e.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(a=>a.trim().toLowerCase());if(o.length===1)return t.toLowerCase()===e.toLowerCase();r||n.add(t.toLowerCase());const i=o.every((a,s)=>n.has(a)&&Array.from(n.values())[s]===o[s]);return r&&n.delete(t.toLowerCase()),i}function KH(t,e){return n=>{if(!n.code&&!n.key)return!1;const r=ZH(n.code,t);return Array.isArray(t)?t.some(o=>Cx(n[r],o,e,n.type==="keyup")):Cx(n[r],t,e,n.type==="keyup")}}function ZH(t,e){return e.includes(t)?"code":"key"}function Ml(t,e){const n=z(()=>dt(e?.target)??GH),r=va(dt(t)===!0);let o=!1;const i=new Set;let a=l(dt(t));pe(()=>dt(t),(c,u)=>{typeof u=="boolean"&&typeof c!="boolean"&&s(),a=l(c)},{immediate:!0}),vC(["blur","contextmenu"],s),ax((...c)=>a(...c),c=>{var u,h;const f=dt(e?.actInsideInputWithModifier)??!0,p=dt(e?.preventDefault)??!1;if(o=qH(c),(!o||o&&!f)&&ym(c))return;const v=((h=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:h[0])||c.target,g=v?.nodeName==="BUTTON"||v?.nodeName==="A";!p&&(o||!g)&&c.preventDefault(),r.value=!0},{eventName:"keydown",target:n}),ax((...c)=>a(...c),c=>{const u=dt(e?.actInsideInputWithModifier)??!0;if(r.value){if((!o||o&&!u)&&ym(c))return;o=!1,r.value=!1}},{eventName:"keyup",target:n});function s(){o=!1,i.clear(),r.value=dt(t)===!0}function l(c){return c===null?(s(),()=>!1):typeof c=="boolean"?(s(),r.value=c,()=>!1):Array.isArray(c)||typeof c=="string"?KH(c,i):c}return r}const VC="vue-flow__node-desc",XC="vue-flow__edge-desc",JH="vue-flow__aria-live",YC=["Enter"," ","Escape"],cs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Vd(t){return{...t.computedPosition||{x:0,y:0},width:t.dimensions.width||0,height:t.dimensions.height||0}}function Xd(t,e){const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)}function Yh(t){return{width:t.offsetWidth,height:t.offsetHeight}}function Sa(t,e=0,n=1){return Math.min(Math.max(t,e),n)}function GC(t,e){return{x:Sa(t.x,e[0][0],e[1][0]),y:Sa(t.y,e[0][1],e[1][1])}}function Sx(t){const e=t.getRootNode();return"elementFromPoint"in e?e:window.document}function Ri(t){return t&&typeof t=="object"&&"id"in t&&"source"in t&&"target"in t}function ga(t){return t&&typeof t=="object"&&"id"in t&&"position"in t&&!Ri(t)}function xl(t){return ga(t)&&"computedPosition"in t}function lu(t){return!Number.isNaN(t)&&Number.isFinite(t)}function QH(t){return lu(t.width)&&lu(t.height)&&lu(t.x)&&lu(t.y)}function eW(t,e,n){const r={id:t.id.toString(),type:t.type??"default",dimensions:Jr({width:0,height:0}),computedPosition:Jr({z:0,...t.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:on(t.data)?t.data:{},events:Jr(on(t.events)?t.events:{})};return Object.assign(e??r,t,{id:t.id.toString(),parentNode:n})}function qC(t,e,n){var r,o;const i={id:t.id.toString(),type:t.type??e?.type??"default",source:t.source.toString(),target:t.target.toString(),sourceHandle:(r=t.sourceHandle)==null?void 0:r.toString(),targetHandle:(o=t.targetHandle)==null?void 0:o.toString(),updatable:t.updatable??n?.updatable,selectable:t.selectable??n?.selectable,focusable:t.focusable??n?.focusable,data:on(t.data)?t.data:{},events:Jr(on(t.events)?t.events:{}),label:t.label??"",interactionWidth:t.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(e??i,t,{id:t.id.toString()})}function KC(t,e,n,r){const o=typeof t=="string"?t:t.id,i=new Set,a=r==="source"?"target":"source";for(const s of n)s[a]===o&&i.add(s[r]);return e.filter(s=>i.has(s.id))}function tW(...t){if(t.length===3){const[i,a,s]=t;return KC(i,a,s,"target")}const[e,n]=t,r=typeof e=="string"?e:e.id;return n.filter(i=>Ri(i)&&i.source===r).map(i=>n.find(a=>ga(a)&&a.id===i.target))}function nW(...t){if(t.length===3){const[i,a,s]=t;return KC(i,a,s,"source")}const[e,n]=t,r=typeof e=="string"?e:e.id;return n.filter(i=>Ri(i)&&i.target===r).map(i=>n.find(a=>ga(a)&&a.id===i.source))}function ZC({source:t,sourceHandle:e,target:n,targetHandle:r}){return`vueflow__edge-${t}${e??""}-${n}${r??""}`}function rW(t,e){return e.some(n=>Ri(n)&&n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle))}function xm({x:t,y:e},{x:n,y:r,zoom:o}){return{x:t*o+n,y:e*o+r}}function Kl({x:t,y:e},{x:n,y:r,zoom:o},i=!1,a=[1,1]){const s={x:(t-n)/o,y:(e-r)/o};return i?Gh(s,a):s}function oW(t,e){return{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}}function JC({x:t,y:e,width:n,height:r}){return{x:t,y:e,x2:t+n,y2:e+r}}function iW({x:t,y:e,x2:n,y2:r}){return{x:t,y:e,width:n-t,height:r-e}}function QC(t){let e={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<t.length;n++){const r=t[n];e=oW(e,JC({...r.computedPosition,...r.dimensions}))}return iW(e)}function eS(t,e,n={x:0,y:0,zoom:1},r=!1,o=!1){const i={...Kl(e,n),width:e.width/n.zoom,height:e.height/n.zoom},a=[];for(const s of t){const{dimensions:l,selectable:c=!0,hidden:u=!1}=s,h=l.width??s.width??null,f=l.height??s.height??null;if(o&&!c||u)continue;const p=Xd(i,Vd(s)),m=h===null||f===null,v=r&&p>0,g=(h??0)*(f??0);(m||v||p>=g||s.dragging)&&a.push(s)}return a}function tS(t,e){const n=new Set;if(typeof t=="string")n.add(t);else if(t.length>=1)for(const r of t)n.add(r.id);return e.filter(r=>n.has(r.source)||n.has(r.target))}function Ex(t,e,n,r,o,i=.1,a={x:0,y:0}){const s=e/(t.width*(1+i)),l=n/(t.height*(1+i)),c=Math.min(s,l),u=Sa(c,r,o),h=t.x+t.width/2,f=t.y+t.height/2,p=e/2-h*u+(a.x??0),m=n/2-f*u+(a.y??0);return{x:p,y:m,zoom:u}}function aW(t,e){return{x:e.x+t.x,y:e.y+t.y,z:(t.z>e.z?t.z:e.z)+1}}function nS(t,e){if(!t.parentNode)return!1;const n=e(t.parentNode);return n?n.selected?!0:nS(n,e):!1}function Zl(t,e){return typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`}function Tx(t,e,n){return t<e?Sa(Math.abs(t-e),1,e)/e:t>n?-Sa(Math.abs(t-n),1,e)/e:0}function rS(t,e,n=15,r=40){const o=Tx(t.x,r,e.width-r)*n,i=Tx(t.y,r,e.height-r)*n;return[o,i]}function Mp(t,e){if(e){const n=t.position.x+t.dimensions.width-e.dimensions.width,r=t.position.y+t.dimensions.height-e.dimensions.height;if(n>0||r>0||t.position.x<0||t.position.y<0){let o={};if(typeof e.style=="function"?o={...e.style(e)}:e.style&&(o={...e.style}),o.width=o.width??`${e.dimensions.width}px`,o.height=o.height??`${e.dimensions.height}px`,n>0)if(typeof o.width=="string"){const i=Number(o.width.replace("px",""));o.width=`${i+n}px`}else o.width+=n;if(r>0)if(typeof o.height=="string"){const i=Number(o.height.replace("px",""));o.height=`${i+r}px`}else o.height+=r;if(t.position.x<0){const i=Math.abs(t.position.x);if(e.position.x=e.position.x-i,typeof o.width=="string"){const a=Number(o.width.replace("px",""));o.width=`${a+i}px`}else o.width+=i;t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);if(e.position.y=e.position.y-i,typeof o.height=="string"){const a=Number(o.height.replace("px",""));o.height=`${a+i}px`}else o.height+=i;t.position.y=0}e.dimensions.width=Number(o.width.toString().replace("px","")),e.dimensions.height=Number(o.height.toString().replace("px","")),typeof e.style=="function"?e.style=i=>{const a=e.style;return{...a(i),...o}}:e.style={...e.style,...o}}}}function Ox(t,e){var n,r;const o=t.filter(a=>a.type==="add"||a.type==="remove");for(const a of o)if(a.type==="add")e.findIndex(l=>l.id===a.item.id)===-1&&e.push(a.item);else if(a.type==="remove"){const s=e.findIndex(l=>l.id===a.id);s!==-1&&e.splice(s,1)}const i=e.map(a=>a.id);for(const a of e)for(const s of t)if(s.id===a.id)switch(s.type){case"select":a.selected=s.selected;break;case"position":if(xl(a)&&(typeof s.position<"u"&&(a.position=s.position),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&a.parentNode)){const l=e[i.indexOf(a.parentNode)];l&&xl(l)&&Mp(a,l)}break;case"dimensions":if(xl(a)&&(typeof s.dimensions<"u"&&(a.dimensions=s.dimensions),typeof s.updateStyle<"u"&&s.updateStyle&&(a.style={...a.style||{},width:`${(n=s.dimensions)==null?void 0:n.width}px`,height:`${(r=s.dimensions)==null?void 0:r.height}px`}),typeof s.resizing<"u"&&(a.resizing=s.resizing),a.expandParent&&a.parentNode)){const l=e[i.indexOf(a.parentNode)];l&&xl(l)&&(!!l.dimensions.width&&!!l.dimensions.height?Mp(a,l):Lt(()=>{Mp(a,l)}))}break}return e}function yi(t,e){return{id:t,type:"select",selected:e}}function Ax(t){return{item:t,type:"add"}}function Mx(t){return{id:t,type:"remove"}}function $x(t,e,n,r,o){return{id:t,source:e,target:n,sourceHandle:r||null,targetHandle:o||null,type:"remove"}}function wi(t,e=new Set,n=!1){const r=[];for(const[o,i]of t){const a=e.has(o);!(i.selected===void 0&&!a)&&i.selected!==a&&(n&&(i.selected=a),r.push(yi(i.id,a)))}return r}function $e(t){const e=new Set;let n=!1;const r=()=>e.size>0;t&&(n=!0,e.add(t));const o=s=>{e.delete(s)};return{on:s=>{t&&n&&e.delete(t),e.add(s);const l=()=>{o(s),t&&n&&e.add(t)};return Uh(l),{off:l}},off:o,trigger:s=>Promise.all(Array.from(e).map(l=>l(s))),hasListeners:r,fns:e}}function Rx(t,e,n){let r=t;do{if(r&&r.matches(e))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function sW(t,e,n,r,o){var i,a;const s=[];for(const l of t)(l.selected||l.id===o)&&(!l.parentNode||!nS(l,r))&&(l.draggable||e&&typeof l.draggable>"u")&&s.push(Jr({id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((i=l.computedPosition)==null?void 0:i.x)||0,y:n.y-((a=l.computedPosition)==null?void 0:a.y)||0},from:l.computedPosition,extent:l.extent,parentNode:l.parentNode,dimensions:l.dimensions,expandParent:l.expandParent}));return s}function $p({id:t,dragItems:e,findNode:n}){const r=[];for(const o of e){const i=n(o.id);i&&r.push(i)}return[t?r.find(o=>o.id===t):r[0],r]}function oS(t){if(Array.isArray(t))switch(t.length){case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];case 4:return t;default:return[0,0,0,0]}return[t,t,t,t]}function lW(t,e,n){const[r,o,i,a]=typeof t!="string"?oS(t.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+a,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-o,n.computedPosition.y+n.dimensions.height-i]]:!1}function cW(t,e,n,r){let o=t.extent||n;if((o==="parent"||!Array.isArray(o)&&o?.range==="parent")&&!t.expandParent)if(t.parentNode&&r&&t.dimensions.width&&t.dimensions.height){const i=lW(o,t,r);i&&(o=i)}else e(new dn(cn.NODE_EXTENT_INVALID,t.id)),o=n;else if(Array.isArray(o)){const i=r?.computedPosition.x||0,a=r?.computedPosition.y||0;o=[[o[0][0]+i,o[0][1]+a],[o[1][0]+i,o[1][1]+a]]}else if(o!=="parent"&&o?.range&&Array.isArray(o.range)){const[i,a,s,l]=oS(o.padding),c=r?.computedPosition.x||0,u=r?.computedPosition.y||0;o=[[o.range[0][0]+c+l,o.range[0][1]+u+i],[o.range[1][0]+c-a,o.range[1][1]+u-s]]}return o==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:o}function uW({width:t,height:e},n){return[n[0],[n[1][0]-(t||0),n[1][1]-(e||0)]]}function Z0(t,e,n,r,o){const i=uW(t.dimensions,cW(t,n,r,o)),a=GC(e,i);return{position:{x:a.x-(o?.computedPosition.x||0),y:a.y-(o?.computedPosition.y||0)},computedPosition:a}}function Ms(t,e,n=Pe.Left,r=!1){const o=(e?.x??0)+t.computedPosition.x,i=(e?.y??0)+t.computedPosition.y,{width:a,height:s}=e??pW(t);if(r)return{x:o+a/2,y:i+s/2};switch(e?.position??n){case Pe.Top:return{x:o+a/2,y:i};case Pe.Right:return{x:o+a,y:i+s/2};case Pe.Bottom:return{x:o+a/2,y:i+s};case Pe.Left:return{x:o,y:i+s/2}}}function Dx(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function dW({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:a,height:s,viewport:l}){const c={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+o),y2:Math.max(t.y+r,e.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=JC({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:a/l.zoom,height:s/l.zoom}),h=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),f=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(h*f)>0}function hW(t,e,n=!1){const r=typeof t.zIndex=="number";let o=r?t.zIndex:0;const i=e(t.source),a=e(t.target);return!i||!a?0:(n&&(o=r?t.zIndex:Math.max(i.computedPosition.z||0,a.computedPosition.z||0)),o)}var cn=(t=>(t.MISSING_STYLES="MISSING_STYLES",t.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",t.NODE_INVALID="NODE_INVALID",t.NODE_NOT_FOUND="NODE_NOT_FOUND",t.NODE_MISSING_PARENT="NODE_MISSING_PARENT",t.NODE_TYPE_MISSING="NODE_TYPE_MISSING",t.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",t.EDGE_INVALID="EDGE_INVALID",t.EDGE_NOT_FOUND="EDGE_NOT_FOUND",t.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",t.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",t.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",t.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",t.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",t.EDGE_ORPHANED="EDGE_ORPHANED",t.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",t))(cn||{});const Px={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:t=>`Node is invalid
Node: ${t}`,NODE_NOT_FOUND:t=>`Node not found
Node: ${t}`,NODE_MISSING_PARENT:(t,e)=>`Node is missing a parent
Node: ${t}
Parent: ${e}`,NODE_TYPE_MISSING:t=>`Node type is missing
Type: ${t}`,NODE_EXTENT_INVALID:t=>`Only child nodes can use a parent extent
Node: ${t}`,EDGE_INVALID:t=>`An edge needs a source and a target
Edge: ${t}`,EDGE_SOURCE_MISSING:(t,e)=>`Edge source is missing
Edge: ${t} 
Source: ${e}`,EDGE_TARGET_MISSING:(t,e)=>`Edge target is missing
Edge: ${t} 
Target: ${e}`,EDGE_TYPE_MISSING:t=>`Edge type is missing
Type: ${t}`,EDGE_SOURCE_TARGET_SAME:(t,e,n)=>`Edge source and target are the same
Edge: ${t} 
Source: ${e} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(t,e,n)=>`Edge source or target is missing
Edge: ${t} 
Source: ${e} 
Target: ${n}`,EDGE_ORPHANED:t=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${t}`,EDGE_NOT_FOUND:t=>`Edge not found
Edge: ${t}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class dn extends Error{constructor(e,...n){var r;super((r=Px[e])==null?void 0:r.call(Px,...n)),this.name="VueFlowError",this.code=e,this.args=n}}function J0(t){return"clientX"in t}function fW(t){return"sourceEvent"in t}function po(t,e){const n=J0(t);let r,o;return n?(r=t.clientX,o=t.clientY):"touches"in t&&t.touches.length>0?(r=t.touches[0].clientX,o=t.touches[0].clientY):"changedTouches"in t&&t.changedTouches.length>0?(r=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY):(r=0,o=0),{x:r-(e?.left??0),y:o-(e?.top??0)}}const Yd=()=>{var t;return typeof navigator<"u"&&((t=navigator?.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function pW(t){var e,n;return{width:((e=t.dimensions)==null?void 0:e.width)??t.width??0,height:((n=t.dimensions)==null?void 0:n.height)??t.height??0}}function Gh(t,e=[1,1]){return{x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}}const gW=()=>!0;function Rp(t){t?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function mW(t,e,n){const r=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const i of e.values())Xd(o,Vd(i))>0&&r.push(i);return r}const vW=250;function bW(t,e,n,r){var o,i;let a=[],s=Number.POSITIVE_INFINITY;const l=mW(t,n,e+vW);for(const c of l){const u=[...((o=c.handleBounds)==null?void 0:o.source)??[],...((i=c.handleBounds)==null?void 0:i.target)??[]];for(const h of u){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:p}=Ms(c,h,h.position,!0),m=Math.sqrt((f-t.x)**2+(p-t.y)**2);m>e||(m<s?(a=[{...h,x:f,y:p}],s=m):m===s&&a.push({...h,x:f,y:p}))}}if(!a.length)return null;if(a.length>1){const c=r.type==="source"?"target":"source";return a.find(u=>u.type===c)??a[0]}return a[0]}function Lx(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:a,lib:s,flowId:l,isValidConnection:c=gW},u,h,f){const p=i==="target",m=e?a.querySelector(`.${s}-flow__handle[data-id="${l}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:v,y:g}=po(t),b=a.elementFromPoint(v,g),y=b?.classList.contains(`${s}-flow__handle`)?b:m,x={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const w=iS(void 0,y),_=y.getAttribute("data-nodeid"),k=y.getAttribute("data-handleid"),E=y.classList.contains("connectable"),$=y.classList.contains("connectableend");if(!_||!w)return x;const A={source:p?_:r,sourceHandle:p?k:o,target:p?r:_,targetHandle:p?o:k};x.connection=A;const O=E&&$&&(n===ei.Strict?p&&w==="source"||!p&&w==="target":_!==r||k!==o);x.isValid=O&&c(A,{nodes:h,edges:u,sourceNode:f(r),targetNode:f(_)}),x.toHandle=e}return x}function iS(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function yW(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function xW(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}function wW(t,e,n,r,o,i=!1){var a,s,l;const c=r.get(t);if(!c)return null;const u=o===ei.Strict?(a=c.handleBounds)==null?void 0:a[e]:[...((s=c.handleBounds)==null?void 0:s.source)??[],...((l=c.handleBounds)==null?void 0:l.target)??[]],h=(n?u?.find(f=>f.id===n):u?.[0])??null;return h&&i?{...h,...Ms(c,h,h.position,!0)}:h}const wm={[Pe.Left]:Pe.Right,[Pe.Right]:Pe.Left,[Pe.Top]:Pe.Bottom,[Pe.Bottom]:Pe.Top},_W=["production","prod"];function qh(t,...e){aS()&&console.warn(`[Vue Flow]: ${t}`,...e)}function aS(){return!_W.includes("production")}function Fx(t,e,n,r,o){const i=e.querySelectorAll(`.vue-flow__handle.${t}`);return i?.length?Array.from(i).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:t,nodeId:o,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Yh(a)}}):null}function _m(t,e,n,r,o,i=!1,a){o.value=!1,t.selected?(i||t.selected&&e)&&(r([t]),Lt(()=>{a.blur()})):n([t])}function on(t){return typeof _e(t)<"u"}function kW(t,e,n,r){if(!t||!t.source||!t.target)return n(new dn(cn.EDGE_INVALID,t?.id??"[ID UNKNOWN]")),!1;let o;return Ri(t)?o=t:o={...t,id:ZC(t)},o=qC(o,void 0,r),rW(o,e)?!1:o}function CW(t,e,n,r,o){if(!e.source||!e.target)return o(new dn(cn.EDGE_INVALID,t.id)),!1;if(!n)return o(new dn(cn.EDGE_NOT_FOUND,t.id)),!1;const{id:i,...a}=t;return{...a,id:r?ZC(e):i,source:e.source,target:e.target,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle}}function Ix(t,e,n){const r={},o=[];for(let i=0;i<t.length;++i){const a=t[i];if(!ga(a)){n(new dn(cn.NODE_INVALID,a?.id)||`[ID UNKNOWN|INDEX ${i}]`);continue}const s=eW(a,e(a.id),a.parentNode);a.parentNode&&(r[a.parentNode]=!0),o[i]=s}for(const i of o){const a=e(i.parentNode)||o.find(s=>s.id===i.parentNode);i.parentNode&&!a&&n(new dn(cn.NODE_MISSING_PARENT,i.id,i.parentNode)),(i.parentNode||r[i.id])&&(r[i.id]&&(i.isParent=!0),a&&(a.isParent=!0))}return o}function Nx(t,e,n,r,o,i){let a=o;const s=r.get(a)||new Map;r.set(a,s.set(n,e)),a=`${o}-${t}`;const l=r.get(a)||new Map;if(r.set(a,l.set(n,e)),i){a=`${o}-${t}-${i}`;const c=r.get(a)||new Map;r.set(a,c.set(n,e))}}function Dp(t,e,n){t.clear();for(const r of n){const{source:o,target:i,sourceHandle:a=null,targetHandle:s=null}=r,l={edgeId:r.id,source:o,target:i,sourceHandle:a,targetHandle:s},c=`${o}-${a}--${i}-${s}`,u=`${i}-${s}--${o}-${a}`;Nx("source",l,u,t,o,a),Nx("target",l,c,t,i,s)}}function jx(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Pp(t,e,n,r,o,i,a,s){const l=[];for(const c of t){const u=Ri(c)?c:kW(c,s,o,i);if(!u)continue;const h=n(u.source),f=n(u.target);if(!h||!f){o(new dn(cn.EDGE_SOURCE_TARGET_MISSING,u.id,u.source,u.target));continue}if(!h){o(new dn(cn.EDGE_SOURCE_MISSING,u.id,u.source));continue}if(!f){o(new dn(cn.EDGE_TARGET_MISSING,u.id,u.target));continue}if(e&&!e(u,{edges:s,nodes:a,sourceNode:h,targetNode:f})){o(new dn(cn.EDGE_INVALID,u.id));continue}const p=r(u.id);l.push({...qC(u,p,i),sourceNode:h,targetNode:f})}return l}const Bx=Symbol("vueFlow"),sS=Symbol("nodeId"),lS=Symbol("nodeRef"),SW=Symbol("edgeId"),EW=Symbol("edgeRef"),Kh=Symbol("slots");function cS(t){const{vueFlowRef:e,snapToGrid:n,snapGrid:r,noDragClassName:o,nodes:i,nodeExtent:a,nodeDragThreshold:s,viewport:l,autoPanOnNodeDrag:c,autoPanSpeed:u,nodesDraggable:h,panBy:f,findNode:p,multiSelectionActive:m,nodesSelectionActive:v,selectNodesOnDrag:g,removeSelectedElements:b,addSelectedNodes:y,updateNodePositions:x,emits:w}=At(),{onStart:_,onDrag:k,onStop:E,onClick:$,el:A,disabled:D,id:O,selectable:S,dragHandle:T}=t,C=va(!1);let M=[],R,L=null,P={x:void 0,y:void 0},N={x:0,y:0},j=null,H=!1,B=0,te=!1;const U=AW(),ie=({x:Ce,y:Ae})=>{P={x:Ce,y:Ae};let Me=!1;if(M=M.map(Y=>{const W={x:Ce-Y.distance.x,y:Ae-Y.distance.y},{computedPosition:Z}=Z0(Y,n.value?Gh(W,r.value):W,w.error,a.value,Y.parentNode?p(Y.parentNode):void 0);return Me=Me||Y.position.x!==Z.x||Y.position.y!==Z.y,Y.position=Z,Y}),!!Me&&(x(M,!0,!0),C.value=!0,j)){const[Y,W]=$p({id:O,dragItems:M,findNode:p});k({event:j,node:Y,nodes:W})}},V=()=>{if(!L)return;const[Ce,Ae]=rS(N,L,u.value);if(Ce!==0||Ae!==0){const Me={x:(P.x??0)-Ce/l.value.zoom,y:(P.y??0)-Ae/l.value.zoom};f({x:Ce,y:Ae})&&ie(Me)}B=requestAnimationFrame(V)},de=(Ce,Ae)=>{H=!0;const Me=p(O);!g.value&&!m.value&&Me&&(Me.selected||b()),Me&&dt(S)&&g.value&&_m(Me,m.value,y,b,v,!1,Ae);const Y=U(Ce.sourceEvent);if(P=Y,M=sW(i.value,h.value,Y,p,O),M.length){const[W,Z]=$p({id:O,dragItems:M,findNode:p});_({event:Ce.sourceEvent,node:W,nodes:Z})}},ve=(Ce,Ae)=>{var Me;Ce.sourceEvent.type==="touchmove"&&Ce.sourceEvent.touches.length>1||(s.value===0&&de(Ce,Ae),P=U(Ce.sourceEvent),L=((Me=e.value)==null?void 0:Me.getBoundingClientRect())||null,N=po(Ce.sourceEvent,L))},ge=(Ce,Ae)=>{const Me=U(Ce.sourceEvent);if(!te&&H&&c.value&&(te=!0,V()),!H){const Y=Me.xSnapped-(P.x??0),W=Me.ySnapped-(P.y??0);Math.sqrt(Y*Y+W*W)>s.value&&de(Ce,Ae)}(P.x!==Me.xSnapped||P.y!==Me.ySnapped)&&M.length&&H&&(j=Ce.sourceEvent,N=po(Ce.sourceEvent,L),ie(Me))},ke=Ce=>{let Ae=!1;if(!H&&!C.value&&!m.value){const Me=Ce.sourceEvent,Y=U(Me),W=Y.xSnapped-(P.x??0),Z=Y.ySnapped-(P.y??0),K=Math.sqrt(W*W+Z*Z);K!==0&&K<=s.value&&($?.(Me),Ae=!0)}if(M.length&&!Ae){x(M,!1,!1);const[Me,Y]=$p({id:O,dragItems:M,findNode:p});E({event:Ce.sourceEvent,node:Me,nodes:Y})}M=[],C.value=!1,te=!1,H=!1,P={x:void 0,y:void 0},cancelAnimationFrame(B)};return pe([()=>dt(D),A],([Ce,Ae],Me,Y)=>{if(Ae){const W=Vr(Ae);Ce||(R=Qz().on("start",Z=>ve(Z,Ae)).on("drag",Z=>ge(Z,Ae)).on("end",Z=>ke(Z)).filter(Z=>{const K=Z.target,F=dt(T);return!Z.button&&(!o.value||!Rx(K,`.${o.value}`,Ae)&&(!F||Rx(K,F,Ae)))}),W.call(R)),Y(()=>{W.on(".drag",null),R&&(R.on("start",null),R.on("drag",null),R.on("end",null))})}}),C}function TW(){return{doubleClick:$e(),click:$e(),mouseEnter:$e(),mouseMove:$e(),mouseLeave:$e(),contextMenu:$e(),updateStart:$e(),update:$e(),updateEnd:$e()}}function OW(t,e){const n=TW();return n.doubleClick.on(r=>{var o,i;e.edgeDoubleClick(r),(i=(o=t.events)==null?void 0:o.doubleClick)==null||i.call(o,r)}),n.click.on(r=>{var o,i;e.edgeClick(r),(i=(o=t.events)==null?void 0:o.click)==null||i.call(o,r)}),n.mouseEnter.on(r=>{var o,i;e.edgeMouseEnter(r),(i=(o=t.events)==null?void 0:o.mouseEnter)==null||i.call(o,r)}),n.mouseMove.on(r=>{var o,i;e.edgeMouseMove(r),(i=(o=t.events)==null?void 0:o.mouseMove)==null||i.call(o,r)}),n.mouseLeave.on(r=>{var o,i;e.edgeMouseLeave(r),(i=(o=t.events)==null?void 0:o.mouseLeave)==null||i.call(o,r)}),n.contextMenu.on(r=>{var o,i;e.edgeContextMenu(r),(i=(o=t.events)==null?void 0:o.contextMenu)==null||i.call(o,r)}),n.updateStart.on(r=>{var o,i;e.edgeUpdateStart(r),(i=(o=t.events)==null?void 0:o.updateStart)==null||i.call(o,r)}),n.update.on(r=>{var o,i;e.edgeUpdate(r),(i=(o=t.events)==null?void 0:o.update)==null||i.call(o,r)}),n.updateEnd.on(r=>{var o,i;e.edgeUpdateEnd(r),(i=(o=t.events)==null?void 0:o.updateEnd)==null||i.call(o,r)}),Object.entries(n).reduce((r,[o,i])=>(r.emit[o]=i.trigger,r.on[o]=i.on,r),{emit:{},on:{}})}function AW(){const{viewport:t,snapGrid:e,snapToGrid:n,vueFlowRef:r}=At();return o=>{var i;const a=((i=r.value)==null?void 0:i.getBoundingClientRect())??{left:0,top:0},s=fW(o)?o.sourceEvent:o,{x:l,y:c}=po(s,a),u=Kl({x:l,y:c},t.value),{x:h,y:f}=n.value?Gh(u,e.value):u;return{xSnapped:h,ySnapped:f,...u}}}function cu(){return!0}function uS({handleId:t,nodeId:e,type:n,isValidConnection:r,edgeUpdaterType:o,onEdgeUpdate:i,onEdgeUpdateEnd:a}){const{id:s,vueFlowRef:l,connectionMode:c,connectionRadius:u,connectOnClick:h,connectionClickStartHandle:f,nodesConnectable:p,autoPanOnConnect:m,autoPanSpeed:v,findNode:g,panBy:b,startConnection:y,updateConnection:x,endConnection:w,emits:_,viewport:k,edges:E,nodes:$,isValidConnection:A,nodeLookup:D}=At();let O=null,S=!1,T=null;function C(R){var L;const P=dt(n)==="target",N=J0(R),j=Sx(R.target);if(N&&R.button===0||!N){let H=function(ue){Y=po(ue,Ce),ie=bW(Kl(Y,k.value,!1,[1,1]),u.value,D.value,K),W||(Z(),W=!0);const he=Lx(ue,{handle:ie,connectionMode:c.value,fromNodeId:dt(e),fromHandleId:dt(t),fromType:P?"target":"source",isValidConnection:U,doc:j,lib:"vue",flowId:s,nodeLookup:D.value},E.value,$.value,g);T=he.handleDomNode,O=he.connection,S=xW(!!ie,he.isValid);const Q={...oe,isValid:S,to:he.toHandle&&S?xm({x:he.toHandle.x,y:he.toHandle.y},k.value):Y,toHandle:he.toHandle,toPosition:S&&he.toHandle?he.toHandle.position:wm[K.position],toNode:he.toHandle?D.value.get(he.toHandle.nodeId):null};if(!(S&&ie&&oe?.toHandle&&Q.toHandle&&oe.toHandle.type===Q.toHandle.type&&oe.toHandle.nodeId===Q.toHandle.nodeId&&oe.toHandle.id===Q.toHandle.id&&oe.to.x===Q.to.x&&oe.to.y===Q.to.y)){if(x(ie&&S?xm({x:ie.x,y:ie.y},k.value):Y,he.toHandle,yW(!!ie,S)),oe=Q,!ie&&!S&&!T)return Rp(Me);O&&O.source!==O.target&&T&&(Rp(Me),Me=T,T.classList.add("connecting","vue-flow__handle-connecting"),T.classList.toggle("valid",!!S),T.classList.toggle("vue-flow__handle-valid",!!S))}},B=function(ue){(ie||T)&&O&&S&&(i?i(ue,O):_.connect(O)),_.connectEnd(ue),o&&a?.(ue),Rp(Me),cancelAnimationFrame(V),w(ue),W=!1,S=!1,O=null,T=null,j.removeEventListener("mousemove",H),j.removeEventListener("mouseup",B),j.removeEventListener("touchmove",H),j.removeEventListener("touchend",B)};const te=g(dt(e));let U=dt(r)||A.value||cu;!U&&te&&(U=(P?te.isValidSourcePos:te.isValidTargetPos)||cu);let ie,V=0;const{x:de,y:ve}=po(R),ge=j?.elementFromPoint(de,ve),ke=iS(dt(o),ge),Ce=(L=l.value)==null?void 0:L.getBoundingClientRect();if(!Ce||!ke)return;const Ae=wW(dt(e),ke,dt(t),D.value,c.value);if(!Ae)return;let Me,Y=po(R,Ce),W=!1;const Z=()=>{if(!m.value)return;const[ue,he]=rS(Y,Ce,v.value);b({x:ue,y:he}),V=requestAnimationFrame(Z)},K={...Ae,nodeId:dt(e),type:ke,position:Ae.position},F=D.value.get(dt(e)),G={inProgress:!0,isValid:null,from:Ms(F,K,Pe.Left,!0),fromHandle:K,fromPosition:K.position,fromNode:F,to:Y,toHandle:null,toPosition:wm[K.position],toNode:null};y({nodeId:dt(e),id:dt(t),type:ke,position:ge?.getAttribute("data-handlepos")||Pe.Top,...Y},{x:de-Ce.left,y:ve-Ce.top}),_.connectStart({event:R,nodeId:dt(e),handleId:dt(t),handleType:ke});let oe=G;j.addEventListener("mousemove",H),j.addEventListener("mouseup",B),j.addEventListener("touchmove",H),j.addEventListener("touchend",B)}}function M(R){var L,P;if(!h.value)return;const N=dt(n)==="target";if(!f.value){_.clickConnectStart({event:R,nodeId:dt(e),handleId:dt(t)}),y({nodeId:dt(e),type:dt(n),id:dt(t),position:Pe.Top,...po(R)},void 0,!0);return}let j=dt(r)||A.value||cu;const H=g(dt(e));if(!j&&H&&(j=(N?H.isValidSourcePos:H.isValidTargetPos)||cu),H&&(typeof H.connectable>"u"?p.value:H.connectable)===!1)return;const B=Sx(R.target),te=Lx(R,{handle:{nodeId:dt(e),id:dt(t),type:dt(n),position:Pe.Top,...po(R)},connectionMode:c.value,fromNodeId:f.value.nodeId,fromHandleId:f.value.id??null,fromType:f.value.type,isValidConnection:j,doc:B,lib:"vue",flowId:s,nodeLookup:D.value},E.value,$.value,g),U=((L=te.connection)==null?void 0:L.source)===((P=te.connection)==null?void 0:P.target);te.isValid&&te.connection&&!U&&_.connect(te.connection),_.clickConnectEnd(R),w(R,!0)}return{handlePointerDown:C,handleClick:M}}function MW(){return Ot(sS,"")}function dS(t){const e=t??MW()??"",n=Ot(lS,re(null)),{findNode:r,edges:o,emits:i}=At(),a=r(e);return a||i.error(new dn(cn.NODE_NOT_FOUND,e)),{id:e,nodeEl:n,node:a,parentNode:z(()=>r(a.parentNode)),connectedEdges:z(()=>tS([a],o.value))}}function $W(){return{doubleClick:$e(),click:$e(),mouseEnter:$e(),mouseMove:$e(),mouseLeave:$e(),contextMenu:$e(),dragStart:$e(),drag:$e(),dragStop:$e()}}function RW(t,e){const n=$W();return n.doubleClick.on(r=>{var o,i;e.nodeDoubleClick(r),(i=(o=t.events)==null?void 0:o.doubleClick)==null||i.call(o,r)}),n.click.on(r=>{var o,i;e.nodeClick(r),(i=(o=t.events)==null?void 0:o.click)==null||i.call(o,r)}),n.mouseEnter.on(r=>{var o,i;e.nodeMouseEnter(r),(i=(o=t.events)==null?void 0:o.mouseEnter)==null||i.call(o,r)}),n.mouseMove.on(r=>{var o,i;e.nodeMouseMove(r),(i=(o=t.events)==null?void 0:o.mouseMove)==null||i.call(o,r)}),n.mouseLeave.on(r=>{var o,i;e.nodeMouseLeave(r),(i=(o=t.events)==null?void 0:o.mouseLeave)==null||i.call(o,r)}),n.contextMenu.on(r=>{var o,i;e.nodeContextMenu(r),(i=(o=t.events)==null?void 0:o.contextMenu)==null||i.call(o,r)}),n.dragStart.on(r=>{var o,i;e.nodeDragStart(r),(i=(o=t.events)==null?void 0:o.dragStart)==null||i.call(o,r)}),n.drag.on(r=>{var o,i;e.nodeDrag(r),(i=(o=t.events)==null?void 0:o.drag)==null||i.call(o,r)}),n.dragStop.on(r=>{var o,i;e.nodeDragStop(r),(i=(o=t.events)==null?void 0:o.dragStop)==null||i.call(o,r)}),Object.entries(n).reduce((r,[o,i])=>(r.emit[o]=i.trigger,r.on[o]=i.on,r),{emit:{},on:{}})}function hS(){const{getSelectedNodes:t,nodeExtent:e,updateNodePositions:n,findNode:r,snapGrid:o,snapToGrid:i,nodesDraggable:a,emits:s}=At();return(l,c=!1)=>{const u=i.value?o.value[0]:5,h=i.value?o.value[1]:5,f=c?4:1,p=l.x*u*f,m=l.y*h*f,v=[];for(const g of t.value)if(g.draggable||a&&typeof g.draggable>"u"){const b={x:g.computedPosition.x+p,y:g.computedPosition.y+m},{computedPosition:y}=Z0(g,b,s.error,e.value,g.parentNode?r(g.parentNode):void 0);v.push({id:g.id,position:y,from:g.position,distance:{x:l.x,y:l.y},dimensions:g.dimensions})}n(v,!0,!1)}}const Lp=.1,DW=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2;function mi(){return qh("Viewport not initialized yet."),Promise.resolve(!1)}const PW={zoomIn:mi,zoomOut:mi,zoomTo:mi,fitView:mi,setCenter:mi,fitBounds:mi,project:t=>t,screenToFlowCoordinate:t=>t,flowToScreenCoordinate:t=>t,setViewport:mi,setTransform:mi,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function LW(t){function e(r,o){return new Promise(i=>{t.d3Selection&&t.d3Zoom?t.d3Zoom.interpolate(o?.interpolate==="linear"?Ol:td).scaleBy(Fp(t.d3Selection,o?.duration,o?.ease,()=>{i(!0)}),r):i(!1)})}function n(r,o,i,a){return new Promise(s=>{var l;const{x:c,y:u}=GC({x:-r,y:-o},t.translateExtent),h=Os.translate(-c,-u).scale(i);t.d3Selection&&t.d3Zoom?(l=t.d3Zoom)==null||l.interpolate(a?.interpolate==="linear"?Ol:td).transform(Fp(t.d3Selection,a?.duration,a?.ease,()=>{s(!0)}),h):s(!1)})}return z(()=>t.d3Zoom&&t.d3Selection&&t.dimensions.width&&t.dimensions.height?{viewportInitialized:!0,zoomIn:o=>e(1.2,o),zoomOut:o=>e(1/1.2,o),zoomTo:(o,i)=>new Promise(a=>{t.d3Selection&&t.d3Zoom?t.d3Zoom.interpolate(i?.interpolate==="linear"?Ol:td).scaleTo(Fp(t.d3Selection,i?.duration,i?.ease,()=>{a(!0)}),o):a(!1)}),setViewport:(o,i)=>n(o.x,o.y,o.zoom,i),setTransform:(o,i)=>n(o.x,o.y,o.zoom,i),getViewport:()=>({x:t.viewport.x,y:t.viewport.y,zoom:t.viewport.zoom}),getTransform:()=>({x:t.viewport.x,y:t.viewport.y,zoom:t.viewport.zoom}),fitView:(o={padding:Lp,includeHiddenNodes:!1,duration:0})=>{var i,a;const s=[];for(const f of t.nodes)f.dimensions.width&&f.dimensions.height&&(o?.includeHiddenNodes||!f.hidden)&&(!((i=o.nodes)!=null&&i.length)||(a=o.nodes)!=null&&a.length&&o.nodes.includes(f.id))&&s.push(f);if(!s.length)return Promise.resolve(!1);const l=QC(s),{x:c,y:u,zoom:h}=Ex(l,t.dimensions.width,t.dimensions.height,o.minZoom??t.minZoom,o.maxZoom??t.maxZoom,o.padding??Lp,o.offset);return n(c,u,h,o)},setCenter:(o,i,a)=>{const s=typeof a?.zoom<"u"?a.zoom:t.maxZoom,l=t.dimensions.width/2-o*s,c=t.dimensions.height/2-i*s;return n(l,c,s,a)},fitBounds:(o,i={padding:Lp})=>{const{x:a,y:s,zoom:l}=Ex(o,t.dimensions.width,t.dimensions.height,t.minZoom,t.maxZoom,i.padding);return n(a,s,l,i)},project:o=>Kl(o,t.viewport,t.snapToGrid,t.snapGrid),screenToFlowCoordinate:o=>{if(t.vueFlowRef){const{x:i,y:a}=t.vueFlowRef.getBoundingClientRect(),s={x:o.x-i,y:o.y-a};return Kl(s,t.viewport,t.snapToGrid,t.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:o=>{if(t.vueFlowRef){const{x:i,y:a}=t.vueFlowRef.getBoundingClientRect(),s={x:o.x+i,y:o.y+a};return xm(s,t.viewport)}return{x:0,y:0}}}:PW)}function Fp(t,e=0,n=DW,r=()=>{}){const o=typeof e=="number"&&e>0;return o||r(),o?t.transition().duration(e).ease(n).on("end",r):t}function FW(t,e,n){const r=Um(!0);return r.run(()=>{const o=()=>{r.run(()=>{let v,g,b=!!(n.nodes.value.length||n.edges.value.length);v=Ha([t.modelValue,()=>{var y,x;return(x=(y=t.modelValue)==null?void 0:y.value)==null?void 0:x.length}],([y])=>{y&&Array.isArray(y)&&(g?.pause(),n.setElements(y),!g&&!b&&y.length?b=!0:g?.resume())}),g=Ha([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([y,x])=>{var w;(w=t.modelValue)!=null&&w.value&&Array.isArray(t.modelValue.value)&&(v?.pause(),t.modelValue.value=[...y,...x],Lt(()=>{v?.resume()}))},{immediate:b}),bo(()=>{v?.stop(),g?.stop()})})},i=()=>{r.run(()=>{let v,g,b=!!n.nodes.value.length;v=Ha([t.nodes,()=>{var y,x;return(x=(y=t.nodes)==null?void 0:y.value)==null?void 0:x.length}],([y])=>{y&&Array.isArray(y)&&(g?.pause(),n.setNodes(y),!g&&!b&&y.length?b=!0:g?.resume())}),g=Ha([n.nodes,()=>n.nodes.value.length],([y])=>{var x;(x=t.nodes)!=null&&x.value&&Array.isArray(t.nodes.value)&&(v?.pause(),t.nodes.value=[...y],Lt(()=>{v?.resume()}))},{immediate:b}),bo(()=>{v?.stop(),g?.stop()})})},a=()=>{r.run(()=>{let v,g,b=!!n.edges.value.length;v=Ha([t.edges,()=>{var y,x;return(x=(y=t.edges)==null?void 0:y.value)==null?void 0:x.length}],([y])=>{y&&Array.isArray(y)&&(g?.pause(),n.setEdges(y),!g&&!b&&y.length?b=!0:g?.resume())}),g=Ha([n.edges,()=>n.edges.value.length],([y])=>{var x;(x=t.edges)!=null&&x.value&&Array.isArray(t.edges.value)&&(v?.pause(),t.edges.value=[...y],Lt(()=>{v?.resume()}))},{immediate:b}),bo(()=>{v?.stop(),g?.stop()})})},s=()=>{r.run(()=>{pe(()=>e.maxZoom,()=>{e.maxZoom&&on(e.maxZoom)&&n.setMaxZoom(e.maxZoom)},{immediate:!0})})},l=()=>{r.run(()=>{pe(()=>e.minZoom,()=>{e.minZoom&&on(e.minZoom)&&n.setMinZoom(e.minZoom)},{immediate:!0})})},c=()=>{r.run(()=>{pe(()=>e.translateExtent,()=>{e.translateExtent&&on(e.translateExtent)&&n.setTranslateExtent(e.translateExtent)},{immediate:!0})})},u=()=>{r.run(()=>{pe(()=>e.nodeExtent,()=>{e.nodeExtent&&on(e.nodeExtent)&&n.setNodeExtent(e.nodeExtent)},{immediate:!0})})},h=()=>{r.run(()=>{pe(()=>e.applyDefault,()=>{on(e.applyDefault)&&(n.applyDefault.value=e.applyDefault)},{immediate:!0})})},f=()=>{r.run(()=>{const v=async g=>{let b=g;typeof e.autoConnect=="function"&&(b=await e.autoConnect(g)),b!==!1&&n.addEdges([b])};pe(()=>e.autoConnect,()=>{on(e.autoConnect)&&(n.autoConnect.value=e.autoConnect)},{immediate:!0}),pe(n.autoConnect,(g,b,y)=>{g?n.onConnect(v):n.hooks.value.connect.off(v),y(()=>{n.hooks.value.connect.off(v)})},{immediate:!0})})},p=()=>{const v=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const g of Object.keys(e)){const b=g;if(!v.includes(b)){const y=be(()=>e[b]),x=n[b];Tr(x)&&r.run(()=>{pe(y,w=>{on(w)&&(x.value=w)},{immediate:!0})})}}};(()=>{o(),i(),a(),l(),s(),c(),u(),h(),f(),p()})()}),()=>r.stop()}function IW(){return{edgesChange:$e(),nodesChange:$e(),nodeDoubleClick:$e(),nodeClick:$e(),nodeMouseEnter:$e(),nodeMouseMove:$e(),nodeMouseLeave:$e(),nodeContextMenu:$e(),nodeDragStart:$e(),nodeDrag:$e(),nodeDragStop:$e(),nodesInitialized:$e(),miniMapNodeClick:$e(),miniMapNodeDoubleClick:$e(),miniMapNodeMouseEnter:$e(),miniMapNodeMouseMove:$e(),miniMapNodeMouseLeave:$e(),connect:$e(),connectStart:$e(),connectEnd:$e(),clickConnectStart:$e(),clickConnectEnd:$e(),paneReady:$e(),init:$e(),move:$e(),moveStart:$e(),moveEnd:$e(),selectionDragStart:$e(),selectionDrag:$e(),selectionDragStop:$e(),selectionContextMenu:$e(),selectionStart:$e(),selectionEnd:$e(),viewportChangeStart:$e(),viewportChange:$e(),viewportChangeEnd:$e(),paneScroll:$e(),paneClick:$e(),paneContextMenu:$e(),paneMouseEnter:$e(),paneMouseMove:$e(),paneMouseLeave:$e(),edgeContextMenu:$e(),edgeMouseEnter:$e(),edgeMouseMove:$e(),edgeMouseLeave:$e(),edgeDoubleClick:$e(),edgeClick:$e(),edgeUpdateStart:$e(),edgeUpdate:$e(),edgeUpdateEnd:$e(),updateNodeInternals:$e(),error:$e(t=>qh(t.message))}}function NW(t,e){V2(()=>{for(const[n,r]of Object.entries(e.value)){const o=i=>{t(n,i)};r.fns.add(o),Uh(()=>{r.off(o)})}})}function fS(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:K0.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Al.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:ea.Bezier,style:{}},connectionMode:ei.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Yd()?"Meta":"Control",zoomActivationKeyCode:Yd()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:IW(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const jW=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function BW(t,e,n){const r=LW(t),o=Y=>{const W=Y??[];t.hooks.updateNodeInternals.trigger(W)},i=Y=>nW(Y,t.nodes,t.edges),a=Y=>tW(Y,t.nodes,t.edges),s=Y=>tS(Y,t.edges),l=({id:Y,type:W,nodeId:Z})=>{var K;return Array.from(((K=t.connectionLookup.get(`${Z}-${W}-${Y??null}`))==null?void 0:K.values())??[])},c=Y=>{if(Y)return e.value.get(Y)},u=Y=>{if(Y)return n.value.get(Y)},h=(Y,W,Z)=>{var K,F;const I=[];for(const G of Y){const oe={id:G.id,type:"position",dragging:Z,from:G.from};if(W&&(oe.position=G.position,G.parentNode)){const ue=c(G.parentNode);oe.position={x:oe.position.x-(((K=ue?.computedPosition)==null?void 0:K.x)??0),y:oe.position.y-(((F=ue?.computedPosition)==null?void 0:F.y)??0)}}I.push(oe)}I?.length&&t.hooks.nodesChange.trigger(I)},f=Y=>{if(!t.vueFlowRef)return;const W=t.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!W)return;const Z=window.getComputedStyle(W),{m22:K}=new window.DOMMatrixReadOnly(Z.transform),F=[];for(const I of Y){const G=I,oe=c(G.id);if(oe){const ue=Yh(G.nodeElement);if(!!(ue.width&&ue.height&&(oe.dimensions.width!==ue.width||oe.dimensions.height!==ue.height||G.forceUpdate))){const Q=G.nodeElement.getBoundingClientRect();oe.dimensions=ue,oe.handleBounds.source=Fx("source",G.nodeElement,Q,K,oe.id),oe.handleBounds.target=Fx("target",G.nodeElement,Q,K,oe.id),F.push({id:oe.id,type:"dimensions",dimensions:ue})}}}!t.fitViewOnInitDone&&t.fitViewOnInit&&r.value.fitView().then(()=>{t.fitViewOnInitDone=!0}),F.length&&t.hooks.nodesChange.trigger(F)},p=(Y,W)=>{const Z=new Set,K=new Set;for(const G of Y)ga(G)?Z.add(G.id):Ri(G)&&K.add(G.id);const F=wi(e.value,Z,!0),I=wi(n.value,K);if(t.multiSelectionActive){for(const G of Z)F.push(yi(G,W));for(const G of K)I.push(yi(G,W))}F.length&&t.hooks.nodesChange.trigger(F),I.length&&t.hooks.edgesChange.trigger(I)},m=Y=>{if(t.multiSelectionActive){const W=Y.map(Z=>yi(Z.id,!0));t.hooks.nodesChange.trigger(W);return}t.hooks.nodesChange.trigger(wi(e.value,new Set(Y.map(W=>W.id)),!0)),t.hooks.edgesChange.trigger(wi(n.value))},v=Y=>{if(t.multiSelectionActive){const W=Y.map(Z=>yi(Z.id,!0));t.hooks.edgesChange.trigger(W);return}t.hooks.edgesChange.trigger(wi(n.value,new Set(Y.map(W=>W.id)))),t.hooks.nodesChange.trigger(wi(e.value,new Set,!0))},g=Y=>{p(Y,!0)},b=Y=>{const Z=(Y||t.nodes).map(K=>(K.selected=!1,yi(K.id,!1)));t.hooks.nodesChange.trigger(Z)},y=Y=>{const Z=(Y||t.edges).map(K=>(K.selected=!1,yi(K.id,!1)));t.hooks.edgesChange.trigger(Z)},x=Y=>{if(!Y||!Y.length)return p([],!1);const W=Y.reduce((Z,K)=>{const F=yi(K.id,!1);return ga(K)?Z.nodes.push(F):Z.edges.push(F),Z},{nodes:[],edges:[]});W.nodes.length&&t.hooks.nodesChange.trigger(W.nodes),W.edges.length&&t.hooks.edgesChange.trigger(W.edges)},w=Y=>{var W;(W=t.d3Zoom)==null||W.scaleExtent([Y,t.maxZoom]),t.minZoom=Y},_=Y=>{var W;(W=t.d3Zoom)==null||W.scaleExtent([t.minZoom,Y]),t.maxZoom=Y},k=Y=>{var W;(W=t.d3Zoom)==null||W.translateExtent(Y),t.translateExtent=Y},E=Y=>{t.nodeExtent=Y,o()},$=Y=>{var W;(W=t.d3Zoom)==null||W.clickDistance(Y)},A=Y=>{t.nodesDraggable=Y,t.nodesConnectable=Y,t.elementsSelectable=Y},D=Y=>{const W=Y instanceof Function?Y(t.nodes):Y;!t.initialized&&!W.length||(t.nodes=Ix(W,c,t.hooks.error.trigger))},O=Y=>{const W=Y instanceof Function?Y(t.edges):Y;if(!t.initialized&&!W.length)return;const Z=Pp(W,t.isValidConnection,c,u,t.hooks.error.trigger,t.defaultEdgeOptions,t.nodes,t.edges);Dp(t.connectionLookup,n.value,Z),t.edges=Z},S=Y=>{const W=Y instanceof Function?Y([...t.nodes,...t.edges]):Y;!t.initialized&&!W.length||(D(W.filter(ga)),O(W.filter(Ri)))},T=Y=>{let W=Y instanceof Function?Y(t.nodes):Y;W=Array.isArray(W)?W:[W];const Z=Ix(W,c,t.hooks.error.trigger),K=[];for(const F of Z)K.push(Ax(F));K.length&&t.hooks.nodesChange.trigger(K)},C=Y=>{let W=Y instanceof Function?Y(t.edges):Y;W=Array.isArray(W)?W:[W];const Z=Pp(W,t.isValidConnection,c,u,t.hooks.error.trigger,t.defaultEdgeOptions,t.nodes,t.edges),K=[];for(const F of Z)K.push(Ax(F));K.length&&t.hooks.edgesChange.trigger(K)},M=(Y,W=!0,Z=!1)=>{const K=Y instanceof Function?Y(t.nodes):Y,F=Array.isArray(K)?K:[K],I=[],G=[];function oe(he){const Q=s(he);for(const se of Q)(!on(se.deletable)||se.deletable)&&G.push($x(se.id,se.source,se.target,se.sourceHandle,se.targetHandle))}function ue(he){const Q=[];for(const se of t.nodes)se.parentNode===he&&Q.push(se);if(Q.length){for(const se of Q)I.push(Mx(se.id));W&&oe(Q);for(const se of Q)ue(se.id)}}for(const he of F){const Q=typeof he=="string"?c(he):he;Q&&(on(Q.deletable)&&!Q.deletable||(I.push(Mx(Q.id)),W&&oe([Q]),Z&&ue(Q.id)))}G.length&&t.hooks.edgesChange.trigger(G),I.length&&t.hooks.nodesChange.trigger(I)},R=Y=>{const W=Y instanceof Function?Y(t.edges):Y,Z=Array.isArray(W)?W:[W],K=[];for(const F of Z){const I=typeof F=="string"?u(F):F;I&&(on(I.deletable)&&!I.deletable||K.push($x(typeof F=="string"?F:F.id,I.source,I.target,I.sourceHandle,I.targetHandle)))}t.hooks.edgesChange.trigger(K)},L=(Y,W,Z=!0)=>{const K=u(Y.id);if(!K)return!1;const F=t.edges.indexOf(K),I=CW(Y,W,K,Z,t.hooks.error.trigger);if(I){const[G]=Pp([I],t.isValidConnection,c,u,t.hooks.error.trigger,t.defaultEdgeOptions,t.nodes,t.edges);return t.edges=t.edges.map((oe,ue)=>ue===F?G:oe),Dp(t.connectionLookup,n.value,[G]),G}return!1},P=(Y,W,Z={replace:!1})=>{const K=u(Y);if(!K)return;const F=typeof W=="function"?W(K):W;K.data=Z.replace?F:{...K.data,...F}},N=Y=>Ox(Y,t.nodes),j=Y=>{const W=Ox(Y,t.edges);return Dp(t.connectionLookup,n.value,W),W},H=(Y,W,Z={replace:!1})=>{const K=c(Y);if(!K)return;const F=typeof W=="function"?W(K):W;Z.replace?t.nodes.splice(t.nodes.indexOf(K),1,F):Object.assign(K,F)},B=(Y,W,Z={replace:!1})=>{const K=c(Y);if(!K)return;const F=typeof W=="function"?W(K):W;K.data=Z.replace?F:{...K.data,...F}},te=(Y,W,Z=!1)=>{Z?t.connectionClickStartHandle=Y:t.connectionStartHandle=Y,t.connectionEndHandle=null,t.connectionStatus=null,W&&(t.connectionPosition=W)},U=(Y,W=null,Z=null)=>{t.connectionStartHandle&&(t.connectionPosition=Y,t.connectionEndHandle=W,t.connectionStatus=Z)},ie=(Y,W)=>{t.connectionPosition={x:Number.NaN,y:Number.NaN},t.connectionEndHandle=null,t.connectionStatus=null,W?t.connectionClickStartHandle=null:t.connectionStartHandle=null},V=Y=>{const W=QH(Y),Z=W?null:xl(Y)?Y:c(Y.id);return!W&&!Z?[null,null,W]:[W?Y:Vd(Z),Z,W]},de=(Y,W=!0,Z=t.nodes)=>{const[K,F,I]=V(Y);if(!K)return[];const G=[];for(const oe of Z||t.nodes){if(!I&&(oe.id===F.id||!oe.computedPosition))continue;const ue=Vd(oe),he=Xd(ue,K);(W&&he>0||he>=Number(K.width)*Number(K.height))&&G.push(oe)}return G},ve=(Y,W,Z=!0)=>{const[K]=V(Y);if(!K)return!1;const F=Xd(K,W);return Z&&F>0||F>=Number(K.width)*Number(K.height)},ge=Y=>{const{viewport:W,dimensions:Z,d3Zoom:K,d3Selection:F,translateExtent:I}=t;if(!K||!F||!Y.x&&!Y.y)return!1;const G=Os.translate(W.x+Y.x,W.y+Y.y).scale(W.zoom),oe=[[0,0],[Z.width,Z.height]],ue=K.constrain()(G,oe,I),he=t.viewport.x!==ue.x||t.viewport.y!==ue.y||t.viewport.zoom!==ue.k;return K.transform(F,ue),he},ke=Y=>{const W=Y instanceof Function?Y(t):Y,Z=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];on(W.defaultEdgeOptions)&&(t.defaultEdgeOptions=W.defaultEdgeOptions);const K=W.modelValue||W.nodes||W.edges?[]:void 0;K&&(W.modelValue&&K.push(...W.modelValue),W.nodes&&K.push(...W.nodes),W.edges&&K.push(...W.edges),S(K));const F=()=>{on(W.maxZoom)&&_(W.maxZoom),on(W.minZoom)&&w(W.minZoom),on(W.translateExtent)&&k(W.translateExtent)};for(const I of Object.keys(W)){const G=I,oe=W[G];![...jW,...Z].includes(G)&&on(oe)&&(t[G]=oe)}um(()=>t.d3Zoom).not.toBeNull().then(F),t.initialized||(t.initialized=!0)};return{updateNodePositions:h,updateNodeDimensions:f,setElements:S,setNodes:D,setEdges:O,addNodes:T,addEdges:C,removeNodes:M,removeEdges:R,findNode:c,findEdge:u,updateEdge:L,updateEdgeData:P,updateNode:H,updateNodeData:B,applyEdgeChanges:j,applyNodeChanges:N,addSelectedElements:g,addSelectedNodes:m,addSelectedEdges:v,setMinZoom:w,setMaxZoom:_,setTranslateExtent:k,setNodeExtent:E,setPaneClickDistance:$,removeSelectedElements:x,removeSelectedNodes:b,removeSelectedEdges:y,startConnection:te,updateConnection:U,endConnection:ie,setInteractive:A,setState:ke,getIntersectingNodes:de,getIncomers:i,getOutgoers:a,getConnectedEdges:s,getHandleConnections:l,isNodeIntersecting:ve,panBy:ge,fitView:Y=>r.value.fitView(Y),zoomIn:Y=>r.value.zoomIn(Y),zoomOut:Y=>r.value.zoomOut(Y),zoomTo:(Y,W)=>r.value.zoomTo(Y,W),setViewport:(Y,W)=>r.value.setViewport(Y,W),setTransform:(Y,W)=>r.value.setTransform(Y,W),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(Y,W,Z)=>r.value.setCenter(Y,W,Z),fitBounds:(Y,W)=>r.value.fitBounds(Y,W),project:Y=>r.value.project(Y),screenToFlowCoordinate:Y=>r.value.screenToFlowCoordinate(Y),flowToScreenCoordinate:Y=>r.value.flowToScreenCoordinate(Y),toObject:()=>{const Y=[],W=[];for(const Z of t.nodes){const{computedPosition:K,handleBounds:F,selected:I,dimensions:G,isParent:oe,resizing:ue,dragging:he,events:Q,...se}=Z;Y.push(se)}for(const Z of t.edges){const{selected:K,sourceNode:F,targetNode:I,events:G,...oe}=Z;W.push(oe)}return JSON.parse(JSON.stringify({nodes:Y,edges:W,position:[t.viewport.x,t.viewport.y],zoom:t.viewport.zoom,viewport:t.viewport}))},fromObject:Y=>new Promise(W=>{const{nodes:Z,edges:K,position:F,zoom:I,viewport:G}=Y;if(Z&&D(Z),K&&O(K),G?.x&&G?.y||F){const oe=G?.x||F[0],ue=G?.y||F[1],he=G?.zoom||I||t.viewport.zoom;return um(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:oe,y:ue,zoom:he}).then(()=>{W(!0)})})}else W(!0)}),updateNodeInternals:o,viewportHelper:r,$reset:()=>{const Y=fS();if(t.edges=[],t.nodes=[],t.d3Zoom&&t.d3Selection){const W=Os.translate(Y.defaultViewport.x??0,Y.defaultViewport.y??0).scale(Sa(Y.defaultViewport.zoom??1,Y.minZoom,Y.maxZoom)),Z=t.viewportRef.getBoundingClientRect(),K=[[0,0],[Z.width,Z.height]],F=t.d3Zoom.constrain()(W,K,Y.translateExtent);t.d3Zoom.transform(t.d3Selection,F)}ke(Y)},$destroy:()=>{}}}const zW=["data-id","data-handleid","data-nodeid","data-handlepos"],UW={name:"Handle",compatConfig:{MODE:3}},$s=X({...UW,props:{id:{default:null},type:{},position:{default:()=>Pe.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(t,{expose:e}){const n=KE(t,["position","connectable","connectableStart","connectableEnd","id"]),r=be(()=>n.type??"source"),o=be(()=>n.isValidConnection??null),{id:i,connectionStartHandle:a,connectionClickStartHandle:s,connectionEndHandle:l,vueFlowRef:c,nodesConnectable:u,noDragClassName:h,noPanClassName:f}=At(),{id:p,node:m,nodeEl:v,connectedEdges:g}=dS(),b=re(),y=be(()=>typeof t.connectableStart<"u"?t.connectableStart:!0),x=be(()=>typeof t.connectableEnd<"u"?t.connectableEnd:!0),w=be(()=>{var O,S,T,C,M,R;return((O=a.value)==null?void 0:O.nodeId)===p&&((S=a.value)==null?void 0:S.id)===t.id&&((T=a.value)==null?void 0:T.type)===r.value||((C=l.value)==null?void 0:C.nodeId)===p&&((M=l.value)==null?void 0:M.id)===t.id&&((R=l.value)==null?void 0:R.type)===r.value}),_=be(()=>{var O,S,T;return((O=s.value)==null?void 0:O.nodeId)===p&&((S=s.value)==null?void 0:S.id)===t.id&&((T=s.value)==null?void 0:T.type)===r.value}),{handlePointerDown:k,handleClick:E}=uS({nodeId:p,handleId:t.id,isValidConnection:o,type:r}),$=z(()=>typeof t.connectable=="string"&&t.connectable==="single"?!g.value.some(O=>{const S=O[`${r.value}Handle`];return O[r.value]!==p?!1:S?S===t.id:!0}):typeof t.connectable=="number"?g.value.filter(O=>{const S=O[`${r.value}Handle`];return O[r.value]!==p?!1:S?S===t.id:!0}).length<t.connectable:typeof t.connectable=="function"?t.connectable(m,g.value):on(t.connectable)?t.connectable:u.value);vn(()=>{var O;if(!m.dimensions.width||!m.dimensions.height)return;const S=(O=m.handleBounds[r.value])==null?void 0:O.find(N=>N.id===t.id);if(!c.value||S)return;const T=c.value.querySelector(".vue-flow__transformationpane");if(!v.value||!b.value||!T||!t.id)return;const C=v.value.getBoundingClientRect(),M=b.value.getBoundingClientRect(),R=window.getComputedStyle(T),{m22:L}=new window.DOMMatrixReadOnly(R.transform),P={id:t.id,position:t.position,x:(M.left-C.left)/L,y:(M.top-C.top)/L,type:r.value,nodeId:p,...Yh(b.value)};m.handleBounds[r.value]=[...m.handleBounds[r.value]??[],P]});function A(O){const S=J0(O);$.value&&y.value&&(S&&O.button===0||!S)&&k(O)}function D(O){!p||!s.value&&!y.value||$.value&&E(O)}return e({handleClick:E,handlePointerDown:k,onClick:D,onPointerDown:A}),(O,S)=>(Ve(),ct("div",{ref_key:"handle",ref:b,"data-id":`${_e(i)}-${_e(p)}-${t.id}-${r.value}`,"data-handleid":t.id,"data-nodeid":_e(p),"data-handlepos":O.position,class:ba(["vue-flow__handle",[`vue-flow__handle-${O.position}`,`vue-flow__handle-${t.id}`,_e(h),_e(f),r.value,{connectable:$.value,connecting:_.value,connectablestart:y.value,connectableend:x.value,connectionindicator:$.value&&(y.value&&!w.value||x.value&&w.value)}]]),onMousedown:A,onTouchstartPassive:A,onClick:D},[En(O.$slots,"default",{id:O.id})],42,zW))}}),Zh=function({sourcePosition:t=Pe.Bottom,targetPosition:e=Pe.Top,label:n,connectable:r=!0,isValidTargetPos:o,isValidSourcePos:i,data:a}){const s=a.label??n;return[Oe($s,{type:"target",position:e,connectable:r,isValidConnection:o}),typeof s!="string"&&s?Oe(s):Oe(bt,[s]),Oe($s,{type:"source",position:t,connectable:r,isValidConnection:i})]};Zh.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Zh.inheritAttrs=!1;Zh.compatConfig={MODE:3};const HW=Zh,Jh=function({targetPosition:t=Pe.Top,label:e,connectable:n=!0,isValidTargetPos:r,data:o}){const i=o.label??e;return[Oe($s,{type:"target",position:t,connectable:n,isValidConnection:r}),typeof i!="string"&&i?Oe(i):Oe(bt,[i])]};Jh.props=["targetPosition","label","isValidTargetPos","connectable","data"];Jh.inheritAttrs=!1;Jh.compatConfig={MODE:3};const WW=Jh,Qh=function({sourcePosition:t=Pe.Bottom,label:e,connectable:n=!0,isValidSourcePos:r,data:o}){const i=o.label??e;return[typeof i!="string"&&i?Oe(i):Oe(bt,[i]),Oe($s,{type:"source",position:t,connectable:n,isValidConnection:r})]};Qh.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Qh.inheritAttrs=!1;Qh.compatConfig={MODE:3};const VW=Qh,XW=["transform"],YW=["width","height","x","y","rx","ry"],GW=["y"],qW={name:"EdgeText",compatConfig:{MODE:3}},KW=X({...qW,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(t){const e=re({x:0,y:0,width:0,height:0}),n=re(null),r=z(()=>`translate(${t.x-e.value.width/2} ${t.y-e.value.height/2})`);vn(o),pe([()=>t.x,()=>t.y,n,()=>t.label],o);function o(){if(!n.value)return;const i=n.value.getBBox();(i.width!==e.value.width||i.height!==e.value.height)&&(e.value=i)}return(i,a)=>(Ve(),ct("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[i.labelShowBg?(Ve(),ct("rect",{key:0,class:"vue-flow__edge-textbg",width:`${e.value.width+2*i.labelBgPadding[0]}px`,height:`${e.value.height+2*i.labelBgPadding[1]}px`,x:-i.labelBgPadding[0],y:-i.labelBgPadding[1],style:pr(i.labelBgStyle),rx:i.labelBgBorderRadius,ry:i.labelBgBorderRadius},null,12,YW)):xn("",!0),at("text",yt(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:e.value.height/2,dy:"0.3em",style:i.labelStyle}),[En(i.$slots,"default",{},()=>[typeof i.label!="string"?(Ve(),_o(e4(i.label),{key:0})):(Ve(),ct(bt,{key:1},[Dt(gs(i.label),1)],64))])],16,GW)],8,XW))}}),ZW=["id","d","marker-end","marker-start"],JW=["d","stroke-width"],QW={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},ef=X({...QW,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(t,{expose:e}){const n=re(null),r=re(null),o=re(null),i=QE();return e({pathEl:n,interactionEl:r,labelEl:o}),(a,s)=>(Ve(),ct(bt,null,[at("path",yt(_e(i),{id:a.id,ref_key:"pathEl",ref:n,d:a.path,class:"vue-flow__edge-path","marker-end":a.markerEnd,"marker-start":a.markerStart}),null,16,ZW),a.interactionWidth?(Ve(),ct("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:a.path,"stroke-width":a.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,JW)):xn("",!0),a.label&&a.labelX&&a.labelY?(Ve(),_o(KW,{key:1,ref_key:"labelEl",ref:o,x:a.labelX,y:a.labelY,label:a.label,"label-show-bg":a.labelShowBg,"label-bg-style":a.labelBgStyle,"label-bg-padding":a.labelBgPadding,"label-bg-border-radius":a.labelBgBorderRadius,"label-style":a.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):xn("",!0)],64))}});function pS({sourceX:t,sourceY:e,targetX:n,targetY:r}){const o=Math.abs(n-t)/2,i=n<t?n+o:n-o,a=Math.abs(r-e)/2,s=r<e?r+a:r-a;return[i,s,o,a]}function gS({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){const l=t*.125+o*.375+a*.375+n*.125,c=e*.125+i*.375+s*.375+r*.125,u=Math.abs(l-t),h=Math.abs(c-e);return[l,c,u,h]}function uu(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function zx({pos:t,x1:e,y1:n,x2:r,y2:o,c:i}){let a,s;switch(t){case Pe.Left:a=e-uu(e-r,i),s=n;break;case Pe.Right:a=e+uu(r-e,i),s=n;break;case Pe.Top:a=e,s=n-uu(n-o,i);break;case Pe.Bottom:a=e,s=n+uu(o-n,i);break}return[a,s]}function mS(t){const{sourceX:e,sourceY:n,sourcePosition:r=Pe.Bottom,targetX:o,targetY:i,targetPosition:a=Pe.Top,curvature:s=.25}=t,[l,c]=zx({pos:r,x1:e,y1:n,x2:o,y2:i,c:s}),[u,h]=zx({pos:a,x1:o,y1:i,x2:e,y2:n,c:s}),[f,p,m,v]=gS({sourceX:e,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:h});return[`M${e},${n} C${l},${c} ${u},${h} ${o},${i}`,f,p,m,v]}function Ux({pos:t,x1:e,y1:n,x2:r,y2:o}){let i,a;switch(t){case Pe.Left:case Pe.Right:i=.5*(e+r),a=n;break;case Pe.Top:case Pe.Bottom:i=e,a=.5*(n+o);break}return[i,a]}function vS(t){const{sourceX:e,sourceY:n,sourcePosition:r=Pe.Bottom,targetX:o,targetY:i,targetPosition:a=Pe.Top}=t,[s,l]=Ux({pos:r,x1:e,y1:n,x2:o,y2:i}),[c,u]=Ux({pos:a,x1:o,y1:i,x2:e,y2:n}),[h,f,p,m]=gS({sourceX:e,sourceY:n,targetX:o,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${n} C${s},${l} ${c},${u} ${o},${i}`,h,f,p,m]}const Hx={[Pe.Left]:{x:-1,y:0},[Pe.Right]:{x:1,y:0},[Pe.Top]:{x:0,y:-1},[Pe.Bottom]:{x:0,y:1}};function eV({source:t,sourcePosition:e=Pe.Bottom,target:n}){return e===Pe.Left||e===Pe.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Wx(t,e){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function tV({source:t,sourcePosition:e=Pe.Bottom,target:n,targetPosition:r=Pe.Top,center:o,offset:i}){const a=Hx[e],s=Hx[r],l={x:t.x+a.x*i,y:t.y+a.y*i},c={x:n.x+s.x*i,y:n.y+s.y*i},u=eV({source:l,sourcePosition:e,target:c}),h=u.x!==0?"x":"y",f=u[h];let p,m,v;const g={x:0,y:0},b={x:0,y:0},[y,x,w,_]=pS({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[h]*s[h]===-1){m=o.x??y,v=o.y??x;const E=[{x:m,y:l.y},{x:m,y:c.y}],$=[{x:l.x,y:v},{x:c.x,y:v}];a[h]===f?p=h==="x"?E:$:p=h==="x"?$:E}else{const E=[{x:l.x,y:c.y}],$=[{x:c.x,y:l.y}];if(h==="x"?p=a.x===f?$:E:p=a.y===f?E:$,e===r){const T=Math.abs(t[h]-n[h]);if(T<=i){const C=Math.min(i-1,i-T);a[h]===f?g[h]=(l[h]>t[h]?-1:1)*C:b[h]=(c[h]>n[h]?-1:1)*C}}if(e!==r){const T=h==="x"?"y":"x",C=a[h]===s[T],M=l[T]>c[T],R=l[T]<c[T];(a[h]===1&&(!C&&M||C&&R)||a[h]!==1&&(!C&&R||C&&M))&&(p=h==="x"?E:$)}const A={x:l.x+g.x,y:l.y+g.y},D={x:c.x+b.x,y:c.y+b.y},O=Math.max(Math.abs(A.x-p[0].x),Math.abs(D.x-p[0].x)),S=Math.max(Math.abs(A.y-p[0].y),Math.abs(D.y-p[0].y));O>=S?(m=(A.x+D.x)/2,v=p[0].y):(m=p[0].x,v=(A.y+D.y)/2)}return[[t,{x:l.x+g.x,y:l.y+g.y},...p,{x:c.x+b.x,y:c.y+b.y},n],m,v,w,_]}function nV(t,e,n,r){const o=Math.min(Wx(t,e)/2,Wx(e,n)/2,r),{x:i,y:a}=e;if(t.x===i&&i===n.x||t.y===a&&a===n.y)return`L${i} ${a}`;if(t.y===a){const c=t.x<n.x?-1:1,u=t.y<n.y?1:-1;return`L ${i+o*c},${a}Q ${i},${a} ${i},${a+o*u}`}const s=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${i},${a+o*l}Q ${i},${a} ${i+o*s},${a}`}function km(t){const{sourceX:e,sourceY:n,sourcePosition:r=Pe.Bottom,targetX:o,targetY:i,targetPosition:a=Pe.Top,borderRadius:s=5,centerX:l,centerY:c,offset:u=20}=t,[h,f,p,m,v]=tV({source:{x:e,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:a,center:{x:l,y:c},offset:u});return[h.reduce((b,y,x)=>{let w;return x>0&&x<h.length-1?w=nV(h[x-1],y,h[x+1],s):w=`${x===0?"M":"L"}${y.x} ${y.y}`,b+=w,b},""),f,p,m,v]}function rV(t){const{sourceX:e,sourceY:n,targetX:r,targetY:o}=t,[i,a,s,l]=pS({sourceX:e,sourceY:n,targetX:r,targetY:o});return[`M ${e},${n}L ${r},${o}`,i,a,s,l]}const oV=X({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(t,{attrs:e}){return()=>{const[n,r,o]=rV(t);return Oe(ef,{path:n,labelX:r,labelY:o,...e,...t})}}}),iV=oV,aV=X({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(t,{attrs:e}){return()=>{const[n,r,o]=km({...t,sourcePosition:t.sourcePosition??Pe.Bottom,targetPosition:t.targetPosition??Pe.Top});return Oe(ef,{path:n,labelX:r,labelY:o,...e,...t})}}}),bS=aV,sV=X({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(t,{attrs:e}){return()=>Oe(bS,{...t,...e,borderRadius:0})}}),lV=sV,cV=X({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(t,{attrs:e}){return()=>{const[n,r,o]=mS({...t,sourcePosition:t.sourcePosition??Pe.Bottom,targetPosition:t.targetPosition??Pe.Top});return Oe(ef,{path:n,labelX:r,labelY:o,...e,...t})}}}),uV=cV,dV=X({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(t,{attrs:e}){return()=>{const[n,r,o]=vS({...t,sourcePosition:t.sourcePosition??Pe.Bottom,targetPosition:t.targetPosition??Pe.Top});return Oe(ef,{path:n,labelX:r,labelY:o,...e,...t})}}}),hV=dV,fV={input:VW,default:HW,output:WW},pV={default:uV,straight:iV,step:lV,smoothstep:bS,simplebezier:hV};function gV(t,e,n){const r=z(()=>v=>e.value.get(v)),o=z(()=>v=>n.value.get(v)),i=z(()=>{const v={...pV,...t.edgeTypes},g=Object.keys(v);for(const b of t.edges)b.type&&!g.includes(b.type)&&(v[b.type]=b.type);return v}),a=z(()=>{const v={...fV,...t.nodeTypes},g=Object.keys(v);for(const b of t.nodes)b.type&&!g.includes(b.type)&&(v[b.type]=b.type);return v}),s=z(()=>t.onlyRenderVisibleElements?eS(t.nodes,{x:0,y:0,width:t.dimensions.width,height:t.dimensions.height},t.viewport,!0):t.nodes),l=z(()=>{if(t.onlyRenderVisibleElements){const v=[];for(const g of t.edges){const b=e.value.get(g.source),y=e.value.get(g.target);dW({sourcePos:b.computedPosition||{x:0,y:0},targetPos:y.computedPosition||{x:0,y:0},sourceWidth:b.dimensions.width,sourceHeight:b.dimensions.height,targetWidth:y.dimensions.width,targetHeight:y.dimensions.height,width:t.dimensions.width,height:t.dimensions.height,viewport:t.viewport})&&v.push(g)}return v}return t.edges}),c=z(()=>[...s.value,...l.value]),u=z(()=>{const v=[];for(const g of t.nodes)g.selected&&v.push(g);return v}),h=z(()=>{const v=[];for(const g of t.edges)g.selected&&v.push(g);return v}),f=z(()=>[...u.value,...h.value]),p=z(()=>{const v=[];for(const g of t.nodes)g.dimensions.width&&g.dimensions.height&&g.handleBounds!==void 0&&v.push(g);return v}),m=z(()=>s.value.length>0&&p.value.length===s.value.length);return{getNode:r,getEdge:o,getElements:c,getEdgeTypes:i,getNodeTypes:a,getEdges:l,getNodes:s,getSelectedElements:f,getSelectedNodes:u,getSelectedEdges:h,getNodesInitialized:p,areNodesInitialized:m}}class ta{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var e;const n=(e=Wn())==null?void 0:e.appContext.app,r=n?.config.globalProperties.$vueFlowStorage??ta.instance;return ta.instance=r??new ta,n&&(n.config.globalProperties.$vueFlowStorage=ta.instance),ta.instance}set(e,n){return this.flows.set(e,n)}get(e){return this.flows.get(e)}remove(e){return this.flows.delete(e)}create(e,n){const r=fS(),o=Pn(r),i={};for(const[f,p]of Object.entries(o.hooks)){const m=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;i[m]=p.on}const a={};for(const[f,p]of Object.entries(o.hooks))a[f]=p.trigger;const s=z(()=>{const f=new Map;for(const p of o.nodes)f.set(p.id,p);return f}),l=z(()=>{const f=new Map;for(const p of o.edges)f.set(p.id,p);return f}),c=gV(o,s,l),u=BW(o,s,l);u.setState({...o,...n});const h={...i,...c,...u,...lB(o),nodeLookup:s,edgeLookup:l,emits:a,id:e,vueFlowVersion:"1.45.0",$destroy:()=>{this.remove(e)}};return this.set(e,h),h}getId(){return`vue-flow-${this.currentId++}`}}function At(t){const e=ta.getInstance(),n=Wm(),r=typeof t=="object",o=r?t:{id:t},i=o.id,a=i??n?.vueFlowId;let s;if(n){const l=Ot(Bx,null);typeof l<"u"&&l!==null&&(!a||l.id===a)&&(s=l)}if(s||a&&(s=e.get(a)),!s||a&&s.id!==a){const l=i??e.getId(),c=e.create(l,o);s=c,(n??Um(!0)).run(()=>{pe(c.applyDefault,(h,f,p)=>{const m=g=>{c.applyNodeChanges(g)},v=g=>{c.applyEdgeChanges(g)};h?(c.onNodesChange(m),c.onEdgesChange(v)):(c.hooks.value.nodesChange.off(m),c.hooks.value.edgesChange.off(v)),p(()=>{c.hooks.value.nodesChange.off(m),c.hooks.value.edgesChange.off(v)})},{immediate:!0}),Uh(()=>{if(s){const h=e.get(s.id);h?h.$destroy():qh(`No store instance found for id ${s.id} in storage.`)}})})}else r&&s.setState(o);if(n&&(Fn(Bx,s),n.vueFlowId=s.id),r){const l=Wn();l?.type.name!=="VueFlow"&&s.emits.error(new dn(cn.USEVUEFLOW_OPTIONS))}return s}function mV(t){const{emits:e,dimensions:n}=At();let r;vn(()=>{const o=t.value,i=()=>{if(!o)return;const a=Yh(o);(a.width===0||a.height===0)&&e.error(new dn(cn.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:a.width||500,height:a.height||500}};i(),window.addEventListener("resize",i),o&&(r=new ResizeObserver(()=>i()),r.observe(o)),lc(()=>{window.removeEventListener("resize",i),r&&o&&r.unobserve(o)})})}const vV={name:"UserSelection",compatConfig:{MODE:3}},bV=X({...vV,props:{userSelectionRect:{}},setup(t){return(e,n)=>(Ve(),ct("div",{class:"vue-flow__selection vue-flow__container",style:pr({width:`${e.userSelectionRect.width}px`,height:`${e.userSelectionRect.height}px`,transform:`translate(${e.userSelectionRect.x}px, ${e.userSelectionRect.y}px)`})},null,4))}}),yV=["tabIndex"],xV={name:"NodesSelection",compatConfig:{MODE:3}},wV=X({...xV,setup(t){const{emits:e,viewport:n,getSelectedNodes:r,noPanClassName:o,disableKeyboardA11y:i,userSelectionActive:a}=At(),s=hS(),l=re(null),c=cS({el:l,onStart(m){e.selectionDragStart(m)},onDrag(m){e.selectionDrag(m)},onStop(m){e.selectionDragStop(m)}});vn(()=>{var m;i.value||(m=l.value)==null||m.focus({preventScroll:!0})});const u=z(()=>QC(r.value)),h=z(()=>({width:`${u.value.width}px`,height:`${u.value.height}px`,top:`${u.value.y}px`,left:`${u.value.x}px`}));function f(m){e.selectionContextMenu({event:m,nodes:r.value})}function p(m){i||cs[m.key]&&(m.preventDefault(),s({x:cs[m.key].x,y:cs[m.key].y},m.shiftKey))}return(m,v)=>!_e(a)&&u.value.width&&u.value.height?(Ve(),ct("div",{key:0,class:ba(["vue-flow__nodesselection vue-flow__container",_e(o)]),style:pr({transform:`translate(${_e(n).x}px,${_e(n).y}px) scale(${_e(n).zoom})`})},[at("div",{ref_key:"el",ref:l,class:ba([{dragging:_e(c)},"vue-flow__nodesselection-rect"]),style:pr(h.value),tabIndex:_e(i)?void 0:-1,onContextmenu:f,onKeydown:p},null,46,yV)],6)):xn("",!0)}});function _V(t,e){return{x:t.clientX-e.left,y:t.clientY-e.top}}const kV={name:"Pane",compatConfig:{MODE:3}},CV=X({...kV,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(t){const{vueFlowRef:e,nodes:n,viewport:r,emits:o,userSelectionActive:i,removeSelectedElements:a,userSelectionRect:s,elementsSelectable:l,nodesSelectionActive:c,getSelectedEdges:u,getSelectedNodes:h,removeNodes:f,removeEdges:p,selectionMode:m,deleteKeyCode:v,multiSelectionKeyCode:g,multiSelectionActive:b,edgeLookup:y,nodeLookup:x,connectionLookup:w,defaultEdgeOptions:_,connectionStartHandle:k}=At(),E=re(null),$=re(new Set),A=re(new Set),D=re(),O=be(()=>l.value&&(t.isSelecting||i.value)),S=be(()=>k.value!==null);let T=!1,C=!1;const M=Ml(v,{actInsideInputWithModifier:!1}),R=Ml(g);pe(M,U=>{U&&(f(h.value),p(u.value),c.value=!1)}),pe(R,U=>{b.value=U});function L(U,ie){return V=>{V.target===ie&&U?.(V)}}function P(U){if(T||S.value){T=!1;return}o.paneClick(U),a(),c.value=!1}function N(U){U.preventDefault(),U.stopPropagation(),o.paneContextMenu(U)}function j(U){o.paneScroll(U)}function H(U){var ie,V,de;if(D.value=(ie=e.value)==null?void 0:ie.getBoundingClientRect(),!l.value||!t.isSelecting||U.button!==0||U.target!==E.value||!D.value)return;(de=(V=U.target)==null?void 0:V.setPointerCapture)==null||de.call(V,U.pointerId);const{x:ve,y:ge}=_V(U,D.value);C=!0,T=!1,a(),s.value={width:0,height:0,startX:ve,startY:ge,x:ve,y:ge},o.selectionStart(U)}function B(U){var ie;if(!D.value||!s.value)return;T=!0;const{x:V,y:de}=po(U,D.value),{startX:ve=0,startY:ge=0}=s.value,ke={startX:ve,startY:ge,x:V<ve?V:ve,y:de<ge?de:ge,width:Math.abs(V-ve),height:Math.abs(de-ge)},Ce=$.value,Ae=A.value;$.value=new Set(eS(n.value,ke,r.value,m.value===K0.Partial,!0).map(Y=>Y.id)),A.value=new Set;const Me=((ie=_.value)==null?void 0:ie.selectable)??!0;for(const Y of $.value){const W=w.value.get(Y);if(W)for(const{edgeId:Z}of W.values()){const K=y.value.get(Z);K&&(K.selectable??Me)&&A.value.add(Z)}}if(!jx(Ce,$.value)){const Y=wi(x.value,$.value,!0);o.nodesChange(Y)}if(!jx(Ae,A.value)){const Y=wi(y.value,A.value);o.edgesChange(Y)}s.value=ke,i.value=!0,c.value=!1}function te(U){var ie;U.button!==0||!C||((ie=U.target)==null||ie.releasePointerCapture(U.pointerId),!i.value&&s.value&&U.target===E.value&&P(U),i.value=!1,s.value=null,c.value=$.value.size>0,o.selectionEnd(U),t.selectionKeyPressed&&(T=!1),C=!1)}return(U,ie)=>(Ve(),ct("div",{ref_key:"container",ref:E,class:ba(["vue-flow__pane vue-flow__container",{selection:U.isSelecting}]),onClick:ie[0]||(ie[0]=V=>O.value?void 0:L(P,E.value)(V)),onContextmenu:ie[1]||(ie[1]=V=>L(N,E.value)(V)),onWheelPassive:ie[2]||(ie[2]=V=>L(j,E.value)(V)),onPointerenter:ie[3]||(ie[3]=V=>O.value?void 0:_e(o).paneMouseEnter(V)),onPointerdown:ie[4]||(ie[4]=V=>O.value?H(V):_e(o).paneMouseMove(V)),onPointermove:ie[5]||(ie[5]=V=>O.value?B(V):_e(o).paneMouseMove(V)),onPointerup:ie[6]||(ie[6]=V=>O.value?te(V):void 0),onPointerleave:ie[7]||(ie[7]=V=>_e(o).paneMouseLeave(V))},[En(U.$slots,"default"),_e(i)&&_e(s)?(Ve(),_o(bV,{key:0,"user-selection-rect":_e(s)},null,8,["user-selection-rect"])):xn("",!0),_e(c)&&_e(h).length?(Ve(),_o(wV,{key:1})):xn("",!0)],34))}}),SV={name:"Transform",compatConfig:{MODE:3}},EV=X({...SV,setup(t){const{viewport:e,fitViewOnInit:n,fitViewOnInitDone:r}=At(),o=z(()=>n.value?!r.value:!1),i=z(()=>`translate(${e.value.x}px,${e.value.y}px) scale(${e.value.zoom})`);return(a,s)=>(Ve(),ct("div",{class:"vue-flow__transformationpane vue-flow__container",style:pr({transform:i.value,opacity:o.value?0:void 0})},[En(a.$slots,"default")],4))}}),TV={name:"Viewport",compatConfig:{MODE:3}},OV=X({...TV,setup(t){const{minZoom:e,maxZoom:n,defaultViewport:r,translateExtent:o,zoomActivationKeyCode:i,selectionKeyCode:a,panActivationKeyCode:s,panOnScroll:l,panOnScrollMode:c,panOnScrollSpeed:u,panOnDrag:h,zoomOnDoubleClick:f,zoomOnPinch:p,zoomOnScroll:m,preventScrolling:v,noWheelClassName:g,noPanClassName:b,emits:y,connectionStartHandle:x,userSelectionActive:w,paneDragging:_,d3Zoom:k,d3Selection:E,d3ZoomHandler:$,viewport:A,viewportRef:D,paneClickDistance:O}=At();mV(D);const S=va(!1),T=va(!1);let C=null,M=!1,R=0,L={x:0,y:0,zoom:0};const P=Ml(s),N=Ml(a),j=Ml(i),H=be(()=>(!N.value||N.value&&a.value===!0)&&(P.value||h.value)),B=be(()=>P.value||l.value),te=be(()=>N.value||a.value===!0&&H.value!==!0);vn(()=>{if(!D.value){qh("Viewport element is missing");return}const ge=D.value,ke=ge.getBoundingClientRect(),Ce=XH().clickDistance(O.value).scaleExtent([e.value,n.value]).translateExtent(o.value),Ae=Vr(ge).call(Ce),Me=Ae.on("wheel.zoom"),Y=Os.translate(r.value.x??0,r.value.y??0).scale(Sa(r.value.zoom??1,e.value,n.value)),W=[[0,0],[ke.width,ke.height]],Z=Ce.constrain()(Y,W,o.value);Ce.transform(Ae,Z),Ce.wheelDelta(ie),k.value=Ce,E.value=Ae,$.value=Me,A.value={x:Z.x,y:Z.y,zoom:Z.k},Ce.on("start",K=>{var F;if(!K.sourceEvent)return null;R=K.sourceEvent.button,S.value=!0;const I=de(K.transform);((F=K.sourceEvent)==null?void 0:F.type)==="mousedown"&&(_.value=!0),L=I,y.viewportChangeStart(I),y.moveStart({event:K,flowTransform:I})}),Ce.on("end",K=>{if(!K.sourceEvent)return null;if(S.value=!1,_.value=!1,U(H.value,R??0)&&!M&&y.paneContextMenu(K.sourceEvent),M=!1,V(L,K.transform)){const F=de(K.transform);L=F,y.viewportChangeEnd(F),y.moveEnd({event:K,flowTransform:F})}}),Ce.filter(K=>{var F;const I=j.value||m.value,G=p.value&&K.ctrlKey,oe=K.button;if(oe===1&&K.type==="mousedown"&&(ve(K,"vue-flow__node")||ve(K,"vue-flow__edge")))return!0;if(!H.value&&!I&&!B.value&&!f.value&&!p.value||w.value||!f.value&&K.type==="dblclick"||ve(K,g.value)&&K.type==="wheel"||ve(K,b.value)&&(K.type!=="wheel"||B.value&&K.type==="wheel"&&!j.value)||!p.value&&K.ctrlKey&&K.type==="wheel"||!I&&!B.value&&!G&&K.type==="wheel")return!1;if(!p&&K.type==="touchstart"&&((F=K.touches)==null?void 0:F.length)>1)return K.preventDefault(),!1;if(!H.value&&(K.type==="mousedown"||K.type==="touchstart")||a.value===!0&&Array.isArray(h.value)&&h.value.includes(0)&&oe===0||Array.isArray(h.value)&&!h.value.includes(oe)&&(K.type==="mousedown"||K.type==="touchstart"))return!1;const ue=Array.isArray(h.value)&&h.value.includes(oe)||a.value===!0&&Array.isArray(h.value)&&!h.value.includes(0)||!oe||oe<=1;return(!K.ctrlKey||P.value||K.type==="wheel")&&ue}),pe([w,H],()=>{w.value&&!S.value?Ce.on("zoom",null):w.value||Ce.on("zoom",K=>{A.value={x:K.transform.x,y:K.transform.y,zoom:K.transform.k};const F=de(K.transform);M=U(H.value,R??0),y.viewportChange(F),y.move({event:K,flowTransform:F})})},{immediate:!0}),pe([w,B,c,j,p,v,g],()=>{B.value&&!j.value&&!w.value?Ae.on("wheel.zoom",K=>{if(ve(K,g.value))return!1;const F=j.value||m.value,I=p.value&&K.ctrlKey;if(!(!v.value||B.value||F||I))return!1;K.preventDefault(),K.stopImmediatePropagation();const oe=Ae.property("__zoom").k||1,ue=Yd();if(!P.value&&K.ctrlKey&&p.value&&ue){const we=ho(K),pt=ie(K),yr=oe*2**pt;Ce.scaleTo(Ae,yr,we,K);return}const he=K.deltaMode===1?20:1;let Q=c.value===Al.Vertical?0:K.deltaX*he,se=c.value===Al.Horizontal?0:K.deltaY*he;!ue&&K.shiftKey&&c.value!==Al.Vertical&&!Q&&se&&(Q=se,se=0),Ce.translateBy(Ae,-(Q/oe)*u.value,-(se/oe)*u.value);const Le=de(Ae.property("__zoom"));C&&clearTimeout(C),T.value?(y.move({event:K,flowTransform:Le}),y.viewportChange(Le),C=setTimeout(()=>{y.moveEnd({event:K,flowTransform:Le}),y.viewportChangeEnd(Le),T.value=!1},150)):(T.value=!0,y.moveStart({event:K,flowTransform:Le}),y.viewportChangeStart(Le))},{passive:!1}):typeof Me<"u"&&Ae.on("wheel.zoom",function(K,F){const I=!v.value&&K.type==="wheel"&&!K.ctrlKey,G=j.value||m.value,oe=p.value&&K.ctrlKey;if(!G&&!l.value&&!oe&&K.type==="wheel"||I||ve(K,g.value))return null;K.preventDefault(),Me.call(this,K,F)},{passive:!1})},{immediate:!0})});function U(ge,ke){return ke===2&&Array.isArray(ge)&&ge.includes(2)}function ie(ge){const ke=ge.ctrlKey&&Yd()?10:1;return-ge.deltaY*(ge.deltaMode===1?.05:ge.deltaMode?1:.002)*ke}function V(ge,ke){return ge.x!==ke.x&&!Number.isNaN(ke.x)||ge.y!==ke.y&&!Number.isNaN(ke.y)||ge.zoom!==ke.k&&!Number.isNaN(ke.k)}function de(ge){return{x:ge.x,y:ge.y,zoom:ge.k}}function ve(ge,ke){return ge.target.closest(`.${ke}`)}return(ge,ke)=>(Ve(),ct("div",{ref_key:"viewportRef",ref:D,class:"vue-flow__viewport vue-flow__container"},[d(CV,{"is-selecting":te.value,"selection-key-pressed":_e(N),class:ba({connecting:!!_e(x),dragging:_e(_),draggable:_e(h)===!0||Array.isArray(_e(h))&&_e(h).includes(0)})},{default:Ll(()=>[d(EV,null,{default:Ll(()=>[En(ge.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),AV=["id"],MV=["id"],$V=["id"],RV={name:"A11yDescriptions",compatConfig:{MODE:3}},DV=X({...RV,setup(t){const{id:e,disableKeyboardA11y:n,ariaLiveMessage:r}=At();return(o,i)=>(Ve(),ct(bt,null,[at("div",{id:`${_e(VC)}-${_e(e)}`,style:{display:"none"}}," Press enter or space to select a node. "+gs(_e(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,AV),at("div",{id:`${_e(XC)}-${_e(e)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,MV),_e(n)?xn("",!0):(Ve(),ct("div",{key:0,id:`${_e(JH)}-${_e(e)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},gs(_e(r)),9,$V))],64))}});function PV(){const t=At();pe(()=>t.viewportHelper.value.viewportInitialized,e=>{e&&setTimeout(()=>{t.emits.init(t),t.emits.paneReady(t)},1)})}function LV(t,e,n){return n===Pe.Left?t-e:n===Pe.Right?t+e:t}function FV(t,e,n){return n===Pe.Top?t-e:n===Pe.Bottom?t+e:t}const Q0=function({radius:t=10,centerX:e=0,centerY:n=0,position:r=Pe.Top,type:o}){return Oe("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${o}`,cx:LV(e,t,r),cy:FV(n,t,r),r:t,stroke:"transparent",fill:"transparent"})};Q0.props=["radius","centerX","centerY","position","type"];Q0.compatConfig={MODE:3};const Vx=Q0,IV=X({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(t){const{id:e,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:o,emits:i,nodesSelectionActive:a,noPanClassName:s,getEdgeTypes:l,removeSelectedEdges:c,findEdge:u,findNode:h,isValidConnection:f,multiSelectionActive:p,disableKeyboardA11y:m,elementsSelectable:v,edgesUpdatable:g,edgesFocusable:b,hooks:y}=At(),x=z(()=>u(t.id)),{emit:w,on:_}=OW(x.value,i),k=Ot(Kh),E=Wn(),$=re(!1),A=re(!1),D=re(""),O=re(null),S=re("source"),T=re(null),C=be(()=>typeof x.value.selectable>"u"?v.value:x.value.selectable),M=be(()=>typeof x.value.updatable>"u"?g.value:x.value.updatable),R=be(()=>typeof x.value.focusable>"u"?b.value:x.value.focusable);Fn(SW,t.id),Fn(EW,T);const L=z(()=>x.value.class instanceof Function?x.value.class(x.value):x.value.class),P=z(()=>x.value.style instanceof Function?x.value.style(x.value):x.value.style),N=z(()=>{const W=x.value.type||"default",Z=k?.[`edge-${W}`];if(Z)return Z;let K=x.value.template??l.value[W];if(typeof K=="string"&&E){const F=Object.keys(E.appContext.components);F&&F.includes(W)&&(K=sh(W,!1))}return K&&typeof K!="string"?K:(i.error(new dn(cn.EDGE_TYPE_MISSING,K)),!1)}),{handlePointerDown:j}=uS({nodeId:D,handleId:O,type:S,isValidConnection:f,edgeUpdaterType:S,onEdgeUpdate:te,onEdgeUpdateEnd:U});return()=>{const W=h(x.value.source),Z=h(x.value.target),K="pathOptions"in x.value?x.value.pathOptions:{};if(!W&&!Z)return i.error(new dn(cn.EDGE_SOURCE_TARGET_MISSING,x.value.id,x.value.source,x.value.target)),null;if(!W)return i.error(new dn(cn.EDGE_SOURCE_MISSING,x.value.id,x.value.source)),null;if(!Z)return i.error(new dn(cn.EDGE_TARGET_MISSING,x.value.id,x.value.target)),null;if(!x.value||x.value.hidden||W.hidden||Z.hidden)return null;let F;r.value===ei.Strict?F=W.handleBounds.source:F=[...W.handleBounds.source||[],...W.handleBounds.target||[]];const I=Dx(F,x.value.sourceHandle);let G;r.value===ei.Strict?G=Z.handleBounds.target:G=[...Z.handleBounds.target||[],...Z.handleBounds.source||[]];const oe=Dx(G,x.value.targetHandle),ue=I?.position||Pe.Bottom,he=oe?.position||Pe.Top,{x:Q,y:se}=Ms(W,I,ue),{x:Le,y:we}=Ms(Z,oe,he);return x.value.sourceX=Q,x.value.sourceY=se,x.value.targetX=Le,x.value.targetY=we,Oe("g",{ref:T,key:t.id,"data-id":t.id,class:["vue-flow__edge",`vue-flow__edge-${N.value===!1?"default":x.value.type||"default"}`,s.value,L.value,{updating:$.value,selected:x.value.selected,animated:x.value.animated,inactive:!C.value&&!y.value.edgeClick.hasListeners()}],tabIndex:R.value?0:void 0,"aria-label":x.value.ariaLabel===null?void 0:x.value.ariaLabel??`Edge from ${x.value.source} to ${x.value.target}`,"aria-describedby":R.value?`${XC}-${e}`:void 0,"aria-roledescription":"edge",role:R.value?"group":"img",...x.value.domAttributes,onClick:V,onContextmenu:de,onDblclick:ve,onMouseenter:ge,onMousemove:ke,onMouseleave:Ce,onKeyDown:R.value?Y:void 0},[A.value?null:Oe(N.value===!1?l.value.default:N.value,{id:t.id,sourceNode:W,targetNode:Z,source:x.value.source,target:x.value.target,type:x.value.type,updatable:M.value,selected:x.value.selected,animated:x.value.animated,label:x.value.label,labelStyle:x.value.labelStyle,labelShowBg:x.value.labelShowBg,labelBgStyle:x.value.labelBgStyle,labelBgPadding:x.value.labelBgPadding,labelBgBorderRadius:x.value.labelBgBorderRadius,data:x.value.data,events:{...x.value.events,..._},style:P.value,markerStart:`url('#${Zl(x.value.markerStart,e)}')`,markerEnd:`url('#${Zl(x.value.markerEnd,e)}')`,sourcePosition:ue,targetPosition:he,sourceX:Q,sourceY:se,targetX:Le,targetY:we,sourceHandleId:x.value.sourceHandle,targetHandleId:x.value.targetHandle,interactionWidth:x.value.interactionWidth,...K}),[M.value==="source"||M.value===!0?[Oe("g",{onMousedown:Ae,onMouseenter:H,onMouseout:B},Oe(Vx,{position:ue,centerX:Q,centerY:se,radius:o.value,type:"source","data-type":"source"}))]:null,M.value==="target"||M.value===!0?[Oe("g",{onMousedown:Me,onMouseenter:H,onMouseout:B},Oe(Vx,{position:he,centerX:Le,centerY:we,radius:o.value,type:"target","data-type":"target"}))]:null]])};function H(){$.value=!0}function B(){$.value=!1}function te(W,Z){w.update({event:W,edge:x.value,connection:Z})}function U(W){w.updateEnd({event:W,edge:x.value}),A.value=!1}function ie(W,Z){W.button===0&&(A.value=!0,D.value=Z?x.value.target:x.value.source,O.value=(Z?x.value.targetHandle:x.value.sourceHandle)??null,S.value=Z?"target":"source",w.updateStart({event:W,edge:x.value}),j(W))}function V(W){var Z;const K={event:W,edge:x.value};C.value&&(a.value=!1,x.value.selected&&p.value?(c([x.value]),(Z=T.value)==null||Z.blur()):n([x.value])),w.click(K)}function de(W){w.contextMenu({event:W,edge:x.value})}function ve(W){w.doubleClick({event:W,edge:x.value})}function ge(W){w.mouseEnter({event:W,edge:x.value})}function ke(W){w.mouseMove({event:W,edge:x.value})}function Ce(W){w.mouseLeave({event:W,edge:x.value})}function Ae(W){ie(W,!0)}function Me(W){ie(W,!1)}function Y(W){var Z;!m.value&&YC.includes(W.key)&&C.value&&(W.key==="Escape"?((Z=T.value)==null||Z.blur(),c([u(t.id)])):n([u(t.id)]))}}}),NV=IV,jV=X({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var t;const{id:e,connectionMode:n,connectionStartHandle:r,connectionEndHandle:o,connectionPosition:i,connectionLineType:a,connectionLineStyle:s,connectionLineOptions:l,connectionStatus:c,viewport:u,findNode:h}=At(),f=(t=Ot(Kh))==null?void 0:t["connection-line"],p=z(()=>{var y;return h((y=r.value)==null?void 0:y.nodeId)}),m=z(()=>{var y;return h((y=o.value)==null?void 0:y.nodeId)??null}),v=z(()=>({x:(i.value.x-u.value.x)/u.value.zoom,y:(i.value.y-u.value.y)/u.value.zoom})),g=z(()=>l.value.markerStart?`url(#${Zl(l.value.markerStart,e)})`:""),b=z(()=>l.value.markerEnd?`url(#${Zl(l.value.markerEnd,e)})`:"");return()=>{var y,x,w;if(!p.value||!r.value)return null;const _=r.value.id,k=r.value.type,E=p.value.handleBounds;let $=E?.[k]??[];if(n.value===ei.Loose){const P=E?.[k==="source"?"target":"source"]??[];$=[...$,...P]}if(!$)return null;const A=(_?$.find(P=>P.id===_):$[0])??null,D=A?.position??Pe.Top,{x:O,y:S}=Ms(p.value,A,D);let T=null;m.value&&(n.value===ei.Strict?T=((y=m.value.handleBounds[k==="source"?"target":"source"])==null?void 0:y.find(P=>{var N;return P.id===((N=o.value)==null?void 0:N.id)}))||null:T=((x=[...m.value.handleBounds.source??[],...m.value.handleBounds.target??[]])==null?void 0:x.find(P=>{var N;return P.id===((N=o.value)==null?void 0:N.id)}))||null);const C=((w=o.value)==null?void 0:w.position)??(D?wm[D]:null);if(!D||!C)return null;const M=a.value??l.value.type??ea.Bezier;let R="";const L={sourceX:O,sourceY:S,sourcePosition:D,targetX:v.value.x,targetY:v.value.y,targetPosition:C};return M===ea.Bezier?[R]=mS(L):M===ea.Step?[R]=km({...L,borderRadius:0}):M===ea.SmoothStep?[R]=km(L):M===ea.SimpleBezier?[R]=vS(L):R=`M${O},${S} ${v.value.x},${v.value.y}`,Oe("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Oe("g",{class:"vue-flow__connection"},f?Oe(f,{sourceX:O,sourceY:S,sourcePosition:D,targetX:v.value.x,targetY:v.value.y,targetPosition:C,sourceNode:p.value,sourceHandle:A,targetNode:m.value,targetHandle:T,markerEnd:b.value,markerStart:g.value,connectionStatus:c.value}):Oe("path",{d:R,class:[l.value.class,c,"vue-flow__connection-path"],style:{...s.value,...l.value.style},"marker-end":b.value,"marker-start":g.value})))}}}),BV=jV,zV=["id","markerWidth","markerHeight","markerUnits","orient"],UV={name:"MarkerType",compatConfig:{MODE:3}},HV=X({...UV,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(t){return(e,n)=>(Ve(),ct("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type===_e(As).ArrowClosed?(Ve(),ct("polyline",{key:0,style:pr({stroke:e.color,fill:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):xn("",!0),e.type===_e(As).Arrow?(Ve(),ct("polyline",{key:1,style:pr({stroke:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):xn("",!0)],8,zV))}}),WV={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},VV={name:"MarkerDefinitions",compatConfig:{MODE:3}},XV=X({...VV,setup(t){const{id:e,edges:n,connectionLineOptions:r,defaultMarkerColor:o}=At(),i=z(()=>{const a=new Set,s=[],l=c=>{if(c){const u=Zl(c,e);a.has(u)||(typeof c=="object"?s.push({...c,id:u,color:c.color||o.value}):s.push({id:u,color:o.value,type:c}),a.add(u))}};for(const c of[r.value.markerEnd,r.value.markerStart])l(c);for(const c of n.value)for(const u of[c.markerStart,c.markerEnd])l(u);return s.sort((c,u)=>c.id.localeCompare(u.id))});return(a,s)=>(Ve(),ct("svg",WV,[at("defs",null,[(Ve(!0),ct(bt,null,Vm(i.value,l=>(Ve(),_o(HV,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),YV={name:"Edges",compatConfig:{MODE:3}},GV=X({...YV,setup(t){const{findNode:e,getEdges:n,elevateEdgesOnSelect:r}=At();return(o,i)=>(Ve(),ct(bt,null,[d(XV),(Ve(!0),ct(bt,null,Vm(_e(n),a=>(Ve(),ct("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:pr({zIndex:_e(hW)(a,_e(e),_e(r))})},[d(_e(NV),{id:a.id},null,8,["id"])],4))),128)),d(_e(BV))],64))}}),qV=X({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(t){const{id:e,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:o,multiSelectionActive:i,emits:a,removeSelectedNodes:s,addSelectedNodes:l,updateNodeDimensions:c,onUpdateNodeInternals:u,getNodeTypes:h,nodeExtent:f,elevateNodesOnSelect:p,disableKeyboardA11y:m,ariaLiveMessage:v,snapToGrid:g,snapGrid:b,nodeDragThreshold:y,nodesDraggable:x,elementsSelectable:w,nodesConnectable:_,nodesFocusable:k,hooks:E}=At(),$=re(null);Fn(lS,$),Fn(sS,t.id);const A=Ot(Kh),D=Wn(),O=hS(),{node:S,parentNode:T}=dS(t.id),{emit:C,on:M}=RW(S,a),R=be(()=>typeof S.draggable>"u"?x.value:S.draggable),L=be(()=>typeof S.selectable>"u"?w.value:S.selectable),P=be(()=>typeof S.connectable>"u"?_.value:S.connectable),N=be(()=>typeof S.focusable>"u"?k.value:S.focusable),j=z(()=>L.value||R.value||E.value.nodeClick.hasListeners()||E.value.nodeDoubleClick.hasListeners()||E.value.nodeMouseEnter.hasListeners()||E.value.nodeMouseMove.hasListeners()||E.value.nodeMouseLeave.hasListeners()),H=be(()=>!!S.dimensions.width&&!!S.dimensions.height),B=z(()=>{const Z=S.type||"default",K=A?.[`node-${Z}`];if(K)return K;let F=S.template||h.value[Z];if(typeof F=="string"&&D){const I=Object.keys(D.appContext.components);I&&I.includes(Z)&&(F=sh(Z,!1))}return F&&typeof F!="string"?F:(a.error(new dn(cn.NODE_TYPE_MISSING,F)),!1)}),te=cS({id:t.id,el:$,disabled:()=>!R.value,selectable:L,dragHandle:()=>S.dragHandle,onStart(Z){C.dragStart(Z)},onDrag(Z){C.drag(Z)},onStop(Z){C.dragStop(Z)},onClick(Z){Y(Z)}}),U=z(()=>S.class instanceof Function?S.class(S):S.class),ie=z(()=>{const Z=(S.style instanceof Function?S.style(S):S.style)||{},K=S.width instanceof Function?S.width(S):S.width,F=S.height instanceof Function?S.height(S):S.height;return!Z.width&&K&&(Z.width=typeof K=="string"?K:`${K}px`),!Z.height&&F&&(Z.height=typeof F=="string"?F:`${F}px`),Z}),V=be(()=>Number(S.zIndex??ie.value.zIndex??0));return u(Z=>{(Z.includes(t.id)||!Z.length)&&ve()}),vn(()=>{pe(()=>S.hidden,(Z=!1,K,F)=>{!Z&&$.value&&(t.resizeObserver.observe($.value),F(()=>{$.value&&t.resizeObserver.unobserve($.value)}))},{immediate:!0,flush:"post"})}),pe([()=>S.type,()=>S.sourcePosition,()=>S.targetPosition],()=>{Lt(()=>{c([{id:t.id,nodeElement:$.value,forceUpdate:!0}])})}),pe([()=>S.position.x,()=>S.position.y,()=>{var Z;return(Z=T.value)==null?void 0:Z.computedPosition.x},()=>{var Z;return(Z=T.value)==null?void 0:Z.computedPosition.y},()=>{var Z;return(Z=T.value)==null?void 0:Z.computedPosition.z},V,()=>S.selected,()=>S.dimensions.height,()=>S.dimensions.width,()=>{var Z;return(Z=T.value)==null?void 0:Z.dimensions.height},()=>{var Z;return(Z=T.value)==null?void 0:Z.dimensions.width}],([Z,K,F,I,G,oe])=>{const ue={x:Z,y:K,z:oe+(p.value&&S.selected?1e3:0)};typeof F<"u"&&typeof I<"u"?S.computedPosition=aW({x:F,y:I,z:G},ue):S.computedPosition=ue},{flush:"post",immediate:!0}),pe([()=>S.extent,f],([Z,K],[F,I])=>{(Z!==F||K!==I)&&de()}),S.extent==="parent"||typeof S.extent=="object"&&"range"in S.extent&&S.extent.range==="parent"?um(()=>H).toBe(!0).then(de):de(),()=>S.hidden?null:Oe("div",{ref:$,"data-id":S.id,class:["vue-flow__node",`vue-flow__node-${B.value===!1?"default":S.type||"default"}`,{[n.value]:R.value,dragging:te?.value,draggable:R.value,selected:S.selected,selectable:L.value,parent:S.isParent},U.value],style:{visibility:H.value?"visible":"hidden",zIndex:S.computedPosition.z??V.value,transform:`translate(${S.computedPosition.x}px,${S.computedPosition.y}px)`,pointerEvents:j.value?"all":"none",...ie.value},tabIndex:N.value?0:void 0,role:N.value?"group":void 0,"aria-describedby":m.value?void 0:`${VC}-${e}`,"aria-label":S.ariaLabel,"aria-roledescription":"node",...S.domAttributes,onMouseenter:ge,onMousemove:ke,onMouseleave:Ce,onContextmenu:Ae,onClick:Y,onDblclick:Me,onKeydown:W},[Oe(B.value===!1?h.value.default:B.value,{id:S.id,type:S.type,data:S.data,events:{...S.events,...M},selected:S.selected,resizing:S.resizing,dragging:te.value,connectable:P.value,position:S.computedPosition,dimensions:S.dimensions,isValidTargetPos:S.isValidTargetPos,isValidSourcePos:S.isValidSourcePos,parent:S.parentNode,parentNodeId:S.parentNode,zIndex:S.computedPosition.z??V.value,targetPosition:S.targetPosition,sourcePosition:S.sourcePosition,label:S.label,dragHandle:S.dragHandle,onUpdateNodeInternals:ve})]);function de(){const Z=S.computedPosition,{computedPosition:K,position:F}=Z0(S,g.value?Gh(Z,b.value):Z,a.error,f.value,T.value);(S.computedPosition.x!==K.x||S.computedPosition.y!==K.y)&&(S.computedPosition={...S.computedPosition,...K}),(S.position.x!==F.x||S.position.y!==F.y)&&(S.position=F)}function ve(){$.value&&c([{id:t.id,nodeElement:$.value,forceUpdate:!0}])}function ge(Z){te?.value||C.mouseEnter({event:Z,node:S})}function ke(Z){te?.value||C.mouseMove({event:Z,node:S})}function Ce(Z){te?.value||C.mouseLeave({event:Z,node:S})}function Ae(Z){return C.contextMenu({event:Z,node:S})}function Me(Z){return C.doubleClick({event:Z,node:S})}function Y(Z){L.value&&(!r.value||!R.value||y.value>0)&&_m(S,i.value,l,s,o,!1,$.value),C.click({event:Z,node:S})}function W(Z){if(!(ym(Z)||m.value))if(YC.includes(Z.key)&&L.value){const K=Z.key==="Escape";_m(S,i.value,l,s,o,K,$.value)}else R.value&&S.selected&&cs[Z.key]&&(Z.preventDefault(),v.value=`Moved selected node ${Z.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~S.position.x}, y: ${~~S.position.y}`,O({x:cs[Z.key].x,y:cs[Z.key].y},Z.shiftKey))}}}),KV=qV;function ZV(t={includeHiddenNodes:!1}){const{nodes:e}=At();return z(()=>{if(e.value.length===0)return!1;for(const n of e.value)if((t.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const JV={class:"vue-flow__nodes vue-flow__container"},QV={name:"Nodes",compatConfig:{MODE:3}},eX=X({...QV,setup(t){const{getNodes:e,updateNodeDimensions:n,emits:r}=At(),o=ZV(),i=re();return pe(o,a=>{a&&Lt(()=>{r.nodesInitialized(e.value)})},{immediate:!0}),vn(()=>{i.value=new ResizeObserver(a=>{const s=a.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));Lt(()=>n(s))})}),lc(()=>{var a;return(a=i.value)==null?void 0:a.disconnect()}),(a,s)=>(Ve(),ct("div",JV,[i.value?(Ve(!0),ct(bt,{key:0},Vm(_e(e),(l,c,u,h)=>{const f=[l.id];if(h&&h.key===l.id&&ZE(h,f))return h;const p=(Ve(),_o(_e(KV),{id:l.id,key:l.id,"resize-observer":i.value},null,8,["id","resize-observer"]));return p.memo=f,p},s,0),128)):xn("",!0)]))}});function tX(){const{emits:t}=At();vn(()=>{if(aS()){const e=document.querySelector(".vue-flow__pane");e&&window.getComputedStyle(e).zIndex!=="1"&&t.error(new dn(cn.MISSING_STYLES))}})}const nX=at("div",{class:"vue-flow__edge-labels"},null,-1),rX={name:"VueFlow",compatConfig:{MODE:3}},oX=X({...rX,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(t,{expose:e,emit:n}){const r=t,o=qE(),i=Sp(r,"modelValue",n),a=Sp(r,"nodes",n),s=Sp(r,"edges",n),l=At(r),c=FW({modelValue:i,nodes:a,edges:s},r,l);return NW(n,l.hooks),PV(),tX(),Fn(Kh,o),Ps(()=>{c()}),e(l),(u,h)=>(Ve(),ct("div",{ref:_e(l).vueFlowRef,class:"vue-flow"},[d(OV,null,{default:Ll(()=>[d(GV),nX,d(eX),En(u.$slots,"zoom-pane")]),_:3}),En(u.$slots,"default"),d(DV)],512))}});var Wo=(t=>(t.Lines="lines",t.Dots="dots",t))(Wo||{});const yS=function({dimensions:t,size:e,color:n}){return Oe("path",{stroke:n,"stroke-width":e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})},xS=function({radius:t,color:e}){return Oe("circle",{cx:t,cy:t,r:t,fill:e})};Wo.Lines+"",Wo.Dots+"";const iX={[Wo.Dots]:"#81818a",[Wo.Lines]:"#eee"},aX=["id","x","y","width","height","patternTransform"],sX={key:2,height:"100",width:"100"},lX=["fill"],cX=["x","y","fill"],uX={name:"Background",compatConfig:{MODE:3}},dX=X({...uX,props:{id:{},variant:{default:()=>Wo.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(t){const{id:e,viewport:n}=At(),r=z(()=>{const a=n.value.zoom,[s,l]=Array.isArray(t.gap)?t.gap:[t.gap,t.gap],c=[s*a||1,l*a||1],u=t.size*a,[h,f]=Array.isArray(t.offset)?t.offset:[t.offset,t.offset],p=[h*a||1+c[0]/2,f*a||1+c[1]/2];return{scaledGap:c,offset:p,size:u}}),o=be(()=>`pattern-${e}${t.id?`-${t.id}`:""}`),i=be(()=>t.color||t.patternColor||iX[t.variant||Wo.Dots]);return(a,s)=>(Ve(),ct("svg",{class:"vue-flow__background vue-flow__container",style:pr({height:`${a.height>100?100:a.height}%`,width:`${a.width>100?100:a.width}%`})},[En(a.$slots,"pattern-container",{id:o.value},()=>[at("pattern",{id:o.value,x:_e(n).x%r.value.scaledGap[0],y:_e(n).y%r.value.scaledGap[1],width:r.value.scaledGap[0],height:r.value.scaledGap[1],patternTransform:`translate(-${r.value.offset[0]},-${r.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[En(a.$slots,"pattern",{},()=>[a.variant===_e(Wo).Lines?(Ve(),_o(_e(yS),{key:0,size:a.lineWidth,color:i.value,dimensions:r.value.scaledGap},null,8,["size","color","dimensions"])):a.variant===_e(Wo).Dots?(Ve(),_o(_e(xS),{key:1,color:i.value,radius:r.value.size/2},null,8,["color","radius"])):xn("",!0),a.bgColor?(Ve(),ct("svg",sX,[at("rect",{width:"100%",height:"100%",fill:a.bgColor},null,8,lX)])):xn("",!0)])],8,aX)]),at("rect",{x:a.x,y:a.y,width:"100%",height:"100%",fill:`url(#${o.value})`},null,8,cX),En(a.$slots,"default",{id:o.value})],4))}});function J(t,e,n){return(e=function(r){var o=function(i,a){if(typeof i!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var l=s.call(i,a);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}(r,"string");return typeof o=="symbol"?o:o+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xx(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nt(t,e){if(t==null)return{};var n,r,o=function(a,s){if(a==null)return{};var l={};for(var c in a)if({}.hasOwnProperty.call(a,c)){if(s.indexOf(c)>=0)continue;l[c]=a[c]}return l}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function $o(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}let Yx=class{constructor(){J(this,"browserShadowBlurConstant",1),J(this,"DPI",96),J(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),J(this,"perfLimitSizeTotal",2097152),J(this,"maxCacheSideLimit",4096),J(this,"minCacheSideLimit",256),J(this,"disableStyleCopyPaste",!1),J(this,"enableGLFiltering",!0),J(this,"textureSize",4096),J(this,"forceGLPutImageData",!1),J(this,"cachesBoundsOfCurve",!1),J(this,"fontPaths",{}),J(this,"NUM_FRACTION_DIGITS",4)}};const mt=new class extends Yx{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=ee(ee({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new Yx,n=t?.reduce((r,o)=>(r[o]=e[o],r),{})||e;this.configure(n)}},Di=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return console[t]("fabric",...n)};let vo=class extends Error{constructor(e,n){super("fabric: ".concat(e),n)}},hX=class extends vo{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}},fX=class{},pX=class extends fX{testPrecision(e,n){const r="precision ".concat(n,` float;
void main(){}`),o=e.createShader(e.FRAGMENT_SHADER);return!!o&&(e.shaderSource(o,r),e.compileShader(o),!!e.getShaderParameter(o,e.COMPILE_STATUS))}queryWebGL(e){const n=e.getContext("webgl");n&&(this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(r=>this.testPrecision(n,r)),n.getExtension("WEBGL_lose_context").loseContext(),Di("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const gX={};let Gx;const So=()=>Gx||(Gx={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new pX,dispose(){},copyPasteData:gX}),Hs=()=>So().document,tf=()=>So().window,wS=()=>{var t;return Math.max((t=mt.devicePixelRatio)!==null&&t!==void 0?t:tf().devicePixelRatio,1)},$l=new class{constructor(){J(this,"charWidthsCache",{}),J(this,"boundsOfCurveCache",{})}getFontCache(t){let{fontFamily:e,fontStyle:n,fontWeight:r}=t;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const o=this.charWidthsCache[e],i="".concat(n.toLowerCase(),"_").concat((r+"").toLowerCase());return o[i]||(o[i]={}),o[i]}clearFontCache(t){(t=(t||"").toLowerCase())?this.charWidthsCache[t]&&delete this.charWidthsCache[t]:this.charWidthsCache={}}limitDimsByArea(t){const{perfLimitSizeTotal:e}=mt,n=Math.sqrt(e*t);return[Math.floor(n),Math.floor(e/n)]}},Cm="6.7.0";function id(){}const _c=Math.PI/2,Gd=2*Math.PI,ev=Math.PI/180,Vn=Object.freeze([1,0,0,1,0,0]),tv=16,vi=.4477152502,ot="center",_t="left",er="top",Sm="bottom",Zt="right",tr="none",nv=/\r?\n/,_S="moving",nf="scaling",kS="rotating",rv="rotate",CS="skewing",Jl="resizing",mX="modifyPoly",vX="modifyPath",qd="changed",rf="scale",ir="scaleX",Ar="scaleY",Ws="skewX",Vs="skewY",pn="fill",nr="stroke",Kd="modified",Wa="json",Ip="svg",De=new class{constructor(){this[Wa]=new Map,this[Ip]=new Map}has(t){return this[Wa].has(t)}getClass(t){const e=this[Wa].get(t);if(!e)throw new vo("No class registered for ".concat(t));return e}setClass(t,e){e?this[Wa].set(e,t):(this[Wa].set(t.type,t),this[Wa].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[Ip].get(t)}setSVGClass(t,e){this[Ip].set(e??t.type.toLowerCase(),t)}},Zd=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach(e=>e.abort()),t}cancelByCanvas(t){if(!t)return[];const e=this.filter(n=>{var r;return n.target===t||typeof n.target=="object"&&((r=n.target)===null||r===void 0?void 0:r.canvas)===t});return e.forEach(n=>n.abort()),e}cancelByTarget(t){if(!t)return[];const e=this.filter(n=>n.target===t);return e.forEach(n=>n.abort()),e}};class bX{constructor(){J(this,"__eventListeners",{})}on(e,n){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(r=>{let[o,i]=r;this.on(o,i)}),()=>this.off(e);if(n){const r=e;return this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(n),()=>this.off(r,n)}return()=>!1}once(e,n){if(typeof e=="object"){const r=[];return Object.entries(e).forEach(o=>{let[i,a]=o;r.push(this.once(i,a))}),()=>r.forEach(o=>o())}if(n){const r=this.on(e,function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n.call(this,...i),r()});return r}return()=>!1}_removeEventListener(e,n){if(this.__eventListeners[e])if(n){const r=this.__eventListeners[e],o=r.indexOf(n);o>-1&&r.splice(o,1)}else this.__eventListeners[e]=[]}off(e,n){if(this.__eventListeners)if(e===void 0)for(const r in this.__eventListeners)this._removeEventListener(r);else typeof e=="object"?Object.entries(e).forEach(r=>{let[o,i]=r;this._removeEventListener(o,i)}):this._removeEventListener(e,n)}fire(e,n){var r;if(!this.__eventListeners)return;const o=(r=this.__eventListeners[e])===null||r===void 0?void 0:r.concat();if(o)for(let i=0;i<o.length;i++)o[i].call(this,n||{})}}const qa=(t,e)=>{const n=t.indexOf(e);return n!==-1&&t.splice(n,1),t},ti=t=>{if(t===0)return 1;switch(Math.abs(t)/_c){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},ni=t=>{if(t===0)return 0;const e=t/_c,n=Math.sign(t);switch(e){case 1:return n;case 2:return 0;case 3:return-n}return Math.sin(t)};class ae{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=n)}add(e){return new ae(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new ae(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new ae(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new ae(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new ae(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new ae(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new ae(this.x/e.x,this.y/e.y)}scalarDivide(e){return new ae(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return n=Math.max(Math.min(1,n),0),new ae(this.x+(e.x-this.x)*n,this.y+(e.y-this.y)*n)}distanceFrom(e){const n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n*n+r*r)}midPointFrom(e){return this.lerp(e)}min(e){return new ae(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new ae(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,n){return this.x=e,this.y=n,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const n=this.x,r=this.y;this.x=e.x,this.y=e.y,e.x=n,e.y=r}clone(){return new ae(this.x,this.y)}rotate(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ov;const r=ni(e),o=ti(e),i=this.subtract(n);return new ae(i.x*o-i.y*r,i.x*r+i.y*o).add(n)}transform(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new ae(e[0]*this.x+e[2]*this.y+(n?0:e[4]),e[1]*this.x+e[3]*this.y+(n?0:e[5]))}}const ov=new ae(0,0),ad=t=>!!t&&Array.isArray(t._objects);function SS(t){class e extends t{constructor(){super(...arguments),J(this,"_objects",[])}_onObjectAdded(r){}_onObjectRemoved(r){}_onStackOrderChanged(r){}add(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];const a=this._objects.push(...o);return o.forEach(s=>this._onObjectAdded(s)),a}insertAt(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return this._objects.splice(r,0,...i),i.forEach(s=>this._onObjectAdded(s)),this._objects.length}remove(){const r=this._objects,o=[];for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return a.forEach(l=>{const c=r.indexOf(l);c!==-1&&(r.splice(c,1),o.push(l),this._onObjectRemoved(l))}),o}forEachObject(r){this.getObjects().forEach((o,i,a)=>r(o,i,a))}getObjects(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length===0?[...this._objects]:this._objects.filter(a=>a.isType(...o))}item(r){return this._objects[r]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(r,o){return!!this._objects.includes(r)||!!o&&this._objects.some(i=>i instanceof e&&i.contains(r,!0))}complexity(){return this._objects.reduce((r,o)=>r+=o.complexity?o.complexity():0,0)}sendObjectToBack(r){return!(!r||r===this._objects[0])&&(qa(this._objects,r),this._objects.unshift(r),this._onStackOrderChanged(r),!0)}bringObjectToFront(r){return!(!r||r===this._objects[this._objects.length-1])&&(qa(this._objects,r),this._objects.push(r),this._onStackOrderChanged(r),!0)}sendObjectBackwards(r,o){if(!r)return!1;const i=this._objects.indexOf(r);if(i!==0){const a=this.findNewLowerIndex(r,i,o);return qa(this._objects,r),this._objects.splice(a,0,r),this._onStackOrderChanged(r),!0}return!1}bringObjectForward(r,o){if(!r)return!1;const i=this._objects.indexOf(r);if(i!==this._objects.length-1){const a=this.findNewUpperIndex(r,i,o);return qa(this._objects,r),this._objects.splice(a,0,r),this._onStackOrderChanged(r),!0}return!1}moveObjectTo(r,o){return r!==this._objects[o]&&(qa(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0)}findNewLowerIndex(r,o,i){let a;if(i){a=o;for(let s=o-1;s>=0;--s)if(r.isOverlapping(this._objects[s])){a=s;break}}else a=o-1;return a}findNewUpperIndex(r,o,i){let a;if(i){a=o;for(let s=o+1;s<this._objects.length;++s)if(r.isOverlapping(this._objects[s])){a=s;break}}else a=o+1;return a}collectObjects(r){let{left:o,top:i,width:a,height:s}=r,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=[],u=new ae(o,i),h=u.add(new ae(a,s));for(let f=this._objects.length-1;f>=0;f--){const p=this._objects[f];p.selectable&&p.visible&&(l&&p.intersectsWithRect(u,h)||p.isContainedWithinRect(u,h)||l&&p.containsPoint(u)||l&&p.containsPoint(h))&&c.push(p)}return c}}return e}let ES=class extends bX{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const n in e)this.set(n,e[n])}_setObject(e){for(const n in e)this._set(n,e[n])}set(e,n){return typeof e=="object"?this._setObject(e):this._set(e,n),this}_set(e,n){this[e]=n}toggle(e){const n=this.get(e);return typeof n=="boolean"&&this.set(e,!n),this}get(e){return this[e]}};function sd(t){return tf().requestAnimationFrame(t)}function yX(t){return tf().cancelAnimationFrame(t)}let xX=0;const Pi=()=>xX++,ri=()=>{const t=Hs().createElement("canvas");if(!t||t.getContext===void 0)throw new vo("Failed to create `canvas` element");return t},wX=()=>Hs().createElement("img"),Mr=t=>{const e=ri();return e.width=t.width,e.height=t.height,e},TS=(t,e,n)=>t.toDataURL("image/".concat(e),n),OS=(t,e,n)=>new Promise((r,o)=>{t.toBlob(r,"image/".concat(e),n)}),Qt=t=>t*ev,oi=t=>t/ev,_X=t=>t.every((e,n)=>e===Vn[n]),Gn=(t,e,n)=>new ae(t).transform(e,n),Kr=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:r,y:o}=new ae(t[4],t[5]).transform(n,!0);return n[4]=-r,n[5]=-o,n},Sn=(t,e,n)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]],iv=(t,e)=>t.reduceRight((n,r)=>r&&n?Sn(r,n,e):r||n,void 0)||Vn.concat(),AS=t=>{let[e,n]=t;return Math.atan2(n,e)},Jd=t=>{const e=AS(t),n=Math.pow(t[0],2)+Math.pow(t[1],2),r=Math.sqrt(n),o=(t[0]*t[3]-t[2]*t[1])/r,i=Math.atan2(t[0]*t[2]+t[1]*t[3],n);return{angle:oi(e),scaleX:r,scaleY:o,skewX:oi(i),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},kc=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Xs(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:n=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Qt(t),o=ti(r),i=ni(r);return[o,i,-i,o,e?e-(o*e-i*n):0,n?n-(i*e+o*n):0]}const av=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},MS=t=>Math.tan(Qt(t)),$S=t=>[1,0,MS(t),1,0,0],RS=t=>[1,MS(t),0,1,0,0],of=t=>{let{scaleX:e=1,scaleY:n=1,flipX:r=!1,flipY:o=!1,skewX:i=0,skewY:a=0}=t,s=av(r?-e:e,o?-n:n);return i&&(s=Sn(s,$S(i),!0)),a&&(s=Sn(s,RS(a),!0)),s},kX=t=>{const{translateX:e=0,translateY:n=0,angle:r=0}=t;let o=kc(e,n);r&&(o=Sn(o,Xs({angle:r})));const i=of(t);return _X(i)||(o=Sn(o,i)),o},ld=function(t){let{signal:e,crossOrigin:n=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,o){if(e&&e.aborted)return o(new hX("loadImage"));const i=wX();let a;e&&(a=function(l){i.src="",o(l)},e.addEventListener("abort",a,{once:!0}));const s=function(){i.onload=i.onerror=null,a&&e?.removeEventListener("abort",a),r(i)};t?(i.onload=s,i.onerror=function(){a&&e?.removeEventListener("abort",a),o(new vo("Error loading ".concat(i.src)))},n&&(i.crossOrigin=n),i.src=t):s()})},Ql=function(t){let{signal:e,reviver:n=id}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,o)=>{const i=[];e&&e.addEventListener("abort",o,{once:!0}),Promise.all(t.map(a=>De.getClass(a.type).fromObject(a,{signal:e}).then(s=>(n(a,s),i.push(s),s)))).then(r).catch(a=>{i.forEach(s=>{s.dispose&&s.dispose()}),o(a)}).finally(()=>{e&&e.removeEventListener("abort",o)})})},af=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,r)=>{const o=[];e&&e.addEventListener("abort",r,{once:!0});const i=Object.values(t).map(s=>s&&s.type&&De.has(s.type)?Ql([s],{signal:e}).then(l=>{let[c]=l;return o.push(c),c}):s),a=Object.keys(t);Promise.all(i).then(s=>s.reduce((l,c,u)=>(l[a[u]]=c,l),{})).then(n).catch(s=>{o.forEach(l=>{l.dispose&&l.dispose()}),r(s)}).finally(()=>{e&&e.removeEventListener("abort",r)})})},Ys=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,n)=>(n in t&&(e[n]=t[n]),e),{})},sv=(t,e)=>Object.keys(t).reduce((n,r)=>(e(t[r],r,t)&&(n[r]=t[r]),n),{}),Rt=(t,e)=>parseFloat(Number(t).toFixed(e)),ec=t=>"matrix("+t.map(e=>Rt(e,mt.NUM_FRACTION_DIGITS)).join(" ")+")",Er=t=>!!t&&t.toLive!==void 0,qx=t=>!!t&&typeof t.toObject=="function",Kx=t=>!!t&&t.offsetX!==void 0&&"source"in t,na=t=>!!t&&"multiSelectionStacking"in t;function DS(t){const e=t&&Yr(t);let n=0,r=0;if(!t||!e)return{left:n,top:r};let o=t;const i=e.documentElement,a=e.body||{scrollLeft:0,scrollTop:0};for(;o&&(o.parentNode||o.host)&&(o=o.parentNode||o.host,o===e?(n=a.scrollLeft||i.scrollLeft||0,r=a.scrollTop||i.scrollTop||0):(n+=o.scrollLeft||0,r+=o.scrollTop||0),o.nodeType!==1||o.style.position!=="fixed"););return{left:n,top:r}}const Yr=t=>t.ownerDocument||null,PS=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},LS=function(t,e,n){let{width:r,height:o}=n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=r,t.height=o,i>1&&(t.setAttribute("width",(r*i).toString()),t.setAttribute("height",(o*i).toString()),e.scale(i,i))},Em=(t,e)=>{let{width:n,height:r}=e;n&&(t.style.width=typeof n=="number"?"".concat(n,"px"):n),r&&(t.style.height=typeof r=="number"?"".concat(r,"px"):r)};function Zx(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=tr,t}class FS{constructor(e){J(this,"_originalCanvasStyle",void 0),J(this,"lower",void 0);const n=this.createLowerCanvas(e);this.lower={el:n,ctx:n.getContext("2d")}}createLowerCanvas(e){const n=(r=e)&&r.getContext!==void 0?e:e&&Hs().getElementById(e)||ri();var r;if(n.hasAttribute("data-fabric"))throw new vo("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=n.style.cssText,n.setAttribute("data-fabric","main"),n.classList.add("lower-canvas"),n}cleanupDOM(e){let{width:n,height:r}=e;const{el:o}=this.lower;o.classList.remove("lower-canvas"),o.removeAttribute("data-fabric"),o.setAttribute("width","".concat(n)),o.setAttribute("height","".concat(r)),o.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,n){const{el:r,ctx:o}=this.lower;LS(r,o,e,n)}setCSSDimensions(e){Em(this.lower.el,e)}calcOffset(){return function(e){var n;const r=e&&Yr(e),o={left:0,top:0};if(!r)return o;const i=((n=PS(e))===null||n===void 0?void 0:n.getComputedStyle(e,null))||{};o.left+=parseInt(i.borderLeftWidth,10)||0,o.top+=parseInt(i.borderTopWidth,10)||0,o.left+=parseInt(i.paddingLeft,10)||0,o.top+=parseInt(i.paddingTop,10)||0;let a={left:0,top:0};const s=r.documentElement;e.getBoundingClientRect!==void 0&&(a=e.getBoundingClientRect());const l=DS(e);return{left:a.left+l.left-(s.clientLeft||0)+o.left,top:a.top+l.top-(s.clientTop||0)+o.top}}(this.lower.el)}dispose(){So().dispose(this.lower.el),delete this.lower}}const CX={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Vn]};class Cc extends SS(ES){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return Cc.ownDefaults}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(n),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new FS(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=super.insertAt(e,...r);return r.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),i}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Di("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?wS():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,n){return this.setDimensions({width:e},n)}setHeight(e,n){return this.setDimensions({height:e},n)}_setDimensionsImpl(e){let{cssOnly:n=!1,backstoreOnly:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!n){const o=ee({width:this.width,height:this.height},e);this.elements.setDimensions(o,this.getRetinaScaling()),this.hasLostContext=!0,this.width=o.width,this.height=o.height}r||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,n){this._setDimensionsImpl(e,n),n&&n.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,n){const r=e,o=[...this.viewportTransform],i=Gn(e,Kr(o));o[0]=n,o[3]=n;const a=Gn(i,o);o[4]+=r.x-a.x,o[5]+=r.y-a.y,this.setViewportTransform(o)}setZoom(e){this.zoomToPoint(new ae(0,0),e)}absolutePan(e){const n=[...this.viewportTransform];return n[4]=-e.x,n[5]=-e.y,this.setViewportTransform(n)}relativePan(e){return this.absolutePan(new ae(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=sd(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,n=this.height,r=Kr(this.viewportTransform),o=Gn({x:0,y:0},r),i=Gn({x:e,y:n},r),a=o.min(i),s=o.max(i);return this.vptCoords={tl:a,tr:new ae(s.x,a.y),bl:new ae(a.x,s.y),br:s}}cancelRequestedRender(){this.nextRenderHandle&&(yX(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,n){if(this.destroyed)return;const r=this.viewportTransform,o=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(e,n),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),o&&(o._set("canvas",this),o.shouldCache(),o._transformDone=!0,o.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,o)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,n){const r=this.viewportTransform;e.save(),e.transform(...r),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()}_renderObjects(e,n){for(let r=0,o=n.length;r<o;++r)n[r]&&n[r].render(e)}_renderBackgroundOrOverlay(e,n){const r=this["".concat(n,"Color")],o=this["".concat(n,"Image")],i=this.viewportTransform,a=this["".concat(n,"Vpt")];if(!r&&!o)return;const s=Er(r);if(r){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=s?r.toLive(e):r,a&&e.transform(...i),s){e.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);const l=r.gradientTransform||r.patternTransform;l&&e.transform(...l)}e.fill(),e.restore()}if(o){e.save();const{skipOffscreen:l}=this;this.skipOffscreen=a,a&&e.transform(...i),o.render(e),this.skipOffscreen=l,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ae(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new ae(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new ae(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new ae(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new ae(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Gn(this.getCenterPoint(),Kr(this.viewportTransform))}_centerObject(e,n){e.setXY(n,ot,ot),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,n){const r=this.clipPath,o=r&&!r.excludeFromExport?this._toObject(r,e,n):null;return ee(ee(ee({version:Cm},Ys(this,n)),{},{objects:this._objects.filter(i=>!i.excludeFromExport).map(i=>this._toObject(i,e,n))},this.__serializeBgOverlay(e,n)),o?{clipPath:o}:null)}_toObject(e,n,r){let o;this.includeDefaultValues||(o=e.includeDefaultValues,e.includeDefaultValues=!1);const i=e[n](r);return this.includeDefaultValues||(e.includeDefaultValues=!!o),i}__serializeBgOverlay(e,n){const r={},o=this.backgroundImage,i=this.overlayImage,a=this.backgroundColor,s=this.overlayColor;return Er(a)?a.excludeFromExport||(r.background=a.toObject(n)):a&&(r.background=a),Er(s)?s.excludeFromExport||(r.overlay=s.toObject(n)):s&&(r.overlay=s),o&&!o.excludeFromExport&&(r.backgroundImage=this._toObject(o,e,n)),i&&!i.excludeFromExport&&(r.overlayImage=this._toObject(i,e,n)),r}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e.reviver=n;const r=[];return this._setSVGPreamble(r,e),this._setSVGHeader(r,e),this.clipPath&&r.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",n),this._setSVGObjects(r,n),this.clipPath&&r.push(`</g>
`),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",n),r.push("</svg>"),r.join("")}_setSVGPreamble(e,n){n.suppressPreamble||e.push('<?xml version="1.0" encoding="',n.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,n){const r=n.width||"".concat(this.width),o=n.height||"".concat(this.height),i=mt.NUM_FRACTION_DIGITS,a=n.viewBox;let s;if(a)s='viewBox="'.concat(a.x," ").concat(a.y," ").concat(a.width," ").concat(a.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;s='viewBox="'.concat(Rt(-l[4]/l[0],i)," ").concat(Rt(-l[5]/l[3],i)," ").concat(Rt(this.width/l[0],i)," ").concat(Rt(this.height/l[3],i),'" ')}else s='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',o,'" ',s,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Cm,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(n),`</defs>
`)}createSVGClipPathMarkup(e){const n=this.clipPath;return n?(n.clipPathId="CLIPPATH_".concat(Pi()),'<clipPath id="'.concat(n.clipPathId,`" >
`).concat(n.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const n=this["".concat(e,"Color")];if(Er(n)){const r=this["".concat(e,"Vpt")],o=this.viewportTransform,i={isType:()=>!1,width:this.width/(r?o[0]:1),height:this.height/(r?o[3]:1)};return n.toSVG(i,{additionalTransform:r?ec(o):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],n={},r=mt.fontPaths;this._objects.forEach(function i(a){e.push(a),ad(a)&&a._objects.forEach(i)}),e.forEach(i=>{if(!(a=i)||typeof a._renderText!="function")return;var a;const{styles:s,fontFamily:l}=i;!n[l]&&r[l]&&(n[l]=!0,s&&Object.values(s).forEach(c=>{Object.values(c).forEach(u=>{let{fontFamily:h=""}=u;!n[h]&&r[h]&&(n[h]=!0)})}))});const o=Object.keys(n).map(i=>`		@font-face {
			font-family: '`.concat(i,`';
			src: url('`).concat(r[i],`');
		}
`)).join("");return o?`	<style type="text/css"><![CDATA[
`.concat(o,`]]></style>
`):""}_setSVGObjects(e,n){this.forEachObject(r=>{r.excludeFromExport||this._setSVGObject(e,r,n)})}_setSVGObject(e,n,r){e.push(n.toSVG(r))}_setSVGBgOverlayImage(e,n,r){const o=this[n];o&&!o.excludeFromExport&&o.toSVG&&e.push(o.toSVG(r))}_setSVGBgOverlayColor(e,n){const r=this["".concat(n,"Color")];if(r)if(Er(r)){const o=r.repeat||"",i=this.width,a=this.height,s=this["".concat(n,"Vpt")]?ec(Kr(this.viewportTransform)):"";e.push('<rect transform="'.concat(s," translate(").concat(i/2,",").concat(a/2,')" x="').concat(r.offsetX-i/2,'" y="').concat(r.offsetY-a/2,'" width="').concat(o!=="repeat-y"&&o!=="no-repeat"||!Kx(r)?i:r.source.width,'" height="').concat(o!=="repeat-x"&&o!=="no-repeat"||!Kx(r)?a:r.source.height,'" fill="url(#SVGID_').concat(r.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',`></rect>
`)}loadFromJSON(e,n){let{signal:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new vo("`json` is undefined"));const o=typeof e=="string"?JSON.parse(e):e,{objects:i=[],backgroundImage:a,background:s,overlayImage:l,overlay:c,clipPath:u}=o,h=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Ql(i,{reviver:n,signal:r}),af({backgroundImage:a,backgroundColor:s,overlayImage:l,overlayColor:c,clipPath:u},{signal:r})]).then(f=>{let[p,m]=f;return this.clear(),this.add(...p),this.set(o),this.set(m),this.renderOnAddRemove=h,this})}clone(e){const n=this.toObject(e);return this.cloneWithoutData().loadFromJSON(n)}cloneWithoutData(){const e=Mr(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:n="png",quality:r=1,multiplier:o=1,enableRetinaScaling:i=!1}=e,a=o*(i?this.getRetinaScaling():1);return TS(this.toCanvasElement(a,e),n,r)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:n="png",quality:r=1,multiplier:o=1,enableRetinaScaling:i=!1}=e,a=o*(i?this.getRetinaScaling():1);return OS(this.toCanvasElement(a,e),n,r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:n,height:r,left:o,top:i,filter:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(n||this.width)*e,l=(r||this.height)*e,c=this.getZoom(),u=this.width,h=this.height,f=this.skipControlsDrawing,p=c*e,m=this.viewportTransform,v=[p,0,0,p,(m[4]-(o||0))*e,(m[5]-(i||0))*e],g=this.enableRetinaScaling,b=Mr({width:s,height:l}),y=a?this._objects.filter(x=>a(x)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=v,this.width=s,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(b.getContext("2d"),y),this.viewportTransform=m,this.width=u,this.height=h,this.calcViewportBoundaries(),this.enableRetinaScaling=g,this.skipControlsDrawing=f,b}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Zd.cancelByCanvas(this),this.disposed=!0,new Promise((e,n)=>{const r=()=>{this.destroy(),e(!0)};r.kill=n,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=r:r()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}J(Cc,"ownDefaults",CX);const SX=["touchstart","touchmove","touchend"],EX=t=>{const e=DS(t.target),n=function(r){const o=r.changedTouches;return o&&o[0]?o[0]:r}(t);return new ae(n.clientX+e.left,n.clientY+e.top)},Tm=t=>SX.includes(t.type)||t.pointerType==="touch",Jx=t=>{t.preventDefault(),t.stopPropagation()},Go=t=>{let e=0,n=0,r=0,o=0;for(let i=0,a=t.length;i<a;i++){const{x:s,y:l}=t[i];(s>r||!i)&&(r=s),(s<e||!i)&&(e=s),(l>o||!i)&&(o=l),(l<n||!i)&&(n=l)}return{left:e,top:n,width:r-e,height:o-n}},TX=["translateX","translateY","scaleX","scaleY"],OX=(t,e)=>Qd(t,Sn(e,t.calcOwnMatrix())),Qd=(t,e)=>{const n=Jd(e),{translateX:r,translateY:o,scaleX:i,scaleY:a}=n,s=Nt(n,TX),l=new ae(r,o);t.flipX=!1,t.flipY=!1,Object.assign(t,s),t.set({scaleX:i,scaleY:a}),t.setPositionByOrigin(l,ot,ot)},AX=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},IS=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),lv=(t,e,n)=>{const r=t/2,o=e/2,i=[new ae(-r,-o),new ae(r,-o),new ae(-r,o),new ae(r,o)].map(s=>s.transform(n)),a=Go(i);return new ae(a.width,a.height)},sf=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vn;return Sn(Kr(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vn),t)},us=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vn,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vn;return t.transform(sf(e,n))},MX=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vn,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vn;return t.transform(sf(e,n),!0)},$X=(t,e,n)=>{const r=sf(e,n);return Qd(t,Sn(r,t.calcOwnMatrix())),r},NS=(t,e)=>{var n;const{transform:{target:r}}=e;(n=r.canvas)===null||n===void 0||n.fire("object:".concat(t),ee(ee({},e),{},{target:r})),r.fire(t,e)},RX={left:-.5,top:-.5,center:0,bottom:.5,right:.5},sn=t=>typeof t=="string"?RX[t]:t-.5,eh="not-allowed";function jS(t){return sn(t.originX)===sn(ot)&&sn(t.originY)===sn(ot)}function Qx(t){return .5-sn(t)}const Qr=(t,e)=>t[e],BS=(t,e,n,r)=>({e:t,transform:e,pointer:new ae(n,r)});function zS(t,e){const n=t.getTotalAngle()+oi(Math.atan2(e.y,e.x))+360;return Math.round(n%360/45)}function cv(t,e,n,r,o){var i;let{target:a,corner:s}=t;const l=a.controls[s],c=((i=a.canvas)===null||i===void 0?void 0:i.getZoom())||1,u=a.padding/c,h=function(f,p,m,v){const g=f.getRelativeCenterPoint(),b=m!==void 0&&v!==void 0?f.translateToGivenOrigin(g,ot,ot,m,v):new ae(f.left,f.top);return(f.angle?p.rotate(-Qt(f.angle),g):p).subtract(b)}(a,new ae(r,o),e,n);return h.x>=u&&(h.x-=u),h.x<=-u&&(h.x+=u),h.y>=u&&(h.y-=u),h.y<=u&&(h.y+=u),h.x-=l.offsetX,h.y-=l.offsetY,h}const DX=(t,e,n,r)=>{const{target:o,offsetX:i,offsetY:a}=e,s=n-i,l=r-a,c=!Qr(o,"lockMovementX")&&o.left!==s,u=!Qr(o,"lockMovementY")&&o.top!==l;return c&&o.set(_t,s),u&&o.set(er,l),(c||u)&&NS(_S,BS(t,e,n,r)),c||u},e2={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Np=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),t2=(t,e,n,r)=>{t/=255,e/=255,n/=255;const o=Math.max(t,e,n),i=Math.min(t,e,n);let a,s;const l=(o+i)/2;if(o===i)a=s=0;else{const c=o-i;switch(s=l>.5?c/(2-o-i):c/(o+i),o){case t:a=(e-n)/c+(e<n?6:0);break;case e:a=(n-t)/c+2;break;case n:a=(t-e)/c+4}a/=6}return[Math.round(360*a),Math.round(100*s),Math.round(100*l),r]},n2=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},du=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),r2=t=>{let[e,n,r,o=1]=t;const i=Math.round(.3*e+.59*n+.11*r);return[i,i,i,o]};class Et{constructor(e){if(J(this,"isUnrecognised",!1),e)if(e instanceof Et)this.setSource([...e._source]);else if(Array.isArray(e)){const[n,r,o,i=1]=e;this.setSource([n,r,o,i])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in e2&&(e=e2[e]),e==="transparent"?[255,255,255,0]:Et.sourceFromHex(e)||Et.sourceFromRgb(e)||Et.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,n,r]=this.getSource();return"rgb(".concat(e,",").concat(n,",").concat(r,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,n,r]=t2(...this.getSource());return"hsl(".concat(e,",").concat(n,"%,").concat(r,"%)")}toHsla(){const[e,n,r,o]=t2(...this.getSource());return"hsla(".concat(e,",").concat(n,"%,").concat(r,"%,").concat(o,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,n,r,o]=this.getSource();return"".concat(du(e)).concat(du(n)).concat(du(r)).concat(du(Math.round(255*o)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(r2(this.getSource())),this}toBlackWhite(e){const[n,,,r]=r2(this.getSource()),o=n<(e||127)?0:255;return this.setSource([o,o,o,r]),this}overlayWith(e){e instanceof Et||(e=new Et(e));const n=this.getSource(),r=e.getSource(),[o,i,a]=n.map((s,l)=>Math.round(.5*s+.5*r[l]));return this.setSource([o,i,a,n[3]]),this}static fromRgb(e){return Et.fromRgba(e)}static fromRgba(e){return new Et(Et.sourceFromRgb(e))}static sourceFromRgb(e){const n=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(n){const[r,o,i]=n.slice(1,4).map(a=>{const s=parseFloat(a);return a.endsWith("%")?Math.round(2.55*s):s});return[r,o,i,n2(n[4])]}}static fromHsl(e){return Et.fromHsla(e)}static fromHsla(e){return new Et(Et.sourceFromHsl(e))}static sourceFromHsl(e){const n=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!n)return;const r=(Et.parseAngletoDegrees(n[1])%360+360)%360/360,o=parseFloat(n[2])/100,i=parseFloat(n[3])/100;let a,s,l;if(o===0)a=s=l=i;else{const c=i<=.5?i*(o+1):i+o-i*o,u=2*i-c;a=Np(u,c,r+1/3),s=Np(u,c,r),l=Np(u,c,r-1/3)}return[Math.round(255*a),Math.round(255*s),Math.round(255*l),n2(n[4])]}static fromHex(e){return new Et(Et.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const n=e.slice(e.indexOf("#")+1);let r;r=n.length<=4?n.split("").map(l=>l+l):n.match(/.{2}/g);const[o,i,a,s=255]=r.map(l=>parseInt(l,16));return[o,i,a,s/255]}}static parseAngletoDegrees(e){const n=e.toLowerCase(),r=parseFloat(n);return n.includes("rad")?oi(r):n.includes("turn")?360*r:r}}const ds=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tv;const n=/\D{0,2}$/.exec(t),r=parseFloat(t),o=mt.DPI;switch(n?.[0]){case"mm":return r*o/25.4;case"cm":return r*o/2.54;case"in":return r*o;case"pt":return r*o/72;case"pc":return r*o/72*12;case"em":return r*e;default:return r}},PX=t=>{const[e,n]=t.trim().split(" "),[r,o]=(i=e)&&i!==tr?[i.slice(1,4),i.slice(5,8)]:i===tr?[i,i]:["Mid","Mid"];var i;return{meetOrSlice:n||"meet",alignX:r,alignY:o}},tc=function(t,e){let n,r,o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)n="url(#SVGID_".concat(e.id,")");else{const i=new Et(e),a=i.getAlpha();n=i.toRgb(),a!==1&&(r=a.toString())}else n="none";return o?"".concat(t,": ").concat(n,"; ").concat(r?"".concat(t,"-opacity: ").concat(r,"; "):""):"".concat(t,'="').concat(n,'" ').concat(r?"".concat(t,'-opacity="').concat(r,'" '):"")};class US{getSvgStyles(e){const n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",o=this.strokeDashArray?this.strokeDashArray.join(" "):tr,i=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=this.opacity!==void 0?this.opacity:"1",u=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),f=tc(pn,this.fill);return[tc(nr,this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",o,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",l,"; ",f,"fill-rule: ",n,"; ","opacity: ",c,";",h,u].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e?this.calcTransformMatrix():this.calcOwnMatrix(),o='transform="'.concat(ec(r));return"".concat(o).concat(n,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:n,additionalTransform:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),i=e.indexOf("COMMON_PARTS");return e[i]=o,n?n(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:n,reviver:r,withShadow:o,additionalTransform:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=n?"":'style="'.concat(this.getSvgStyles(),'" '),s=o?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,h=this.stroke,f=this.fill,p=this.shadow,m=[],v=e.indexOf("COMMON_PARTS");let g;l&&(l.clipPathId="CLIPPATH_".concat(Pi()),g='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(r),`</clipPath>
`)),u&&m.push("<g ",s,this.getSvgCommons(),` >
`),m.push("<g ",this.getSvgTransform(!1),u?"":s+this.getSvgCommons(),` >
`);const b=[a,c,n?"":this.addPaintOrder()," ",i?'transform="'.concat(i,'" '):""].join("");return e[v]=b,Er(f)&&m.push(f.toSVG(this)),Er(h)&&m.push(h.toSVG(this)),p&&m.push(p.toSVG(this)),l&&m.push(g),m.push(e.join("")),m.push(`</g>
`),u&&m.push(`</g>
`),r?r(m.join("")):m.join("")}addPaintOrder(){return this.paintFirst!==pn?' paint-order="'.concat(this.paintFirst,'" '):""}}function lf(t){return new RegExp("^("+t.join("|")+")\\b","i")}const Ea="textDecorationThickness",HS=["fontSize","fontWeight","fontFamily","fontStyle"],WS=["underline","overline","linethrough"],VS=[...HS,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],XS=[...VS,...WS,"textBackgroundColor","direction",Ea],LX=[...HS,...WS,nr,"strokeWidth",pn,"deltaY","textBackgroundColor",Ea],FX={_reNewline:nv,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:_t,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:_t,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[Ea]:66.667},go="justify",th="justify-left",Rl="justify-right",Dl="justify-center";var o2,i2,a2;const Zr=String.raw(o2||(o2=$o(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),jp=String.raw(i2||(i2=$o(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),IX=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Zr+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Zr+"))?\\s+(.*)"),NX={cx:_t,x:_t,r:"radius",cy:er,y:er,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":Ea},Bp="font-size",zp="clip-path";lf(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);lf(["symbol","image","marker","pattern","view","svg"]);const s2=lf(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(a2||(a2=$o(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),Zr,jp,Zr,jp,Zr,jp,Zr));const jX=new ae(1,0),YS=new ae,GS=(t,e)=>t.rotate(e),Om=(t,e)=>new ae(e).subtract(t),Am=t=>t.distanceFrom(YS),Mm=(t,e)=>Math.atan2(Pl(t,e),zX(t,e)),BX=t=>Mm(jX,t),uv=t=>t.eq(YS)?t:t.scalarDivide(Am(t)),qS=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return uv(new ae(-t.y,t.x).scalarMultiply(e?1:-1))},Pl=(t,e)=>t.x*e.y-t.y*e.x,zX=(t,e)=>t.x*e.x+t.y*e.y,l2=(t,e,n)=>{if(t.eq(e)||t.eq(n))return!0;const r=Pl(e,n),o=Pl(e,t),i=Pl(n,t);return r>=0?o>=0&&i<=0:!(o<=0&&i>=0)},c2="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",u2=new RegExp("(?:\\s|^)"+c2+c2+"("+Zr+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class qo{constructor(e){const n=typeof e=="string"?qo.parseShadow(e):e;Object.assign(this,qo.ownDefaults,n),this.id=Pi()}static parseShadow(e){const n=e.trim(),[,r=0,o=0,i=0]=(u2.exec(n)||[]).map(a=>parseFloat(a)||0);return{color:(n.replace(u2,"")||"rgb(0,0,0)").trim(),offsetX:r,offsetY:o,blur:i}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const n=GS(new ae(this.offsetX,this.offsetY),Qt(-e.angle)),r=new Et(this.color);let o=40,i=40;return e.width&&e.height&&(o=100*Rt((Math.abs(n.x)+this.blur)/e.width,mt.NUM_FRACTION_DIGITS)+20,i=100*Rt((Math.abs(n.y)+this.blur)/e.height,mt.NUM_FRACTION_DIGITS)+20),e.flipX&&(n.x*=-1),e.flipY&&(n.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(i,'%" height="').concat(100+2*i,'%" x="-').concat(o,'%" width="').concat(100+2*o,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Rt(this.blur?this.blur/2:0,mt.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Rt(n.x,mt.NUM_FRACTION_DIGITS),'" dy="').concat(Rt(n.y,mt.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(r.toRgb(),'" flood-opacity="').concat(r.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},n=qo.ownDefaults;return this.includeDefaultValues?e:sv(e,(r,o)=>r!==n[o])}static async fromObject(e){return new this(e)}}J(qo,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),J(qo,"type","shadow"),De.setClass(qo,"shadow");const Rs=(t,e,n)=>Math.max(t,Math.min(e,n)),UX=[er,_t,ir,Ar,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Ws,Vs],li=[pn,nr,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],HX={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:_t,originY:er,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:pn,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},WX=(t,e,n,r)=>-n*Math.cos(t/r*_c)+n+e,VX=()=>!1;class dv{constructor(e){let{startValue:n,byValue:r,duration:o=500,delay:i=0,easing:a=WX,onStart:s=id,onChange:l=id,onComplete:c=id,abort:u=VX,target:h}=e;J(this,"_state","pending"),J(this,"durationProgress",0),J(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=o,this.delay=i,this.easing=a,this._onStart=s,this._onChange=l,this._onComplete=c,this._abort=u,this.target=h,this.startValue=n,this.byValue=r,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=n=>{this._state==="pending"&&(this.startTime=n||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>sd(e),this.delay):sd(e)}tick(e){const n=(e||+new Date)-this.startTime,r=Math.min(n,this.duration);this.durationProgress=r/this.duration;const{value:o,valueProgress:i}=this.calculate(r);this.value=Object.freeze(o),this.valueProgress=i,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):n>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),sd(this.tick)))}register(){Zd.push(this)}unregister(){Zd.remove(this)}abort(){this._state="aborted",this.unregister()}}const XX=["startValue","endValue"];class YX extends dv{constructor(e){let{startValue:n=0,endValue:r=100}=e;super(ee(ee({},Nt(e,XX)),{},{startValue:n,byValue:r-n}))}calculate(e){const n=this.easing(e,this.startValue,this.byValue,this.duration);return{value:n,valueProgress:Math.abs((n-this.startValue)/this.byValue)}}}const GX=["startValue","endValue"];class qX extends dv{constructor(e){let{startValue:n=[0],endValue:r=[100]}=e;super(ee(ee({},Nt(e,GX)),{},{startValue:n,byValue:r.map((o,i)=>o-n[i])}))}calculate(e){const n=this.startValue.map((r,o)=>this.easing(e,r,this.byValue[o],this.duration,o));return{value:n,valueProgress:Math.abs((n[0]-this.startValue[0])/this.byValue[0])}}}const KX=["startValue","endValue","easing","onChange","onComplete","abort"],ZX=(t,e,n,r)=>e+n*(1-Math.cos(t/r*_c)),Up=t=>t&&((e,n,r)=>t(new Et(e).toRgba(),n,r));class JX extends dv{constructor(e){let{startValue:n,endValue:r,easing:o=ZX,onChange:i,onComplete:a,abort:s}=e,l=Nt(e,KX);const c=new Et(n).getSource(),u=new Et(r).getSource();super(ee(ee({},l),{},{startValue:c,byValue:u.map((h,f)=>h-c[f]),easing:o,onChange:Up(i),onComplete:Up(a),abort:Up(s)}))}calculate(e){const[n,r,o,i]=this.startValue.map((s,l)=>this.easing(e,s,this.byValue[l],this.duration,l)),a=[...[n,r,o].map(Math.round),Rs(0,i,1)];return{value:a,valueProgress:a.map((s,l)=>this.byValue[l]!==0?Math.abs((s-this.startValue[l])/this.byValue[l]):0).find(s=>s!==0)||0}}}function KS(t){const e=(n=>Array.isArray(n.startValue)||Array.isArray(n.endValue))(t)?new qX(t):new YX(t);return e.start(),e}function QX(t){const e=new JX(t);return e.start(),e}class Bt{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(n=>n.eq(e))}append(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.points=this.points.concat(n.filter(o=>!this.includes(o))),this}static isPointContained(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(n.eq(r))return e.eq(n);if(n.x===r.x)return e.x===n.x&&(o||e.y>=Math.min(n.y,r.y)&&e.y<=Math.max(n.y,r.y));if(n.y===r.y)return e.y===n.y&&(o||e.x>=Math.min(n.x,r.x)&&e.x<=Math.max(n.x,r.x));{const i=Om(n,r),a=Om(n,e).divide(i);return o?Math.abs(a.x)===Math.abs(a.y):a.x===a.y&&a.x>=0&&a.x<=1}}static isPointInPolygon(e,n){const r=new ae(e).setX(Math.min(e.x-1,...n.map(i=>i.x)));let o=0;for(let i=0;i<n.length;i++){const a=this.intersectSegmentSegment(n[i],n[(i+1)%n.length],e,r);if(a.includes(e))return!0;o+=+(a.status==="Intersection")}return o%2==1}static intersectLineLine(e,n,r,o){let i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const s=n.x-e.x,l=n.y-e.y,c=o.x-r.x,u=o.y-r.y,h=e.x-r.x,f=e.y-r.y,p=c*f-u*h,m=s*f-l*h,v=u*s-c*l;if(v!==0){const g=p/v,b=m/v;return(i||0<=g&&g<=1)&&(a||0<=b&&b<=1)?new Bt("Intersection").append(new ae(e.x+g*s,e.y+g*l)):new Bt}if(p===0||m===0){const g=i||a||Bt.isPointContained(e,r,o)||Bt.isPointContained(n,r,o)||Bt.isPointContained(r,e,n)||Bt.isPointContained(o,e,n);return new Bt(g?"Coincident":void 0)}return new Bt("Parallel")}static intersectSegmentLine(e,n,r,o){return Bt.intersectLineLine(e,n,r,o,!1,!0)}static intersectSegmentSegment(e,n,r,o){return Bt.intersectLineLine(e,n,r,o,!1,!1)}static intersectLinePolygon(e,n,r){let o=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const i=new Bt,a=r.length;for(let s,l,c,u=0;u<a;u++){if(s=r[u],l=r[(u+1)%a],c=Bt.intersectLineLine(e,n,s,l,o,!1),c.status==="Coincident")return c;i.append(...c.points)}return i.points.length>0&&(i.status="Intersection"),i}static intersectSegmentPolygon(e,n,r){return Bt.intersectLinePolygon(e,n,r,!1)}static intersectPolygonPolygon(e,n){const r=new Bt,o=e.length,i=[];for(let a=0;a<o;a++){const s=e[a],l=e[(a+1)%o],c=Bt.intersectSegmentPolygon(s,l,n);c.status==="Coincident"?(i.push(c),r.append(s,l)):r.append(...c.points)}return i.length>0&&i.length===e.length?new Bt("Coincident"):(r.points.length>0&&(r.status="Intersection"),r)}static intersectPolygonRectangle(e,n,r){const o=n.min(r),i=n.max(r),a=new ae(i.x,o.y),s=new ae(o.x,i.y);return Bt.intersectPolygonPolygon(e,[o,a,i,s])}}class eY extends ES{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Gn(e,this.group.calcTransformMatrix()):e}setXY(e,n,r){this.group&&(e=Gn(e,Kr(this.group.calcTransformMatrix()))),this.setRelativeXY(e,n,r)}getRelativeXY(){return new ae(this.left,this.top)}setRelativeXY(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,n,r)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:n,br:r,bl:o}=this.aCoords||(this.aCoords=this.calcACoords()),i=[e,n,r,o];if(this.group){const a=this.group.calcTransformMatrix();return i.map(s=>Gn(s,a))}return i}intersectsWithRect(e,n){return Bt.intersectPolygonRectangle(this.getCoords(),e,n).status==="Intersection"}intersectsWithObject(e){const n=Bt.intersectPolygonPolygon(this.getCoords(),e.getCoords());return n.status==="Intersection"||n.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(n=>e.containsPoint(n))}isContainedWithinRect(e,n){const{left:r,top:o,width:i,height:a}=this.getBoundingRect();return r>=e.x&&r+i<=n.x&&o>=e.y&&o+a<=n.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return Bt.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:n}=this.canvas.vptCoords;return!!this.getCoords().some(r=>r.x<=n.x&&r.x>=e.x&&r.y<=n.y&&r.y>=e.y)||!!this.intersectsWithRect(e,n)||this.containsPoint(e.midPointFrom(n))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:n}=this.canvas.vptCoords;return this.intersectsWithRect(e,n)?!0:this.getCoords().every(r=>(r.x>=n.x||r.x<=e.x)&&(r.y>=n.y||r.y<=e.y))&&this.containsPoint(e.midPointFrom(n))}getBoundingRect(){return Go(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(ir,e),this._set(Ar,e),this.setCoords()}scaleToWidth(e){const n=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/n)}scaleToHeight(e){const n=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/n)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?oi(AS(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||Vn.concat()}calcACoords(){const e=Xs({angle:this.angle}),{x:n,y:r}=this.getRelativeCenterPoint(),o=kc(n,r),i=Sn(o,e),a=this._getTransformedDimensions(),s=a.x/2,l=a.y/2;return{tl:Gn({x:-s,y:-l},i),tr:Gn({x:s,y:-l},i),bl:Gn({x:-s,y:l},i),br:Gn({x:s,y:l},i)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=[];return!e&&this.group&&(n=this.group.transformMatrixKey(e)),n.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,sn(this.originX),sn(this.originY)),n}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.calcOwnMatrix();if(e||!this.group)return n;const r=this.transformMatrixKey(e),o=this.matrixCache;return o&&o.key.every((i,a)=>i===r[a])?o.value:(this.group&&(n=Sn(this.group.calcTransformMatrix(!1),n)),this.matrixCache={key:r,value:n},n)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),n=this.ownMatrixCache;if(n&&n.key===e)return n.value;const r=this.getRelativeCenterPoint(),o={angle:this.angle,translateX:r.x,translateY:r.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},i=kX(o);return this.ownMatrixCache={key:e,value:i},i}_getNonTransformedDimensions(){return new ae(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=ee({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),r=n.strokeWidth;let o=r,i=0;this.strokeUniform&&(o=0,i=r);const a=n.width+o,s=n.height+o;let l;return l=n.skewX===0&&n.skewY===0?new ae(a*n.scaleX,s*n.scaleY):lv(a,s,of(n)),l.scalarAdd(i)}translateToGivenOrigin(e,n,r,o,i){let a=e.x,s=e.y;const l=sn(o)-sn(n),c=sn(i)-sn(r);if(l||c){const u=this._getTransformedDimensions();a+=l*u.x,s+=c*u.y}return new ae(a,s)}translateToCenterPoint(e,n,r){if(n===ot&&r===ot)return e;const o=this.translateToGivenOrigin(e,n,r,ot,ot);return this.angle?o.rotate(Qt(this.angle),e):o}translateToOriginPoint(e,n,r){const o=this.translateToGivenOrigin(e,ot,ot,n,r);return this.angle?o.rotate(Qt(this.angle),e):o}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Gn(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new ae(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,n){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,n)}setPositionByOrigin(e,n,r){const o=this.translateToCenterPoint(e,n,r),i=this.translateToOriginPoint(o,this.originX,this.originY);this.set({left:i.x,top:i.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),_t,er)}}const tY=["type"],nY=["extraParam"];let Io=class cd extends eY{static getDefaults(){return cd.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){Di("warn","Setting type has no effect",e)}constructor(e){super(),J(this,"_cacheContext",null),Object.assign(this,cd.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=ri(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const n=e.width,r=e.height,o=mt.maxCacheSideLimit,i=mt.minCacheSideLimit;if(n<=o&&r<=o&&n*r<=mt.perfLimitSizeTotal)return n<i&&(e.width=i),r<i&&(e.height=i),e;const a=n/r,[s,l]=$l.limitDimsByArea(a),c=Rs(i,s,o),u=Rs(i,l,o);return n>c&&(e.zoomX/=n/c,e.width=c,e.capped=!0),r>u&&(e.zoomY/=r/u,e.height=u,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),n=this._getTransformedDimensions({skewX:0,skewY:0}),r=n.x*e.x/this.scaleX,o=n.y*e.y/this.scaleY;return{width:Math.ceil(r+2),height:Math.ceil(o+2),zoomX:e.x,zoomY:e.y,x:r,y:o}}_updateCacheCanvas(){const e=this._cacheCanvas,n=this._cacheContext,{width:r,height:o,zoomX:i,zoomY:a,x:s,y:l}=this._limitCacheSize(this._getCacheCanvasDimensions()),c=r!==e.width||o!==e.height,u=this.zoomX!==i||this.zoomY!==a;if(!e||!n)return!1;if(c||u){r!==e.width||o!==e.height?(e.width=r,e.height=o):(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height));const h=s/2,f=l/2;return this.cacheTranslationX=Math.round(e.width/2-h)+h,this.cacheTranslationY=Math.round(e.height/2-f)+f,n.translate(this.cacheTranslationX,this.cacheTranslationY),n.scale(i,a),this.zoomX=i,this.zoomY=a,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const n=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,r=this.calcTransformMatrix(!n);e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}getObjectScaling(){if(!this.group)return new ae(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=Jd(this.calcTransformMatrix());return new ae(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const n=this.canvas.getZoom(),r=this.getCanvasRetinaScaling();return e.scalarMultiply(n*r)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,n){e!==ir&&e!==Ar||(n=this._constrainScale(n)),e===ir&&n<0?(this.flipX=!this.flipX,n*=-1):e==="scaleY"&&n<0?(this.flipY=!this.flipY,n*=-1):e!=="shadow"||!n||n instanceof qo||(n=new qo(n));const r=this[e]!==n;return this[e]=n,r&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||r&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:n,zoomY:r,cacheTranslationX:o,cacheTranslationY:i}=this,{width:a,height:s}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:n,zoomY:r,cacheTranslationX:o,cacheTranslationY:i,width:a,height:s,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===nr&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,n,r){e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(r,0,0),e.restore()}drawObject(e,n,r){const o=this.fill,i=this.stroke;n?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,r),this.fill=o,this.stroke=i}createClipPathLayer(e,n){const r=Mr(n),o=r.getContext("2d");if(o.translate(n.cacheTranslationX,n.cacheTranslationY),o.scale(n.zoomX,n.zoomY),e._cacheCanvas=r,n.parentClipPaths.forEach(i=>{i.transform(o)}),n.parentClipPaths.push(e),e.absolutePositioned){const i=Kr(this.calcTransformMatrix());o.transform(i[0],i[1],i[2],i[3],i[4],i[5])}return e.transform(o),e.drawObject(o,!0,n),r}_drawClipPath(e,n,r){if(!n)return;n._transformDone=!0;const o=this.createClipPathLayer(n,r);this.drawClipPathOnCache(e,n,o)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const n=this._cacheCanvas,r=this._cacheContext;return!(!n||!r||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(n&&r&&!e&&(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),r.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const n=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,n){const r=n.stroke;r&&(e.lineWidth=n.strokeWidth,e.lineCap=n.strokeLineCap,e.lineDashOffset=n.strokeDashOffset,e.lineJoin=n.strokeLineJoin,e.miterLimit=n.strokeMiterLimit,Er(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(e,r):(e.strokeStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.strokeStyle=n.stroke)}_setFillStyles(e,n){let{fill:r}=n;r&&(Er(r)?(e.fillStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.fillStyle=r)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,n){n&&n.length!==0&&e.setLineDash(n)}_setShadow(e){if(!this.shadow)return;const n=this.shadow,r=this.canvas,o=this.getCanvasRetinaScaling(),[i,,,a]=r?.viewportTransform||Vn,s=i*o,l=a*o,c=n.nonScaling?new ae(1,1):this.getObjectScaling();e.shadowColor=n.color,e.shadowBlur=n.blur*mt.browserShadowBlurConstant*(s+l)*(c.x+c.y)/4,e.shadowOffsetX=n.offsetX*s*c.x,e.shadowOffsetY=n.offsetY*l*c.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,n){if(!Er(n))return{offsetX:0,offsetY:0};const r=n.gradientTransform||n.patternTransform,o=-this.width/2+n.offsetX||0,i=-this.height/2+n.offsetY||0;return n.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,o,i):e.transform(1,0,0,1,o,i),r&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:o,offsetY:i}}_renderPaintInOrder(e){this.paintFirst===nr?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const n=this.getObjectScaling();e.scale(1/n.x,1/n.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,n){var r;const o=this._limitCacheSize(this._getCacheCanvasDimensions()),i=this.getCanvasRetinaScaling(),a=o.x/this.scaleX/i,s=o.y/this.scaleY/i,l=Mr({width:Math.ceil(a),height:Math.ceil(s)}),c=l.getContext("2d");c&&(c.beginPath(),c.moveTo(0,0),c.lineTo(a,0),c.lineTo(a,s),c.lineTo(0,s),c.closePath(),c.translate(a/2,s/2),c.scale(o.zoomX/this.scaleX/i,o.zoomY/this.scaleY/i),this._applyPatternGradientTransform(c,n),c.fillStyle=n.toLive(e),c.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(i*this.scaleX/o.zoomX,i*this.scaleY/o.zoomY),e.strokeStyle=(r=c.createPattern(l,"no-repeat"))!==null&&r!==void 0?r:"")}_findCenterFromElement(){return new ae(this.left+this.width/2,this.top+this.height/2)}clone(e){const n=this.toObject(e);return this.constructor.fromObject(n)}cloneAsImage(e){const n=this.toCanvasElement(e);return new(De.getClass("image"))(n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=IS(this),r=this.group,o=this.shadow,i=Math.abs,a=e.enableRetinaScaling?wS():1,s=(e.multiplier||1)*a,l=e.canvasProvider||(y=>new Cc(y,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&AX(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&$X(this,this.getViewportTransform()),this.setCoords();const c=ri(),u=this.getBoundingRect(),h=this.shadow,f=new ae;if(h){const y=h.blur,x=h.nonScaling?new ae(1,1):this.getObjectScaling();f.x=2*Math.round(i(h.offsetX)+y)*i(x.x),f.y=2*Math.round(i(h.offsetY)+y)*i(x.y)}const p=u.width+f.x,m=u.height+f.y;c.width=Math.ceil(p),c.height=Math.ceil(m);const v=l(c);e.format==="jpeg"&&(v.backgroundColor="#fff"),this.setPositionByOrigin(new ae(v.width/2,v.height/2),ot,ot);const g=this.canvas;v._objects=[this],this.set("canvas",v),this.setCoords();const b=v.toCanvasElement(s||1,e);return this.set("canvas",g),this.shadow=o,r&&(this.group=r),this.set(n),this.setCoords(),v._objects=[],v.destroy(),b}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return TS(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return OS(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.includes(this.constructor.type)||n.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:n,originX:r,originY:o}=this;if(n){const{x:i,y:a}=this.getRelativeCenterPoint();this.originX=ot,this.originY=ot,this.left=i,this.top=a}if(this.set("angle",e),n){const{x:i,y:a}=this.translateToOriginPoint(this.getRelativeCenterPoint(),r,o);this.left=i,this.top=a,this.originX=r,this.originY=o}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Zd.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&So().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,n){return Object.entries(e).reduce((r,o)=>{let[i,a]=o;return r[i]=this._animate(i,a,n),r},{})}_animate(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=e.split("."),i=this.constructor.colorProperties.includes(o[o.length-1]),{abort:a,startValue:s,onChange:l,onComplete:c}=r,u=ee(ee({},r),{},{target:this,startValue:s??o.reduce((h,f)=>h[f],this),endValue:n,abort:a?.bind(this),onChange:(h,f,p)=>{o.reduce((m,v,g)=>(g===o.length-1&&(m[v]=h),m[v]),this),l&&l(h,f,p)},onComplete:(h,f,p)=>{this.setCoords(),c&&c(h,f,p)}});return i?QX(u):KS(u)}isDescendantOf(e){const{parent:n,group:r}=this;return n===e||r===e||!!n&&n.isDescendantOf(e)||!!r&&r!==n&&r.isDescendantOf(e)}getAncestors(){const e=[];let n=this;do n=n.parent,n&&e.push(n);while(n);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const n=this.getAncestors(),r=e.getAncestors();if(n.length===0&&r.length>0&&this===r[r.length-1])return{fork:[],otherFork:[e,...r.slice(0,r.length-1)],common:[this]};for(let o,i=0;i<n.length;i++){if(o=n[i],o===e)return{fork:[this,...n.slice(0,i)],otherFork:[],common:n.slice(i)};for(let a=0;a<r.length;a++){if(this===r[a])return{fork:[],otherFork:[e,...r.slice(0,a)],common:[this,...n]};if(o===r[a])return{fork:[this,...n.slice(0,i)],otherFork:[e,...r.slice(0,a)],common:n.slice(i)}}}return{fork:[this,...n],otherFork:[e,...r],common:[]}}hasCommonAncestors(e){const n=this.findCommonAncestors(e);return n&&!!n.common.length}isInFrontOf(e){if(this===e)return;const n=this.findCommonAncestors(e);if(n.fork.includes(e))return!0;if(n.otherFork.includes(this))return!1;const r=n.common[0]||this.canvas;if(!r)return;const o=n.fork.pop(),i=n.otherFork.pop(),a=r._objects.indexOf(o),s=r._objects.indexOf(i);return a>-1&&a>s}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(cd.customProperties,this.constructor.customProperties||[]);let n;const r=mt.NUM_FRACTION_DIGITS,{clipPath:o,fill:i,stroke:a,shadow:s,strokeDashArray:l,left:c,top:u,originX:h,originY:f,width:p,height:m,strokeWidth:v,strokeLineCap:g,strokeDashOffset:b,strokeLineJoin:y,strokeUniform:x,strokeMiterLimit:w,scaleX:_,scaleY:k,angle:E,flipX:$,flipY:A,opacity:D,visible:O,backgroundColor:S,fillRule:T,paintFirst:C,globalCompositeOperation:M,skewX:R,skewY:L}=this;o&&!o.excludeFromExport&&(n=o.toObject(e.concat("inverted","absolutePositioned")));const P=j=>Rt(j,r),N=ee(ee({},Ys(this,e)),{},{type:this.constructor.type,version:Cm,originX:h,originY:f,left:P(c),top:P(u),width:P(p),height:P(m),fill:qx(i)?i.toObject():i,stroke:qx(a)?a.toObject():a,strokeWidth:P(v),strokeDashArray:l&&l.concat(),strokeLineCap:g,strokeDashOffset:b,strokeLineJoin:y,strokeUniform:x,strokeMiterLimit:P(w),scaleX:P(_),scaleY:P(k),angle:P(E),flipX:$,flipY:A,opacity:P(D),shadow:s&&s.toObject(),visible:O,backgroundColor:S,fillRule:T,paintFirst:C,globalCompositeOperation:M,skewX:P(R),skewY:P(L)},n?{clipPath:n}:null);return this.includeDefaultValues?N:this._removeDefaultValues(N)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const n=this.constructor.getDefaults(),r=Object.keys(n).length>0?n:Object.getPrototypeOf(this);return sv(e,(o,i)=>{if(i===_t||i===er||i==="type")return!0;const a=r[i];return o!==a&&!(Array.isArray(o)&&Array.isArray(a)&&o.length===0&&a.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let n=Nt(e,tY),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:o}=r,i=Nt(r,nY);return af(n,i).then(a=>o?(delete a[o],new this(n[o],a)):new this(a))}static fromObject(e,n){return this._fromObject(e,n)}};J(Io,"stateProperties",UX),J(Io,"cacheProperties",li),J(Io,"ownDefaults",HX),J(Io,"type","FabricObject"),J(Io,"colorProperties",[pn,nr,"backgroundColor"]),J(Io,"customProperties",[]),De.setClass(Io),De.setClass(Io,"object");const Gs=(t,e,n)=>(r,o,i,a)=>{const s=e(r,o,i,a);return s&&NS(t,ee(ee({},BS(r,o,i,a)),n)),s};function qs(t){return(e,n,r,o)=>{const{target:i,originX:a,originY:s}=n,l=i.getRelativeCenterPoint(),c=i.translateToOriginPoint(l,a,s),u=t(e,n,r,o);return i.setPositionByOrigin(c,n.originX,n.originY),u}}const d2=Gs(Jl,qs((t,e,n,r)=>{const o=cv(e,e.originX,e.originY,n,r);if(sn(e.originX)===sn(ot)||sn(e.originX)===sn(Zt)&&o.x<0||sn(e.originX)===sn(_t)&&o.x>0){const{target:i}=e,a=i.strokeWidth/(i.strokeUniform?i.scaleX:1),s=jS(e)?2:1,l=i.width,c=Math.abs(o.x*s/i.scaleX)-a;return i.set("width",Math.max(c,1)),l!==i.width}return!1}));function rY(t,e,n,r,o){r=r||{};const i=this.sizeX||r.cornerSize||o.cornerSize,a=this.sizeY||r.cornerSize||o.cornerSize,s=r.transparentCorners!==void 0?r.transparentCorners:o.transparentCorners,l=s?nr:pn,c=!s&&(r.cornerStrokeColor||o.cornerStrokeColor);let u,h=e,f=n;t.save(),t.fillStyle=r.cornerColor||o.cornerColor||"",t.strokeStyle=r.cornerStrokeColor||o.cornerStrokeColor||"",i>a?(u=i,t.scale(1,a/i),f=n*i/a):a>i?(u=a,t.scale(i/a,1),h=e*a/i):u=i,t.beginPath(),t.arc(h,f,u/2,0,Gd,!1),t[l](),c&&t.stroke(),t.restore()}function oY(t,e,n,r,o){r=r||{};const i=this.sizeX||r.cornerSize||o.cornerSize,a=this.sizeY||r.cornerSize||o.cornerSize,s=r.transparentCorners!==void 0?r.transparentCorners:o.transparentCorners,l=s?nr:pn,c=!s&&(r.cornerStrokeColor||o.cornerStrokeColor),u=i/2,h=a/2;t.save(),t.fillStyle=r.cornerColor||o.cornerColor||"",t.strokeStyle=r.cornerStrokeColor||o.cornerStrokeColor||"",t.translate(e,n);const f=o.getTotalAngle();t.rotate(Qt(f)),t["".concat(l,"Rect")](-u,-h,i,a),c&&t.strokeRect(-u,-h,i,a),t.restore()}class jr{constructor(e){J(this,"visible",!0),J(this,"actionName",rf),J(this,"angle",0),J(this,"x",0),J(this,"y",0),J(this,"offsetX",0),J(this,"offsetY",0),J(this,"sizeX",0),J(this,"sizeY",0),J(this,"touchSizeX",0),J(this,"touchSizeY",0),J(this,"cursorStyle","crosshair"),J(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,n,r,o){var i;let{tl:a,tr:s,br:l,bl:c}=o;return((i=n.canvas)===null||i===void 0?void 0:i.getActiveObject())===n&&n.isControlVisible(e)&&Bt.isPointInPolygon(r,[a,s,l,c])}getActionHandler(e,n,r){return this.actionHandler}getMouseDownHandler(e,n,r){return this.mouseDownHandler}getMouseUpHandler(e,n,r){return this.mouseUpHandler}cursorStyleHandler(e,n,r){return n.cursorStyle}getActionName(e,n,r){return n.actionName}getVisibility(e,n){var r,o;return(r=(o=e._controlsVisibility)===null||o===void 0?void 0:o[n])!==null&&r!==void 0?r:this.visible}setVisibility(e,n,r){this.visible=e}positionHandler(e,n,r,o){return new ae(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(n)}calcCornerCoords(e,n,r,o,i,a){const s=iv([kc(r,o),Xs({angle:e}),av((i?this.touchSizeX:this.sizeX)||n,(i?this.touchSizeY:this.sizeY)||n)]);return{tl:new ae(-.5,-.5).transform(s),tr:new ae(.5,-.5).transform(s),br:new ae(.5,.5).transform(s),bl:new ae(-.5,.5).transform(s)}}render(e,n,r,o,i){((o=o||{}).cornerStyle||i.cornerStyle)==="circle"?rY.call(this,e,n,r,o,i):oY.call(this,e,n,r,o,i)}}const iY=(t,e,n)=>n.lockRotation?eh:e.cursorStyle,aY=Gs(kS,qs((t,e,n,r)=>{let{target:o,ex:i,ey:a,theta:s,originX:l,originY:c}=e;const u=o.translateToOriginPoint(o.getRelativeCenterPoint(),l,c);if(Qr(o,"lockRotation"))return!1;const h=Math.atan2(a-u.y,i-u.x),f=Math.atan2(r-u.y,n-u.x);let p=oi(f-h+s);if(o.snapAngle&&o.snapAngle>0){const v=o.snapAngle,g=o.snapThreshold||v,b=Math.ceil(p/v)*v,y=Math.floor(p/v)*v;Math.abs(p-y)<g?p=y:Math.abs(p-b)<g&&(p=b)}p<0&&(p=360+p),p%=360;const m=o.angle!==p;return o.angle=p,m}));function ZS(t,e){const n=e.canvas,r=t[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function JS(t,e,n){const r=Qr(t,"lockScalingX"),o=Qr(t,"lockScalingY");if(r&&o||!e&&(r||o)&&n||r&&e==="x"||o&&e==="y")return!0;const{width:i,height:a,strokeWidth:s}=t;return i===0&&s===0&&e!=="y"||a===0&&s===0&&e!=="x"}const sY=["e","se","s","sw","w","nw","n","ne","e"],wl=(t,e,n)=>{const r=ZS(t,n);if(JS(n,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",r))return eh;const o=zS(n,e);return"".concat(sY[o],"-resize")};function hv(t,e,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=e.target,a=o.by,s=ZS(t,i);let l,c,u,h,f,p;if(JS(i,a,s))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,u=e.scaleY*e.gestureScale;else{if(l=cv(e,e.originX,e.originY,n,r),f=a!=="y"?Math.sign(l.x||e.signX||1):1,p=a!=="x"?Math.sign(l.y||e.signY||1):1,e.signX||(e.signX=f),e.signY||(e.signY=p),Qr(i,"lockScalingFlip")&&(e.signX!==f||e.signY!==p))return!1;if(h=i._getTransformedDimensions(),s&&!a){const g=Math.abs(l.x)+Math.abs(l.y),{original:b}=e,y=g/(Math.abs(h.x*b.scaleX/i.scaleX)+Math.abs(h.y*b.scaleY/i.scaleY));c=b.scaleX*y,u=b.scaleY*y}else c=Math.abs(l.x*i.scaleX/h.x),u=Math.abs(l.y*i.scaleY/h.y);jS(e)&&(c*=2,u*=2),e.signX!==f&&a!=="y"&&(e.originX=Qx(e.originX),c*=-1,e.signX=f),e.signY!==p&&a!=="x"&&(e.originY=Qx(e.originY),u*=-1,e.signY=p)}const m=i.scaleX,v=i.scaleY;return a?(a==="x"&&i.set(ir,c),a==="y"&&i.set(Ar,u)):(!Qr(i,"lockScalingX")&&i.set(ir,c),!Qr(i,"lockScalingY")&&i.set(Ar,u)),m!==i.scaleX||v!==i.scaleY}const hu=Gs(nf,qs((t,e,n,r)=>hv(t,e,n,r))),lY=Gs(nf,qs((t,e,n,r)=>hv(t,e,n,r,{by:"x"}))),cY=Gs(nf,qs((t,e,n,r)=>hv(t,e,n,r,{by:"y"}))),uY=["target","ex","ey","skewingSide"],Hp={x:{counterAxis:"y",scale:ir,skew:Ws,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Ar,skew:Vs,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},dY=["ns","nesw","ew","nwse"],hY=(t,e,n)=>{if(e.x!==0&&Qr(n,"lockSkewingY")||e.y!==0&&Qr(n,"lockSkewingX"))return eh;const r=zS(n,e)%4;return"".concat(dY[r],"-resize")};function QS(t,e,n,r,o){const{target:i}=n,{counterAxis:a,origin:s,lockSkewing:l,skew:c,flip:u}=Hp[t];if(Qr(i,l))return!1;const{origin:h,flip:f}=Hp[a],p=sn(n[h])*(i[f]?-1:1),m=-Math.sign(p)*(i[u]?-1:1),v=.5*-((i[c]===0&&cv(n,ot,ot,r,o)[t]>0||i[c]>0?1:-1)*m)+.5;return Gs(CS,qs((b,y,x,w)=>function(_,k,E){let{target:$,ex:A,ey:D,skewingSide:O}=k,S=Nt(k,uY);const{skew:T}=Hp[_],C=E.subtract(new ae(A,D)).divide(new ae($.scaleX,$.scaleY))[_],M=$[T],R=S[T],L=Math.tan(Qt(R)),P=_==="y"?$._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:$._getTransformedDimensions({scaleX:1,scaleY:1}).y,N=2*C*O/Math.max(P,1)+L,j=oi(Math.atan(N));$.set(T,j);const H=M!==$[T];if(H&&_==="y"){const{skewX:B,scaleX:te}=$,U=$._getTransformedDimensions({skewY:M}),ie=$._getTransformedDimensions(),V=B!==0?U.x/ie.x:1;V!==1&&$.set(ir,V*te)}return H}(t,y,new ae(x,w))))(e,ee(ee({},n),{},{[s]:v,skewingSide:m}),r,o)}const fY=(t,e,n,r)=>QS("x",t,e,n,r),pY=(t,e,n,r)=>QS("y",t,e,n,r);function cf(t,e){return t[e.canvas.altActionKey]}const fu=(t,e,n)=>{const r=cf(t,n);return e.x===0?r?Ws:Ar:e.y===0?r?Vs:ir:""},ns=(t,e,n)=>cf(t,n)?hY(0,e,n):wl(t,e,n),h2=(t,e,n,r)=>cf(t,e.target)?pY(t,e,n,r):lY(t,e,n,r),f2=(t,e,n,r)=>cf(t,e.target)?fY(t,e,n,r):cY(t,e,n,r),e5=()=>({ml:new jr({x:-.5,y:0,cursorStyleHandler:ns,actionHandler:h2,getActionName:fu}),mr:new jr({x:.5,y:0,cursorStyleHandler:ns,actionHandler:h2,getActionName:fu}),mb:new jr({x:0,y:.5,cursorStyleHandler:ns,actionHandler:f2,getActionName:fu}),mt:new jr({x:0,y:-.5,cursorStyleHandler:ns,actionHandler:f2,getActionName:fu}),tl:new jr({x:-.5,y:-.5,cursorStyleHandler:wl,actionHandler:hu}),tr:new jr({x:.5,y:-.5,cursorStyleHandler:wl,actionHandler:hu}),bl:new jr({x:-.5,y:.5,cursorStyleHandler:wl,actionHandler:hu}),br:new jr({x:.5,y:.5,cursorStyleHandler:wl,actionHandler:hu}),mtr:new jr({x:0,y:-.5,actionHandler:aY,cursorStyleHandler:iY,offsetY:-40,withConnection:!0,actionName:rv})}),gY=()=>({mr:new jr({x:.5,y:0,actionHandler:d2,cursorStyleHandler:ns,actionName:Jl}),ml:new jr({x:-.5,y:0,actionHandler:d2,cursorStyleHandler:ns,actionName:Jl})}),mY=()=>ee(ee({},e5()),gY());class nc extends Io{static getDefaults(){return ee(ee({},super.getDefaults()),nc.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),nc.ownDefaults),this.setOptions(e)}static createControls(){return{controls:e5()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const n=e._currentTransform,r=n.target,o=n.action;if(this===r&&o&&o.startsWith(rf))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const r=Object.entries(this.oCoords);for(let o=r.length-1;o>=0;o--){const[i,a]=r[o],s=this.controls[i];if(s.shouldActivate(i,this,e,n?a.touchCorner:a.corner))return this.__corner=i,{key:i,control:s,coord:this.oCoords[i]}}}calcOCoords(){const e=this.getViewportTransform(),n=this.getCenterPoint(),r=kc(n.x,n.y),o=Xs({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),i=Sn(r,o),a=Sn(e,i),s=Sn(a,[1/e[0],0,0,1/e[3],0,0]),l=this.group?Jd(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const c=this._calculateCurrentDimensions(l),u={};return this.forEachControl((h,f)=>{const p=h.positionHandler(c,s,this,h);u[f]=Object.assign(p,this._calcCornerCoords(h,p))}),u}_calcCornerCoords(e,n){const r=this.getTotalAngle();return{corner:e.calcCornerCoords(r,this.cornerSize,n.x,n.y,!1,this),touchCorner:e.calcCornerCoords(r,this.touchCornerSize,n.x,n.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const n in this.controls)e(this.controls[n],n,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const n=this.getRelativeCenterPoint(),r=this._calculateCurrentDimensions(),o=this.getViewportTransform();e.translate(n.x,n.y),e.scale(1/o[0],1/o[3]),e.rotate(Qt(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore()}strokeBorders(e,n){e.strokeRect(-n.x/2,-n.y/2,n.x,n.y)}_drawBorders(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=ee({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},r);e.save(),e.strokeStyle=o.borderColor,this._setLineDash(e,o.borderDashArray),this.strokeBorders(e,n),o.hasControls&&this.drawControlsConnectingLines(e,n),e.restore()}_renderControls(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:r,hasControls:o}=this,i=ee({hasBorders:r,hasControls:o},n),a=this.getViewportTransform(),s=i.hasBorders,l=i.hasControls,c=Sn(a,this.calcTransformMatrix()),u=Jd(c);e.save(),e.translate(u.translateX,u.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),e.rotate(Qt(this.group?u.angle:this.angle)),s&&this.drawBorders(e,u,n),l&&this.drawControls(e,n),e.restore()}drawBorders(e,n,r){let o;if(r&&r.forActiveSelection||this.group){const i=lv(this.width,this.height,of(n)),a=this.isStrokeAccountedForInDimensions()?ov:(this.strokeUniform?new ae().scalarAdd(this.canvas?this.canvas.getZoom():1):new ae(n.scaleX,n.scaleY)).scalarMultiply(this.strokeWidth);o=i.add(a).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else o=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,o,r)}drawControlsConnectingLines(e,n){let r=!1;e.beginPath(),this.forEachControl((o,i)=>{o.withConnection&&o.getVisibility(this,i)&&(r=!0,e.moveTo(o.x*n.x,o.y*n.y),e.lineTo(o.x*n.x+o.offsetX,o.y*n.y+o.offsetY))}),r&&e.stroke()}drawControls(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const r=this.getCanvasRetinaScaling(),{cornerStrokeColor:o,cornerDashArray:i,cornerColor:a}=this,s=ee({cornerStrokeColor:o,cornerDashArray:i,cornerColor:a},n);e.setTransform(r,0,0,r,0,0),e.strokeStyle=e.fillStyle=s.cornerColor,this.transparentCorners||(e.strokeStyle=s.cornerStrokeColor),this._setLineDash(e,s.cornerDashArray),this.forEachControl((l,c)=>{if(l.getVisibility(this,c)){const u=this.oCoords[c];l.render(e,u.x,u.y,s,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,n){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=n}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(n=>{let[r,o]=n;return this.setControlVisible(r,o)})}clearContextTop(e){if(!this.canvas)return;const n=this.canvas.contextTop;if(!n)return;const r=this.canvas.viewportTransform;n.save(),n.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(n);const o=this.width+4,i=this.height+4;return n.clearRect(-o/2,-i/2,o,i),e||n.restore(),n}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function t5(t,e){return e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))})}),t}J(nc,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Ln extends nc{}t5(Ln,[US]),De.setClass(Ln),De.setClass(Ln,"object");const vY=(t,e,n,r)=>{const o=2*(r=Math.round(r))+1,{data:i}=t.getImageData(e-r,n-r,o,o);for(let a=3;a<i.length;a+=4)if(i[a]>0)return!1;return!0};class n5{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ae(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ae(1/this.options.scaleX,1/this.options.scaleY):new ae(1,1)}createSideVector(e,n){const r=Om(e,n);return this.options.strokeUniform?r.multiply(this.scale):r}projectOrthogonally(e,n,r){return this.applySkew(e.add(this.calcOrthogonalProjection(e,n,r)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const n=new ae(e);return n.y+=n.x*Math.tan(Qt(this.options.skewY)),n.x+=n.y*Math.tan(Qt(this.options.skewX)),n}scaleUnitVector(e,n){return e.multiply(this.strokeUniformScalar).scalarMultiply(n)}}const bY=new ae;class hs extends n5{static getOrthogonalRotationFactor(e,n){const r=n?Mm(e,n):BX(e);return Math.abs(r)<_c?-1:1}constructor(e,n,r,o){super(o),J(this,"AB",void 0),J(this,"AC",void 0),J(this,"alpha",void 0),J(this,"bisector",void 0),this.A=new ae(e),this.B=new ae(n),this.C=new ae(r),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=Mm(this.AB,this.AC),this.bisector=uv(GS(this.AB.eq(bY)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const o=this.createSideVector(e,n),i=qS(o),a=hs.getOrthogonalRotationFactor(i,this.bisector);return this.scaleUnitVector(i,r*a)}projectBevel(){const e=[];return(this.alpha%Gd==0?[this.B]:[this.B,this.C]).forEach(n=>{e.push(this.projectOrthogonally(this.A,n)),e.push(this.projectOrthogonally(this.A,n,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],n=Math.abs(this.alpha),r=1/Math.sin(n/2),o=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*r),i=this.options.strokeUniform?Am(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Am(o)/this.strokeProjectionMagnitude<=i&&e.push(this.applySkew(this.A.add(o))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,n){const r=[],o=new ae(hs.getOrthogonalRotationFactor(this.bisector),hs.getOrthogonalRotationFactor(new ae(this.bisector.y,this.bisector.x)));return[new ae(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(o),new ae(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(o)].forEach(i=>{l2(i,e,n)&&r.push(this.A.add(i))}),r}projectRoundWithSkew(e,n){const r=[],{skewX:o,skewY:i,scaleX:a,scaleY:s,strokeUniform:l}=this.options,c=new ae(Math.tan(Qt(o)),Math.tan(Qt(i))),u=this.strokeProjectionMagnitude,h=l?u/s/Math.sqrt(1/s**2+1/a**2*c.y**2):u/Math.sqrt(1+c.y**2),f=new ae(Math.sqrt(Math.max(u**2-h**2,0)),h),p=l?u/Math.sqrt(1+c.x**2*(1/s)**2/(1/a+1/a*c.x*c.y)**2):u/Math.sqrt(1+c.x**2/(1+c.x*c.y)**2),m=new ae(p,Math.sqrt(Math.max(u**2-p**2,0)));return[m,m.scalarMultiply(-1),f,f.scalarMultiply(-1)].map(v=>this.applySkew(l?v.multiply(this.strokeUniformScalar):v)).forEach(v=>{l2(v,e,n)&&r.push(this.applySkew(this.A).add(v))}),r}projectRound(){const e=[];e.push(...this.projectBevel());const n=this.alpha%Gd==0,r=this.applySkew(this.A),o=e[n?0:2].subtract(r),i=e[n?1:0].subtract(r),a=n?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),s=Pl(o,a)>0,l=s?o:i,c=s?i:o;return this.isSkewed()?e.push(...this.projectRoundWithSkew(l,c)):e.push(...this.projectRoundNoSkew(l,c)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class p2 extends n5{constructor(e,n,r){super(r),this.A=new ae(e),this.T=new ae(n)}calcOrthogonalProjection(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const o=this.createSideVector(e,n);return this.scaleUnitVector(qS(o),r)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const n=new ae(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(n)),this.applySkew(this.A.subtract(n)))}else e.push(...new hs(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const n=new ae(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(n),this.A.subtract(n))}else{const n=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),r=this.scaleUnitVector(uv(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),o=this.A.add(r);e.push(o.add(n),o.subtract(n))}return e.map(n=>this.applySkew(n))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const yY=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const r=[];if(t.length===0)return r;const o=t.reduce((i,a)=>(i[i.length-1].eq(a)||i.push(new ae(a)),i),[new ae(t[0])]);if(o.length===1)n=!0;else if(!n){const i=o[0],a=((s,l)=>{for(let c=s.length-1;c>=0;c--)if(l(s[c],c,s))return c;return-1})(o,s=>!s.eq(i));o.splice(a+1)}return o.forEach((i,a,s)=>{let l,c;a===0?(c=s[1],l=n?i:s[s.length-1]):a===s.length-1?(l=s[a-1],c=n?i:s[0]):(l=s[a-1],c=s[a+1]),n&&s.length===1?r.push(...new p2(i,i,e).project()):!n||a!==0&&a!==s.length-1?r.push(...new hs(i,l,c,e).project()):r.push(...new p2(i,a===0?c:l,e).project())}),r},fv=t=>{const e={};return Object.keys(t).forEach(n=>{e[n]={},Object.keys(t[n]).forEach(r=>{e[n][r]=ee({},t[n][r])})}),e},xY=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let dl;const pv=t=>{if(dl||dl||(dl="Intl"in tf()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),dl){const e=dl.segment(t);return Array.from(e).map(n=>{let{segment:r}=n;return r})}return wY(t)},wY=t=>{const e=[];for(let n,r=0;r<t.length;r++)(n=_Y(t,r))!==!1&&e.push(n);return e},_Y=(t,e)=>{const n=t.charCodeAt(e);if(isNaN(n))return"";if(n<55296||n>57343)return t.charAt(e);if(55296<=n&&n<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const o=t.charCodeAt(e+1);if(56320>o||o>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1},gv=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textDecorationThickness!==e.textDecorationThickness||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||n&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},kY=(t,e)=>{const n=e.split(`
`),r=[];let o=-1,i={};t=fv(t);for(let a=0;a<n.length;a++){const s=pv(n[a]);if(t[a])for(let l=0;l<s.length;l++){o++;const c=t[a][l];c&&Object.keys(c).length>0&&(gv(i,c,!0)?r.push({start:o,end:o+1,style:c}):r[r.length-1].end++),i=c||{}}else o+=s.length,i={}}return r},CY=(t,e)=>{if(!Array.isArray(t))return fv(t);const n=e.split(nv),r={};let o=-1,i=0;for(let a=0;a<n.length;a++){const s=pv(n[a]);for(let l=0;l<s.length;l++)o++,t[i]&&t[i].start<=o&&o<t[i].end&&(r[a]=r[a]||{},r[a][l]=ee({},t[i].style),o===t[i].end-1&&i++)}return r},Ui=["display","transform",pn,"fill-opacity","fill-rule","opacity",nr,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function g2(t,e){const n=t.nodeName,r=t.getAttribute("class"),o=t.getAttribute("id"),i="(?![a-zA-Z\\-]+)";let a;if(a=new RegExp("^"+n,"i"),e=e.replace(a,""),o&&e.length&&(a=new RegExp("#"+o+i,"i"),e=e.replace(a,"")),r&&e.length){const s=r.split(" ");for(let l=s.length;l--;)a=new RegExp("\\."+s[l]+i,"i"),e=e.replace(a,"")}return e.length===0}function SY(t,e){let n=!0;const r=g2(t,e.pop());return r&&e.length&&(n=function(o,i){let a,s=!0;for(;o.parentElement&&o.parentElement.nodeType===1&&i.length;)s&&(a=i.pop()),s=g2(o=o.parentElement,a);return i.length===0}(t,e)),r&&n&&e.length===0}const EY=t=>{var e;return(e=NX[t])!==null&&e!==void 0?e:t},TY=new RegExp("(".concat(Zr,")"),"gi"),OY=t=>t.replace(TY," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var m2,v2,b2,y2,x2,w2,_2;const Hn="(".concat(Zr,")"),AY=String.raw(m2||(m2=$o(["(skewX)(",")"],["(skewX)\\(","\\)"])),Hn),MY=String.raw(v2||(v2=$o(["(skewY)(",")"],["(skewY)\\(","\\)"])),Hn),$Y=String.raw(b2||(b2=$o(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Hn,Hn,Hn),RY=String.raw(y2||(y2=$o(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Hn,Hn),DY=String.raw(x2||(x2=$o(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Hn,Hn),PY=String.raw(w2||(w2=$o(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Hn,Hn,Hn,Hn,Hn,Hn),mv="(?:".concat(PY,"|").concat(DY,"|").concat($Y,"|").concat(RY,"|").concat(AY,"|").concat(MY,")"),LY="(?:".concat(mv,"*)"),FY=String.raw(_2||(_2=$o(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),LY),IY=new RegExp(FY),NY=new RegExp(mv),jY=new RegExp(mv,"g");function $m(t){const e=[];if(!(t=OY(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!IY.test(t))return[...Vn];for(const n of t.matchAll(jY)){const r=NY.exec(n[0]);if(!r)continue;let o=Vn;const i=r.filter(m=>!!m),[,a,...s]=i,[l,c,u,h,f,p]=s.map(m=>parseFloat(m));switch(a){case"translate":o=kc(l,c);break;case rv:o=Xs({angle:l},{x:c,y:u});break;case rf:o=av(l,c);break;case Ws:o=$S(l);break;case Vs:o=RS(l);break;case"matrix":o=[l,c,u,h,f,p]}e.push(o)}return iv(e)}function BY(t,e,n,r){const o=Array.isArray(e);let i,a=e;if(t!==pn&&t!==nr||e!==tr){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")a=e===tr?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")a=n&&n.transformMatrix?Sn(n.transformMatrix,$m(e)):$m(e);else if(t==="visible")a=e!==tr&&e!=="hidden",n&&n.visible===!1&&(a=!1);else if(t==="opacity")a=parseFloat(e),n&&n.opacity!==void 0&&(a*=n.opacity);else if(t==="textAnchor")a=e==="start"?_t:e==="end"?Zt:ot;else if(t==="charSpacing"||t===Ea)i=ds(e,r)/r*1e3;else if(t==="paintFirst"){const s=e.indexOf(pn),l=e.indexOf(nr);a=pn,(s>-1&&l>-1&&l<s||s===-1&&l>-1)&&(a=nr)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";i=o?e.map(ds):ds(e,r)}}else a="";return!o&&isNaN(i)?a:i}function zY(t,e){const n=t.match(IX);if(!n)return;const r=n[1],o=n[3],i=n[4],a=n[5],s=n[6];r&&(e.fontStyle=r),o&&(e.fontWeight=isNaN(parseFloat(o))?o:parseFloat(o)),i&&(e.fontSize=ds(i)),s&&(e.fontFamily=s),a&&(e.lineHeight=a==="normal"?1:a)}function UY(t,e){t.replace(/;\s*$/,"").split(";").forEach(n=>{if(!n)return;const[r,o]=n.split(":");e[r.trim().toLowerCase()]=o.trim()})}function HY(t){const e={},n=t.getAttribute("style");return n&&(typeof n=="string"?UY(n,e):function(r,o){Object.entries(r).forEach(i=>{let[a,s]=i;s!==void 0&&(o[a.toLowerCase()]=s)})}(n,e)),e}const WY={stroke:"strokeOpacity",fill:"fillOpacity"};function ci(t,e,n){if(!t)return{};let r,o={},i=tv;t.parentNode&&s2.test(t.parentNode.nodeName)&&(o=ci(t.parentElement,e,n),o.fontSize&&(r=i=ds(o.fontSize)));const a=ee(ee(ee({},e.reduce((c,u)=>{const h=t.getAttribute(u);return h&&(c[u]=h),c},{})),function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={};for(const f in u)SY(c,f.split(" "))&&(h=ee(ee({},h),u[f]));return h}(t,n)),HY(t));a[zp]&&t.setAttribute(zp,a[zp]),a[Bp]&&(r=ds(a[Bp],i),a[Bp]="".concat(r));const s={};for(const c in a){const u=EY(c),h=BY(u,a[c],o,r);s[u]=h}s&&s.font&&zY(s.font,s);const l=ee(ee({},o),s);return s2.test(t.nodeName)?l:function(c){const u=Ln.getDefaults();return Object.entries(WY).forEach(h=>{let[f,p]=h;if(c[p]===void 0||c[f]==="")return;if(c[f]===void 0){if(!u[f])return;c[f]=u[f]}if(c[f].indexOf("url(")===0)return;const m=new Et(c[f]);c[f]=m.setAlpha(Rt(m.getAlpha()*c[p],2)).toRgba()}),c}(l)}const VY=["left","top","width","height","visible"],r5=["rx","ry"];class Hr extends Ln{static getDefaults(){return ee(ee({},super.getDefaults()),Hr.ownDefaults)}constructor(e){super(),Object.assign(this,Hr.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:n}=this;e&&!n?this.ry=e:n&&!e&&(this.rx=n)}_render(e){const{width:n,height:r}=this,o=-n/2,i=-r/2,a=this.rx?Math.min(this.rx,n/2):0,s=this.ry?Math.min(this.ry,r/2):0,l=a!==0||s!==0;e.beginPath(),e.moveTo(o+a,i),e.lineTo(o+n-a,i),l&&e.bezierCurveTo(o+n-vi*a,i,o+n,i+vi*s,o+n,i+s),e.lineTo(o+n,i+r-s),l&&e.bezierCurveTo(o+n,i+r-vi*s,o+n-vi*a,i+r,o+n-a,i+r),e.lineTo(o+a,i+r),l&&e.bezierCurveTo(o+vi*a,i+r,o,i+r-vi*s,o,i+r-s),e.lineTo(o,i+s),l&&e.bezierCurveTo(o,i+vi*s,o+vi*a,i,o+a,i),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...r5,...e])}_toSVG(){const{width:e,height:n,rx:r,ry:o}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-n/2,'" rx="').concat(r,'" ry="').concat(o,'" width="').concat(e,'" height="').concat(n,`" />
`)]}static async fromElement(e,n,r){const o=ci(e,this.ATTRIBUTE_NAMES,r),{left:i=0,top:a=0,width:s=0,height:l=0,visible:c=!0}=o,u=Nt(o,VY);return new this(ee(ee(ee({},n),u),{},{left:i,top:a,width:s,height:l,visible:!!(c&&s&&l)}))}}J(Hr,"type","Rect"),J(Hr,"cacheProperties",[...li,...r5]),J(Hr,"ownDefaults",{rx:0,ry:0}),J(Hr,"ATTRIBUTE_NAMES",[...Ui,"x","y","rx","ry","width","height"]),De.setClass(Hr),De.setSVGClass(Hr);const Vo="initialization",nh="added",vv="removed",rh="imperative",o5=(t,e)=>{const{strokeUniform:n,strokeWidth:r,width:o,height:i,group:a}=e,s=a&&a!==t?sf(a.calcTransformMatrix(),t.calcTransformMatrix()):null,l=s?e.getRelativeCenterPoint().transform(s):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),u=n&&c?MX(new ae(r,r),void 0,t.calcTransformMatrix()):ov,h=!n&&c?r:0,f=lv(o+h,i+h,iv([s,e.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(f),l.add(f)]};class uf{calcLayoutResult(e,n){if(this.shouldPerformLayout(e))return this.calcBoundingBox(n,e)}shouldPerformLayout(e){let{type:n,prevStrategy:r,strategy:o}=e;return n===Vo||n===rh||!!r&&o!==r}shouldLayoutClipPath(e){let{type:n,target:{clipPath:r}}=e;return n!==Vo&&r&&!r.absolutePositioned}getInitialSize(e,n){return n.size}calcBoundingBox(e,n){const{type:r,target:o}=n;if(r===rh&&n.overrides)return n.overrides;if(e.length===0)return;const{left:i,top:a,width:s,height:l}=Go(e.map(h=>o5(o,h)).reduce((h,f)=>h.concat(f),[])),c=new ae(s,l),u=new ae(i,a).add(c.scalarDivide(2));if(r===Vo){const h=this.getInitialSize(n,{size:c,center:u});return{center:u,relativeCorrection:new ae(0,0),size:h}}return{center:u.transform(o.calcOwnMatrix()),size:c}}}J(uf,"type","strategy");class Rm extends uf{shouldPerformLayout(e){return!0}}J(Rm,"type","fit-content"),De.setClass(Rm);const XY=["strategy"],YY=["target","strategy","bubbles","prevStrategy"],i5="layoutManager";class rc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Rm;J(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const n=ee(ee({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(n);const r=this.getLayoutResult(n);r&&this.commitLayout(n,r),this.onAfterLayout(n,r),this._prevLayoutStrategy=n.strategy}attachHandlers(e,n){const{target:r}=n;return[Kd,_S,Jl,kS,nf,CS,qd,mX,vX].map(o=>e.on(o,i=>this.performLayout(o===Kd?{type:"object_modified",trigger:o,e:i,target:r}:{type:"object_modifying",trigger:o,e:i,target:r})))}subscribe(e,n){this.unsubscribe(e,n);const r=this.attachHandlers(e,n);this._subscriptions.set(e,r)}unsubscribe(e,n){(this._subscriptions.get(e)||[]).forEach(r=>r()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(n=>this.unsubscribe(n,e))}subscribeTargets(e){e.targets.forEach(n=>this.subscribe(n,e))}onBeforeLayout(e){const{target:n,type:r}=e,{canvas:o}=n;if(r===Vo||r===nh?this.subscribeTargets(e):r===vv&&this.unsubscribeTargets(e),n.fire("layout:before",{context:e}),o&&o.fire("object:layout:before",{target:n,context:e}),r===rh&&e.deep){const i=Nt(e,XY);n.forEachObject(a=>a.layoutManager&&a.layoutManager.performLayout(ee(ee({},i),{},{bubbles:!1,target:a})))}}getLayoutResult(e){const{target:n,strategy:r,type:o}=e,i=r.calcLayoutResult(e,n.getObjects());if(!i)return;const a=o===Vo?new ae:n.getRelativeCenterPoint(),{center:s,correction:l=new ae,relativeCorrection:c=new ae}=i,u=a.subtract(s).add(l).transform(o===Vo?Vn:Kr(n.calcOwnMatrix()),!0).add(c);return{result:i,prevCenter:a,nextCenter:s,offset:u}}commitLayout(e,n){const{target:r}=e,{result:{size:o},nextCenter:i}=n;var a,s;r.set({width:o.x,height:o.y}),this.layoutObjects(e,n),e.type===Vo?r.set({left:(a=e.x)!==null&&a!==void 0?a:i.x+o.x*sn(r.originX),top:(s=e.y)!==null&&s!==void 0?s:i.y+o.y*sn(r.originY)}):(r.setPositionByOrigin(i,ot,ot),r.setCoords(),r.set("dirty",!0))}layoutObjects(e,n){const{target:r}=e;r.forEachObject(o=>{o.group===r&&this.layoutObject(e,n,o)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,n,r.clipPath)}layoutObject(e,n,r){let{offset:o}=n;r.set({left:r.left+o.x,top:r.top+o.y})}onAfterLayout(e,n){const{target:r,strategy:o,bubbles:i,prevStrategy:a}=e,s=Nt(e,YY),{canvas:l}=r;r.fire("layout:after",{context:e,result:n}),l&&l.fire("object:layout:after",{context:e,result:n,target:r});const c=r.parent;i&&c!=null&&c.layoutManager&&((s.path||(s.path=[])).push(r),c.layoutManager.performLayout(ee(ee({},s),{},{target:c}))),r.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(n=>n.forEach(r=>r())),e.clear()}toObject(){return{type:i5,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}De.setClass(rc,i5);const GY=["type","objects","layoutManager"];class qY extends rc{performLayout(){}}class ma extends SS(Ln){static getDefaults(){return ee(ee({},super.getDefaults()),ma.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),J(this,"_activeObjects",[]),J(this,"__objectSelectionTracker",void 0),J(this,"__objectSelectionDisposer",void 0),Object.assign(this,ma.ownDefaults),this.setOptions(n),this.groupInit(e,n)}groupInit(e,n){var r;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(o=>{this.enterGroup(o,!1)}),this.layoutManager=(r=n.layoutManager)!==null&&r!==void 0?r:new rc,this.layoutManager.performLayout({type:Vo,target:this,targets:[...e],x:n.left,y:n.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Di("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(Di("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((n,r,o)=>this.canEnterGroup(n)&&o.indexOf(n)===r)}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const o=this._filterObjectsBeforeEnteringGroup(n),i=super.add(...o);return this._onAfterObjectsChange(nh,o),i}insertAt(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=this._filterObjectsBeforeEnteringGroup(r),a=super.insertAt(e,...i);return this._onAfterObjectsChange(nh,i),a}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(vv,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,n){this.exitGroup(e,n),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,n){this.layoutManager.performLayout({type:e,targets:n,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,n){const r=this[e];return super._set(e,n),e==="canvas"&&r!==n&&(this._objects||[]).forEach(o=>{o._set(e,n)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,n){let{target:r}=n;const o=this._activeObjects;if(e)o.push(r),this._set("dirty",!0);else if(o.length>0){const i=o.indexOf(r);i>-1&&(o.splice(i,1),this._set("dirty",!0))}}_watchObject(e,n){e&&this._watchObject(!1,n),e?(n.on("selected",this.__objectSelectionTracker),n.on("deselected",this.__objectSelectionDisposer)):(n.off("selected",this.__objectSelectionTracker),n.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,n){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,n)}_enterGroup(e,n){n&&Qd(e,Sn(Kr(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const r=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();r&&(r===e||e.isDescendantOf(r))&&this._activeObjects.push(e)}exitGroup(e,n){this._exitGroup(e,n),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,n){e._set("group",void 0),n||(Qd(e,Sn(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const r=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;r>-1&&this._activeObjects.splice(r,1)}shouldCache(){const e=Ln.prototype.shouldCache.call(this);if(e){for(let n=0;n<this._objects.length;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,n,r){this._renderBackground(e);for(let i=0;i<this._objects.length;i++){var o;const a=this._objects[i];(o=this.canvas)!==null&&o!==void 0&&o.preserveObjectStacking&&a.group!==this?(e.save(),e.transform(...Kr(this.calcTransformMatrix())),a.render(e),e.restore()):a.group===this&&a.render(e)}this._drawClipPath(e,this.clipPath,r)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(ee({target:this,type:rh},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,n){const r=this.includeDefaultValues;return this._objects.filter(function(o){return!o.excludeFromExport}).map(function(o){const i=o.includeDefaultValues;o.includeDefaultValues=r;const a=o[e||"toObject"](n);return o.includeDefaultValues=i,a})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.layoutManager.toObject();return ee(ee(ee({},super.toObject(["subTargetCheck","interactive",...e])),n.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:n}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const n=Hr.prototype._toSVG.call(this),r=n.indexOf("COMMON_PARTS");n[r]='for="group" ';const o=n.join("");return e?e(o):o}_toSVG(e){const n=["<g ","COMMON_PARTS",` >
`],r=this._createSVGBgRect(e);r&&n.push("		",r);for(let o=0;o<this._objects.length;o++)n.push("		",this._objects[o].toSVG(e));return n.push(`</g>
`),n}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",n=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),n].join("")}toClipPathSVG(e){const n=[],r=this._createSVGBgRect(e);r&&n.push("	",r);for(let o=0;o<this._objects.length;o++)n.push("	",this._objects[o].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(n,{reviver:e})}static fromObject(e,n){let{type:r,objects:o=[],layoutManager:i}=e,a=Nt(e,GY);return Promise.all([Ql(o,n),af(a,n)]).then(s=>{let[l,c]=s;const u=new this(l,ee(ee(ee({},a),c),{},{layoutManager:new qY}));if(i){const h=De.getClass(i.type),f=De.getClass(i.strategy);u.layoutManager=new h(new f)}else u.layoutManager=new rc;return u.layoutManager.subscribeTargets({type:Vo,target:u,targets:u.getObjects()}),u.setCoords(),u})}}J(ma,"type","Group"),J(ma,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),De.setClass(ma);const KY=(t,e)=>Math.min(e.width/t.width,e.height/t.height),ZY=(t,e)=>Math.max(e.width/t.width,e.height/t.height),Dm="\\s*,?\\s*",hl="".concat(Dm,"(").concat(Zr,")"),JY="".concat(hl).concat(hl).concat(hl).concat(Dm,"([01])").concat(Dm,"([01])").concat(hl).concat(hl),QY={m:"l",M:"L"},eG=(t,e,n,r,o,i,a,s,l,c,u)=>{const h=ti(t),f=ni(t),p=ti(e),m=ni(e),v=n*o*p-r*i*m+a,g=r*o*p+n*i*m+s;return["C",c+l*(-n*o*f-r*i*h),u+l*(-r*o*f+n*i*h),v+l*(n*o*m+r*i*p),g+l*(r*o*m-n*i*p),v,g]},k2=(t,e,n,r)=>{const o=Math.atan2(e,t),i=Math.atan2(r,n);return i>=o?i-o:2*Math.PI-(o-i)};function C2(t,e,n,r,o,i,a,s){let l;if(mt.cachesBoundsOfCurve&&(l=[...arguments].join(),$l.boundsOfCurveCache[l]))return $l.boundsOfCurveCache[l];const c=Math.sqrt,u=Math.abs,h=[],f=[[0,0],[0,0]];let p=6*t-12*n+6*o,m=-3*t+9*n-9*o+3*a,v=3*n-3*t;for(let w=0;w<2;++w){if(w>0&&(p=6*e-12*r+6*i,m=-3*e+9*r-9*i+3*s,v=3*r-3*e),u(m)<1e-12){if(u(p)<1e-12)continue;const A=-v/p;0<A&&A<1&&h.push(A);continue}const _=p*p-4*v*m;if(_<0)continue;const k=c(_),E=(-p+k)/(2*m);0<E&&E<1&&h.push(E);const $=(-p-k)/(2*m);0<$&&$<1&&h.push($)}let g=h.length;const b=g,y=a5(t,e,n,r,o,i,a,s);for(;g--;){const{x:w,y:_}=y(h[g]);f[0][g]=w,f[1][g]=_}f[0][b]=t,f[1][b]=e,f[0][b+1]=a,f[1][b+1]=s;const x=[new ae(Math.min(...f[0]),Math.min(...f[1])),new ae(Math.max(...f[0]),Math.max(...f[1]))];return mt.cachesBoundsOfCurve&&($l.boundsOfCurveCache[l]=x),x}const tG=(t,e,n)=>{let[r,o,i,a,s,l,c,u]=n;const h=((f,p,m,v,g,b,y)=>{if(m===0||v===0)return[];let x=0,w=0,_=0;const k=Math.PI,E=y*ev,$=ni(E),A=ti(E),D=.5*(-A*f-$*p),O=.5*(-A*p+$*f),S=m**2,T=v**2,C=O**2,M=D**2,R=S*T-S*C-T*M;let L=Math.abs(m),P=Math.abs(v);if(R<0){const ke=Math.sqrt(1-R/(S*T));L*=ke,P*=ke}else _=(g===b?-1:1)*Math.sqrt(R/(S*C+T*M));const N=_*L*O/P,j=-_*P*D/L,H=A*N-$*j+.5*f,B=$*N+A*j+.5*p;let te=k2(1,0,(D-N)/L,(O-j)/P),U=k2((D-N)/L,(O-j)/P,(-D-N)/L,(-O-j)/P);b===0&&U>0?U-=2*k:b===1&&U<0&&(U+=2*k);const ie=Math.ceil(Math.abs(U/k*2)),V=[],de=U/ie,ve=8/3*Math.sin(de/4)*Math.sin(de/4)/Math.sin(de/2);let ge=te+de;for(let ke=0;ke<ie;ke++)V[ke]=eG(te,ge,A,$,L,P,H,B,ve,x,w),x=V[ke][5],w=V[ke][6],te=ge,ge+=de;return V})(c-t,u-e,o,i,s,l,a);for(let f=0,p=h.length;f<p;f++)h[f][1]+=t,h[f][2]+=e,h[f][3]+=t,h[f][4]+=e,h[f][5]+=t,h[f][6]+=e;return h},nG=t=>{let e=0,n=0,r=0,o=0;const i=[];let a,s=0,l=0;for(const c of t){const u=[...c];let h;switch(u[0]){case"l":u[1]+=e,u[2]+=n;case"L":e=u[1],n=u[2],h=["L",e,n];break;case"h":u[1]+=e;case"H":e=u[1],h=["L",e,n];break;case"v":u[1]+=n;case"V":n=u[1],h=["L",e,n];break;case"m":u[1]+=e,u[2]+=n;case"M":e=u[1],n=u[2],r=u[1],o=u[2],h=["M",e,n];break;case"c":u[1]+=e,u[2]+=n,u[3]+=e,u[4]+=n,u[5]+=e,u[6]+=n;case"C":s=u[3],l=u[4],e=u[5],n=u[6],h=["C",u[1],u[2],s,l,e,n];break;case"s":u[1]+=e,u[2]+=n,u[3]+=e,u[4]+=n;case"S":a==="C"?(s=2*e-s,l=2*n-l):(s=e,l=n),e=u[3],n=u[4],h=["C",s,l,u[1],u[2],e,n],s=h[3],l=h[4];break;case"q":u[1]+=e,u[2]+=n,u[3]+=e,u[4]+=n;case"Q":s=u[1],l=u[2],e=u[3],n=u[4],h=["Q",s,l,e,n];break;case"t":u[1]+=e,u[2]+=n;case"T":a==="Q"?(s=2*e-s,l=2*n-l):(s=e,l=n),e=u[1],n=u[2],h=["Q",s,l,e,n];break;case"a":u[6]+=e,u[7]+=n;case"A":tG(e,n,u).forEach(f=>i.push(f)),e=u[6],n=u[7];break;case"z":case"Z":e=r,n=o,h=["Z"]}h?(i.push(h),a=h[0]):a=""}return i},oh=(t,e,n,r)=>Math.sqrt((n-t)**2+(r-e)**2),a5=(t,e,n,r,o,i,a,s)=>l=>{const c=l**3,u=(p=>3*p**2*(1-p))(l),h=(p=>3*p*(1-p)**2)(l),f=(p=>(1-p)**3)(l);return new ae(a*c+o*u+n*h+t*f,s*c+i*u+r*h+e*f)},s5=t=>t**2,l5=t=>2*t*(1-t),c5=t=>(1-t)**2,rG=(t,e,n,r,o,i,a,s)=>l=>{const c=s5(l),u=l5(l),h=c5(l),f=3*(h*(n-t)+u*(o-n)+c*(a-o)),p=3*(h*(r-e)+u*(i-r)+c*(s-i));return Math.atan2(p,f)},oG=(t,e,n,r,o,i)=>a=>{const s=s5(a),l=l5(a),c=c5(a);return new ae(o*s+n*l+t*c,i*s+r*l+e*c)},iG=(t,e,n,r,o,i)=>a=>{const s=1-a,l=2*(s*(n-t)+a*(o-n)),c=2*(s*(r-e)+a*(i-r));return Math.atan2(c,l)},S2=(t,e,n)=>{let r=new ae(e,n),o=0;for(let i=1;i<=100;i+=1){const a=t(i/100);o+=oh(r.x,r.y,a.x,a.y),r=a}return o},aG=(t,e)=>{let n,r=0,o=0,i={x:t.x,y:t.y},a=ee({},i),s=.01,l=0;const c=t.iterator,u=t.angleFinder;for(;o<e&&s>1e-4;)a=c(r),l=r,n=oh(i.x,i.y,a.x,a.y),n+o>e?(r-=s,s/=2):(i=a,r+=s,o+=n);return ee(ee({},a),{},{angle:u(l)})},u5=t=>{let e,n,r=0,o=0,i=0,a=0,s=0;const l=[];for(const c of t){const u={x:o,y:i,command:c[0],length:0};switch(c[0]){case"M":n=u,n.x=a=o=c[1],n.y=s=i=c[2];break;case"L":n=u,n.length=oh(o,i,c[1],c[2]),o=c[1],i=c[2];break;case"C":e=a5(o,i,c[1],c[2],c[3],c[4],c[5],c[6]),n=u,n.iterator=e,n.angleFinder=rG(o,i,c[1],c[2],c[3],c[4],c[5],c[6]),n.length=S2(e,o,i),o=c[5],i=c[6];break;case"Q":e=oG(o,i,c[1],c[2],c[3],c[4]),n=u,n.iterator=e,n.angleFinder=iG(o,i,c[1],c[2],c[3],c[4]),n.length=S2(e,o,i),o=c[3],i=c[4];break;case"Z":n=u,n.destX=a,n.destY=s,n.length=oh(o,i,a,s),o=a,i=s}r+=n.length,l.push(n)}return l.push({length:r,x:o,y:i}),l},sG=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u5(t),r=0;for(;e-n[r].length>0&&r<n.length-2;)e-=n[r].length,r++;const o=n[r],i=e/o.length,a=t[r];switch(o.command){case"M":return{x:o.x,y:o.y,angle:0};case"Z":return ee(ee({},new ae(o.x,o.y).lerp(new ae(o.destX,o.destY),i)),{},{angle:Math.atan2(o.destY-o.y,o.destX-o.x)});case"L":return ee(ee({},new ae(o.x,o.y).lerp(new ae(a[1],a[2]),i)),{},{angle:Math.atan2(a[2]-o.y,a[1]-o.x)});case"C":case"Q":return aG(o,e)}},lG=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),E2=new RegExp(JY,"g"),cG=new RegExp(Zr,"gi"),uG={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},dG=t=>{var e;const n=[],r=(e=t.match(lG))!==null&&e!==void 0?e:[];for(const o of r){const i=o[0];if(i==="z"||i==="Z"){n.push([i]);continue}const a=uG[i.toLowerCase()];let s=[];if(i==="a"||i==="A"){E2.lastIndex=0;for(let l=null;l=E2.exec(o);)s.push(...l.slice(1))}else s=o.match(cG)||[];for(let l=0;l<s.length;l+=a){const c=new Array(a),u=QY[i];c[0]=l>0&&u?u:i;for(let h=0;h<a;h++)c[h+1]=parseFloat(s[l+h]);n.push(c)}}return n},hG=(t,e)=>t.map(n=>n.map((r,o)=>o===0||e===void 0?r:Rt(r,e)).join(" ")).join(" ");function Pm(t,e){const n=t.style;n&&e&&(typeof e=="string"?n.cssText+=";"+e:Object.entries(e).forEach(r=>{let[o,i]=r;return n.setProperty(o,i)}))}class fG extends FS{constructor(e){let{allowTouchScrolling:n=!1,containerClass:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),J(this,"upper",void 0),J(this,"container",void 0);const{el:o}=this.lower,i=this.createUpperCanvas();this.upper={el:i,ctx:i.getContext("2d")},this.applyCanvasStyle(o,{allowTouchScrolling:n}),this.applyCanvasStyle(i,{allowTouchScrolling:n,styles:{position:"absolute",left:"0",top:"0"}});const a=this.createContainerElement();a.classList.add(r),o.parentNode&&o.parentNode.replaceChild(a,o),a.append(o,i),this.container=a}createUpperCanvas(){const{el:e}=this.lower,n=ri();return n.className=e.className,n.classList.remove("lower-canvas"),n.classList.add("upper-canvas"),n.setAttribute("data-fabric","top"),n.style.cssText=e.style.cssText,n.setAttribute("draggable","true"),n}createContainerElement(){const e=Hs().createElement("div");return e.setAttribute("data-fabric","wrapper"),Pm(e,{position:"relative"}),Zx(e),e}applyCanvasStyle(e,n){const{styles:r,allowTouchScrolling:o}=n;Pm(e,ee(ee({},r),{},{"touch-action":o?"manipulation":tr})),Zx(e)}setDimensions(e,n){super.setDimensions(e,n);const{el:r,ctx:o}=this.upper;LS(r,o,e,n)}setCSSDimensions(e){super.setCSSDimensions(e),Em(this.upper.el,e),Em(this.container,e)}cleanupDOM(e){const n=this.container,{el:r}=this.lower,{el:o}=this.upper;super.cleanupDOM(e),n.removeChild(o),n.removeChild(r),n.parentNode&&n.parentNode.replaceChild(r,n)}dispose(){super.dispose(),So().dispose(this.upper.el),delete this.upper,delete this.container}}class df extends Cc{constructor(){super(...arguments),J(this,"targets",[]),J(this,"_hoveredTargets",[]),J(this,"_objectsToRender",void 0),J(this,"_currentTransform",null),J(this,"_groupSelector",null),J(this,"contextTopDirty",!1)}static getDefaults(){return ee(ee({},super.getDefaults()),df.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new fG(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(n=>!n.group&&n!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const n=this.getRetinaScaling(),r=Math.ceil((2*e+1)*n);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=r,this.pixelFindContext.scale(n,n)}isTargetTransparent(e,n,r){const o=this.targetFindTolerance,i=this.pixelFindContext;this.clearContext(i),i.save(),i.translate(-n+o,-r+o),i.transform(...this.viewportTransform);const a=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(i),e.selectionBackgroundColor=a,i.restore();const s=Math.round(o*this.getRetinaScaling());return vY(i,s,s,s)}_isSelectionKeyPressed(e){const n=this.selectionKey;return!!n&&(Array.isArray(n)?!!n.find(r=>!!r&&e[r]===!0):e[n])}_shouldClearSelection(e,n){const r=this.getActiveObjects(),o=this._activeObject;return!!(!n||n&&o&&r.length>1&&r.indexOf(n)===-1&&o!==n&&!this._isSelectionKeyPressed(e)||n&&!n.evented||n&&!n.selectable&&o&&o!==n)}_shouldCenterTransform(e,n,r){if(!e)return;let o;return n===rf||n===ir||n===Ar||n===Jl?o=this.centeredScaling||e.centeredScaling:n===rv&&(o=this.centeredRotation||e.centeredRotation),o?!r:r}_getOriginFromCorner(e,n){const r={x:e.originX,y:e.originY};return n&&(["ml","tl","bl"].includes(n)?r.x=Zt:["mr","tr","br"].includes(n)&&(r.x=_t),["tl","mt","tr"].includes(n)?r.y=Sm:["bl","mb","br"].includes(n)&&(r.y=er)),r}_setupCurrentTransform(e,n,r){var o;const i=n.group?us(this.getScenePoint(e),void 0,n.group.calcTransformMatrix()):this.getScenePoint(e),{key:a="",control:s}=n.getActiveControl()||{},l=r&&s?(o=s.getActionHandler(e,n,s))===null||o===void 0?void 0:o.bind(s):DX,c=((p,m,v,g)=>{if(!m||!p)return"drag";const b=g.controls[m];return b.getActionName(v,b,g)})(r,a,e,n),u=e[this.centeredKey],h=this._shouldCenterTransform(n,c,u)?{x:ot,y:ot}:this._getOriginFromCorner(n,a),f={target:n,action:c,actionHandler:l,actionPerformed:!1,corner:a,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:i.x-n.left,offsetY:i.y-n.top,originX:h.x,originY:h.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:Qt(n.angle),width:n.width,height:n.height,shiftKey:e.shiftKey,altKey:u,original:ee(ee({},IS(n)),{},{originX:h.x,originY:h.y})};this._currentTransform=f,this.fire("before:transform",{e,transform:f})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:n,y:r,deltaX:o,deltaY:i}=this._groupSelector,a=new ae(n,r).transform(this.viewportTransform),s=new ae(n+o,r+i).transform(this.viewportTransform),l=this.selectionLineWidth/2;let c=Math.min(a.x,s.x),u=Math.min(a.y,s.y),h=Math.max(a.x,s.x),f=Math.max(a.y,s.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,u,h-c,f-u)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=l,u+=l,h-=l,f-=l,Ln.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,u,h-c,f-u))}findTarget(e){if(this.skipTargetFind)return;const n=this.getViewportPoint(e),r=this._activeObject,o=this.getActiveObjects();if(this.targets=[],r&&o.length>=1){if(r.findControl(n,Tm(e))||o.length>1&&this.searchPossibleTargets([r],n))return r;if(r===this.searchPossibleTargets([r],n)){if(this.preserveObjectStacking){const i=this.targets;this.targets=[];const a=this.searchPossibleTargets(this._objects,n);return e[this.altSelectionKey]&&a&&a!==r?(this.targets=i,r):a}return r}}return this.searchPossibleTargets(this._objects,n)}_pointIsInObjectSelectionArea(e,n){let r=e.getCoords();const o=this.getZoom(),i=e.padding/o;if(i){const[a,s,l,c]=r,u=Math.atan2(s.y-a.y,s.x-a.x),h=ti(u)*i,f=ni(u)*i,p=h+f,m=h-f;r=[new ae(a.x-m,a.y-p),new ae(s.x+p,s.y-m),new ae(l.x+m,l.y+p),new ae(c.x-p,c.y+m)]}return Bt.isPointInPolygon(n,r)}_checkTarget(e,n){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,us(n,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,n.x,n.y)))}_searchPossibleTargets(e,n){let r=e.length;for(;r--;){const o=e[r];if(this._checkTarget(o,n)){if(ad(o)&&o.subTargetCheck){const i=this._searchPossibleTargets(o._objects,n);i&&this.targets.push(i)}return o}}}searchPossibleTargets(e,n){const r=this._searchPossibleTargets(e,n);if(r&&ad(r)&&r.interactive&&this.targets[0]){const o=this.targets;for(let i=o.length-1;i>0;i--){const a=o[i];if(!ad(a)||!a.interactive)return a}return o[0]}return r}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.upperCanvasEl,o=r.getBoundingClientRect();let i=EX(e),a=o.width||0,s=o.height||0;a&&s||(er in o&&Sm in o&&(s=Math.abs(o.top-o.bottom)),Zt in o&&_t in o&&(a=Math.abs(o.right-o.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,n||(i=us(i,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(i.x/=l,i.y/=l);const c=a===0||s===0?new ae(1,1):new ae(r.width/a,r.height/s);return i.multiply(c)}_setDimensionsImpl(e,n){this._resetTransformEventData(),super._setDimensionsImpl(e,n),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=ri(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return na(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,n){let r=!1,o=!1;const i=this.getActiveObjects(),a=[],s=[];e.forEach(l=>{i.includes(l)||(r=!0,l.fire("deselected",{e:n,target:l}),s.push(l))}),i.forEach(l=>{e.includes(l)||(r=!0,l.fire("selected",{e:n,target:l}),a.push(l))}),e.length>0&&i.length>0?(o=!0,r&&this.fire("selection:updated",{e:n,selected:a,deselected:s})):i.length>0?(o=!0,this.fire("selection:created",{e:n,selected:a})):e.length>0&&(o=!0,this.fire("selection:cleared",{e:n,deselected:s})),o&&(this._objectsToRender=void 0)}setActiveObject(e,n){const r=this.getActiveObjects(),o=this._setActiveObject(e,n);return this._fireSelectionEvents(r,n),o}_setActiveObject(e,n){const r=this._activeObject;return r!==e&&!(!this._discardActiveObject(n,e)&&this._activeObject)&&!e.onSelect({e:n})&&(this._activeObject=e,na(e)&&r!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,n){const r=this._activeObject;return!!r&&!r.onDeselect({e,object:n})&&(this._currentTransform&&this._currentTransform.target===r&&this.endCurrentTransform(e),na(r)&&r===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const n=this.getActiveObjects(),r=this.getActiveObject();n.length&&this.fire("before:selection:cleared",{e,deselected:[r]});const o=this._discardActiveObject(e);return this._fireSelectionEvents(n,e),o}endCurrentTransform(e){const n=this._currentTransform;this._finalizeCurrentTransform(e),n&&n.target&&(n.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const n=this._currentTransform,r=n.target,o={e,target:r,transform:n,action:n.action};r._scaling&&(r._scaling=!1),r.setCoords(),n.actionPerformed&&(this.fire("object:modified",o),r.fire(Kd,o))}setViewportTransform(e){super.setViewportTransform(e);const n=this._activeObject;n&&n.setCoords()}destroy(){const e=this._activeObject;na(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const n=this._activeObject;n&&n._renderControls(e)}_toObject(e,n,r){const o=this._realizeGroupTransformOnObject(e),i=super._toObject(e,n,r);return e.set(o),i}_realizeGroupTransformOnObject(e){const{group:n}=e;if(n&&na(n)&&this._activeObject===n){const r=Ys(e,["angle","flipX","flipY",_t,ir,Ar,Ws,Vs,er]);return OX(e,n.calcOwnMatrix()),r}return{}}_setSVGObject(e,n,r){const o=this._realizeGroupTransformOnObject(n);super._setSVGObject(e,n,r),n.set(o)}}J(df,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class pG{constructor(e){J(this,"targets",[]),J(this,"__disposer",void 0);const n=()=>{const{hiddenTextarea:o}=e.getActiveObject()||{};o&&o.focus()},r=e.upperCanvasEl;r.addEventListener("click",n),this.__disposer=()=>r.removeEventListener("click",n)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),qa(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var n;!((n=this.target)===null||n===void 0)&&n.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const gG=["target","oldTarget","fireCanvas","e"],cr={passive:!1},Va=(t,e)=>{const n=t.getViewportPoint(e),r=t.getScenePoint(e);return{viewportPoint:n,scenePoint:r,pointer:n,absolutePointer:r}},bi=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.addEventListener(...n)},wr=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.removeEventListener(...n)},mG={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class Lm extends df{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),J(this,"_isClick",void 0),J(this,"textEditingManager",new pG(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(n=>{this[n]=this[n].bind(this)}),this.addOrRemove(bi,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,n){const r=this.upperCanvasEl,o=this._getEventPrefix();e(PS(r),"resize",this._onResize),e(r,o+"down",this._onMouseDown),e(r,"".concat(o,"move"),this._onMouseMove,cr),e(r,"".concat(o,"out"),this._onMouseOut),e(r,"".concat(o,"enter"),this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"click",this._onClick),e(r,"dblclick",this._onClick),e(r,"dragstart",this._onDragStart),e(r,"dragend",this._onDragEnd),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,cr)}removeListeners(){this.addOrRemove(wr,"remove");const e=this._getEventPrefix(),n=Yr(this.upperCanvasEl);wr(n,"".concat(e,"up"),this._onMouseUp),wr(n,"touchend",this._onTouchEnd,cr),wr(n,"".concat(e,"move"),this._onMouseMove,cr),wr(n,"touchmove",this._onMouseMove,cr),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const n=this._hoveredTarget,r=ee({e},Va(this,e));this.fire("mouse:out",ee(ee({},r),{},{target:n})),this._hoveredTarget=void 0,n&&n.fire("mouseout",ee({},r)),this._hoveredTargets.forEach(o=>{this.fire("mouse:out",ee(ee({},r),{},{target:o})),o&&o.fire("mouseout",ee({},r))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",ee({e},Va(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const n=this.getActiveObject();if(n&&n.onDragStart(e)){this._dragSource=n;const r={e,target:n};return this.fire("dragstart",r),n.fire("dragstart",r),void bi(this.upperCanvasEl,"drag",this._onDragProgress)}Jx(e)}_renderDragEffects(e,n,r){let o=!1;const i=this._dropTarget;i&&i!==n&&i!==r&&(i.clearContextTop(),o=!0),n?.clearContextTop(),r!==n&&r?.clearContextTop();const a=this.contextTop;a.save(),a.transform(...this.viewportTransform),n&&(a.save(),n.transform(a),n.renderDragSourceEffect(e),a.restore(),o=!0),r&&(a.save(),r.transform(a),r.renderDropTargetEffect(e),a.restore(),o=!0),a.restore(),o&&(this.contextTopDirty=!0)}_onDragEnd(e){const n=!!e.dataTransfer&&e.dataTransfer.dropEffect!==tr,r=n?this._activeObject:void 0,o={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:n,dropTarget:r};wr(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",o),this._dragSource&&this._dragSource.fire("dragend",o),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const n={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",n),this._dragSource&&this._dragSource.fire("drag",n)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const n="dragover",{target:r,targets:o}=this.findDragTargets(e),i=this._dragSource,a={e,target:r,subTargets:o,dragSource:i,canDrop:!1,dropTarget:void 0};let s;this.fire(n,a),this._fireEnterLeaveEvents(r,a),r&&(r.canDrop(e)&&(s=r),r.fire(n,a));for(let l=0;l<o.length;l++){const c=o[l];c.canDrop(e)&&(s=c),c.fire(n,a)}this._renderDragEffects(e,i,s),this._dropTarget=s}_onDragEnter(e){const{target:n,targets:r}=this.findDragTargets(e),o={e,target:n,subTargets:r,dragSource:this._dragSource};this.fire("dragenter",o),this._fireEnterLeaveEvents(n,o)}_onDragLeave(e){const n={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",n),this._fireEnterLeaveEvents(void 0,n),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:n,targets:r}=this.findDragTargets(e),o=this._basicEventHandler("drop:before",ee({e,target:n,subTargets:r,dragSource:this._dragSource},Va(this,e)));o.didDrop=!1,o.dropTarget=void 0,this._basicEventHandler("drop",o),this.fire("drop:after",o)}_onContextMenu(e){const n=this.findTarget(e),r=this.targets||[],o=this._basicEventHandler("contextmenu:before",{e,target:n,subTargets:r});return this.stopContextMenu&&Jx(e),this._basicEventHandler("contextmenu",o),!1}_onClick(e){const n=e.detail;n>3||n<2||(this._cacheTransformEventData(e),n==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),n==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const n=e.changedTouches;return n?n[0]&&n[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let n=!this.allowTouchScrolling;const r=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||r&&this._target===r)&&(n=!0),n&&e.preventDefault(),this._resetTransformEventData();const o=this.upperCanvasEl,i=this._getEventPrefix(),a=Yr(o);bi(a,"touchend",this._onTouchEnd,cr),n&&bi(a,"touchmove",this._onMouseMove,cr),wr(o,"".concat(i,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const n=this.upperCanvasEl,r=this._getEventPrefix();wr(n,"".concat(r,"move"),this._onMouseMove,cr);const o=Yr(n);bi(o,"".concat(r,"up"),this._onMouseUp),bi(o,"".concat(r,"move"),this._onMouseMove,cr)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const n=this._getEventPrefix(),r=Yr(this.upperCanvasEl);wr(r,"touchend",this._onTouchEnd,cr),wr(r,"touchmove",this._onMouseMove,cr),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{bi(this.upperCanvasEl,"".concat(n,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const n=this.upperCanvasEl,r=this._getEventPrefix();if(this._isMainEvent(e)){const o=Yr(this.upperCanvasEl);wr(o,"".concat(r,"up"),this._onMouseUp),wr(o,"".concat(r,"move"),this._onMouseMove,cr),bi(n,"".concat(r,"move"),this._onMouseMove,cr)}}_onMouseMove(e){const n=this.getActiveObject();!this.allowTouchScrolling&&(!n||!n.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const n=this.getActiveObject();return!!n!=!!e||n&&e&&n!==e}__onMouseUp(e){var n;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const r=this._currentTransform,o=this._isClick,i=this._target,{button:a}=e;if(a)return(this.fireMiddleClick&&a===1||this.fireRightClick&&a===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let s,l,c=!1;if(r&&(this._finalizeCurrentTransform(e),c=r.actionPerformed),!o){const u=i===this._activeObject;this.handleSelection(e),c||(c=this._shouldRender(i)||!u&&i===this._activeObject)}if(i){const u=i.findControl(this.getViewportPoint(e),Tm(e)),{key:h,control:f}=u||{};if(l=h,i.selectable&&i!==this._activeObject&&i.activeOn==="up")this.setActiveObject(i,e),c=!0;else if(f){const p=f.getMouseUpHandler(e,i,f);p&&(s=this.getScenePoint(e),p.call(f,e,r,s.x,s.y))}i.isMoving=!1}if(r&&(r.target!==i||r.corner!==l)){const u=r.target&&r.target.controls[r.corner],h=u&&u.getMouseUpHandler(e,r.target,u);s=s||this.getScenePoint(e),h&&h.call(u,e,r,s.x,s.y)}this._setCursorFromEvent(e,i),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,i&&(i.__corner=void 0),c?this.requestRenderAll():o||(n=this._activeObject)!==null&&n!==void 0&&n.isEditing||this.renderTop()}_basicEventHandler(e,n){const{target:r,subTargets:o=[]}=n;this.fire(e,n),r&&r.fire(e,n);for(let i=0;i<o.length;i++)o[i]!==r&&o[i].fire(e,n);return n}_handleEvent(e,n,r){const o=this._target,i=this.targets||[],a=ee(ee(ee({e,target:o,subTargets:i},Va(this,e)),{},{transform:this._currentTransform},n==="up:before"||n==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),n==="down:before"||n==="down"?r:{});this.fire("mouse:".concat(n),a),o&&o.fire("mouse".concat(n),a);for(let s=0;s<i.length;s++)i[s]!==o&&i[s].fire("mouse".concat(n),a)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const n=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(n,{e,pointer:n}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const n=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(n,{e,pointer:n})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const n=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:n}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let n=this._target,r=!!n&&n===this._activeObject;const{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"down",{alreadySelected:r}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let i=this._shouldRender(n),a=!1;if(this.handleMultiSelection(e,n)?(n=this._activeObject,a=!0,i=!0):this._shouldClearSelection(e,n)&&this.discardActiveObject(e),this.selection&&(!n||!n.selectable&&!n.isEditing&&n!==this._activeObject)){const s=this.getScenePoint(e);this._groupSelector={x:s.x,y:s.y,deltaY:0,deltaX:0}}if(r=!!n&&n===this._activeObject,n){n.selectable&&n.activeOn==="down"&&this.setActiveObject(n,e);const s=n.findControl(this.getViewportPoint(e),Tm(e));if(n===this._activeObject&&(s||!a)){this._setupCurrentTransform(e,n,r);const l=s?s.control:void 0,c=this.getScenePoint(e),u=l&&l.getMouseDownHandler(e,n,l);u&&u.call(l,e,this._currentTransform,c.x,c.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:r}),i&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=us(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const n=this._groupSelector;if(n){const r=this.getScenePoint(e);n.deltaX=r.x-n.x,n.deltaY=r.y-n.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const r=this.findTarget(e);this._setCursorFromEvent(e,r),this._fireOverOutEvents(e,r)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,n){const r=this._hoveredTarget,o=this._hoveredTargets,i=this.targets,a=Math.max(o.length,i.length);this.fireSyntheticInOutEvents("mouse",{e,target:n,oldTarget:r,fireCanvas:!0});for(let s=0;s<a;s++)this.fireSyntheticInOutEvents("mouse",{e,target:i[s],oldTarget:o[s]});this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,n){const r=this._draggedoverTarget,o=this._hoveredTargets,i=this.targets,a=Math.max(o.length,i.length);this.fireSyntheticInOutEvents("drag",ee(ee({},n),{},{target:e,oldTarget:r,fireCanvas:!0}));for(let s=0;s<a;s++)this.fireSyntheticInOutEvents("drag",ee(ee({},n),{},{target:i[s],oldTarget:o[s]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,n){let{target:r,oldTarget:o,fireCanvas:i,e:a}=n,s=Nt(n,gG);const{targetIn:l,targetOut:c,canvasIn:u,canvasOut:h}=mG[e],f=o!==r;if(o&&f){const p=ee(ee({},s),{},{e:a,target:o,nextTarget:r},Va(this,a));i&&this.fire(h,p),o.fire(c,p)}if(r&&f){const p=ee(ee({},s),{},{e:a,target:r,previousTarget:o},Va(this,a));i&&this.fire(u,p),r.fire(l,p)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const n=this.getScenePoint(e),r=this._currentTransform,o=r.target,i=o.group?us(n,void 0,o.group.calcTransformMatrix()):n;r.shiftKey=e.shiftKey,r.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,r,i),r.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,n,r){const{action:o,actionHandler:i,target:a}=n,s=!!i&&i(e,n,r.x,r.y);s&&a.setCoords(),o==="drag"&&s&&(n.target.isMoving=!0,this.setCursor(n.target.moveCursor||this.moveCursor)),n.actionPerformed=n.actionPerformed||s}_setCursorFromEvent(e,n){if(!n)return void this.setCursor(this.defaultCursor);let r=n.hoverCursor||this.hoverCursor;const o=na(this._activeObject)?this._activeObject:null,i=(!o||n.group!==o)&&n.findControl(this.getViewportPoint(e));if(i){const a=i.control;this.setCursor(a.cursorStyleHandler(e,a,n))}else n.subTargetCheck&&this.targets.concat().reverse().map(a=>{r=a.hoverCursor||r}),this.setCursor(r)}handleMultiSelection(e,n){const r=this._activeObject,o=na(r);if(r&&this._isSelectionKeyPressed(e)&&this.selection&&n&&n.selectable&&(r!==n||o)&&(o||!n.isDescendantOf(r)&&!r.isDescendantOf(n))&&!n.onSelect({e})&&!r.getActiveControl()){if(o){const i=r.getObjects();if(n===r){const a=this.getViewportPoint(e);if(!(n=this.searchPossibleTargets(i,a)||this.searchPossibleTargets(this._objects,a))||!n.selectable)return!1}n.group===r?(r.remove(n),this._hoveredTarget=n,this._hoveredTargets=[...this.targets],r.size()===1&&this._setActiveObject(r.item(0),e)):(r.multiSelectAdd(n),this._hoveredTarget=r,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(i,e)}else{r.isEditing&&r.exitEditing();const i=new(De.getClass("ActiveSelection"))([],{canvas:this});i.multiSelectAdd(r,n),this._hoveredTarget=i,this._setActiveObject(i,e),this._fireSelectionEvents([r],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:n,y:r,deltaX:o,deltaY:i}=this._groupSelector,a=new ae(n,r),s=a.add(new ae(o,i)),l=a.min(s),c=a.max(s).subtract(l),u=this.collectObjects({left:l.x,top:l.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),h=a.eq(s)?u[0]?[u[0]]:[]:u.length>1?u.filter(f=>!f.onSelect({e})).reverse():u;if(h.length===1)this.setActiveObject(h[0],e);else if(h.length>1){const f=De.getClass("ActiveSelection");this.setActiveObject(new f(h,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const d5={x1:0,y1:0,x2:0,y2:0},vG=ee(ee({},d5),{},{r1:0,r2:0}),rs=(t,e)=>isNaN(t)&&typeof e=="number"?e:t,bG=/^(\d+\.\d+)%|(\d+)%$/;function h5(t){return t&&bG.test(t)}function f5(t,e){const n=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(h5(t)?100:1):NaN;return Rs(0,rs(n,e),1)}const yG=/\s*;\s*/,xG=/\s*:\s*/;function wG(t,e){let n,r;const o=t.getAttribute("style");if(o){const a=o.split(yG);a[a.length-1]===""&&a.pop();for(let s=a.length;s--;){const[l,c]=a[s].split(xG).map(u=>u.trim());l==="stop-color"?n=c:l==="stop-opacity"&&(r=c)}}const i=new Et(n||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:f5(t.getAttribute("offset"),0),color:i.toRgb(),opacity:rs(parseFloat(r||t.getAttribute("stop-opacity")||""),1)*i.getAlpha()*e}}function _G(t,e){const n=[],r=t.getElementsByTagName("stop"),o=f5(e,1);for(let i=r.length;i--;)n.push(wG(r[i],o));return n}function p5(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function g5(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Ir(t,e){return t.getAttribute(e)}function kG(t,e){return function(n,r){let o,{width:i,height:a,gradientUnits:s}=r;return Object.keys(n).reduce((l,c)=>{const u=n[c];return u==="Infinity"?o=1:u==="-Infinity"?o=0:(o=typeof u=="string"?parseFloat(u):u,typeof u=="string"&&h5(u)&&(o*=.01,s==="pixels"&&(c!=="x1"&&c!=="x2"&&c!=="r2"||(o*=i),c!=="y1"&&c!=="y2"||(o*=a)))),l[c]=o,l},{})}(p5(t)==="linear"?function(n){return{x1:Ir(n,"x1")||0,y1:Ir(n,"y1")||0,x2:Ir(n,"x2")||"100%",y2:Ir(n,"y2")||0}}(t):function(n){return{x1:Ir(n,"fx")||Ir(n,"cx")||"50%",y1:Ir(n,"fy")||Ir(n,"cy")||"50%",r1:0,x2:Ir(n,"cx")||"50%",y2:Ir(n,"cy")||"50%",r2:Ir(n,"r")||"50%"}}(t),ee(ee({},e),{},{gradientUnits:g5(t)}))}class pu{constructor(e){const{type:n="linear",gradientUnits:r="pixels",coords:o={},colorStops:i=[],offsetX:a=0,offsetY:s=0,gradientTransform:l,id:c}=e||{};Object.assign(this,{type:n,gradientUnits:r,coords:ee(ee({},n==="radial"?vG:d5),o),colorStops:i,offsetX:a,offsetY:s,gradientTransform:l,id:c?"".concat(c,"_").concat(Pi()):Pi()})}addColorStop(e){for(const n in e){const r=new Et(e[n]);this.colorStops.push({offset:parseFloat(n),color:r.toRgb(),opacity:r.getAlpha()})}return this}toObject(e){return ee(ee({},Ys(this,e)),{},{type:this.type,coords:ee({},this.coords),colorStops:this.colorStops.map(n=>ee({},n)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],o=this.gradientTransform?this.gradientTransform.concat():Vn.concat(),i=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",a=this.colorStops.map(h=>ee({},h)).sort((h,f)=>h.offset-f.offset);let s=-this.offsetX,l=-this.offsetY;var c;i==="objectBoundingBox"?(s/=e.width,l/=e.height):(s+=e.width/2,l+=e.height/2),(c=e)&&typeof c._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(s-=e.pathOffset.x,l-=e.pathOffset.y),o[4]-=s,o[5]-=l;const u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(i,'"'),'gradientTransform="'.concat(n?n+" ":"").concat(ec(o),'"'),""].join(" ");if(this.type==="linear"){const{x1:h,y1:f,x2:p,y2:m}=this.coords;r.push("<linearGradient ",u,' x1="',h,'" y1="',f,'" x2="',p,'" y2="',m,`">
`)}else if(this.type==="radial"){const{x1:h,y1:f,x2:p,y2:m,r1:v,r2:g}=this.coords,b=v>g;r.push("<radialGradient ",u,' cx="',b?h:p,'" cy="',b?f:m,'" r="',b?v:g,'" fx="',b?p:h,'" fy="',b?m:f,`">
`),b&&(a.reverse(),a.forEach(x=>{x.offset=1-x.offset}));const y=Math.min(v,g);if(y>0){const x=y/Math.max(v,g);a.forEach(w=>{w.offset+=x*(1-w.offset)})}}return a.forEach(h=>{let{color:f,offset:p,opacity:m}=h;r.push("<stop ",'offset="',100*p+"%",'" style="stop-color:',f,m!==void 0?";stop-opacity: "+m:";",`"/>
`)}),r.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),r.join("")}toLive(e){const{x1:n,y1:r,x2:o,y2:i,r1:a,r2:s}=this.coords,l=this.type==="linear"?e.createLinearGradient(n,r,o,i):e.createRadialGradient(n,r,a,o,i,s);return this.colorStops.forEach(c=>{let{color:u,opacity:h,offset:f}=c;l.addColorStop(f,h!==void 0?new Et(u).setAlpha(h).toRgba():u)}),l}static async fromObject(e){const{colorStops:n,gradientTransform:r}=e;return new this(ee(ee({},e),{},{colorStops:n?n.map(o=>ee({},o)):void 0,gradientTransform:r?[...r]:void 0}))}static fromElement(e,n,r){const o=g5(e),i=n._findCenterFromElement();return new this(ee({id:e.getAttribute("id")||void 0,type:p5(e),coords:kG(e,{width:r.viewBoxWidth||r.width,height:r.viewBoxHeight||r.height}),colorStops:_G(e,r.opacity),gradientUnits:o,gradientTransform:$m(e.getAttribute("gradientTransform")||"")},o==="pixels"?{offsetX:n.width/2-i.x,offsetY:n.height/2-i.y}:{offsetX:0,offsetY:0}))}}J(pu,"type","Gradient"),De.setClass(pu,"gradient"),De.setClass(pu,"linear"),De.setClass(pu,"radial");const CG=["type","source","patternTransform"];class Wp{get type(){return"pattern"}set type(e){Di("warn","Setting type has no effect",e)}constructor(e){J(this,"repeat","repeat"),J(this,"offsetX",0),J(this,"offsetY",0),J(this,"crossOrigin",""),this.id=Pi(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:n,crossOrigin:r}=this;return ee(ee({},Ys(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:n,crossOrigin:r,offsetX:Rt(this.offsetX,mt.NUM_FRACTION_DIGITS),offsetY:Rt(this.offsetY,mt.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:n,height:r}=e;const{source:o,repeat:i,id:a}=this,s=rs(this.offsetX/n,0),l=rs(this.offsetY/r,0),c=i==="repeat-y"||i==="no-repeat"?1+Math.abs(s||0):rs(o.width/n,0),u=i==="repeat-x"||i==="no-repeat"?1+Math.abs(l||0):rs(o.height/r,0);return['<pattern id="SVGID_'.concat(a,'" x="').concat(s,'" y="').concat(l,'" width="').concat(c,'" height="').concat(u,'">'),'<image x="0" y="0" width="'.concat(o.width,'" height="').concat(o.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,n){let{type:r,source:o,patternTransform:i}=e,a=Nt(e,CG);const s=await ld(o,ee(ee({},n),{},{crossOrigin:a.crossOrigin}));return new this(ee(ee({},a),{},{patternTransform:i&&i.slice(0),source:s}))}}J(Wp,"type","Pattern"),De.setClass(Wp),De.setClass(Wp,"pattern");const SG=["path","left","top"],EG=["d"];class ra extends Ln{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:r,left:o,top:i}=n,a=Nt(n,SG);super(),Object.assign(this,ra.ownDefaults),this.setOptions(a),this._setPath(e||[],!0),typeof o=="number"&&this.set(_t,o),typeof i=="number"&&this.set(er,i)}_setPath(e,n){this.path=nG(Array.isArray(e)?e:dG(e)),this.setBoundingBox(n)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new ae(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const n=-this.pathOffset.x,r=-this.pathOffset.y;e.beginPath();for(const o of this.path)switch(o[0]){case"L":e.lineTo(o[1]+n,o[2]+r);break;case"M":e.moveTo(o[1]+n,o[2]+r);break;case"C":e.bezierCurveTo(o[1]+n,o[2]+r,o[3]+n,o[4]+r,o[5]+n,o[6]+r);break;case"Q":e.quadraticCurveTo(o[1]+n,o[2]+r,o[3]+n,o[4]+r);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee(ee({},super.toObject(e)),{},{path:this.path.map(n=>n.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.toObject(e);return this.sourcePath&&(delete n.path,n.sourcePath=this.sourcePath),n}_toSVG(){const e=hG(this.path,mt.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=mt.NUM_FRACTION_DIGITS;return" translate(".concat(Rt(-this.pathOffset.x,e),", ").concat(Rt(-this.pathOffset.y,e),")")}toClipPathSVG(e){const n=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:n})}toSVG(e){const n=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:n})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:n,height:r,pathOffset:o}=this._calcDimensions();this.set({width:n,height:r,pathOffset:o}),e&&this.setPositionByOrigin(o,ot,ot)}_calcBoundsFromPath(){const e=[];let n=0,r=0,o=0,i=0;for(const a of this.path)switch(a[0]){case"L":o=a[1],i=a[2],e.push({x:n,y:r},{x:o,y:i});break;case"M":o=a[1],i=a[2],n=o,r=i;break;case"C":e.push(...C2(o,i,a[1],a[2],a[3],a[4],a[5],a[6])),o=a[5],i=a[6];break;case"Q":e.push(...C2(o,i,a[1],a[2],a[1],a[2],a[3],a[4])),o=a[3],i=a[4];break;case"Z":o=n,i=r}return Go(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return ee(ee({},e),{},{pathOffset:new ae(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,n,r){const o=ci(e,this.ATTRIBUTE_NAMES,r),{d:i}=o;return new this(i,ee(ee(ee({},Nt(o,EG)),n),{},{left:void 0,top:void 0}))}}J(ra,"type","Path"),J(ra,"cacheProperties",[...li,"path","fillRule"]),J(ra,"ATTRIBUTE_NAMES",[...Ui,"d"]),De.setClass(ra),De.setSVGClass(ra);const TG=["left","top","radius"],m5=["radius","startAngle","endAngle","counterClockwise"];let Ji=class Fm extends Ln{static getDefaults(){return ee(ee({},super.getDefaults()),Fm.ownDefaults)}constructor(e){super(),Object.assign(this,Fm.ownDefaults),this.setOptions(e)}_set(e,n){return super._set(e,n),e==="radius"&&this.setRadius(n),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Qt(this.startAngle),Qt(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(ir)}getRadiusY(){return this.get("radius")*this.get(Ar)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...m5,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:n}=this,r=Qt(this.startAngle),o=Qt(this.endAngle),i=ti(r)*n,a=ni(r)*n,s=ti(o)*n,l=ni(o)*n,c=e>180?1:0,u=this.counterClockwise?0:1;return['<path d="M '.concat(i," ").concat(a," A ").concat(n," ").concat(n," 0 ").concat(c," ").concat(u," ").concat(s," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,n,r){const o=ci(e,this.ATTRIBUTE_NAMES,r),{left:i=0,top:a=0,radius:s=0}=o;return new this(ee(ee({},Nt(o,TG)),{},{radius:s,left:i-s,top:a-s}))}static fromObject(e){return super._fromObject(e)}};J(Ji,"type","Circle"),J(Ji,"cacheProperties",[...li,...m5]),J(Ji,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),J(Ji,"ATTRIBUTE_NAMES",["cx","cy","r",...Ui]),De.setClass(Ji),De.setSVGClass(Ji);const OG=["x1","y1","x2","y2"],AG=["x1","y1","x2","y2"],Im=["x1","x2","y1","y2"];let fl=class v5 extends Ln{constructor(){let[e,n,r,o]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,v5.ownDefaults),this.setOptions(i),this.x1=e,this.x2=r,this.y1=n,this.y2=o,this._setWidthHeight();const{left:a,top:s}=i;typeof a=="number"&&this.set(_t,a),typeof s=="number"&&this.set(er,s)}_setWidthHeight(){const{x1:e,y1:n,x2:r,y2:o}=this;this.width=Math.abs(r-e),this.height=Math.abs(o-n);const{left:i,top:a,width:s,height:l}=Go([{x:e,y:n},{x:r,y:o}]),c=new ae(i+s/2,a+l/2);this.setPositionByOrigin(c,ot,ot)}_set(e,n){return super._set(e,n),Im.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const n=this.calcLinePoints();e.moveTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineWidth=this.strokeWidth;const r=e.strokeStyle;var o;Er(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(o=this.stroke)!==null&&o!==void 0?o:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=r}_findCenterFromElement(){return new ae((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee(ee({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:n,y1:r,y2:o,width:i,height:a}=this,s=e<=n?-1:1,l=r<=o?-1:1;return{x1:s*i/2,x2:s*-i/2,y1:l*a/2,y2:l*-a/2}}_toSVG(){const{x1:e,x2:n,y1:r,y2:o}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(r,'" x2="').concat(n,'" y2="').concat(o,`" />
`)]}static async fromElement(e,n,r){const o=ci(e,this.ATTRIBUTE_NAMES,r),{x1:i=0,y1:a=0,x2:s=0,y2:l=0}=o;return new this([i,a,s,l],Nt(o,OG))}static fromObject(e){let{x1:n,y1:r,x2:o,y2:i}=e,a=Nt(e,AG);return this._fromObject(ee(ee({},a),{},{points:[n,r,o,i]}),{extraParam:"points"})}};J(fl,"type","Line"),J(fl,"cacheProperties",[...li,...Im]),J(fl,"ATTRIBUTE_NAMES",Ui.concat(Im)),De.setClass(fl),De.setSVGClass(fl);class ha extends Ln{static getDefaults(){return ee(ee({},super.getDefaults()),ha.ownDefaults)}constructor(e){super(),Object.assign(this,ha.ownDefaults),this.setOptions(e)}_render(e){const n=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-n,r),e.lineTo(0,-r),e.lineTo(n,r),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,n=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(n,",0 ").concat(-n,",").concat(e," ").concat(n),'" />']}}J(ha,"type","Triangle"),J(ha,"ownDefaults",{width:100,height:100}),De.setClass(ha),De.setSVGClass(ha);const b5=["rx","ry"];class No extends Ln{static getDefaults(){return ee(ee({},super.getDefaults()),No.ownDefaults)}constructor(e){super(),Object.assign(this,No.ownDefaults),this.setOptions(e)}_set(e,n){switch(super._set(e,n),e){case"rx":this.rx=n,this.set("width",2*n);break;case"ry":this.ry=n,this.set("height",2*n)}return this}getRx(){return this.get("rx")*this.get(ir)}getRy(){return this.get("ry")*this.get(Ar)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...b5,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,Gd,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,n,r){const o=ci(e,this.ATTRIBUTE_NAMES,r);return o.left=(o.left||0)-o.rx,o.top=(o.top||0)-o.ry,new this(o)}}function MG(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),n=[];for(let r=0;r<e.length;r+=2)n.push({x:parseFloat(e[r]),y:parseFloat(e[r+1])});return n}J(No,"type","Ellipse"),J(No,"cacheProperties",[...li,...b5]),J(No,"ownDefaults",{rx:0,ry:0}),J(No,"ATTRIBUTE_NAMES",[...Ui,"cx","cy","rx","ry"]),De.setClass(No),De.setSVGClass(No);const $G=["left","top"],y5={exactBoundingBox:!1};class zr extends Ln{static getDefaults(){return ee(ee({},super.getDefaults()),zr.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),J(this,"strokeDiff",void 0),Object.assign(this,zr.ownDefaults),this.setOptions(n),this.points=e;const{left:r,top:o}=n;this.initialized=!0,this.setBoundingBox(!0),typeof r=="number"&&this.set(_t,r),typeof o=="number"&&this.set(er,o)}isOpen(){return!0}_projectStrokeOnPoints(e){return yY(this.points,e,this.isOpen())}_calcDimensions(e){e=ee({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const n=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(c=>c.projectedPoint):this.points;if(n.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new ae,strokeOffset:new ae,strokeDiff:new ae};const r=Go(n),o=of(ee(ee({},e),{},{scaleX:1,scaleY:1})),i=Go(this.points.map(c=>Gn(c,o,!0))),a=new ae(this.scaleX,this.scaleY);let s=r.left+r.width/2,l=r.top+r.height/2;return this.exactBoundingBox&&(s-=l*Math.tan(Qt(this.skewX)),l-=s*Math.tan(Qt(this.skewY))),ee(ee({},r),{},{pathOffset:new ae(s,l),strokeOffset:new ae(i.left,i.top).subtract(new ae(r.left,r.top)).multiply(a),strokeDiff:new ae(r.width,r.height).subtract(new ae(i.width,i.height)).multiply(a)})}_findCenterFromElement(){const e=Go(this.points);return new ae(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:n,top:r,width:o,height:i,pathOffset:a,strokeOffset:s,strokeDiff:l}=this._calcDimensions();this.set({width:o,height:i,pathOffset:a,strokeOffset:s,strokeDiff:l}),e&&this.setPositionByOrigin(new ae(n+o/2,r+i/2),ot,ot)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ae(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let a;if(Object.keys(e).some(s=>this.strokeUniform||this.constructor.layoutProperties.includes(s))){var n,r;const{width:s,height:l}=this._calcDimensions(e);a=new ae((n=e.width)!==null&&n!==void 0?n:s,(r=e.height)!==null&&r!==void 0?r:l)}else{var o,i;a=new ae((o=e.width)!==null&&o!==void 0?o:this.width,(i=e.height)!==null&&i!==void 0?i:this.height)}return a.multiply(new ae(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,n){const r=this.initialized&&this[e]!==n,o=super._set(e,n);return this.exactBoundingBox&&r&&((e===ir||e===Ar)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),o}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee(ee({},super.toObject(e)),{},{points:this.points.map(n=>{let{x:r,y:o}=n;return{x:r,y:o}})})}_toSVG(){const e=[],n=this.pathOffset.x,r=this.pathOffset.y,o=mt.NUM_FRACTION_DIGITS;for(let i=0,a=this.points.length;i<a;i++)e.push(Rt(this.points[i].x-n,o),",",Rt(this.points[i].y-r,o)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const n=this.points.length,r=this.pathOffset.x,o=this.pathOffset.y;if(n&&!isNaN(this.points[n-1].y)){e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-o);for(let i=0;i<n;i++){const a=this.points[i];e.lineTo(a.x-r,a.y-o)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,n,r){return new this(MG(e.getAttribute("points")),ee(ee({},Nt(ci(e,this.ATTRIBUTE_NAMES,r),$G)),n))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}J(zr,"ownDefaults",y5),J(zr,"type","Polyline"),J(zr,"layoutProperties",[Ws,Vs,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),J(zr,"cacheProperties",[...li,"points"]),J(zr,"ATTRIBUTE_NAMES",[...Ui]),De.setClass(zr),De.setSVGClass(zr);let gu=class extends zr{isOpen(){return!1}};J(gu,"ownDefaults",y5),J(gu,"type","Polygon"),De.setClass(gu),De.setSVGClass(gu);class x5 extends Ln{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const n=e===void 0?this.styles:{line:this.styles[e]};for(const r in n)for(const o in n[r])for(const i in n[r][o])return!1;return!0}styleHas(e,n){if(!this.styles||n!==void 0&&!this.styles[n])return!1;const r=n===void 0?this.styles:{0:this.styles[n]};for(const o in r)for(const i in r[o])if(r[o][i][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const n=this.styles;let r,o,i=0,a=!0,s=0;for(const l in n){r=0;for(const c in n[l]){const u=n[l][c]||{};i++,u[e]!==void 0?(o?u[e]!==o&&(a=!1):o=u[e],u[e]===this[e]&&delete u[e]):a=!1,Object.keys(u).length!==0?r++:delete n[l][c]}r===0&&delete n[l]}for(let l=0;l<this._textLines.length;l++)s+=this._textLines[l].length;a&&i===s&&(this[e]=o,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const n=this.styles;let r,o,i;for(o in n){for(i in r=n[o],r)delete r[i][e],Object.keys(r[i]).length===0&&delete r[i];Object.keys(r).length===0&&delete n[o]}}_extendStyles(e,n){const{lineIndex:r,charIndex:o}=this.get2DCursorLocation(e);this._getLineStyle(r)||this._setLineStyle(r);const i=sv(ee(ee({},this._getStyleDeclaration(r,o)),n),a=>a!==void 0);this._setStyleDeclaration(r,o,i)}getSelectionStyles(e,n,r){const o=[];for(let i=e;i<(n||e);i++)o.push(this.getStyleAtPosition(i,r));return o}getStyleAtPosition(e,n){const{lineIndex:r,charIndex:o}=this.get2DCursorLocation(e);return n?this.getCompleteStyleDeclaration(r,o):this._getStyleDeclaration(r,o)}setSelectionStyles(e,n,r){for(let o=n;o<(r||n);o++)this._extendStyles(o,e);this._forceClearCache=!0}_getStyleDeclaration(e,n){var r;const o=this.styles&&this.styles[e];return o&&(r=o[n])!==null&&r!==void 0?r:{}}getCompleteStyleDeclaration(e,n){return ee(ee({},Ys(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,n))}_setStyleDeclaration(e,n,r){this.styles[e][n]=r}_deleteStyleDeclaration(e,n){delete this.styles[e][n]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}J(x5,"_styleProperties",LX);const RG=/  +/g,DG=/"/g;function Vp(t,e,n,r,o){return"		".concat(function(i,a){let{left:s,top:l,width:c,height:u}=a,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mt.NUM_FRACTION_DIGITS;const f=tc(pn,i,!1),[p,m,v,g]=[s,l,c,u].map(b=>Rt(b,h));return"<rect ".concat(f,' x="').concat(p,'" y="').concat(m,'" width="').concat(v,'" height="').concat(g,'"></rect>')}(t,{left:e,top:n,width:r,height:o}),`
`)}const PG=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Xp;class zn extends x5{static getDefaults(){return ee(ee({},super.getDefaults()),zn.ownDefaults)}constructor(e,n){super(),J(this,"__charBounds",[]),Object.assign(this,zn.ownDefaults),this.setOptions(n),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=u5(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(go)&&this.enlargeSpaces()}enlargeSpaces(){let e,n,r,o,i,a,s;for(let l=0,c=this._textLines.length;l<c;l++)if((this.textAlign===go||l!==c-1&&!this.isEndOfWrapping(l))&&(o=0,i=this._textLines[l],n=this.getLineWidth(l),n<this.width&&(s=this.textLines[l].match(this._reSpacesAndTabs)))){r=s.length,e=(this.width-n)/r;for(let u=0;u<=i.length;u++)a=this.__charBounds[l][u],this._reSpaceAndTab.test(i[u])?(a.width+=e,a.kernedWidth+=e,a.left+=o,o+=e):a.left+=o}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,n){const r=n?this._unwrappedTextLines:this._textLines;let o;for(o=0;o<r.length;o++){if(e<=r[o].length)return{lineIndex:o,charIndex:e};e-=r[o].length+this.missingNewlineOffset(o,n)}return{lineIndex:o-1,charIndex:r[o-1].length<e?r[o-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),n=this.fontSize;return e.width+=n*e.zoomX,e.height+=n*e.zoomY,e}_render(e){const n=this.path;n&&!n.isNotVisible()&&n._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===nr?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,n,r){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case ot:e.textBaseline="middle";break;case"ascender":e.textBaseline=er;break;case"descender":e.textBaseline=Sm}e.font=this._getFontDeclaration(n,r)}calcTextWidth(){let e=this.getLineWidth(0);for(let n=1,r=this._textLines.length;n<r;n++){const o=this.getLineWidth(n);o>e&&(e=o)}return e}_renderTextLine(e,n,r,o,i,a){this._renderChars(e,n,r,o,i,a)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const n=e.fillStyle,r=this._getLeftOffset();let o=this._getTopOffset();for(let i=0,a=this._textLines.length;i<a;i++){const s=this.getHeightOfLine(i);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",i)){o+=s;continue}const l=this._textLines[i].length,c=this._getLineLeftOffset(i);let u,h,f=0,p=0,m=this.getValueOfPropertyAt(i,0,"textBackgroundColor");for(let v=0;v<l;v++){const g=this.__charBounds[i][v];h=this.getValueOfPropertyAt(i,v,"textBackgroundColor"),this.path?(e.save(),e.translate(g.renderLeft,g.renderTop),e.rotate(g.angle),e.fillStyle=h,h&&e.fillRect(-g.width/2,-s/this.lineHeight*(1-this._fontSizeFraction),g.width,s/this.lineHeight),e.restore()):h!==m?(u=r+c+p,this.direction==="rtl"&&(u=this.width-u-f),e.fillStyle=m,m&&e.fillRect(u,o,f,s/this.lineHeight),p=g.left,f=g.width,m=h):f+=g.kernedWidth}h&&!this.path&&(u=r+c+p,this.direction==="rtl"&&(u=this.width-u-f),e.fillStyle=h,e.fillRect(u,o,f,s/this.lineHeight)),o+=s}e.fillStyle=n,this._removeShadow(e)}_measureChar(e,n,r,o){const i=$l.getFontCache(n),a=this._getFontDeclaration(n),s=r+e,l=r&&a===this._getFontDeclaration(o),c=n.fontSize/this.CACHE_FONT_SIZE;let u,h,f,p;if(r&&i[r]!==void 0&&(f=i[r]),i[e]!==void 0&&(p=u=i[e]),l&&i[s]!==void 0&&(h=i[s],p=h-f),u===void 0||f===void 0||h===void 0){const m=function(){return Xp||(Xp=Mr({width:0,height:0}).getContext("2d")),Xp}();this._setTextStyles(m,n,!0),u===void 0&&(p=u=m.measureText(e).width,i[e]=u),f===void 0&&l&&r&&(f=m.measureText(r).width,i[r]=f),l&&h===void 0&&(h=m.measureText(s).width,i[s]=h,p=h-f)}return{width:u*c,kernedWidth:p*c}}getHeightOfChar(e,n){return this.getValueOfPropertyAt(e,n,"fontSize")}measureLine(e){const n=this._measureLine(e);return this.charSpacing!==0&&(n.width-=this._getWidthOfCharSpacing()),n.width<0&&(n.width=0),n}_measureLine(e){let n,r,o=0;const i=this.pathSide===Zt,a=this.path,s=this._textLines[e],l=s.length,c=new Array(l);this.__charBounds[e]=c;for(let u=0;u<l;u++){const h=s[u];r=this._getGraphemeBox(h,e,u,n),c[u]=r,o+=r.kernedWidth,n=h}if(c[l]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},a&&a.segmentsInfo){let u=0;const h=a.segmentsInfo[a.segmentsInfo.length-1].length;switch(this.textAlign){case _t:u=i?h-o:0;break;case ot:u=(h-o)/2;break;case Zt:u=i?0:h-o}u+=this.pathStartOffset*(i?-1:1);for(let f=i?l-1:0;i?f>=0:f<l;i?f--:f++)r=c[f],u>h?u%=h:u<0&&(u+=h),this._setGraphemeOnPath(u,r),u+=r.kernedWidth}return{width:o,numOfSpaces:0}}_setGraphemeOnPath(e,n){const r=e+n.kernedWidth/2,o=this.path,i=sG(o.path,r,o.segmentsInfo);n.renderLeft=i.x-o.pathOffset.x,n.renderTop=i.y-o.pathOffset.y,n.angle=i.angle+(this.pathSide===Zt?Math.PI:0)}_getGraphemeBox(e,n,r,o,i){const a=this.getCompleteStyleDeclaration(n,r),s=o?this.getCompleteStyleDeclaration(n,r-1):{},l=this._measureChar(e,a,o,s);let c,u=l.kernedWidth,h=l.width;this.charSpacing!==0&&(c=this._getWidthOfCharSpacing(),h+=c,u+=c);const f={width:h,left:0,height:a.fontSize,kernedWidth:u,deltaY:a.deltaY};if(r>0&&!i){const p=this.__charBounds[n][r-1];f.left=p.left+p.width+l.kernedWidth-l.width}return f}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let n=this.getHeightOfChar(e,0);for(let r=1,o=this._textLines[e].length;r<o;r++)n=Math.max(this.getHeightOfChar(e,r),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,n=0;for(let r=0,o=this._textLines.length;r<o;r++)e=this.getHeightOfLine(r),n+=r===o-1?e/this.lineHeight:e;return n}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,n){e.save();let r=0;const o=this._getLeftOffset(),i=this._getTopOffset();for(let a=0,s=this._textLines.length;a<s;a++){const l=this.getHeightOfLine(a),c=l/this.lineHeight,u=this._getLineLeftOffset(a);this._renderTextLine(n,e,this._textLines[a],o+u,i+r+c,a),r+=l}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(pn))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,n,r,o,i,a){const s=this.getHeightOfLine(a),l=this.textAlign.includes(go),c=this.path,u=!l&&this.charSpacing===0&&this.isEmptyStyles(a)&&!c,h=this.direction==="ltr",f=this.direction==="ltr"?1:-1,p=n.direction;let m,v,g,b,y,x="",w=0;if(n.save(),p!==this.direction&&(n.canvas.setAttribute("dir",h?"ltr":"rtl"),n.direction=h?"ltr":"rtl",n.textAlign=h?_t:Zt),i-=s*this._fontSizeFraction/this.lineHeight,u)return this._renderChar(e,n,a,0,r.join(""),o,i),void n.restore();for(let _=0,k=r.length-1;_<=k;_++)b=_===k||this.charSpacing||c,x+=r[_],g=this.__charBounds[a][_],w===0?(o+=f*(g.kernedWidth-g.width),w+=g.width):w+=g.kernedWidth,l&&!b&&this._reSpaceAndTab.test(r[_])&&(b=!0),b||(m=m||this.getCompleteStyleDeclaration(a,_),v=this.getCompleteStyleDeclaration(a,_+1),b=gv(m,v,!1)),b&&(c?(n.save(),n.translate(g.renderLeft,g.renderTop),n.rotate(g.angle),this._renderChar(e,n,a,_,x,-w/2,0),n.restore()):(y=o,this._renderChar(e,n,a,_,x,y,i)),x="",m=v,o+=f*w,w=0);n.restore()}_applyPatternGradientTransformText(e){const n=this.width+this.strokeWidth,r=this.height+this.strokeWidth,o=Mr({width:n,height:r}),i=o.getContext("2d");return o.width=n,o.height=r,i.beginPath(),i.moveTo(0,0),i.lineTo(n,0),i.lineTo(n,r),i.lineTo(0,r),i.closePath(),i.translate(n/2,r/2),i.fillStyle=e.toLive(i),this._applyPatternGradientTransform(i,e),i.fill(),i.createPattern(o,"no-repeat")}handleFiller(e,n,r){let o,i;return Er(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(o=-this.width/2,i=-this.height/2,e.translate(o,i),e[n]=this._applyPatternGradientTransformText(r),{offsetX:o,offsetY:i}):(e[n]=r.toLive(e),this._applyPatternGradientTransform(e,r)):(e[n]=r,{offsetX:0,offsetY:0})}_setStrokeStyles(e,n){let{stroke:r,strokeWidth:o}=n;return e.lineWidth=o,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",r)}_setFillStyles(e,n){let{fill:r}=n;return this.handleFiller(e,"fillStyle",r)}_renderChar(e,n,r,o,i,a,s){const l=this._getStyleDeclaration(r,o),c=this.getCompleteStyleDeclaration(r,o),u=e==="fillText"&&c.fill,h=e==="strokeText"&&c.stroke&&c.strokeWidth;if(h||u){if(n.save(),n.font=this._getFontDeclaration(c),l.textBackgroundColor&&this._removeShadow(n),l.deltaY&&(s+=l.deltaY),u){const f=this._setFillStyles(n,c);n.fillText(i,a-f.offsetX,s-f.offsetY)}if(h){const f=this._setStrokeStyles(n,c);n.strokeText(i,a-f.offsetX,s-f.offsetY)}n.restore()}}setSuperscript(e,n){this._setScript(e,n,this.superscript)}setSubscript(e,n){this._setScript(e,n,this.subscript)}_setScript(e,n,r){const o=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(o.lineIndex,o.charIndex,"fontSize"),a=this.getValueOfPropertyAt(o.lineIndex,o.charIndex,"deltaY"),s={fontSize:i*r.size,deltaY:a+i*r.baseline};this.setSelectionStyles(s,e,n)}_getLineLeftOffset(e){const n=this.getLineWidth(e),r=this.width-n,o=this.textAlign,i=this.direction,a=this.isEndOfWrapping(e);let s=0;return o===go||o===Dl&&!a||o===Rl&&!a||o===th&&!a?0:(o===ot&&(s=r/2),o===Zt&&(s=r),o===Dl&&(s=r/2),o===Rl&&(s=r),i==="rtl"&&(o===Zt||o===go||o===Rl?s=0:o===_t||o===th?s=-r:o!==ot&&o!==Dl||(s=-r/2)),s)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:n}=this.measureLine(e);return this.__lineWidths[e]=n,n}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,n,r){var o;return(o=this._getStyleDeclaration(e,n)[r])!==null&&o!==void 0?o:this[r]}_renderTextDecoration(e,n){if(!this[n]&&!this.styleHas(n))return;let r=this._getTopOffset();const o=this._getLeftOffset(),i=this.path,a=this._getWidthOfCharSpacing(),s=n==="linethrough"?.5:n==="overline"?1:0,l=this.offsets[n];for(let c=0,u=this._textLines.length;c<u;c++){const h=this.getHeightOfLine(c);if(!this[n]&&!this.styleHas(n,c)){r+=h;continue}const f=this._textLines[c],p=h/this.lineHeight,m=this._getLineLeftOffset(c);let v=0,g=0,b=this.getValueOfPropertyAt(c,0,n),y=this.getValueOfPropertyAt(c,0,pn),x=this.getValueOfPropertyAt(c,0,Ea),w=b,_=y,k=x;const E=r+p*(1-this._fontSizeFraction);let $=this.getHeightOfChar(c,0),A=this.getValueOfPropertyAt(c,0,"deltaY");for(let S=0,T=f.length;S<T;S++){const C=this.__charBounds[c][S];w=this.getValueOfPropertyAt(c,S,n),_=this.getValueOfPropertyAt(c,S,pn),k=this.getValueOfPropertyAt(c,S,Ea);const M=this.getHeightOfChar(c,S),R=this.getValueOfPropertyAt(c,S,"deltaY");if(i&&w&&_){const L=this.fontSize*k/1e3;e.save(),e.fillStyle=y,e.translate(C.renderLeft,C.renderTop),e.rotate(C.angle),e.fillRect(-C.kernedWidth/2,l*M+R-s*L,C.kernedWidth,L),e.restore()}else if((w!==b||_!==y||M!==$||k!==x||R!==A)&&g>0){const L=this.fontSize*x/1e3;let P=o+m+v;this.direction==="rtl"&&(P=this.width-P-g),b&&y&&x&&(e.fillStyle=y,e.fillRect(P,E+l*$+A-s*L,g,L)),v=C.left,g=C.width,b=w,x=k,y=_,$=M,A=R}else g+=C.kernedWidth}let D=o+m+v;this.direction==="rtl"&&(D=this.width-D-g),e.fillStyle=_;const O=this.fontSize*k/1e3;w&&_&&k&&e.fillRect(D,E+l*$+A-s*O,g-a,O),r+=h}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:n=this.fontStyle,fontWeight:r=this.fontWeight,fontSize:o=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;const a=e.includes("'")||e.includes('"')||e.includes(",")||zn.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[n,r,"".concat(i?this.CACHE_FONT_SIZE:o,"px"),a].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return pv(e)}_splitTextIntoLines(e){const n=e.split(this._reNewline),r=new Array(n.length),o=[`
`];let i=[];for(let a=0;a<n.length;a++)r[a]=this.graphemeSplit(n[a]),i=i.concat(r[a],o);return i.pop(),{_unwrappedLines:r,lines:n,graphemeText:i,graphemeLines:r}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee(ee({},super.toObject([...XS,...e])),{},{styles:kY(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,n){const{textLayoutProperties:r}=this.constructor;super.set(e,n);let o=!1,i=!1;if(typeof e=="object")for(const a in e)a==="path"&&this.setPathInfo(),o=o||r.includes(a),i=i||a==="path";else o=r.includes(e),i=e==="path";return i&&this.setPathInfo(),o&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,n,r){const o=ci(e,zn.ATTRIBUTE_NAMES,r),i=ee(ee({},n),o),{textAnchor:a=_t,textDecoration:s="",dx:l=0,dy:c=0,top:u=0,left:h=0,fontSize:f=tv,strokeWidth:p=1}=i,m=Nt(i,PG),v=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),ee({left:h+l,top:u+c,underline:s.includes("underline"),overline:s.includes("overline"),linethrough:s.includes("line-through"),strokeWidth:0,fontSize:f},m)),g=v.getScaledHeight()/v.height,b=((v.height+v.strokeWidth)*v.lineHeight-v.height)*g,y=v.getScaledHeight()+b;let x=0;return a===ot&&(x=v.getScaledWidth()/2),a===Zt&&(x=v.getScaledWidth()),v.set({left:v.left-x,top:v.top-(y-v.fontSize*(.07+v._fontSizeFraction))/v.lineHeight,strokeWidth:p}),v}static fromObject(e){return this._fromObject(ee(ee({},e),{},{styles:CY(e.styles||{},e.text)}),{extraParam:"text"})}}J(zn,"textLayoutProperties",VS),J(zn,"cacheProperties",[...li,...XS]),J(zn,"ownDefaults",FX),J(zn,"type","Text"),J(zn,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),J(zn,"ATTRIBUTE_NAMES",Ui.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),t5(zn,[class extends US{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0}),n=this.path;return n?e+n._createBaseSVGMarkup(n._toSVG(),{reviver:t,withShadow:!0,additionalTransform:ec(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:n}=t;const r=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(DG,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",r?'text-decoration="'.concat(r,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",n.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const n=[],r=[];let o,i=t;this.backgroundColor&&r.push(...Vp(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let a=0,s=this._textLines.length;a<s;a++)o=this._getLineLeftOffset(a),this.direction==="rtl"&&(o+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(r,a,e+o,i),this._setSVGTextLineText(n,a,e+o,i),i+=this.getHeightOfLine(a);return{textSpans:n,textBgRects:r}}_createTextCharSpan(t,e,n,r,o){const i=mt.NUM_FRACTION_DIGITS,a=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(RG)),s=a?'style="'.concat(a,'"'):"",l=e.deltaY,c=l?' dy="'.concat(Rt(l,i),'" '):"",{angle:u,renderLeft:h,renderTop:f,width:p}=o;let m="";if(h!==void 0){const v=p/2;u&&(m=' rotate="'.concat(Rt(oi(u),i),'"'));const g=Xs({angle:oi(u)});g[4]=h,g[5]=f;const b=new ae(-v,0).transform(g);n=b.x,r=b.y}return'<tspan x="'.concat(Rt(n,i),'" y="').concat(Rt(r,i),'" ').concat(c).concat(m).concat(s,">").concat(xY(t),"</tspan>")}_setSVGTextLineText(t,e,n,r){const o=this.getHeightOfLine(e),i=this.textAlign.includes(go),a=this._textLines[e];let s,l,c,u,h,f="",p=0;r+=o*(1-this._fontSizeFraction)/this.lineHeight;for(let m=0,v=a.length-1;m<=v;m++)h=m===v||this.charSpacing||this.path,f+=a[m],c=this.__charBounds[e][m],p===0?(n+=c.kernedWidth-c.width,p+=c.width):p+=c.kernedWidth,i&&!h&&this._reSpaceAndTab.test(a[m])&&(h=!0),h||(s=s||this.getCompleteStyleDeclaration(e,m),l=this.getCompleteStyleDeclaration(e,m+1),h=gv(s,l,!0)),h&&(u=this._getStyleDeclaration(e,m),t.push(this._createTextCharSpan(f,u,n,r,c)),f="",s=l,this.direction==="rtl"?n-=p:n+=p,p=0)}_setSVGTextLineBg(t,e,n,r){const o=this._textLines[e],i=this.getHeightOfLine(e)/this.lineHeight;let a,s=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let u=0;u<o.length;u++){const{left:h,width:f,kernedWidth:p}=this.__charBounds[e][u];a=this.getValueOfPropertyAt(e,u,"textBackgroundColor"),a!==c?(c&&t.push(...Vp(c,n+l,r,s,i)),l=h,s=f,c=a):s+=p}a&&t.push(...Vp(c,n+l,r,s,i))}_getSVGLineTopOffset(t){let e,n=0;for(e=0;e<t;e++)n+=this.getHeightOfLine(e);const r=this.getHeightOfLine(e);return{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," text-decoration-thickness: ").concat(Rt(this.textDecorationThickness*this.getObjectScaling().y/10,mt.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:n,strokeWidth:r,stroke:o,fill:i,fontSize:a,fontStyle:s,fontWeight:l,deltaY:c,textDecorationThickness:u,linethrough:h,overline:f,underline:p}=t,m=this.getSvgTextDecoration({underline:p??this.underline,overline:f??this.overline,linethrough:h??this.linethrough}),v=u||this.textDecorationThickness;return[o?tc(nr,o):"",r?"stroke-width: ".concat(r,"; "):"",n?"font-family: ".concat(n.includes("'")||n.includes('"')?n:"'".concat(n,"'"),"; "):"",a?"font-size: ".concat(a,"px; "):"",s?"font-style: ".concat(s,"; "):"",l?"font-weight: ".concat(l,"; "):"",m?"text-decoration: ".concat(m,"; text-decoration-thickness: ").concat(Rt(v*this.getObjectScaling().y/10,mt.NUM_FRACTION_DIGITS),"%; "):"",i?tc(pn,i):"",c?"baseline-shift: ".concat(-c,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter(e=>t[e.replace("-","")]).join(" ")}}]),De.setClass(zn),De.setSVGClass(zn);class LG{constructor(e){J(this,"target",void 0),J(this,"__mouseDownInPlace",!1),J(this,"__dragStartFired",!1),J(this,"__isDraggingOver",!1),J(this,"__dragStartSelection",void 0),J(this,"__dragImageDisposer",void 0),J(this,"_dispose",void 0),this.target=e;const n=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{n.forEach(r=>r()),this._dispose=void 0}}isPointerOverSelection(e){const n=this.target,r=n.getSelectionStartFromPointer(e);return n.isEditing&&r>=n.selectionStart&&r<=n.selectionEnd&&n.selectionStart<n.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const n=this.isActive();return n&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,n}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,n){var r;let{selectionStart:o,selectionEnd:i}=n;const a=this.target,s=a.canvas,l=new ae(a.flipX?-1:1,a.flipY?-1:1),c=a._getCursorBoundaries(o),u=new ae(c.left+c.leftOffset,c.top+c.topOffset).multiply(l).transform(a.calcTransformMatrix()),h=s.getScenePoint(e).subtract(u),f=a.getCanvasRetinaScaling(),p=a.getBoundingRect(),m=u.subtract(new ae(p.left,p.top)),v=s.viewportTransform,g=m.add(h).transform(v,!0),b=a.backgroundColor,y=fv(a.styles);a.backgroundColor="";const x={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};a.setSelectionStyles(x,0,o),a.setSelectionStyles(x,i,a.text.length),a.dirty=!0;const w=a.toCanvasElement({enableRetinaScaling:s.enableRetinaScaling,viewportTransform:!0});a.backgroundColor=b,a.styles=y,a.dirty=!0,Pm(w,{position:"fixed",left:"".concat(-w.width,"px"),border:tr,width:"".concat(w.width/f,"px"),height:"".concat(w.height/f,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{w.remove()},Yr(e.target||this.target.hiddenTextarea).body.appendChild(w),(r=e.dataTransfer)===null||r===void 0||r.setDragImage(w,g.x,g.y)}onDragStart(e){this.__dragStartFired=!0;const n=this.target,r=this.isActive();if(r&&e.dataTransfer){const o=this.__dragStartSelection={selectionStart:n.selectionStart,selectionEnd:n.selectionEnd},i=n._text.slice(o.selectionStart,o.selectionEnd).join(""),a=ee({text:n.text,value:i},o);e.dataTransfer.setData("text/plain",i),e.dataTransfer.setData("application/fabric",JSON.stringify({value:i,styles:n.getSelectionStyles(o.selectionStart,o.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,a)}return n.abortCursorAnimation(),r}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const n=this.target.getSelectionStartFromPointer(e),r=this.__dragStartSelection;return n<r.selectionStart||n>r.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:n}=e;const r=this.targetCanDrop(n);!this.__isDraggingOver&&r&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:n}=e,r=this.targetCanDrop(n);!this.__isDraggingOver&&r?this.__isDraggingOver=!0:this.__isDraggingOver&&!r&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(n.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var n;const{e:r}=e,o=r.defaultPrevented;this.__isDraggingOver=!1,r.preventDefault();let i=(n=r.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain");if(i&&!o){const a=this.target,s=a.canvas;let l=a.getSelectionStartFromPointer(r);const{styles:c}=r.dataTransfer.types.includes("application/fabric")?JSON.parse(r.dataTransfer.getData("application/fabric")):{},u=i[Math.max(0,i.length-1)],h=0;if(this.__dragStartSelection){const f=this.__dragStartSelection.selectionStart,p=this.__dragStartSelection.selectionEnd;l>f&&l<=p?l=f:l>p&&(l-=p-f),a.removeChars(f,p),delete this.__dragStartSelection}a._reNewline.test(u)&&(a._reNewline.test(a._text[l])||l===a._text.length)&&(i=i.trimEnd()),e.didDrop=!0,e.dropTarget=a,a.insertChars(i,c,l),s.setActiveObject(a),a.enterEditing(r),a.selectionStart=Math.min(l+h,a._text.length),a.selectionEnd=Math.min(a.selectionStart+i.length,a._text.length),a.hiddenTextarea.value=a.text,a._updateTextarea(),a.hiddenTextarea.focus(),a.fire(qd,{index:l+h,action:"drop"}),s.fire("text:changed",{target:a}),s.contextTopDirty=!0,s.requestRenderAll()}}dragEndHandler(e){let{e:n}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var r;const o=this.target,i=this.target.canvas,{selectionStart:a,selectionEnd:s}=this.__dragStartSelection,l=((r=n.dataTransfer)===null||r===void 0?void 0:r.dropEffect)||tr;l===tr?(o.selectionStart=a,o.selectionEnd=s,o._updateTextarea(),o.hiddenTextarea.focus()):(o.clearContextTop(),l==="move"&&(o.removeChars(a,s),o.selectionStart=o.selectionEnd=a,o.hiddenTextarea&&(o.hiddenTextarea.value=o.text),o._updateTextarea(),o.fire(qd,{index:a,action:"dragend"}),i.fire("text:changed",{target:o}),i.requestRenderAll()),o.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const T2=/[ \n\.,;!\?\-]/;class FG extends zn{constructor(){super(...arguments),J(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:n,duration:r,delay:o,onComplete:i}=e;return KS({startValue:this._currentCursorOpacity,endValue:n,duration:r,delay:o,onComplete:i,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:a=>{this._currentCursorOpacity=a,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(n=>{n&&!n.isDone()&&(e=!0,n.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let n=0,r=e-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)n++,r--;for(;/\S/.test(this._text[r])&&r>-1;)n++,r--;return e-n}findWordBoundaryRight(e){let n=0,r=e;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)n++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)n++,r++;return e+n}findLineBoundaryLeft(e){let n=0,r=e-1;for(;!/\n/.test(this._text[r])&&r>-1;)n++,r--;return e-n}findLineBoundaryRight(e){let n=0,r=e;for(;!/\n/.test(this._text[r])&&r<this._text.length;)n++,r++;return e+n}searchWordBoundary(e,n){const r=this._text;let o=e>0&&this._reSpace.test(r[e])&&(n===-1||!nv.test(r[e-1]))?e-1:e,i=r[o];for(;o>0&&o<r.length&&!T2.test(i);)o+=n,i=r[o];return n===-1&&T2.test(i)&&o++,o}selectWord(e){var n;e=(n=e)!==null&&n!==void 0?n:this.selectionStart;const r=this.searchWordBoundary(e,-1),o=Math.max(r,this.searchWordBoundary(e,1));this.selectionStart=r,this.selectionEnd=o,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var n;e=(n=e)!==null&&n!==void 0?n:this.selectionStart;const r=this.findLineBoundaryLeft(e),o=this.findLineBoundaryRight(e);this.selectionStart=r,this.selectionEnd=o,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const n=this.hiddenTextarea;Yr(n).activeElement!==n&&n.focus();const r=this.getSelectionStartFromPointer(e),o=this.selectionStart,i=this.selectionEnd;(r===this.__selectionStartOnMouseDown&&o!==i||o!==r&&i!==r)&&(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===o&&this.selectionEnd===i||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,n,r){const o=r.slice(0,e),i=this.graphemeSplit(o).length;if(e===n)return{selectionStart:i,selectionEnd:i};const a=r.slice(e,n);return{selectionStart:i,selectionEnd:i+this.graphemeSplit(a).length}}fromGraphemeToStringSelection(e,n,r){const o=r.slice(0,e).join("").length;return e===n?{selectionStart:o,selectionEnd:o}:{selectionStart:o,selectionEnd:o+r.slice(e,n).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const n=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=n.selectionEnd,this.inCompositionMode||(this.selectionStart=n.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,n=this._getCursorBoundaries(e),r=this.get2DCursorLocation(e),o=r.lineIndex,i=r.charIndex,a=this.getValueOfPropertyAt(o,i,"fontSize")*this.lineHeight,s=n.leftOffset,l=this.getCanvasRetinaScaling(),c=this.canvas.upperCanvasEl,u=c.width/l,h=c.height/l,f=u-a,p=h-a,m=new ae(n.left+s,n.top+n.topOffset+a).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ae(c.clientWidth/u,c.clientHeight/h));return m.x<0&&(m.x=0),m.x>f&&(m.x=f),m.y<0&&(m.y=0),m.y>p&&(m.y=p),m.x+=this.canvas._offset.left,m.y+=this.canvas._offset.top,{left:"".concat(m.x,"px"),top:"".concat(m.y,"px"),fontSize:"".concat(a,"px"),charHeight:a}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(Kd),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,n){const{lineIndex:r,charIndex:o}=this.get2DCursorLocation(e,!0),{lineIndex:i,charIndex:a}=this.get2DCursorLocation(n,!0);if(r!==i){if(this.styles[r])for(let s=o;s<this._unwrappedTextLines[r].length;s++)delete this.styles[r][s];if(this.styles[i])for(let s=a;s<this._unwrappedTextLines[i].length;s++){const l=this.styles[i][s];l&&(this.styles[r]||(this.styles[r]={}),this.styles[r][o+s-a]=l)}for(let s=r+1;s<=i;s++)delete this.styles[s];this.shiftLineStyles(i,r-i)}else if(this.styles[r]){const s=this.styles[r],l=a-o;for(let c=o;c<a;c++)delete s[c];for(const c in this.styles[r]){const u=parseInt(c,10);u>=a&&(s[u-l]=s[c],delete s[c])}}}shiftLineStyles(e,n){const r=Object.assign({},this.styles);for(const o in this.styles){const i=parseInt(o,10);i>e&&(this.styles[i+n]=r[i],r[i-n]||delete this.styles[i])}}insertNewlineStyleObject(e,n,r,o){const i={},a=this._unwrappedTextLines[e].length,s=a===n;let l=!1;r||(r=1),this.shiftLineStyles(e,r);const c=this.styles[e]?this.styles[e][n===0?n:n-1]:void 0;for(const h in this.styles[e]){const f=parseInt(h,10);f>=n&&(l=!0,i[f-n]=this.styles[e][h],s&&n===0||delete this.styles[e][h])}let u=!1;for(l&&!s&&(this.styles[e+r]=i,u=!0),(u||a>n)&&r--;r>0;)o&&o[r-1]?this.styles[e+r]={0:ee({},o[r-1])}:c?this.styles[e+r]={0:ee({},c)}:delete this.styles[e+r],r--;this._forceClearCache=!0}insertCharStyleObject(e,n,r,o){this.styles||(this.styles={});const i=this.styles[e],a=i?ee({},i):{};r||(r=1);for(const l in a){const c=parseInt(l,10);c>=n&&(i[c+r]=a[c],a[c-r]||delete i[c])}if(this._forceClearCache=!0,o){for(;r--;)Object.keys(o[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][n+r]=ee({},o[r]));return}if(!i)return;const s=i[n?n-1:1];for(;s&&r--;)this.styles[e][n+r]=ee({},s)}insertNewStyleBlock(e,n,r){const o=this.get2DCursorLocation(n,!0),i=[0];let a,s=0;for(let l=0;l<e.length;l++)e[l]===`
`?(s++,i[s]=0):i[s]++;for(i[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,i[0],r),r=r&&r.slice(i[0]+1)),s&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+i[0],s),a=1;a<s;a++)i[a]>0?this.insertCharStyleObject(o.lineIndex+a,0,i[a],r):r&&this.styles[o.lineIndex+a]&&r[0]&&(this.styles[o.lineIndex+a][0]=r[0]),r=r&&r.slice(i[a]+1);i[a]>0&&this.insertCharStyleObject(o.lineIndex+a,0,i[a],r)}removeChars(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,n),this._text.splice(e,n-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;o>r&&this.removeStyleFromTo(r,o);const i=this.graphemeSplit(e);this.insertNewStyleBlock(i,r,n),this._text=[...this._text.slice(0,r),...i,...this._text.slice(o)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,n,r){r<=e?(n===e?this._selectionDirection=_t:this._selectionDirection===Zt&&(this._selectionDirection=_t,this.selectionEnd=e),this.selectionStart=r):r>e&&r<n?this._selectionDirection===Zt?this.selectionEnd=r:this.selectionStart=r:(n===e?this._selectionDirection=Zt:this._selectionDirection===_t&&(this._selectionDirection=Zt,this.selectionStart=n),this.selectionEnd=r)}}class IG extends FG{initHiddenTextarea(){const e=this.canvas&&Yr(this.canvas.getElement())||Hs(),n=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(a=>{let[s,l]=a;return n.setAttribute(s,l)});const{top:r,left:o,fontSize:i}=this._calcTextareaPosition();n.style.cssText="position: absolute; top: ".concat(r,"; left: ").concat(o,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(i,";"),(this.hiddenTextareaContainer||e.body).appendChild(n),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(a=>{let[s,l]=a;return n.addEventListener(s,this[l].bind(this))}),this.hiddenTextarea=n}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const n=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in n)this[n[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const n=this.fromPaste,{value:r,selectionStart:o,selectionEnd:i}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const a=()=>{this.updateFromTextArea(),this.fire(qd),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void a();const s=this._splitTextIntoLines(r).graphemeText,l=this._text.length,c=s.length,u=this.selectionStart,h=this.selectionEnd,f=u!==h;let p,m,v,g,b=c-l;const y=this.fromStringToGraphemeSelection(o,i,r),x=u>y.selectionStart;f?(m=this._text.slice(u,h),b+=h-u):c<l&&(m=x?this._text.slice(h+b,h):this._text.slice(u,u-b));const w=s.slice(y.selectionEnd-b,y.selectionEnd);if(m&&m.length&&(w.length&&(p=this.getSelectionStyles(u,u+1,!1),p=w.map(()=>p[0])),f?(v=u,g=h):x?(v=h-m.length,g=h):(v=h,g=h+m.length),this.removeStyleFromTo(v,g)),w.length){const{copyPasteData:_}=So();n&&w.join("")===_.copiedText&&!mt.disableStyleCopyPaste&&(p=_.copiedTextStyle),this.insertNewStyleBlock(w,u,p)}a()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:n}=e;const{selectionStart:r,selectionEnd:o}=n;this.compositionStart=r,this.compositionEnd=o,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=So();e.copiedText=this.getSelectedText(),mt.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,n){let r,o=this._getLineLeftOffset(e);return n>0&&(r=this.__charBounds[e][n-1],o+=r.left+r.width),o}getDownCursorOffset(e,n){const r=this._getSelectionForOffset(e,n),o=this.get2DCursorLocation(r),i=o.lineIndex;if(i===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-r;const a=o.charIndex,s=this._getWidthBeforeCursor(i,a),l=this._getIndexOnLine(i+1,s);return this._textLines[i].slice(a).length+l+1+this.missingNewlineOffset(i)}_getSelectionForOffset(e,n){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&n?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,n){const r=this._getSelectionForOffset(e,n),o=this.get2DCursorLocation(r),i=o.lineIndex;if(i===0||e.metaKey||e.keyCode===33)return-r;const a=o.charIndex,s=this._getWidthBeforeCursor(i,a),l=this._getIndexOnLine(i-1,s),c=this._textLines[i].slice(0,a),u=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+l-c.length+(1-u)}_getIndexOnLine(e,n){const r=this._textLines[e];let o,i,a=this._getLineLeftOffset(e),s=0;for(let l=0,c=r.length;l<c;l++)if(o=this.__charBounds[e][l].width,a+=o,a>n){i=!0;const u=a-o,h=a,f=Math.abs(u-n);s=Math.abs(h-n)<f?l:l-1;break}return i||(s=r.length-1),s}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,n){const r=this["get".concat(e,"CursorOffset")](n,this._selectionDirection===Zt);if(n.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),r!==0){const o=this.text.length;this.selectionStart=Rs(0,this.selectionStart,o),this.selectionEnd=Rs(0,this.selectionEnd,o),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const n=this._selectionDirection===_t?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,n),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,n,r){let o;if(e.altKey)o=this["findWordBoundary".concat(r)](this[n]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[n]+=r==="Left"?-1:1,!0;o=this["findLineBoundary".concat(r)](this[n])}return o!==void 0&&this[n]!==o&&(this[n]=o,!0)}_moveLeft(e,n){return this._move(e,n,"Left")}_moveRight(e,n){return this._move(e,n,"Right")}moveCursorLeftWithoutShift(e){let n=!0;return this._selectionDirection=_t,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(n=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,n}moveCursorLeftWithShift(e){return this._selectionDirection===Zt&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=_t,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,n){const r="moveCursor".concat(e).concat(n.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[r](n)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===_t&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Zt,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let n=!0;return this._selectionDirection=Zt,this.selectionStart===this.selectionEnd?(n=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,n}}const O2=t=>!!t.button;let NG=class extends IG{constructor(){super(...arguments),J(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new LG(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:n,alreadySelected:r}=e;this.canvas&&this.editable&&!O2(n)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(n)||(this.canvas.textEditingManager.register(this),r&&(this.inCompositionMode=!1,this.setCursorByClick(n)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=r||this.isEditing)))}mouseUpHandler(e){let{e:n,transform:r}=e;const o=this.draggableTextDelegate.end(n);if(this.canvas){this.canvas.textEditingManager.unregister(this);const i=this.canvas._activeObject;if(i&&i!==this)return}!this.editable||this.group&&!this.group.interactive||r&&r.actionPerformed||O2(n)||o||this.selected&&!this.getActiveControl()&&(this.enterEditing(n),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const n=this.getSelectionStartFromPointer(e),r=this.selectionStart,o=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(r,o,n):(this.selectionStart=n,this.selectionEnd=n),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const n=this.canvas.getScenePoint(e).transform(Kr(this.calcTransformMatrix())).add(new ae(-this._getLeftOffset(),-this._getTopOffset()));let r=0,o=0,i=0;for(let c=0;c<this._textLines.length&&r<=n.y;c++)r+=this.getHeightOfLine(c),i=c,c>0&&(o+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));let a=Math.abs(this._getLineLeftOffset(i));const s=this._textLines[i].length,l=this.__charBounds[i];for(let c=0;c<s;c++){const u=a+l[c].kernedWidth;if(n.x<=u){Math.abs(n.x-u)<=Math.abs(n.x-a)&&o++;break}a=u,o++}return Math.min(this.flipX?s-o:o,this._text.length)}};const mu="moveCursorUp",vu="moveCursorDown",bu="moveCursorLeft",yu="moveCursorRight",xu="exitEditing",A2=(t,e)=>{const n=e.getRetinaScaling();t.setTransform(n,0,0,n,0,0);const r=e.viewportTransform;t.transform(r[0],r[1],r[2],r[3],r[4],r[5])},jG=ee({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:xu,27:xu,33:mu,34:vu,35:yu,36:bu,37:bu,38:mu,39:yu,40:vu},keysMapRtl:{9:xu,27:xu,33:mu,34:vu,35:bu,36:yu,37:yu,38:mu,39:bu,40:vu},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Xo extends NG{static getDefaults(){return ee(ee({},super.getDefaults()),Xo.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,n){super(e,ee(ee({},Xo.ownDefaults),n)),this.initBehavior()}_set(e,n){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=n,this):(e==="canvas"&&(this.canvas instanceof Lm&&this.canvas.textEditingManager.remove(this),n instanceof Lm&&n.textEditingManager.add(this)),super._set(e,n))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,n){this[e]!==n&&(this._fireSelectionChanged(),this[e]=n),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,r=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,n,r)}setSelectionStyles(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,n,r)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,n)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const n=this.isEditing;this.isEditing=!1;const r=super.toCanvasElement(e);return this.isEditing=n,r}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const n=this._getCursorBoundaries(),r=this.findAncestorsWithClipPath(),o=r.length>0;let i,a=e;if(o){i=Mr(e.canvas),a=i.getContext("2d"),A2(a,this.canvas);const s=this.calcTransformMatrix();a.transform(s[0],s[1],s[2],s[3],s[4],s[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(a,n):this.renderCursor(a,n),o)for(const s of r){const l=s.clipPath,c=Mr(e.canvas),u=c.getContext("2d");if(A2(u,this.canvas),!l.absolutePositioned){const h=s.calcTransformMatrix();u.transform(h[0],h[1],h[2],h[3],h[4],h[5])}l.transform(u),l.drawObject(u,!0,{}),this.drawClipPathOnCache(a,l,c)}o&&(e.setTransform(1,0,0,1,0,0),e.drawImage(i,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let n=this;for(;n;)n.clipPath&&e.push(n),n=n.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1?arguments[1]:void 0;const r=this._getLeftOffset(),o=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e,n);return{left:r,top:o,leftOffset:i.left,topOffset:i.top}}_getCursorBoundariesOffsets(e,n){return n?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let n=0,r=0;const{charIndex:o,lineIndex:i}=this.get2DCursorLocation(e);for(let c=0;c<i;c++)n+=this.getHeightOfLine(c);const a=this._getLineLeftOffset(i),s=this.__charBounds[i][o];s&&(r=s.left),this.charSpacing!==0&&o===this._textLines[i].length&&(r-=this._getWidthOfCharSpacing());const l={top:n,left:a+(r>0?r:0)};return this.direction==="rtl"&&(this.textAlign===Zt||this.textAlign===go||this.textAlign===Rl?l.left*=-1:this.textAlign===_t||this.textAlign===th?l.left=a-(r>0?r:0):this.textAlign!==ot&&this.textAlign!==Dl||(l.left=a-(r>0?r:0))),l}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,n){this._renderCursor(e,n,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const r=this.get2DCursorLocation(e),o=r.lineIndex,i=r.charIndex>0?r.charIndex-1:0,a=this.getValueOfPropertyAt(o,i,"fontSize"),s=this.getObjectScaling().x*this.canvas.getZoom(),l=this.cursorWidth/s,c=this.getValueOfPropertyAt(o,i,"deltaY"),u=n.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-a*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(o,i,"fill"),opacity:this._currentCursorOpacity,left:n.left+n.leftOffset-l/2,top:u+n.top+c,width:l,height:a}}_renderCursor(e,n,r){const{color:o,opacity:i,left:a,top:s,width:l,height:c}=this.getCursorRenderingData(r,n);e.fillStyle=o,e.globalAlpha=i,e.fillRect(a,s,l,c)}renderSelection(e,n){const r={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,r,n)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const n=this.getSelectionStartFromPointer(e);this.renderCursorAt(n)}_renderSelection(e,n,r){const o=n.selectionStart,i=n.selectionEnd,a=this.textAlign.includes(go),s=this.get2DCursorLocation(o),l=this.get2DCursorLocation(i),c=s.lineIndex,u=l.lineIndex,h=s.charIndex<0?0:s.charIndex,f=l.charIndex<0?0:l.charIndex;for(let p=c;p<=u;p++){const m=this._getLineLeftOffset(p)||0;let v=this.getHeightOfLine(p),g=0,b=0,y=0;if(p===c&&(b=this.__charBounds[c][h].left),p>=c&&p<u)y=a&&!this.isEndOfWrapping(p)?this.width:this.getLineWidth(p)||5;else if(p===u)if(f===0)y=this.__charBounds[u][f].left;else{const E=this._getWidthOfCharSpacing();y=this.__charBounds[u][f-1].left+this.__charBounds[u][f-1].width-E}g=v,(this.lineHeight<1||p===u&&this.lineHeight>1)&&(v/=this.lineHeight);let x=r.left+m+b,w=v,_=0;const k=y-b;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",w=1,_=v):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Zt||this.textAlign===go||this.textAlign===Rl?x=this.width-x-k:this.textAlign===_t||this.textAlign===th?x=r.left+m-y:this.textAlign!==ot&&this.textAlign!==Dl||(x=r.left+m-y)),e.fillRect(x,r.top+r.topOffset+_,k,w),r.topOffset+=g}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,pn)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),n=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:n}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}J(Xo,"ownDefaults",jG),J(Xo,"type","IText"),De.setClass(Xo),De.setClass(Xo,"i-text");class Ci extends Xo{static getDefaults(){return ee(ee({},super.getDefaults()),Ci.ownDefaults)}constructor(e,n){super(e,ee(ee({},Ci.ownDefaults),n))}static createControls(){return{controls:mY()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(go)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let n=0,r=0,o=0;const i={};for(let a=0;a<e.graphemeLines.length;a++)e.graphemeText[o]===`
`&&a>0?(r=0,o++,n++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[o])&&a>0&&(r++,o++),i[a]={line:n,offset:r},o+=e.graphemeLines[a].length,r+=e.graphemeLines[a].length;return i}styleHas(e,n){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[n];r&&(n=r.line)}return super.styleHas(e,n)}isEmptyStyles(e){if(!this.styles)return!0;let n,r=0,o=e+1,i=!1;const a=this._styleMap[e],s=this._styleMap[e+1];a&&(e=a.line,r=a.offset),s&&(o=s.line,i=o===e,n=s.offset);const l=e===void 0?this.styles:{line:this.styles[e]};for(const c in l)for(const u in l[c]){const h=parseInt(u,10);if(h>=r&&(!i||h<n))for(const f in l[c][u])return!1}return!0}_getStyleDeclaration(e,n){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[e];if(!r)return{};e=r.line,n=r.offset+n}return super._getStyleDeclaration(e,n)}_setStyleDeclaration(e,n,r){const o=this._styleMap[e];super._setStyleDeclaration(o.line,o.offset+n,r)}_deleteStyleDeclaration(e,n){const r=this._styleMap[e];super._deleteStyleDeclaration(r.line,r.offset+n)}_getLineStyle(e){const n=this._styleMap[e];return!!this.styles[n.line]}_setLineStyle(e){const n=this._styleMap[e];super._setLineStyle(n.line)}_wrapText(e,n){this.isWrapping=!0;const r=this.getGraphemeDataForRender(e),o=[];for(let i=0;i<r.wordsData.length;i++)o.push(...this._wrapLine(i,n,r));return this.isWrapping=!1,o}getGraphemeDataForRender(e){const n=this.splitByGrapheme,r=n?"":" ";let o=0;return{wordsData:e.map((i,a)=>{let s=0;const l=n?this.graphemeSplit(i):this.wordSplit(i);return l.length===0?[{word:[],width:0}]:l.map(c=>{const u=n?[c]:this.graphemeSplit(c),h=this._measureWord(u,a,s);return o=Math.max(h,o),s+=u.length+r.length,{word:u,width:h}})}),largestWordWidth:o}}_measureWord(e,n){let r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=0;for(let a=0,s=e.length;a<s;a++)i+=this._getGraphemeBox(e[a],n,a+o,r,!0).kernedWidth,r=e[a];return i}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,n,r){let{largestWordWidth:o,wordsData:i}=r,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const s=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,c=[],u=l?"":" ";let h=0,f=[],p=0,m=0,v=!0;n-=a;const g=Math.max(n,o,this.dynamicMinWidth),b=i[e];let y;for(p=0,y=0;y<b.length;y++){const{word:x,width:w}=b[y];p+=x.length,h+=m+w-s,h>g&&!v?(c.push(f),f=[],h=w,v=!0):h+=s,v||l||f.push(u),f=f.concat(x),m=l?0:this._measureWord([u],e,p),p++,v=!1}return y&&c.push(f),o+a>this.dynamicMinWidth&&(this.dynamicMinWidth=o-s+a),c}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,n){return this.splitByGrapheme&&!n?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const n=super._splitTextIntoLines(e),r=this._wrapText(n.lines,this.width),o=new Array(r.length);for(let i=0;i<r.length;i++)o[i]=r[i].join("");return n.lines=o,n.graphemeLines=r,n}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const n in this._styleMap){const r=parseInt(n,10);if(this._textLines[r]){const o=this._styleMap[n].line;e.set("".concat(o),!0)}}for(const n in this.styles)e.has(n)||delete this.styles[n]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}J(Ci,"type","Textbox"),J(Ci,"textLayoutProperties",[...Xo.textLayoutProperties,"width"]),J(Ci,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),De.setClass(Ci);class M2 extends uf{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,n){const{target:r}=e,{clipPath:o,group:i}=r;if(!o||!this.shouldPerformLayout(e))return;const{width:a,height:s}=Go(o5(r,o)),l=new ae(a,s);if(o.absolutePositioned)return{center:us(o.getRelativeCenterPoint(),void 0,i?i.calcTransformMatrix():void 0),size:l};{const c=o.getRelativeCenterPoint().transform(r.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:u=new ae,correction:h=new ae}=this.calcBoundingBox(n,e)||{};return{center:u.add(c),correction:h.subtract(c),size:l}}return{center:r.getRelativeCenterPoint().add(c),size:l}}}}J(M2,"type","clip-path"),De.setClass(M2);class $2 extends uf{getInitialSize(e,n){let{target:r}=e,{size:o}=n;return new ae(r.width||o.x,r.height||o.y)}}J($2,"type","fixed"),De.setClass($2);class BG extends rc{subscribeTargets(e){const n=e.target;e.targets.reduce((r,o)=>(o.parent&&r.add(o.parent),r),new Set).forEach(r=>{r.layoutManager.subscribeTargets({target:r,targets:[n]})})}unsubscribeTargets(e){const n=e.target,r=n.getObjects();e.targets.reduce((o,i)=>(i.parent&&o.add(i.parent),o),new Set).forEach(o=>{!r.some(i=>i.parent===o)&&o.layoutManager.unsubscribeTargets({target:o,targets:[n]})})}}let wu=class Nm extends ma{static getDefaults(){return ee(ee({},super.getDefaults()),Nm.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Nm.ownDefaults),this.setOptions(n);const{left:r,top:o,layoutManager:i}=n;this.groupInit(e,{left:r,top:o,layoutManager:i??new BG})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.multiSelectionStacking==="selection-order"?this.add(...n):n.forEach(o=>{const i=this._objects.findIndex(s=>s.isInFrontOf(o)),a=i===-1?this.size():i;this.insertAt(a,o)})}canEnterGroup(e){return this.getObjects().some(n=>n.isDescendantOf(e)||e.isDescendantOf(n))?(Di("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,n){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,n)}exitGroup(e,n){this._exitGroup(e,n),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,n){super._onAfterObjectsChange(e,n);const r=new Set;n.forEach(o=>{const{parent:i}=o;i&&r.add(i)}),e===vv?r.forEach(o=>{o._onAfterObjectsChange(nh,n)}):r.forEach(o=>{o._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,n,r){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const o=ee(ee({hasControls:!1},r),{},{forActiveSelection:!0});for(let i=0;i<this._objects.length;i++)this._objects[i]._renderControls(e,o);super._renderControls(e,n),e.restore()}};J(wu,"type","ActiveSelection"),J(wu,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),De.setClass(wu),De.setClass(wu,"activeSelection");class zG{constructor(){J(this,"resources",{})}applyFilters(e,n,r,o,i){const a=i.getContext("2d");if(!a)return;a.drawImage(n,0,0,r,o);const s={sourceWidth:r,sourceHeight:o,imageData:a.getImageData(0,0,r,o),originalEl:n,originalImageData:a.getImageData(0,0,r,o),canvasEl:i,ctx:a,filterBackend:this};e.forEach(c=>{c.applyTo(s)});const{imageData:l}=s;return l.width===r&&l.height===o||(i.width=l.width,i.height=l.height),a.putImageData(l,0,0),s}}class w5{constructor(){let{tileSize:e=mt.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};J(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),J(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,n){this.dispose(),this.createWebGLCanvas(e,n)}createWebGLCanvas(e,n){const r=Mr({width:e,height:n}),o=r.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});o&&(o.clearColor(0,0,0,0),this.canvas=r,this.gl=o)}applyFilters(e,n,r,o,i,a){const s=this.gl,l=i.getContext("2d");if(!s||!l)return;let c;a&&(c=this.getCachedTexture(a,n));const u={originalWidth:n.width||n.naturalWidth||0,originalHeight:n.height||n.naturalHeight||0,sourceWidth:r,sourceHeight:o,destinationWidth:r,destinationHeight:o,context:s,sourceTexture:this.createTexture(s,r,o,c?void 0:n),targetTexture:this.createTexture(s,r,o),originalTexture:c||this.createTexture(s,r,o,c?void 0:n),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},h=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,h),e.forEach(f=>{f&&f.applyTo(u)}),function(f){const p=f.targetCanvas,m=p.width,v=p.height,g=f.destinationWidth,b=f.destinationHeight;m===g&&v===b||(p.width=g,p.height=b)}(u),this.copyGLTo2D(s,u),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(u.sourceTexture),s.deleteTexture(u.targetTexture),s.deleteFramebuffer(h),l.setTransform(1,0,0,1,0,0),u}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,n,r,o,i){const{NEAREST:a,TEXTURE_2D:s,RGBA:l,UNSIGNED_BYTE:c,CLAMP_TO_EDGE:u,TEXTURE_MAG_FILTER:h,TEXTURE_MIN_FILTER:f,TEXTURE_WRAP_S:p,TEXTURE_WRAP_T:m}=e,v=e.createTexture();return e.bindTexture(s,v),e.texParameteri(s,h,i||a),e.texParameteri(s,f,i||a),e.texParameteri(s,p,u),e.texParameteri(s,m,u),o?e.texImage2D(s,0,l,l,c,o):e.texImage2D(s,0,l,n,r,0,l,c,null),v}getCachedTexture(e,n,r){const{textureCache:o}=this;if(o[e])return o[e];{const i=this.createTexture(this.gl,n.width,n.height,n,r);return i&&(o[e]=i),i}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,n){const r=e.canvas,o=n.targetCanvas,i=o.getContext("2d");if(!i)return;i.translate(0,o.height),i.scale(1,-1);const a=r.height-o.height;i.drawImage(r,0,a,o.width,o.height,0,0,o.width,o.height)}copyGLTo2DPutImageData(e,n){const r=n.targetCanvas.getContext("2d"),o=n.destinationWidth,i=n.destinationHeight,a=o*i*4;if(!r)return;const s=new Uint8Array(this.imageBuffer,0,a),l=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,o,i,e.RGBA,e.UNSIGNED_BYTE,s);const c=new ImageData(l,o,i);r.putImageData(c,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,n={renderer:"",vendor:""};if(!e)return n;const r=e.getExtension("WEBGL_debug_renderer_info");if(r){const o=e.getParameter(r.UNMASKED_RENDERER_WEBGL),i=e.getParameter(r.UNMASKED_VENDOR_WEBGL);o&&(n.renderer=o.toLowerCase()),i&&(n.vendor=i.toLowerCase())}return this.gpuInfo=n,n}}let Yp;function UG(){const{WebGLProbe:t}=So();return t.queryWebGL(ri()),mt.enableGLFiltering&&t.isSupported(mt.textureSize)?new w5({tileSize:mt.textureSize}):new zG}function Gp(){return!Yp&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Yp=UG()),Yp}const HG=["filters","resizeFilter","src","crossOrigin","type"],_5=["cropX","cropY"];class qn extends Ln{static getDefaults(){return ee(ee({},super.getDefaults()),qn.ownDefaults)}constructor(e,n){super(),J(this,"_lastScaleX",1),J(this,"_lastScaleY",1),J(this,"_filterScalingX",1),J(this,"_filterScalingY",1),this.filters=[],Object.assign(this,qn.ownDefaults),this.setOptions(n),this.cacheKey="texture".concat(Pi()),this.setElement(typeof e=="string"?(this.canvas&&Yr(this.canvas.getElement())||Hs()).getElementById(e):e,n)}getElement(){return this._element}setElement(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(r),(n=e.classList)===null||n===void 0||n.add(qn.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const n=Gp(!1);n instanceof w5&&n.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const n=this[e];n&&So().dispose(n),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const n=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-n,-r),e.lineTo(n,-r),e.lineTo(n,r),e.lineTo(-n,r),e.lineTo(-n,-r),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=[];return this.filters.forEach(r=>{r&&n.push(r.toObject())}),ee(ee({},super.toObject([..._5,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],n=this._element,r=-this.width/2,o=-this.height/2;let i=[],a=[],s="",l="";if(!n)return[];if(this.hasCrop()){const c=Pi();i.push('<clipPath id="imageCrop_'+c+`">
`,'	<rect x="'+r+'" y="'+o+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),s=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(r-this.cropX,'" y="').concat(o-this.cropY,'" width="').concat(n.width||n.naturalWidth,'" height="').concat(n.height||n.naturalHeight,'"').concat(l).concat(s,`></image>
`)),this.stroke||this.strokeDashArray){const c=this.fill;this.fill=null,a=['	<rect x="'.concat(r,'" y="').concat(o,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=c}return i=this.paintFirst!==pn?i.concat(a,e):i.concat(e,a),i}getSrc(e){const n=e?this._element:this._originalElement;return n?n.toDataURL?n.toDataURL():this.srcFromAttribute?n.getAttribute("src")||"":n.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:n,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ld(e,{crossOrigin:n,signal:r}).then(o=>{n!==void 0&&this.set({crossOrigin:n}),this.setElement(o)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,n=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),o=r.x,i=r.y,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||o>n&&i>n)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=o,void(this._lastScaleY=i);const s=Mr(a),{width:l,height:c}=a;this._element=s,this._lastScaleX=e.scaleX=o,this._lastScaleY=e.scaleY=i,Gp().applyFilters([e],a,l,c,this._element),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(i=>i&&!i.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const n=this._originalElement,r=n.naturalWidth||n.width,o=n.naturalHeight||n.height;if(this._element===this._originalElement){const i=Mr({width:r,height:o});this._element=i,this._filteredEl=i}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,o),this._lastScaleX=1,this._lastScaleY=1);Gp().applyFilters(e,this._originalElement,r,o,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const n=this._element;if(!n)return;const r=this._filterScalingX,o=this._filterScalingY,i=this.width,a=this.height,s=Math.max(this.cropX,0),l=Math.max(this.cropY,0),c=n.naturalWidth||n.width,u=n.naturalHeight||n.height,h=s*r,f=l*o,p=Math.min(i*r,c-h),m=Math.min(a*o,u-f),v=-i/2,g=-a/2,b=Math.min(i,c/r-s),y=Math.min(a,u/o-l);n&&e.drawImage(n,h,f,p,m,v,g,b,y)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this.getOriginalSize();this.width=e||r.width,this.height=n||r.height}parsePreserveAspectRatioAttribute(){const e=PX(this.preserveAspectRatio||""),n=this.width,r=this.height,o={width:n,height:r};let i,a=this._element.width,s=this._element.height,l=1,c=1,u=0,h=0,f=0,p=0;return!e||e.alignX===tr&&e.alignY===tr?(l=n/a,c=r/s):(e.meetOrSlice==="meet"&&(l=c=KY(this._element,o),i=(n-a*l)/2,e.alignX==="Min"&&(u=-i),e.alignX==="Max"&&(u=i),i=(r-s*c)/2,e.alignY==="Min"&&(h=-i),e.alignY==="Max"&&(h=i)),e.meetOrSlice==="slice"&&(l=c=ZY(this._element,o),i=a-n/l,e.alignX==="Mid"&&(f=i/2),e.alignX==="Max"&&(f=i),i=s-r/c,e.alignY==="Mid"&&(p=i/2),e.alignY==="Max"&&(p=i),a=n/l,s=r/c)),{width:a,height:s,scaleX:l,scaleY:c,offsetLeft:u,offsetTop:h,cropX:f,cropY:p}}static fromObject(e,n){let{filters:r,resizeFilter:o,src:i,crossOrigin:a,type:s}=e,l=Nt(e,HG);return Promise.all([ld(i,ee(ee({},n),{},{crossOrigin:a})),r&&Ql(r,n),o&&Ql([o],n),af(l,n)]).then(c=>{let[u,h=[],[f]=[],p={}]=c;return new this(u,ee(ee({},l),{},{src:i,filters:h,resizeFilter:f},p))})}static fromURL(e){let{crossOrigin:n=null,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return ld(e,{crossOrigin:n,signal:r}).then(i=>new this(i,o))}static async fromElement(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const o=ci(e,this.ATTRIBUTE_NAMES,r);return this.fromURL(o["xlink:href"]||o.href,n,o).catch(i=>(Di("log","Unable to parse Image",i),null))}}J(qn,"type","Image"),J(qn,"cacheProperties",[...li,..._5]),J(qn,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),J(qn,"CSS_CANVAS","canvas-img"),J(qn,"ATTRIBUTE_NAMES",[...Ui,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),De.setClass(qn),De.setSVGClass(qn);lf(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const hf=t=>t.webgl!==void 0,bv="precision highp float",WG=`
    `.concat(bv,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),VG=["type"],XG=["type"],YG=new RegExp(bv,"g");class gn{get type(){return this.constructor.type}constructor(){let e=Nt(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},VG);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return WG}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:o="highp"}}=So();o!=="highp"&&(n=n.replace(YG,bv.replace("highp",o)));const i=e.createShader(e.VERTEX_SHADER),a=e.createShader(e.FRAGMENT_SHADER),s=e.createProgram();if(!i||!a||!s)throw new vo("Vertex, fragment shader or program creation error");if(e.shaderSource(i,r),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new vo("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(i)));if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new vo("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(a)));if(e.attachShader(s,i),e.attachShader(s,a),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw new vo('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(s)));const l=this.getUniformLocations(e,s)||{};return l.uStepW=e.getUniformLocation(s,"uStepW"),l.uStepH=e.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:this.getAttributeLocations(e,s),uniformLocations:l}}getAttributeLocations(e,n){return{aPosition:e.getAttribLocation(n,"aPosition")}}getUniformLocations(e,n){const r=this.constructor.uniformLocations,o={};for(let i=0;i<r.length;i++)o[r[i]]=e.getUniformLocation(n,r[i]);return o}sendAttributeData(e,n,r){const o=n.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(o),e.vertexAttribPointer(o,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}_setupFrameBuffer(e){const n=e.context;if(e.passes>1){const r=e.destinationWidth,o=e.destinationHeight;e.sourceWidth===r&&e.sourceHeight===o||(n.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(n,r,o)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.targetTexture,0)}else n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish()}_swapTextures(e){e.passes--,e.pass++;const n=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=n}isNeutralState(e){return!1}applyTo(e){hf(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const n=this.getCacheKey();return e.programCache[n]||(e.programCache[n]=this.createProgram(e.context)),e.programCache[n]}applyToWebGL(e){const n=e.context,r=this.retrieveShader(e);e.pass===0&&e.originalTexture?n.bindTexture(n.TEXTURE_2D,e.originalTexture):n.bindTexture(n.TEXTURE_2D,e.sourceTexture),n.useProgram(r.program),this.sendAttributeData(n,r.attributeLocations,e.aPosition),n.uniform1f(r.uniformLocations.uStepW,1/e.sourceWidth),n.uniform1f(r.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(n,r.uniformLocations),n.viewport(0,0,e.destinationWidth,e.destinationHeight),n.drawArrays(n.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,n,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,n),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,n){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:n,sourceHeight:r}=e,o=Mr({width:n,height:r});e.helpLayer=o}}toObject(){const e=Object.keys(this.constructor.defaults||{});return ee({type:this.type},e.reduce((n,r)=>(n[r]=this[r],n),{}))}toJSON(){return this.toObject()}static async fromObject(e,n){return new this(Nt(e,XG))}}J(gn,"type","BaseFilter"),J(gn,"uniformLocations",[]);const GG={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class _u extends gn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(GG[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:n}}=e;const r=new Et(this.color).getSource(),o=this.alpha,i=r[0]*o,a=r[1]*o,s=r[2]*o,l=1-o;for(let c=0;c<n.length;c+=4){const u=n[c],h=n[c+1],f=n[c+2];let p,m,v;switch(this.mode){case"multiply":p=u*i/255,m=h*a/255,v=f*s/255;break;case"screen":p=255-(255-u)*(255-i)/255,m=255-(255-h)*(255-a)/255,v=255-(255-f)*(255-s)/255;break;case"add":p=u+i,m=h+a,v=f+s;break;case"difference":p=Math.abs(u-i),m=Math.abs(h-a),v=Math.abs(f-s);break;case"subtract":p=u-i,m=h-a,v=f-s;break;case"darken":p=Math.min(u,i),m=Math.min(h,a),v=Math.min(f,s);break;case"lighten":p=Math.max(u,i),m=Math.max(h,a),v=Math.max(f,s);break;case"overlay":p=i<128?2*u*i/255:255-2*(255-u)*(255-i)/255,m=a<128?2*h*a/255:255-2*(255-h)*(255-a)/255,v=s<128?2*f*s/255:255-2*(255-f)*(255-s)/255;break;case"exclusion":p=i+u-2*i*u/255,m=a+h-2*a*h/255,v=s+f-2*s*f/255;break;case"tint":p=i+u*l,m=a+h*l,v=s+f*l}n[c]=p,n[c+1]=m,n[c+2]=v}}sendUniformData(e,n){const r=new Et(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(n.uColor,r)}}J(_u,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),J(_u,"type","BlendColor"),J(_u,"uniformLocations",["uColor"]),De.setClass(_u);const qG={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},KG=["type","image"];class ku extends gn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return qG[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const n=e.context,r=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(n,r,n.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(n,n.TEXTURE1)}createTexture(e,n){return e.getCachedTexture(n.cacheKey,n.getElement())}calculateMatrix(){const e=this.image,{width:n,height:r}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/n,-e.top/r,1]}applyTo2d(e){let{imageData:{data:n,width:r,height:o},filterBackend:{resources:i}}=e;const a=this.image;i.blendImage||(i.blendImage=ri());const s=i.blendImage,l=s.getContext("2d");s.width!==r||s.height!==o?(s.width=r,s.height=o):l.clearRect(0,0,r,o),l.setTransform(a.scaleX,0,0,a.scaleY,a.left,a.top),l.drawImage(a.getElement(),0,0,r,o);const c=l.getImageData(0,0,r,o).data;for(let u=0;u<n.length;u+=4){const h=n[u],f=n[u+1],p=n[u+2],m=n[u+3],v=c[u],g=c[u+1],b=c[u+2],y=c[u+3];switch(this.mode){case"multiply":n[u]=h*v/255,n[u+1]=f*g/255,n[u+2]=p*b/255,n[u+3]=m*y/255;break;case"mask":n[u+3]=y}}}sendUniformData(e,n){const r=this.calculateMatrix();e.uniform1i(n.uImage,1),e.uniformMatrix3fv(n.uTransformMatrix,!1,r)}toObject(){return ee(ee({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,n){let{type:r,image:o}=e,i=Nt(e,KG);return qn.fromObject(o,n).then(a=>new this(ee(ee({},i),{},{image:a})))}}J(ku,"type","BlendImage"),J(ku,"defaults",{mode:"multiply",alpha:1}),J(ku,"uniformLocations",["uTransformMatrix","uImage"]),De.setClass(ku);class Cu extends gn{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){hf(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:n,width:r,height:o}}=e;this.aspectRatio=r/o,this.horizontal=!0;let i=this.getBlurValue()*r;const a=new Uint8ClampedArray(n),s=15,l=4*r;for(let c=0;c<n.length;c+=4){let u=0,h=0,f=0,p=0,m=0;const v=c-c%l,g=v+l;for(let b=-14;b<s;b++){const y=b/s,x=4*Math.floor(i*y),w=1-Math.abs(y);let _=c+x;_<v?_=v:_>g&&(_=g);const k=n[_+3]*w;u+=n[_]*k,h+=n[_+1]*k,f+=n[_+2]*k,p+=k,m+=w}a[c]=u/p,a[c+1]=h/p,a[c+2]=f/p,a[c+3]=p/m}this.horizontal=!1,i=this.getBlurValue()*o;for(let c=0;c<a.length;c+=4){let u=0,h=0,f=0,p=0,m=0;const v=c%l,g=a.length-l+v;for(let b=-14;b<s;b++){const y=b/s,x=Math.floor(i*y)*l,w=1-Math.abs(y);let _=c+x;_<v?_=v:_>g&&(_=g);const k=a[_+3]*w;u+=a[_]*k,h+=a[_+1]*k,f+=a[_+2]*k,p+=k,m+=w}n[c]=u/p,n[c+1]=h/p,n[c+2]=f/p,n[c+3]=p/m}}sendUniformData(e,n){const r=this.chooseRightDelta();e.uniform2fv(n.uDelta,r)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:n,aspectRatio:r}=this;return n?r>1&&(e=1/r):r<1&&(e=r),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}J(Cu,"type","Blur"),J(Cu,"defaults",{blur:0}),J(Cu,"uniformLocations",["uDelta"]),De.setClass(Cu);class Su extends gn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=Math.round(255*this.brightness);for(let o=0;o<n.length;o+=4)n[o]+=r,n[o+1]+=r,n[o+2]+=r}isNeutralState(){return this.brightness===0}sendUniformData(e,n){e.uniform1f(n.uBrightness,this.brightness)}}J(Su,"type","Brightness"),J(Su,"defaults",{brightness:0}),J(Su,"uniformLocations",["uBrightness"]),De.setClass(Su);const k5={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class os extends gn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const n=e.imageData.data,r=this.matrix,o=this.colorsOnly;for(let i=0;i<n.length;i+=4){const a=n[i],s=n[i+1],l=n[i+2];if(n[i]=a*r[0]+s*r[1]+l*r[2]+255*r[4],n[i+1]=a*r[5]+s*r[6]+l*r[7]+255*r[9],n[i+2]=a*r[10]+s*r[11]+l*r[12]+255*r[14],!o){const c=n[i+3];n[i]+=c*r[3],n[i+1]+=c*r[8],n[i+2]+=c*r[13],n[i+3]=a*r[15]+s*r[16]+l*r[17]+c*r[18]+255*r[19]}}}sendUniformData(e,n){const r=this.matrix,o=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],i=[r[4],r[9],r[14],r[19]];e.uniformMatrix4fv(n.uColorMatrix,!1,o),e.uniform4fv(n.uConstants,i)}toObject(){return ee(ee({},super.toObject()),{},{matrix:[...this.matrix]})}}function La(t,e){var n;const r=(J(n=class extends os{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),J(n,"defaults",{colorsOnly:!1,matrix:e}),n);return De.setClass(r,t),r}J(os,"type","ColorMatrix"),J(os,"defaults",k5),J(os,"uniformLocations",["uColorMatrix","uConstants"]),De.setClass(os);La("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);La("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);La("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);La("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);La("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);La("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);La("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class R2 extends gn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){hf(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(n=>{n.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,n){return Promise.all((e.subFilters||[]).map(r=>De.getClass(r.type).fromObject(r,n))).then(r=>new this({subFilters:r}))}}J(R2,"type","Composed"),De.setClass(R2);class Eu extends gn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:n}}=e;const r=Math.floor(255*this.contrast),o=259*(r+255)/(255*(259-r));for(let i=0;i<n.length;i+=4)n[i]=o*(n[i]-128)+128,n[i+1]=o*(n[i+1]-128)+128,n[i+2]=o*(n[i+2]-128)+128}sendUniformData(e,n){e.uniform1f(n.uContrast,this.contrast)}}J(Eu,"type","Contrast"),J(Eu,"defaults",{contrast:0}),J(Eu,"uniformLocations",["uContrast"]),De.setClass(Eu);const ZG={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Tu extends gn{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return ZG[this.getCacheKey()]}applyTo2d(e){const n=e.imageData,r=n.data,o=this.matrix,i=Math.round(Math.sqrt(o.length)),a=Math.floor(i/2),s=n.width,l=n.height,c=e.ctx.createImageData(s,l),u=c.data,h=this.opaque?1:0;let f,p,m,v,g,b,y,x,w,_,k,E,$;for(k=0;k<l;k++)for(_=0;_<s;_++){for(g=4*(k*s+_),f=0,p=0,m=0,v=0,$=0;$<i;$++)for(E=0;E<i;E++)y=k+$-a,b=_+E-a,y<0||y>=l||b<0||b>=s||(x=4*(y*s+b),w=o[$*i+E],f+=r[x]*w,p+=r[x+1]*w,m+=r[x+2]*w,h||(v+=r[x+3]*w));u[g]=f,u[g+1]=p,u[g+2]=m,u[g+3]=h?r[g+3]:v}e.imageData=c}sendUniformData(e,n){e.uniform1fv(n.uMatrix,this.matrix)}toObject(){return ee(ee({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}J(Tu,"type","Convolute"),J(Tu,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),J(Tu,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),De.setClass(Tu);const C5="Gamma";class Ou extends gn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:n}}=e;const r=this.gamma,o=1/r[0],i=1/r[1],a=1/r[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const s=this.rgbValues;for(let l=0;l<256;l++)s.r[l]=255*Math.pow(l/255,o),s.g[l]=255*Math.pow(l/255,i),s.b[l]=255*Math.pow(l/255,a);for(let l=0;l<n.length;l+=4)n[l]=s.r[n[l]],n[l+1]=s.g[n[l+1]],n[l+2]=s.b[n[l+2]]}sendUniformData(e,n){e.uniform3fv(n.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:C5,gamma:this.gamma.concat()}}}J(Ou,"type",C5),J(Ou,"defaults",{gamma:[1,1,1]}),J(Ou,"uniformLocations",["uGamma"]),De.setClass(Ou);const JG={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Au extends gn{applyTo2d(e){let{imageData:{data:n}}=e;for(let r,o=0;o<n.length;o+=4){const i=n[o],a=n[o+1],s=n[o+2];switch(this.mode){case"average":r=(i+a+s)/3;break;case"lightness":r=(Math.min(i,a,s)+Math.max(i,a,s))/2;break;case"luminosity":r=.21*i+.72*a+.07*s}n[o+2]=n[o+1]=n[o]=r}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return JG[this.mode]}sendUniformData(e,n){e.uniform1i(n.uMode,1)}isNeutralState(){return!1}}J(Au,"type","Grayscale"),J(Au,"defaults",{mode:"average"}),J(Au,"uniformLocations",["uMode"]),De.setClass(Au);const QG=ee(ee({},k5),{},{rotation:0});class qp extends os{calculateMatrix(){const e=this.rotation*Math.PI,n=ti(e),r=ni(e),o=1/3,i=Math.sqrt(o)*r,a=1-n;this.matrix=[n+a/3,o*a-i,o*a+i,0,0,o*a+i,n+o*a,o*a-i,0,0,o*a-i,o*a+i,n+o*a,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}J(qp,"type","HueRotation"),J(qp,"defaults",QG),De.setClass(qp);class Mu extends gn{applyTo2d(e){let{imageData:{data:n}}=e;for(let r=0;r<n.length;r+=4)n[r]=255-n[r],n[r+1]=255-n[r+1],n[r+2]=255-n[r+2],this.alpha&&(n[r+3]=255-n[r+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,n){e.uniform1i(n.uInvert,Number(this.invert)),e.uniform1i(n.uAlpha,Number(this.alpha))}}J(Mu,"type","Invert"),J(Mu,"defaults",{alpha:!1,invert:!0}),J(Mu,"uniformLocations",["uInvert","uAlpha"]),De.setClass(Mu);class $u extends gn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=this.noise;for(let o=0;o<n.length;o+=4){const i=(.5-Math.random())*r;n[o]+=i,n[o+1]+=i,n[o+2]+=i}}sendUniformData(e,n){e.uniform1f(n.uNoise,this.noise/255),e.uniform1f(n.uSeed,Math.random())}isNeutralState(){return this.noise===0}}J($u,"type","Noise"),J($u,"defaults",{noise:0}),J($u,"uniformLocations",["uNoise","uSeed"]),De.setClass($u);class Ru extends gn{applyTo2d(e){let{imageData:{data:n,width:r,height:o}}=e;for(let i=0;i<o;i+=this.blocksize)for(let a=0;a<r;a+=this.blocksize){const s=4*i*r+4*a,l=n[s],c=n[s+1],u=n[s+2],h=n[s+3];for(let f=i;f<Math.min(i+this.blocksize,o);f++)for(let p=a;p<Math.min(a+this.blocksize,r);p++){const m=4*f*r+4*p;n[m]=l,n[m+1]=c,n[m+2]=u,n[m+3]=h}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,n){e.uniform1f(n.uBlocksize,this.blocksize)}}J(Ru,"type","Pixelate"),J(Ru,"defaults",{blocksize:4}),J(Ru,"uniformLocations",["uBlocksize"]),De.setClass(Ru);class Du extends gn{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=255*this.distance,o=new Et(this.color).getSource(),i=[o[0]-r,o[1]-r,o[2]-r],a=[o[0]+r,o[1]+r,o[2]+r];for(let s=0;s<n.length;s+=4){const l=n[s],c=n[s+1],u=n[s+2];l>i[0]&&c>i[1]&&u>i[2]&&l<a[0]&&c<a[1]&&u<a[2]&&(n[s+3]=0)}}sendUniformData(e,n){const r=new Et(this.color).getSource(),o=this.distance,i=[0+r[0]/255-o,0+r[1]/255-o,0+r[2]/255-o,1],a=[r[0]/255+o,r[1]/255+o,r[2]/255+o,1];e.uniform4fv(n.uLow,i),e.uniform4fv(n.uHigh,a)}}J(Du,"type","RemoveColor"),J(Du,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),J(Du,"uniformLocations",["uLow","uHigh"]),De.setClass(Du);class Pu extends gn{sendUniformData(e,n){e.uniform2fv(n.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(n.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),n=this.tempScale,r=this.getFilterWindow(),o=new Array(r);for(let i=1;i<=r;i++)o[i-1]=e(i*n);return o}generateShader(e){const n=new Array(e);for(let r=1;r<=e;r++)n[r-1]="".concat(r,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(n.map((r,o)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(r,") * uTaps[").concat(o,"] + texture2D(uTexture, vTexCoord - ").concat(r,") * uTaps[").concat(o,`];
              sum += 2.0 * uTaps[`).concat(o,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){hf(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return n=>{if(n>=e||n<=-e)return 0;if(n<11920929e-14&&n>-11920929e-14)return 1;const r=(n*=Math.PI)/e;return Math.sin(n)/n*Math.sin(r)/r}}applyTo2d(e){const n=e.imageData,r=this.scaleX,o=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/o;const i=n.width,a=n.height,s=Math.round(i*r),l=Math.round(a*o);let c;c=this.resizeType==="sliceHack"?this.sliceByTwo(e,i,a,s,l):this.resizeType==="hermite"?this.hermiteFastResize(e,i,a,s,l):this.resizeType==="bilinear"?this.bilinearFiltering(e,i,a,s,l):this.resizeType==="lanczos"?this.lanczosResize(e,i,a,s,l):new ImageData(s,l),e.imageData=c}sliceByTwo(e,n,r,o,i){const a=e.imageData,s=.5;let l=!1,c=!1,u=n*s,h=r*s;const f=e.filterBackend.resources;let p=0,m=0;const v=n;let g=0;f.sliceByTwo||(f.sliceByTwo=ri());const b=f.sliceByTwo;(b.width<1.5*n||b.height<r)&&(b.width=1.5*n,b.height=r);const y=b.getContext("2d");for(y.clearRect(0,0,1.5*n,r),y.putImageData(a,0,0),o=Math.floor(o),i=Math.floor(i);!l||!c;)n=u,r=h,o<Math.floor(u*s)?u=Math.floor(u*s):(u=o,l=!0),i<Math.floor(h*s)?h=Math.floor(h*s):(h=i,c=!0),y.drawImage(b,p,m,n,r,v,g,u,h),p=v,m=g,g+=h;return y.getImageData(p,m,o,i)}lanczosResize(e,n,r,o,i){const a=e.imageData.data,s=e.ctx.createImageData(o,i),l=s.data,c=this.lanczosCreate(this.lanczosLobes),u=this.rcpScaleX,h=this.rcpScaleY,f=2/this.rcpScaleX,p=2/this.rcpScaleY,m=Math.ceil(u*this.lanczosLobes/2),v=Math.ceil(h*this.lanczosLobes/2),g={},b={x:0,y:0},y={x:0,y:0};return function x(w){let _,k,E,$,A,D,O,S,T,C,M;for(b.x=(w+.5)*u,y.x=Math.floor(b.x),_=0;_<i;_++){for(b.y=(_+.5)*h,y.y=Math.floor(b.y),A=0,D=0,O=0,S=0,T=0,k=y.x-m;k<=y.x+m;k++)if(!(k<0||k>=n)){C=Math.floor(1e3*Math.abs(k-b.x)),g[C]||(g[C]={});for(let R=y.y-v;R<=y.y+v;R++)R<0||R>=r||(M=Math.floor(1e3*Math.abs(R-b.y)),g[C][M]||(g[C][M]=c(Math.sqrt(Math.pow(C*f,2)+Math.pow(M*p,2))/1e3)),E=g[C][M],E>0&&($=4*(R*n+k),A+=E,D+=E*a[$],O+=E*a[$+1],S+=E*a[$+2],T+=E*a[$+3]))}$=4*(_*o+w),l[$]=D/A,l[$+1]=O/A,l[$+2]=S/A,l[$+3]=T/A}return++w<o?x(w):s}(0)}bilinearFiltering(e,n,r,o,i){let a,s,l,c,u,h,f,p,m,v,g,b,y,x=0;const w=this.rcpScaleX,_=this.rcpScaleY,k=4*(n-1),E=e.imageData.data,$=e.ctx.createImageData(o,i),A=$.data;for(f=0;f<i;f++)for(p=0;p<o;p++)for(u=Math.floor(w*p),h=Math.floor(_*f),m=w*p-u,v=_*f-h,y=4*(h*n+u),g=0;g<4;g++)a=E[y+g],s=E[y+4+g],l=E[y+k+g],c=E[y+k+4+g],b=a*(1-m)*(1-v)+s*m*(1-v)+l*v*(1-m)+c*m*v,A[x++]=b;return $}hermiteFastResize(e,n,r,o,i){const a=this.rcpScaleX,s=this.rcpScaleY,l=Math.ceil(a/2),c=Math.ceil(s/2),u=e.imageData.data,h=e.ctx.createImageData(o,i),f=h.data;for(let p=0;p<i;p++)for(let m=0;m<o;m++){const v=4*(m+p*o);let g=0,b=0,y=0,x=0,w=0,_=0,k=0;const E=(p+.5)*s;for(let $=Math.floor(p*s);$<(p+1)*s;$++){const A=Math.abs(E-($+.5))/c,D=(m+.5)*a,O=A*A;for(let S=Math.floor(m*a);S<(m+1)*a;S++){let T=Math.abs(D-(S+.5))/l;const C=Math.sqrt(O+T*T);C>1&&C<-1||(g=2*C*C*C-3*C*C+1,g>0&&(T=4*(S+$*n),k+=g*u[T+3],y+=g,u[T+3]<255&&(g=g*u[T+3]/250),x+=g*u[T],w+=g*u[T+1],_+=g*u[T+2],b+=g))}}f[v]=x/b,f[v+1]=w/b,f[v+2]=_/b,f[v+3]=k/y}return h}}J(Pu,"type","Resize"),J(Pu,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),J(Pu,"uniformLocations",["uDelta","uTaps"]),De.setClass(Pu);class Lu extends gn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=-this.saturation;for(let o=0;o<n.length;o+=4){const i=n[o],a=n[o+1],s=n[o+2],l=Math.max(i,a,s);n[o]+=l!==i?(l-i)*r:0,n[o+1]+=l!==a?(l-a)*r:0,n[o+2]+=l!==s?(l-s)*r:0}}sendUniformData(e,n){e.uniform1f(n.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}J(Lu,"type","Saturation"),J(Lu,"defaults",{saturation:0}),J(Lu,"uniformLocations",["uSaturation"]),De.setClass(Lu);class Fu extends gn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=-this.vibrance;for(let o=0;o<n.length;o+=4){const i=n[o],a=n[o+1],s=n[o+2],l=Math.max(i,a,s),c=(i+a+s)/3,u=2*Math.abs(l-c)/255*r;n[o]+=l!==i?(l-i)*u:0,n[o+1]+=l!==a?(l-a)*u:0,n[o+2]+=l!==s?(l-s)*u:0}}sendUniformData(e,n){e.uniform1f(n.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}J(Fu,"type","Vibrance"),J(Fu,"defaults",{vibrance:0}),J(Fu,"uniformLocations",["uVibrance"]),De.setClass(Fu);const eq={type:"circle",name:"圆形",icon:"i-tabler:circle",category:"basic",defaultProps:{type:"circle",left:100,top:100,width:100,height:100,angle:0,scaleX:1,scaleY:1,visible:!0,locked:!1,radius:50,fill:"#00ff00",stroke:"",strokeWidth:0,strokeDashArray:null,opacity:1,label:""},createFabricObject:t=>{const e=new Ji({left:t.left,top:t.top,radius:t.radius,fill:t.fill,stroke:t.stroke||void 0,strokeWidth:t.strokeWidth,strokeDashArray:t.strokeDashArray,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY,opacity:t.opacity,visible:t.visible,selectable:!t.locked,evented:!t.locked,strokeUniform:!0,lockUniScaling:!0});return e.label=t.label,e},getPropsFromFabricObject:t=>{const e=t,n=e.scaleX||1,r=e.scaleY||1,o=Math.round((e.radius||50)*Math.max(n,r));return{type:"circle",left:Math.round(e.left||0),top:Math.round(e.top||0),width:o*2,height:o*2,angle:Math.round(e.angle||0),scaleX:1,scaleY:1,visible:e.visible!==!1,locked:!e.selectable,radius:o,fill:e.fill||"#00ff00",stroke:e.stroke||"",strokeWidth:Math.round(e.strokeWidth||0),strokeDashArray:e.strokeDashArray||null,opacity:e.opacity||1,label:e.label||""}},getToolbarControls:t=>[{key:"label",label:"标签",type:"text",value:t.label,options:{placeholder:"请输入标签"}},{key:"radius",label:"半径",type:"number",value:t.radius,options:{min:1,max:1e3,step:1}},{key:"fill",label:"填充颜色",type:"color",value:t.fill},{key:"stroke",label:"边框颜色",type:"color",value:t.stroke},{key:"strokeWidth",label:"边框宽度",type:"number",value:t.strokeWidth,options:{min:0,max:50,step:1}},{key:"opacity",label:"透明度",type:"slider",value:t.opacity,options:{min:0,max:1,step:.01}}],onPropsChange:(t,e)=>{const n=e;n.set({radius:t.radius,fill:t.fill,stroke:t.stroke||void 0,strokeWidth:t.strokeWidth,opacity:t.opacity}),n.label=t.label}},tq={type:"image",name:"图片",icon:"i-tabler:photo",category:"basic",defaultProps:{id:"",type:"image",left:100,top:100,width:200,height:200,angle:0,scaleX:1,scaleY:1,visible:!0,locked:!1,src:"",opacity:1},createFabricObject:t=>qn.fromURL(t.src||"",{crossOrigin:"anonymous"}).then(e=>(e.set({left:t.left,top:t.top,width:t.width,height:t.height,angle:t.angle,opacity:t.opacity,visible:t.visible,selectable:!t.locked,evented:!t.locked}),e)),getPropsFromFabricObject:t=>{const e=t,n=(e.width||200)*(e.scaleX||1),r=(e.height||200)*(e.scaleY||1);return{type:"image",left:Math.round(e.left||0),top:Math.round(e.top||0),width:Math.round(n),height:Math.round(r),angle:Math.round(e.angle||0),scaleX:e.scaleX||1,scaleY:e.scaleY||1,visible:e.visible!==!1,locked:!e.selectable,src:e.getSrc()||"",opacity:e.opacity||1,cropX:0,cropY:0,borderRadius:0}},getToolbarControls:t=>[{key:"src",label:"选择图片",type:"image",value:t.src,options:{placeholder:"点击选择图片文件"}},{key:"width",label:"宽度",type:"number",value:t.width,options:{min:10,max:2e3,step:1}},{key:"height",label:"高度",type:"number",value:t.height,options:{min:10,max:2e3,step:1}},{key:"opacity",label:"透明度",type:"slider",value:t.opacity,options:{min:0,max:1,step:.01}}],onPropsChange:(t,e)=>{const n=e;if(t.src&&t.src!==(n.getSrc()||"")){n.setSrc(t.src,{crossOrigin:"anonymous"}).then(()=>{const s=n.getElement().width,l=n.getElement().height,c=n.canvas,u=c?.width||800,h=c?.height||600,f=u/s,p=h/l,m=Math.min(f,p,1);n.set({left:t.left,top:t.top,width:s,height:l,scaleX:m,scaleY:m,angle:t.angle,opacity:t.opacity,visible:t.visible,selectable:!t.locked,evented:!t.locked}),n.setCoords(),n.canvas?.renderAll(),n.canvas?.fire("object:modified",{target:n})});return}if(!t.src){n.setSrc("").then(()=>{n.set({width:200,height:200}),n.setCoords(),n.canvas?.renderAll(),n.canvas?.fire("object:modified",{target:n})});return}const r=n.width||200,o=n.height||200,i=t.width/r,a=t.height/o;n.set({left:t.left,top:t.top,scaleX:i,scaleY:a,angle:t.angle,opacity:t.opacity,visible:t.visible,selectable:!t.locked,evented:!t.locked}),n.setCoords(),n.canvas?.renderAll(),n.canvas?.fire("object:modified",{target:n})}},nq={type:"rect",name:"矩形",icon:"i-tabler:square",category:"basic",defaultProps:{id:"",type:"rect",left:100,top:100,width:100,height:100,angle:0,scaleX:1,scaleY:1,visible:!0,locked:!1,fill:"#ff0000",stroke:"",strokeWidth:0,strokeDashArray:null,rx:0,ry:0,opacity:1,label:""},createFabricObject:t=>{const e=new Hr({left:t.left,top:t.top,width:t.width,height:t.height,fill:t.fill,stroke:t.stroke||void 0,strokeWidth:t.strokeWidth,strokeDashArray:t.strokeDashArray,rx:t.rx,ry:t.ry,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY,opacity:t.opacity,visible:t.visible,selectable:!t.locked,evented:!t.locked,strokeUniform:!0,uniformScaling:!1});return e.setControlsVisibility({mtr:!0,mt:!0,mb:!0,ml:!0,mr:!0,tl:!0,tr:!0,bl:!0,br:!0}),e.label=t.label,e},getPropsFromFabricObject:t=>{const e=t,n=e.scaleX||1,r=e.scaleY||1;return{type:"rect",left:Math.round(e.left||0),top:Math.round(e.top||0),width:Math.round((e.width||100)*n),height:Math.round((e.height||100)*r),angle:Math.round(e.angle||0),scaleX:1,scaleY:1,visible:e.visible!==!1,locked:!e.selectable,fill:e.fill||"#ff0000",stroke:e.stroke||"",strokeWidth:Math.round(e.strokeWidth||0),strokeDashArray:e.strokeDashArray||null,rx:Math.round(e.rx||0),ry:Math.round(e.ry||0),opacity:e.opacity||1,label:e.label||""}},getToolbarControls:t=>[{key:"label",label:"标签",type:"text",value:t.label,options:{placeholder:"请输入标签"}},{key:"width",label:"宽度",type:"number",value:t.width,options:{min:1,max:2e3,step:1}},{key:"height",label:"高度",type:"number",value:t.height,options:{min:1,max:2e3,step:1}},{key:"fill",label:"填充颜色",type:"color",value:t.fill},{key:"stroke",label:"边框颜色",type:"color",value:t.stroke},{key:"strokeWidth",label:"边框宽度",type:"number",value:t.strokeWidth,options:{min:0,max:50,step:1}},{key:"rx",label:"圆角半径",type:"number",value:t.rx,options:{min:0,max:100,step:1}},{key:"opacity",label:"透明度",type:"slider",value:t.opacity,options:{min:0,max:1,step:.01}}],onPropsChange:(t,e)=>{const n=e;n.set({width:t.width,height:t.height,fill:t.fill,stroke:t.stroke||void 0,strokeWidth:t.strokeWidth,rx:t.rx,ry:t.rx,opacity:t.opacity}),n.label=t.label}},rq={type:"text",name:"文本",icon:"i-tabler:typography",category:"basic",defaultProps:{id:"",type:"text",left:100,top:100,width:200,angle:0,scaleX:1,scaleY:1,visible:!0,locked:!1,text:"双击编辑文本",fontSize:20,fontFamily:"Arial",fill:"#000000",textAlign:"left",fontWeight:"normal",fontStyle:"normal",underline:!1,linethrough:!1},createFabricObject:t=>{const e=new Ci(t.text,{left:t.left,top:t.top,width:t.width,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY,visible:t.visible,selectable:!t.locked,evented:!t.locked,fontSize:t.fontSize,fontFamily:t.fontFamily,fill:t.fill,textAlign:t.textAlign,fontWeight:t.fontWeight,fontStyle:t.fontStyle,underline:t.underline,linethrough:t.linethrough,splitByGrapheme:!0,lockScalingY:!0,setControlsVisibility:{mt:!1,mb:!1}});let n=t.fontSize;return e.on("mousedown",()=>{n=e.fontSize||20}),e.on("scaling",()=>{const r=e.scaleX||1,o=Math.round(n*r),i=Math.max(8,Math.min(200,o));e.set({fontSize:i,scaleX:1,scaleY:1}),e.canvas?.requestRenderAll()}),e.on("mousedblclick",()=>{e.enterEditing(),e.selectAll()}),e},getPropsFromFabricObject:t=>{const e=t;return{left:Math.round(e.left||0),top:Math.round(e.top||0),width:Math.round(e.width||0),angle:Math.round(e.angle||0),scaleX:e.scaleX||1,scaleY:e.scaleY||1,visible:e.visible!==!1,locked:!e.selectable,text:e.text||"",fontSize:Math.round(e.fontSize||20),fontFamily:e.fontFamily||"Arial",fill:e.fill,textAlign:e.textAlign||"left",fontWeight:e.fontWeight||"normal",fontStyle:e.fontStyle||"normal",underline:e.underline||!1,linethrough:e.linethrough||!1}},onPropsChange:(t,e)=>{e.set({left:t.left,top:t.top,width:t.width,angle:t.angle,visible:t.visible,selectable:!t.locked,evented:!t.locked,text:t.text,fontSize:t.fontSize,fontFamily:t.fontFamily,fill:t.fill,textAlign:t.textAlign,fontWeight:t.fontWeight,fontStyle:t.fontStyle,underline:t.underline,linethrough:t.linethrough})},getToolbarControls:t=>[{key:"text",label:"文本内容",type:"text",value:t.text},{key:"fontSize",label:"字体大小",type:"number",value:t.fontSize,options:{min:8,max:200,step:1}},{key:"fontFamily",label:"字体",type:"select",value:t.fontFamily,options:{choices:[{label:"Arial",value:"Arial"},{label:"微软雅黑",value:"Microsoft YaHei"},{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"}]}},{key:"fill",label:"颜色",type:"color",value:t.fill},{key:"textAlign",label:"对齐",type:"select",value:t.textAlign,options:{choices:[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}]}},{key:"fontWeight",label:"粗体",type:"select",value:t.fontWeight,options:{choices:[{label:"正常",value:"normal"},{label:"粗体",value:"bold"}]}},{key:"fontStyle",label:"斜体",type:"select",value:t.fontStyle,options:{choices:[{label:"正常",value:"normal"},{label:"斜体",value:"italic"}]}},{key:"underline",label:"下划线",type:"switch",value:t.underline},{key:"linethrough",label:"删除线",type:"switch",value:t.linethrough}]};let oq=class{elements=new Map;register(e){this.elements.set(e.type,e)}registerAll(e){e.forEach(n=>this.register(n))}get(e){return this.elements.get(e)||null}getAll(){return Array.from(this.elements.values())}getByCategory(e){return this.getAll().filter(n=>n.category===e)}getCategories(){const e=new Set(this.getAll().map(n=>n.category));return Array.from(e)}};const Sc=new oq;Sc.registerAll([rq,nq,eq,tq]);const S5=Sc.getAll(),Ka=t=>Sc.get(t),iq=t=>Sc.getByCategory(t),Hi=X({name:"DuxPageStatus",props:{title:String,desc:String,bordered:{type:Boolean,default:!0}},setup(t,{slots:e}){return()=>d(In,{class:"size-full flex items-center justify-center",bordered:t.bordered},{default:()=>[d("div",{class:"flex flex-col gap-6 justify-center items-center py-10 h-full"},[d("div",{class:"w-40"},[e.default?.()]),d("div",{class:"flex flex-col items-center justify-center gap-2"},[d("div",{class:"text-lg text-default font-bold"},[t?.title]),d("div",{class:"text-muted"},[t?.desc])]),d("div",{class:"flex justify-center items-center gap-4"},[e.action?.()])])]})}});function aq(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const yv=X({name:"DuxPage404",setup(t){const e=To(),n=mn(),{t:r}=ye();function o(){n.push({path:e.path,query:{...e.query,t:Date.now()}})}return()=>d(Hi,{title:r("pages.404.title"),desc:r("pages.404.desc")},{default:()=>d("div",null,[d(zh,null,null)]),action:()=>{let i;return d(me,{onClick:o,renderIcon:()=>d("div",{class:"n-icon i-tabler:refresh"},null)},aq(i=r("components.button.refresh"))?i:{default:()=>[i]})}})}});yv.displayName="DuxPage404";function Ks(t){const e=t?.min??!1,n=t?.showLegend??!e,r=e&&(t?.showXAxisLabel||t?.showYAxisLabel);return{grid:{left:e?"0%":"10",right:e?"0%":"10",top:e?"2%":"15%",bottom:e?"0%":"10%",containLabel:!e||r},tooltip:{show:!0},legend:{show:n,top:"0",bottom:"0"}}}function E5(t){const e=Ks(t),n=t?.min??!1,r=z(()=>t?.labels?.length?t.labels:Array.isArray(t?.data)&&t.data.length>0&&typeof t.data[0]=="object"&&t.data[0]!==null&&"name"in t.data[0]?t.data.map(f=>f.name):[]),o=z(()=>{if(!t?.data?.length)return[{name:t?.name||"Series",data:[],stack:void 0}];const f=t.data[0];return typeof f=="object"&&f!==null&&"data"in f&&Array.isArray(f.data)?t.data:typeof f=="object"&&f!==null&&"name"in f&&"value"in f?[{name:t?.name||"Series",data:t.data.map(p=>p.value),stack:void 0}]:typeof f=="number"?[{name:t?.name||"Series",data:t.data,stack:void 0}]:[{name:t?.name||"Series",data:[],stack:void 0}]}),i=t?.showXAxisLabel??!n,a=t?.showYAxisLabel??!n,s=t?.showXAxisLine??!n,l=t?.showYAxisLine??!n,c=t?.showGridLine??!1,u=t?.showSplitArea??!1,h=t?.showSplitArea??!n;return{commonOption:e,xAxisData:r,seriesData:o,xAxisConfig:{axisLabel:{show:i,showMinLabel:!n,showMaxLabel:!n},axisLine:{show:s},axisTick:{show:s},splitLine:{show:c},splitArea:{show:u}},yAxisConfig:{axisLabel:{show:a,showMinLabel:!n,showMaxLabel:!n},axisLine:{show:l},axisTick:{show:l},splitLine:{show:c},splitArea:{show:h}},isMin:n}}function jm(t){const{commonOption:e,xAxisData:n,seriesData:r,xAxisConfig:o,yAxisConfig:i,isMin:a}=E5(t);return{option:z(()=>{const s=r.value.length>1&&(t?.showLegend??!a);return{...e,legend:{...e.legend,show:s},tooltip:{...e.tooltip,trigger:"axis"},xAxis:{type:t?.horizontal?"value":"category",data:t?.horizontal?void 0:n.value,...o,axisLabel:{...o.axisLabel},splitArea:{...o.splitArea,show:o.splitArea?.show??!t?.horizontal}},yAxis:{type:t?.horizontal?"category":"value",data:t?.horizontal?n.value:void 0,...i,axisLabel:{...i.axisLabel},splitNumber:a?3:void 0,splitArea:{...i.splitArea}},series:r.value.map((l,c)=>{const u=!!(t?.stack||l.stack),h=c===0,f=c===r.value.length-1;let p=a?2:4;return u&&(h&&f?p=a?2:4:h?p=[0,0,p,p]:f?p=[p,p,0,0]:p=0),{type:"bar",name:l.name,stack:t?.stack||l.stack,data:l.data,barMaxWidth:40,itemStyle:{borderRadius:p}}})}})}}function T5(t){const{commonOption:e,xAxisData:n,seriesData:r,xAxisConfig:o,yAxisConfig:i,isMin:a}=E5(t);return{option:z(()=>{const s=r.value.length>1&&(t?.showLegend??!a);return{...e,legend:{...e.legend,show:s},tooltip:{...e.tooltip,trigger:"axis"},xAxis:{type:"category",data:n.value,boundaryGap:!a,...o,axisLabel:{...o.axisLabel},splitArea:{...o.splitArea,show:o.splitArea?.show??!1}},yAxis:{type:"value",...i,axisLabel:{...i.axisLabel},splitNumber:a?3:void 0,splitArea:{...i.splitArea}},series:r.value.map(l=>({type:"line",name:l.name,stack:t?.stack||l.stack,data:l.data,smooth:t?.smooth??!1,symbol:a?"none":"circle",symbolSize:a?0:6,lineStyle:{width:2}}))}})}}function ff(t){const e=Ks(t),n=t?.min??!1,r=z(()=>t?.data?.map?.(s=>({name:s.name,value:s.value}))||[]),o=re([]);pe(()=>t?.data,()=>{o.value=t?.data?.map?.(s=>({...s,status:!0}))||[]},{immediate:!0});const i=z(()=>o.value?.reduce((s,l)=>(s[l.name]=l.status,s),{})),a=z(()=>(t?.data?.length||0)>1&&(t?.showLegend??!n));return{commonOption:e,data:r,legendData:o,selected:i,shouldShowLegend:a,isMin:n}}function O5(t){const{commonOption:e,data:n,legendData:r,selected:o,shouldShowLegend:i,isMin:a}=ff(t);return{option:z(()=>{const s={...e};return delete s.grid,{...s,tooltip:{...e.tooltip,trigger:"item"},legend:{...e.legend,show:i.value,selected:o.value},series:{type:"pie",top:a?"0%":"10%",radius:a?"100%":"65%",center:["50%","50%"],label:{show:!a},labelLine:{show:!a},emphasis:{scale:!a,scaleSize:a?0:10},data:n.value}}}),legendData:r}}function A5(t){const{commonOption:e,data:n,legendData:r,selected:o,shouldShowLegend:i,isMin:a}=ff(t),s=z(()=>r.value?.reduce((l,c)=>s4(l,Number(c.value)),0)||0);return{option:z(()=>{const l={...e};return delete l.grid,{...l,tooltip:{...e.tooltip,trigger:"item"},legend:{...e.legend,show:i.value,selected:o.value},graphic:a?[]:[{type:"text",left:"center",top:"45%",style:{text:t?.ringLabel||"Total",textAlign:"center",fontSize:14}},{type:"text",left:"center",top:"55%",style:{text:String(s.value),textAlign:"center",fontSize:16}}],series:{top:a?"0%":"10%",type:"pie",radius:a?["30%","100%"]:["40%","70%"],center:["50%","50%"],label:{show:!a},labelLine:{show:!a},emphasis:{scale:!a,scaleSize:a?0:10},data:n.value}}}),legendData:r}}function M5(t){const{commonOption:e,data:n,legendData:r,selected:o,shouldShowLegend:i,isMin:a}=ff(t);return{option:z(()=>{const s={...e};return delete s.grid,{...s,tooltip:{...e.tooltip,trigger:"item"},legend:{...e.legend,show:i.value,selected:o.value},series:{type:"pie",top:a?"0%":"10%",radius:a?"100%":"70%",center:["50%","50%"],roseType:"area",label:{show:!a},labelLine:{show:!a},emphasis:{scale:!a,scaleSize:a?0:10},data:n.value}}}),legendData:r}}function $5(t){const{commonOption:e,data:n,legendData:r,selected:o,shouldShowLegend:i,isMin:a}=ff(t);return{option:z(()=>{const s={...e};return delete s.grid,{...s,tooltip:{...e.tooltip,trigger:"item"},legend:{...e.legend,show:i.value,selected:o.value},series:{type:"funnel",top:a?"0%":"15%",left:a?"0%":"10%",right:a?"0%":"10%",bottom:a?"0%":"5%",label:{show:!a},data:n.value}}}),legendData:r}}function R5(t){const e=Ks(t),n=t?.min??!1;return{option:z(()=>{const r={...e};delete r.grid;const o=(t?.data?.length||0)>1&&(t?.showLegend??!n);return{...r,tooltip:{...e.tooltip,trigger:"item"},legend:{...e.legend,show:o,left:"center"},radar:{indicator:t?.indicator||[],splitArea:{show:!n},center:["50%","50%"],radius:n?"100%":"50%",axisName:{color:n?"transparent":void 0}},series:[{type:"radar",data:t?.data||[],lineStyle:{width:n?1:2},areaStyle:{opacity:n?.3:.5}}]}})}}function D5(t){const e=Ks(t),n=t?.min??!1;return{option:z(()=>({...e,tooltip:{...e.tooltip,trigger:"item"},visualMap:{show:!n,min:0,max:Math.max(...t?.data?.map(r=>r.value)||[100]),left:"left",top:"bottom",calculable:!0},series:[{type:"map",map:t?.mapName||"china",data:t?.data||[],label:{show:!n}}]}))}}function P5(t){const e=Ks(t),n=t?.min??!1;return{option:z(()=>{const r=Array.isArray(t?.data)&&t?.data.length>0&&Array.isArray(t?.data[0]);let o;if(r){const i=t?.data,a=Array.isArray(t?.name)?t?.name:[t?.name||"TreeMap"];o=i.map((s,l)=>({name:a[l]||`TreeMap ${l+1}`,type:"treemap",data:s,label:{show:!n},itemStyle:{borderWidth:n?1:2},top:`${15+l*(60/i.length)}%`,height:`${70/i.length-5}%`,breadcrumb:{show:!1},roam:n?!1:"move",nodeClick:!n,levels:[{itemStyle:{borderWidth:0,gapWidth:n?1:2}}]}))}else o=[{name:Array.isArray(t?.name)?t?.name[0]:t?.name||"TreeMap",type:"treemap",data:t?.data||[],label:{show:!n},itemStyle:{borderWidth:n?1:2},breadcrumb:{show:!n},roam:n?!1:"move",nodeClick:!n,levels:[{itemStyle:{borderWidth:0,gapWidth:n?1:2}}]}];return{...e,legend:{...e.legend},tooltip:{...e.tooltip,trigger:"item"},grid:{...e.grid,top:r?"15%":"10%",bottom:r?"15%":"5%"},series:o}})}}function L5(t,e){switch(t){case"bar":return jm(e);case"line":return T5(e);case"pie":return O5(e);case"ring":return A5(e);case"rose":return M5(e);case"radar":return R5(e);case"map":return D5(e);case"funnel":return $5(e);case"treemap":return P5(e);default:return jm(e)}}const xv=X({name:"DuxChart",props:{height:{type:String,default:"50px"},min:{type:Boolean,default:!1},type:{type:String,default:"bar"},option:{type:Object,default:{}},class:{type:String,default:""}},extends:ag,setup(t){const e=z(()=>{const{min:r,height:o,option:i,...a}=t;return a}),{option:n}=L5(t.type,{min:t.min,...t.option});return()=>d(ag,yt({style:{minHeight:t.height}},e.value,{option:n.value,autoresize:!0,theme:"default",initOptions:{renderer:"svg"}}),null)}}),F5=X({name:"DuxCodeEditor",props:{defaultValue:{type:String,default:""},value:{type:String,default:""},lang:{type:String,default:"json"},readonly:Boolean},setup(t,{emit:e}){const n=Ue(t,"value",e,{passive:!0,defaultValue:t.defaultValue||""}),r=Ao();return()=>d("div",{class:"border border-muted"},[d(V4,{readonly:t.readonly,theme:r.isDark.value?"tomorrow_night":"tomorrow",value:n.value,"onUpdate:value":o=>n.value=o,lang:t.lang||"json",class:"h-60"},null)])}}),wv=X({name:"DuxModal",props:{title:{type:String},component:{type:[Function,Object]},componentProps:Object,width:{type:[Number,String],default:500},modalProps:{type:Object},draggable:{type:Boolean,default:!0}},setup(t){const{visible:e,resolve:n,reject:r,vanish:o}=wh({duration:1e3}),i=t?.componentProps||{};i.title=t.title,i.onConfirm=n,i.onClose=r;const a=typeof t.component=="function"?zm(t.component):t.component;return()=>d(hh,yt({displayDirective:"show",show:e.value,onAfterLeave:()=>{o()},onClose:()=>{r()},onEsc:()=>{r()},draggable:t.draggable,class:"bg-white rounded dark:shadow-gray-950/80  dark:bg-gray-800/60 backdrop-blur",role:"dialog","aria-modal":"true"},t.modalProps,{autoFocus:!1}),{default:({draggableClass:s})=>d("div",{class:["max-w-full shadow-lg"],style:{width:typeof t.width=="number"?`${t.width}px`:t.width}},[d(X2,null,{default:()=>d(a,yt(i,{title:t.title,handle:s}),null),fallback:()=>d(ii,{show:!0},{default:()=>[d("div",{class:"h-100"},null)]})})])})}});function sr(){const t=_h(wv);return{show:e=>t(e)}}const I5=X({name:"DuxImageCrop",props:{defaultValue:{type:String,default:""},value:{type:String,default:""},path:{type:String,default:""},circle:{type:Boolean,default:!0}},setup(t,{emit:e}){const{t:n}=ye(),r=Ue(t,"value",e,{passive:!0,defaultValue:t.defaultValue||""}),{config:o}=it(),i=sr(),a=wn(),s=Da({path:t.path||o.apiPath?.upload||"upload",params:{mime:"image/png"},autoUpload:!0,onSuccess:l=>{r.value=l.data?.url,a.success(n("components.upload.success"))},onError:l=>{a.error(l.message||n("components.upload.failed"))}});return()=>d("div",{class:["relative size-80px overflow-hidden group",t.circle&&"rounded-full"],onClick:()=>{i.show({component:()=>Tn(()=>Promise.resolve().then(()=>sq),void 0).then(l=>l.DuxImageCropModal),componentProps:{value:r.value,onConfirm:l=>{r.value=l}}})?.then?.(l=>{l&&(l.name="image.png",l.mime="image/png",s.addFiles([l],"blob"))}).catch(()=>{})}},[d(_s,{src:r.value,circle:t.circle,size:80},null),d("div",{class:"absolute size-full bg-gray-900/30 items-center justify-center inset-0 cursor-pointer hidden z-1 group-hover:flex"},[d("div",{class:"i-tabler:pencil size-4 text-white/90"},null)])])}}),Zs=X({name:"DuxModalPage",props:{title:{type:String,default:""},draggable:{type:Boolean,default:!1},handle:{type:String},onClose:{type:Function,default:()=>{}}},setup(t,{slots:e}){const n=re();return pe(n,r=>{r&&Lt(()=>{r.$el?.focus?.()})}),()=>d("div",{class:"flex flex-col"},[d("div",{class:["px-4 py-3 border-b border-muted rounded-t flex justify-between items-center  bg-white dark:bg-gray-800/50",t.draggable&&"cursor-move",t.handle]},[d("div",{class:"text-base font-bold"},[t.title]),d("div",{class:"flex justify-end gap-2"},[d(me,{text:!0,onClick:t.onClose,"aria-label":"close",ref:n},{icon:()=>d("div",{class:"i-tabler:x"},null)})])]),d("div",{class:"p-4"},[e.default?.()]),e.footer?.()&&d("div",{class:"flex justify-end gap-2 p-3 rounded-b border-t border-muted bg-muted dark:bg-gray-800/50"},[e.footer?.()])])}});function D2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const _v=X({props:{value:String,onConfirm:Function},setup(t){const{t:e}=ye(),n=re(),r=re(t.value||""),{open:o,files:i}=Xm({accept:"image/*"});pe(i,s=>{if(s&&s.length>0){const l=s[0],c=new Blob([l],{type:l.type});r.value=URL.createObjectURL(c)}});const a=()=>{o()};return()=>d(Zs,{title:e("components.crop.title")},{default:()=>d("div",{class:"h-100"},[d(zA,{ref:n,img:r.value,autoCrop:!0,centerBox:!0,canMove:!1,fixed:!0,outputType:"png",mode:"contain"},null)]),footer:()=>{let s,l;return d("div",{class:"flex-1 flex justify-between items-center"},[d("div",{class:"flex items-center gap-2"},[d(me,{type:"primary",secondary:!0,onClick:()=>{a()}},D2(s=e("components.crop.select"))?s:{default:()=>[s]}),d(me,{secondary:!0,onClick:()=>{n.value.changeScale(1)}},{default:()=>[d("div",{class:"i-tabler:zoom-in"},null)]}),d(me,{secondary:!0,onClick:()=>{n.value.changeScale(-1)}},{default:()=>[d("div",{class:"i-tabler:zoom-out"},null)]}),d(me,{secondary:!0,onClick:()=>{n.value.rotateLeft()}},{default:()=>[d("div",{class:"i-tabler:rotate"},null)]}),d(me,{secondary:!0,onClick:()=>{n.value.rotateRight()}},{default:()=>[d("div",{class:"i-tabler:rotate-clockwise"},null)]})]),d(me,{type:"primary",onClick:()=>{n.value.getCropBlob(c=>{t.onConfirm?.(c)})}},D2(l=e("components.crop.confirm"))?l:{default:()=>[l]})])}})}}),sq=Object.freeze(Object.defineProperty({__proto__:null,DuxImageCropModal:_v},Symbol.toStringTag,{value:"Module"})),N5=X({name:"DuxDashboardHello",props:{title:String,desc:String,data:Array},setup(t){return()=>d("div",{class:"rounded p-6 py-5 flex flex-col md:flex-row gap-4 items-center justify-between bg-primary text-sm text-white overflow-hidden relative border border-primary-6"},[d("div",{class:"flex flex-1 flex-col gap-1 text-center md:text-left"},[d("div",{class:"text-lg"},[t.title]),d("div",{class:"opacity-70"},[t.desc])]),d("div",{class:"flex justify-end divide-x divide-white/20"},[t.data?.map((e,n)=>d("div",{key:n,class:"flex flex-col justify-center items-center px-4"},[d("div",null,[e.label]),d("div",{class:"text-lg font-bold",onClick:e?.onClick},[e.value||0])]))]),d("div",{class:"absolute top-7 -right-20 rounded-full size-40 bg-white/8"},null),d("div",{class:"absolute top-0 -right-20 rounded-full size-50 bg-white/8"},null),d("div",{class:"absolute -top-7 -right-18 rounded-full size-60 bg-white/8"},null)])}}),j5=X({name:"DuxDashboardHelloBig",props:{title:String,desc:String,data:Array},setup(t){const e=re(t.desc);return vn(()=>{t.desc||UA(n=>{e.value=n.data.content})}),()=>d(In,null,{default:()=>[d("div",{class:"transition-all flex justify-between items-center overflow-hidden"},[d("div",{class:"flex flex-col gap-2 md:gap-4 p-6 md:p-10"},[d("div",{class:"text-xl font-bold"},[t.title]),d("div",{class:"text-muted text-sm"},[e.value]),d("div",{class:"flex gap-4 text-sm text-muted flex-warp whitespace-nowrap"},[t.data?.map((n,r)=>d("div",{class:"flex gap-1 items-center",key:r},[d("div",{class:rt(["text-primary",n.color?`text-${n.color}`:"text-primary",n.icon])},null),d("div",null,[n.label]),d("div",null,[Dt("("),n.value||"0",Dt(")")])]))])]),d("div",{class:"pt-6 items-end hidden md:flex"},[d("svg",{class:"w-70 h-40",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",width:"751.15479",height:"558.14695",viewBox:"0 0 751.15479 558.14695"},[d("path",{d:"M865.65741,724.88374c7.97-18.67,13.59-38.99,10.93-59.1a65.244,65.244,0,0,0-5.88-19.65,59.55844,59.55844,0,0,0-9.22-13.93,8.35,8.35,0,0,0-10.57-1.7c-.26.15-.52.31-.76.48a8.751,8.751,0,0,0-2.97,3.63,6.28289,6.28289,0,0,0-.31.86005,8.93814,8.93814,0,0,0-.29,3.79,95.57036,95.57036,0,0,1-.9,31.11q-.765,3.915-1.87,7.76a77.51261,77.51261,0,0,0-5.27-5.93,65.32224,65.32224,0,0,0-16.45-12.12h-.01c-.03-.02-.05-.03-.08-.05-7.38-3.76-17.22-2.2-22.97.36-.38.16-.74.34-1.09.51-3,1.54-4.49,3.31-3.21,4.47.29.25.58.51.85.77a95.69757,95.69757,0,0,1,21.06,28.34v.01a93.30453,93.30453,0,0,1,5.21,13.16c1.93,6.23,3.53,13.14,7.3,18.22a16.379,16.379,0,0,0,1.25,1.53l33.68-.27c.08-.04.15-.07.23-.11l1.34.05c-.05-.24-.11005-.48-.17-.72v-.02c-.03-.13-.07-.27-.1-.39-.03-.1-.05-.19-.07-.27.06-.15.12-.29.19-.44C865.55737,725.11372,865.60742,725.00374,865.65741,724.88374Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),d("path",{d:"M865.48737,726.33375a.44053.44053,0,0,1-.69.3,18.26524,18.26524,0,0,0-4.51-2.39c-.01-.01-.01,0-.01,0a37.984,37.984,0,0,0-6.24-1.66c-.02,0-.03-.01-.05-.01-.86-.17-1.72-.32-2.58-.48-4.18-.77-8.43-1.7-12.05-4.08a12.2766,12.2766,0,0,1-5.63-8.33c-.53-3.35.13995-6.72.42-10.06.02-.24.04-.49.05-.73.02-.31.03-.61.03-.91a19.40059,19.40059,0,0,0-1.78-8.8,34.90484,34.90484,0,0,0-6.36-8.94q-1.995-2.145-4.16-4.13h-.01c-.06-.06-.11005-.11-.17-.16,0-.01-.01-.02-.02-.03a81.07415,81.07415,0,0,0-20.75-13.7c-.27-.12006-.55005-.25-.83-.37006-.73-.32995-1.46-.63995-2.2-.94995.35-.17.71-.35,1.09-.51a82.98906,82.98906,0,0,1,23.09,14.66c.23.2.46.41.68.62q2.59506,2.40006,4.94,5.03a32.50591,32.50591,0,0,1,5.99,9.16,20.41207,20.41207,0,0,1,1.39,8.58c-.02.56-.06,1.12-.11,1.69-.31,3.37-1,6.85-.23,10.22.88,3.84,3.86,6.52,7.32,8.16a31.63562,31.63562,0,0,0,7.16,2.22c5.1,1.07,10.37,1.59,14.83,4.33h.01c.06995.05.14.09.19995.13.01,0,.01,0,.01.01a9.48583,9.48583,0,0,1,.93.63c.02.01.04.03.06.04a.57133.57133,0,0,1,.08.07A.44417.44417,0,0,1,865.48737,726.33375Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("path",{d:"M822.54456,676.01669a12.20505,12.20505,0,0,0-.4048-15.79909c-.39207-.43523-1.08681.15359-.69422.58939a11.30162,11.30162,0,0,1,.34651,14.69723c-.3699.45429.38472.96417.75251.51247Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("path",{d:"M834.51715,697.953a23.52427,23.52427,0,0,1-16.57968-4.36164c-.47343-.34593-.98534.407-.51248.75251a24.46876,24.46876,0,0,0,17.26189,4.50361c.58286-.06946.41-.96357-.16973-.89448Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("path",{d:"M801.03741,662.11372c-.02.04-.04.07-.06.11005a7.76357,7.76357,0,0,1-5.39,3.92c-.27-.26-.56-.52-.85-.77a.33369.33369,0,0,1,.15-.05,6.90857,6.90857,0,0,0,5.26-3.47c.05-.07995.1-.17.14-.25a.45106.45106,0,0,1,.63-.12A.46977.46977,0,0,1,801.03741,662.11372Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("path",{d:"M297.68366,176.36968a67.89449,67.89449,0,0,0-67.8179,67.8179V504.08739a67.8945,67.8945,0,0,0,67.8179,67.8179H902.31634a67.8945,67.8945,0,0,0,67.8179-67.8179V244.18758a67.89449,67.89449,0,0,0-67.8179-67.8179Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))",style:"isolation:isolate"},null),d("path",{d:"M902.31634,577.34844H297.68366a73.3436,73.3436,0,0,1-73.261-73.261V244.18758a73.3436,73.3436,0,0,1,73.261-73.261H902.31634a73.3436,73.3436,0,0,1,73.26105,73.261V504.08739A73.3436,73.3436,0,0,1,902.31634,577.34844ZM297.68366,181.81283a62.44539,62.44539,0,0,0-62.37475,62.37475V504.08739a62.44539,62.44539,0,0,0,62.37475,62.37475H902.31634a62.44539,62.44539,0,0,0,62.37475-62.37475V244.18758a62.44539,62.44539,0,0,0-62.37475-62.37475Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))",style:"isolation:isolate"},null),d("path",{d:"M601.62347,230.17926H314.08a23.19146,23.19146,0,0,0-23.15155,23.15155v129.6921a21.81835,21.81835,0,0,0,.38106,4.10053c.09069.61682.23588,1.2156.38095,1.81438A23.22593,23.22593,0,0,0,314.08,406.17446H601.62347c.47175,0,.94351-.01816,1.39711-.05448h.32657v-.01816a1.38119,1.38119,0,0,0,.2722-.018c.0907,0,.19956-.01816.29026-.01816a.16309.16309,0,0,0,.09069-.01817c.19956-.01816.39923-.03632.58062-.05448.32658-.05438.65315-.0907.96168-.14507a.308.308,0,0,1,.12691-.01816.35874.35874,0,0,1,.1815-.03633.0666.0666,0,0,1,.05437-.01816c.19967-.03621.39923-.07253.59878-.127a2.0948,2.0948,0,0,0,.32658-.07253c.39922-.0907.79833-.1814,1.17939-.30842.1814-.05448.34474-.0907.52613-.14518.23588-.07254.48992-.16334.7258-.254a2.86042,2.86042,0,0,0,.3629-.127.09422.09422,0,0,0,.07253-.03621,16.2231,16.2231,0,0,0,1.54219-.6351c.43554-.19956.85281-.41728,1.27009-.635.16334-.07254.30841-.16335.47175-.254a.38141.38141,0,0,0,.10886-.07254c.41728-.254.83466-.50808,1.23377-.744.01816-.01805.01816-.03621.03632-.03621a.01779.01779,0,0,0,.01817-.01816,13.87442,13.87442,0,0,0,1.23376-.87087h.01816c.10886-.09081.19956-.16334.29026-.23588.127-.09081.254-.19967.3629-.29036.21771-.1814.43543-.3629.635-.5443a2.78525,2.78525,0,0,0,.34473-.30841c.30853-.2722.59878-.56245.889-.85282a5.1333,5.1333,0,0,0,.43555-.47176,7.52669,7.52669,0,0,0,.635-.68947c.18139-.23577.38106-.47165.56245-.70753a8.12348,8.12348,0,0,0,.59878-.78017c.32658-.43554.61683-.871.90719-1.34273.23588-.381.47176-.78018.68948-1.17929.10886-.19955.21771-.41738.32657-.6351.01816,0,.01816-.01805.01816-.03621.19956-.38106.38095-.76212.5443-1.16123.07253-.16335.14518-.30842.19955-.47176.14518-.30841.254-.635.38106-.96156.19956-.59878.39911-1.21572.56246-1.83255.14507-.59878.29025-1.19756.38095-1.81438a21.81835,21.81835,0,0,0,.38106-4.10053V253.33081A23.19146,23.19146,0,0,0,601.62347,230.17926Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-primary))"},null),d("rect",{x:"66.50584",y:"96.4476",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),d("rect",{x:"66.50584",y:"116.40582",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),d("rect",{x:"66.50584",y:"136.36403",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),d("rect",{x:"66.50584",y:"156.32225",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),d("rect",{x:"66.50584",y:"176.28047",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),d("rect",{x:"66.50584",y:"196.23869",width:"333.84657",height:"1.81438",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),d("path",{d:"M624.394,387.12344c-.0907.61682-.23588,1.2156-.38095,1.81438H291.18249a14.99887,14.99887,0,0,1-.21772-1.81438Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))",opacity:"0.3"},null),d("g",{opacity:"0.1"},[d("path",{d:"M624.775,354.93629v28.08662a21.81835,21.81835,0,0,1-.38106,4.10053c-.0907.61682-.23588,1.2156-.38095,1.81438-.16335.61683-.3629,1.23377-.56246,1.83255-.127.32657-.23588.65315-.38106.96156-.05437.16334-.127.30841-.19955.47176-.16335.39911-.34474.78017-.5443,1.16123,0,.01816,0,.03621-.01816.03621-.10886.21772-.21771.43555-.32657.6351-.21772.39911-.4536.79834-.68948,1.17929-.29036.47175-.58061.90719-.90719,1.34273a8.12348,8.12348,0,0,1-.59878.78017c-.18139.23588-.38106.47176-.56245.70753a7.52669,7.52669,0,0,1-.635.68947,5.1333,5.1333,0,0,1-.43555.47176c-.29025.29037-.5805.58062-.889.85282a2.78525,2.78525,0,0,1-.34473.30841c-.19956.1814-.41728.3629-.635.5443-.10886.09069-.23588.19955-.3629.29036-.0907.07254-.1814.14507-.29026.23588h-.01816a13.87442,13.87442,0,0,1-1.23376.87087.01779.01779,0,0,1-.01817.01816c-.01816,0-.01816.01816-.03632.03621-.254.18151-.52613.34474-.79833.50808-.14518.0907-.29026.16323-.43544.23588a.38141.38141,0,0,1-.10886.07254c-.16334.09069-.30841.1815-.47175.254-.41728.21771-.83455.43543-1.27009.635a16.2231,16.2231,0,0,1-1.54219.6351.09422.09422,0,0,1-.07253.03621,2.86042,2.86042,0,0,1-.3629.127c-.23588.0907-.48992.1815-.7258.254-.18139.05448-.34473.0907-.52613.14518-.38106.127-.78017.21772-1.17939.30842a2.0948,2.0948,0,0,1-.32658.07253c-.19955.05449-.39911.09081-.59878.127a.0666.0666,0,0,0-.05437.01816.35874.35874,0,0,0-.1815.03633.308.308,0,0,0-.12691.01816c-.30853.05437-.6351.09069-.96168.14507-.18139.01816-.38106.03632-.58062.05448a.16309.16309,0,0,1-.09069.01817c-.19956.01816-.38106.03621-.56246.05437h-.03632c-.19956.01816-.39911.01816-.59867.03632-.3629.01816-.7258.01816-1.08869.01816H314.08a23.22593,23.22593,0,0,1-22.38954-17.23664h-.508a14.99887,14.99887,0,0,1-.21772-1.81438c-.01816-.34474-.03632-.70764-.03632-1.05238V354.42821a43.14762,43.14762,0,0,1,11.231,1.83254c9.87026,3.01183,19.4683,8.11025,29.774,8.11025.81649,0,1.66931-.03622,2.50386-.10886,10.85009-.90719,19.2869-7.63849,26.30856-15.24076.56245-.59878,1.12491-1.19755,1.65115-1.81438,1.32446-1.46965,2.59456-2.97562,3.82832-4.46342A97.67852,97.67852,0,0,1,379.416,329.06316c.78017-.6351,1.56034-1.23376,2.35867-1.81438a33.5112,33.5112,0,0,1,16.00288-6.40483c.74385-.07253,1.48781-.127,2.23166-.14507,7.76561-.23588,15.05936,2.55823,21.70006,6.5499.96157.58062,1.92324,1.17928,2.8486,1.81438a108.35117,108.35117,0,0,1,9.16261,6.949A175.16547,175.16547,0,0,0,447.87262,347.207c.3629.254.7258.508,1.08859.72569.56245.38106,1.14307.744,1.72368,1.08869a41.9322,41.9322,0,0,0,16.4021,6.187c.19956.03632.41728.07265.635.0907,9.453,1.10686,18.2527-1.68737,26.2904-6.2777.99789-.58061,2.01394-1.17939,2.99378-1.81438a123.97436,123.97436,0,0,0,17.58138-14.15217c1.41516-1.32458,2.8486-2.6672,4.33629-3.99167.67143-.59877,1.34274-1.21571,2.03221-1.81438,10.77734-9.47114,23.20593-18.14384,37.88423-18.14384.61694,0,1.25193.01817,1.887.05438,10.55973.50808,19.8312,5.62465,27.61486,12.12007a84.69952,84.69952,0,0,1,6.47737,5.96939c.09069.0907.16334.16323.254.254.508.508,1.016,1.0341,1.48781,1.56034,5.80605,6.07814,11.15839,12.57367,17.47252,18.14384.68947.635,1.397,1.23377,2.1228,1.81438a59.24951,59.24951,0,0,0,6.89463,4.93507C623.61379,354.30119,624.1944,354.62777,624.775,354.93629Z",transform:"translate(-224.42261 -170.92653)"},null)]),d("g",{opacity:"0.1"},[d("path",{d:"M624.775,327.52087v55.502a21.81835,21.81835,0,0,1-.38106,4.10053c-.0907.61682-.23588,1.2156-.38095,1.81438-.16335.61683-.3629,1.23377-.56246,1.83255-.127.32657-.23588.65315-.38106.96156-.05437.16334-.127.30841-.19955.47176-.16335.39911-.34474.78017-.5443,1.16123,0,.01816,0,.03621-.01816.03621-.10886.21772-.21771.43555-.32657.6351-.21772.39911-.4536.79834-.68948,1.17929-.29036.47175-.58061.90719-.90719,1.34273a8.12348,8.12348,0,0,1-.59878.78017c-.18139.23588-.38106.47176-.56245.70753a7.52669,7.52669,0,0,1-.635.68947,5.1333,5.1333,0,0,1-.43555.47176c-.29025.29037-.5805.58062-.889.85282a2.78525,2.78525,0,0,1-.34473.30841c-.19956.1814-.41728.3629-.635.5443-.10886.09069-.23588.19955-.3629.29036-.0907.07254-.1814.14507-.29026.23588h-.01816a13.87442,13.87442,0,0,1-1.23376.87087.01779.01779,0,0,1-.01817.01816c-.01816,0-.01816.01816-.03632.03621-.254.18151-.52613.34474-.79833.50808-.14518.0907-.29026.16323-.43544.23588a.38141.38141,0,0,1-.10886.07254c-.16334.09069-.30841.1815-.47175.254-.41728.21771-.83455.43543-1.27009.635a16.2231,16.2231,0,0,1-1.54219.6351.09422.09422,0,0,1-.07253.03621,2.86042,2.86042,0,0,1-.3629.127c-.23588.0907-.48992.1815-.7258.254-.18139.05448-.34473.0907-.52613.14518-.38106.127-.78017.21772-1.17939.30842a2.0948,2.0948,0,0,1-.32658.07253c-.19955.05449-.39911.09081-.59878.127a.0666.0666,0,0,0-.05437.01816.35874.35874,0,0,0-.1815.03633.308.308,0,0,0-.12691.01816c-.30853.05437-.6351.09069-.96168.14507-.18139.01816-.38106.03632-.58062.05448a.16309.16309,0,0,1-.09069.01817c-.0907,0-.19956.01816-.29026.01816a1.38119,1.38119,0,0,1-.2722.018.95767.95767,0,0,1-.23588.01816h-.09069c-.0907.01816-.19956.01816-.30842.03632-.3629.01816-.7258.01816-1.08869.01816H314.08a23.22593,23.22593,0,0,1-22.38954-17.23664c-.14507-.59878-.29026-1.19756-.38095-1.81438a21.81835,21.81835,0,0,1-.38106-4.10053V350.70875c.635-.5443,1.25193-1.10675,1.86886-1.68737.635-.59878,1.25182-1.19755,1.86876-1.81438a139.23351,139.23351,0,0,0,14.71463-18.14384c.14518-.19955.29036-.38106.41738-.58061.29025-.41728.5805-.8165.889-1.23377a142.58682,142.58682,0,0,1,14.71462-18.14384c.61694-.61693,1.23377-1.21571,1.86887-1.81438,6.74946-6.35034,14.44242-11.08586,23.51434-12.21088,12.50113-1.56034,24.13128,4.22755,34.41891,12.21088.762.59867,1.50586,1.19745,2.24982,1.81438,3.51991,2.86665,6.85831,5.98745,10.01532,9.09008.83466.83455,1.68748,1.66921,2.54019,2.50386,2.19544,2.19533,4.44526,4.39078,6.71324,6.5499.65315.61683,1.28825,1.21561,1.9414,1.81438,9.07192,8.40061,18.88768,15.78516,30.55416,18.14384.79833.16323,1.61483.30841,2.43132.41727a40.6162,40.6162,0,0,0,13.245-.41727c.7258-.127,1.43332-.29036,2.15912-.47176,10.92262-2.70341,21.0468-9.50735,30.20953-17.67208.65315-.59877,1.32446-1.19755,1.97761-1.81438,4.68115-4.3364,9.12641-8.98122,13.28131-13.5535,1.37894-1.524,2.79411-3.06632,4.20938-4.59034.58061-.59877,1.14307-1.19755,1.70552-1.81438a153.33059,153.33059,0,0,1,19.84936-18.14383c.85271-.63511,1.70553-1.23377,2.55824-1.81439,9.59816-6.5499,20.08524-10.75928,31.60664-10.088,9.50735.5443,18.19821,4.46332,26.0182,10.088.79833.58062,1.59666,1.17928,2.395,1.81439a108.69841,108.69841,0,0,1,16.20244,16.09357c.56245.67131,1.12491,1.36079,1.68736,2.05026.29036.34474.56245.70764.85282,1.05226l.59866.76212c4.80817,6.00561,9.43482,12.24709,14.35184,18.14384Z",transform:"translate(-224.42261 -170.92653)"},null)]),d("g",{opacity:"0.1"},[d("path",{d:"M624.775,304.6052v78.41771a21.81835,21.81835,0,0,1-.38106,4.10053c-.0907.61682-.23588,1.2156-.38095,1.81438-.16335.61683-.3629,1.23377-.56246,1.83255-.127.32657-.23588.65315-.38106.96156-.05437.16334-.127.30841-.19955.47176-.16335.39911-.34474.78017-.5443,1.16123,0,.01816,0,.03621-.01816.03621-.10886.21772-.21771.43555-.32657.6351-.21772.39911-.4536.79834-.68948,1.17929-.29036.47175-.58061.90719-.90719,1.34273a8.12348,8.12348,0,0,1-.59878.78017c-.18139.23588-.38106.47176-.56245.70753a7.52669,7.52669,0,0,1-.635.68947,5.1333,5.1333,0,0,1-.43555.47176c-.29025.29037-.5805.58062-.889.85282a2.78525,2.78525,0,0,1-.34473.30841c-.19956.1814-.41728.3629-.635.5443-.10886.09069-.23588.19955-.3629.29036-.0907.07254-.1814.14507-.29026.23588h-.01816a13.87442,13.87442,0,0,1-1.23376.87087.01779.01779,0,0,1-.01817.01816c-.01816,0-.01816.01816-.03632.03621-.254.18151-.52613.34474-.79833.50808-.14518.0907-.29026.16323-.43544.23588a.38141.38141,0,0,1-.10886.07254c-.16334.09069-.30841.1815-.47175.254-.41728.21771-.83455.43543-1.27009.635a16.2231,16.2231,0,0,1-1.54219.6351.09422.09422,0,0,1-.07253.03621,2.86042,2.86042,0,0,1-.3629.127c-.23588.0907-.48992.1815-.7258.254-.18139.05448-.34473.0907-.52613.14518-.38106.127-.78017.21772-1.17939.30842a2.0948,2.0948,0,0,1-.32658.07253c-.19955.05449-.39911.09081-.59878.127a.0666.0666,0,0,0-.05437.01816.35874.35874,0,0,0-.1815.03633.308.308,0,0,0-.12691.01816c-.30853.05437-.6351.09069-.96168.14507-.18139.01816-.38106.03632-.58062.05448a.16309.16309,0,0,1-.09069.01817c-.0907,0-.19956.01816-.29026.01816a1.38119,1.38119,0,0,1-.2722.018.0634.0634,0,0,1-.03632.01816h-.29025c-.4536.03632-.92536.05448-1.39711.05448H314.08a23.22593,23.22593,0,0,1-22.38954-17.23664c-.14507-.59878-.29026-1.19756-.38095-1.81438a21.81835,21.81835,0,0,1-.38106-4.10053V336.17552q2.74881-3.56526,5.51568-7.11236c.47176-.61694.94352-1.21571,1.41527-1.81438,2.4857-3.19333,4.98956-6.35034,7.56595-9.43482,2.46754-2.95745,5.0622-5.87858,7.76562-8.709.58061-.59877,1.16112-1.21571,1.7599-1.81438a100.85065,100.85065,0,0,1,23.46-18.14383c1.1794-.65316,2.37684-1.25193,3.59256-1.81439a56.0621,56.0621,0,0,1,20.52067-5.35245,56.98994,56.98994,0,0,1,27.1069,5.35245c1.27.54429,2.5219,1.16123,3.75567,1.81439,8.87236,4.57217,17.20043,10.977,25.00226,18.14383.67131.58062,1.3063,1.19745,1.95957,1.81438,6.187,5.80605,12.04742,12.02938,17.63575,18.14384.41738.4536.83466.92535,1.25193,1.37895.127.14507.2722.29025.39922.43543,5.44315,5.98745,11.24909,12.04754,17.418,17.67208.16334.16323.34474.30842.52613.47176.67131.61683,1.34274,1.2156,2.0321,1.81438,2.43132,2.15912,4.93518,4.22744,7.47536,6.187a97.28013,97.28013,0,0,0,19.54084,11.95684c1.46964.67131,2.95745,1.27009,4.46342,1.81438a53.6583,53.6583,0,0,0,26.05452,3.08448,51.91031,51.91031,0,0,0,11.81166-3.08448c1.45148-.54429,2.86675-1.16123,4.26375-1.81438,9.19894-4.35457,17.50885-10.94079,25.38332-18.14384.65315-.59878,1.30631-1.19755,1.95946-1.81438,4.48158-4.20938,8.836-8.58211,13.13612-12.80954,1.81438-1.77818,3.66509-3.5744,5.57017-5.3343.65326-.59877,1.32457-1.19755,1.99589-1.81438,2.28614-2.05026,4.64481-4.0642,7.076-5.96939a90.8935,90.8935,0,0,1,19.45025-12.17445c.59867-.2722,1.21561-.52624,1.81439-.76212.92535-.381,1.85059-.72568,2.77595-1.05226A48.65691,48.65691,0,0,1,624.775,304.6052Z",transform:"translate(-224.42261 -170.92653)"},null)]),d("circle",{cx:"138.17399",cy:"116.40582",r:"5.44315",fill:"rgba(var(--ui-color-gray-100))"},null),d("circle",{cx:"221.63563",cy:"176.28047",r:"5.44315",fill:"rgba(var(--ui-color-gray-100))"},null),d("circle",{cx:"334.12741",cy:"136.36403",r:"5.44315",fill:"rgba(var(--ui-color-gray-100))"},null),d("path",{d:"M806.14077,353.73233H677.79307a4.63111,4.63111,0,1,0,0,9.26221h128.3477a4.6311,4.6311,0,1,0,0-9.26221Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),d("path",{d:"M806.14077,423.86046H677.79307a4.6311,4.6311,0,1,0,0,9.26221h128.3477a4.6311,4.6311,0,1,0,0-9.26221Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),d("path",{d:"M806.14077,493.98859H677.79307a4.6311,4.6311,0,1,0,0,9.2622h128.3477a4.6311,4.6311,0,1,0,0-9.2622Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),d("circle",{cx:"659.48782",cy:"187.78333",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),d("path",{d:"M882.33268,364.72906a1.2861,1.2861,0,0,1-1.02908-.5147l-3.15519-4.207a1.28645,1.28645,0,1,1,2.05837-1.54367l2.06424,2.7521,5.30172-7.95247a1.2865,1.2865,0,0,1,2.14087,1.42725l-6.31038,9.46557a1.287,1.287,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("circle",{cx:"659.48782",cy:"257.91146",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),d("path",{d:"M882.33268,434.85719a1.2861,1.2861,0,0,1-1.02908-.5147l-3.15519-4.207a1.28645,1.28645,0,1,1,2.05837-1.54367l2.06424,2.7521,5.30172-7.95247a1.2865,1.2865,0,1,1,2.14087,1.42724l-6.31038,9.46558a1.28705,1.28705,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("circle",{cx:"659.48782",cy:"328.03959",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),d("path",{d:"M806.14077,283.6042H677.79307a4.6311,4.6311,0,1,0,0,9.26221h128.3477a4.6311,4.6311,0,1,0,0-9.26221Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),d("circle",{cx:"659.48782",cy:"117.6552",r:"11.5653",fill:"rgba(var(--ui-color-primary))"},null),d("path",{d:"M882.33268,294.60093a1.28612,1.28612,0,0,1-1.02908-.51469l-3.15519-4.207a1.28645,1.28645,0,1,1,2.05837-1.54367l2.06424,2.7521,5.30172-7.95247a1.2865,1.2865,0,1,1,2.14087,1.42725l-6.31038,9.46557a1.287,1.287,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("circle",{cx:"621.11583",cy:"117.6552",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),d("circle",{cx:"621.11583",cy:"187.78333",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),d("circle",{cx:"621.11583",cy:"257.91146",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),d("circle",{cx:"621.11583",cy:"328.03959",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),d("path",{d:"M882.33268,504.98532a1.2861,1.2861,0,0,1-1.02908-.5147l-3.15519-4.207a1.28645,1.28645,0,1,1,2.05837-1.54368l2.06424,2.75211,5.30172-7.95248a1.2865,1.2865,0,0,1,2.14087,1.42725l-6.31038,9.46558a1.28705,1.28705,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("path",{d:"M865.65741,724.88374a.42584.42584,0,0,1-.15.35.57519.57519,0,0,1-.27.11.39112.39112,0,0,1-.46-.29c-1.38-4.64-4.76-8.2-7.96-11.69-2.88-3.13-5.71-6.43-7.16-10.5a12.279,12.279,0,0,1,.52-10.05,17.72487,17.72487,0,0,1,1.73-2.62c1.43-1.82,3.13-3.44,4.66-5.16.16-.18005.32-.37.47-.55.21-.23.4-.47.58-.71a19.34546,19.34546,0,0,0,3.87-8.1,34.7963,34.7963,0,0,0,.31-10.97q-.29993-2.91-.83-5.78c-.02-.09-.03-.17-.05-.25a80.77148,80.77148,0,0,0-8.32-23.47c-.15-.27-.29-.54-.44-.8-.64-1.16-1.3-2.30005-2-3.42.24-.17.5-.33.76-.48a82.83115,82.83115,0,0,1,5.97,11.63,81.254,81.254,0,0,1,4.87,16.05c.07.3.12.61.17.91.42,2.31.73,4.65.92,6.98a32.336,32.336,0,0,1-.74,10.92,20.376,20.376,0,0,1-4.07,7.71q-.51.645-1.08,1.26c-1.52,1.66-3.2,3.27-4.57,5.08a15.11022,15.11022,0,0,0-1.77,2.94c-1.61,3.6-.85,7.54.93,10.92,3.22,6.15,9.36005,10.34,12.63,16.37a18.607,18.607,0,0,1,1.46,3.49A.50132.50132,0,0,1,865.65741,724.88374Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("path",{d:"M861.51365,659.19926a12.20506,12.20506,0,0,0,9.18893-12.85841c-.051-.58356-.96023-.53171-.90915.05263a11.30161,11.30161,0,0,1-8.57207,11.94353c-.56886.14-.27332,1.00146.29229.86225Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("path",{d:"M857.86593,683.92248A23.52433,23.52433,0,0,1,847.254,670.45783c-.16973-.56123-1.03177-.26827-.86225.29229a24.4688,24.4688,0,0,0,11.07117,13.98874c.5072.29546.90747-.52252.403-.81638Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("path",{d:"M852.7074,635.15376c-.04.02-.07.03-.11.05a7.70346,7.70346,0,0,1-5.72.27,6.28289,6.28289,0,0,1,.31-.86005,6.83258,6.83258,0,0,0,4.97-.21c.09-.03.17-.07.26-.11005a.4575.4575,0,0,1,.58.28A.48084.48084,0,0,1,852.7074,635.15376Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("path",{d:"M802.86062,481.92005a9.36228,9.36228,0,0,0-2.57888-14.1224l6.03863-32.71779-15.92105,6.74026-3.29352,30.036a9.413,9.413,0,0,0,15.75482,10.06392Z",transform:"translate(-224.42261 -170.92653)",fill:"#ffb6b6"},null),d("path",{d:"M812.57739,385.08375l-5.06-17.01-35.68-55.67a26.34992,26.34992,0,0,0-7.01-5.78,26.562,26.562,0,0,0-34.68,38.66,24.72027,24.72027,0,0,0,2.43,2.9l46.21,47.66,2.63,2.72,4.16,10.52,1.64,47.97,1.47.35,12.95,3.05,1.81.43,3.03-15.67,1.9-7.49a79.542,79.542,0,0,0,2.43-19.54c0-2.03-.07-4.07-.23-6.1Z",transform:"translate(-224.42261 -170.92653)",fill:"#3f3d56"},null),d("polygon",{points:"539.105 544.946 526.715 544.946 520.821 497.156 539.107 497.157 539.105 544.946",fill:"#ffb6b6"},null),d("path",{d:"M763.19739,711.82374l-13.22-5.37-.39-.16-7.3,5.53a15.54247,15.54247,0,0,0-15.53,14.87c-.02.22-.02.45-.02.68v.51h39.95v-16.06Z",transform:"translate(-224.42261 -170.92653)",fill:"#2f2e41"},null),d("polygon",{points:"515.51 520.231 504.831 526.514 475.514 488.316 491.274 479.043 515.51 520.231",fill:"#ffb6b6"},null),d("path",{d:"M747.30737,697.45375l-1.44995-2.47-5.25-8.92-2.73,1.61-.28.16-14.12,2.08-.42005.06006-3.48,8.47a15.54944,15.54944,0,0,0-5.52,21.29l.26.43,34.43-20.26Z",transform:"translate(-224.42261 -170.92653)",fill:"#2f2e41"},null),d("path",{d:"M779.21956,423.71246c5.809,17.51982,5.19483,36.5371-1.39627,56.9478L776.103,550.825l-5.52558,44.25873a75.7829,75.7829,0,0,1,5.04271,27.17369c-.02349,24.35193-1.66085,58.94778-9.96248,75.19971H746.01211l-4.43472-72.3734-5.29208-36.38819-.65241-38.99314-.569-34.00831L713.70294,546.93l-20.757,30.35273,20.63144,34.801,18,56-19,16-21.55387-40.86343-10.44613-12.13657L652.0614,569.353l2.5627-8.59494a203.32945,203.32945,0,0,1,22.78278-50.22981l0,0,28.364-65.83044Z",transform:"translate(-224.42261 -170.92653)",fill:"#2f2e41"},null),d("path",{d:"M781.73737,417.86372l-3.24-6.48.29-15.54.97-52.54a50.40424,50.40424,0,0,0-14.93-36.68,49.36031,49.36031,0,0,0-9.56-7.43l-6.96-4.16-3.52-8.94-32.46.79-.07,8.67-.03,3.05-11.63,18.54.01.08.24,33.74.48,67.16,3.21,10.41-4.85,12.12,2.58,7.72,2.06-.33,69.38-11.09a13.62235,13.62235,0,0,0,7.53-5.98,12.39286,12.39286,0,0,0,.89-1.74A13.6477,13.6477,0,0,0,781.73737,417.86372Z",transform:"translate(-224.42261 -170.92653)",fill:"#3f3d56"},null),d("circle",{cx:"501.15853",cy:"74.55104",r:"29.49581",fill:"#ffb6b6"},null),d("path",{d:"M743.92951,269.91828c3.11538-2.19191,6.27-6.36464,8.37132-9.48836a35.418,35.418,0,0,0,5.07724-28.35134,10.799,10.799,0,0,0-2.6107-5.16613,4.64357,4.64357,0,0,0-5.36785-.98026,9.67951,9.67951,0,0,0-.49932-7.6741,17.05878,17.05878,0,0,0-5.12609-5.9366,28.40871,28.40871,0,0,0-28.97472-3.02462c-1.83046.87913,1.10421-5.75566-.81534-5.09324a7.86193,7.86193,0,0,1-5.93489-.0222c-1.82627-.88782-7.76266,4.61941-7.09343,2.70223a8.95783,8.95783,0,0,0-1.867,15.029c1.53993,1.26378,3.45059,1.97732,5.13232,3.04517a14.6133,14.6133,0,0,1,4.73027,18.79462,19.36034,19.36034,0,0,1,5.66333-2.55476,6.55283,6.55283,0,0,1,5.85079,1.32188,7.36207,7.36207,0,0,1,1.86036,5.53078c-.03838,2.00235-.48727,3.98073-.513,5.98328-.07557,5.876-3.06687,17.08687,1.53045,20.146C726.97132,276.59373,739.67588,272.911,743.92951,269.91828Z",transform:"translate(-224.42261 -170.92653)",fill:"#2f2e41"},null),d("path",{d:"M561.7215,317.221a9.36225,9.36225,0,0,0,14.16776,2.31676l28.786,16.68193-.99821-17.2602-27.18261-13.19527A9.413,9.413,0,0,0,561.7215,317.221Z",transform:"translate(-224.42261 -170.92653)",fill:"#ffb6b6"},null),d("path",{d:"M747.61737,312.05372a26.57075,26.57075,0,0,0-35.36-16.5c-.32.13-.64.27-.96.41l-63.86,29.07-24.86-2.95-32.18-11.24-.82,1.27-7.23,11.17-1.01,1.56,34.52,20.41,3.66.76a24.73314,24.73314,0,0,1,15.68,10.67l13.38,4.4,52.27-10.12,29.3-5.68,1.66-.32a26.63789,26.63789,0,0,0,17.07-24.84A26.37168,26.37168,0,0,0,747.61737,312.05372Z",transform:"translate(-224.42261 -170.92653)",fill:"#3f3d56"},null),d("path",{d:"M521.67365,450.86213H310.326a4.63111,4.63111,0,0,0,0,9.26221h211.3477a4.63111,4.63111,0,1,0,0-9.26221Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),d("circle",{cx:"375.02071",cy:"284.91313",r:"11.5653",fill:"rgba(var(--ui-color-primary))"},null),d("path",{d:"M597.86557,461.85886a1.2861,1.2861,0,0,1-1.02908-.5147l-3.1552-4.207a1.28645,1.28645,0,1,1,2.05838-1.54367l2.06423,2.7521,5.30172-7.95247a1.2865,1.2865,0,1,1,2.14087,1.42725l-6.31038,9.46557a1.287,1.287,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("circle",{cx:"336.64871",cy:"284.91313",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),d("path",{d:"M520.67365,506.86213H309.326a4.63111,4.63111,0,0,0,0,9.26221h211.3477a4.6311,4.6311,0,1,0,0-9.26221Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-300))"},null),d("circle",{cx:"374.02071",cy:"340.91313",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null),d("path",{d:"M596.86557,517.85886a1.2861,1.2861,0,0,1-1.02908-.5147l-3.1552-4.207a1.28645,1.28645,0,1,1,2.05838-1.54367l2.06423,2.7521,5.30172-7.95247a1.2865,1.2865,0,1,1,2.14087,1.42725l-6.31038,9.46557a1.287,1.287,0,0,1-1.03474.57249Z",transform:"translate(-224.42261 -170.92653)",fill:"rgba(var(--ui-color-gray-100))"},null),d("circle",{cx:"335.64871",cy:"340.91313",r:"11.5653",fill:"rgba(var(--ui-color-gray-400))",style:"isolation:isolate"},null)])])])]})}}),B5=X({name:"DuxDashboardQuickItem",props:{icon:String,title:String,color:String,onClick:Function},setup(t){return()=>d("div",{class:"flex flex-col justify-center items-center "},[d("div",{class:"flex flex-col gap-1  justify-center items-center p-2 pb-1 hover:bg-elevated cursor-pointer",onClick:t?.onClick},[d("div",{class:rt(["p-1 rounded flex justify-center items-center text-white",`bg-${t.color||"primary"}`])},[d("div",{class:rt(["size-7",t.icon])},null)]),d("div",{class:"text-muted"},[t.title])])])}}),z5=X({name:"DuxDashboardQuick",props:{data:Array,col:{type:Number,default:6}},setup(t,{slots:e}){const n=["primary","info","success","warning","error"];return()=>d("div",{class:rt(["grid gap-2",`grid-cols-${l4(t.col/2)}`,`xl:grid-cols-${t.col}`])},[t.data?.map((r,o)=>{const i=n[o%n.length];return d(B5,{icon:r?.icon,title:r?.title,color:i,onClick:r?.onClick,key:o},null)}),e.default?.()])}}),pf=X({name:"Message",props:{text:{type:String},desc:{type:String},simple:{type:Boolean,default:!1}},setup(t){const{t:e}=ye();return()=>d("div",{class:"flex justify-center p-2"},[d("div",{class:rt(["flex flex-row items-center",t.simple?"flex-col":"gap-2"])},[d("div",null,[d("svg",{class:"size-60px",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg"},[d("defs",null,[d("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[d("stop",{offset:"0%",style:"stop-color:rgb(var(--ui-color-primary));stop-opacity:0.1"},null),d("stop",{offset:"100%",style:"stop-color:rgb(var(--ui-color-primary));stop-opacity:0.05"},null)]),d("linearGradient",{id:"boxGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[d("stop",{offset:"0%",style:"stop-color:rgb(var(--ui-bg-elevated));stop-opacity:1"},null),d("stop",{offset:"100%",style:"stop-color:rgb(var(--ui-bg-muted));stop-opacity:1"},null)])]),d("circle",{cx:"100",cy:"100",r:"85",fill:"url(#bgGradient)"},null),d("g",{transform:"translate(100, 100)"},[d("ellipse",{cx:"0",cy:"35",rx:"45",ry:"8",fill:"rgb(var(--ui-color-gray-300))",opacity:"0.3"},null),d("path",{d:"M -35 -10 L -35 25 Q -35 30 -30 30 L 30 30 Q 35 30 35 25 L 35 -5 Q 35 -10 30 -10 L 5 -10 L -5 -20 L -30 -20 Q -35 -20 -35 -15 Z",fill:"url(#boxGradient)",stroke:"rgb(var(--ui-color-gray-300))","stroke-width":"1"},null),d("path",{d:"M -5 -20 L 5 -10 L 15 -10 Q 20 -10 20 -15 Q 20 -20 15 -20 Z",fill:"rgb(var(--ui-color-primary))",opacity:"0.8"},null),d("g",{transform:"translate(0, -5)",opacity:"0.6"},[d("rect",{x:"-8",y:"-5",width:"16",height:"20",rx:"2",fill:"rgb(var(--ui-bg-elevated))",stroke:"rgb(var(--ui-color-gray-400))","stroke-width":"0.5"},null),d("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"rgb(var(--ui-color-gray-400))","stroke-width":"1",opacity:"0.5"},null),d("line",{x1:"-5",y1:"4",x2:"3",y2:"4",stroke:"rgb(var(--ui-color-gray-400))","stroke-width":"1",opacity:"0.5"},null),d("line",{x1:"-5",y1:"8",x2:"5",y2:"8",stroke:"rgb(var(--ui-color-gray-400))","stroke-width":"1",opacity:"0.5"},null)]),d("circle",{cx:"-25",cy:"-25",r:"2",fill:"rgb(var(--ui-color-primary))",opacity:"0.4"},[d("animate",{attributeName:"opacity",values:"0.4;0.8;0.4",dur:"2s",repeatCount:"indefinite"},null)]),d("circle",{cx:"25",cy:"-15",r:"1.5",fill:"rgb(var(--ui-color-primary))",opacity:"0.3"},[d("animate",{attributeName:"opacity",values:"0.3;0.6;0.3",dur:"3s",repeatCount:"indefinite"},null)]),d("circle",{cx:"20",cy:"25",r:"1",fill:"rgb(var(--ui-color-primary))",opacity:"0.2"},[d("animate",{attributeName:"opacity",values:"0.2;0.5;0.2",dur:"4s",repeatCount:"indefinite"},null)])])])]),d("div",{class:"flex flex-col gap-0"},[d("div",{class:rt(["text-default",t.simple?"text-center":""])},[t.text||e("pages.empty.title")]),!t.simple&&d("div",{class:"text-muted"},[t.desc||e("pages.empty.desc")])])])])}}),kv=X({name:"DuxDynamicData",props:{createAction:{type:Boolean,default:!0},deleteAction:{type:Boolean,default:!0},columns:Array,createCallback:Function,onCreate:Function,value:{type:Array,default:[]},defaultValue:{type:Array,default:[]}},setup(t,{emit:e}){const n=Ue(t,"value",e,{passive:!0,defaultValue:t.defaultValue||[],deep:!0}),{renderAsync:r}=$i(),o=a=>{const s=n.value?.[0][a],l=[...n.value||[]].map(c=>({...c,[a]:s}));n.value=[...l]},i=z(()=>{let a=t.columns?.length||0;return(t.createAction||t.deleteAction)&&(a+=1),a});return()=>d(Ph,yt({modelValue:n.value},{"onUpdate:modelValue":a=>{n.value=a}},{handle:".sort-handle",target:".sort-target",animation:150}),{default:()=>[d("div",{class:"overflow-auto w-full"},[d(w4,{class:"table-fixed w-full"},{default:()=>[d("thead",null,[d("tr",null,[d("th",{style:{width:"40px"}},null),t.columns?.map((a,s)=>d("th",{key:s,style:{width:`${a.width}px`}},[d("div",{class:"flex items-center justify-between"},[d("div",null,[a.title]),a.copy&&d("div",null,[d(me,{onClick:()=>{o(a.key)},renderIcon:()=>d("div",{class:"i-tabler:pencil-down t-icon"},null),text:!0,type:"primary"},null)])])])),(t.createAction||t.deleteAction)&&d("th",{class:"w-15"},[t.createAction&&d(me,{tertiary:!0,type:"primary",circle:!0,renderIcon:()=>d("div",{class:"i-tabler:plus h-4 w-4"},null),onClick:()=>{t?.onCreate?t.onCreate():(n.value||(n.value=[]),n.value?.push(t?.createCallback?.(n.value)||{}))}},null)])])]),d("tbody",{class:"sort-target"},[n.value&&n.value?.length>0?n.value.map((a,s)=>d("tr",{key:s},[d("td",null,[d("div",{class:"sort-handle i-tabler:grid-dots size-4 cursor-move"},null)]),t.columns?.map((l,c)=>{const u=typeof l.schema=="function"?l.schema(a,s):l.schema;return d("td",{key:c},[l.schema?Oe(r({data:Array.isArray(u)?u:[u],context:{rowIndex:s,model:n.value,row:a}})):l.render?.(a,s)||a[l.key]])}),(t.createAction||t.deleteAction)&&d("td",{class:"w-15"},[t.deleteAction&&d(me,{tertiary:!0,type:"error",circle:!0,renderIcon:()=>d("div",{class:"i-tabler:trash h-4 w-4"},null),onClick:()=>{n.value.splice(s,1)}},null)])])):d("tr",null,[d("td",{colspan:i.value},[d(pf,null,null)])])])]})])]})}}),U5=X({name:"DuxDynamicSelect",props:{rowKey:{type:String,default:"id"},path:String,columns:Array,filterColumns:Array,filterSchema:{type:Array},value:{type:Array,default:[]},defaultValue:{type:Array,default:[]}},setup(t,{emit:e}){const n=Ue(t,"value",e,{passive:!0,defaultValue:t.defaultValue,deep:!0}),r=sr(),o=Ra(),{t:i}=ye(),a=re(!0);return pe([n,a],()=>{if(!a.value||!n.value||n.value.length===0)return;const s=n.value?.map(l=>l[t.rowKey])||[];o.request({path:t.path,query:{ids:s?.join(",")||""}}).then(l=>{a.value=!1,l?.data?.forEach((c,u)=>{n.value.some(h=>h[t.rowKey]===c[t.rowKey])?n.value[u]={...n.value[u],...c}:n.value.push(c)})})}),()=>d(kv,{value:n.value,"onUpdate:value":s=>n.value=s,columns:t.columns,onCreate:()=>{r.show({component:()=>Tn(()=>import("./selectModal-CvlCD0yU.js"),__vite__mapDeps([12,8,4,9,1,10,2,7,6,5,11])),componentProps:{path:t.path,columns:t.filterColumns,filterSchema:t.filterSchema},width:1e3,title:i("components.button.select")}).then(s=>{a.value=!1,s?.forEach(l=>{n.value.some(c=>c[t.rowKey]===l[t.rowKey])||n.value.push(l)})})}},null)}});function Kp(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const H5=X({name:"DuxDialog",props:{title:String,content:String,type:String,formSchema:Array,defaultValue:Object,render:Function},setup(t){const{t:e}=ye(),{visible:n,resolve:r,reject:o,vanish:i}=wh({duration:1e3}),a=Pn({title:t?.title,content:t?.content,button:"default"});t.type==="confirm"&&(a.title=a.title||e("components.dialog.confirm.title"),a.content=a.content||e("components.dialog.confirm.content"),a.button="primary"),t.type==="success"&&(a.title=a.title||e("components.dialog.success.title"),a.content=a.content||e("components.dialog.success.content"),a.button="success"),t.type==="error"&&(a.title=a.title||e("components.dialog.error.title"),a.content=a.content||e("components.dialog.error.content"),a.button="error"),t.type==="prompt"&&(a.title=a.title||e("components.dialog.prompt.title"),a.button="primary");const s=re({...t.defaultValue}),{render:l}=$i({data:t.formSchema||[],context:{form:s.value}});return()=>d(hh,{displayDirective:"show",show:n.value,onAfterLeave:()=>{i()},onClose:()=>{o()},onEsc:()=>{o()},role:"dialog","aria-modal":"true",draggable:!0},{default:({draggableClass:c})=>{let u,h,f;return d("div",{class:["w-400px rounded border border-muted max-w-full shadow-lg shadow-gray-950/10 bg-white/70 dark:shadow-gray-950/80  dark:bg-gray-900/70 backdrop-blur"]},[t.type!=="node"?d("div",{class:["p-6 pb-2 flex gap-4",c]},[d("div",null,[(t.type==="confirm"||t.type==="prompt")&&d("div",{class:"bg-warning bg-opacity-10 text-warning rounded-full p-2"},[d("div",{class:"i-tabler:info-circle size-5"},null)]),t.type==="success"&&d("div",{class:"bg-success bg-opacity-10 text-success rounded-full p-2"},[d("div",{class:"i-tabler:check size-5"},null)]),t.type==="error"&&d("div",{class:"bg-error bg-opacity-10 text-error rounded-full p-2"},[d("div",{class:"i-tabler:alert-triangle size-5"},null)])]),d("div",{class:"flex flex-1 flex-col gap-2"},[d("div",{class:"text-base font-bold"},[a.title]),t.type==="prompt"?d(Z2,{labelAlign:"left",showLabel:!1,showFeedback:!1,class:"py-2"},Kp(u=Oe(l))?u:{default:()=>[u]}):d("div",{class:"text-sm text-gray-500"},[a.content])])]):d("div",{class:"p-4 flex flex-col gap-4"},[d("div",{class:"text-base font-bold"},[a.title]),t.render?.()]),d("div",{class:"px-4  pb-4 flex justify-end gap-2"},[(t.type==="confirm"||t.type==="prompt")&&d(me,{tertiary:!0,"aria-label":e("components.button.cancel"),type:a.button,onClick:()=>{o()}},Kp(h=e("components.button.cancel"))?h:{default:()=>[h]}),d(me,{"aria-label":e("components.button.confirm"),type:a.button,onClick:()=>{r(s.value)}},Kp(f=e("components.button.confirm"))?f:{default:()=>[f]})])])}})}});function Ec(){const t=_h(H5),e=n=>t(n);return{confirm:n=>e({...n,type:"confirm"}),success:n=>e({...n,type:"success"}),error:n=>e({...n,type:"error"}),prompt:n=>e({...n,type:"prompt"}),node:n=>e({...n,type:"node"})}}const W5=X({name:"DuxDrawer",props:{title:String,width:[Number,String],maxWidth:[Number],placement:{type:String,default:"right"},component:{type:[Function,Object],required:!0},componentProps:Object},setup(t){const{visible:e,resolve:n,reject:r,vanish:o}=wh({duration:1e3}),i=t?.componentProps||{};i.title=t.title,i.onConfirm=n,i.onClose=r;const a=typeof t.component=="function"?zm(t.component):t.component;return()=>d(ms,{closeOnEsc:!1,maskClosable:!1,minWidth:200,maxWidth:t?.maxWidth||800,defaultWidth:t?.width||400,resizable:!0,placement:t.placement,show:e.value,onUpdateShow:()=>n(),onAfterLeave:()=>{o()},onEsc:()=>{r()},autoFocus:!1},{default:()=>[d("div",{class:"h-full"},[d(X2,null,{default:()=>d(a,i,null),fallback:()=>d(ii,{show:!0,class:"h-full"},{default:()=>[d("div",{class:"flex-1 min-h-1"},null)]})})])]})}});function V5(){const t=_h(W5);return{show:e=>t(e)}}function Cv(t){const e=sr(),n=V5(),r=Ec(),{t:o}=ye(),i=wn(),a=it(),s=mn(),l=To(),{invalidate:c}=br(),u=ai({onSuccess:g=>{i.success(g.message||o("common.success")),c(t?.invalidate||l.path)},onError:g=>{i.error(g.message||o("common.error"))}}),h=A_({onSuccess:g=>{i.success(g.message||o("common.success"))},onError:g=>{i.error(g.message||o("common.error"))}}),f=t?.path||a.getPath(),p=g=>{const b=o(g.item.title||"",{},g.item.title),y=o(g.item.label||"",{},g.item.label);if(g.item.type==="modal"){const x=g.item,w=typeof x.componentProps=="function"?x.componentProps(g.data):x.componentProps;e.show({title:b||y,component:x.component,componentProps:{id:g.id,...w},width:x.width,draggable:x.draggable!==void 0?x.draggable:!0})}if(g.item.type==="drawer"){const x=g.item,w=typeof x.componentProps=="function"?x.componentProps(g.data):x.componentProps;n.show({title:b||y,component:x.component,componentProps:{id:g.id,...w},width:x.width,maxWidth:x.maxWidth})}if(g.item.type==="confirm"){const x=g.item;r.confirm({title:b||y,content:x.content}).then(w=>{w&&x.callback?.(g.id,g.data)})}if(g.item.type==="request"){const x=g.item;r.confirm({title:b||y,content:x.content}).then(()=>{const w=typeof x.data=="function"?x.data(g.id,g.data):x.data,_=(x.method||"post").toLowerCase(),k=typeof x.path=="function"?x.path(g.id,g.data):x.path||f;u.mutate({path:k,method:_,payload:w})})}if(g.item.type==="delete"){const x=g.item;r.confirm({title:b||y,content:x.content}).then(()=>{h.mutate({id:g.id,path:typeof x.path=="function"?x.path(g.id,g.data):x.path||f})})}if(g.item.type==="link"){const x=g.item;let w=typeof x.path=="function"?x.path?.(g.id,g.data):g.id?`${x.path||f}${g.data===void 0?"":`/${g.id}`}`:x.path||f;w.startsWith("/")||(w=a.getRoutePath(w)),s.push(w)}g.item.type==="callback"&&g.item.callback?.(g.id,g.data)},m=X5(),v=Y5();return{target:p,renderTable:g=>(b,y)=>{const x={id:b[g.key||t?.key||"id"],data:b,index:y,target:p,text:g.text!==void 0?g.text:t?.text||!1,align:g.align!==void 0?g.align:t?.align||"left"};return(g.type||t?.type)==="button"?m.render({...x,action:g||t}):v.render({...x,action:g||t})},renderAction:g=>{const b={target:p,text:g.text!==void 0?g.text:t?.text||!1,align:g.align!==void 0?g.align:t?.align||"left"};return(g.type||t?.type)==="button"?m.render({...b,action:g||t}):v.render({...b,action:g||t})}}}function X5(){const{t}=ye();return{render:e=>{const n=e.action.items?.filter(r=>!r.show||r.show?.(e.data,e.index)).map((r,o)=>Oe(me,{key:o,type:r.color||(r.type==="delete"?"error":"primary"),text:e.text,secondary:!e.text,onClick:()=>{e?.target?.({id:e.id,data:e.data,item:r})},renderIcon:r.icon?()=>Oe("div",{class:["n-icon",r.icon]}):void 0},()=>t(r.label||"",{},r.label)));return Oe("div",{class:["flex gap-2 flex-wrap items-center",e.align==="right"?"justify-end":e.align==="center"?"justify-center":"justify-start"]},n)}}}function Y5(){const{t}=ye();return{render:e=>{const n=e.action.items?.filter(r=>!r.show||r.show?.(e.data,e.index)).map((r,o)=>({label:t(r.label||"",{},r.label),key:o,icon:r.icon?()=>Oe("div",{class:["n-icon",r.icon]}):void 0,onSelect:()=>{e?.target?.({id:e.id,data:e.data,item:r})}}));return Oe(Oa,{trigger:"click",options:n,onSelect:(r,o)=>{o?.onSelect?.()}},()=>[Oe("div",{class:["flex items-center",e.align==="right"?"justify-end":e.align==="center"?"justify-center":"justify-start"]},Oe(me,{type:"default",text:e.text,secondary:!e.text,renderIcon:()=>Oe("div",{class:["n-icon","i-tabler:dots-vertical"]})}))])}}}function G5(){const{t}=ye(),e=Ra(),n=re(!1),r=re({loaded:0,total:0,percent:0,speed:0,speedText:"0 B/s",remainingTime:0}),o=wn(),i=s=>{if(s===0)return"0 B/s";const l=["B/s","KB/s","MB/s","GB/s"],c=Math.floor(Math.log(s)/Math.log(1024));return`${(s/1024**c).toFixed(1)} ${l[c]}`},a=(s,l)=>{const c=window.URL||window.webkitURL,u=c.createObjectURL(s),h=document.createElement("a");h.href=u,h.download=l||"",document.body.appendChild(h),h.click(),document.body.removeChild(h),c.revokeObjectURL(u)};return{file:(s,l,c,u,h)=>{n.value=!0,r.value={loaded:0,total:0,percent:0,speed:0,speedText:"0 B/s",remainingTime:0};const f=Date.now();e.request({path:s,method:"GET",query:l,onDownloadProgress:p=>{const m=(Date.now()-f)/1e3,v=m>0?p.loaded/m:0,g=(p.total||0)-p.loaded,b=v>0?g/v:0,y={loaded:p.loaded,total:p.total,percent:p.percent||0,speed:Math.round(v),speedText:i(v),remainingTime:Math.round(b)};r.value=y,h?.(y)}}).then(p=>{const m=c||p.data.headers["content-type"],v=p.data.headers["content-disposition"];if(u||(u=Zj().format("YYYY-MM-DD-HH:mm:ss"),m&&(u=`${u}.${tw.getExtension(m)}`)),v){const y=/filename=["']?([^"']+)/.exec(v);y&&y?.length>1&&(u=decodeURIComponent(y[1]))}const g=p.data?.data instanceof Blob?p.data?.data:new Blob([p.data?.data],{type:m||"application/octet-stream"});a(g,u);const b={loaded:r.value.total||r.value.loaded,total:r.value.total||r.value.loaded,percent:100,speed:0,speedText:i(0),remainingTime:0};r.value=b,h?.(b)}).catch(p=>{o.error(p.error||t("hooks.download.failed"))}).finally(()=>{n.value=!1})},url:(s,l)=>{const c=document.createElement("a");c.href=s,c.download=l||"",document.body.appendChild(c),c.click(),document.body.removeChild(c)},blob:a,base64:(s,l)=>{const c=atob(s.split(",")[1]),u=Array.from({length:c.length});for(let p=0;p<c.length;p++)u[p]=c.charCodeAt(p);const h=new Uint8Array(u),f=new Blob([h],{type:"application/octet-stream"});a(f,l)},loading:n,progress:r,image:s=>{fetch(s).then(l=>{l.blob().then(c=>{a(c)})}).catch(l=>{o.error(l.error||t("hooks.download.failed"))})}}}function q5(){let t=document.querySelector("#preview-image");if(!t){const e=document.createElement("div");e.id="preview-image",e.style.display="none",document.body.appendChild(e),t=e}return{show:(e,n)=>{if(!e.length)return;const r=new MouseEvent("click",{bubbles:!0,cancelable:!0}),o=e.map(i=>Oe(Ei,{width:100,src:i}));o.length>1?Qv(Oe(K2,{},{default:()=>o}),t):Qv(o[0],t),t?.querySelectorAll(".n-image img")[n||0]?.dispatchEvent(r)}}}function K5(t){const e=re([]),n=re(!1),r=re(null),o=be(t,"path","area"),i=be(t,"value",[]),a=be(t,"maxLevel",4),{request:s}=Ra(),{data:l,isFetching:c}=Ls({queryKey:[o,r],queryFn:async()=>{if(!r.value)return null;const m={level:r.value.level};return r.value.name&&(m[t.nameField||"name"]=r.value.name),s({path:o.value,method:"GET",query:m})},enabled:z(()=>!!r.value),staleTime:1/0,gcTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1}),u=m=>{const v=t.labelField||"name",g=t.valueField||"value";return m.map(b=>({label:b[v]||b.name||b.label,value:b[g]||b.value||b.name||b.code}))},h=(m,v)=>{for(;e.value.length<=m;)e.value.push([]);e.value[m]=v,e.value=[...e.value]};pe(l,m=>{if(!m?.data||!r.value)return;const v=r.value.level;if(h(v,u(m.data)),n.value&&i.value.length>v){const g=i.value[v],b=g&&(a.value===0||v<a.value-1);r.value=b?{level:v+1,name:g}:null,b||(n.value=!1)}else r.value=null});const f=(m,v)=>{i.value=[...i.value.slice(0,v),m],e.value=e.value.slice(0,v+1),(a.value===0||v<a.value-1)&&(r.value={level:v+1,name:m})};pe(i,m=>{n.value||(e.value=[],n.value=m&&m.length>0,r.value={level:0})},{immediate:!0});const p=z(()=>c.value);return{regions:z(()=>e.value),onChange:f,isLoading:p,value:i}}function Sv(t){const{t:e}=ye(),n=wn(),r=_4(),o=re(null);return pC({...t,onExportSuccess:i=>{o.value?.destroy(),o.value=null,r.success({title:e("hooks.table.exportSuccess"),content:e("hooks.table.exportSuccessContent",{count:i?.data?.length||0}),duration:6e3})},onExportProgress:i=>{!o.value&&i&&(o.value=r.create({title:e("hooks.table.exportProgress"),content:()=>e("hooks.table.exportProgressContent",{page:i.page||1}),avatar:()=>d(vs,{class:"size-10 text-sm",type:"circle",percentage:50},{default:()=>[d("div",{class:"text-xs"},[i.page||1])]}),onClose:()=>{o.value=null}}))},onExportError:i=>{o.value?.destroy(),o.value=null,n.error(e("hooks.table.exportFailedContent",{error:i?.message||e("common.unknownError")}))},onImportSuccess:i=>{o.value?.destroy(),o.value=null,r.success({title:e("hooks.table.importSuccess"),content:e("hooks.table.importSuccessContent",{count:i?.processedItems||0}),duration:6e3})},onImportProgress:i=>{o.value||(o.value=r.create({title:e("hooks.table.importProgress"),content:()=>e("hooks.table.importProgressContent",{processed:i?.processedItems||0,total:i?.totalItems||0}),avatar:()=>d(vs,{class:"size-10 text-sm",type:"circle",percentage:i?.percentage||0},{default:()=>[d("div",{class:"text-xs"},[i?.percentage||0,Dt("%")])]}),onClose:()=>{o.value=null}}))},onImportError:i=>{o.value?.destroy(),o.value=null,n.error(e("hooks.table.importFailedContent",{error:i?.message||e("common.unknownError")}))},onBatchSuccess:i=>{n.success(i?.message||e("common.success")||"")},onBatchError:i=>{n.error(i?.message||e("common.error")||"")}})}function Z5(){return{render:t=>(e,n)=>{const r=t?.key||"status",o=Y2(t.maps,a=>a?a?.value===Or(e,r):!1),i=o?t.maps?.[o]:void 0;return i?d("div",{class:["flex gap-1 items-center",`text-${o}`]},[i.icon?d("div",{class:`size-4 ${i.icon}`},null):null,d("span",{class:"text-sm"},[i?.label])]):null}}}function lq(){const{t}=ye(),e=wn(),{copy:n}=f4();return{render:r=>(o,i)=>{const a=Or(o,r.key||"");return d("div",{class:"flex"},[a&&a!=="-"?d("div",{class:"flex justify-start items-center gap-1"},[d("div",null,[a]),d("div",{class:"cursor-pointer i-tabler:copy size-4 text-muted hover:text-primary",onClick:()=>{n(a).then(()=>e.success(t("hooks.table.copySuccess"))).catch(()=>e.error(t("hooks.table.copyFailed")))}},null)]):"-"])}}}const cq=X({name:"TableColumnHidden",props:{value:{type:String,default:""},percent:{type:Number,default:30}},setup(t){const e=re(!0);return()=>t.value?d("div",{class:"flex justify-start items-center gap-1"},[d("div",{class:"font-mono"},[e.value?dq(t.value,t.percent):t.value]),d("div",{class:["cursor-pointer  size-4 text-muted hover:text-primary transition-all duration-150",e.value?"i-tabler:eye":"i-tabler:eye-off"],onClick:()=>{e.value=!e.value}},null)]):"-"}});function uq(){return{render:t=>(e,n)=>{const r=Or(e,t.key||"");return d(cq,{value:r,percent:t.percent},null)}}}function dq(t,e=30){if(!t||t.length<4)return t;const n=t.length,r=Math.ceil(n*e/100),o=Math.floor((n-r)/2);return t.slice(0,o)+"*".repeat(r)+t.slice(o+r)}function J5(){return{render:t=>(e,n)=>{let r=Or(e,t.key||"")||[];return r=Array.isArray(r)?r:[r],d("div",{class:"flex flex-wrap gap-2"},[r.length>0?r.map((o,i)=>d(Ei,{key:i,src:o,width:t.imageWidth||40,height:t.imageHeight||40,objectFit:"cover",fallbackSrc:"data:image/svg+xml;base64,"},{placeholder:()=>Oe(_l,{width:t.imageWidth||40,height:t.imageHeight||40}),error:()=>Oe(_l,{width:t.imageWidth||40,height:t.imageHeight||40})})):d(_l,{height:40},null)])}}}const hq=X({name:"TableColumnInput",props:{data:{type:Object,required:!0},field:{type:String,default:""},path:{type:String,required:!0},tag:{type:Object}},setup(t){const{t:e}=ye(),n=re(!1),r=re(""),{mutateAsync:o}=ai(),i=wn(),a=s=>{o({path:t.path,method:"PATCH",payload:{[t.field]:s}}).then(()=>{i.success(e("hooks.table.saveSuccess"))}).catch(l=>{i.error(l.message)})};return()=>n.value?d("div",{class:"flex gap-2"},[d("div",null,[Oe(t.tag||ze,{value:r.value,"onUpdate:value":s=>r.value=s,autofocus:!0})]),d(me,{type:"primary",onClick:()=>{r.value!==t.data[t.field]?a(r.value):n.value=!1},renderIcon:()=>d("div",{class:"size-4 i-tabler:check"},null)},null)]):d("div",{class:"flex"},[d("div",{class:"flex justify-start items-center gap-1"},[d("div",null,[t.data[t.field]===void 0||t.data[t.field]===""?"-":t.data[t.field]]),d("div",{class:"cursor-pointer i-tabler:pencil size-4 text-muted hover:text-primary",onClick:()=>{r.value=t.data[t.field],n.value=!0}},null)])])}});function fq(t){return{render:e=>(n,r)=>{const o=typeof t?.path=="function"?t?.path(n):`${t?.path}/${Or(n,t?.rowKey||"id")}`;return d(hq,{data:n,field:e.key,path:o,tag:e.tag},null)}}}function Q5(){return{render:t=>(e,n)=>{const r=typeof t.maps=="function"?t.maps(e):t.maps;return d("div",{class:"flex flex-col gap-1"},[r?.map(o=>d("div",{class:"flex gap-2 "},[d("div",{class:"flex text-muted items-center gap-1 whitespace-nowrap"},[o.icon&&d("div",{class:["size-4",o.icon]},null),o.label]),d("div",null,[o?.render?o.render(Or(e,o.key||"")):Or(e,o.key||"")||"-"])]))])}}}function e6(){return{render:t=>(e,n)=>{const r=typeof t.title=="function"?t.title(e):Or(e,t.title||""),o=typeof t.desc=="function"?t.desc(e):Or(e,t.desc||""),i=typeof t.image=="function"?t.image(e):Or(e,t.image||"");return d(pc,{title:r,desc:o,avatar:t.avatar,image:i,imageWidth:t.imageWidth,imageHeight:t.imageHeight},null)}}}function t6(){return{render:t=>(e,n)=>{const r=t?.key||"status",o=Y2(t.maps,a=>a?a?.value===Or(e,r):!1),i=o?t.maps?.[o]:void 0;return i?d(Ti,{round:!0,bordered:!0,type:o},{icon:()=>d(bt,null,[o==="success"&&d("div",{class:"n-icon i-tabler:circle-check-filled"},null),o==="error"&&d("div",{class:"n-icon i-tabler:circle-x-filled"},null),o==="warning"&&d("div",{class:"n-icon i-tabler:exclamation-circle-filled"},null),(o==="default"||o==="info")&&d("div",{class:"n-icon i-tabler:info-circle-filled"},null)]),default:()=>d("span",{class:"text-sm"},[i?.label])}):null}}}function n6(t){const{mutateAsync:e}=ai(),n=wn();return{render:r=>(o,i)=>{const a=r.key||"status",s=typeof t?.path=="function"?t?.path(o):`${t?.path}/${Or(o,t?.rowKey||"id")}`;return d(Ze,{value:!!o[a],onUpdateValue:l=>{o[a]=l,e({path:s,method:"PATCH",payload:{[a]:l}}).then(()=>{o[a]=l}).catch(c=>{o[a]=!l,n.error(c.message)})}},null)}}}function pq(t){const{getPath:e}=it(),n=t?.path||e(),r=t?.rowKey||"id",o=e6(),i=J5(),a=n6({path:n,rowKey:r}),s=t6(),l=Z5(),c=Q5(),u=fq({path:n,rowKey:r}),h=lq(),f=uq();return{renderMedia:o.render,renderImage:i.render,renderSwitch:a.render,renderStatus:s.render,renderMap:c.render,renderInput:u.render,renderCopy:h.render,renderHidden:f.render,renderColor:l.render}}function r6(t){const e=Ot("dux.manage");if(t||(t=e?.value||""),!t)throw new Error("manage not found");return gq(t)()}function gq(t){return Li(`ui-${t}`,()=>{const e=re(!0),n=re(!1),r=a=>{e.value=a},o=a=>{n.value=a},i=re(!1);return{menuCollapsed:e,setMenuCollapsed:r,cmdVisible:i,setCmdVisible:a=>{i.value=a},menuMobileCollapsed:n,setMenuMobileCollapsed:o}},{persist:{pick:["menuCollapsed"]}})}function Wi(){const t=r6(),{menuCollapsed:e,cmdVisible:n,menuMobileCollapsed:r}=lh(t);return{menuCollapsed:e,setMenuCollapsed:t.setMenuCollapsed,menuMobileCollapsed:r,setMenuMobileCollapsed:t.setMenuMobileCollapsed,cmdVisible:n,setCmdVisible:t.setCmdVisible}}const o6=X({name:"ModalTab",props:{draggable:{type:Boolean,default:!1},defaultTab:{type:String,default:"0"},handle:{type:Object,default:()=>re()},onClose:{type:Function,default:()=>{}}},setup(t,{slots:e}){return()=>d("div",{class:"flex flex-col"},[d(Aa,{type:"line",defaultValue:t.defaultTab,class:"app-modal-tabs",size:"large",style:{"--n-pane-padding-right":"16px","--n-pane-padding-left":"16px"}},{default:()=>e.default?.(),prefix:()=>t.draggable?d("div",{class:"pl-4 cursor-move flex items-center",ref:t.handle},[d("div",{class:"i-tabler:grid-dots size-4"},null)]):null,suffix:()=>d("div",{class:"pr-4 flex items-center"},[d(me,{text:!0,onClick:t.onClose,"aria-label":"close"},{icon:()=>d("div",{class:"i-tabler:x size-4"},null)})])}),e.footer?.()&&d("div",{class:"flex justify-end gap-2 p-3 rounded-b border-t border-muted bg-muted dark:bg-gray-800/50"},[e.footer?.()])])}}),i6=X({name:"DuxGrid",props:{cols:{type:Number,default:2},spac:{type:Number,default:2}},setup(t,{slots:e}){return()=>d("div",{class:`w-full grid md:grid-cols-${t?.cols||2} grid-cols-1 gap-${t?.spac||2}`},[e.default?.()])}}),oc=X({name:"DuxWidgetEditorPreview",props:{class:String,select:String,modelValue:Array,onUpdate:Function,onSelect:Function},setup(t){const e=Ot("editor.use");return()=>d(bt,null,[d(Ph,yt({modelValue:t.modelValue||[],animation:150,group:"widget",handle:".editor-handle",class:t.class||rt(["h-full flex flex-col gap-2",!t.modelValue||t.modelValue?.length===0?"p-2":""])},{"onUpdate:modelValue":n=>{t.onUpdate?.(n)}}),{default:()=>[t.modelValue?.map((n,r)=>{const o=e?.components?.value?.find(a=>a.name===n.name),i={options:n.options};return o?.nested&&(i.children=n.children||[],i.onChildren=a=>{n.children=a}),d("div",{class:rt(["border p-2 rounded-sm relative w-full",e?.selected.value===n.key?"bg-primary/10 border-primary border-solid":"border-accented border-dashed"]),key:n.key,onClick:a=>{a.stopPropagation(),e?.selected&&(e.selected.value=n.key)}},[d("div",null,[o?.component(i)]),e?.selected.value===n.key&&d(bt,null,[d("div",{class:"absolute right-0 bottom-0  bg-primary flex px-1 rounded-tl z-1"},[d("div",{class:"p-1 text-inverted cursor-pointer  hover:text-inverted/80",onClick:()=>{e.copyData(n.key,r)}},[d("div",{class:"i-tabler:copy"},null)]),d("div",{class:"p-1 text-inverted  cursor-pointer hover:text-inverted/80"},[d("div",{class:"i-tabler:trash-x",onClick:()=>{e?.deleteData(n.key,r)}},null)])]),d("div",{class:"absolute left-0 top-0  bg-primary p-1 text-inverted rounded-br z-1 editor-handle"},[d("div",{class:"i-tabler:arrows-move "},null)])])])})]})])}}),Eo=X({name:"DuxFormLayout",props:{labelPlacement:{type:String,default:"left"},labelAlign:{type:String,default:"left"},labelWidth:{type:Number},inline:{type:Boolean,default:!1},divider:{type:Boolean,default:!1}},setup(t,{slots:e}){return Fn("dux.form",{labelPlacement:be(t,"labelPlacement"),labelAlign:be(t,"labelAlign"),labelWidth:be(t,"labelWidth"),divider:be(t,"divider")}),()=>d("div",{class:["flex ",t.divider||t.labelPlacement==="page"?" divide-y divide-default dark:divide-gray-800":"",t.inline?"flex-row":"flex-col",t.labelPlacement==="page"||t.labelPlacement==="setting"?"container mx-auto":"gap-4"]},[e?.default?.()])}}),a6=X({name:"WidgetEditorSetting",props:{actionRender:Function},setup(t){const e=Ot("editor.use"),n=z(()=>e?.getData(e.selected.value)),r=z(()=>e?.components.value?.find(o=>o.name===n.value?.name));return()=>d("div",{class:"flex-none  p-2 max-w-full w-220px overflow-y-auto bg-default",key:n.value?.key},[r.value?.setting?.({value:n.value?.options,"update:modelValue":o=>{n?.value&&(n.value.options=o)}})||d("div",{class:"flex flex-col gap-2 h-full"},[d("div",{class:"flex-1 min-h-0"},[e?.settingPage?.component?.({value:e.value.value.config,"update:modelValue":o=>{e.value.value.config=o}})]),t?.actionRender?.(e)])])}}),tt=X({name:"WidgetEditorSettingCard",props:{title:String,icon:String},setup(t,{slots:e}){return()=>d("div",{class:"flex flex-col"},[d("div",{class:"bg-elevated rounded py-2 px-4 flex justify-center items-center gap-2"},[d("div",null,[t.title])]),d("div",{class:"py-4 flex-1"},[d(Eo,{labelPlacement:"top"},{default:()=>[e.default?.()]})])])}});function mq(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const vq=X({name:"WidgetEditorGrid",props:{options:Object,children:{type:Array,default:[]},onChildren:Function},setup(t){const e=z(()=>t.options?.col||2),n=z(()=>{const r=[...t.children||[]],o=e.value;for(;r.length<o;)r.push([]);for(let i=0;i<o;i++)Array.isArray(r[i])||(r[i]=[]);return r});return()=>{let r;return d(i6,{cols:e.value,spac:t.options?.spac},mq(r=n.value.map((o,i)=>{const a=o;return d("div",{key:i,class:rt({"rounded border border-dashed border-accented":!a?.length})},[d(oc,{modelValue:a,onUpdate:s=>{const l=[...n.value];l[i]=s,t.onChildren?.(l)}},null)])}))?r:{default:()=>[r]})}}}),bq=X({name:"WidgetEditorGridSetting",props:{value:{type:Object,default:()=>({col:2,spac:2})}},setup(t,{emit:e}){const{t:n}=ye(),r=Ue(t,"value",e);return()=>d(tt,{title:n("components.designEditor.grid.title"),icon:"i-tabler:grid-4x4"},{default:()=>[d(fd,{label:n("components.designEditor.grid.columns"),path:"col"},{default:()=>[d(Ut,{value:r.value.col,"onUpdate:value":o=>r.value.col=o,min:1,max:12,placeholder:n("components.designEditor.grid.columnsPlaceholder")},null)]}),d(fd,{label:n("components.designEditor.grid.spacing"),path:"spac"},{default:()=>[d(Ut,{value:r.value.spac,"onUpdate:value":o=>r.value.spac=o,min:0,max:100,placeholder:n("components.designEditor.grid.spacingPlaceholder")},null)]})]})}});function yq(t){const{children:e,convertToJsonSchema:n}=t||{};let r=[];return e?.length&&n&&(r=e.flatMap(o=>Array.isArray(o)?n(o):[])),{tag:"dux-grid",attrs:{cols:t?.options?.col||2,spac:t?.options?.spac||2},children:r}}function Ev(t){return{name:"dux-grid",icon:"i-tabler:grid-4x4",label:t("components.designEditor.grid.label"),group:"layout",nested:!0,component:e=>d(vq,e,null),setting:e=>d(bq,e,null),settingDefault:{col:2,spac:2},json:yq}}function s6({settingPage:t}){const e=re([]),n=re([]),r=re(),o=re({config:t?.default||{},data:[]}),i=()=>{e.value=[]},a=()=>{n.value=[]},s=v=>{e.value.findIndex(g=>g.name===v.name)===-1&&e.value.push(v)},l=v=>{n.value.findIndex(g=>g.name===v.name)===-1&&n.value.push(v)},c=z(()=>n.value.map(v=>({name:v.name,label:v.label,icon:v.icon,children:e.value.filter(g=>g.group===v.name)}))),u=(v,g)=>{for(const b of g)if(b){if(Array.isArray(b)){const y=u(v,b);if(y)return y;continue}if(b.key===v)return b;if(b.children&&b.children.length){const y=u(v,b.children);if(y)return y}}},h=v=>{if(v)return u(v,o.value.data)},{randomUUID:f}=new U0({length:10}),p=v=>v?.map(g=>{if(g)return Array.isArray(g)?p(g):(g.key=f(),g.children&&g.children.length>0&&(g.children=p(g.children)),g)}).filter(g=>g!==void 0),m=(v,g,b)=>{for(const y of v)if(y){if(Array.isArray(y)){const x=m(y,g,y);if(x)return x;continue}if(y.key===g)return b;if(y.children&&y.children.length){const x=m(y.children,g,y);if(x)return x}}};return{clearGroup:a,clearComponent:i,addComponent:s,addGroup:l,tree:c,components:e,group:n,getData:h,selected:r,value:o,copyData:(v,g)=>{const b=h(v),y=JSON.parse(JSON.stringify(b));y.key=f(),y.children&&y.children.length>0&&(y.children=p(y.children));const x=m(o.value.data,v);x?Array.isArray(x)?x.splice(g+1,0,y):x.children?.splice(g+1,0,y):o.value.data?.splice(g+1,0,y)},deleteData:(v,g)=>{const b=m(o.value.data,v);b?Array.isArray(b)?b.splice(g,1):b.children?.splice(g,1):o.value.data.splice(g,1),r.value=void 0,o.value={...o.value}},settingPage:t}}const Bm=X({name:"DuxDesignEditor",props:{data:Object,onUpdateData:Function,groups:Array,components:Array,settingPage:Object,actionRender:Function,previewWrapper:Function},setup(t){const{t:e}=ye(),n=s6({settingPage:t.settingPage});Fn("editor.use",n),pe([()=>t.components,()=>t.groups],()=>{n.clearGroup(),n.clearComponent(),n.addGroup({name:"layout",label:e("components.designEditor.layout")||"Layout",icon:"i-tabler:layout"}),t.groups?.forEach(a=>{n.addGroup(a)}),n.addComponent(Ev(e)),t.components?.forEach(a=>{n.addComponent(a)})},{immediate:!0,deep:!0});const r=re(),{randomUUID:o}=new U0({length:10}),i=a=>({key:o(),name:a.name,options:Cn(a.settingDefault)});return pe(()=>t.data,a=>{const s=t.settingPage?.default||{};n.value.value={config:{...s,...Cn(a?.config||{})},data:Cn(a?.data||[])}},{deep:!0,immediate:!0}),pe(n.value,a=>{t.onUpdateData?.(a)},{deep:!0}),()=>d(In,{class:"h-full",shadow:!0},{default:()=>[d("div",{class:"h-full flex flex-row  text-default"},[d("div",{class:"flex-none flex flex-col gap-2  border-r border-default bg-default p-2"},[d(P2,{title:e("components.designEditor.all")||"All",icon:"i-tabler:hexagons",active:!r.value,onClick:()=>{r.value=void 0}},null),n.group.value?.map((a,s)=>d(P2,{key:s,active:r.value===a.name,title:a.label,icon:a.icon,onClick:()=>{r.value=a.name}},null))]),d("div",{class:"flex-none text-xs w-180px bg-default",id:"comp-list"},[d(rr,null,{default:()=>[d("div",{class:"flex flex-col gap-4 p-2"},[n.tree.value?.filter(a=>r.value?a.name===r.value:!0).map(a=>d("div",{key:a.name,class:"flex flex-col gap-2"},[d("div",{class:"bg-muted border border-muted rounded p-2 flex justify-center"},[a.label]),d(Ph,{modelValue:a.children||[],animation:150,group:{name:"widget",pull:"clone",put:!1},sort:!1,clone:i,class:"grid grid-cols-2 items-start gap-2 "},{default:()=>[a.children?.map(s=>d("div",{key:s.name,class:"border border-muted rounded-sm p-2 flex flex-col items-center gap-2 cursor-pointer hover:bg-muted  edit-drag"},[d("div",{class:rt(["size-6",s.icon])},null),d("div",{class:"truncate whitespace-nowrap px-2 overflow-hidden"},[s.label])]))]})]))])]})]),d("div",{class:"flex-1 shadow-sm flex flex-col items-center p-6 overflow-auto",style:"background: linear-gradient(45deg, rgba(0,0,0, 0.1) 25%, transparent 25%), linear-gradient(-45deg, rgba(0,0,0, 0.1) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, rgba(0,0,0, 0.1) 75%), linear-gradient(-45deg, transparent 75%, rgba(0,0,0, 0.1) 75%); background-size: 20px 20px; background-position: 0 0, 0 10px, 10px -10px, -10px 0px;"},[d("div",{class:"max-w-2xl w-full flex-1 bg-default shadow p-2",onClick:()=>{n.selected.value=void 0}},[t.previewWrapper?t.previewWrapper(d(oc,{modelValue:n.value.value?.data,onUpdate:a=>n.value.value.data=a},null),n):d(oc,{modelValue:n.value.value?.data,onUpdate:a=>n.value.value.data=a},null)])]),d(a6,{actionRender:t.actionRender},null)])]})}});function P2({title:t,icon:e,active:n,onClick:r}){return d("div",{class:rt(["flex flex-col items-center px-3 py-2 hover:bg-primary/10 cursor-pointer rounded-sm",n?"bg-primary/10 text-primary":""]),onClick:r},[d("div",{class:rt(["size-4",e])},null),d("div",{class:"truncate whitespace-nowrap text-default text-sm"},[t])])}const Tv=X({name:"DuxDrawApps",setup(){return()=>d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 716.79 683.19"},[d("path",{d:"m450.81,682c0,.66.53,1.19,1.19,1.19h263.59c.66,0,1.19-.53,1.19-1.19s-.53-1.19-1.19-1.19h-263.59c-.66,0-1.19.53-1.19,1.19Z",fill:"#3f3d58"},null),d("g",null,[d("path",{d:"m546.64,348.65l-3.05,7.63s-2.81,10.68.48,14.94,4.02,36.87.49,39.28c-3.54,2.41,44.82-22.33,44.82-22.33,0,0-18.88-43.78-19.2-43.94s-12.69-4.02-12.69-4.02l-10.84,8.43Z",fill:"#2f2e43"},null),d("polygon",{points:"578.12 386.36 561.92 391.69 561.92 368.37 576.62 368.37 578.12 386.36",fill:"#f6a6a9"},null),d("path",{id:"uuid-48393ca6-ae17-4485-8fd8-05ea309d195e-638",d:"m528.6,518.76c-.88,5.34-4.44,9.17-7.96,8.56-3.52-.62-5.66-5.45-4.78-10.79.32-2.14,1.17-4.16,2.47-5.9l4.02-22.59,10.93,2.29-5.12,22.02c.67,2.08.83,4.28.44,6.41,0,0,0,0,0,0Z",fill:"#f6a6a9"},null),d("rect",{x:"556.86",y:"647.44",width:"15.18",height:"21.53",fill:"#f6a6a9"},null),d("path",{d:"m542.08,682c-1.6,0-3.02-.04-4.09-.14-4.03-.37-7.88-3.34-9.81-5.08-.87-.78-1.15-2.03-.69-3.1h0c.32-.77.97-1.35,1.78-1.58l10.65-3.04,17.25-11.64.19.34c.07.13,1.77,3.18,2.33,5.24.22.78.16,1.44-.17,1.94-.23.35-.54.55-.8.67.31.33,1.29.99,4.3,1.47,4.4.7,5.32-3.86,5.36-4.05l.03-.15.13-.08c2.09-1.35,3.38-1.96,3.83-1.83.28.08.74.22,1.99,12.64.13.39,1,3.25.41,5.98-.65,2.97-13.63,1.95-16.23,1.71-.07,0-9.8.7-16.46.7Z",fill:"#2f2e43"},null),d("rect",{x:"606.91",y:"632.91",width:"15.18",height:"21.53",transform:"translate(-247.53 422.68) rotate(-31.95)",fill:"#f6a6a9"},null),d("path",{d:"m598.14,679.05c-1.78,0-3.42-.21-4.58-.42-1.15-.2-2.04-1.11-2.23-2.26h0c-.13-.83.11-1.66.67-2.28l7.43-8.22,8.48-19,.35.19c.13.07,3.18,1.76,4.75,3.21.6.55.9,1.14.88,1.74,0,.42-.17.76-.32.99.44.11,1.62.16,4.43-1.03,4.1-1.73,2.48-6.09,2.4-6.28l-.06-.14.07-.14c1.06-2.25,1.83-3.46,2.28-3.58.28-.08.75-.2,8.38,9.67.31.26,2.57,2.22,3.51,4.86,1.02,2.87-10.54,8.87-12.86,10.04-.07.06-12.17,8.85-17.13,11.35-1.97.99-4.3,1.3-6.43,1.3Z",fill:"#2f2e43"},null),d("path",{d:"m583.21,467.41h-42.48l-3.86,39.52,16.87,146.02h21.69l-8.67-84.34,35.18,76.14,19.28-13.49-27.47-71.08s9.81-61.93,2.1-77.35c-7.71-15.42-12.63-15.42-12.63-15.42Z",fill:"#2f2e43"},null),d("polygon",{points:"604.34 469.82 530.6 469.82 557.11 382.59 586.51 382.59 604.34 469.82",fill:"#e6e6e6"},null),d("path",{d:"m561.75,382.6s-18.31-.48-20.24,4.34c-1.93,4.82-24.58,119.52-24.58,119.52h14.94l29.88-123.86Z",fill:"#e6e6e6"},null),d("circle",{cx:"563.93",cy:"358.68",r:"16.14",fill:"#f6a6a9"},null),d("path",{d:"m567.06,333.6s19.44-4.98,25.38,20.88c0,0,.16,6.75,3.53,9.48,3.37,2.73,2.25,16.87,2.25,16.87,0,0,6.43,10.6.96,15.42,0,0-2.41,9.8,1.12,15.42,3.53,5.62,16.87,36.55-5.3,38.43,0,0-11.24-6.79-5.94-27.03,5.3-20.24-.64-31.42-.64-31.42,0,0-17.03-6.17-16.06-19.35.96-13.17-10.92-26.18-11.73-26.02s-9.16-4.66-12.85,10.12l-3.96-.67s-1.66-24.87,23.24-22.14Z",fill:"#2f2e43"},null),d("g",null,[d("path",{id:"uuid-5634515f-d760-4925-b0a8-442b9e09929d-639",d:"m616.92,516.16c1.08,5.31-.89,10.15-4.4,10.83-3.51.67-7.22-3.08-8.3-8.39-.46-2.11-.39-4.31.21-6.39l-4.27-22.54,11.03-1.74,3.03,22.41c1.37,1.71,2.29,3.71,2.69,5.84,0,0,0,0,0,0Z",fill:"#f6a6a9"},null),d("path",{d:"m573.66,382.7s16.13-2.04,18.06,2.78c1.93,4.82,24.58,119.52,24.58,119.52h-14.94s-27.69-122.29-27.69-122.29Z",fill:"#e6e6e6"},null)])]),d("path",{d:"m96.98,211.83H18.38c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38ZM18.38,98.48c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38H18.38Z",fill:"#ccc"},null),d("path",{d:"m267.66,211.83h-78.6c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38h-78.6Z",fill:"#ccc"},null),d("path",{d:"m267.66,425.9h-78.6c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38h-78.6Z",fill:"#ccc"},null),d("path",{d:"m96.98,425.9H18.38c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38H18.38Z",fill:"#ccc"},null),d("circle",{cx:"111.03",cy:"315.66",r:"23.31",fill:"rgba(var(--ui-color-primary))"},null),d("path",{d:"m438.34,211.83h-78.6c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38h-78.6Z",fill:"#ccc"},null),d("circle",{cx:"455.72",cy:"101.6",r:"23.31",fill:"rgba(var(--ui-color-primary))"},null),d("path",{d:"m78.21,235.83H31.32c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),d("path",{d:"m251.8,235.83h-46.89c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),d("path",{d:"m425.4,235.83h-46.89c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),d("path",{d:"m438.34,427.9h-78.6c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38h-78.6Z",fill:"#ccc"},null),d("path",{d:"m425.4,451.89h-46.89c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),d("path",{d:"m609.03,211.83h-78.6c-10.13,0-18.38-8.24-18.38-18.38v-78.6c0-10.13,8.24-18.38,18.38-18.38h78.6c10.13,0,18.38,8.24,18.38,18.38v78.6c0,10.13-8.24,18.38-18.38,18.38Zm-78.6-113.36c-9.03,0-16.38,7.35-16.38,16.38v78.6c0,9.03,7.35,16.38,16.38,16.38h78.6c9.03,0,16.38-7.35,16.38-16.38v-78.6c0-9.03-7.35-16.38-16.38-16.38h-78.6Z",fill:"#ccc"},null),d("path",{d:"m596.08,235.83h-46.89c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),d("path",{d:"m78.21,449.89H31.32c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),d("path",{d:"m251.8,449.89h-46.89c-3.67,0-6.65-2.98-6.65-6.65s2.98-6.65,6.65-6.65h46.89c3.67,0,6.65,2.98,6.65,6.65s-2.98,6.65-6.65,6.65Z",fill:"#e6e6e6"},null),d("g",null,[d("circle",{cx:"297.74",cy:"513.92",r:"5.72",fill:"rgba(var(--ui-color-primary))"},null),d("circle",{cx:"314.7",cy:"513.92",r:"5.72",fill:"#e6e6e6"},null),d("circle",{cx:"331.66",cy:"513.92",r:"5.72",fill:"#e6e6e6"},null)]),d("path",{d:"m393.26,28.19h-157.14c-7.77,0-14.09-6.32-14.09-14.09s6.32-14.09,14.09-14.09h157.14c7.77,0,14.09,6.32,14.09,14.09s-6.32,14.09-14.09,14.09ZM236.13,2c-6.67,0-12.09,5.43-12.09,12.09s5.43,12.09,12.09,12.09h157.14c6.67,0,12.09-5.43,12.09-12.09s-5.43-12.09-12.09-12.09h-157.14Z",fill:"#ccc"},null),d("g",null,[d("path",{d:"m281.11,17.78c-3.16,0-5.73-2.57-5.73-5.73s2.57-5.73,5.73-5.73,5.73,2.57,5.73,5.73-2.57,5.73-5.73,5.73Zm0-9.9c-2.3,0-4.17,1.87-4.17,4.17s1.87,4.17,4.17,4.17,4.17-1.87,4.17-4.17-1.87-4.17-4.17-4.17Z",fill:"#484662"},null),d("path",{d:"m291.91,22.47c-.18,0-.36-.06-.51-.19l-7.24-6.21c-.33-.28-.36-.77-.08-1.1.28-.33.77-.36,1.1-.08l7.24,6.21c.33.28.36.77.08,1.1-.15.18-.37.27-.59.27Z",fill:"#484662"},null)])])}}),Ov=X({name:"DuxDrawAuth",setup(){return()=>d("svg",{viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{id:"Ellipse 653",d:"M150 75C150 116.42 116.42 150 75 150C33.57 150 0 116.42 0 75C0 33.57 33.57 0 75 0C116.42 0 150 33.57 150 75Z",fill:"rgba(var(--ui-color-primary) / .3)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Subtraction 1",d:"M120 150L30 150L30 53C34.24 52.99 38.3 51.3 41.3 48.3C44.3 45.3 45.99 41.24 46 37L104 37C103.99 39.1 104.4 41.18 105.21 43.12C106.01 45.06 107.2 46.82 108.69 48.3C110.17 49.79 111.93 50.98 113.87 51.78C115.81 52.59 117.89 53 120 53L120 150Z",fill:"rgba(var(--ui-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Ellipse 665",d:"M99 78C99 91.25 88.25 102 75 102C61.74 102 51 91.25 51 78C51 64.74 61.74 54 75 54C88.25 54 99 64.74 99 78Z",fill:"rgba(var(--ui-color-primary))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Path 25936",d:"M83.48 89.31L75 80.82L66.51 89.31L63.68 86.48L72.17 78L63.68 69.51L66.51 66.68L75 75.17L83.48 66.68L86.31 69.51L77.82 78L86.31 86.48L83.48 89.31Z",fill:"rgba(var(--ui-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5617",d:"M62 108L88 108C89.65 108 91 109.34 91 111C91 112.65 89.65 114 88 114L62 114C60.34 114 59 112.65 59 111C59 109.34 60.34 108 62 108Z",fill:"rgba(var(--ui-color-primary) / .2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5618",d:"M53 120L97 120C98.65 120 100 121.34 100 123C100 124.65 98.65 126 97 126L53 126C51.34 126 50 124.65 50 123C50 121.34 51.34 120 53 120Z",fill:"rgba(var(--ui-color-primary) / .2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null)])}}),Tc=X({name:"DuxDrawEmptyForm",setup(){return()=>d("svg",{viewBox:"0 0 162 162",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("defs",null,[d("linearGradient",{x1:"81.000000",y1:"9.000000",x2:"81.000000",y2:"159.000000",id:"paint_linear_1_260_0",gradientUnits:"userSpaceOnUse"},[d("stop",{"stop-color":"#E3ECFA"},null),d("stop",{offset:"1.000000","stop-color":"#DAE7FF"},null)]),d("linearGradient",{x1:"81.000000",y1:"9.000000",x2:"81.000000",y2:"159.000000",id:"paint_linear_4_2_0",gradientUnits:"userSpaceOnUse"},[d("stop",{"stop-color":"#E3ECFA"},null),d("stop",{offset:"1.000000","stop-color":"#DAE7FF"},null)])]),d("path",{id:"Ellipse 652",d:"M156 84C156 125.42 122.42 159 81 159C39.57 159 6 125.42 6 84C6 42.57 39.57 9 81 9C122.42 9 156 42.57 156 84Z",fill:"rgba(var(--ui-color-primary) / .3)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("g",{filter:"url(#filter_1_261_dd)"},[d("mask",{id:"mask4_2","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"6.000000",y:"9.000000",width:"150.000000",height:"150.000000"},[d("path",{id:"Ellipse 653",d:"M156 84C156 125.42 122.42 159 81 159C39.57 159 6 125.42 6 84C6 42.57 39.57 9 81 9C122.42 9 156 42.57 156 84Z",fill:"url(#paint_linear_4_2_0)","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),d("g",{mask:"url(#mask4_2)"},[d("path",{id:"Rectangle 5615",d:"M38 52L124 52C126.76 52 129 54.23 129 57L129 162C129 164.76 126.76 167 124 167L38 167C35.23 167 33 164.76 33 162L33 57C33 54.23 35.23 52 38 52Z",fill:"rgba(var(--ui-bg-elevated))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)])]),d("path",{id:"Rectangle 5617",d:"M46 62L72 62C73.65 62 75 63.34 75 65C75 66.65 73.65 68 72 68L46 68C44.34 68 43 66.65 43 65C43 63.34 44.34 62 46 62Z",fill:"rgba(var(--ui-color-primary), .2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5620",d:"M46 104L72 104C73.65 104 75 105.34 75 107C75 108.65 73.65 110 72 110L46 110C44.34 110 43 108.65 43 107C43 105.34 44.34 104 46 104Z",fill:"rgba(var(--ui-color-primary), .2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Vector",d:"M114 77C116.2 77 118 78.79 118 81L118 91C118 93.2 116.2 95 114 95L48 95C45.79 95 44 93.2 44 91L44 81C44 78.79 45.79 77 48 77L114 77Z",stroke:"rgba(var(--ui-color-primary))","stroke-opacity":"1.000000","stroke-width":"2.000000"},null),d("path",{id:"Rectangle 5619",d:"M48 118L114 118C116.76 118 119 120.23 119 123L119 131C119 133.76 116.76 136 114 136L48 136C45.23 136 43 133.76 43 131L43 123C43 120.23 45.23 118 48 118Z",fill:"rgba(var(--ui-color-primary) / .3)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Ellipse 654",d:"M63 37C63 39.2 61.2 41 59 41C56.79 41 55 39.2 55 37C55 34.79 56.79 33 59 33C61.2 33 63 34.79 63 37Z",fill:"rgba(var(--ui-bg-elevated))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Ellipse 655",d:"M85 37C85 39.2 83.2 41 81 41C78.79 41 77 39.2 77 37C77 34.79 78.79 33 81 33C83.2 33 85 34.79 85 37Z",fill:"rgba(var(--ui-color-primary))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Ellipse 656",d:"M107 37C107 39.2 105.2 41 103 41C100.79 41 99 39.2 99 37C99 34.79 100.79 33 103 33C105.2 33 107 34.79 107 37Z",fill:"rgba(var(--ui-bg-elevated))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Ellipse 658",d:"M97 92C97 94.76 94.76 97 92 97C89.23 97 87 94.76 87 92C87 89.23 89.23 87 92 87C94.76 87 97 89.23 97 92Z",fill:"rgba(var(--ui-color-primary) / .3)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Path 25916",d:"M95.9 113.37C95.1 113.37 94.36 113.37 93.68 113.32C92.84 113.27 92.03 112.98 91.35 112.49C90.66 112.01 90.12 111.34 89.79 110.57L85.57 102.24C85.26 101.88 85.11 101.41 85.14 100.93C85.18 100.46 85.4 100.02 85.75 99.71C86.05 99.47 86.41 99.34 86.79 99.35C87.07 99.36 87.34 99.42 87.59 99.55C87.83 99.67 88.05 99.85 88.23 100.06L90.14 102.68L90.17 102.71L90.17 92.78C90.17 92.28 90.37 91.81 90.72 91.46C91.06 91.11 91.54 90.92 92.03 90.92C92.52 90.92 93 91.11 93.34 91.46C93.69 91.81 93.89 92.28 93.89 92.78L93.89 99.28C93.87 99.04 93.89 98.79 93.97 98.57C94.05 98.34 94.17 98.13 94.33 97.95C94.5 97.78 94.69 97.63 94.91 97.54C95.13 97.44 95.37 97.39 95.61 97.39C95.85 97.39 96.09 97.44 96.31 97.54C96.53 97.63 96.72 97.78 96.89 97.95C97.05 98.13 97.17 98.34 97.25 98.57C97.33 98.79 97.35 99.04 97.33 99.28L97.33 100.63C97.31 100.39 97.34 100.15 97.42 99.92C97.49 99.69 97.62 99.49 97.78 99.31C97.94 99.13 98.14 98.99 98.36 98.89C98.58 98.8 98.81 98.75 99.05 98.75C99.29 98.75 99.53 98.8 99.75 98.89C99.97 98.99 100.17 99.13 100.33 99.31C100.49 99.49 100.62 99.69 100.69 99.92C100.77 100.15 100.8 100.39 100.78 100.63L100.78 101.67C100.75 101.44 100.78 101.19 100.86 100.97C100.94 100.74 101.06 100.53 101.22 100.35C101.38 100.18 101.58 100.03 101.8 99.94C102.02 99.84 102.26 99.79 102.5 99.79C102.74 99.79 102.98 99.84 103.2 99.94C103.42 100.03 103.61 100.18 103.77 100.35C103.94 100.53 104.06 100.74 104.14 100.97C104.21 101.19 104.24 101.44 104.22 101.67L104.22 108.01C104.19 109.96 103.31 113.25 100.21 113.25C99.98 113.26 98.08 113.37 95.91 113.37L95.9 113.37Z",fill:"rgba(var(--ui-color-primary))","fill-opacity":"1.000000","fill-rule":"nonzero"},null),d("path",{id:"Path 25916",d:"M93.68 113.32C92.84 113.27 92.03 112.98 91.35 112.49C90.66 112.01 90.12 111.34 89.79 110.57L85.57 102.24C85.26 101.88 85.11 101.41 85.14 100.93C85.18 100.46 85.4 100.02 85.75 99.71C86.05 99.47 86.41 99.34 86.79 99.35C87.07 99.36 87.34 99.42 87.59 99.55C87.83 99.67 88.05 99.85 88.23 100.06L90.14 102.68L90.17 102.71L90.17 92.78C90.17 92.28 90.37 91.81 90.72 91.46C91.06 91.11 91.54 90.92 92.03 90.92C92.52 90.92 93 91.11 93.34 91.46C93.69 91.81 93.89 92.28 93.89 92.78L93.89 99.28C93.87 99.04 93.89 98.79 93.97 98.57C94.05 98.34 94.17 98.13 94.33 97.95C94.5 97.78 94.69 97.63 94.91 97.54C95.13 97.44 95.37 97.39 95.61 97.39C95.85 97.39 96.09 97.44 96.31 97.54C96.53 97.63 96.72 97.78 96.89 97.95C97.05 98.13 97.17 98.34 97.25 98.57C97.33 98.79 97.35 99.04 97.33 99.28L97.33 100.63C97.31 100.39 97.34 100.15 97.42 99.92C97.49 99.69 97.62 99.49 97.78 99.31C97.94 99.13 98.14 98.99 98.36 98.89C98.58 98.8 98.81 98.75 99.05 98.75C99.29 98.75 99.53 98.8 99.75 98.89C99.97 98.99 100.17 99.13 100.33 99.31C100.49 99.49 100.62 99.69 100.69 99.92C100.77 100.15 100.8 100.39 100.78 100.63L100.78 101.67C100.75 101.44 100.78 101.19 100.86 100.97C100.94 100.74 101.06 100.53 101.22 100.35C101.38 100.18 101.58 100.03 101.8 99.94C102.02 99.84 102.26 99.79 102.5 99.79C102.74 99.79 102.98 99.84 103.2 99.94C103.42 100.03 103.61 100.18 103.77 100.35C103.94 100.53 104.06 100.74 104.14 100.97C104.21 101.19 104.24 101.44 104.22 101.67L104.22 108.01C104.19 109.96 103.31 113.25 100.21 113.25C99.98 113.26 98.08 113.37 95.91 113.37L95.9 113.37C95.1 113.37 94.36 113.37 93.68 113.32Z",stroke:"rgba(var(--ui-bg-elevated))","stroke-opacity":"1.000000","stroke-width":"1.000000"},null)])}}),l6=X({name:"DuxDrawError",setup(){return()=>d("svg",{viewBox:"0 0 200 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("defs",null,[d("filter",{id:"filter_1_304_dd",x:"0.000000",y:"7.000000",width:"157.000000",height:"47.000000",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[d("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},null),d("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null),d("feOffset",{dx:"0",dy:"3"},null),d("feGaussianBlur",{stdDeviation:"2"},null),d("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"},null),d("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"},null),d("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"},null),d("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"},null)]),d("filter",{id:"filter_1_313_dd",x:"43.000000",y:"50.000000",width:"157.000000",height:"47.000000",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[d("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},null),d("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null),d("feOffset",{dx:"0",dy:"3"},null),d("feGaussianBlur",{stdDeviation:"2"},null),d("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"},null),d("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"},null),d("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"},null),d("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"},null)]),d("filter",{id:"filter_1_322_dd",x:"0.000000",y:"93.000000",width:"157.000000",height:"47.000000",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[d("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},null),d("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"},null),d("feOffset",{dx:"0",dy:"3"},null),d("feGaussianBlur",{stdDeviation:"2"},null),d("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"},null),d("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"},null),d("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"},null),d("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"},null)]),d("linearGradient",{id:"paint_linear_1_302_0",x1:"102.000000",y1:"0.000000",x2:"102.000000",y2:"140.000000",gradientUnits:"userSpaceOnUse"},[d("stop",{"stop-color":"rgba(var(--ui-color-warning) / 0.2)"},null),d("stop",{offset:"1.000000","stop-color":"rgba(var(--ui-color-warning) / 0.2)"},null)])]),d("path",{id:"Rectangle 5622",d:"M42 0L162 0C167.52 0 172 4.47 172 10L172 130C172 135.52 167.52 140 162 140L42 140C36.47 140 32 135.52 32 130L32 10C32 4.47 36.47 0 42 0Z",fill:"url(#paint_linear_1_302_0)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("g",{filter:"url(#filter_1_304_dd)"},[d("path",{id:"Rectangle 5623",d:"M11 10L146 10C148.76 10 151 12.23 151 15L151 40C151 42.76 148.76 45 146 45L11 45C8.23 45 6 42.76 6 40L6 15C6 12.23 8.23 10 11 10Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),d("path",{id:"Rectangle 5617",d:"M49 18L75 18C76.65 18 78 19.34 78 21C78 22.65 76.65 24 75 24L49 24C47.34 24 46 22.65 46 21C46 19.34 47.34 18 49 18Z",fill:"rgba(var(--ui-color-warning) / 0.4)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5618",d:"M49 31L93 31C94.65 31 96 32.34 96 34C96 35.65 94.65 37 93 37L49 37C47.34 37 46 35.65 46 34C46 32.34 47.34 31 49 31Z",fill:"rgba(var(--ui-color-warning) / 0.2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5624",d:"M14 13L33 13C35.76 13 38 15.23 38 18L38 37C38 39.76 35.76 42 33 42L14 42C11.23 42 9 39.76 9 37L9 18C9 15.23 11.23 13 14 13Z",fill:"rgba(var(--ui-color-warning) / 0.8)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Path 25917",d:"M21.22 30.78L23.22 30.78L23.24 30.01C23.24 28.99 23.88 28.73 24.78 28.44C25.68 28.19 26.48 27.64 27.05 26.89C27.62 26.14 27.92 25.23 27.93 24.29C27.94 23.71 27.85 23.14 27.63 22.6C27.42 22.07 27.1 21.59 26.69 21.18C26.28 20.78 25.79 20.47 25.25 20.26C24.72 20.06 24.14 19.97 23.57 20C22.96 19.98 22.36 20.09 21.8 20.32C21.23 20.55 20.72 20.88 20.3 21.31C19.87 21.74 19.53 22.26 19.31 22.82C19.08 23.39 18.98 23.99 18.99 24.6L21.06 24.6C21.05 24.26 21.11 23.93 21.23 23.62C21.36 23.3 21.54 23.02 21.77 22.78C22.01 22.54 22.29 22.35 22.6 22.22C22.9 22.09 23.24 22.02 23.57 22.02C23.87 22 24.18 22.05 24.46 22.16C24.74 22.27 24.99 22.44 25.21 22.65C25.42 22.87 25.58 23.13 25.68 23.42C25.78 23.7 25.82 24.01 25.79 24.31C25.78 24.79 25.61 25.27 25.31 25.65C25.01 26.03 24.59 26.31 24.12 26.44L23.4 26.73C22.68 26.9 22.06 27.33 21.66 27.94C21.25 28.55 21.08 29.28 21.2 30.01L21.22 30.78ZM22.21 35.53C22.4 35.54 22.6 35.5 22.78 35.43C22.96 35.36 23.13 35.26 23.27 35.12C23.41 34.99 23.53 34.82 23.61 34.64C23.68 34.46 23.72 34.27 23.73 34.08C23.72 33.88 23.68 33.69 23.6 33.51C23.53 33.33 23.41 33.16 23.27 33.03C23.13 32.89 22.96 32.79 22.78 32.72C22.6 32.65 22.4 32.62 22.21 32.62C22.01 32.62 21.82 32.65 21.63 32.72C21.45 32.79 21.28 32.89 21.14 33.03C21 33.16 20.89 33.33 20.81 33.51C20.73 33.69 20.69 33.88 20.69 34.08C20.69 34.27 20.73 34.46 20.81 34.64C20.89 34.82 21 34.99 21.14 35.12C21.28 35.26 21.45 35.36 21.63 35.43C21.82 35.5 22.01 35.54 22.21 35.53L22.21 35.53Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("g",{filter:"url(#filter_1_313_dd)"},[d("path",{id:"Path 25918",d:"M54 53L189 53C190.32 53 191.59 53.52 192.53 54.46C193.47 55.4 194 56.67 194 58L194 83C194 84.32 193.47 85.59 192.53 86.53C191.59 87.47 190.32 88 189 88L54 88C52.67 88 51.4 87.47 50.46 86.53C49.52 85.59 49 84.32 49 83L49 58C49 56.67 49.52 55.4 50.46 54.46C51.4 53.52 52.67 53 54 53L54 53Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),d("path",{id:"Rectangle 5617",d:"M92 61L118 61C119.65 61 121 62.34 121 64C121 65.65 119.65 67 118 67L92 67C90.34 67 89 65.65 89 64C89 62.34 90.34 61 92 61Z",fill:"rgba(var(--ui-color-warning) / 0.4)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5618",d:"M92 74L136 74C137.65 74 139 75.34 139 77C139 78.65 137.65 80 136 80L92 80C90.34 80 89 78.65 89 77C89 75.34 90.34 74 92 74Z",fill:"rgba(var(--ui-color-warning) / 0.2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5624",d:"M57 56L76 56C78.76 56 81 58.23 81 61L81 80C81 82.76 78.76 85 76 85L57 85C54.23 85 52 82.76 52 80L52 61C52 58.23 54.23 56 57 56Z",fill:"rgba(var(--ui-color-warning) / 0.8)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Path 25917",d:"M64.22 73.78L66.22 73.78L66.24 73.01C66.24 71.99 66.88 71.73 67.78 71.44C68.68 71.19 69.48 70.64 70.05 69.89C70.62 69.14 70.92 68.23 70.93 67.29C70.94 66.71 70.85 66.14 70.63 65.6C70.42 65.07 70.1 64.59 69.69 64.18C69.28 63.78 68.79 63.47 68.25 63.26C67.72 63.06 67.14 62.97 66.57 63C65.96 62.98 65.36 63.09 64.8 63.32C64.23 63.55 63.72 63.88 63.3 64.31C62.87 64.74 62.53 65.26 62.31 65.82C62.08 66.39 61.98 66.99 61.99 67.6L64.06 67.6C64.05 67.26 64.11 66.93 64.23 66.62C64.36 66.3 64.54 66.02 64.77 65.78C65.01 65.54 65.29 65.35 65.6 65.22C65.9 65.09 66.24 65.02 66.57 65.02C66.87 65 67.18 65.05 67.46 65.16C67.74 65.27 67.99 65.44 68.21 65.65C68.42 65.87 68.58 66.13 68.68 66.42C68.78 66.7 68.82 67.01 68.79 67.31C68.78 67.79 68.61 68.27 68.31 68.65C68.01 69.03 67.59 69.31 67.12 69.44L66.4 69.73C65.68 69.9 65.06 70.33 64.66 70.94C64.25 71.55 64.08 72.28 64.19 73.01L64.22 73.78ZM65.21 78.53C65.4 78.54 65.6 78.5 65.78 78.43C65.96 78.36 66.13 78.26 66.27 78.12C66.41 77.99 66.53 77.82 66.61 77.64C66.68 77.46 66.72 77.27 66.73 77.08C66.72 76.88 66.68 76.69 66.6 76.51C66.53 76.33 66.41 76.16 66.27 76.03C66.13 75.89 65.96 75.79 65.78 75.72C65.6 75.65 65.4 75.62 65.21 75.62C65.01 75.62 64.82 75.65 64.63 75.72C64.45 75.79 64.28 75.89 64.14 76.03C64 76.16 63.89 76.33 63.81 76.51C63.73 76.69 63.69 76.88 63.69 77.08C63.69 77.27 63.73 77.46 63.81 77.64C63.89 77.82 64 77.99 64.14 78.12C64.28 78.26 64.45 78.36 64.63 78.43C64.82 78.5 65.01 78.54 65.21 78.53L65.21 78.53Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("g",{filter:"url(#filter_1_322_dd)"},[d("path",{id:"Path 25919",d:"M11 96L146 96C147.32 96 148.59 96.52 149.53 97.46C150.47 98.4 151 99.67 151 101L151 126C151 127.32 150.47 128.59 149.53 129.53C148.59 130.47 147.32 131 146 131L11 131C9.67 131 8.4 130.47 7.46 129.53C6.52 128.59 6 127.32 6 126L6 101C6 99.67 6.52 98.4 7.46 97.46C8.4 96.52 9.67 96 11 96L11 96Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)]),d("path",{id:"Rectangle 5617",d:"M49 104L75 104C76.65 104 78 105.34 78 107C78 108.65 76.65 110 75 110L49 110C47.34 110 46 108.65 46 107C46 105.34 47.34 104 49 104Z",fill:"rgba(var(--ui-color-warning) / 0.4)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5618",d:"M49 117L93 117C94.65 117 96 118.34 96 120C96 121.65 94.65 123 93 123L49 123C47.34 123 46 121.65 46 120C46 118.34 47.34 117 49 117Z",fill:"rgba(var(--ui-color-warning) / 0.2)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Rectangle 5624",d:"M14 99L33 99C35.76 99 38 101.23 38 104L38 123C38 125.76 35.76 128 33 128L14 128C11.23 128 9 125.76 9 123L9 104C9 101.23 11.23 99 14 99Z",fill:"rgba(var(--ui-color-warning) / 0.8)","fill-opacity":"1.000000","fill-rule":"evenodd"},null),d("path",{id:"Path 25917",d:"M21.22 116.78L23.22 116.78L23.24 116.01C23.24 114.99 23.88 114.73 24.78 114.44C25.68 114.19 26.48 113.64 27.05 112.89C27.62 112.14 27.92 111.23 27.93 110.29C27.94 109.71 27.85 109.14 27.63 108.61C27.42 108.07 27.1 107.59 26.69 107.18C26.28 106.78 25.79 106.47 25.25 106.26C24.72 106.06 24.14 105.97 23.57 106C22.96 105.98 22.36 106.09 21.8 106.32C21.23 106.55 20.72 106.88 20.3 107.31C19.87 107.75 19.53 108.26 19.31 108.82C19.08 109.39 18.98 109.99 18.99 110.6L21.06 110.6C21.05 110.26 21.11 109.93 21.23 109.62C21.36 109.3 21.54 109.02 21.77 108.78C22.01 108.54 22.29 108.35 22.6 108.22C22.9 108.09 23.24 108.02 23.57 108.02C23.87 108 24.18 108.05 24.46 108.16C24.74 108.27 24.99 108.44 25.21 108.66C25.42 108.87 25.58 109.13 25.68 109.42C25.78 109.7 25.82 110.01 25.79 110.31C25.78 110.8 25.61 111.27 25.31 111.65C25.01 112.03 24.59 112.31 24.12 112.44L23.4 112.73C22.68 112.9 22.06 113.33 21.66 113.94C21.25 114.55 21.08 115.28 21.2 116.01L21.22 116.78ZM22.21 121.53C22.4 121.54 22.6 121.5 22.78 121.43C22.96 121.36 23.13 121.26 23.27 121.12C23.41 120.99 23.53 120.83 23.61 120.65C23.68 120.47 23.72 120.27 23.73 120.08C23.72 119.88 23.68 119.69 23.6 119.51C23.53 119.33 23.41 119.16 23.27 119.03C23.13 118.89 22.96 118.79 22.78 118.72C22.6 118.65 22.4 118.62 22.21 118.62C22.01 118.62 21.82 118.65 21.63 118.72C21.45 118.79 21.28 118.89 21.14 119.03C21 119.16 20.89 119.33 20.81 119.51C20.73 119.69 20.69 119.88 20.69 120.08C20.69 120.27 20.73 120.47 20.81 120.65C20.89 120.83 21 120.99 21.14 121.12C21.28 121.26 21.45 121.36 21.63 121.43C21.82 121.5 22.01 121.54 22.21 121.53L22.21 121.53Z",fill:"rgba(var(--ui-color-bg-muted))","fill-opacity":"1.000000","fill-rule":"evenodd"},null)])}}),Ta=X({name:"DuxDrawerPage",props:{title:String,onClose:Function,onConfirm:Function,scrollbar:{type:Boolean,default:!0}},setup(t,{slots:e}){const n=re();return pe(n,r=>{r&&Lt(()=>{r.$el?.focus?.()})}),()=>d("div",{class:"h-full flex flex-col"},[d("div",{class:"flex justify-between items-center p-2 border-b border-default"},[d("div",{class:"text-base"},[t?.title]),d("div",{class:"flex items-center gap-2"},[e.header?.(),d(me,{quaternary:!0,ref:n,size:"small",color:"default",class:"!px-1 h-6",onClick:()=>t.onClose?.()},{default:()=>[d("div",{class:"i-tabler:x w-5 h-5"},null)]})])]),d("div",{class:"flex-1 min-h-1"},[t.scrollbar?d(rr,null,{default:()=>[e.default?.()]}):e.default?.()]),e.footer&&d("div",{class:"flex-none border-t border-muted p-4 flex justify-end gap-2"},[e.footer?.({onClose:t.onClose,onConfirm:t.onConfirm})])])}}),Av=X({name:"DuxAiEditor",props:{value:String,defaultValue:String,uploadPath:String,uploadHeaders:Object,aiPath:String,height:{type:String,default:"500px"},onUpdateValue:Function},setup(t,{emit:e}){const n=re();let r=null;const o=Ao(),{config:i}=it(),a=Nn(),{t:s}=ye(),l=wn(),c=Ue(t,"value",e,{passive:!0}),u=z(()=>t.uploadPath||i.apiPath?.upload||"upload"),h=Da({path:u.value,autoUpload:!1});pe(c,p=>{r&&(r.setContent(p||""),t.onUpdateValue?.(c.value||""))},{immediate:!0});const f=p=>new Promise((m,v)=>{h.addFiles([p],"file").then(()=>{h.trigger().then(g=>{g.forEach(b=>{const y=b?.data?.data;m({errorCode:0,data:{src:y?.url,alt:b?.filename}})})}).catch(g=>{l.error(g.message),v(g)}).finally(()=>{h.clearFiles()})})});return vn(()=>{r=new X4({theme:o.isDark.value?"dark":"light",element:n.value,placeholder:s("components.editor.placeholder"),content:t.defaultValue||"",onBlur:p=>{c.value=p.getHtml()},image:{uploadUrl:u.value,uploadHeaders:t.uploadHeaders||{},uploader:f},video:{uploadUrl:u.value,uploadHeaders:t.uploadHeaders||{},uploader:f},attachment:{uploadUrl:u.value,uploadHeaders:t.uploadHeaders||{},uploader:f},ai:{models:{custom:{url:t.aiPath||i.apiPath?.ai||"ai",headers:()=>({"Content-Type":"application/json",Authorization:a.token}),wrapPayload:p=>JSON.stringify({prompt:p}),parseMessage:p=>{const m=JSON.parse(p);return{role:"assistant",content:m.message,index:m.number,status:m.status}},protocol:"sse"}}}})}),Ps(()=>{r?.destroy()}),pe(o.isDark,p=>{n.value&&(n.value.classList.remove("aie-theme-dark","aie-theme-light"),n.value.classList.add(p?"aie-theme-dark":"aie-theme-light"))},{immediate:!0}),()=>d("div",{ref:n,style:`height: ${t.height}; width:100%`},null)}}),Mv={},gf=X({name:"FlowNodeCard",props:{nodeProps:{type:Object,required:!0},handlePosition:{type:Object,default:()=>({source:Pe.Right,target:Pe.Left})},showTargetHandle:{type:Boolean,default:!0},showSourceHandle:{type:Boolean,default:!0},color:{type:String,default:"primary"},onClick:{type:Function,default:void 0},onDoubleClick:{type:Function,default:void 0},showToolbar:{type:Boolean,default:!0},toolbarPosition:{type:String,default:"top"},toolbarOffset:{type:Number,default:10}},setup(t,{slots:e}){const n=Ot("flowNodes",{}),{removeNodes:r,addNodes:o,findNode:i}=At(),{t:a}=ye(),s=u=>{t.onClick&&t.onClick(u)},l=u=>{t.onDoubleClick&&t.onDoubleClick(u)},c=u=>{const h=t.nodeProps.id;switch(u){case"delete":{r([h]);break}case"copy":{const f=i(h);if(f){const p={...f,id:`${h}-copy-${Date.now()}`,position:{x:f.position.x+50,y:f.position.y+50},data:{...f.data,label:`${f.data.label} (copy)`},selected:!1};o([p])}break}}};return()=>{const{data:u,selected:h,type:f}=t.nodeProps,p=n||Mv,m=(p?.value||p)[f||""]?.meta?.style||{};return d("div",{class:rt(["relative rounded-md border transition-all cursor-pointer min-w-60","bg-default dark:bg-default/80  backdrop-blur shadow-lg shadow-gray-100 dark:shadow-gray-950/20 hover:shadow-md",h?"border-primary":"border-primary-900/20"]),onClick:s,onDblclick:l},[d("div",{class:"bg-linear-to-b from-primary/10 dark:from-transparent via-transparent to-transparent rounded-t p-4 flex items-center justify-between"},[d("div",{class:"flex gap-1.5 items-center"},[u.icon&&d("div",{class:rt(["rounded flex-none p-1",m.iconBgClass||"bg-primary"])},[d("div",{class:rt(["size-3 text-white",u.icon])},null)]),d("div",{class:"text-sm truncate"},[u.label])]),d(Oa,{trigger:"click",options:[{label:a("components.flowEditor.nodeCard.delete")||"",key:"delete",icon:()=>d("div",{class:"i-tabler:trash text-sm"},null)},{label:a("components.flowEditor.nodeCard.copy")||"",key:"copy",icon:()=>d("div",{class:"i-tabler:copy text-sm"},null)}],onSelect:c},{default:()=>[d("div",{class:"hover:bg-black/5 p-1 rounded cursor-pointer transition-colors",onClick:v=>v.stopPropagation()},[d("div",{class:"i-tabler:dots text-sm text-gray-500"},null)])]})]),d("div",{class:"p-4 pt-0 text-xs text-muted"},[e.default?e.default():d("div",{class:"bg-elevated rounded p-2"},[u.description])]),t.showTargetHandle&&d($s,{type:"target",position:t.handlePosition.target,connectable:!0,class:"!bg-primary !border-2 !border-white !size-2.5 !rounded-full"},null),t.showSourceHandle&&d($s,{type:"source",position:t.handlePosition.source,connectable:!0,class:"!bg-primary !border-2 !border-white !size-2.5 !rounded-full"},null)])}}}),ce=X({name:"DuxFormItem",props:{label:String,description:[String,Object],tooltip:String,path:String,labelPlacement:{type:String},labelAlign:{type:String},labelWidth:{type:Number},required:{type:Boolean,default:!1},rule:[String,Object],message:[String,Object]},setup(t,{slots:e}){const n=be(t.message),r=z(()=>typeof t.rule=="object"?{...t.rule,required:!!t.required}:typeof t.rule=="string"?t.rule?.includes("required")?t.rule:t.rule?`${t.rule}|required`:"required":t.rule),{errorMessage:o,value:i,setErrors:a,validate:s}=K4(t.path||"",r.value||{},{label:t.label}),l=z(()=>t.required?!0:t.rule?typeof t.rule=="string"?t.rule.includes("required"):typeof t.rule=="object"?"required"in t.rule:!1:!1),c=z(()=>o.value&&(n.value||o.value));pe(c,m=>{m&&a(m)},{immediate:!0}),q2(i,m=>{m&&s()},{throttle:300,deep:!0});const u=Ot("dux.form",{labelPlacement:re("left"),labelAlign:re("left"),labelWidth:re(70),divider:re(!1)}),h=z(()=>t.labelPlacement||u.labelPlacement.value),f=z(()=>{let m=t.labelWidth||u.labelWidth.value||70;return typeof m=="number"&&(m=`${m}px`),h.value!=="left"?"auto":m}),p=z(()=>u.divider.value||h.value==="page");return()=>d("div",{class:[h.value!=="top"?"md:flex-row gap-2 lg:items-center":"gap-1",p.value?"py-6":"",h.value==="setting"?"md:justify-between md:items-start md:gap-4":"",h.value==="page"?"grid grid-cols-1 lg:grid-cols-4 px-4":"flex flex-col"]},[t.label&&d("div",{class:[h.value==="left"?"flex lg:items-center":"md:mb-1",h.value==="left"&&u.labelAlign.value==="right"?"justify-end":""],style:{width:f.value}},[d("div",{class:"flex flex-col"},[d("div",null,[d("span",{class:"relative flex items-center gap-1"},[t.label,t.tooltip&&d(Ct,{trigger:"hover"},{trigger:()=>d("div",{class:"i-tabler:help size-4 text-muted"},null),default:()=>t.tooltip}),l.value&&d("span",{class:"text-error font-mono text-xs"},[Dt("*")])])]),t.description&&(h.value==="setting"||h.value==="page")&&d("div",{class:"text-sm text-muted"},[t.description])])]),d("div",{class:["flex flex-col gap-1",h.value==="setting"?"flex-none md:w-40%":"flex-1",h.value==="page"?"col-span-3":""]},[d("div",{class:h.value==="setting"?"flex-1 lg:flex lg:justify-end":""},[e?.default?.()]),t.description&&(h.value==="left"||h.value==="top")&&d("div",{class:"text-sm text-muted"},[t.description]),c.value&&d("div",{class:"text-error"},[c.value])])])}}),Zp=({icon:t,iconBgClass:e="bg-primary",title:n,description:r})=>d("div",{class:"p-4 border-b border-default"},[d("div",{class:"flex gap-2 items-center"},[t&&d("div",{class:rt(["rounded p-2 flex-shrink-0",e])},[d("div",{class:rt(["size-6 text-white",t])},null)]),d("div",{class:"flex-1 min-w-0"},[d("h3",{class:"text-base font-medium"},[n]),r&&d("p",{class:"text-sm text-muted mt-1"},[r])])])]),c6=X({name:"FlowSetting",props:{nodes:{type:Object,default:()=>({})},modelValue:{type:Object,default:()=>({nodes:[],edges:[]})},onSave:{type:Function,default:void 0}},emits:["update:modelValue"],setup(t,{emit:e,slots:n}){const{t:r}=ye(),{getSelectedNodes:o,getSelectedEdges:i,updateNodeData:a,updateEdgeData:s,getNodes:l,getEdges:c,removeEdges:u}=At(),h=wn(),f=sr(),p=z(()=>{const k=o.value;return k.length===1?k[0]:null}),m=z(()=>{const k=i.value;return k.length===1?k[0]:null}),v=z(()=>!p.value||!p.value.type?null:t.nodes[p.value.type]),g=re({}),b=re({});pe(p,k=>{k?g.value={...k.data}:g.value={}},{immediate:!0}),pe(m,k=>{k?b.value={...k.data}:b.value={}},{immediate:!0}),pe(g,k=>{p.value&&(a(p.value.id,k),e("update:modelValue",{nodes:l.value,edges:c.value}))},{deep:!0,flush:"post"}),pe(b,k=>{if(m.value){s(m.value.id,k);const E=m.value;if(E&&k.type){const $={success:{stroke:"#10b981",markerColor:"#10b981"},error:{stroke:"#ef4444",markerColor:"#ef4444"}},A=$[k.type]||$.success,D=E.style||{};E.style=Object.assign({},D,{stroke:A.stroke,strokeWidth:2});const O=E.markerEnd||{};E.markerEnd=Object.assign({},O,{type:As.ArrowClosed,width:12,height:12,color:A.markerColor})}}},{deep:!0});const y=()=>{e("update:modelValue",{nodes:[],edges:[]}),h.success(r("components.flowEditor.flowCleared")||"")},x=()=>{const k={nodes:l.value,edges:c.value};t.onSave?t.onSave(k):h.success(r("components.flowEditor.flowSaved")||"")},w=()=>{const k={nodes:l.value,edges:c.value};f.show({title:r("components.flowEditor.editFlowJSON")||"",width:"600px",component:()=>Tn(()=>import("./jsonEditor-D7ZK_Uf3.js"),__vite__mapDeps([13,7,4,1,6,5,2,8,9,10,11])),componentProps:{data:k,onConfirm:E=>{e("update:modelValue",E)}}})},_=()=>{m.value&&(u([m.value.id]),h.success(r("components.flowEditor.edgeDeleted")||""))};return()=>d("div",{class:"w-300px h-full flex flex-col"},[!p.value&&!m.value&&d(Zp,{icon:"i-tabler:settings",iconBgClass:"bg-gray-500",title:r("components.flowEditor.properties")||"",description:r("components.flowEditor.selectNodeOrEdge")||""},null),p.value&&d(Zp,{icon:v.value?.meta.icon,iconBgClass:v.value?.meta.style?.iconBgClass||"bg-primary",title:v.value?.meta.label||"Node",description:v.value?.meta.description},null),m.value&&d(Zp,{icon:"i-tabler:arrow-right",iconBgClass:"bg-blue-500",title:r("components.flowEditor.edgeSettings")||"",description:r("components.flowEditor.edgeDescription")||""},null),d(rr,{class:"flex-1 min-h-0"},{default:()=>[d("div",{class:"p-4 space-y-4"},[!p.value&&!m.value&&d("div",{class:"space-y-4"},[n.globalSettings?.(),d("div",{class:"flex flex-col gap-2"},[d(me,{onClick:w,type:"default",block:!0,secondary:!0},{icon:()=>d("div",{class:"i-tabler:code"},null),default:()=>r("components.flowEditor.editJSON")||""}),d(me,{onClick:x,type:"primary",block:!0,secondary:!0},{icon:()=>d("div",{class:"i-tabler:device-floppy"},null),default:()=>r("components.flowEditor.saveFlow")||""}),d(me,{onClick:y,type:"warning",block:!0,secondary:!0},{icon:()=>d("div",{class:"i-tabler:trash"},null),default:()=>r("components.flowEditor.clearFlow")||""})])]),p.value&&v.value?.settingComponent&&d(v.value.settingComponent,{modelValue:g.value,"onUpdate:modelValue":k=>g.value=k,nodeId:p.value.id,nodeRegistries:t.nodes},null),m.value&&d(Eo,{labelPlacement:"top"},{default:()=>[d(ce,{label:r("components.flowEditor.connectionType")||""},{default:()=>[d(Ym,{value:b.value.type||"success",onUpdateValue:k=>{b.value={...b.value,type:k}}},{default:()=>[d("div",{class:"space-y-2"},[d(oa,{value:"success"},{default:()=>[d("div",{class:"flex items-center gap-2"},[d("span",null,[r("components.flowEditor.pass")||""])])]}),d(oa,{value:"error"},{default:()=>[d("div",{class:"flex items-center gap-2"},[d("span",null,[r("components.flowEditor.reject")||""])])]})])]})]}),d(ce,null,{default:()=>[d(me,{onClick:_,type:"error",block:!0},{icon:()=>d("div",{class:"i-tabler:trash"},null),default:()=>r("components.flowEditor.deleteEdge")||""})]})]})])]})])}}),u6=X({name:"FlowToolbar",props:{nodes:{type:Object,default:()=>({})},categories:{type:Array,default:()=>[]}},setup(t){const{t:e}=ye(),{randomUUID:n}=new U0({length:10}),r=[{key:"start",label:e("components.flowEditor.categories.start")||"",icon:"i-tabler:flag",order:1},{key:"process",label:e("components.flowEditor.categories.process")||"",icon:"i-tabler:box",order:2},{key:"condition",label:e("components.flowEditor.categories.condition")||"",icon:"i-tabler:git-branch",order:3},{key:"end",label:e("components.flowEditor.categories.end")||"",icon:"i-tabler:flag-check",order:4}],o=z(()=>{const l=new Map;return r.forEach(c=>l.set(c.key,c)),t.categories?.forEach(c=>l.set(c.key,c)),Array.from(l.values()).sort((c,u)=>(c.order||999)-(u.order||999))}),i=z(()=>{const l=new Map;return Object.entries(t.nodes).forEach(([c,u])=>{const h=u.meta.category;l.has(h)||l.set(h,[]),l.get(h).push(u)}),l}),a=(l,c)=>{const u={id:n(),type:c.meta.name,position:{x:0,y:0},data:{label:c.meta.label,description:c.meta.description,icon:c.meta.icon,color:c.meta.color,config:{...c.meta.defaultConfig}}};l.dataTransfer.setData("application/vueflow",JSON.stringify(u)),l.dataTransfer.effectAllowed="move"},s=l=>({bg:"bg-default dark:bg-muted hover:bg-elevated",iconBg:l.meta.style?.iconBgClass||"bg-gray-100",icon:"text-white",text:"text-default"});return()=>d("div",{class:"w-220px h-full"},[d(rr,null,{default:()=>[d("div",{class:"p-4 space-y-4"},[o.value.map(l=>{const c=i.value.get(l.key)||[];return c.length===0?null:d("div",{key:l.key,class:"space-y-4"},[d("div",{class:"flex items-center gap-2 text-sm "},[d("div",{class:rt(["size-4",l.icon])},null),d("span",null,[l.label])]),d("div",{class:"space-y-2"},[c.map(u=>{const h=s(u);return d("div",{key:u.meta.name,draggable:!0,onDragstart:f=>a(f,u),class:rt(["rounded-lg px-3 py-2 cursor-move transition-all",h.bg,"flex items-center gap-3"])},[d("div",{class:rt(["size-8 rounded-lg flex items-center justify-center flex-shrink-0",h.iconBg])},[d("div",{class:rt(["size-4",u.meta.icon,h.icon])},null)]),d("div",{class:"flex-1 min-w-0"},[d("div",{class:rt(["text-sm font-medium truncate",h.text])},[u.meta.label]),u.meta.description&&d("div",{class:rt(["text-xs truncate opacity-80",h.text])},[u.meta.description])])])})])])})])]})])}}),xq=X({name:"DuxFlowEditor",props:{modelValue:{type:Object,default:()=>({nodes:[],edges:[]})},customNodes:{type:Object,default:()=>({})},categories:{type:Array,default:()=>[]},config:{type:Object,default:()=>({readonly:!1,showGrid:!0,showControls:!0})},onSave:{type:Function,default:void 0}},emits:["update:modelValue"],setup(t,{emit:e,slots:n}){const r=re(),{isDark:o}=Ao(),{t:i}=ye(),{project:a,vueFlowRef:s,getNodes:l,getEdges:c,setNodes:u,setEdges:h,onNodesChange:f,onEdgesChange:p,onConnect:m,addNodes:v,addEdges:g,fitView:b,zoomIn:y,zoomOut:x}=At(),w=z(()=>({...Mv,...t.customNodes})),_=z(()=>{const C={};return Object.entries(w.value).forEach(([M,R])=>{C[M]=R.component}),C}),k=re(!1),E=re(t.modelValue?.globalSettings||{});f(C=>{!Array.isArray(C)||C.length===0||(k.value=!0,e("update:modelValue",{nodes:l.value,edges:c.value,globalSettings:E.value}))}),p(C=>{!Array.isArray(C)||C.length===0||(k.value=!0,e("update:modelValue",{nodes:l.value,edges:c.value,globalSettings:E.value}))}),m(C=>{if(!C)return;const M={id:`edge-${C.source}-${C.target}-${Date.now()}`,source:C.source,target:C.target,sourceHandle:C.sourceHandle,targetHandle:C.targetHandle,data:{type:"success"},type:"default"},R=$(M);g([R]),k.value=!0,e("update:modelValue",{nodes:l.value,edges:c.value,globalSettings:E.value})});const $=C=>{const M=C.data?.type||"success",R={success:{stroke:"#10b981",markerColor:"#10b981"},error:{stroke:"#ef4444",markerColor:"#ef4444"}},L=R[M]||R.success;return{...C,style:{stroke:L.stroke,strokeWidth:2,...C.style},markerEnd:{type:As.ArrowClosed,width:12,height:12,color:L.markerColor,...C.markerEnd}}};pe(()=>t.modelValue,C=>{if(k.value){k.value=!1;return}if(C.nodes&&Array.isArray(C.nodes)&&u([...C.nodes]),C.edges&&Array.isArray(C.edges)){const M=C.edges.map($);h(M)}C.globalSettings&&(E.value={...C.globalSettings}),(C.nodes&&C.nodes.length>0||C.edges&&C.edges.length>0)&&setTimeout(()=>{b()},100)},{immediate:!0,deep:!0});const A=re(!1),D=C=>C.source!==C.target,O=C=>{C.preventDefault(),A.value=!1;const M=C.dataTransfer?.getData("application/vueflow");if(!M)return;const R=JSON.parse(M),L=a({x:C.clientX-(s.value?.getBoundingClientRect().left||0),y:C.clientY-(s.value?.getBoundingClientRect().top||0)}),P={...R,position:L};v([P])},S=C=>{C.preventDefault(),A.value=!0},T=C=>{C.preventDefault(),A.value=!1};return Fn("flowNodes",w),()=>d("div",{class:"h-full w-full relative bg-muted rounded-md"},[d("div",{ref:r,class:"absolute inset-0 w-full h-full",onDrop:O,onDragover:S,onDragleave:T},[d(oX,{class:"w-full h-full",nodeTypes:_.value,fitViewOnInit:!0,defaultEdgeOptions:{type:"default",style:{strokeWidth:2},markerEnd:{type:As.ArrowClosed,width:12,height:12}},nodesDraggable:!t.config.readonly,nodesConnectable:!t.config.readonly,elementsSelectable:!t.config.readonly,connectionMode:ei.Loose,isValidConnection:D,minZoom:.1,maxZoom:1},{default:()=>[t.config.showGrid&&d(dX,{variant:"dots",gap:20,size:1.5,patternColor:o.value?"rgba(255,255,255, 0.2)":"rgba(0,0,0, 0.2)"},null),t.config.showControls&&d("div",{class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-10"},[d(me,{onClick:()=>x(),size:"small",class:"!size-8",secondary:!0},{icon:()=>d("div",{class:"i-tabler:minus size-4"},null)}),d(me,{onClick:()=>b(),size:"small",class:"!size-8",secondary:!0},{icon:()=>d("div",{class:"i-tabler:focus-2 size-4"},null)}),d(me,{onClick:()=>y(),size:"small",class:"!size-8",secondary:!0},{icon:()=>d("div",{class:"i-tabler:plus size-4"},null)})]),n.toolbar&&d("div",{class:"absolute top-4 left-1/2 -translate-x-1/2 z-10"},[n.toolbar()])]}),A.value&&d("div",{class:"absolute inset-0 bg-blue-50/80 border-2 border-dashed border-blue-400 pointer-events-none flex items-center justify-center z-10"},[d("div",{class:"bg-white px-6 py-3 rounded-lg shadow-xl border border-blue-200"},[d("div",{class:"flex items-center gap-2 text-blue-600"},[d("div",{class:"i-tabler:plus"},null),d("span",{class:"font-medium"},[i("components.flowEditor.toolbar.releaseToAdd")||""])])])])]),d("div",{class:"absolute top-4 left-4 z-1 bottom-4"},[d("div",{class:"h-full bg-default shadow rounded"},[d(u6,{nodes:w.value,categories:t.categories},null)])]),d("div",{class:"absolute top-4 right-4 bottom-4 z-1"},[d("div",{class:"h-full bg-default shadow rounded"},[d(c6,{nodes:w.value,modelValue:t.modelValue,"onUpdate:modelValue":C=>e("update:modelValue",C),onSave:t.onSave},{globalSettings:n.globalSettings?()=>n.globalSettings?.({globalSettings:E.value,updateGlobalSettings:C=>{E.value={...C},e("update:modelValue",{nodes:l.value,edges:c.value,globalSettings:E.value})}}):void 0})])])])}}),wq=()=>{const{findNode:t,getEdges:e}=At(),n=(i,a)=>{const s=e.value.filter(c=>c.target===i),l=[];for(const c of s){const u=t(c.source);if(!u)continue;const h=a[u.type];h&&((h.meta.nodeType||h.meta.category)==="start"?u.data?.config?.fields&&Array.isArray(u.data.config.fields)&&l.push(...u.data.config.fields.map(f=>({label:`${u.data.label}: ${f.label||f.name}`,value:`${c.source}.${f.name}`,type:f.type||"text",nodeId:c.source,nodeName:u.data.label||u.type}))):h.outputFields&&l.push(...h.outputFields.map(f=>({label:`${u.data.label}: ${f.label||f.name}`,value:`${c.source}.${f.name}`,type:f.type,nodeId:c.source,nodeName:u.data.label||u.type}))))}return l},r=(i,a)=>{const s=t(i);if(!s)return[];const l=a[s.type];if(!l)return[];const c=[];return s.data?.config?.fields&&Array.isArray(s.data.config.fields)&&c.push(...s.data.config.fields.map(u=>({name:u.name,type:u.type||"text",label:u.label||u.name,description:u.description,required:u.required}))),l.outputFields&&c.push(...l.outputFields),c},o=i=>{const a=i.split(".");return a.length!==2?null:{nodeId:a[0],fieldName:a[1]}};return{getUpstreamFields:n,getNodeOutputFields:r,parseFieldReference:o,validateFieldReference:(i,a)=>{const s=o(i);return!s||!t(s.nodeId)?!1:r(s.nodeId,a).some(l=>l.name===s.fieldName)},getInputFieldOptions:(i,a)=>n(i,a).map(s=>({label:s.label,value:s.value,type:s.type}))}},_q=()=>{const{t}=ye();return[{label:t("components.flowEditor.fieldTypes.text")||"",value:"text"},{label:t("components.flowEditor.fieldTypes.number")||"",value:"number"},{label:t("components.flowEditor.fieldTypes.boolean")||"",value:"boolean"},{label:t("components.flowEditor.fieldTypes.date")||"",value:"date"},{label:t("components.flowEditor.fieldTypes.array")||"",value:"array"},{label:t("components.flowEditor.fieldTypes.object")||"",value:"object"}]},kq=[{label:"Text",value:"text"},{label:"Number",value:"number"},{label:"Boolean",value:"boolean"},{label:"Date",value:"date"},{label:"Array",value:"array"},{label:"Object",value:"object"}];function L2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const Cq=X({name:"DuxDrawerForm",props:{id:{type:[String,Number]},action:{type:String},path:{type:String},data:{type:Object},onClose:{type:Function},title:{type:String},onSuccess:{type:Function},onError:{type:Function},invalidate:{type:String}},extends:Eo,setup(t,{slots:e}){const{t:n}=ye(),r=z(()=>{const{onClose:h,onSuccess:f,onError:p,action:m,title:v,id:g,path:b,data:y,...x}=t;return x}),o=be(t,"data",{}),i=wn(),{invalidate:a}=br(),{isLoading:s,onSubmit:l,onReset:c,isEdit:u}=js({id:t.id,path:t.path,form:o,action:t.action,onError:h=>{i.error(h.message||n("components.form.error")),t.onError?.(h)},onSuccess:h=>{i.success(n("components.form.success")),t.onSuccess?.(h),t.onClose?.(),t.invalidate&&a(t.invalidate)}});return()=>d(Ta,{scrollbar:!1,title:t?.title||(u.value?n("components.form.edit"):n("components.form.create")),onClose:t?.onClose},{default:()=>d(rr,null,{default:()=>[d(Eo,yt({class:"p-4"},r.value),{default:()=>[e?.default?.()]})]}),footer:()=>{let h,f;return d(bt,null,[d(me,{onClick:c,loading:s.value},L2(h=n("components.button.reset"))?h:{default:()=>[h]}),d(me,{type:"primary",loading:s.value,onClick:()=>l()},L2(f=n("components.button.submit"))?f:{default:()=>[f]})])}})}});function F2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const d6=X({name:"DuxModalForm",props:{id:{type:[String,Number]},action:{type:String},path:{type:String},data:{type:Object},onClose:{type:Function},title:{type:String},invalidate:{type:String},onSuccess:{type:Function},onError:{type:Function}},extends:Eo,setup(t,{slots:e}){const{t:n}=ye(),r=z(()=>{const{onClose:h,onSuccess:f,onError:p,action:m,title:v,id:g,path:b,data:y,...x}=t;return x}),o=be(t,"data",{}),i=wn(),{invalidate:a}=br(),{isLoading:s,onSubmit:l,onReset:c,isEdit:u}=js({id:t.id,path:t.path,form:o,action:t.action,onError:h=>{i.error(h.message||n("components.form.error")),t.onError?.(h)},onSuccess:h=>{t.invalidate&&a(t.invalidate),i.success(n("components.form.success")),t.onSuccess?.(h),t.onClose?.()}});return()=>d(Zs,{title:t?.title||(u.value?n("components.form.edit"):n("components.form.create")),onClose:t?.onClose},{default:()=>d(Eo,r.value,{default:()=>[e?.default?.()]}),footer:()=>{let h,f;return d(bt,null,[d(me,{onClick:c,loading:s.value},F2(h=n("components.button.reset"))?h:{default:()=>[h]}),d(me,{type:"primary",loading:s.value,onClick:()=>l()},F2(f=n("components.button.submit"))?f:{default:()=>[f]})])}})}}),Fa=X({name:"DuxPage",props:{padding:{type:Boolean,default:!0},actions:{type:Array,default:()=>[]},card:{type:Boolean,default:!0},scrollbar:{type:Boolean,default:!0}},setup(t,{slots:e}){const n=re(!1),r=o=>{const i=o.target;n.value=i.scrollTop>0};return()=>{const o=t.card?"bg-default dark:bg-muted rounded shadow-xs lg:dark:border lg:dark:border-muted":"",i=t.card&&t.padding?"p-3":"",a=t.scrollbar?"":"h-full";return d("div",{class:"h-full flex-1 flex gap-2 relative"},[d("div",{class:`z-1 absolute top-0 left-0 w-full h-10 bg-linear-to-b from-[color-mix(in_oklch,theme(colors.primary.DEFAULT),white_95%)] dark:from-[color-mix(in_oklch,theme(colors.primary.DEFAULT),theme(colors.gray.950)_95%)] to-transparent pointer-events-none transition-opacity duration-300 ${n.value?"opacity-100":"opacity-0"}`},null),e?.sideLeft?.(),t.scrollbar?d(rr,{class:[o,"flex-1 min-w-0"],contentClass:`${i} ${a}`,onScroll:r},{default:()=>[e.default?.()]}):d("div",{class:`${o} ${i} ${a} flex-1 min-w-0`},[e.default?.()]),e?.sideRight?.()])}}}),h6=X({name:"DuxPageForm",props:{id:{type:[String,Number]},action:{type:String},title:{type:String},description:{type:String},labelPlacement:{type:String,default:"left"},path:{type:String},data:{type:Object},onSuccess:{type:Function},onError:{type:Function},invalidate:{type:String}},setup(t,{slots:e}){const{t:n}=ye(),r=be(t,"data",{}),o=wn(),i=mn(),a=Pa(),{invalidate:s}=br(),l=js({id:t.id,path:t.path,form:r,action:t.action,onError:u=>{o.error(u.message||n("components.form.error")),t.onError?.(u)},onSuccess:u=>{o.success(n("components.form.success")),t.onSuccess?.(u),!l.isEdit.value&&a.current&&a.delTab(a.current,h=>i.push(h.path||"")),t.invalidate&&s(t.invalidate)}}),c=a.tabs.find(u=>u.path===a.current);return()=>d(Fa,{card:!1,scrollbar:!1},{default:()=>[d(In,{title:t?.title||c?.label||(l.isEdit.value?n("components.form.edit"):n("components.form.create")),description:t?.description,class:"h-full flex flex-col",contentClass:"flex-1 min-h-0",contentSize:"none","header-bordered":!0},{default:()=>d(rr,null,{default:()=>[d(Eo,{labelPlacement:t.labelPlacement,class:"p-4"},{default:()=>[e?.default?.(l)]})]}),headerExtra:()=>d("div",{class:"flex gap-6 items-center"},[e?.actions?.(l),d("div",{class:"flex gap-2"},[d(me,{onClick:()=>l.onReset(),loading:l.isLoading.value},{default:()=>n("components.button.reset"),icon:()=>d("i",{class:"i-tabler:refresh"},null)}),d(me,{type:"primary",onClick:()=>l.onSubmit(),loading:l.isLoading.value},{default:()=>n("components.button.submit"),icon:()=>d("i",{class:"i-tabler:device-floppy"},null)})])])})]})}}),Sq=X({name:"DuxPageTabForm",props:{id:{type:[String,Number]},action:{type:String},title:{type:String},path:{type:String},data:{type:Object},onSuccess:{type:Function},onError:{type:Function},invalidate:{type:String},defaultTab:{type:String,default:"0"}},setup(t,{slots:e}){const{t:n}=ye(),r=be(t,"data",{}),o=wn(),i=mn(),a=Pa(),{invalidate:s}=br(),l=js({id:t.id,path:t.path,form:r,action:t.action,onError:c=>{o.error(c.message||n("components.form.error")),t.onError?.(c)},onSuccess:c=>{o.success(n("components.form.success")),t.onSuccess?.(c),!l.isEdit.value&&a.current&&a.delTab(a.current,u=>i.push(u.path||"")),t.invalidate&&s(t.invalidate)}});return()=>d(Fa,{card:!1,scrollbar:!1},{default:()=>[d(In,{class:"h-full"},{default:()=>[d(Aa,{class:"app-page-tabs",type:"line",size:"large",defaultValue:t.defaultTab},{prefix:()=>d("div",{class:"w-1"},null),default:()=>e?.default?.(l),suffix:()=>d("div",{class:"flex gap-6 items-center px-3"},[e?.actions?.(l),d("div",{class:"flex gap-2"},[d(me,{onClick:()=>l.onReset(),loading:l.isLoading.value},{default:()=>n("components.button.reset"),icon:()=>d("i",{class:"i-tabler:refresh"},null)}),d(me,{type:"primary",onClick:()=>l.onSubmit(),loading:l.isLoading.value},{default:()=>n("components.button.submit"),icon:()=>d("i",{class:"i-tabler:device-floppy"},null)})])])})]})]})}}),f6=X({name:"DuxSettingForm",props:{id:{type:[String,Number]},action:{type:String},path:{type:String},data:{type:Object},onSuccess:{type:Function},onError:{type:Function},tabs:{type:Boolean,default:!1},defaultTab:{type:String,default:""},size:{type:String,default:"medium"},invalidate:{type:String}},setup(t,{slots:e}){const n=re(t.defaultTab),r=be(t,"data",{}),{t:o}=ye(),i=wn(),{invalidate:a}=br(),s=js({id:t.id,path:t.path,form:r,action:t.action,onError:c=>{i.error(c.message||o("components.form.error")),t.onError?.(c)},onSuccess:c=>{i.success(o("components.form.success")),t.onSuccess?.(c),t.invalidate&&a(t.invalidate)}}),l=z(()=>{switch(t.size){case"small":return"lg:max-w-lg";case"large":return"lg:max-w-4xl";case"medium":default:return"lg:max-w-2xl"}});return()=>d(Fa,null,{default:()=>[d("div",{class:`flex flex-col gap-6 w-full ${l.value} mx-auto py-4`},[t.tabs?d(Aa,{defaultValue:t.defaultTab,value:n.value,onUpdateValue:c=>{n.value=c},type:"segment"},{default:()=>[e?.default?.(s)]}):e?.default?.(s)])]})}});function Iu(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const Eq=X({name:"DuxFormEditorSettingPage",inheritAttrs:!1,props:{value:{type:Object,default:()=>({})}},setup(t,{emit:e}){const{t:n}=ye(),r=Ue(t,"value",e);return()=>{let o,i,a,s;return d("div",{class:"flex flex-col gap-2"},[d(tt,{title:n("components.formEditor.setting.title")},{default:()=>[d(ce,{label:n("components.formEditor.common.formDirection"),path:"labelPlacement"},{default:()=>[d(Ym,{value:r.value.labelPlacement,"onUpdate:value":l=>r.value.labelPlacement=l},{default:()=>[d("div",{class:"grid grid-cols-2 gap-2"},[d(oa,{value:"left"},Iu(o=n("components.formEditor.common.leftAlign"))?o:{default:()=>[o]}),d(oa,{value:"top"},Iu(i=n("components.formEditor.common.topAlign"))?i:{default:()=>[i]}),d(oa,{value:"setting"},Iu(a=n("components.formEditor.common.settingAlign"))?a:{default:()=>[a]}),d(oa,{value:"page"},Iu(s=n("components.formEditor.common.pageAlign"))?s:{default:()=>[s]})])]})]})]})])}}}),Ht=X({name:"DuxFormEditorItem",props:{value:{type:Object,default:[]}},setup(t,{emit:e}){const{t:n}=ye(),r=Ue(t,"value",e);return()=>d(tt,{title:n("components.formEditor.componentConfig")},{default:()=>[d(ce,{label:n("components.formEditor.common.label"),path:"label"},{default:()=>[d(ze,{value:r.value.label,"onUpdate:value":o=>r.value.label=o},null)]}),d(ce,{label:n("components.formEditor.common.name")},{default:()=>[d(ze,{value:r.value.name,"onUpdate:value":o=>r.value.name=o},null)]}),d(ce,{label:n("components.formEditor.common.desc")},{default:()=>[d(ze,{value:r.value.desc,"onUpdate:value":o=>r.value.desc=o},null)]})]})}}),Wt=X({name:"FormEditorInput",props:{value:{type:Array,default:[]}},setup(t,{emit:e}){const{t:n}=ye(),r=Ue(t,"value",e);return()=>d(tt,{title:n("components.formEditor.validation")},{default:()=>[d(ze,{value:r.value,"onUpdate:value":o=>r.value=o},null)]})}});function Tq(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const Oq=X({name:"FormEditorCascader",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(ng,t.options?.attr,null)]})}});function Aq(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-cascader",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const Mq=X({name:"FormEditorCascaderSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),r=sr(),{t:o}=ye();return()=>{let i;return d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":a=>t.value=a},null),d(tt,{title:o("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:o("components.formEditor.common.multiple"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.multiple,"onUpdate:value":a=>n.value.attr.multiple=a},null)])]}),d(ce,{label:o("components.formEditor.common.cascade"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.cascade,"onUpdate:value":a=>n.value.attr.cascade=a},null)])]}),d(ce,{label:o("components.formEditor.common.showPath"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.showPath,"onUpdate:value":a=>n.value.attr.showPath=a},null)])]}),d(ce,{label:o("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":a=>n.value.attr.disabled=a},null)])]}),d(ce,{label:o("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.clearable,"onUpdate:value":a=>n.value.attr.clearable=a},null)])]})]}),d(tt,{title:o("components.formEditor.common.optionData")},{default:()=>[d(me,{block:!0,dashed:!0,renderIcon:()=>d("div",{class:"i-tabler:edit"},null),onClick:()=>{r.show({title:o("components.formEditor.common.dataEdit"),component:()=>Tn(()=>import("./json-FdrNHKhR.js"),__vite__mapDeps([14,5,4,6,1,7,2,8,9,10,11])),componentProps:{desc:o("components.formEditor.cascader.optionDesc"),value:JSON.stringify(n.value.attr.options,null,2),onChange:a=>{try{n.value.attr.options=JSON.parse(a)}catch{}}}})}},Tq(i=o("components.formEditor.common.dataEdit"))?i:{default:()=>[i]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":a=>n.value.rule=a},null)])}}});function p6(t){return{name:"dux-cascader",icon:"i-tabler:list-tree",label:t("components.formEditor.cascader.label"),group:"select",component:e=>d(Oq,e,null),setting:e=>d(Mq,e,null),settingDefault:{label:t("components.formEditor.cascader.label"),name:"cascader",attr:{options:[],clearable:!0},rule:[]},json:Aq}}const $q=X({name:"FormEditorCascaderAsync",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(sC,t.options?.attr,null)]})}});function Rq(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-cascader",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const Dq=X({name:"FormEditorCascaderAsyncSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.common.multiple"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.multiple,"onUpdate:value":o=>n.value.attr.multiple=o},null)])]}),d(ce,{label:r("components.formEditor.common.cascade"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.cascade,"onUpdate:value":o=>n.value.attr.cascade=o},null)])]}),d(ce,{label:r("components.formEditor.common.showPath"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.showPath,"onUpdate:value":o=>n.value.attr.showPath=o},null)])]}),d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),d(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.clearable,"onUpdate:value":o=>n.value.attr.clearable=o},null)])]})]}),d(tt,{title:r("components.formEditor.common.dataConfig")},{default:()=>[d(ce,{label:r("components.formEditor.cascaderAsync.dataApi")},{default:()=>[d(ze,{value:n.value.attr.url,"onUpdate:value":o=>n.value.attr.url=o,placeholder:r("components.formEditor.cascaderAsync.apiPlaceholder")},null)]}),d(ce,{label:r("components.formEditor.common.labelField")},{default:()=>[d(ze,{value:n.value.attr.labelField,"onUpdate:value":o=>n.value.attr.labelField=o},null)]}),d(ce,{label:r("components.formEditor.common.valueField")},{default:()=>[d(ze,{value:n.value.attr.valueField,"onUpdate:value":o=>n.value.attr.valueField=o},null)]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function g6(t){return{name:"dux-cascader-async",icon:"i-tabler:list-tree",label:t("components.formEditor.cascaderAsync.label"),group:"async",component:e=>d($q,e,null),setting:e=>d(Dq,e,null),settingDefault:{label:t("components.formEditor.cascaderAsync.label"),name:"cascaderAsync",attr:{url:"",valueField:"id",labelField:"title",clearable:!0,pagination:!0},rule:[]},json:Rq}}function Pq(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const Lq=X({name:"FormEditorCheckbox",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(k4,yt(t.options?.attr,{value:t.options?.attr?.defaultValue}),{default:()=>[t.options?.attr?.options?.map((e,n)=>d(Dn,{key:n,value:e.value},{default:()=>[e.label]}))]})]})}});function Fq(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-checkbox-group",attrs:{...e?.attr,"v-model:value":[n,e?.name]},children:e?.attr?.options?.map(r=>({tag:"n-checkbox",attrs:{value:r.value},children:[r.label]}))||[]}]}}const Iq=X({name:"FormEditorCheckboxSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),r=sr(),{t:o}=ye();return()=>{let i;return d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":a=>t.value=a},null),d(tt,{title:o("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:o("components.formEditor.common.defaultValue")},{default:()=>[d(J2,{value:n.value.attr.defaultValue,"onUpdate:value":a=>n.value.attr.defaultValue=a},null)]}),d(ce,{label:o("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":a=>n.value.attr.disabled=a},null)])]})]}),d(tt,{title:o("components.formEditor.common.optionConfig")},{default:()=>[d(me,{block:!0,dashed:!0,renderIcon:()=>d("div",{class:"i-tabler:edit"},null),onClick:()=>{r.show({title:o("components.formEditor.common.dataConfig"),component:()=>Tn(()=>import("./options-Bse_HRqL.js"),__vite__mapDeps([15,5,4,7,1,6,2,8,9,10,11])),componentProps:{desc:o("components.formEditor.checkbox.configDesc"),value:n.value.attr.options,onChange:a=>{n.value.attr.options=a},options:[{label:o("components.formEditor.common.optionLabel"),value:"label"},{label:o("components.formEditor.common.optionValue"),value:"value"}]}})}},Pq(i=o("components.formEditor.common.dataConfig"))?i:{default:()=>[i]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":a=>n.value.rule=a},null)])}}});function m6(t){return{name:"dux-checkbox",icon:"i-tabler:square-check",label:t("components.formEditor.checkbox.label"),group:"form",component:e=>d(Lq,e,null),setting:e=>d(Iq,e,null),settingDefault:{label:t("components.formEditor.checkbox.label"),name:"checkbox",attr:{options:[{label:"option 1",value:"1"},{label:"option 2",value:"2"}],defaultValue:[]},rule:[]},json:Fq}}const Nq=X({name:"FormEditorColor",props:{options:Object},setup(t){const e=t.options?.attr;return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d("div",{class:"flex-1"},[d(Gm,e,null)])]})}});function jq(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-color-picker",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const Bq=X({name:"FormEditorColorSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),d(ce,{label:r("components.formEditor.color.showAlpha"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.showAlpha,"onUpdate:value":o=>n.value.attr.showAlpha=o},null)])]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function v6(t){return{name:"dux-color",icon:"i-tabler:palette",label:t("components.formEditor.color.label"),group:"form",component:e=>d(Nq,e,null),setting:e=>d(Bq,e,null),settingDefault:{label:t("components.formEditor.color.label"),name:"color",attr:{showAlpha:!0},rule:[]},json:jq}}const zq=X({name:"FormEditorDate",props:{options:Object},setup(t){const e=t.options?.attr;return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d("div",{class:"flex-1"},[d(C4,e,null)])]})}});function Uq(t){const{options:e,model:n}=t||{},r=a=>{switch(a){case"date":return"yyyy-MM-dd";case"datetime":return"yyyy-MM-dd HH:mm:ss";case"daterange":return"yyyy-MM-dd";case"datetimerange":return"yyyy-MM-dd HH:mm:ss";case"month":return"yyyy-MM";case"monthrange":return"yyyy-MM";case"year":return"yyyy";case"yearrange":return"yyyy";case"quarter":return"yyyy-[Q]Q";case"quarterrange":return"yyyy-[Q]Q";case"week":return"yyyy-[W]WW";default:return"yyyy-MM-dd"}},o=e?.attr?.type||"date",i=r(o);return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-date-picker",attrs:{...e?.attr,"v-model:formatted-value":[n,e?.name],"value-format":i}}]}}const Hq=X({name:"FormEditorDateSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.date.dateType")},{default:()=>[d(ya,{value:n.value.attr.type,"onUpdate:value":o=>n.value.attr.type=o,options:[{label:r("components.formEditor.date.date"),value:"date"},{label:r("components.formEditor.date.daterange"),value:"daterange"},{label:r("components.formEditor.date.datetime"),value:"datetime"},{label:r("components.formEditor.date.datetimerange"),value:"datetimerange"},{label:r("components.formEditor.date.month"),value:"month"},{label:r("components.formEditor.date.monthrange"),value:"monthrange"},{label:r("components.formEditor.date.year"),value:"year"},{label:r("components.formEditor.date.yearrange"),value:"yearrange"},{label:r("components.formEditor.date.quarter"),value:"quarter"},{label:r("components.formEditor.date.quarterrange"),value:"quarterrange"},{label:r("components.formEditor.date.week"),value:"week"}]},null)]}),d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),d(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.clearable,"onUpdate:value":o=>n.value.attr.clearable=o},null)])]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function b6(t){return{name:"dux-date",icon:"i-tabler:calendar-due",label:t("components.formEditor.date.label"),group:"form",component:e=>d(zq,e,null),setting:e=>d(Hq,e,null),settingDefault:{label:t("components.formEditor.date.label"),name:"date",attr:{type:"date"},rule:[]},json:Uq}}const Wq=X({name:"FormEditorDynamicInput",props:{options:{type:Object,default:()=>({})},children:{type:Array,default:()=>[]},onChildren:Function},setup(t){const e=z(()=>t.options?.attr||{}),n=z(()=>t.options?.label);return()=>d(ce,{label:n.value,description:t.options?.desc},{default:()=>[d("div",{class:"flex-1 w-full"},[d(J2,yt(e.value,{value:[{}]}),{default:()=>d(oc,{class:"w-full flex gap-2 rounded-sm border border-dashed border-muted p-2",modelValue:t.children,onUpdate:t.onChildren},null)})])]})}});function Vq(t){const{options:e,children:n,model:r,convertToJsonSchema:o}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-dynamic-input",attrs:{...e?.attr,"v-model:value":[r,e?.name],"@create":()=>({})},slots:{default:({value:i,index:a})=>({tag:"div",attrs:{class:"flex-1 flex gap-2",key:a},children:o?o(n||[],i).map(s=>{if(s&&typeof s=="object"&&"attrs"in s){const{label:l,...c}=s.attrs||{};return{...s,attrs:{class:"w-full",restAttrs:c}}}return s}):[]})}}]}}const Xq=X({name:"FormEditorDynamicInputSetting",props:{value:{type:Object,default:()=>({attr:{min:0,max:10,disabled:!1},rule:[]})}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return n.value.attr||(n.value.attr={min:0,max:10,disabled:!1}),()=>d("div",null,[d(Ht,{value:n.value,"onUpdate:value":o=>n.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.common.minCount")},{default:()=>[d(Ut,{value:n.value.attr.min,"onUpdate:value":o=>n.value.attr.min=o,min:0,max:50,placeholder:r("components.formEditor.common.minCount")},null)]}),d(ce,{label:r("components.formEditor.common.maxCount")},{default:()=>[d(Ut,{value:n.value.attr.max,"onUpdate:value":o=>n.value.attr.max=o,min:1,max:100,placeholder:r("components.formEditor.common.maxCount")},null)]}),d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function y6(t){return{name:"dux-dynamic-input",icon:"i-tabler:calendar-due",label:t("components.formEditor.dynamicInput.label"),group:"form",component:e=>d(Wq,e,null),setting:e=>d(Xq,e,null),nested:!0,settingDefault:{label:t("components.formEditor.dynamicInput.label"),name:"data",attr:{min:0,max:10,disabled:!1},rule:[],defaultValue:[]},json:Vq}}const Yq=X({props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(S4,t.options?.attr,null)]})}});function Gq(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-dynamic-tags",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const qq=X({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.config")},{default:()=>[d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]})]}),d(tt,{title:r("components.formEditor.options")},{default:()=>[d(ce,{label:r("components.formEditor.dynamicTags.max")},{default:()=>[d(Ut,{value:n.value.attr.max,"onUpdate:value":o=>n.value.attr.max=o},null)]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function x6(t){return{name:"dynamic-tags",icon:"i-tabler:tag",label:t("components.formEditor.dynamicTags.name"),group:"form",component:e=>d(Yq,e,null),setting:e=>d(qq,e,null),settingDefault:{label:t("components.formEditor.dynamicTags.name"),name:"dynamic-tags",attr:{},rule:[]},json:Gq}}const Kq=X({name:"FormEditorAIEditor",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(Av,t.options?.attr,null)]})}});function Zq(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-ai-editor",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const Jq=X({name:"FormEditorAIEditorSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.aiEditor.uploadUrl"),description:r("components.formEditor.aiEditor.uploadUrlFeedback")},{default:()=>[d(ze,{value:n.value.attr.uploadUrl,"onUpdate:value":o=>n.value.attr.uploadUrl=o},null)]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function w6(t){return{name:"dux-editor",icon:"i-tabler:pencil",label:t("components.formEditor.aiEditor.label"),group:"form",component:e=>d(Kq,e,null),setting:e=>d(Jq,e,null),settingDefault:{label:t("components.formEditor.aiEditor.label"),name:"editor",attr:{},rule:[]},json:Zq}}function $v(t){const e=it(),n=z(()=>t?.uploadPath||e.config?.apiPath?.upload||"upload"),r=z(()=>t?.managePath||e.config?.apiPath?.uploadManager||"uploadManager"),o=z(()=>t?.driver||e.config?.upload?.driver||"local"),i=z(()=>t?.method||e.config?.upload?.method||"POST"),a=z(()=>o.value==="s3"?N_({signPath:t?.signPath||e.config?.apiPath?.upload||n.value||"",signCallback:t?.signCallback||e.config?.upload?.signCallback||(s=>({uploadUrl:s.data?.uploadUrl,url:s.data?.url,params:s.data?.params}))}):f0());return{uploadPath:n,managePath:r,driver:a,method:i}}function I2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const Jp={"image/*":"JPG, PNG, GIF, BMP, WEBP","video/*":"MP4, AVI, MOV, WMV, FLV","audio/*":"MP3, WAV, AAC, FLAC","text/*":"TXT, CSV, JSON, XML","application/pdf":"PDF","application/msword":"DOC","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"DOCX","application/vnd.ms-excel":"XLS","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"XLSX"},_r={container:"flex flex-col gap-2",dropZone:{base:"flex items-center justify-center p-6 rounded bg-muted border border-dashed transition-all cursor-pointer group",active:"border-primary bg-primary/5",hover:"border-accented hover:bg-primary/5 hover:border-primary"},content:"flex flex-col items-center gap-1",icon:{wrapper:"size-10 flex items-center justify-center rounded-full border border-dashed border-accented group-hover:border-primary transition-all cursor-pointer",icon:"i-tabler:device-desktop-up size-5"},text:{title:"mt-3 text-base font-medium",desc:"text-sm text-muted text-center",highlight:"text-primary font-medium"},table:{empty:"flex items-center justify-center h-full text-muted",actions:"flex gap-2"}},Rv=X({name:"DuxFileUpload",props:{path:{type:String,default:""},managePath:{type:String,default:""},signPath:{type:String,default:""},signCallback:Function,driver:{type:String,default:"local"},maxNum:Number,maxSize:Number,multiple:Boolean,manager:Boolean,accept:String,value:[String,Array],defaultValue:[String,Array],onUpdateValue:Function,method:String},setup(t,{emit:e}){const n=Ue(t,"value",e,{passive:!0,deep:!0,defaultValue:t.defaultValue}),r=wn(),{t:o}=ye(),i=re(),a=z(()=>t.maxSize||5),s=sr(),{uploadPath:l,managePath:c,driver:u,method:h}=$v({driver:t?.driver,signPath:t?.signPath,signCallback:t?.signCallback,uploadPath:t?.path,managePath:t?.managePath,method:t?.method}),f=Da({path:l.value,multiple:t.multiple,maxFileCount:t.maxNum,maxFileSize:a.value*1024*1024,autoUpload:!0,accept:t.accept,onError:x=>r.error(x.message||o("components.upload.error")),driver:u.value,method:h.value}),{isOverDropZone:p}=p4(i,{onDrop:x=>{x&&x.length>0&&f.addFiles(Array.from(x),"file")}});pe(f.dataFiles,x=>{const w=t.multiple?x:x[0];n.value=w,t.onUpdateValue?.(w)});const m=z(()=>t.accept?t.accept.split(",").map(x=>{const w=x.trim();if(Jp[w])return Jp[w];if(w.includes("*")){const k=w.split("/")[0];return Jp[w]||o("common.fileExtension",{ext:k.toUpperCase()})}const _=tw.getExtension(w);return _?_.toUpperCase():w}).filter(Boolean).join(", "):""),v=z(()=>({pending:d("div",{class:"text-info"},[o("components.upload.status.pending")]),uploading:d("div",{class:"text-info"},[o("components.upload.status.uploading")]),success:d("div",{class:"text-success"},[o("components.upload.status.success")]),error:d("div",{class:"text-error"},[o("components.upload.status.error")])})),g=z(()=>[_r.dropZone.base,p.value?_r.dropZone.active:_r.dropZone.hover]),b=z(()=>[f.uploadFiles.value.length===0&&"border-b border-muted"]),y=re(!1);return pe(n,x=>{if(!x||!x?.length||y.value)return;y.value=!0;const w=Array.isArray(x)?x:[x];f.addDataFiles(w)},{immediate:!0}),()=>d("div",{class:_r.container},[d("div",{ref:i,class:g.value,onClick:()=>f.open()},[d("div",{class:_r.content},[d("div",{class:_r.icon.wrapper,onClick:x=>{t.manager&&(x.stopPropagation(),s.show({title:o("components.upload.title"),width:800,component:()=>Tn(()=>Promise.resolve().then(()=>q6),void 0),componentProps:{path:c.value,multiple:t.multiple,uploadParams:{path:l.value,accept:t.accept,maxNum:t.maxNum,maxSize:a.value,method:h.value}}}).then(w=>{f.addDataFiles(w)}))}},[d("div",{class:_r.icon.icon},null)]),d("div",{class:_r.text.title},[o("components.upload.desc")]),d("div",{class:_r.text.desc},[p.value?d("span",{class:_r.text.highlight},[o("components.upload.dropHere")]):d(bt,null,[m.value?o("components.upload.supportFormats",{formats:m.value}):o("components.upload.allFormats"),Dt(",")," ",o("components.upload.maxSize",{size:a.value})])])])]),d(pd,{bordered:!1,class:b.value,columns:[{key:"filename",title:o("components.upload.file.name"),minWidth:200,render:x=>d(pc,{title:x.filename,desc:x.filetype},null)},{key:"filesizeText",title:o("components.upload.file.size"),width:120},{key:"status",title:o("components.upload.file.status"),width:120,render:x=>x.status==="uploading"?d("div",{class:"flex items-center"},[d(vs,{type:"line",style:{width:"24px",height:"24px"},color:"rgb(var(--ui-color-primary))","indicator-placement":"inside",percentage:x.progress?.percent,showIndicator:!1,height:14},null)]):v.value[x.status]},{key:"actions",title:o("components.upload.actions"),width:120,render:x=>{let w,_;return d("div",{class:_r.table.actions},[d(me,{type:"warning",size:"small",text:!0,disabled:["success","error","cancelled"].includes(x.status),onClick:()=>f.cancelFiles([x.id])},I2(w=o("components.upload.cancel"))?w:{default:()=>[w]}),d(me,{type:"error",size:"small",text:!0,onClick:()=>f.removeFiles([x.id])},I2(_=o("components.upload.delete"))?_:{default:()=>[_]})])}}],data:f.uploadFiles.value},{empty:()=>d("div",{class:_r.table.empty},[o("components.upload.empty")])})])}}),Qq=X({name:"FormEditorFileUpload",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(Rv,t.options?.attr,null)]})}});function eK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-file-upload",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const tK=X({name:"FormEditorFileUploadSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.fileUpload.accept")},{default:()=>[d(ze,{value:n.value.attr.accept,"onUpdate:value":o=>n.value.attr.accept=o,placeholder:r("components.formEditor.fileUpload.acceptPlaceholder")},null)]}),d(ce,{label:r("components.formEditor.common.maxCount")},{default:()=>[d(Ut,{value:n.value.attr.maxNum,"onUpdate:value":o=>n.value.attr.maxNum=o,min:1,placeholder:r("components.formEditor.fileUpload.maxNumPlaceholder")},null)]}),d(ce,{label:r("components.formEditor.fileUpload.maxSize")},{default:()=>[d(Ut,{value:n.value.attr.maxSize,"onUpdate:value":o=>n.value.attr.maxSize=o,min:0,placeholder:r("components.formEditor.fileUpload.maxSizePlaceholder")},null)]}),d(ce,{label:r("components.formEditor.common.status")},{default:()=>[d("div",{class:"w-full grid grid-cols-2"},[d(Dn,{label:r("components.formEditor.common.multiple"),checked:n.value.attr.multiple,"onUpdate:checked":o=>n.value.attr.multiple=o},null),d(Dn,{label:r("components.formEditor.fileUpload.manager"),checked:n.value.attr.manager,"onUpdate:checked":o=>n.value.attr.manager=o},null)])]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function _6(t){return{name:"dux-file-upload",icon:"i-tabler:file-upload",label:t("components.formEditor.fileUpload.label"),group:"form",component:e=>d(Qq,e,null),setting:e=>d(tK,e,null),settingDefault:{label:t("components.formEditor.fileUpload.label"),name:"files",attr:{maxSize:10,multiple:!1,manager:!1,accept:"*/*"},rule:[]},json:eK}}const Oc=X({name:"DuxImageUpload",props:{path:{type:String,default:"upload"},signPath:{type:String,default:""},signCallback:Function,managePath:{type:String,default:""},driver:{type:String},maxNum:Number,maxSize:{type:Number,default:0},multiple:Boolean,manager:Boolean,value:[String,Array],defaultValue:[String,Array],onUpdateValue:Function,method:String},setup(t,{emit:e}){const n=Ue(t,"value",e,{passive:!0,deep:!0,defaultValue:t.defaultValue}),r=wn(),o=q5(),{t:i}=ye(),a={container:"flex gap-2",imageItem:"size-80px rounded border border-muted relative group draggable flex items-center",imageOverlay:"z-1 size-full inset-0 absolute flex items-center justify-center bg-default/80 transition-all opacity-0 group-hover:opacity-100 rounded",uploadArea:"relative size-80px text-sm rounded flex flex-col border border-dashed bg-elevated border-muted dark:border-accented hover:bg-accented/50 hover:border-accented dark:hover:bg-accented/50 dark:hover:border-accented cursor-pointer",uploadContent:"flex-1 flex flex-col justify-center items-center gap-1 relative",progressContainer:"size-80px flex items-center justify-center rounded",progressBar:"absolute left-2 right-2 bottom-2"},s=z(()=>t.maxSize),{uploadPath:l,managePath:c,driver:u,method:h}=$v({driver:t?.driver,signPath:t?.signPath,signCallback:t?.signCallback,uploadPath:t?.path,managePath:t?.managePath,method:t?.method}),f=Da({path:l.value,multiple:t.multiple,maxFileCount:t.maxNum,maxFileSize:s.value*1024*1024,autoUpload:!0,accept:"image/*",method:h.value,onError:w=>{r.error(w.message||i("components.upload.error"))},driver:u.value});pe(f.dataFiles,w=>{const _=t.multiple?w?.map(k=>k.url):w?.[0]?.url;n.value=_,t.onUpdateValue?.(_)});const p=z(()=>f.progress.value.totalPercent),m=z(()=>f.isUploading.value),v=async()=>{f.open()},g=z(()=>t.multiple?t.maxNum&&f.uploadFiles.value.length>=t.maxNum:!0),b=z(()=>f.dataFiles.value?.map(w=>w.url)),y=sr(),x=re(!1);return pe(n,w=>{if(!w||!w?.length||x.value)return;x.value=!0;const _=typeof w=="string"?[w]:Array.isArray(w)?w:[];f.addDataFiles(_.map(k=>({url:k})))},{immediate:!0}),()=>d("div",null,[d(Ph,{modelValue:f.uploadFiles.value,"onUpdate:modelValue":w=>f.uploadFiles.value=w,class:a.container,draggable:".draggable"},{default:()=>[f.uploadFiles.value?.map((w,_)=>{const k=w.url||URL.createObjectURL(w.file);return d("div",{key:_,class:rt(a.imageItem)},[d(Ei,{class:"z-0 rounded",objectFit:"scale-down",width:78,height:78,previewDisabled:!0,src:k},null),d("div",{class:a.imageOverlay},[w.status==="success"&&d(me,{quaternary:!0,circle:!0,size:"small",renderIcon:()=>d("div",{class:"n-icon i-tabler:eye"},null),onClick:()=>o.show(b.value,_)},null),d(me,{quaternary:!0,circle:!0,size:"small",renderIcon:()=>d("div",{class:"n-icon i-tabler:trash"},null),onClick:()=>{f.removeFiles([w.id])}},null)])])}),(f.uploadFiles.value.length===0||!g.value)&&d("div",{class:a.uploadArea,onClick:()=>{v()}},[t.manager&&d("div",{class:" py-1 text-xs bg-muted border-b border-dashed border-accented flex items-center justify-center",onClick:w=>{w.stopPropagation(),y.show({title:i("components.upload.title"),width:"800px",component:()=>Tn(()=>Promise.resolve().then(()=>q6),void 0),componentProps:{path:c.value,type:"image",multiple:t.multiple,uploadParams:{path:l.value,accept:"image/*",maxNum:t.maxNum,maxSize:t.maxSize,method:h.value}}}).then(_=>{f.addDataFiles(_)})}},[d("div",{class:"i-tabler:folder size-4"},null)]),d("div",{class:a.uploadContent},[m.value?d("div",{class:a.progressContainer},[d("div",{class:"i-tabler:photo size-6"},null),d("div",{class:a.progressBar},[d(vs,{type:"line",percentage:p.value,showIndicator:!1,height:4},null)])]):d("div",{class:"i-tabler:plus size-4"},null)])])]})])}}),nK=X({name:"FormEditorImageUpload",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(Oc,t.options?.attr,null)]})}});function rK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-image-upload",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const oK=X({name:"FormEditorImageUploadSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.common.maxCount")},{default:()=>[d(Ut,{value:n.value.attr.maxNum,"onUpdate:value":o=>n.value.attr.maxNum=o,min:1,placeholder:r("components.formEditor.imageUpload.maxNumPlaceholder")},null)]}),d(ce,{label:r("components.formEditor.imageUpload.maxSize")},{default:()=>[d(Ut,{value:n.value.attr.maxSize,"onUpdate:value":o=>n.value.attr.maxSize=o,min:0,placeholder:r("components.formEditor.imageUpload.maxSizePlaceholder")},null)]}),d(ce,{label:r("components.formEditor.common.status")},{default:()=>[d("div",{class:"w-full grid grid-cols-2"},[d(Dn,{label:r("components.formEditor.common.multiple"),checked:n.value.attr.multiple,"onUpdate:checked":o=>n.value.attr.multiple=o},null),d(Dn,{label:r("components.formEditor.imageUpload.manager"),checked:n.value.attr.manager,"onUpdate:checked":o=>n.value.attr.manager=o},null)])]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function k6(t){return{name:"dux-image-upload",icon:"i-tabler:photo",label:t("components.formEditor.imageUpload.label"),group:"form",component:e=>d(nK,e,null),setting:e=>d(oK,e,null),settingDefault:{label:t("components.formEditor.imageUpload.label"),name:"images",attr:{maxSize:5,multiple:!1,manager:!1},rule:[]},json:rK}}const iK=X({name:"FormEditorInput",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(ze,yt(t.options?.attr,{inputProps:{autocomplete:"new-password"}}),null)]})}});function aK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-input",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const sK=X({name:"FormEditorInputSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.common.inputType")},{default:()=>[d(ya,{value:n.value.attr.type,"onUpdate:value":o=>n.value.attr.type=o,options:[{label:r("components.formEditor.input.types.text"),value:"text"},{label:r("components.formEditor.input.types.textarea"),value:"textarea"},{label:r("components.formEditor.input.types.password"),value:"password"}]},null)]}),d(ce,{label:r("components.formEditor.common.placeholder")},{default:()=>[d(ze,{value:n.value.attr.placeholder,"onUpdate:value":o=>n.value.attr.placeholder=o},null)]}),d(ce,{label:r("components.formEditor.common.minLength")},{default:()=>[d(Ut,{value:n.value.attr.minlength,"onUpdate:value":o=>n.value.attr.minlength=o},null)]}),d(ce,{label:r("components.formEditor.common.maxLength")},{default:()=>[d(Ut,{value:n.value.attr.maxlength,"onUpdate:value":o=>n.value.attr.maxlength=o},null)]}),d(ce,{label:r("components.formEditor.common.prefix")},{default:()=>[d(ze,{value:n.value.attr["v-slot:prefix"],"onUpdate:value":o=>n.value.attr["v-slot:prefix"]=o},null)]}),d(ce,{label:r("components.formEditor.common.suffix")},{default:()=>[d(ze,{value:n.value.attr["v-slot:suffix"],"onUpdate:value":o=>n.value.attr["v-slot:suffix"]=o},null)]}),d(ce,{label:r("components.formEditor.common.status")},{default:()=>[d("div",{class:"w-full grid grid-cols-2"},[d(Dn,{label:r("components.formEditor.common.readonly"),checked:n.value.attr.readonly,"onUpdate:checked":o=>n.value.attr.readonly=o},null),d(Dn,{label:r("components.formEditor.common.disabled"),checked:n.value.attr.disabled,"onUpdate:checked":o=>n.value.attr.disabled=o},null),d(Dn,{label:r("components.formEditor.common.clearable"),checked:n.value.attr.clearable,"onUpdate:checked":o=>n.value.attr.clearable=o},null),d(Dn,{label:r("components.formEditor.common.showCount"),checked:n.value.attr.showCount,"onUpdate:checked":o=>n.value.attr.showCount=o},null)])]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function C6(t){return{name:"dux-input",icon:"i-tabler:cursor-text",label:t("components.formEditor.input.label"),group:"form",component:e=>d(iK,e,null),setting:e=>d(sK,e,null),settingDefault:{label:t("components.formEditor.input.label"),name:"text",attr:{type:"text"},rule:[]},json:aK}}const lK=X({name:"FormEditorInputNumber",props:{options:Object},setup(t){const e=t.options?.attr;return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d("div",{class:"flex-1"},[d(Ut,e,{prefix:e["v-slot:prefix"]?()=>e["v-slot:prefix"]:void 0,suffix:e["v-slot:suffix"]?()=>e["v-slot:suffix"]:void 0})])]})}});function cK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-input-number",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const uK=X({name:"FormEditorInputNumberSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",null,[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.common.placeholder")},{default:()=>[d(ze,{value:n.value.attr.placeholder,"onUpdate:value":o=>n.value.attr.placeholder=o},null)]}),d(ce,{label:r("components.formEditor.common.minValue")},{default:()=>[d(Ut,{value:n.value.attr.min,"onUpdate:value":o=>n.value.attr.min=o},null)]}),d(ce,{label:r("components.formEditor.common.maxValue")},{default:()=>[d(Ut,{value:n.value.attr.max,"onUpdate:value":o=>n.value.attr.max=o},null)]}),d(ce,{label:r("components.formEditor.common.prefix")},{default:()=>[d(ze,{value:n.value.attr["v-slot:prefix"],"onUpdate:value":o=>n.value.attr["v-slot:prefix"]=o},null)]}),d(ce,{label:r("components.formEditor.common.suffix")},{default:()=>[d(ze,{value:n.value.attr["v-slot:suffix"],"onUpdate:value":o=>n.value.attr["v-slot:suffix"]=o},null)]}),d(ce,{label:r("components.formEditor.common.status")},{default:()=>[d("div",{class:"w-full grid grid-cols-2"},[d(Dn,{label:r("components.formEditor.common.readonly"),checked:n.value.attr.readonly,"onUpdate:checked":o=>n.value.attr.readonly=o},null),d(Dn,{label:r("components.formEditor.common.disabled"),checked:n.value.attr.disabled,"onUpdate:checked":o=>n.value.attr.disabled=o},null),d(Dn,{label:r("components.formEditor.common.clearable"),checked:n.value.attr.clearable,"onUpdate:checked":o=>n.value.attr.clearable=o},null)])]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function S6(t){return{name:"dux-input-number",icon:"i-tabler:number",label:t("components.formEditor.inputNumber.label"),group:"form",component:e=>d(lK,e,null),setting:e=>d(uK,e,null),settingDefault:{label:t("components.formEditor.inputNumber.label"),name:"number",attr:{},rule:[]},json:cK}}const dK=X({props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(lC,t.options?.attr,null)]})}});function hK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-mention",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const fK=X({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.config")},{default:()=>[d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),d(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.clearable,"onUpdate:value":o=>n.value.attr.clearable=o},null)])]})]}),d(tt,{title:r("components.formEditor.options")},{default:()=>[d(ce,{label:r("components.formEditor.mentionAsync.path")},{default:()=>[d(ze,{value:n.value.attr.path,"onUpdate:value":o=>n.value.attr.path=o},null)]}),d(ce,{label:r("components.formEditor.mentionAsync.labelField")},{default:()=>[d(ze,{value:n.value.attr.labelField,"onUpdate:value":o=>n.value.attr.labelField=o},null)]}),d(ce,{label:r("components.formEditor.mentionAsync.valueField")},{default:()=>[d(ze,{value:n.value.attr.valueField,"onUpdate:value":o=>n.value.attr.valueField=o},null)]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function E6(t){return{name:"mention-async",icon:"i-tabler:at",label:t("components.formEditor.mentionAsync.name"),group:"async",component:e=>d(dK,e,null),setting:e=>d(fK,e,null),settingDefault:{label:t("components.formEditor.mentionAsync.name"),name:"mentionAsync",attr:{path:"",valueField:"id",labelField:"title",clearable:!0,pagination:!0},rule:[]},json:hK}}function pK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const gK=X({name:"FormEditorRadio",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(Ym,yt(t.options?.attr,{value:t.options?.attr?.defaultValue}),{default:()=>[t.options?.attr?.options?.map((e,n)=>d(oa,{key:n,value:e.value},{default:()=>[e.label]}))]})]})}});function mK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-radio-group",attrs:{...e?.attr,"v-model:value":[n,e?.name]},children:e?.attr?.options?.map(r=>({tag:"n-radio",attrs:{value:r.value},children:[r.label]}))||[]}]}}const vK=X({name:"FormEditorRadioSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),r=sr(),{t:o}=ye();return()=>{let i;return d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":a=>t.value=a},null),d(tt,{title:o("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:o("components.formEditor.common.defaultValue")},{default:()=>[d(ze,{value:n.value.attr.defaultValue,"onUpdate:value":a=>n.value.attr.defaultValue=a},null)]}),d(ce,{label:o("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":a=>n.value.attr.disabled=a},null)])]})]}),d(tt,{title:o("components.formEditor.common.optionConfig")},{default:()=>[d(me,{block:!0,dashed:!0,renderIcon:()=>d("div",{class:"i-tabler:edit"},null),onClick:()=>{r.show({title:o("components.formEditor.common.dataConfig"),component:()=>Tn(()=>import("./options-Bse_HRqL.js"),__vite__mapDeps([15,5,4,7,1,6,2,8,9,10,11])),componentProps:{desc:o("components.formEditor.radio.configDesc"),value:n.value.attr.options,onChange:a=>{n.value.attr.options=a},options:[{label:o("components.formEditor.common.optionLabel"),value:"label"},{label:o("components.formEditor.common.optionValue"),value:"value"}]}})}},pK(i=o("components.formEditor.common.dataConfig"))?i:{default:()=>[i]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":a=>n.value.rule=a},null)])}}});function T6(t){return{name:"dux-radio",icon:"i-tabler:circle-dot",label:t("components.formEditor.radio.label"),group:"form",component:e=>d(gK,e,null),setting:e=>d(vK,e,null),settingDefault:{label:t("components.formEditor.radio.label"),name:"radio",attr:{options:[{label:"option 1",value:"1"},{label:"option 2",value:"2"}],defaultValue:"1"},rule:[]},json:mK}}const Dv=X({name:"DuxLevel",props:{value:{type:Array,default:()=>[]},path:{type:String,default:"area"},maxLevel:{type:Number,default:4},nameField:{type:String,default:"name"},labelField:{type:String,default:"name"},valueField:{type:String,default:"value"}},emits:["update:value"],setup(t,{emit:e}){const n=Ue(t,"value",e,{passive:!0,defaultValue:[]}),{regions:r,onChange:o,isLoading:i}=K5({value:n,path:t.path,nameField:t.nameField,maxLevel:t.maxLevel,labelField:t.labelField,valueField:t.valueField}),a=(l,c)=>{o(l,c)},s=z(()=>Array.from({length:t.maxLevel},(l,c)=>{const u=r.value[c]||[];return{index:c,options:u,value:n.value[c]||null}}));return()=>d("div",{class:["grid grid-cols-1 gap-2","lg:grid-cols-[repeat(auto-fit,minmax(120px,1fr))]"]},[s.value.map(l=>d(ya,{key:l.index,value:l.value,options:l.options,clearable:!0,loading:i.value,onUpdateValue:c=>a(c,l.index)},null))])}}),bK=X({name:"FormRegion",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(Dv,t.options?.attr,null)]})}});function yK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-level",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const xK=X({name:"FormRegionSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.config")},{default:()=>[d(ce,{label:r("components.formEditor.region.Path")},{default:()=>[d(ze,{value:n.value.attr.path,"onUpdate:value":o=>n.value.attr.path=o},null)]}),d(ce,{label:r("components.formEditor.region.labelField")},{default:()=>[d(ze,{value:n.value.attr.labelField,"onUpdate:value":o=>n.value.attr.labelField=o},null)]}),d(ce,{label:r("components.formEditor.region.valueField")},{default:()=>[d(ze,{value:n.value.attr.valueField,"onUpdate:value":o=>n.value.attr.valueField=o},null)]}),d(ce,{label:r("components.formEditor.common.status")},{default:()=>[d("div",{class:"w-full grid grid-cols-2"},[d(Dn,{label:r("components.formEditor.common.disabled"),checked:n.value.attr.disabled,"onUpdate:checked":o=>n.value.attr.disabled=o},null)])]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function O6(t){return{name:"region",icon:"i-tabler:directions",label:t("components.formEditor.region.name"),group:"select",component:e=>d(bK,e,null),setting:e=>d(xK,e,null),settingDefault:{label:t("components.formEditor.region.name"),name:"region",attr:{path:"/region",valueField:"id",labelField:"name"},rule:[]},json:yK}}function wK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const _K=X({name:"FormEditorSelect",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(ya,t.options?.attr,null)]})}});function kK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-select",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const CK=X({name:"FormEditorSelectSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),r=sr(),{t:o}=ye();return()=>{let i;return d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":a=>t.value=a},null),d(tt,{title:o("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:o("components.formEditor.common.multiple"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.multiple,"onUpdate:value":a=>n.value.attr.multiple=a},null)])]}),d(ce,{label:o("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":a=>n.value.attr.disabled=a},null)])]}),d(ce,{label:o("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.clearable,"onUpdate:value":a=>n.value.attr.clearable=a},null)])]})]}),d(tt,{title:o("components.formEditor.common.optionConfig")},{default:()=>[d(me,{block:!0,dashed:!0,renderIcon:()=>d("div",{class:"i-tabler:edit"},null),onClick:()=>{r.show({title:o("components.formEditor.common.dataConfig"),component:()=>Tn(()=>import("./options-Bse_HRqL.js"),__vite__mapDeps([15,5,4,7,1,6,2,8,9,10,11])),componentProps:{desc:o("components.formEditor.select.configDesc"),value:n.value.attr.options,onChange:a=>{n.value.attr.options=a},options:[{label:o("components.formEditor.common.labelField"),value:"label"},{label:o("components.formEditor.common.valueField"),value:"value"}]}})}},wK(i=o("components.formEditor.common.dataConfig"))?i:{default:()=>[i]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":a=>n.value.rule=a},null)])}}});function A6(t){return{name:"dux-select",icon:"i-tabler:select",label:t("components.formEditor.select.label"),group:"form",component:e=>d(_K,e,null),setting:e=>d(CK,e,null),settingDefault:{label:t("components.formEditor.select.label"),name:"select",attr:{options:[],clearable:!0},rule:[]},json:kK}}const SK=X({props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(cC,t.options?.attr,null)]})}});function EK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-select",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const TK=X({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.config")},{default:()=>[d(ce,{label:r("components.formEditor.common.multiple"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.multiple,"onUpdate:value":o=>n.value.attr.multiple=o},null)])]}),d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),d(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.clearable,"onUpdate:value":o=>n.value.attr.clearable=o},null)])]}),d(ce,{label:r("components.formEditor.selectAsync.pagination"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.pagination,"onUpdate:value":o=>n.value.attr.pagination=o},null)])]})]}),d(tt,{title:r("components.formEditor.options")},{default:()=>[d(ce,{label:r("components.formEditor.selectAsync.path")},{default:()=>[d(ze,{value:n.value.attr.path,"onUpdate:value":o=>n.value.attr.path=o},null)]}),d(ce,{label:r("components.formEditor.selectAsync.labelField")},{default:()=>[d(ze,{value:n.value.attr.labelField,"onUpdate:value":o=>n.value.attr.labelField=o},null)]}),d(ce,{label:r("components.formEditor.selectAsync.valueField")},{default:()=>[d(ze,{value:n.value.attr.valueField,"onUpdate:value":o=>n.value.attr.valueField=o},null)]}),d(ce,{label:r("components.formEditor.selectAsync.imageField")},{default:()=>[d(ze,{value:n.value.attr.imageField,"onUpdate:value":o=>n.value.attr.imageField=o},null)]}),d(ce,{label:r("components.formEditor.selectAsync.descField")},{default:()=>[d(ze,{value:n.value.attr.descField,"onUpdate:value":o=>n.value.attr.descField=o},null)]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function M6(t){return{name:"select-async",icon:"i-tabler:select",label:t("components.formEditor.selectAsync.name"),group:"async",component:e=>d(SK,e,null),setting:e=>d(TK,e,null),settingDefault:{label:t("components.formEditor.selectAsync.name"),name:"selectAsync",attr:{path:"",valueField:"id",labelField:"title",clearable:!0,pagination:!0},rule:[]},json:EK}}const OK=X({props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(Q2,t.options?.attr,null)]})}});function AK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-slider",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const MK=X({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.config")},{default:()=>[d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]})]}),d(tt,{title:r("components.formEditor.options")},{default:()=>[d(ce,{label:r("components.formEditor.sider.step")},{default:()=>[d(Ut,{value:n.value.attr.step,"onUpdate:value":o=>n.value.attr.step=o},null)]}),d(ce,{label:r("components.formEditor.sider.min")},{default:()=>[d(Ut,{value:n.value.attr.min,"onUpdate:value":o=>n.value.attr.min=o},null)]}),d(ce,{label:r("components.formEditor.sider.max")},{default:()=>[d(Ut,{value:n.value.attr.max,"onUpdate:value":o=>n.value.attr.max=o},null)]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function $6(t){return{name:"sider",icon:"i-tabler:separator",label:t("components.formEditor.sider.name"),group:"form",component:e=>d(OK,e,null),setting:e=>d(MK,e,null),settingDefault:{label:t("components.formEditor.sider.name"),name:"sider",attr:{step:1,min:0,max:100},rule:[]},json:AK}}const $K=X({name:"FormEditorSwitch",props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(Ze,t.options?.attr,null)]})}});function RK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-switch",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const DK=X({name:"FormEditorSwitchSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),d(ce,{label:r("components.formEditor.common.defaultValue"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.defaultValue,"onUpdate:value":o=>n.value.attr.defaultValue=o},null)])]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function R6(t){return{name:"dux-switch",icon:"i-tabler:toggle-left",label:t("components.formEditor.switch.label"),group:"form",component:e=>d($K,e,null),setting:e=>d(DK,e,null),settingDefault:{label:t("components.formEditor.switch.label"),name:"switch",attr:{defaultValue:!1},rule:[]},json:RK}}const PK=X({name:"FormEditorTime",props:{options:Object},setup(t){const e=t.options?.attr;return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d("div",{class:"flex-1"},[d(E4,e,null)])]})}});function LK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-time-picker",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const FK=X({name:"FormEditorTimeSetting",props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",null,[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.common.componentConfig")},{default:()=>[d(ce,{label:r("components.formEditor.time.timeFormat")},{default:()=>[d(ze,{value:n.value.attr.format,"onUpdate:value":o=>n.value.attr.format=o},null)]}),d(ce,{label:r("components.formEditor.time.use12Hours"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.use12Hours,"onUpdate:value":o=>n.value.attr.use12Hours=o},null)])]}),d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),d(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.clearable,"onUpdate:value":o=>n.value.attr.clearable=o},null)])]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function D6(t){return{name:"dux-time",icon:"i-tabler:clock",label:t("components.formEditor.time.label"),group:"form",component:e=>d(PK,e,null),setting:e=>d(FK,e,null),settingDefault:{label:t("components.formEditor.time.label"),name:"time",attr:{use12Hours:!1},rule:[]},json:LK}}const IK=X({props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(uC,t.options?.attr,null)]})}});function NK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-transfer",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const jK=X({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.config")},{default:()=>[d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),d(ce,{label:r("components.formEditor.tree.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.clearable,"onUpdate:value":o=>n.value.attr.clearable=o},null)])]})]}),d(tt,{title:r("components.formEditor.options")},{default:()=>[d(ce,{label:r("components.formEditor.selectAsync.path")},{default:()=>[d(ze,{value:n.value.attr.path,"onUpdate:value":o=>n.value.attr.path=o},null)]}),d(ce,{label:r("components.formEditor.selectAsync.labelField")},{default:()=>[d(ze,{value:n.value.attr.labelField,"onUpdate:value":o=>n.value.attr.labelField=o},null)]}),d(ce,{label:r("components.formEditor.selectAsync.valueField")},{default:()=>[d(ze,{value:n.value.attr.valueField,"onUpdate:value":o=>n.value.attr.valueField=o},null)]}),d(ce,{label:r("components.formEditor.selectAsync.imageField")},{default:()=>[d(ze,{value:n.value.attr.imageField,"onUpdate:value":o=>n.value.attr.imageField=o},null)]}),d(ce,{label:r("components.formEditor.selectAsync.descField")},{default:()=>[d(ze,{value:n.value.attr.descField,"onUpdate:value":o=>n.value.attr.descField=o},null)]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function P6(t){return{name:"transfer-async",icon:"i-tabler:transfer",label:t("components.formEditor.transferAsync.name"),group:"async",component:e=>d(IK,e,null),setting:e=>d(jK,e,null),settingDefault:{label:t("components.formEditor.transferAsync.name"),name:"transferAsync",attr:{path:"",valueField:"id",labelField:"title",clearable:!0},rule:[]},json:NK}}function BK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const zK=X({props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(og,t.options?.attr,null)]})}});function UK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"n-tree-select",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const HK=X({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),r=sr(),{t:o}=ye();return()=>{let i;return d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":a=>t.value=a},null),d(tt,{title:o("components.formEditor.config")},{default:()=>[d(ce,{label:o("components.formEditor.common.multiple"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.multiple,"onUpdate:value":a=>n.value.attr.multiple=a},null)])]}),d(ce,{label:o("components.formEditor.common.cascade"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.cascade,"onUpdate:value":a=>n.value.attr.cascade=a},null)])]}),d(ce,{label:o("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":a=>n.value.attr.disabled=a},null)])]}),d(ce,{label:o("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.clearable,"onUpdate:value":a=>n.value.attr.clearable=a},null)])]})]}),d(tt,{title:o("components.formEditor.options")},{default:()=>[d(me,{block:!0,dashed:!0,renderIcon:()=>d("div",{class:"i-tabler:edit"},null),onClick:()=>{r.show({title:o("components.formEditor.common.data"),component:()=>Tn(()=>import("./json-FdrNHKhR.js"),__vite__mapDeps([14,5,4,6,1,7,2,8,9,10,11])),componentProps:{desc:o("components.formEditor.cascader.optionsDescription"),value:JSON.stringify(n.value.attr.options,null,2),onChange:a=>{try{n.value.attr.options=JSON.parse(a)}catch{}}}})}},BK(i=o("components.formEditor.common.data"))?i:{default:()=>[i]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":a=>n.value.rule=a},null)])}}});function L6(t){return{name:"tree-select",icon:"i-tabler:binary-tree",label:t("components.formEditor.treeSelect.name"),group:"select",component:e=>d(zK,e,null),setting:e=>d(HK,e,null),settingDefault:{label:t("components.formEditor.treeSelect.name"),name:"treeSelect",attr:{options:[],clearable:!0},rule:[]},json:UK}}const WK=X({props:{options:Object},setup(t){return()=>d(ce,{label:t.options?.label,description:t.options?.desc},{default:()=>[d(dC,t.options?.attr,null)]})}});function VK(t){const{options:e,model:n}=t||{};return{tag:"dux-form-item",attrs:{label:e?.label,description:e?.desc},children:[{tag:"dux-tree-select",attrs:{...e?.attr,"v-model:value":[n,e?.name]}}]}}const XK=X({props:{value:{type:Object,default:{}}},setup(t,{emit:e}){const n=Ue(t,"value",e),{t:r}=ye();return()=>d("div",{class:""},[d(Ht,{value:t.value,"onUpdate:value":o=>t.value=o},null),d(tt,{title:r("components.formEditor.config")},{default:()=>[d(ce,{label:r("components.formEditor.common.disabled"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.disabled,"onUpdate:value":o=>n.value.attr.disabled=o},null)])]}),d(ce,{label:r("components.formEditor.common.clearable"),labelPlacement:"left"},{default:()=>[d("div",{class:"flex flex-1 justify-end"},[d(Ze,{value:n.value.attr.clearable,"onUpdate:value":o=>n.value.attr.clearable=o},null)])]})]}),d(tt,{title:r("components.formEditor.options")},{default:()=>[d(ce,{label:r("components.formEditor.treeSelectAsync.path")},{default:()=>[d(ze,{value:n.value.attr.path,"onUpdate:value":o=>n.value.attr.path=o},null)]}),d(ce,{label:r("components.formEditor.treeSelectAsync.labelField")},{default:()=>[d(ze,{value:n.value.attr.labelField,"onUpdate:value":o=>n.value.attr.labelField=o},null)]}),d(ce,{label:r("components.formEditor.treeSelectAsync.keyField")},{default:()=>[d(ze,{value:n.value.attr.keyField,"onUpdate:value":o=>n.value.attr.keyField=o},null)]})]}),d(Wt,{value:n.value.rule,"onUpdate:value":o=>n.value.rule=o},null)])}});function F6(t){return{name:"tree-select-async",icon:"i-tabler:binary-tree",label:t("components.formEditor.treeSelectAsync.name"),group:"async",component:e=>d(WK,e,null),setting:e=>d(XK,e,null),settingDefault:{label:t("components.formEditor.treeSelectAsync.name"),name:"treeSelectAsync",attr:{path:"",keyField:"id",labelField:"name",clearable:!0},rule:[]},json:VK}}function Nu(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const YK=X({name:"DuxFormEditor",props:{onSave:Function},extends:Bm,setup(t){const{t:e}=ye(),n=sr(),r=z(()=>[{name:"form",label:e("components.formEditor.groups.form"),icon:"i-tabler:forms"},{name:"select",label:e("components.formEditor.groups.select"),icon:"i-tabler:select"},{name:"async",label:e("components.formEditor.groups.async"),icon:"i-tabler:loader"}]),o=z(()=>[C6(e),S6(e),w6(e),$6(e),b6(e),D6(e),v6(e),m6(e),T6(e),R6(e),y6(e),x6(e),k6(e),_6(e),A6(e),p6(e),L6(e),O6(e),M6(e),g6(e),F6(e),P6(e),E6(e)]);return()=>d(Bm,yt(t,{groups:r.value,components:o.value,settingPage:{component:i=>d(Eq,i,null),default:{labelPlacement:"left"}},previewWrapper:(i,a)=>{const s=z(()=>a?.value?.value?.config);return d(Eo,{labelPlacement:s.value?.labelPlacement||"left",class:"h-full"},Nu(i)?i:{default:()=>[i]})},actionRender:i=>{let a,s,l;return d("div",{class:"flex flex-col gap-2"},[d(me,{type:"primary",secondary:!0,block:!0,onClick:()=>{n.show({title:e("components.formEditor.main.actions.jsonOutput"),component:()=>Tn(()=>import("./json-C5OIIgYy.js"),__vite__mapDeps([16,4,6,1,5,7,2,8,9,10,11])),componentProps:{value:i?.value?.value.data||[]}})}},Nu(a=e("components.formEditor.main.actions.jsonOutput"))?a:{default:()=>[a]}),d(me,{type:"info",secondary:!0,block:!0,onClick:()=>{n.show({title:e("common.preview"),component:()=>Tn(()=>import("./preview-B_H_CN4r.js"),__vite__mapDeps([17,4,6,1,5,7,2,8,9,10,11])),componentProps:{data:i?.value?.value.data||[],config:i?.value?.value.config||{}}})}},Nu(s=e("common.preview"))?s:{default:()=>[s]}),d(me,{type:"primary",block:!0,onClick:()=>{t.onSave?.(i?.value?.value||{})}},Nu(l=e("components.formEditor.main.actions.save"))?l:{default:()=>[l]})])}}),null)}}),GK=X({name:"DuxFormRenderer",props:{data:{type:Array,default:()=>[]},value:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},setup(t,{emit:e}){const{t:n}=ye(),r=z(()=>{const l=[Ev(n),C6(n),S6(n),w6(n),$6(n),b6(n),D6(n),v6(n),m6(n),T6(n),R6(n),y6(n),x6(n),k6(n),_6(n),A6(n),p6(n),L6(n),O6(n),M6(n),g6(n),F6(n),P6(n),E6(n)],c=new Map;return l.forEach(u=>{c.set(u.name,u)}),c}),o=Ue(t,"value",e,{defaultValue:{},deep:!0}),i=(l,c=o.value)=>l.length>0&&Array.isArray(l[0])?l.flatMap(u=>Array.isArray(u)?i(u,c):[]):l.map(u=>{const{name:h,options:f={}}=u,p=r.value.get(h),m={...f,attr:{...f.attr,readonly:t.readonly||f.attr?.readonly,disabled:t.disabled||f.attr?.disabled}};if(f.name&&f.attr?.defaultValue!==void 0&&(c[f.name]===void 0||c[f.name]===null)&&(c[f.name]=f.attr.defaultValue),p?.json)return p.json({options:m,children:u.children,model:c,convertToJsonSchema:i});const v={tag:h,attrs:m.attr||{}};return u.children?.length&&(v.children=i(u.children,c)),v}),a=z(()=>{const l=i(t.data,o.value);return[{tag:"dux-form-layout",attrs:{labelPlacement:t.config?.labelPlacement||"left"},children:l}]}),{render:s}=$i({data:a,context:{form:o.value}});return()=>d(s,null,null)}}),I6=X({name:"DuxIconPicker",props:{defaultValue:String,value:String},setup(t,{emit:e}){const n=Ue(t,"value",e,{defaultValue:t.defaultValue,passive:!0}),r=sr(),{t:o}=ye();return()=>d(me,{dashed:!n.value,onClick:()=>{r.show({title:o("components.iconPicker.title"),component:()=>Tn(()=>import("./iconPicker-CyDeeUDU.js"),__vite__mapDeps([18,5,4,19,7,1,6,2,8,9,10,11]))}).then(i=>{n.value=i})},iconPlacement:"right"},{default:()=>d("div",{class:"flex gap-2 items-center"},[n.value?d("div",{class:`size-4 ${n.value||""}`},null):void 0,o("components.iconPicker.title")]),icon:()=>n.value?d("div",{class:"rounded-full p-1 hover:bg-gray-2 hover:text-gray-7",onClick:i=>{i.stopPropagation(),n.value=void 0}},[d("div",{class:"size-4 i-tabler:x"},null)]):void 0})}}),mf=X({name:"DuxTableFilter",props:{label:{type:String,default:""}},setup(t,{slots:e}){const n=Ot("dux.filter",{showLabel:!1,labelPlacement:"left"});return()=>d("div",{class:["flex gap-2 gap-2 flex-nowrap",n.labelPlacement==="left"?"flex-row items-center":"flex-col"]},[n.showLabel&&t.label&&d("div",{class:"text-sm text-default whitespace-nowrap"},[t.label]),d("div",{class:"flex-1 min-w-60"},[e.default?.()])])}}),Pv=X({name:"DuxFilterLayout",props:{showLabel:{type:Boolean,default:!1},labelPlacement:{type:String,default:"left"},horizontal:{type:Boolean,default:!1}},setup(t,{slots:e}){return Fn("dux.filter",{showLabel:t.showLabel,labelPlacement:t.labelPlacement}),()=>d("div",{class:["flex flex-col gap-2",t.horizontal?"flex-row":"flex-col"]},[e.default?.()])}}),Lv=X({name:"DuxPageEmpty",props:{title:String,desc:String},setup(t){const{t:e}=ye();return()=>d(Hi,{title:t.title||e("pages.empty.title"),desc:t.desc||e("pages.empty.desc")},{default:()=>[d(Tc,null,null)]})}}),vf=X({name:"DuxTableTools",props:{selecteds:{type:Array,default:[]},isLoading:{type:Boolean,default:!1},onBatch:{type:Function},number:{type:Number},options:{type:Array},group:{type:Array},dropdown:{type:Array}},setup(t){const{t:e}=ye(),n=z(()=>t.group?t.group:[t.options]),r=z(()=>t.number&&t.number>0),o=Ec();return()=>d("div",{class:"absolute  bottom-0 left-0 right-0 pointer-events-none"},[d(ps,{name:"slide-up",appear:!0,enterActiveClass:"transition-all duration-200 ease-out",enterFromClass:"transform translate-y-full opacity-0",enterToClass:"transform translate-y-0 opacity-100",leaveActiveClass:"transition-all duration-200 ease-in",leaveFromClass:"transform translate-y-0 opacity-100",leaveToClass:"transform translate-y-full opacity-0"},{default:()=>[r.value?d("div",{class:"flex h-12 px-1 justify-between lg:justify-center gap-2 pointer-events-auto"},[n.value?.map((i,a)=>d("div",{class:"h-10 mt-1 bg-default rounded px-4 py-1 shadow flex items-center gap-4"},[a===n.value.length-1&&d(bt,null,[d("span",{class:" "},[e("components.list.selectedItems",{num:t.number||0})]),d("div",{class:"w-px h-4 bg-elevated"},null)]),i?.map(s=>d(me,{text:!0,onClick:()=>{s.onClick?s.onClick?.(t.selecteds):s.key&&o.confirm({title:e("components.list.batchTitle"),content:e("components.list.batchContent")}).then(()=>{t.onBatch?.("delivery")}).catch(()=>{})},loading:s.loading||t.isLoading,disabled:s.disabled||s.loading||t.isLoading,type:s.type},{default:()=>s.label,icon:()=>d("div",{class:s.icon},null)})),a===n.value.length-1&&t.dropdown&&t.dropdown.length>0&&d(Oa,{options:t.dropdown},{default:()=>[d(me,{text:!0},{icon:()=>d("div",{class:"i-tabler:dots-vertical size-4"},null)})]})]))]):null]})])}});function qK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const Ds=X({name:"DuxListLayout",props:{rowKey:{type:String,default:"id"},path:{type:String,required:!0},filter:{type:Object},filterSchema:{type:Array},pagination:{type:[Boolean,Object],default:!0},tabs:{type:Array},tools:{type:Object},actions:{type:Array,default:()=>[]},checkable:{type:Boolean},sideLeftTitle:{type:String,default:""},sideRightTitle:{type:String,default:""},batchOptions:{type:Array},hookListProps:{type:Object}},setup(t,{slots:e,expose:n}){const r=be(t.filter||{}),{t:o}=ye(),{renderAction:i}=Cv(),a=be(t.pagination&&typeof t.pagination=="object"?t.pagination:{page:1,pageSize:20}),s=re({}),l=()=>{Object.assign(s.value,r.value)},c=u0({path:t.path,filters:s.value,pagination:a.value,...t.hookListProps});n(c);const{meta:u,list:h,isLoading:f,autoRefetch:p,autoCountdown:m,onAutoRefetch:v,isExporting:g,isExportingRows:b,isImporting:y,onExport:x,onExportRows:w,onImport:_}=c,k=z(()=>({page:c.page.value,pageSize:c.pageSize.value,pageCount:c.pageCount.value,pageSizes:c.pageSizes,pageSlot:5,onUpdatePage:c.onUpdatePage,onUpdatePageSize:c.onUpdatePageSize,showSizePicker:!0,showQuickJumper:!0})),E=Pn({show:!1}),$=Pn({show:!1}),A=Pn({show:!1}),D=re(t.filterSchema?.length||0),{width:O}=uh(),S=()=>{if(!t.filterSchema?.length)return 0;const j=t.filterSchema.length;if(j<=3)return j;const H=O.value||1024;let B=3;return H>=1280?B=4:H>=1024?B=3:H>=768?B=2:B=1,Math.min(j,B)};pe(O,()=>{D.value=S()}),vn(()=>{D.value=S()});const T=z(()=>(t.filterSchema||[]).slice(0,D.value)),C=z(()=>(t.filterSchema||[]).slice(D.value)),M=z(()=>C.value.length>0),R=j=>j.map(H=>{const{title:B,...te}=H;return{tag:mf,attrs:{label:B,class:"flex-1 min-w-0"},children:te}}),{render:L}=$i({data:z(()=>R(T.value))}),{render:P}=$i({data:z(()=>R(C.value))}),N=z(()=>({import:!1,export:!0,refresh:!0,...t.tools}));return()=>d(Fa,{padding:!1,scrollbar:!1},{sideLeft:()=>e?.sideLeft&&O.value>=1024?e?.sideLeft?.():void 0,sideRight:()=>e?.sideRight&&O.value>=1024?e?.sideRight?.():void 0,default:()=>d("div",{class:"flex flex-col h-full relative"},[d("div",{class:"lg:justify-between gap-2 p-3"},[d("div",{class:"flex flex-col lg:flex-row lg:items-center gap-2"},[t.checkable&&d("div",{class:"hidden lg:flex items-center pl-2"},[d(Ct,null,{trigger:()=>d("div",{class:"flex items-center"},[d(Dn,{checked:c.isAllChecked.value,indeterminate:c.isIndeterminate.value,onUpdateChecked:c.toggleSelectAll},null)]),default:()=>o("components.list.selectAll")})]),t.tabs&&d("div",null,[d(Aa,{type:"segment",size:"small",style:{"--n-tab-padding":"4px 10px"},"default-value":t.tabs?.[0]?.value,value:s.value?.tab,onUpdateValue:j=>{s.value.tab=j}},{default:()=>[t.tabs?.map(j=>d(ia,{name:j.value,tab:j.label},null))]})]),d("div",{class:"flex gap-2"},[e?.sideLeft&&O.value<1024&&d(me,{class:"flex-none",secondary:!0,onClick:()=>{$.show=!$.show}},{icon:()=>d("div",{class:"i-tabler:layout-sidebar-inactive size-4"},null)}),d("div",{class:"flex flex-wrap gap-2 items-center flex-1 lg:flex-none"},[Oe(L)]),d(me,{type:"primary",secondary:!0,onClick:l},{icon:()=>d("div",{class:"i-tabler:search size-4"},null),default:()=>o("components.button.search")}),e?.sideRight&&O.value<1024&&d(me,{class:"flex-none",secondary:!0,onClick:()=>{A.show=!A.show}},{icon:()=>d("div",{class:"i-tabler:layout-sidebar-right-inactive size-4"},null)}),M.value&&d(me,{iconPlacement:"right",onClick:()=>{E.show=!E.show}},{default:()=>o("components.button.advanced"),icon:()=>d("div",{class:["i-tabler:chevrons-down size-4 transition-all"]},null)})])]),d("div",{class:"flex gap-2"},[e.actions?.(),t.actions?.length>0&&i({type:O.value<1024?"dropdown":"button",text:O.value<1024,items:t.actions})])]),d(ii,{show:f.value,class:"flex-1 min-h-0",contentClass:"h-full"},{default:()=>[d("div",{class:["h-full overflow-auto rounded-lg px-3"]},[!f.value&&h.value.length===0&&d("div",{class:"flex justify-center items-center h-full"},[d(Lv,null,null)]),h.value.length>0&&e?.default?.(c)])]}),d("div",{class:"flex justify-between px-3 py-2 gap-2"},[d("div",null,[d("div",{class:"flex gap-1 items-center"},[t.checkable&&d(Ct,null,{trigger:()=>d(me,{loading:y.value,circle:!0,quaternary:!0},{default:()=>[d(Dn,{checked:c.isAllChecked.value,indeterminate:c.isIndeterminate.value,onUpdateChecked:c.toggleSelectAll},null)]}),default:()=>o("components.list.selectAll")}),e?.tools?.(),N.value.export&&d(Ct,null,{trigger:()=>d(me,{loading:g.value,onClick:x,circle:!0,quaternary:!0},{icon:()=>d("div",{class:"i-tabler:database-export size-4"},null)}),default:()=>o("components.button.export")}),N.value.import&&d(Ct,null,{trigger:()=>d(me,{loading:y.value,onClick:_,circle:!0,quaternary:!0},{icon:()=>d("div",{class:"i-tabler:database-import size-4"},null)}),default:()=>o("components.button.import")}),N.value.refresh&&d(Ct,null,{trigger:()=>d(me,{onClick:v,circle:!0,quaternary:!0},{icon:()=>p.value?d(vs,{class:"size-4",type:"circle",percentage:m.value*10,strokeWidth:20,color:"rgba(var(--ui-color-primary))"},{default:()=>[d("span",{class:"text-8px"},[m.value])]}):d("div",{class:"i-tabler:refresh size-4"},null)}),default:()=>o("components.button.autoRefresh")})])]),d("div",{class:"flex items-center gap-2"},[e?.bottom?.(),t.pagination&&d(dh,yt(k.value,{simple:O.value<768}),{prefix:()=>d("div",null,[o("components.list.total",{total:u?.value?.total||0})])})])]),d(vf,{isLoading:c.isBatching.value,onBatch:c.onBatch,selecteds:c.checkeds.value,number:c.checkeds.value.length,group:[[{icon:"i-tabler:x",onClick:()=>{c.checkeds.value=[],c.onUpdateChecked?.([])}}],[{label:o("components.button.export"),icon:"i-tabler:file-export",loading:b.value,onClick:w},{label:o("components.button.delete"),type:"error",icon:"i-tabler:trash"}]]},null),d(hh,{draggable:!0,class:"bg-white rounded dark:shadow-gray-950/80  dark:bg-gray-800/60 backdrop-blur",show:E.show,onUpdateShow:j=>E.show=j},{default:({draggableClass:j})=>{let H;return d(Zs,{title:o("components.button.filter"),handle:j,onClose:()=>E.show=!1},{default:()=>[d(Pv,{showLabel:!0,labelPlacement:"top"},qK(H=Oe(P))?H:{default:()=>[H]})]})}}),d(ms,{show:$.show,onUpdateShow:j=>$.show=j,autoFocus:!1,placement:"left"},{default:()=>[d(Ta,{title:t.sideLeftTitle||o("components.button.sideLeft"),onClose:()=>$.show=!1,scrollbar:!1},{default:()=>[e?.sideLeft?.()]})]}),d(ms,{show:A.show,onUpdateShow:j=>A.show=j,autoFocus:!1,placement:"right"},{default:()=>[d(Ta,{title:t.sideRightTitle||o("components.button.sideRight"),onClose:()=>A.show=!1,scrollbar:!1},{default:()=>[e?.sideRight?.()]})]})])})}});function KK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const ih=X({name:"DuxTableLayout",props:{path:{type:String,required:!0},filter:{type:Object},filterSchema:{type:Array},filterNumber:{type:Number,default:1},sorter:{type:Object},columns:{type:Array},pagination:{type:[Boolean,Object],default:!0},tabs:{type:Array},actions:{type:Array,default:()=>[]},tools:{type:Object},sideLeftTitle:{type:String,default:""},sideRightTitle:{type:String,default:""},batchOptions:{type:Array},hookTableProps:{type:Object}},setup(t,{slots:e,expose:n}){const r=be(t,"filter",{}),o=be(t,"sorter",{}),i=be(t,"columns",[]),{t:a}=ye(),{renderAction:s}=Cv(),l=Sv({...t.hookTableProps,path:t.path,filters:r.value,sorters:o.value,columns:i,pagination:t.pagination});n(l);const{columns:c,tablePagination:u,table:h,onUpdateColumnSelected:f,onUpdateChecked:p,columnSelected:m,autoRefetch:v,autoCountdown:g,onAutoRefetch:b,isExporting:y,isExportingRows:x,isImporting:w,onExport:_,onExportRows:k,onImport:E}=l,$=z(()=>c.value.filter(j=>"title"in j&&"key"in j).map(j=>({label:j.title,value:j.key}))),{width:A}=uh(),D=z(()=>c.value.reduce((j,H)=>j+(Number(H?.width)||Number(H?.minWidth)||110),0)),O=Pn({show:!1}),S=Pn({show:!1}),T=Pn({show:!1}),C=z(()=>(t.filterSchema||[]).map(j=>{const{label:H,...B}=j;return{tag:mf,attrs:{label:H},children:B}})),{render:M}=$i({data:z(()=>C.value?.slice(t.filterNumber))}),{render:R}=$i({data:z(()=>C.value?.slice(0,t.filterNumber))}),L=z(()=>({import:!1,export:!0,refresh:!0,...t.tools})),P=Pa(),N=P.tabs.find(j=>j.path===P.current);return()=>d(Fa,{actions:t.actions,scrollbar:!1},{sideLeft:()=>e?.sideLeft&&A.value>=1024?e?.sideLeft?.():void 0,sideRight:()=>e?.sideRight&&A.value>=1024?e?.sideRight?.():void 0,default:()=>d("div",{class:"flex flex-col gap-2 h-full relative"},[d("div",{class:"flex gap-2 justify-between flex-col lg:flex-row"},[t.tabs&&d("div",{class:"flex flex-none"},[d(Aa,{type:"segment",size:"small",style:{"--n-tab-padding":"4px 10px"},"default-value":t.tabs?.[0]?.value,value:r.value?.tab,onUpdateValue:j=>{r.value.tab=j}},{default:()=>[t.tabs?.map(j=>d(ia,{name:j.value,tab:j.label},null))]})]),d("div",{class:["overflow-hidden flex-1 flex gap-2"]},[e?.sideLeft&&A.value<1024&&d(me,{class:"flex-none",secondary:!0,onClick:()=>{S.show=!S.show}},{icon:()=>d("div",{class:"i-tabler:layout-sidebar-inactive size-4"},null)}),d("div",{class:["flex-1 flex flex-col lg:flex-row gap-2 flex-wrap",t.tabs?"justify-end":"justify-start"]},[!t.tabs&&!t.filterSchema?.length&&d("div",{class:"flex flex-none items-center text-base font-medium"},[N?.label]),Oe(R)]),e?.sideRight&&A.value<1024&&d(me,{class:"flex-none",secondary:!0,onClick:()=>{T.show=!T.show}},{icon:()=>d("div",{class:"i-tabler:layout-sidebar-right-inactive size-4"},null)})]),d("div",{class:"flex gap-2 justify-between lg:justify-end"},[d("div",{class:"flex gap-2 items-center"},[C.value.length>t.filterNumber&&d(me,{iconPlacement:"right",onClick:()=>{O.show=!O.show}},{default:()=>a("components.button.filter"),icon:()=>d("div",{class:["i-tabler:chevrons-down size-4 transition-all"]},null)}),e?.tools?.(),d(T4,{options:$.value,value:m.value,onUpdateValue:j=>{f(j)},multiple:!0,placement:"bottom-start",trigger:"click"},{default:()=>[d(Ct,null,{trigger:()=>d(me,{secondary:!0,"icon-placement":"right"},{icon:()=>d("div",{class:"i-tabler:columns size-4"},null)}),default:()=>a("components.list.columnSetting")})]}),L.value.export&&d(Ct,null,{trigger:()=>d(me,{secondary:!0,loading:y.value,onClick:_},{icon:()=>d("div",{class:"i-tabler:database-export size-4"},null)}),default:()=>a("components.button.export")}),L.value.import&&d(Ct,null,{trigger:()=>d(me,{secondary:!0,loading:w.value,onClick:E},{icon:()=>d("div",{class:"i-tabler:database-import size-4"},null)}),default:()=>a("components.button.import")}),L.value.refresh&&d(Ct,null,{trigger:()=>d(me,{secondary:!0,onClick:b},{icon:()=>v.value?d(vs,{class:"size-4",type:"circle",percentage:g.value*10,strokeWidth:20,color:"rgba(var(--ui-color-primary))"},{default:()=>[d("span",{class:"text-8px"},[g.value])]}):d("div",{class:"i-tabler:refresh size-4"},null)}),default:()=>a("components.button.autoRefresh")})]),d("div",{class:"flex gap-2 justify-end"},[e.actions?.(),t.actions?.length>0&&s({type:A.value<1024?"dropdown":"button",items:t.actions})])])]),e?.header?.(),d("div",{class:"flex-1 min-h-0"},[e?.default?.({...l,width:D.value})]),d("div",{class:"flex justify-between"},[d("div",null,[e?.bottom?.()]),d("div",null,[t.pagination&&d(dh,yt(u.value,{simple:A.value<768}),{prefix:()=>d("div",null,[a("components.list.total",{total:l.total.value||0})])})])]),d(vf,{isLoading:l.isBatching.value,onBatch:l.onBatch,selecteds:h.value.checkedRowKeys,number:h.value.checkedRowKeys?.length||0||0,group:[[{icon:"i-tabler:x",onClick:()=>{p?.([])}}],[{label:a("components.button.export"),icon:"i-tabler:file-export",loading:x.value,onClick:k},...t.batchOptions||[]]]},null),d(hh,{draggable:!0,class:"bg-white rounded dark:shadow-gray-950/80  dark:bg-gray-800/60 backdrop-blur min-w-110",show:O.show,onUpdateShow:j=>O.show=j},{default:({draggableClass:j})=>{let H;return d(Zs,{title:a("components.button.filter"),handle:j,onClose:()=>O.show=!1},{default:()=>[d(Pv,{showLabel:!0,labelPlacement:"top"},KK(H=Oe(M))?H:{default:()=>[H]})]})}}),d(ms,{show:S.show,onUpdateShow:j=>S.show=j,autoFocus:!1,placement:"left"},{default:()=>[d(Ta,{title:t.sideLeftTitle||a("components.button.sideLeft"),onClose:()=>S.show=!1,scrollbar:!1},{default:()=>[e?.sideLeft?.()]})]}),d(ms,{show:T.show,onUpdateShow:j=>T.show=j,autoFocus:!1,placement:"right"},{default:()=>[d(Ta,{title:t.sideRightTitle||a("components.button.sideRight"),onClose:()=>T.show=!1,scrollbar:!1},{default:()=>[e?.sideRight?.()]})]})])})}}),N6=X({name:"DuxCardPage",props:{colWidth:{type:Number,default:320},rows:{type:Number,default:4},maxRows:{type:Number,default:10},sideLeftTitle:{type:String,default:""},sideRightTitle:{type:String,default:""}},extends:Ds,slots:Object,setup(t,{slots:e,expose:n}){const r=re(),o=re(),{width:i}=g4(r),{width:a}=uh(),s=z(()=>t.colWidth||320),l=(h=0)=>{const f=h||a.value||1024,p=t.colWidth||320,m=t.rows||4,v=t.maxRows||10,g=.25*16*3,b=Math.max(1,Math.floor((f+g)/(p+g))),y=Math.floor((1920+g)/(p+g))*m,x=Math.ceil(y/b),w=Math.min(Math.max(x,m),v);return b*w},c=be(t.pagination&&typeof t.pagination=="object"?t.pagination:{page:1,pageSize:l()});G2([i],()=>{if(t.pagination&&typeof t.pagination=="object")return;const h=l(i.value);h!==c.value.pageSize&&(c.value.pageSize=h,c.value.page=1)},{debounce:300});const u=z(()=>{const{maxRows:h,rows:f,colWidth:p,...m}=t;return{...m,pagination:c.value}});return n({list:o}),()=>d(Ds,yt({ref:o},u.value),{default:h=>d("div",{class:"grid gap-3",style:{"grid-template-columns":`repeat(auto-fit, minmax(${s.value}px, 1fr))`}},[h.list.value.map(f=>e?.default?.({item:f,isChecked:h.isChecked,toggleChecked:h.toggleChecked}))]),actions:e.actions,tools:e.tools,bottom:e.bottom,sideLeft:e.sideLeft,sideRight:e.sideRight})}}),j6=X({name:"DuxListPage",props:{sideLeftTitle:{type:String,default:""},sideRightTitle:{type:String,default:""}},extends:Ds,slots:Object,setup(t,{slots:e,expose:n}){const r=re(),o=z(()=>{const{...i}=t;return{...i}});return n({list:r}),()=>d(Ds,yt({ref:r},o.value),{default:i=>d("div",{class:"flex flex-col gap-3"},[i.list.value.map(a=>e?.default?.({item:a,isChecked:i.isChecked,toggleChecked:i.toggleChecked}))]),actions:e.actions,tools:e.tools,bottom:e.bottom,sideLeft:e.sideLeft,sideRight:e.sideRight})}}),B6=X({name:"DuxPanelAlert",props:{type:{type:String,default:"default"},title:{type:String,default:""},description:{type:String,default:""}},setup(t,{slots:e}){const n=z(()=>{switch(t.type){case"error":return"to-error/20";case"warning":return"to-warning/20";case"info":return"to-info/20";case"success":return"to-success/20";default:return"to-gray/20"}});return()=>d("div",{class:`relative flex rounded-lg ring ring-muted bg-linear-to-br from-transparent ${n.value}`},[d("div",{class:"relative flex flex-col flex-1 lg:grid gap-x-8 gap-y-4 p-4 sm:p-6"},[d("div",{class:"flex flex-col flex-1 items-start"},[d("div",{class:"flex-1"},[d("div",{class:"text-base text-pretty text-highlighted"},[e.title?.()||t.title]),d("div",{class:"text-sm text-pretty text-muted mt-1"},[e.description?.()||t.description])]),e.actions&&d("div",{class:"pt-4 mt-auto"},[e.actions?.()])])])])}}),z6=X({name:"DuxPanelCard",props:{title:{type:String,default:""},description:{type:String,default:""},padding:{type:String},bordered:{type:Boolean,default:!0}},setup(t,{slots:e}){return()=>d("div",{class:"flex flex-col gap-4"},[d("div",{class:"flex items-center px-2"},[d("div",{class:"flex-1 flex flex-col"},[d("div",{class:"text-base"},[t.title]),t.description&&d("div",{class:"text-sm text-muted"},[t.description])]),d("div",{class:"flex-none flex items-center"},[e.actions?.()])]),d(In,{size:t.padding,shadow:!1,bordered:t.bordered},{default:()=>[e.default?.()]})])}}),U6=X({name:"DuxCollapsePanel",props:{title:String,desc:String,defaultShow:Boolean,highlight:Boolean},setup(t,{slots:e}){const n=re(!!t.defaultShow);return()=>d("div",{class:rt(["border rounded-sm",t.highlight?"border-primary":"border-muted"])},[d("div",{class:rt(["px-4 py-3 flex justify-between items-center",t.highlight?"bg-primary/10":"bg-gray/5"])},[d("div",{class:"flex gap-2 items-start"},[d("div",{class:"pt-0.5"},[e.suffix?.()]),d("div",{class:"flex flex-col"},[d("div",{class:"font-medium text-base"},[t?.title]),t?.desc&&d("div",{class:"text-muted"},[t.desc])])]),d("div",{class:rt(["p-2 rounded-full text-primary cursor-pointer",t.highlight?"bg-primary/10":"bg-gray/5"]),onClick:()=>n.value=!n.value},[d("div",{class:rt(["i-tabler:arrow-down size-4 transition-all",n.value?"":"rotate-180"])},null)])]),d("div",{class:rt("transition-all overflow-hidden",{"max-h-0":!n.value,"max-h-500":n.value})},[d("div",{class:"p-4"},[e.default?.()])])])}});function H6(t={}){const e=re(null),n=re(null),r=re({width:t.width||750,height:t.height||1e3,backgroundColor:t.backgroundColor||"#ffffff",backgroundImage:t.backgroundImage||"",elements:[]}),o=re([]),i=re(!1),a=re(1),s=re(0),l=re(0);let c=null,u=()=>{},h=0;const f=()=>`element_${++h}`,p=()=>{i.value||(i.value=!0,Lt(()=>{u(JSON.stringify(r.value)),i.value=!1}))},m=()=>{if(!e.value)return;const F=e.value.getObjects(),I=[];F.forEach(G=>{const oe=G.elementId;if(!oe)return;const ue=r.value.elements.find(se=>se.id===oe);if(!ue)return;const he=Ka(ue.type);if(!he)return;const Q=he.getPropsFromFabricObject(G);I.push({...ue,...Q,id:ue.id,type:ue.type})}),r.value.elements=I},v=m4(()=>{m(),p()},100),g=()=>{if(!e.value)return;const F=e.value.getActiveObjects(),I=e.value.getActiveObject();F.length>0?o.value=[...F]:I?o.value=[I]:o.value=[]},b=()=>{o.value=[]},y=F=>{if(!F.target)return;const I=F.target,G=I.elementId,oe=r.value.elements.find(Q=>Q.id===G)?.type,ue=I.scaleX||1,he=I.scaleY||1;if(ue!==1||he!==1){if(oe==="circle"){const Q=Math.max(ue,he),se=Math.round((I.radius||50)*Q);I.set({radius:se,scaleX:1,scaleY:1})}else if(oe!=="image"){const Q=Math.round(I.width*ue),se=Math.round(I.height*he);I.set({width:Q,height:se,scaleX:1,scaleY:1})}I.setCoords()}v()},x=F=>{const I=F.target;if(!I)return;const G=I.elementId;if(!G)return;const oe=r.value.elements.find(ue=>ue.id===G);if(oe){if(oe.type==="circle"){const ue=Math.max(I.scaleX||1,I.scaleY||1);I.set({scaleX:ue,scaleY:ue}),I.setCoords()}if(oe.type==="rect"){const ue=I.__corner;if(ue&&["tl","tr","bl","br"].includes(ue)){const he=Math.max(Math.abs(I.scaleX||1),Math.abs(I.scaleY||1));I.set({scaleX:I.scaleX>=0?he:-he,scaleY:I.scaleY>=0?he:-he}),I.setCoords()}}if(oe.type==="image"){const ue=I.__corner;if(ue&&["tl","tr","bl","br"].includes(ue)){const he=Math.max(Math.abs(I.scaleX||1),Math.abs(I.scaleY||1));I.set({scaleX:I.scaleX>=0?he:-he,scaleY:I.scaleY>=0?he:-he}),I.setCoords()}}}},w=()=>{e.value&&(e.value.on("selection:created",g),e.value.on("selection:updated",g),e.value.on("selection:cleared",b),e.value.on("mouse:down",()=>setTimeout(g,10)),e.value.on("mouse:up",()=>setTimeout(g,10)),e.value.on("object:modified",y),e.value.on("object:scaling",x),e.value.on("path:created",v),e.value.on("object:moving",v),e.value.on("object:rotating",v),e.value.on("object:skewing",v),e.value.on("object:added",v),e.value.on("object:removed",v),e.value.on("custom:text:changed",F=>{F.target&&F.newText!==void 0&&F.target.elementId&&v()}))},_=()=>{if(!e.value)return;const F=a.value||1;e.value.setZoom(F),e.value.setDimensions({width:r.value.width*F,height:r.value.height*F}),e.value.backgroundColor=r.value.backgroundColor,e.value.renderAll(),e.value.getObjects().forEach(I=>I.setCoords())},k=()=>{if(!c)return;const F=c.getBoundingClientRect();s.value=F.width-40,l.value=F.height-40;const I=s.value/r.value.width,G=l.value/r.value.height,oe=Math.min(I,G,1);a.value=oe,e.value&&(e.value.setZoom(oe),e.value.setDimensions({width:r.value.width*oe,height:r.value.height*oe}),e.value.renderAll(),e.value.getObjects().forEach(ue=>ue.setCoords()))},E=F=>{c=F,Lt(k);const I=new ResizeObserver(k);return I.observe(F),()=>I.disconnect()},$=(F,I)=>{const G=r.value.width,oe=r.value.height,ue=F.getBoundingRect();switch(I){case"center-horizontal":F.set("left",Math.round(F.left+(G/2-ue.left-ue.width/2)));break;case"center-vertical":F.set("top",Math.round(F.top+(oe/2-ue.top-ue.height/2)));break;case"center-both":F.set({left:Math.round(F.left+(G/2-ue.left-ue.width/2)),top:Math.round(F.top+(oe/2-ue.top-ue.height/2))});break;case"move-up":e.value?.bringObjectForward(F);break;case"move-down":e.value?.sendObjectBackwards(F);break;case"move-to-front":e.value?.bringObjectToFront(F);break;case"move-to-back":e.value?.sendObjectToBack(F);break}F.setCoords(),e.value?.renderAll()},A=F=>{if(F.length<3)return;const I=[...F].sort((Le,we)=>Le.getBoundingRect().left-we.getBoundingRect().left),G=I[0].getBoundingRect(),oe=I[I.length-1].getBoundingRect(),ue=oe.left+oe.width-G.left,he=I.reduce((Le,we)=>Le+we.getBoundingRect().width,0),Q=(ue-he)/(I.length-1);let se=G.left+G.width+Q;for(let Le=1;Le<I.length-1;Le++){const we=I[Le],pt=we.getBoundingRect();we.set("left",Math.round(we.left+(se-pt.left))),se+=pt.width+Q}},D=F=>{if(F.length<3)return;const I=[...F].sort((Le,we)=>Le.getBoundingRect().top-we.getBoundingRect().top),G=I[0].getBoundingRect(),oe=I[I.length-1].getBoundingRect(),ue=oe.top+oe.height-G.top,he=I.reduce((Le,we)=>Le+we.getBoundingRect().height,0),Q=(ue-he)/(I.length-1);let se=G.top+G.height+Q;for(let Le=1;Le<I.length-1;Le++){const we=I[Le],pt=we.getBoundingRect();we.set("top",Math.round(we.top+(se-pt.top))),se+=pt.height+Q}},O=(F,I)=>{if(F.length<2)return;const G=F.map(we=>we.getBoundingRect()),oe=Math.min(...G.map(we=>we.left)),ue=Math.max(...G.map(we=>we.left+we.width)),he=Math.min(...G.map(we=>we.top)),Q=Math.max(...G.map(we=>we.top+we.height)),se=(oe+ue)/2,Le=(he+Q)/2;switch(I){case"left":F.forEach(we=>{const pt=we.getBoundingRect();we.set("left",Math.round(we.left+(oe-pt.left)))});break;case"right":F.forEach(we=>{const pt=we.getBoundingRect();we.set("left",Math.round(we.left+(ue-pt.left-pt.width)))});break;case"top":F.forEach(we=>{const pt=we.getBoundingRect();we.set("top",Math.round(we.top+(he-pt.top)))});break;case"bottom":F.forEach(we=>{const pt=we.getBoundingRect();we.set("top",Math.round(we.top+(Q-pt.top-pt.height)))});break;case"center-horizontal":F.forEach(we=>{const pt=we.getBoundingRect(),yr=pt.left+pt.width/2;we.set("left",Math.round(we.left+(se-yr)))});break;case"center-vertical":F.forEach(we=>{const pt=we.getBoundingRect(),yr=pt.top+pt.height/2;we.set("top",Math.round(we.top+(Le-yr)))});break;case"distribute-horizontal":A(F);break;case"distribute-vertical":D(F);break}F.forEach(we=>we.setCoords()),e.value?.renderAll()},S=(F,I)=>(n.value=F,e.value=Jr(new Lm(F,{selection:!0,preserveObjectStacking:!0,uniformScaling:!1,uniScaleKey:"shiftKey",altActionKey:"altKey"})),w(),_(),I&&E(I),e.value),T=async(F,I={})=>{const G=Ka(F);if(!G||!e.value)return;const oe=f(),ue=r.value.width/2,he=r.value.height/2,Q={...G.defaultProps,left:Math.round(ue-(G.defaultProps.width||100)/2),top:Math.round(he-(G.defaultProps.height||50)/2),...I,id:oe},se=await G.createFabricObject(Q);if(!se)return;se.elementId=oe,e.value.add(se),se.setCoords(),e.value.setActiveObject(se),e.value.renderAll();const Le=Q;return r.value.elements.push(Le),oe},C=()=>{!e.value||o.value.length===0||(e.value.getActiveObjects().forEach(F=>{const I=F.elementId;if(I){const G=r.value.elements.findIndex(oe=>oe.id===I);G!==-1&&r.value.elements.splice(G,1)}e.value?.remove(F)}),e.value.discardActiveObject(),o.value=[],e.value.renderAll())},M=()=>{e.value?.discardActiveObject(),e.value?.renderAll()},R=(F,I,G)=>{const oe=r.value.elements.findIndex(se=>se.id===F);if(oe===-1)return;const ue=r.value.elements[oe],he=Ka(ue.type);if(!he)return;r.value.elements[oe]={...ue,[I]:G};const Q=e.value?.getObjects().find(se=>se.elementId===F);Q&&he.onPropsChange&&(he.onPropsChange(r.value.elements[oe],Q),Q.setCoords(),e.value?.renderAll())},L=z(()=>{if(o.value.length!==1||r.value.elements.length<=1)return!1;const F=o.value[0].elementId;if(!F)return!1;const I=r.value.elements.findIndex(G=>G.id===F);return I!==-1&&I<r.value.elements.length-1}),P=z(()=>{if(o.value.length!==1||r.value.elements.length<=1)return!1;const F=o.value[0].elementId;return F?r.value.elements.findIndex(I=>I.id===F)>0:!1}),N=z(()=>{if(o.value.length!==1||r.value.elements.length<=1)return!1;const F=o.value[0].elementId;if(!F)return!1;const I=r.value.elements.findIndex(G=>G.id===F);return I!==-1&&I<r.value.elements.length-1}),j=z(()=>{if(o.value.length!==1||r.value.elements.length<=1)return!1;const F=o.value[0].elementId;return F?r.value.elements.findIndex(I=>I.id===F)>0:!1}),H=F=>{const I=e.value?.getActiveObjects()||[];if(I.length===1){if($(I[0],F),["move-up","move-down","move-to-front","move-to-back"].includes(F)){const G=I[0].elementId;if(G){const oe=r.value.elements.findIndex(ue=>ue.id===G);if(oe!==-1){const ue=r.value.elements[oe];switch(r.value.elements.splice(oe,1),F){case"move-up":r.value.elements.splice(Math.min(oe+1,r.value.elements.length),0,ue);break;case"move-down":r.value.elements.splice(Math.max(oe-1,0),0,ue);break;case"move-to-front":r.value.elements.push(ue);break;case"move-to-back":r.value.elements.unshift(ue);break}}}}}else I.length>1&&O(I,F)},B=()=>{e.value&&(e.value.clear(),r.value.elements=[],o.value=[])},te=async F=>{if(F)try{const I=JSON.parse(F);if(r.value={width:I.width||750,height:I.height||1e3,backgroundColor:I.backgroundColor||"#ffffff",backgroundImage:I.backgroundImage||"",elements:I.elements||[]},e.value){e.value.clear(),e.value.setDimensions({width:r.value.width,height:r.value.height}),e.value.backgroundColor=r.value.backgroundColor,r.value.backgroundImage&&Y(r.value.backgroundImage);const G=r.value.elements.map(async oe=>{const ue=Ka(oe.type);if(!ue)return;const he=await ue.createFabricObject(oe);he&&(he.elementId=oe.id,e.value?.add(he))});Promise.all(G).then(()=>{_(),e.value?.renderAll(),p()})}}catch(I){console.error("Failed to load data:",I)}},U=F=>{u=F?.onDataChange||(()=>{})},ie=()=>{e.value&&(e.value.dispose(),e.value=null)},V=z(()=>o.value.length===1?o.value[0]:null),de=z(()=>{if(!V.value)return null;const F=V.value.elementId;return r.value.elements.find(I=>I.id===F)||null}),ve=z(()=>de.value?Ka(de.value.type):null),ge=z(()=>o.value.length>1),ke=F=>{if(de.value)return de.value[F]},Ce=z(()=>o.value.map(F=>{const I=F.elementId;return r.value.elements.find(G=>G.id===I)}).filter(F=>!!F)),Ae=(F,I)=>{r.value.width=F,r.value.height=I,e.value&&(e.value.setDimensions({width:F,height:I}),k(),e.value.renderAll()),p()},Me=F=>{r.value.backgroundColor=F,e.value&&(e.value.backgroundColor=F,e.value.renderAll()),p()},Y=F=>{!e.value||!F||qn.fromURL(F,{crossOrigin:"anonymous"}).then(I=>{e.value&&(e.value.backgroundImage=I,e.value.renderAll())}).catch(I=>{console.error("Failed to load background image:",I)})},W=F=>{r.value.backgroundImage=F,F?Y(F):e.value&&(e.value.backgroundImage=void 0,e.value.renderAll()),p()},Z=()=>{m(),p()},K=()=>{m();const F=JSON.stringify(r.value,null,2),I=new Blob([F],{type:"application/json"}),G=URL.createObjectURL(I),oe=document.createElement("a");oe.href=G,oe.download=`poster-${Date.now()}.json`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(G)};return pe(r,()=>{v()},{deep:!0}),{initCanvas:S,destroy:ie,setCallbacks:U,addElement:T,deleteSelectedElements:C,updateElementProperty:R,alignElements:H,canMoveUp:L,canMoveDown:P,canMoveToFront:N,canMoveToBack:j,clearCanvas:B,loadData:te,updateData:p,canvas:e,canvasData:r,selectedElements:o,canvasScale:a,currentElement:V,currentElementData:de,currentElementConfig:ve,hasMultipleSelection:ge,clearSelection:M,updateCanvasSize:_,setupAutoResize:E,getSelectedElementProperty:ke,selectedElementsData:Ce,syncAllFabricObjectsToData:m,updateCanvasSettings:Ae,updateCanvasBackground:Me,updateCanvasBackgroundImage:W,saveData:Z,exportJson:K}}const ZK=X({name:"CanvasRuler",props:{canvasWidth:{type:Number,required:!0},canvasHeight:{type:Number,required:!0},canvasScale:{type:Number,required:!0},rulerSize:{type:Number,default:20}},setup(t){const e=(a,s)=>{const l=[];let c=10;s<.5?c=50:s<1&&(c=25);for(let u=0;u<=a;u+=c){const h=u*s,f=u%(c*5)===0;l.push({position:h,value:u,isMajor:f})}return l},n=z(()=>e(t.canvasWidth,t.canvasScale)),r=z(()=>e(t.canvasHeight,t.canvasScale)),o=z(()=>t.canvasWidth*t.canvasScale),i=z(()=>t.canvasHeight*t.canvasScale);return()=>d("div",{class:"absolute inset-0 pointer-events-none"},[d("div",{class:"absolute flex justify-center left-6 top-0 right-0 bg-default",style:{height:`${t.rulerSize}px`}},[d("div",{class:"absolute top-0 bg-default",style:{left:"50%",transform:"translateX(-50%)",width:`${o.value}px`,height:`${t.rulerSize}px`}},[d("svg",{width:o.value,height:t.rulerSize,class:"absolute top-0 left-0"},[n.value.map((a,s)=>d("g",{key:s},[d("line",{x1:a.position,y1:a.isMajor?0:t.rulerSize/2,x2:a.position,y2:t.rulerSize,stroke:"rgba(0,0,0, 0.1)","stroke-width":"1"},null),a.isMajor&&d("text",{x:a.position+2,y:t.rulerSize-6,"font-size":"10",stroke:"rgba(0,0,0, 0.1)","font-family":"monospace",fill:"rgb(var(--ui-text-muted))"},[a.value])]))])])]),d("div",{class:"absolute flex justify-center items-center flex-col top-6 left-0 bottom-0 bg-default border-r border-muted",style:{width:`${t.rulerSize}px`}},[d("div",{class:"absolute left-0 bg-default",style:{top:"50%",transform:"translateY(-50%)",width:`${t.rulerSize}px`,height:`${i.value}px`}},[d("svg",{width:t.rulerSize,height:i.value,class:"absolute top-0 left-0"},[r.value.map((a,s)=>d("g",{key:s},[d("line",{x1:a.isMajor?0:t.rulerSize/2,y1:a.position,x2:t.rulerSize,y2:a.position,stroke:"rgba(0,0,0, 0.1)","stroke-width":"1"},null),a.isMajor&&d("text",{x:t.rulerSize-6,y:a.position-6,"font-size":"10",fill:"rgb(var(--ui-text-muted))","font-family":"monospace","text-anchor":"end",transform:`rotate(-90, ${t.rulerSize-2}, ${a.position-2})`},[a.value])]))])])]),d("div",{class:"absolute size-6 bg-default top-0 left-0"},null)])}}),JK=X({name:"LeftToolbar",props:{onAddElement:{type:Function,required:!0},canvasWidth:{type:Number,required:!0},canvasHeight:{type:Number,required:!0}},setup(t){return()=>d("div",{class:"p-4 bg-default border-r border-default flex flex-col gap-6"},[S5.map(e=>d(Ct,null,{default:()=>e.name,trigger:()=>d(me,{key:e.type,text:!0,size:"large",onClick:()=>t.onAddElement(e.type)},{icon:()=>d("div",{class:e.icon},null)})}))])}}),Qp=X({name:"Panel",props:{title:{type:String,required:!0}},setup(t,{slots:e}){return()=>d("div",{class:"flex flex-col h-full"},[d("div",{class:"font-medium p-3 border-b border-default"},[t.title]),d("div",{class:" flex-1 min-h-0"},[d(rr,null,{default:()=>[d("div",{class:"p-3 flex flex-col gap-2"},[e.default?.()])]})]),d("div",{class:"border-t border-default p-3 flex flex-col gap-2"},[e.footer?.()])])}}),kr=X({name:"PanelItem",props:{title:{type:String,required:!0}},setup(t,{slots:e}){return()=>d("div",{class:"flex flex-col gap-1"},[d("div",{class:"text-muted text-sm"},[t.title]),d("div",null,[e.default?.()])])}});function QK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const eZ=X({name:"RightPanel",props:{hasMultipleSelection:{type:Boolean,required:!0},selectedElementsCount:{type:Number,required:!0},currentElementData:{type:Object},currentElementConfig:{type:Object},canMoveUp:{type:Boolean,required:!0},canMoveDown:{type:Boolean,required:!0},canMoveToFront:{type:Boolean,required:!0},canMoveToBack:{type:Boolean,required:!0},canvasWidth:{type:Number,required:!0},canvasHeight:{type:Number,required:!0},canvasBackgroundColor:{type:String,required:!0},canvasBackgroundImage:{type:String},onDeleteSelectedElements:{type:Function,required:!0},onAlignElements:{type:Function,required:!0},onUpdateElementProperty:{type:Function,required:!0},onUpdateCanvasSize:{type:Function,required:!0},onUpdateCanvasBackground:{type:Function,required:!0},onUpdateCanvasBackgroundImage:{type:Function,required:!0},onSaveData:{type:Function,required:!0},onExportJson:{type:Function,required:!0},onRenderToolbarControl:{type:Function,required:!0},onClearCanvas:{type:Function,required:!0},canvasScale:{type:Number,required:!0}},setup(t){const e=()=>{if(t.hasMultipleSelection)return d(Qp,{title:"多选操作"},{default:()=>d(bt,null,[d(kr,{title:"对齐"},{default:()=>[d("div",{class:"grid grid-cols-4 gap-2"},[d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("left"),renderIcon:()=>d("div",{class:"i-tabler:layout-align-left"},null)},null),default:()=>"左对齐"}),d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("right"),renderIcon:()=>d("div",{class:"i-tabler:layout-align-right"},null)},null),default:()=>"右对齐"}),d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("top"),renderIcon:()=>d("div",{class:"i-tabler:layout-align-top"},null)},null),default:()=>"顶部对齐"}),d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("bottom"),renderIcon:()=>d("div",{class:"i-tabler:layout-align-bottom"},null)},null),default:()=>"底部对齐"})])]}),d(kr,{title:"居中"},{default:()=>[d("div",{class:"grid grid-cols-4 gap-2"},[d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("center-horizontal"),renderIcon:()=>d("div",{class:"i-tabler:layout-align-center"},null)},null),default:()=>"水平居中"}),d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("center-vertical"),renderIcon:()=>d("div",{class:"i-tabler:layout-align-middle"},null)},null),default:()=>"垂直居中"}),d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("distribute-horizontal"),renderIcon:()=>d("div",{class:"i-tabler:layout-distribute-horizontal"},null)},null),default:()=>"水平分布"}),d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("distribute-vertical"),renderIcon:()=>d("div",{class:"i-tabler:layout-distribute-vertical"},null)},null),default:()=>"垂直分布"})])]})]),footer:()=>d(bt,null,[d(me,{block:!0,onClick:t.onDeleteSelectedElements,type:"error"},{icon:()=>d("div",{class:"i-tabler:trash"},null),default:()=>"删除"})])});if(t.currentElementData&&t.currentElementConfig){const n=t.currentElementConfig.getToolbarControls(t.currentElementData);return d(Qp,{title:"元素设置"},{default:()=>d(bt,null,[n.map(r=>{let o;return d(kr,{key:r.key,title:r.label},QK(o=t.onRenderToolbarControl(r))?o:{default:()=>[o]})}),d(kr,{title:"X"},{default:()=>[d(Ut,{value:t.currentElementData?.left,"onUpdate:value":r=>t.onUpdateElementProperty(t.currentElementData.id,"left",r||0)},null)]}),d(kr,{title:"Y"},{default:()=>[d(Ut,{value:t.currentElementData?.top,"onUpdate:value":r=>t.onUpdateElementProperty(t.currentElementData.id,"top",r||0)},null)]}),d(kr,{title:"角度"},{default:()=>[d(Ut,{value:t.currentElementData?.angle,min:-180,max:180,"onUpdate:value":r=>t.onUpdateElementProperty(t.currentElementData.id,"angle",r||0)},null)]}),d(kr,{title:"对齐"},{default:()=>[d("div",{class:"grid grid-cols-3 gap-2"},[d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("center-horizontal"),renderIcon:()=>d("div",{class:"i-tabler:layout-align-center"},null)},null),default:()=>"水平居中"}),d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("center-vertical"),renderIcon:()=>d("div",{class:"i-tabler:layout-align-middle"},null)},null),default:()=>"垂直居中"}),d(Ct,null,{trigger:()=>d(me,{onClick:()=>t.onAlignElements("center-both"),renderIcon:()=>d("div",{class:"i-tabler:layout-distribute-horizontal"},null)},null),default:()=>"居中"})])]}),d(kr,{title:"层级"},{default:()=>[d("div",{class:"grid grid-cols-4 gap-2"},[d(Ct,null,{trigger:()=>d(me,{disabled:!t.canMoveUp,onClick:()=>t.onAlignElements("move-up"),renderIcon:()=>d("div",{class:"i-tabler:arrow-narrow-up"},null)},null),default:()=>"上移一层"}),d(Ct,null,{trigger:()=>d(me,{disabled:!t.canMoveDown,onClick:()=>t.onAlignElements("move-down"),renderIcon:()=>d("div",{class:"i-tabler:arrow-narrow-down"},null)},null),default:()=>"下移一层"}),d(Ct,null,{trigger:()=>d(me,{disabled:!t.canMoveToFront,onClick:()=>t.onAlignElements("move-to-front"),renderIcon:()=>d("div",{class:"i-tabler:arrow-bar-to-up"},null)},null),default:()=>"移到最前"}),d(Ct,null,{trigger:()=>d(me,{disabled:!t.canMoveToBack,onClick:()=>t.onAlignElements("move-to-back"),renderIcon:()=>d("div",{class:"i-tabler:arrow-bar-to-down"},null)},null),default:()=>"移到最后"})])]})]),footer:()=>d(bt,null,[d(me,{block:!0,onClick:t.onDeleteSelectedElements,type:"error"},{icon:()=>d("div",{class:"i-tabler:trash"},null),default:()=>"删除"})])})}else return d(Qp,{title:"画布设置"},{default:()=>d(bt,null,[d(kr,{title:"宽度"},{default:()=>[d(Ut,{value:t.canvasWidth,min:100,max:2e3,"onUpdate:value":n=>t.onUpdateCanvasSize(n||800,t.canvasHeight)},null)]}),d(kr,{title:"高度"},{default:()=>[d(Ut,{value:t.canvasHeight,min:100,max:2e3,"onUpdate:value":n=>t.onUpdateCanvasSize(t.canvasWidth,n||600)},null)]}),d(kr,{title:"背景颜色"},{default:()=>[d(Gm,{value:t.canvasBackgroundColor,"onUpdate:value":n=>t.onUpdateCanvasBackground(n)},null)]}),d(kr,{title:"背景图片"},{default:()=>[d(Oc,{value:t.canvasBackgroundImage||"",onUpdateValue:n=>t.onUpdateCanvasBackgroundImage(typeof n=="string"?n:Array.isArray(n)&&n[0]||"")},null)]})]),footer:()=>d(bt,null,[d(me,{type:"primary",block:!0,onClick:t.onSaveData},{default:()=>[Dt("保存")]}),d(me,{block:!0,onClick:t.onExportJson},{default:()=>[Dt("导出 JSON")]}),d(me,{block:!0,onClick:t.onClearCanvas},{default:()=>[Dt("清空画布")]})])})};return()=>d("div",{class:"w-60 bg-default border-l border-default"},[e()])}}),tZ=X({name:"DuxPosterEditor",props:{data:{type:String,default:""},width:{type:Number,default:750},height:{type:Number,default:1e3},backgroundColor:{type:String,default:"#ffffff"},backgroundImage:{type:String,default:""},onDataUpdate:Function,onSave:Function},setup(t){const e=re(),n=re(),{initCanvas:r,destroy:o,setCallbacks:i,addElement:a,deleteSelectedElements:s,updateElementProperty:l,alignElements:c,canMoveUp:u,canMoveDown:h,canMoveToFront:f,canMoveToBack:p,clearCanvas:m,loadData:v,canvasData:g,selectedElements:b,canvasScale:y,currentElementData:x,currentElementConfig:w,hasMultipleSelection:_,updateCanvasSettings:k,updateCanvasBackground:E,updateCanvasBackgroundImage:$,saveData:A,exportJson:D}=H6({width:t.width,height:t.height,backgroundColor:t.backgroundColor,backgroundImage:t.backgroundImage});i({onDataChange:t?.onDataUpdate});const O=S=>{const T=C=>{x.value&&l(x.value.id,S.key,C)};switch(S.type){case"text":return d(ze,{value:S.value,placeholder:S.options?.placeholder,"onUpdate:value":T},null);case"number":return d(Ut,{value:S.value,min:S.options?.min,max:S.options?.max,step:S.options?.step,"onUpdate:value":T},null);case"color":return d(Gm,{value:S.value,"onUpdate:value":T},null);case"select":return d(ya,{value:S.value,options:S.options?.choices||[],"onUpdate:value":T},null);case"switch":return d(Ze,{value:S.value,"onUpdate:value":T},null);case"slider":return d(Q2,{value:S.value,min:S.options?.min,max:S.options?.max,step:S.options?.step,"onUpdate:value":T},null);case"image":return d(Oc,{value:S.value,onUpdateValue:T},null);default:return null}};return pe(()=>t.data,S=>{S&&v(S)},{immediate:!1}),vn(()=>{e.value&&n.value&&(r(e.value,n.value),v(t.data))}),Ps(()=>{o()}),()=>d(In,{class:"h-full",shadow:!0},{default:()=>[d("div",{class:"h-full flex"},[d(JK,{onAddElement:a,canvasWidth:g.value.width,canvasHeight:g.value.height},null),d("div",{ref:n,class:"flex-1 p-6  pl-12 pt-12 flex items-center justify-center overflow-hidden relative",style:"background: linear-gradient(45deg, rgba(0,0,0, 0.1) 25%, transparent 25%), linear-gradient(-45deg, rgba(0,0,0, 0.1) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, rgba(0,0,0, 0.1) 75%), linear-gradient(-45deg, transparent 75%, rgba(0,0,0, 0.1) 75%); background-size: 20px 20px; background-position: 0 0, 0 10px, 10px -10px, -10px 0px;"},[d(ZK,{canvasScale:y.value,canvasWidth:g.value.width,canvasHeight:g.value.height},null),d("div",{class:"bg-default shadow-lg",style:"position: relative;"},[d("canvas",{ref:e,style:"display: block;"},null)])]),d(eZ,{onClearCanvas:m,hasMultipleSelection:_.value,selectedElementsCount:b.value.length,currentElementData:x.value||void 0,currentElementConfig:w.value||void 0,canMoveUp:u.value,canMoveDown:h.value,canMoveToFront:f.value,canMoveToBack:p.value,canvasWidth:g.value.width,canvasHeight:g.value.height,canvasBackgroundColor:g.value.backgroundColor,canvasBackgroundImage:g.value.backgroundImage,onDeleteSelectedElements:s,onAlignElements:S=>c(S),onUpdateElementProperty:l,onUpdateCanvasSize:(S,T)=>k(S,T),onUpdateCanvasBackground:E,onUpdateCanvasBackgroundImage:$,onSaveData:async()=>{await A(),await t?.onSave?.()},onExportJson:D,onRenderToolbarControl:O,canvasScale:y.value},null)])]})}}),W6=X({name:"DuxSelectCard",props:{options:{type:Array,default:()=>[]},value:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:void 0},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},minWidth:{type:String,default:"150px"},maxWidth:{type:String,default:"200px"},onUpdateValue:{type:Function,default:void 0}},emits:["update:value","change"],setup(t,{emit:e}){const n=Ue(t,"value",e,{passive:!0,defaultValue:t.defaultValue}),r=a=>{if(!t.disabled){if(t.multiple){const s=Array.isArray(n.value)?n.value:[];n.value=s.includes(a)?s.filter(l=>l!==a):[...s,a]}else n.value=a;t.onUpdateValue?.(n.value),e("update:value",n.value)}},o=a=>t.multiple?Array.isArray(n.value)&&n.value.includes(a):n.value===a,i=["grid gap-4","grid-cols-2",`lg:grid-cols-[repeat(auto-fit,minmax(${t.minWidth},${t.maxWidth}))]`];return()=>d("div",{class:i},[t.options.map(a=>d("div",{key:a.value,class:["relative cursor-pointer border rounded p-2.5 transition-all duration-200 hover:border-primary",{"border-primary bg-primary/10":o(a.value),"border-muted":!o(a.value),"opacity-50 cursor-not-allowed":a.disabled||t.disabled}],onClick:()=>!a.disabled&&r(a.value)},[o(a.value)&&d("div",{class:"absolute top-2 right-2 size-4 bg-primary rounded-full flex items-center justify-center"},[d("svg",{class:"size-3 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null)])]),d("div",{class:["flex gap-3 px-2 items-center",{"flex-col items-center text-center":!a.icon,"flex-row items-start text-left":a.icon}]},[a.icon&&d("div",{class:["flex items-center justify-center p-3 rounded-lg",`bg-${a.iconColor}/10`,`text-${a.iconColor}`]},[d("div",{class:`${a.icon} size-4`},null)]),d("div",{class:"flex flex-col flex-1"},[d("div",{class:["text-sm font-medium",{"text-primary":o(a.value),"text-default":!o(a.value)}]},[a.label]),a.description&&d("div",{class:["text-sm",{"text-primary":o(a.value),"text-muted":!o(a.value)}]},[a.description])])])]))])}}),Fv=X({name:"DuxStatsNumber",props:{title:{type:String,default:""},subtitle:{type:String,default:""},value:{type:[Number,String],default:0},change:{type:Number,default:0},changeType:{type:String,default:"up"}},setup(t){const e=o=>typeof o=="number"?o.toLocaleString():o,n=o=>o==="up"?"▲":o==="down"?"▼":"",r=o=>o==="up"?"text-success":o==="down"?"text-error":"text-muted";return()=>d("div",{class:"flex flex-col gap-1"},[d("div",{class:"flex items-baseline justify-between"},[d("h3",{class:"text-sm text-muted"},[t.title])]),d("div",{class:"text-2xl font-bold text-default"},[e(t.value)]),d("div",{class:"flex flex-row gap-2 items-center text-sm"},[t.subtitle&&d("span",{class:" text-muted"},[t.subtitle]),t.change!==void 0&&d("div",{class:["flex items-center gap-1",r(t.changeType)]},[d("span",{class:"text-xs"},[n(t.changeType)]),d("span",null,[Math.abs(t.change),Dt("%")])])])])}}),V6=X({name:"DuxStatsRealTime",props:{title:{type:String,default:""},subtitle:{type:String,default:""},cards:{type:Array,default:()=>[]},charts:{type:Array,default:()=>[]}},setup(t){const{t:e}=ye(),n=z(()=>t.title||e("components.stats.realTimeData")),r=z(()=>t.charts.length===1?t.charts.map(i=>({...i,class:"col-span-2",chartOption:{showXAxisLabel:!0,labels:i.labels,data:[{name:i.title,data:i.data}]}})):t.charts.map(i=>({...i,class:"col-span-1",chartOption:{showXAxisLabel:!0,labels:i.labels,data:[{name:i.title,data:i.data}]}}))),o=i=>typeof i=="number"?i.toLocaleString():i;return()=>d(In,{title:n.value},{headerExtra:()=>d("div",{class:"text-sm text-muted"},[t.subtitle]),default:()=>d(bt,null,[t.cards.length>0&&d("div",{class:"lg:h-26 bg-muted"},[d(rr,{xScrollable:!0},{default:()=>[d("div",{class:["grid grid-cols-2 whitespace-nowrap auto-cols-max","lg:grid-cols-[repeat(auto-fit,minmax(100px,1fr))]"]},[t.cards.map((i,a)=>d("div",{key:a,class:"text-center flex flex-col gap-1 py-6"},[d("div",{class:["text-2xl font-bold"]},[o(i.value)]),d("div",{class:"text-sm text-muted"},[i.label])]))])]})]),t.charts.length>0&&d("div",{class:["grid grid-cols-1","lg:grid-cols-[repeat(auto-fit,minmax(100px,1fr))]"]},[r.value.map((i,a)=>d("div",{key:a,class:["p-4 pb-0 flex gap-4"]},[d(Fv,{title:i.title,subtitle:i.subtitle,value:i.value||0,change:i.change,changeType:i.changeType},null),d("div",{class:"flex-1 min-w-0"},[d(xv,{type:"line",height:"100px",min:!0,option:i.chartOption},null)])]))])])})}}),Iv=X({name:"DuxListEmpty",props:{title:String,desc:String,bordered:Boolean},setup(t){const{t:e}=ye();return()=>d("div",{class:"flex flex-col items-center justify-center gap-2 h-full"},[d(Tc,{class:"max-h-120px"},null),d("div",{class:"text-lg text-default font-bold"},[t?.title||e("pages.empty.title")]),d("div",{class:"text-muted"},[t?.desc||e("pages.empty.desc")])])}}),nZ=X({name:"DuxTable",props:{path:{type:String,required:!0},filter:{type:Object},columns:{type:Array},pagination:{type:[Boolean,Object],default:!0}},extends:pd,setup(t,{expose:e}){const n=z(()=>{const{path:s,filter:l,columns:c,pagination:u,...h}=t;return h}),r=be(t.filter||{}),o=Sv({path:t.path,filters:r.value,columns:t.columns||[],pagination:t.pagination});e(o);const{width:i}=uh(),{t:a}=ye();return()=>d("div",{class:"flex flex-col gap-2"},[d(pd,yt(n.value,o.table.value,{class:"flex-1 min-h-0",minHeight:200,tableLayout:"fixed",flexHeight:!0,rowKey:s=>s.id,bordered:!1,renderCell:s=>s==null||s===""?"-":s}),{empty:()=>d(Iv,{bordered:!1},null)}),t.pagination&&d("div",{class:"flex justify-end"},[d(dh,yt(o.tablePagination.value,{simple:i.value<768}),{prefix:()=>d("div",null,[a("components.list.total",{total:o.total.value||0})])})])])}}),X6=X({name:"DuxTablePage",props:{tableProps:{type:Object}},extends:ih,slots:Object,setup(t,{slots:e,expose:n}){const r=re(),o=z(()=>{const{tableProps:i,...a}=t;return a});return n({table:r}),()=>d(ih,yt({ref:r},o.value),{default:i=>d(pd,yt(i.table.value,t.tableProps,{class:"h-full",minHeight:200,tableLayout:"fixed",flexHeight:!0,rowKey:a=>a.id,bordered:!1,scrollX:i.width,renderCell:a=>a==null||a===""?"-":a}),{empty:()=>d(Iv,{bordered:!1},null)}),bottom:e?.bottom,tools:e?.tools,actions:e?.actions,sideLeft:e?.sideLeft,sideRight:e?.sideRight,header:e?.header})}}),Y6=X({name:"DuxTreeFilter",props:{title:String,path:String,sortPath:String,params:Object,menus:Array,numField:String,iconField:String,treeOptions:Object,value:Array,defaultValue:Array,onUpdateValue:Function,draggable:Boolean,bordered:{type:Boolean,default:!1}},extends:hd,setup(t,{emit:e,slots:n}){const r=Ue(t,"value",e,{passive:!1,defaultValue:t.defaultValue}),o=be(t,"params",{}),i=be(t,"path",""),a=be(t,"sortPath",""),s=re(),l=re(0),c=re(0),u=re([]),h=re(),{t:f}=ye(),{options:p,loading:m,expanded:v}=fc({path:i.value,params:o.value,...t.treeOptions});pe(p,O=>{u.value=O},{immediate:!0,deep:!0});const g=re(!1),b=z(()=>t.menus?.map(O=>({label:O.label,key:O.value,icon:O?.icon?()=>d("div",{class:O?.icon},null):void 0,onSelect:O.onSelect}))||[]),y=O=>{const S=t.menus?.find(T=>T.value===O);S&&S.onSelect(s.value),g.value=!1},x=ai({path:a.value,method:"POST"}),w=(O,S)=>{for(const T of O)if(T.children){for(const M of T.children)if(M.id===S)return T;const C=w(T.children,S);if(C)return C}},_=({node:O,dragNode:S,dropPosition:T})=>{const C=w(u.value,S.id),M=!C,R=[...u.value];if(M){const H=u.value.findIndex(B=>B.id===S.id);H>=0&&R.splice(H,1)}else{const H=C?.children?.indexOf(S)||0;C?.children?.splice(H,1)}let L=w(R,O.id),P,N=L?.children||R,j=0;switch(T){case"before":j=N.findIndex(H=>H.id===O.id),j>0&&(P=N[j-1].id);break;case"inside":L=O,N=L.children=L.children||[],j=N.length;break;case"after":j=N.findIndex(H=>H.id===O.id)+1,P=O.id;break}N.splice(j,0,S),u.value=R,x.mutate({payload:{parent_id:L?.id,before_id:P,id:S.id}})},k=re([]),E=re(!1);pe(v,O=>{k?.value?.length>0||(E.value=O.length>0,k.value=O)},{immediate:!0});const $=O=>{const S=[],T=C=>{C.forEach(M=>{M.children&&M.children.length>0&&(S.push(M.key||M.id),T(M.children))})};return T(O),S},A=()=>{E.value?(k.value=[],E.value=!1):(k.value=$(u.value),E.value=!0)},D=z(()=>{const{title:O,path:S,sortPath:T,params:C,menus:M,numField:R,iconField:L,treeOptions:P,value:N,defaultValue:j,onUpdateValue:H,bordered:B,...te}=t;return te});return()=>d(In,{class:"h-full",contentClass:"flex flex-col",bordered:t.bordered},{default:()=>[t?.title&&d("div",{class:"px-2 py-3 pb-1 text-base font-bold"},[t.title]),d("div",{class:"p-2 flex gap-2 items-center"},[d(me,{onClick:A},{icon:()=>d("div",{class:E.value?"i-tabler:fold-up":"i-tabler:fold-down"},null)}),d("div",{class:"flex-1"},[n.header?n.header():d(ze,{value:h.value,"onUpdate:value":O=>h.value=O,placeholder:f("common.keyword")},null)]),n.tools?.()]),d(rr,{class:"flex-1 min-h-0",xScrollable:!0},{default:()=>[d("div",{class:"p-2"},[d(ii,{show:m.value,class:"h-full"},{default:()=>[d(hd,yt(D.value,{data:u.value||[],expandedKeys:k.value,onUpdateExpandedKeys:O=>{k.value=O;const S=$(u.value);E.value=S.length>0&&S.every(T=>O.includes(T))},blockLine:!0,selectedKeys:r.value,onUpdateSelectedKeys:O=>{r.value=O,t?.onUpdateValue?.(O)},onDrop:_,pattern:h.value,renderPrefix:t?.numField||t?.iconField?({option:O})=>d(bt,null,[t.iconField&&O[t.iconField]&&d("div",{class:rt(O[t.iconField]||"","size-4")},null),t.numField&&d("div",{class:"rounded-full bg-primary px-2 text-xs text-white"},[O[t.numField]||0])]):void 0,nodeProps:({option:O})=>({onContextmenu:S=>{s.value=O,g.value=!0,l.value=S.clientX,c.value=S.clientY,S.preventDefault()}})}),null)]})])]}),d(Oa,{trigger:"manual",placement:"bottom-start",show:g.value,options:b.value,x:l.value,y:c.value,width:100,onSelect:y,onClickoutside:()=>{g.value=!1}},null)]})}}),rZ="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M748%20183.5V0H96v1024h836V183.5z'%20fill='%23FF6955'%20p-id='1848'%3e%3c/path%3e%3cpath%20d='M932%20184H748V0'%20fill='%23FFA694'%20p-id='1849'%3e%3c/path%3e%3cpath%20d='M586.7%20302.1c-5.3%207.5-34.2%2020.3-58.7%2025.6-31%206.4-47%2011.7-63%2020.3-21.3%2012.8-33.1%2028.8-31%2043.8%201.1%203.2%2026.7%2040.6%2056.6%2083.2%2031%2042.7%2056.6%2079%2057.6%2080%201.1%202.1-3.2%202.1-18.1%201.1-47-3.2-89.6%2021.3-108.9%2059.8-5.3%2011.7-6.4%2018.1-6.4%2032%200%2032%2017.1%2057.6%2049.1%2072.6%2012.8%205.3%2017.1%206.4%2043.8%206.4%2028.8%200%2029.9%200%2049.1-9.6C608%20692.8%20629.4%20644.7%20608%20601c-4.3-9.6-31-55.5-59.8-102.5L496%20412h8.5c34.2-2.1%2057.6-12.8%2073.6-31%2013.9-16%2018.1-32%2017.1-57.6-1-23.5-3.2-28.8-8.5-21.3z'%20fill='%23FFFFFF'%20p-id='1850'%3e%3c/path%3e%3c/svg%3e",oZ="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M745%20184.3V1H93v1022.5h836V184.3z'%20fill='%2372DCA2'%20p-id='2166'%3e%3c/path%3e%3cpath%20d='M928.8%20184h-184V0.8'%20fill='%23A9FFCE'%20p-id='2167'%3e%3c/path%3e%3cpath%20d='M500.8%20476.2l76.6-131h67.7L532.5%20537.9%20445.7%20686H378l122.8-209.8z%20m-0.7%2070.3l-6.6-11-112.7-190.3h67.7L525%20474.4l8.9%2015.2L650.3%20686h-67.7l-82.5-139.5z'%20fill='%23FCFCFC'%20p-id='2168'%3e%3c/path%3e%3c/svg%3e",N2="data:image/svg+xml,%3csvg%20t='1729771182292'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M748%20183.5V0H96v1024h836V183.5z'%20fill='%239B9B9B'%20p-id='2651'%3e%3c/path%3e%3cpath%20d='M932%20184H748V0'%20fill='%23CCCCCC'%20p-id='2652'%3e%3c/path%3e%3cpath%20d='M363.3%20707.2c-19.4%200-35.3-15.9-35.3-35.3v-88.3c0-19.4%2015.9-35.3%2035.3-35.3h88.3c19.4%200%2035.3%2015.9%2035.3%2035.3v88.3c0%2019.4-15.9%2035.3-35.3%2035.3h-88.3z'%20fill='%23FFFFFF'%20p-id='2653'%3e%3c/path%3e%3cpath%20d='M451.6%20557.1c15%200%2026.5%2011.5%2026.5%2026.5v88.3c0%2015-11.5%2026.5-26.5%2026.5h-88.3c-15%200-26.5-11.5-26.5-26.5v-88.3c0-15%2011.5-26.5%2026.5-26.5h88.3m0-17.7h-88.3c-24.7%200-44.1%2020.3-44.1%2044.1v88.3c0%2024.7%2020.3%2044.1%2044.1%2044.1h88.3c24.7%200%2044.1-20.3%2044.1-44.1v-88.3c0.1-24.7-19.3-44.1-44.1-44.1z%20m-88.3-45.9c-19.4%200-35.3-15.9-35.3-35.3v-88.3c0-19.4%2015.9-35.3%2035.3-35.3h88.3c19.4%200%2035.3%2015.9%2035.3%2035.3v88.3c0%2019.4-15.9%2035.3-35.3%2035.3h-88.3z'%20fill='%23FFFFFF'%20p-id='2654'%3e%3c/path%3e%3cpath%20d='M451.6%20343.4c15%200%2026.5%2011.5%2026.5%2026.5v88.3c0%2015-11.5%2026.5-26.5%2026.5h-88.3c-15%200-26.5-11.5-26.5-26.5v-88.3c0-15%2011.5-26.5%2026.5-26.5h88.3m0-17.7h-88.3c-24.7%200-44.1%2020.3-44.1%2044.1v88.3c0%2024.7%2020.3%2044.1%2044.1%2044.1h88.3c24.7%200%2044.1-20.3%2044.1-44.1v-88.3c0.1-23.8-19.3-44.1-44.1-44.1zM577%20707.2c-19.4%200-35.3-15.9-35.3-35.3v-88.3c0-19.4%2015.9-35.3%2035.3-35.3h88.3c19.4%200%2035.3%2015.9%2035.3%2035.3v88.3c0%2019.4-15.9%2035.3-35.3%2035.3H577z'%20fill='%23FFFFFF'%20p-id='2655'%3e%3c/path%3e%3cpath%20d='M665.3%20557.1c15%200%2026.5%2011.5%2026.5%2026.5v88.3c0%2015-11.5%2026.5-26.5%2026.5H577c-15%200-26.5-11.5-26.5-26.5v-88.3c0-15%2011.5-26.5%2026.5-26.5h88.3m0-17.7H577c-24.7%200-44.1%2020.3-44.1%2044.1v88.3c0%2024.7%2020.3%2044.1%2044.1%2044.1h88.3c24.7%200%2044.1-20.3%2044.1-44.1v-88.3c0.1-24.7-20.2-44.1-44.1-44.1zM621.2%20512c-9.7%200-18.5-3.5-24.7-10.6l-62.7-62.7c-7.1-7.1-10.6-15.9-10.6-24.7%200-9.7%203.5-18.5%2010.6-24.7l62.7-62.7c7.1-7.1%2015.9-10.6%2024.7-10.6%208.8%200%2018.5%203.5%2024.7%2010.6l62.7%2062.7c14.1%2014.1%2014.1%2036.2%200%2050.3l-62.7%2062.7c-6.2%206.2-15%209.7-24.7%209.7z'%20fill='%23FFFFFF'%20p-id='2656'%3e%3c/path%3e%3cpath%20d='M621.2%20324.9c7.1%200%2014.1%202.6%2018.5%207.9l62.7%2062.7c5.3%205.3%207.9%2011.5%207.9%2018.5s-2.6%2014.1-7.9%2018.5l-62.7%2062.7c-5.3%205.3-11.5%207.9-18.5%207.9-7.1%200-14.1-2.6-18.5-7.9L540%20432.5c-5.3-5.3-7.9-11.5-7.9-18.5s2.6-14.1%207.9-18.5l62.7-62.7c4.3-5.3%2011.4-7.9%2018.5-7.9m0-17.7c-11.5%200-23%204.4-30.9%2013.2l-62.7%2062.7c-16.8%2016.8-16.8%2045%200%2062.7l62.7%2062.7c8.8%208.8%2020.3%2013.2%2030.9%2013.2s23-4.4%2030.9-13.2l62.7-62.7c16.8-16.8%2016.8-45%200-62.7l-62.7-62.7c-8-8.8-19.5-13.2-30.9-13.2z'%20fill='%23FFFFFF'%20p-id='2657'%3e%3c/path%3e%3c/svg%3e",iZ="data:image/svg+xml,%3csvg%20class='size-12'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%20317h1024v595H0z'%20fill='%23FFE17B'%20p-id='1449'%3e%3c/path%3e%3cpath%20d='M523%20217l-98-97H0v197h1024V217z'%20fill='%23FFEFB6'%20p-id='1450'%3e%3c/path%3e%3c/svg%3e",aZ="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M748%20183.5V0H96v1024h836V183.5z'%20fill='%23FF5562'%20p-id='2326'%3e%3c/path%3e%3cpath%20d='M932%20184H748V0'%20fill='%23FF9292'%20p-id='2327'%3e%3c/path%3e%3cpath%20d='M657.9%20606.1c-29.4-1.9-57.4-12.9-79.9-31.3-44.2%209.4-86.3%2022.9-128.4%2039.6-33.5%2057.4-64.8%2086.6-91.8%2086.6-5.4%200-11.9-1-16.2-4.2-11.3-5.1-18.5-16.1-18.3-28.2%200-9.4%202.1-35.5%20104.7-78.2%2023.3-41.3%2042.4-84.6%2057.2-129.4-12.9-25-41-86.6-21.6-117.9%206.5-11.5%2019.4-17.7%2033.5-16.7%2011%200.1%2021.4%205.1%2028.1%2013.6%2014%2018.8%2012.9%2058.4-5.4%20116.8%2017.3%2031.3%2039.9%2059.5%2066.9%2083.5%2022.7-4.2%2045.3-7.3%2068-7.3%2050.7%201%2058.3%2024%2057.2%2037.5%200%2035.6-35.7%2035.6-54%2035.6z%20m-302.2%2064.6l3.2-1c15.1-5.2%2027-15.6%2035.6-29.2-16.2%206.3-29.1%2016.6-38.8%2030.2z%20m143.5-312.9H496c-1.1%200-3.3%200-4.3%201-4.3%2017.7-1.1%2036.5%206.5%2053.2%206.2-17.5%206.6-36.5%201-54.2z%20m7.6%20151.2l-1.1%202.1-1.1-1.1c-9.7%2024-20.5%2048-32.4%2070.9l2.1-1v2.1c24-8.4%2048.5-15.3%2073.4-20.9l-1-1h3.3c-16.2-15.5-30.7-32.6-43.2-51.1z%20m146.8%2055.3c-9.7%200-18.3%200-28%202.1%2010.8%205.2%2021.6%207.3%2032.4%208.3%207.6%201%2015.1%200%2021.6-2.1-0.1-3-4.4-8.3-26-8.3z'%20fill='%23FFFFFF'%20p-id='2328'%3e%3c/path%3e%3c/svg%3e",sZ="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M745%20186V3H93v1021h836V186z'%20fill='%23FF8278'%20p-id='2482'%3e%3c/path%3e%3cpath%20d='M929%20186H745V2.7'%20fill='%23FFB7B3'%20p-id='2483'%3e%3c/path%3e%3cpath%20d='M390.5%20341.2h64.2V682h-64.2V341.2z%20m29.3%20146.7h109c7.7%200%2014.4-1.8%2020.3-5.3s10.4-8.5%2013.7-14.9%204.9-13.7%204.9-22c0-8.4-1.6-15.9-4.8-22.4s-7.7-11.5-13.6-15-12.7-5.3-20.5-5.3h-109v-61.9h107.3c21.2%200%2040%204.3%2056.1%2013s28.7%2020.9%2037.6%2036.7c8.9%2015.8%2013.4%2034.1%2013.4%2054.8%200%2020.8-4.5%2039-13.4%2054.7s-21.4%2027.9-37.6%2036.4c-16.2%208.6-34.9%2012.9-56.1%2012.9H419.8v-61.7z'%20fill='%23FFFFFF'%20p-id='2484'%3e%3c/path%3e%3c/svg%3e",lZ="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M748%20183.5V0H96v1024h836V183.5z'%20fill='%23E657FF'%20p-id='1690'%3e%3c/path%3e%3cpath%20d='M932%20184H748V0'%20fill='%23F797FF'%20p-id='1691'%3e%3c/path%3e%3cpath%20d='M635.3%20459.6l52.3-30.3c9.2-5.5%2017.4-0.9%2017.4%208.3v151.3c0%2011-7.3%2014.7-17.4%208.3l-52.3-30.3c-9.2-5.5-17.4-11.9-17.4-21.1v-66.9c0-8.3%208.3-13.8%2017.4-19.3z%20m-82.5-56.8H356.7c-20.2%200-36.7%2016.5-36.7%2036.7v157.7c0%2020.2%2016.5%2036.7%2036.7%2036.7h196.2c20.2%200%2036.7-16.5%2036.7-36.7V439.5c-0.1-20.2-16.6-36.7-36.8-36.7z%20m-118.2%2088.9c-2.8%2013.8-13.8%2023.8-25.7%2026.6-23.8%204.6-44-16.5-39.4-39.4%202.8-13.8%2013.8-23.8%2025.7-25.7%2023.8-6.4%2044%2013.8%2039.4%2038.5z'%20fill='%23FFFFFF'%20p-id='1692'%3e%3c/path%3e%3c/svg%3e",cZ="data:image/svg+xml,%3csvg%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M745%20186V3H93v1021h836V186z'%20fill='%236CA2FF'%20p-id='2006'%3e%3c/path%3e%3cpath%20d='M929%20186H745V3'%20fill='%23A2CBFC'%20p-id='2007'%3e%3c/path%3e%3cpath%20d='M490.4%20344.2H542l65.2%20227.3L651%20344.2h66.1L638.5%20685H578l-60.5-238.1L454.3%20685h-60.5l-78.5-340.8h66.1l43.8%20227.3%2065.2-227.3z'%20fill='%23FCFCFC'%20p-id='2008'%3e%3c/path%3e%3c/svg%3e",j2=X({name:"DuxFileManageItem",props:{name:String,url:String,type:String,mime:String,time:String,value:Boolean,onContextmenu:Function,onSelect:Function,page:Boolean},setup(t){const e=Ec(),{t:n}=ye(),r={image:{check:i=>i.startsWith("image/"),render:()=>d("div",{class:"size-12 flex items-center justify-center",onClick:i=>i.stopPropagation()},[d(Ei,{src:t.url,width:48,height:48},null)])},video:{check:i=>i.startsWith("video/"),render:()=>d("div",{onClick:i=>{i.stopPropagation(),e.node({title:n("components.button.preview"),render:()=>d("div",{class:"flex items-center justify-center"},[d("video",{class:"w-120 max-w-full",controls:!0},[d("source",{src:t.url,type:t.mime},null)])])})}},[d("img",{src:lZ,class:"size-12"},null)])},audio:{check:i=>i.startsWith("audio/"),render:()=>d("div",{onClick:i=>{i.stopPropagation(),e.node({title:n("components.button.preview"),render:()=>d("div",{class:"flex items-center justify-center"},[d("audio",{class:"w-120 max-w-full",controls:!0},[d("source",{src:t.url,type:t.mime},null)])])})}},[d("img",{src:rZ,class:"size-12"},null)])},pdf:{check:i=>i==="application/pdf",render:()=>d("img",{src:aZ,class:"size-12"},null)},word:{check:i=>["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"].includes(i),render:()=>d("img",{src:cZ,class:"size-12"},null)},excel:{check:i=>["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(i),render:()=>d("img",{src:oZ,class:"size-12"},null)},powerpoint:{check:i=>["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint"].includes(i),render:()=>d("img",{src:sZ,class:"size-12"},null)}},o=()=>{if(t.type==="folder")return d("img",{src:iZ,class:"size-12"},null);if(!t.mime)return d("img",{src:N2,class:"size-12"},null);for(const i of Object.values(r))if(i.check(t.mime))return i.render();return d("img",{src:N2,class:"size-12"},null)};return()=>d("div",{class:"flex flex-col items-center justify-center hover:bg-primary/10 cursor-pointer p-2 rounded-sm relative group",onContextmenu:t.onContextmenu,onClick:()=>t.onSelect?.(!t?.value)},[d("div",{class:"mb-2"},[o()]),d("div",{class:"truncate w-full text-center"},[t.name]),d("div",{class:rt(["absolute top-2 right-2",t.value?"block":"hidden group-hover:block"])},[t.type==="file"&&!t.page&&d(Dn,{checked:t.value},null)])])}});function eg(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const G6=X({name:"DuxFileManage",props:{path:String,type:String,onConfirm:Function,onClose:Function,multiple:Boolean,page:{type:Boolean,default:!1},handle:String,uploadParams:Object},setup(t){const e=re(!1),n=re(0),r=re(0),{t:o}=ye(),i=re([]),a=Ec(),s=Ra(),l=wn(),c=G5(),u=re({manager:!0,type:t.type||"all",folder:null}),h=re(),{uploadPath:f,managePath:p,driver:m,method:v}=$v({driver:t.uploadParams?.driver,signPath:t.uploadParams?.signPath,signCallback:t.uploadParams?.signCallback,uploadPath:t.uploadParams?.path,managePath:t.path,method:t.uploadParams?.method}),g=re({page:1,pageSize:20}),b=s0({path:p.value,pagination:g.value,filters:u.value}),y=z(()=>{const{driver:$,signPath:A,signCallback:D,...O}=t.uploadParams||{};return O}),x=Da({...y.value,path:f.value,autoUpload:!0,driver:m.value,params:u.value,method:v.value,onSuccess:()=>{i.value=[],b.refetch()},onError:$=>{l.error($?.message||o("components.uploadManage.uploadError")||"")}}),w=$=>{if(!$){l.error(o("components.uploadManage.namePlaceholder")||"");return}s.request({path:p.value,method:"POST",payload:{name:$,folder:u.value.folder}}).then(()=>{b.refetch(),i.value=[]}).catch(()=>{l.error(o("components.uploadManage.createError")||"")})},_=($,A,D)=>{if(!A){l.error(o("components.uploadManage.namePlaceholder")||"");return}s.request({path:p.value,method:"PUT",payload:{name:A,id:D,type:$}}).then(()=>{b.refetch(),i.value=[]}).catch(()=>{l.error(o("components.uploadManage.editError")||"")})},k=($,A)=>{s.request({path:`${p.value}/batch`,method:"DELETE",payload:{data:Array.isArray(A)?A:[A],type:$}}).then(()=>{b.refetch(),i.value=[]}).catch(()=>{l.error(o("components.uploadManage.delError")||"")})},E=z(()=>!!(t.type&&t.type!=="all"));return()=>{let $,A,D;return d("div",{class:["flex flex-col gap-2",t.page?"h-full":"h-500px max-h-500px"]},[d("div",{class:["flex-none flex justify-between items-center border-b border-muted p-3",t.handle]},[d("div",{class:"flex-none"},[d(Aa,{type:"segment",animated:!0,size:"small",tabClass:"!px-4",defaultValue:"all",value:u.value.type,onUpdateValue:O=>{E.value||(u.value.type=O,i.value=[])}},{default:()=>[d(ia,{tab:o("components.uploadManage.all"),name:"all",disabled:E.value},null),d(ia,{tab:o("components.uploadManage.image"),name:"image",disabled:E.value},null),d(ia,{tab:o("components.uploadManage.media"),name:"media",disabled:E.value},null),d(ia,{tab:o("components.uploadManage.docs"),name:"docs",disabled:E.value},null)]})]),d("div",{class:"flex gap-2"},[d(me,{type:"default",ghost:!0,onClick:()=>{a.prompt({title:o("components.uploadManage.namePlaceholder")||"",formSchema:[{tag:ze,attrs:{"v-model:value":"form.name"}}]}).then(O=>{w(O?.name)}).catch(()=>{})},renderIcon:()=>d("div",{class:"i-tabler:plus"},null)},eg($=o("components.button.create"))?$:{default:()=>[$]}),d(me,{type:"primary",ghost:!0,onClick:()=>{x.open()},loading:x.isUploading.value,renderIcon:()=>d("div",{class:"i-tabler:upload"},null)},{default:()=>[d("div",{class:"flex gap-2"},[o("components.uploadManage.upload"),x.progress.value.totalPercent>0&&`(${x.progress.value.totalPercent}%)`])]}),!t.page&&d(me,{type:"default",ghost:!0,onClick:()=>{t.onClose?.()},renderIcon:()=>d("div",{class:"i-tabler:x"},null)},null)])]),d("div",{class:"flex-1 min-h-1"},[b.data?.value?.data?.length>0&&d(O4,{distance:10,onLoad:()=>{b.hasNextPage.value&&b.fetchNextPage()},scrollbarProps:{contentClass:"p-4"}},{default:()=>[d("div",{class:["grid grid-cols-3 md:grid-cols-4 text-sm items-start justify-start",b.data.value?.data?.length>=4&&!t.page?" lg:grid-cols-[repeat(auto-fit,minmax(150px,1fr))]":"lg:grid-cols-[repeat(auto-fit,minmax(150px,150px))]"]},[u.value?.folder&&u.value?.folder!==b.data.value?.meta?.folder&&d(j2,{key:`parent-${b.data.value?.meta?.folder}`,type:"folder",name:o("components.uploadManage.parentLevel"),page:t.page,onSelect:()=>{i.value=[],u.value.folder=b.data.value?.meta?.folder}},null),b.data.value?.data?.map(O=>d(Ct,{placement:"bottom",key:`${O.url?"file":"folder"}-${O.id}`,trigger:O.url?"hover":"manual"},{default:()=>O.filesize,trigger:()=>d(j2,{page:t.page,onContextmenu:S=>{h.value=O,e.value=!1,Lt().then(()=>{e.value=!0,n.value=S.clientX,r.value=S.clientY}),S.preventDefault()},value:t.page?!1:!!i.value?.find?.(S=>S.id===O.id),type:O.url?"file":"folder",mime:O.filetype,name:O.filename,url:O.url,time:O.time,onSelect:S=>{if(!O.url){i.value=[],b.data.value=void 0,u.value.folder=O.id;return}t.page||(S?t.multiple?i.value?.push(O):i.value=[O]:t.multiple?i.value?.splice(i.value?.indexOf(O),1):i.value=[])}},null)}))])]}),b.isLoading.value?d(ii,{class:"h-full absolute w-full bg-gray-1/50"},null):!b.data.value?.data?.length&&d("div",{class:"size-full flex justify-center items-center text-sm text-gray-6"},[d("div",{class:"flex flex-col  items-center"},[d("div",{class:"w-26 mb-2"},[d(zh,null,null)]),d("div",{class:"text-base"},[o("components.uploadManage.empty")]),d("div",{class:"text-sm text-muted"},[o("components.uploadManage.emptyDesc")]),u.value?.folder&&u.value?.folder!==b.data.value?.meta?.folder&&d("div",{class:"text-xs text-gray-6"},[d(me,{type:"default",ghost:!0,onClick:()=>{i.value=[],u.value.folder=b.data.value?.meta?.folder}},eg(A=o("components.uploadManage.back"))?A:{default:()=>[A]})])])])]),d(Oa,{x:n.value,y:r.value,placement:"bottom-start",trigger:"manual",show:e.value,onClickoutside:()=>{e.value=!1},onUpdateShow:O=>{O||(h.value=void 0)},onSelect:O=>{const S=Cn(h.value);switch(e.value=!1,O){case"download":c.url(S?.url);break;case"rename":a.prompt({title:o("components.uploadManage.namePlaceholder"),formSchema:[{tag:ze,attrs:{"v-model:value":"form.name"}}],defaultValue:{name:S?.filename||S?.name}}).then(T=>{_(S?.type,T?.name,S?.id)});break;case"delete":a.confirm({title:o("components.uploadManage.delTitle"),content:o("components.uploadManage.delDesc")}).then(()=>{k(S?.type,S?.id)});break}},options:[h.value?.url&&{label:o("components.button.download"),key:"download",icon:()=>d("div",{class:"i-tabler:download"},null)},{label:o("components.button.rename"),key:"rename",icon:()=>d("div",{class:"i-tabler:cursor-text"},null)},{label:o("components.button.delete"),key:"delete",icon:()=>d("div",{class:"i-tabler:trash"},null)}].filter(O=>O)},null),!t.page&&d("div",{class:"flex justify-end gap-2 border-t border-muted p-3"},[d("div",null,[i.value?.length>0&&d(me,{type:"error",secondary:!0,onClick:()=>{a.confirm({title:o("components.uploadManage.delTitle"),content:o("components.uploadManage.delDesc")}).then(()=>{k("file",i.value?.map(O=>O.id))})}},eg(D=o("components.button.delete"))?D:{default:()=>[D]})]),d("div",null,[d(me,{type:"primary",disabled:!i.value?.length,onClick:()=>{t.onConfirm?.(i.value)}},{default:()=>[o("components.button.select"),Dt("("),i.value?.length||0,Dt(")")]})])])])}}}),q6=Object.freeze(Object.defineProperty({__proto__:null,default:G6},Symbol.toStringTag,{value:"Module"})),uZ=X({name:"DuxSelectUpload",props:{maxNum:Number,multiple:Boolean,value:[String,Array,Object],onUpdateValue:Function,accept:{type:String,default:"*"}},setup(t,{emit:e}){const n=re([]),r=Ue(t,"value",e),{t:o}=ye(),i=z(()=>{const s=n.value.length;return s===0?o("components.upload.selectUpload.clickOrDrag"):t.multiple?o("components.upload.selectUpload.selectedFiles",{count:s}):n.value[0]?.name||""});function a(s){const l=Array.from(s.target.files||[]);if(t.multiple){const c=t.maxNum?l.slice(0,t.maxNum):l;n.value=c,r.value=c,t.onUpdateValue?.(c)}else{const c=l[0];n.value=c?[c]:[],r.value=c||void 0,t.onUpdateValue?.(c)}}return()=>d("div",{class:"relative border border-dashed border-muted rounded p-8 text-center hover:border-primary transition-colors duration-200 bg-muted hover:bg-elevated"},[d("input",{type:"file",multiple:t.multiple,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:a,accept:t.accept},null),d("div",{class:"flex flex-col items-center gap-3"},[d("svg",{class:"w-12 h-12 text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"},null)]),d("div",null,[d("p",{class:"text-lg font-medium text-default"},[i.value]),d("p",{class:"text-sm text-muted mt-1"},[t.multiple?o("components.upload.selectUpload.multipleSupport"):t.accept!=="*"?o("components.upload.selectUpload.acceptDesc",{accept:t.accept}):o("components.upload.selectUpload.defaultDesc"),t.maxNum&&d("span",{class:"ml-2 text-warning"},[Dt("("),o("components.upload.selectUpload.maxFiles",{max:t.maxNum}),Dt(")")])])])])])}}),K6=X({name:"DuxWidgetConnect",props:{title:String,desc:String,value:Number,local:String},setup(t,{slots:e}){return()=>d(In,null,{default:()=>[d("div",{class:"flex items-center"},[d("div",{class:"flex-1 flex flex-col gap-1 px-6 py-4"},[d("div",{class:"font-medium text-base"},[t.title]),d("div",{class:"text-sm text-muted"},[t.desc]),d("div",{class:"mt-2"},[e.default?.()])]),d("div",{class:"flex-none pt-4 pr-4"},[d("svg",{class:"size-30",xmlns:"http://www.w3.org/2000/svg",width:"511.56264",height:"532.44842",viewBox:"0 0 511.56264 532.44842"},[d("polygon",{points:"454.49103 405.20843 454.48102 405.44842 466.49103 532.44842 378.85101 532.44842 367.49103 454.44842 362.49103 530.44842 272.49103 529.44842 282.05103 429.66839 290.18103 383.41839 290.18103 383.40838 291.401 376.44842 452.10101 376.44842 452.31103 378.96838 454.49103 405.20843",fill:"#2f2e41"},null),d("path",{d:"M222.88285,478.83064c9.28179,1.69101,18.96019-8.76188,21.61758-23.34779,1.16327-6.38475,.78778-12.50277-.78019-17.50611l1.42323-8.40799,23.88334-113.10923s43.98031-87.97522,43.9791-103.24828c-.00111-15.27287-12.72223-22.76282-12.72223-22.76282l-17.21435,.16096-53.98264,131.84662-9.72217,97.42982-1.57289,13.36711c-3.2316,4.12897-5.74053,9.72145-6.90332,16.10621-2.65749,14.58572,2.71275,27.78048,11.99454,29.4715Z",fill:"#ffb6b6"},null),d("polygon",{points:"397.99103 135.94842 381.99103 98.94842 329.99103 107.94842 326.49103 151.47992 397.99103 135.94842",fill:"#ffb6b6"},null),d("polygon",{points:"397.99103 135.94842 381.99103 98.94842 329.99103 107.94842 326.49103 151.47992 397.99103 135.94842",opacity:".1"},null),d("path",{d:"M510.99121,212.9484s-37-69-44-76c-3.11621-3.11621-8.01465-3.15955-12.49316-2.25134l-51.50684-17.74866-17.45801-9.8092-1.15039,18.66199-57.31543,10.28748c.31836-11.38086,1.92383-15.70972,1.92383-15.70972l-21,24.56946-41,20,.02246,.18005c-3.00879,1.05029-5.86133,2.84741-8.02246,5.81995-8,11-30,145-30,145l47,10,6.39648-40.13953,4.60352,36.13953,3.5,67.5s64,55,95,35,69-19,69-19l.94824-31.28796c.6748-1.07861,1.05176-1.71204,1.05176-1.71204l-1-110.98425v-29.5321c7.61816,10.61353,16.81152,19.74109,27.5,24.01636,35,14,28-43,28-43Z",fill:"#e6e6e6"},null),d("circle",{cx:"350.55585",cy:"66.61991",r:"47.83848",fill:"#ffb6b6"},null),d("path",{d:"M384.87476,80.13948s4.15987-14.55954,13.51957-13.51957c9.3597,1.03997,11.43964-7.27977,9.3597-11.43964-2.07993-4.15987-6.2398-24.95921-6.2398-24.95921,0,0,2.07993-14.55954-10.39967-16.63947-12.4796-2.07993-16.63947-4.15987-18.71941-8.31974-2.07993-4.15987-33.27894-8.31974-43.67861-2.07993-10.39967,6.2398-18.71941,18.2117-25.99917,21.58546-7.27977,3.37375-13.51957,9.61355-9.3597,20.01322,4.15987,10.39967,10.19286,30.7392,10.19286,30.7392,0,0,10.60648-3.70006,12.68641,2.53974,2.07993,6.2398-6.2398-2.07993,4.15987-18.71941,10.39967-16.63947,10.39967-33.27894,27.03914-27.03914,16.63947,6.2398,35.35888,4.15987,33.27894,16.63947-2.07993,12.4796,4.15987,31.19901,4.15987,31.19901Z",fill:"#2f2e41"},null),d("g",null,[d("path",{d:"M381.94946,459.38422H18.63322c-10.27456,0-18.63322-8.35942-18.63322-18.63322V247.758c0-10.2738,8.35866-18.63322,18.63322-18.63322H381.94946c10.27456,0,18.63322,8.35942,18.63322,18.63322v192.993c0,10.2738-8.35866,18.63322-18.63322,18.63322Z",fill:"rgb(var(--ui-color-gray-100))"},null),d("path",{d:"M381.94946,459.38422H18.63322c-10.27456,0-18.63322-8.35942-18.63322-18.63322V247.758c0-10.2738,8.35866-18.63322,18.63322-18.63322H381.94946c10.27456,0,18.63322,8.35942,18.63322,18.63322v192.993c0,10.2738-8.35866,18.63322-18.63322,18.63322ZM18.63322,232.23639c-8.55846,0-15.52161,6.96315-15.52161,15.52161v192.993c0,8.55846,6.96315,15.52161,15.52161,15.52161H381.94946c8.55846,0,15.52161-6.96315,15.52161-15.52161V247.758c0-8.55846-6.96315-15.52161-15.52161-15.52161H18.63322Z",fill:"#3f3d56"},null),d("circle",{cx:"353.90847",cy:"247.79446",r:"4.66742",fill:"#3f3d56"},null),d("circle",{cx:"366.35492",cy:"247.79446",r:"4.66742",fill:"#3f3d56"},null),d("circle",{cx:"378.80138",cy:"247.79446",r:"4.66742",fill:"#3f3d56"},null),d("path",{d:"M26.44872,323.2511c-1.28688,0-2.33371,1.04683-2.33371,2.33371,0,.62749,.24234,1.20788,.68218,1.63633,.44365,.45428,1.0248,.69738,1.65153,.69738H375.68976c1.28688,0,2.33371-1.04683,2.33371-2.33371,0-.62749-.24234-1.20788-.68218-1.63633-.44365-.45428-1.0248-.69738-1.65153-.69738H26.44872Z",fill:"#e6e6e6"},null),d("path",{d:"M332.12717,322.4732v6.22323H26.44872c-.85567,0-1.63358-.34233-2.19365-.91797-.57574-.56007-.91797-1.33797-.91797-2.19365,0-1.71144,1.40026-3.11161,3.11161-3.11161H332.12717Z",fill:"rgb(var(--ui-color-primary))"},null),d("path",{d:"M371.80025,310.80464h-31.11614c-3.43144,0-6.22323-2.79103-6.22323-6.22323s2.79179-6.22323,6.22323-6.22323h31.11614c3.43144,0,6.22323,2.79103,6.22323,6.22323s-2.79179,6.22323-6.22323,6.22323Z",fill:"#e6e6e6"},null),d("path",{d:"M167.98953,278.1327H28.78243c-3.43144,0-6.22323-2.79103-6.22323-6.22323s2.79179-6.22323,6.22323-6.22323H167.98953c3.43144,0,6.22323,2.79103,6.22323,6.22323s-2.79179,6.22323-6.22323,6.22323Z",fill:"#e6e6e6"},null),d("path",{d:"M26.44872,393.26242c-1.28688,0-2.33371,1.04683-2.33371,2.33371,0,.62749,.24234,1.20788,.68218,1.63633,.44365,.45428,1.0248,.69738,1.65153,.69738H375.68976c1.28688,0,2.33371-1.04683,2.33371-2.33371,0-.62749-.24234-1.20788-.68218-1.63633-.44365-.45428-1.0248-.69738-1.65153-.69738H26.44872Z",fill:"#e6e6e6"},null),d("path",{d:"M212.33003,392.48451v6.22323H26.44872c-.85567,0-1.63358-.34233-2.19365-.91797-.57574-.56007-.91797-1.33797-.91797-2.19365,0-1.71144,1.40026-3.11161,3.11161-3.11161H212.33003Z",fill:"rgb(var(--ui-color-primary))"},null),d("path",{d:"M371.80025,380.81596h-31.11614c-3.43144,0-6.22323-2.79103-6.22323-6.22323s2.79179-6.22323,6.22323-6.22323h31.11614c3.43144,0,6.22323,2.79103,6.22323,6.22323s-2.79179,6.22323-6.22323,6.22323Z",fill:"#e6e6e6"},null)]),d("g",null,[d("ellipse",{cx:"426.27357",cy:"70.44086",rx:"48.72643",ry:"47.69976",fill:"rgb(var(--ui-color-primary))"},null),d("path",{d:"M442.81136,46.3808c-6.487,11.81215-12.97405,23.62439-19.46106,35.43659-4.13442-7.30499-8.24624-14.62285-12.39083-21.92211-1.43136-2.5209-5.32473-.25351-3.88976,2.27368,4.80448,8.46149,9.55919,16.95111,14.36367,25.41259,.82147,1.44676,3.07677,1.48035,3.8898,0,7.12599-12.9757,14.25199-25.95141,21.37798-38.92707,1.39635-2.54258-2.4924-4.81822-3.8898-2.27368Z",fill:"rgb(var(--ui-color-gray-100))"},null)]),d("path",{d:"M493.53827,196.17181l-48.54724-23.22339s-1.94983-15.5437-11.05402-21.08789c-1.54779-3.6925-3.32855-7.74908-4.94598-10.96332-4-7.94879,2-22.94879-3-22.94879s-12.39122,15.77543-12,20c.30031,3.24292,2.98059,8.90472,3.5343,13.8609-6.09709,2.29949-11.01564,6.24084-14.24964,9.37903-2.79865,2.71575-3.8385,6.76755-2.74475,10.51073,3.16948,10.84703,11.09153,33.24933,22.46008,33.24933,15,0,19-3,19-3,0,0,31,39,54,42s-2.45276-47.77661-2.45276-47.77661Z",fill:"#ffb6b6"},null)])])])]})}});function Z6(t,e){const n=(Number(t.h)%360+360)%360,r=[],o=[0,144,72,216,36,180,108,252,18,162],i=60,a=55;if(e<=o.length)for(let s=0;s<e;s++){const l=(n+o[s])%360;r.push(`hsla(${l}, ${Math.round(i)}%, ${Math.round(a)}%, 0.8)`)}else for(let s=0;s<e;s++){const l=(n+s*137.508)%360;r.push(`hsla(${l}, ${Math.round(i)}%, ${Math.round(a)}%, 0.8)`)}return r}function J6(t,e){const n=e?Kb(t[0],{theme:"dark",backgroundColor:"rgb(var(--ui-bg))"}):Kb(t[0],{backgroundColor:"rgb(var(--ui-bg))"});return{color:t,backgroundColor:"rgba(255,255,255,0)",textStyle:{},grid:{left:"10",right:"10",top:"10%",bottom:"5%",containLabel:!0},title:{textStyle:{fontSize:16,fontWeight:"500",textAlign:"left",color:"rgb(var(--ui-text))"},subtextStyle:{color:"rgb(var(--ui-text-muted))"}},line:{itemStyle:{borderWidth:"2"},lineStyle:{width:"2"},areaStyle:{opacity:.3},symbolSize:"8",symbol:"emptyCircle",smooth:!1},radar:{itemStyle:{borderWidth:"2"},lineStyle:{width:"2"},symbolSize:"6",symbol:"emptyCircle",smooth:!1,axisLine:{lineStyle:{color:"rgb(var(--ui-text-muted))"}},splitLine:{lineStyle:{color:"rgb(var(--ui-border-accented))"}},splitArea:{areaStyle:{color:["rgba(250,250,250,0)","rgb(var(--ui-bg-muted))"]}}},bar:{itemStyle:{barBorderWidth:0,barBorderColor:"rgb(var(--ui-border-muted))",borderRadius:0}},pie:{itemStyle:{borderWidth:1.5,borderColor:"var(--ui-border)",borderRadius:0},label:{color:"rgb(var(--ui-text))"}},scatter:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"}},boxplot:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"}},parallel:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"}},sankey:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"}},funnel:{itemStyle:{borderWidth:2,borderColor:"var(--ui-border)"},label:{color:"rgb(var(--ui-text))"}},treemap:{itemStyle:{borderWidth:2,borderColor:"rgba(255,255,255,0)"},label:{color:"rgb(var(--ui-color-white) / 0.8)"}},gauge:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"}},candlestick:{itemStyle:{color:"#e6a0d2",color0:"transparent",borderColor:"#e6a0d2",borderColor0:"#3fb1e3",borderWidth:"2"}},graph:{itemStyle:{borderWidth:0,borderColor:"rgb(var(--ui-border-muted))"},lineStyle:{width:"1",color:"rgb(var(--ui-border-muted))"},symbolSize:"8",symbol:"emptyCircle",smooth:!1,color:t,label:{color:"var(--ui-border)"}},map:{itemStyle:{areaColor:"var(--ui-border)",borderColor:"rgb(var(--n-gray-color-7))",borderWidth:.5},label:{show:!1,color:"rgb(var(--ui-text))"},emphasis:{itemStyle:{areaColor:"rgba(var(--ui-primary), 0.25)",borderColor:"rgb(var(--ui-primary))",borderWidth:1},label:{color:"rgb(var(--ui-primary))"}}},geo:{itemStyle:{areaColor:"var(--ui-border)",borderColor:"rgb(var(--ui-border-muted))",borderWidth:.5},label:{color:"var(--ui-border)"},emphasis:{itemStyle:{areaColor:"rgba(var(--ui-primary), 0.25)",borderColor:"rgb(var(--ui-primary))",borderWidth:1},label:{color:"rgb(var(--ui-primary))"}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisTick:{show:!1,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisLabel:{show:!0,color:"rgb(var(--ui-text-muted))"},splitLine:{show:!1,lineStyle:{color:["rgb(var(--ui-border-accented))"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0)","rgb(var(--ui-bg-muted))"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisTick:{show:!1,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisLabel:{show:!0,color:"rgb(var(--ui-text-muted))"},splitLine:{show:!0,lineStyle:{color:["rgb(var(--ui-border-accented))"]}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0)","rgb(var(--ui-bg-muted))"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisTick:{show:!1,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisLabel:{show:!0,color:"rgb(var(--ui-text-muted))"},splitLine:{show:!0,lineStyle:{color:["rgb(var(--ui-border-accented))"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0)","rgb(var(--ui-bg-muted))"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisTick:{show:!1,lineStyle:{color:"rgb(var(--ui-border-accented))"}},axisLabel:{show:!0,color:"rgb(var(--ui-text-muted))"},splitLine:{show:!0,lineStyle:{color:["rgb(var(--ui-border-accented))"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0)","rgb(var(--ui-bg-muted))"]}}},toolbox:{iconStyle:{borderColor:"rgb(var(--ui-border-muted))"},emphasis:{iconStyle:{borderColor:"rgb(var(--ui-border-muted))"}}},legend:{textStyle:{color:"rgb(var(--ui-text-muted))"}},tooltip:{backgroundColor:"rgb(var(--ui-bg) / 0.8)",shadowBlur:10,borderWidth:0,textStyle:{color:"rgb(var(--ui-text))"},axisPointer:{lineStyle:{color:"rgb(var(--ui-border-muted))",width:1},crossStyle:{color:"rgb(var(--ui-border-muted))",width:1}}},timeline:{lineStyle:{color:"rgb(var(--ui-primary))",width:1},itemStyle:{color:"rgb(var(--ui-primary))",borderWidth:1},controlStyle:{color:"rgb(var(--ui-primary))",borderColor:"rgb(var(--ui-primary))",borderWidth:.5},checkpointStyle:{color:"rgb(var(--ui-primary))",borderColor:"rgb(var(--ui-primary))"},label:{color:"rgb(var(--ui-primary))"},emphasis:{itemStyle:{color:"rgb(var(--ui-primary))"},controlStyle:{color:"rgb(var(--ui-primary))",borderColor:"rgb(var(--ui-primary))",borderWidth:.5},label:{color:"rgb(var(--ui-primary))"}}},visualMap:{color:n},dataZoom:{backgroundColor:"rgba(255,255,255,0)",dataBackgroundColor:"rgba(222,222,222,1)",fillerColor:"rgba(114,230,212,0.25)",handleColor:"rgb(var(--ui-border-muted))",handleSize:"100%",textStyle:{color:"rgb(var(--ui-text-muted))"}},markPoint:{label:{color:"rgb(var(--ui-text))"},emphasis:{label:{color:"rgb(var(--ui-text))"}}}}}function Q6(){const{getSceneColor:t,getSemanticColor:e}=Ao(),n=a=>{const s=ew(a);return`${s.r}, ${s.g},${s.b}`},r=z(()=>({common:{primaryColor:t("primary"),primaryColorHover:t("primary","hover"),primaryColorPressed:t("primary","pressed"),primaryColorSuppl:t("primary"),infoColor:t("info"),infoColorHover:t("info","hover"),infoColorPressed:t("info","pressed"),infoColorSuppl:t("info"),successColor:t("success"),successColorHover:t("success","hover"),successColorPressed:t("success","pressed"),successColorSuppl:t("success"),warningColor:t("warning"),warningColorHover:t("warning","hover"),warningColorPressed:t("warning","pressed"),warningColorSuppl:t("warning"),errorColor:t("error"),errorColorHover:t("error","hover"),errorColorPressed:t("error","pressed"),errorColorSuppl:t("error"),iconColor:e("text","muted"),borderRadius:"var(--radius-sm)",borderRadiusSmall:"var(--radius-xs)"},Menu:{itemIconColorCollapsed:e("text","accented")},DataTable:{borderColor:e("border","muted"),thColor:e("bg","elevated"),tdColorHover:e("bg","elevated"),thTextColor:e("text","base")},Select:{peers:{InternalSelection:{border:"1px solid rgb(var(--ui-border-accented))"}}},Button:{},Tabs:{tabTextColorCard:e("text","toned"),colorSegment:`rgba(${n(e("bg","elevated"))})`,tabBorderColor:e("border","muted"),tabColorSegment:t("primary"),tabTextColorSegment:e("text","toned"),tabTextColorActiveSegment:e("text","inverted"),tabTextColorHoverSegment:e("text","muted")},Card:{}})),o=z(()=>e1(r.value,{common:{cardColor:e("bg","base"),modalColor:e("bg","base"),dividerColor:e("border","muted"),borderColor:e("border","muted"),popoverColor:`rgba(${n(e("bg","base"))}, 0.98)`},DataTable:{tdColor:e("bg","base")}})),i=z(()=>e1(r.value,{common:{cardColor:e("bg","muted"),modalColor:e("bg","muted"),dividerColor:e("border","muted"),borderColor:e("border","muted"),popoverColor:`rgba(${n(e("bg","elevated"))}, 0.95)`},DataTable:{tdColor:e("bg","muted")}}));return{lightTheme:o,darkTheme:i}}const eE=X({name:"DuxGlobalLayout",setup(t,{slots:e}){const{isDark:n,cssInit:r,getSceneColor:o}=Ao(),i=Ot("pageLoading"),a=A4(),{lightTheme:s,darkTheme:l}=Q6();V2(()=>{r()}),Yn.registerLanguage("javascript",e$),Yn.registerLanguage("typescript",l$),Yn.registerLanguage("css",YM),Yn.registerLanguage("xml",c$),Yn.registerLanguage("json",t$),Yn.registerLanguage("markdown",n$),Yn.registerLanguage("bash",NM),Yn.registerLanguage("shell",i$),Yn.registerLanguage("sql",a$),Yn.registerLanguage("java",qM),Yn.registerLanguage("php",r$),Yn.registerLanguage("go",GM),Yn.registerLanguage("python",o$);const{getLocale:c}=ye(),u=z(()=>c()==="zh-CN"?M4:$4),h=z(()=>c()==="zh-CN"?R4:D4);return pe(c,f=>{Z4(f)},{immediate:!0}),vn(async()=>{setTimeout(()=>{a.finish(),i.value=!1},500)}),pe(n,f=>{const p=o("primary"),m=H4(p),v=Z6(m,10),g=J6(v,f);W4("default",g)},{immediate:!0}),()=>d(B4,{hljs:Yn,locale:u.value,dateLocale:h.value,theme:n.value?N4:j4,themeOverrides:n.value?l.value:s.value},{default:()=>[d(P4,null,{default:()=>[d(L4,null,{default:()=>[d(F4,null,{default:()=>[d(I4,null,{default:()=>[e.default?.()]})]})]})]})]})}}),ic=X({name:"DuxMenuButton",props:{class:{type:String,default:""},labelClass:{type:String,default:""},onClick:{type:Function,default:()=>{}},collapsed:{type:Boolean,default:!0}},setup(t,{slots:e}){const{menuCollapsed:n}=Wi();return()=>d("div",{onClick:()=>{t.onClick?.()},class:["flex items-center gap-1 justify-center py-1 px-2 cursor-pointer gap-2 flex-1 w-full",t.class]},[e.icon?.(),t.collapsed===!1&&!n.value&&d("div",{class:["overflow-hidden ease-in-out whitespace-nowrap text-left min-w-0 flex-1",t.labelClass]},[e.default?.()])])}}),bf=X({name:"DuxMenuAvatar",props:{collapsed:{type:Boolean,default:!1},btnClass:{type:String,default:""},btnLabelClass:{type:String,default:""}},setup(t){const{t:e}=ye(),n=ye(),r=mn(),{config:o,getRoutePath:i}=it(),{mutate:a}=rw(),{mode:s,primaryColors:l,neutralColors:c,colorMapping:u,setColor:h,setMode:f}=Ao(),p=(x,w)=>d("div",{class:"flex gap-2 items-center w-30"},[d("div",{class:"flex-1 min-w-0"},[x]),d("div",null,[w&&d("div",{class:"i-tabler:check"},null)])]),m=x=>d("div",{class:`${x} size-4`},null),v=z(()=>{const x=o.userMenus?.map(w=>({label:e(w.label||"",{},w.label),key:w.key,icon:()=>m(w.icon),path:w.path}));return x?.length>0?[...x,{type:"divider"}]:[]}),g=Nn(),b=z(()=>[{key:"header",type:"render",render:()=>d("div",{class:"flex gap-2 px-3 pb-1 pt-1 items-center "},[d(_s,{round:!0,size:28,src:g.info?.avatar},null),d("div",{class:"flex flex-col"},[d("div",{class:"text-sm font-medium"},[g.info?.nickname]),d("div",{class:"text-xs text-muted"},[g.info?.username])])])},{type:"divider"},...v.value,{label:e("components.menu.language"),key:"locale",icon:()=>m("i-tabler:language"),children:[...(n.getLocales()||[]).map(x=>({label:()=>p(e(`locale.${x}`),n.getLocale()===x),key:`locale.${x}`}))]},{label:e("components.menu.color"),key:"color",icon:()=>m("i-tabler:palette"),children:[{label:()=>d("div",{class:"flex gap-2 items-center w-30"},[d("div",{class:"size-2 rounded-full",style:{backgroundColor:"rgb(var(--ui-color-primary))"}},null),d("div",null,[e("components.menu.primaryColor")])]),key:"color.primary",children:l.value?.map(x=>({label:()=>p(d("div",{class:"flex gap-2 items-center"},[d("div",{class:"size-2 rounded-full",style:{backgroundColor:`rgb(var(--base-color-${x}-500))`}},null),d("div",null,[x])]),u.value.primary===x),key:`color.primary.${x}`}))},{label:()=>d("div",{class:"flex gap-2 items-center w-30"},[d("div",{class:"size-2 rounded-full",style:{backgroundColor:"rgb(var(--ui-color-gray-600))"}},null),d("div",null,[e("components.menu.neutralColor")])]),key:"color.neutral",children:c.value?.map(x=>({label:()=>p(d("div",{class:"flex gap-2 items-center"},[d("div",{class:"size-2 rounded-full",style:{backgroundColor:`rgb(var(--base-color-${x}-600))`}},null),d("div",null,[x])]),u.value.gray===x),key:`color.neutral.${x}`}))}]},{label:e("components.menu.theme"),key:"theme",icon:()=>m("i-tabler:brightness-half"),children:[{label:()=>p(e("components.menu.followSystem"),s.value==="auto"),key:"theme.auto"},{label:()=>p(e("components.menu.lightMode"),s.value==="light"),key:"theme.light"},{label:()=>p(e("components.menu.darkMode"),s.value==="dark"),key:"theme.dark"}]},{type:"divider"},{label:e("components.menu.logout"),key:"logout",icon:()=>m("i-tabler:logout")}]);function y(x,w){const _=x.lastIndexOf("."),[k,E]=_===-1?[x,""]:[x.substring(0,_),x.substring(_+1)];switch(k){case"locale":n.changeLocale(E);break;case"color.primary":h("primary",E);break;case"color.neutral":h("gray",E);break;case"theme":f(E);break;case"logout":a();break;default:if(!w?.path)return;r.push(i(w.path))}}return()=>d(Oa,{options:b.value,placement:"bottom-start",trigger:"click",onSelect:y,width:200},{default:()=>[d(ic,{class:t.btnClass,labelClass:t.btnLabelClass,collapsed:t.collapsed},{icon:()=>d(_s,{class:"group-hover:shadow-lg",round:!0,size:28,src:g.info?.avatar},null),default:()=>d("div",{class:"flex justify-between"},[d("div",{class:"flex flex-col"},[d("div",{class:"text-sm font-medium"},[g.info?.nickname]),d("div",{class:"text-xs text-muted"},[g.info?.username])])])})]})}}),dZ=X({name:"DuxPageTab",setup(t){const{tabsProps:e,tabs:n}=fC(),r=re(),o=Pa(),i=mn(),{t:a}=ye(),s=Pn({x:0,y:0,visible:!1}),l=re(),c=(p,m)=>{p.preventDefault(),s.visible=!1,Lt().then(()=>{s.visible=!0,s.x=p.clientX,s.y=p.clientY,l.value=m})},u=()=>{s.visible=!1},h=[{label:a("components.tab.lock"),key:"lock"},{label:a("components.tab.closeOther"),key:"closeOther"},{label:a("components.tab.closeLeft"),key:"closeLeft"},{label:a("components.tab.closeRight"),key:"closeRight"}],f=p=>{switch(s.visible=!1,p){case"lock":o.lockTab(l.value?.path||"");break;case"closeOther":o.delOther(l.value?.path||"",()=>{i.push(l.value?.path||"")});break;case"closeLeft":o.delLeft(l.value?.path||"",()=>{i.push(l.value?.path||"")});break;case"closeRight":o.delRight(l.value?.path||"",()=>{i.push(l.value?.path||"")});break}};return()=>d(bt,null,[d(Aa,yt({ref:r,type:"card",class:"app-page-tabs",barWidth:100},e.value),{default:()=>n?.value?.map(p=>d(ia,{key:p.path,name:p.path||""},{default:()=>[d("div",{class:"flex items-center gap-2 py-2 px-3",onContextmenu:m=>c(m,p)},[d("div",{class:"flex-1"},[p.label]),d("div",{class:"flex items-center flex-none"},[p.meta?.lock?d("div",{class:"i-tabler:pinned size-4"},null):d("div",{onClick:()=>e.value?.onClose?.(p.path),class:"text-muted hover:text-primary cursor-pointer"},[d("div",{class:"i-tabler:x size-4"},null)])])])]}))}),d(Oa,{trigger:"manual",x:s.x,y:s.y,show:s.visible,onClickoutside:u,options:h,onSelect:f},null)])}}),hZ=X({name:"DuxLayoutPage",props:{},setup(){const{menuMobileCollapsed:t,setMenuMobileCollapsed:e}=Wi(),{config:n}=it(),{mutate:r}=ow(),{pause:o,resume:i}=v4(()=>{r()},1e3*60*10);return vn(()=>{r(),i()}),Ps(()=>{o()}),()=>d("div",{class:"flex-1 min-w-0 flex flex-col"},[d("div",{class:"flex flex-col lg:flex-row lg:justify-between lg:items-center lg:h-13"},[d("div",{class:"flex lg:hidden justify-between items-center px-2 py-2 bg-default dark:bg-muted shadow-xs relative"},[d(me,{text:!0,onClick:()=>e(!t.value)},{default:()=>[d("div",{class:"i-tabler:menu-2 size-6"},null)]}),d("div",{class:"w-full absolute inset-0 flex items-center justify-center text-base pointer-events-none"},[n.title]),d("div",null,[d(bf,{collapsed:!0},null)])]),d("div",{class:"flex-1 py-2 min-w-0"},[d(dZ,null,null)])]),d("div",{class:"flex-1 min-h-0  mr-2 ml-2 mb-2 lg:ml-0"},[d(p3,null,null)])])}}),Nv=X({name:"DuxMenuCmd",setup(){const{cmdVisible:t,setCmdVisible:e}=Wi(),n=b4(),r=n["Meta+K"],o=re(),i=re([]),a=mn(),s=Ma(),{setMode:l}=Ao(),c=re(""),{t:u}=ye(),h=re(),f=x=>{const w=s.routes.filter(_=>_.parent===x);o.value=x,i.value=w},p=()=>{e(!0)},m=()=>{e(!1)},v=x=>{x?i.value=[...Cn(s.routes).filter(w=>w.label?.includes(x))]:i.value=s.routes.filter(w=>!w.parent)};pe(t,x=>{x?i.value=s.routes.filter(w=>!w.parent):i.value=s.routes.filter(w=>!w.parent)}),q2(c,()=>{v(c.value)},{throttle:500});const g=()=>{const x=s.routes.find(w=>w.name===o.value);f(x?.parent)};pe(r,x=>{x&&p()}),pe(n.Escape,x=>{x&&e(!1)}),pe(n.Backspace,x=>{x&&c.value===""&&o.value&&g()}),pe(h,x=>{x&&x.focus()});const b=z(()=>i.value.filter(x=>x.hidden===void 0||x.hidden===!1)),y=x=>d(Ki.Item,{onSelect:x?.onSelect},{default:()=>[d("div",{class:"flex items-center justify-between flex-1"},[d("div",{class:"flex items-center gap-2"},[d("div",{class:["size-4",x?.icon]},null),d("div",null,[x?.label])]),d("div",null,[x?.keyName&&d(Ti,{size:"small"},{default:()=>[x?.keyName]})])])]});return()=>d(Ki.Dialog,{visible:t.value,theme:"command-palette"},{header:()=>d("div",{class:"relative"},[d("input",{ref:h,placeholder:u("common.search"),onInput:x=>{c.value=x.target.value},class:"w-full h-12 text-base/5 rounded-md border-0 placeholder:text-dimmed outline-0 px-2.5 py-1.5 text-sm gap-1.5 text-highlighted bg-transparent ps-10 pe-10"},null),d("span",{class:"absolute inset-y-0 start-0 flex items-center ps-3"},[d("div",{class:"i-tabler:search shrink-0 text-dimmed size-5","aria-hidden":"true"},null)]),d("span",{class:"absolute inset-y-0 end-0 flex items-center gap-2 pe-3"},[d(Ti,{size:"small"},{default:()=>[Dt("Esc")]}),d(me,{quaternary:!0,circle:!0,size:"small",onClick:()=>e(!1)},{icon:()=>d("div",{class:"i-tabler:x size-5","aria-hidden":"true"},null)})])]),body:()=>d(bt,null,[b.value.length===0&&c.value&&d("div",{class:"flex items-center justify-center h-20 border-t border-muted"},[u("common.empty")]),b.value.length>0&&d(Ki.List,null,{default:()=>[d(Ki.Group,{heading:u("common.menu")},{default:()=>[b.value?.map((x,w)=>d(Ki.Item,{key:w,onSelect:()=>{x.path?(a.push(x.path),m()):f(x.name)}},{default:()=>[d("div",{class:x.path?"i-tabler:link":"i-tabler:folder"},null),x.label]}))]}),d(Ki.Separator,null,null),o.value?d(y,{icon:"i-tabler:arrow-left",label:u("common.back"),onSelect:g,keyName:"Backspace"},null):d(Ki.Group,{heading:u("common.theme")},{default:()=>[d(y,{icon:"i-tabler:moon",label:u("common.dark"),onSelect:()=>{l("dark")}},null),d(y,{icon:"i-tabler:sun",label:u("common.light"),onSelect:()=>{l("light")}},null)]})]})])})}}),tE=X({name:"DuxMenuDark",setup(){const{t}=ye(),{mode:e,setMode:n}=Ao(),r=z(()=>{const i={auto:{icon:"i-tabler:device-desktop",label:t("components.menu.followSystem","Follow System"),nextMode:"light"},light:{icon:"i-tabler:sun",label:t("components.menu.lightMode","Light"),nextMode:"dark"},dark:{icon:"i-tabler:moon",label:t("components.menu.darkMode","Dark"),nextMode:"auto"}};return i[e.value]||i.auto}),o=()=>{n(r.value.nextMode)};return()=>d(Ct,{trigger:"hover",placement:"right"},{default:()=>r.value.label,trigger:()=>d(me,{quaternary:!0,onClick:o},{icon:()=>d("div",{class:"transition-all text-muted p-2 hover:text-white"},[d("div",{class:`${r.value.icon} size-5`},null)])})})}});function fZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const nE=X({name:"DuxMenuNotice",props:{collapsed:{type:Boolean,default:!1}},setup(){const{t}=ye(),{config:e}=it(),n=mn(),{data:r,isLoading:o,refetch:i}=Ns({path:e.notice?.path||"notice",pagination:{page:1,pageSize:10}}),{mutate:a}=ai({path:`${e.notice?.path||"notice"}`,method:"POST",onSuccess:()=>{i()}}),s=z(()=>r.value?.data||[]),l=z(()=>s.value.some(f=>!f[e.notice?.readField||"read"])),c=re(!1),u=f=>{a({payload:{type:"all_read",id:f.id}}),c.value=!1},h=()=>{a({payload:{type:"all_read"}}),c.value=!1};return()=>d(U4,{trigger:"click",arrowClass:"ml-2.5",placement:"bottom-start",style:"padding: 0",width:260,show:c.value,onClickoutside:()=>c.value=!1},{trigger:()=>d(Ct,{trigger:"hover",placement:"right"},{default:()=>t("components.menu.notice","Notice"),trigger:()=>d(me,{onClick:()=>c.value=!0,quaternary:!0},{icon:()=>d(z4,{dot:l.value,offset:[-8,8]},{default:()=>[d("div",{class:"transition-all text-muted p-2 hover:text-white"},[d("div",{class:"i-tabler:bell size-5"},null)])]})})}),default:()=>d(In,{headerBordered:!0,headerClass:"text-sm",headerSize:"small",contentSize:"none",title:t("components.menu.notice","Notice")},{default:()=>d(bt,null,[d(ii,{show:o.value},{default:()=>[s.value.length>0?d("div",{class:"p-2"},[s.value?.map((f,p)=>{const m=f[e.notice?.action?.url||"action_url"],v=e.notice?.readField||"read",g=e.notice?.descField||"desc",b=e.notice?.titleField||"title";return d("div",{key:p,class:"flex flex-col p-2 hover:bg-elevated rounded cursor-pointer",onClick:()=>{m?.startsWith("http")?window.open(m,"_blank"):n.push(e.notice?.path||"notice"),f[v]=!0,u(f)}},[d("div",{class:"flex items-center gap-2"},[f[v]?d("div",{class:"w-2 h-2 bg-elevated rounded-full"},null):d("div",{class:"w-2 h-2 bg-error rounded-full"},null),d("div",{class:"flex-1 min-w-0 text-sm font-medium truncate"},[f[b]])]),d("div",{class:"pl-4 text-xs text-muted line-clamp-2"},[f[g]])])})]):d("div",{class:"p-4"},[d(pf,{text:t("components.menu.noNotice","No notices"),simple:!0},null)])]}),d("div",{class:"border-t border-muted p-2"},[d("div",{class:"text-center text-sm text-primary hover:text-primary-hover cursor-pointer py-1",onClick:()=>{n.push(e.notice?.path||"notice"),c.value=!1}},[t("components.menu.viewAllNotices","View all notices")])])]),headerExtra:()=>{let f;return d(me,{size:"tiny",quaternary:!0,disabled:!l.value,onClick:h},fZ(f=t("components.menu.markAllRead","Mark all read"))?f:{default:()=>[f]})}})})}}),rE=X({name:"DuxMenuApp",props:{collapsed:{type:Boolean,default:!1}},setup(){const{setCmdVisible:t,setMenuCollapsed:e}=Wi(),{config:n}=it(),{t:r}=ye(),{mainMenu:o,subMenu:i,appActive:a,subActive:s,isSubMenu:l}=d0({doubleMenu:!0});vn(()=>{e(!1)});const c=f=>f.map(p=>{const m={...p,key:p.name,icon:p?.icon?()=>Oe("div",{class:`${p.icon} size-5`}):void 0,labelName:p.label,label:()=>p.path?Oe(W2,{to:{path:p.path}},{default:()=>p.label}):p.label};return m.children&&m.children.length>0&&(m.children=c(m.children)),m}),u=z(()=>c(Cn(o.value))),h=z(()=>c(Cn(i.value)));return()=>d("div",{class:"flex h-screen gap-2  p-2"},[d(In,{class:"bg-primary-950 w-16 text-inverted z-1"},{default:()=>[d("div",{class:"h-full flex-none flex flex-col"},[d("div",{class:"py-4 px-2 hidden lg:flex justify-center items-center"},[d("div",{class:"bg-white dark:bg-primary-950 rounded-full p-2 shadow group-hover:shadow-lg"},[n.theme?.appLogo?d("img",{class:"size-4",src:n.theme?.appLogo},null):d(o0,{highlight:"fill-primary",class:"size-4"},null)])]),d("div",{class:"flex-1"},[d(rr,null,{default:()=>[d(ig,{inverted:!0,options:u.value,value:a.value,collapsed:!0,collapsedWidth:64,collapsedIconSize:22,onUpdateValue:f=>a.value=f},null)]})]),d("div",{class:"flex-none hidden lg:flex flex-col items-center gap-2 p-2"},[n.notice?.status&&d(nE,{collapsed:!0},null),d(tE,null,null),d(bf,{collapsed:!0},null)])])]}),d(ps,{name:"submenu-slide",enterActiveClass:"transition-all duration-150 ease-out",enterFromClass:"opacity-0 translate-x-[-50%]",enterToClass:"opacity-100 translate-x-0",leaveActiveClass:"transition-all duration-150 ease-in",leaveFromClass:"opacity-100 translate-x-0",leaveToClass:"opacity-0 translate-x-[-50%]"},{default:()=>[l.value&&d(In,{class:"w-160px overflow-hidden flex flex-col gap-2"},{default:()=>[d("div",{class:"p-2  flex-none"},[d(ic,{collapsed:!1,class:"rounded relative py-1.5 px-3 bg-inverted/5",onClick:()=>t(!0)},{icon:()=>d("div",{class:"i-tabler:search size-4 icon-gradient"},null),default:()=>d("div",{class:"text-muted text-sm"},[r("common.search"),d("div",{class:"flex items-center gap-1 absolute right-2.5 top-1.3"},[d(Ti,{size:"small",bordered:!1,type:"primary"},{default:()=>[Dt("⌘")]}),d(Ti,{size:"small",bordered:!1,type:"primary"},{default:()=>[Dt("K")]})])])})]),d(rr,{class:"flex-1 min-h-0"},{default:()=>[d(ig,{rootIndent:20,indent:15,options:h.value,value:s.value,collapsed:!1,onUpdateValue:f=>s.value=f},null)]})]})]})])}}),yf=X({name:"DuxMenuMain",props:{collapsed:{type:Boolean,default:!1},mobile:{type:Boolean,default:!1}},setup(t){const{options:e,active:n}=hC({}),{menuCollapsed:r,setCmdVisible:o,menuMobileCollapsed:i,setMenuCollapsed:a}=Wi(),{config:s}=it(),{t:l}=ye();return()=>d("div",{class:["flex flex-col h-screen px-1"]},[d("div",{class:"h-13 px-2 hidden lg:flex justify-center items-center"},[d(ic,{onClick:()=>a(!r.value),collapsed:t.collapsed},{icon:()=>d("div",{class:"bg-white dark:bg-primary-950 rounded-full p-2 shadow group-hover:shadow-lg"},[s.theme?.appLogo?d("img",{class:"size-4",src:s.theme?.appLogo},null):d(o0,{highlight:"fill-primary",class:"size-4"},null)]),default:()=>d("div",null,[s.title])})]),d("div",{class:"px-2 py-1 hidden lg:block"},[d(ic,{collapsed:t.collapsed,class:"relative py-1.5 px-3 rounded-full bg-inverted/5 hover:bg-default hover:shadow-sm  transition-all",onClick:()=>o(!0)},{icon:()=>d("div",{class:"i-tabler:search size-4 icon-gradient"},null),default:()=>d("div",{class:"text-muted text-sm"},[l("common.search"),!r.value&&d("div",{class:"flex items-center gap-1 absolute right-2.5 top-1.3"},[d(Ti,{size:"small",bordered:!1,type:"primary"},{default:()=>[Dt("⌘")]}),d(Ti,{size:"small",bordered:!1,type:"primary"},{default:()=>[Dt("K")]})])])})]),d("div",{class:["flex-1 min-h-0",i.value?"border-t border-muted":""]},[d(rr,null,{default:()=>[d(ig,{class:"app-menu",options:e.value,value:n.value,collapsed:r.value&&!i.value,indent:20,collapsedWidth:60,collapsedIconSize:20},null)]})]),d("div",{class:"flex-none hidden lg:flex flex-col items-center gap-2 p-2 border-t border-muted/50"},[d(bf,{btnClass:r.value?"relative rounded-md hover:bg-default hover:shadow-sm  transition-all":"",collapsed:t.collapsed},null)])])}}),jv=X({name:"DuxMobileMenu",props:{},setup(t){const{menuMobileCollapsed:e}=Wi();return()=>d(ms,{show:e.value,onUpdateShow:n=>e.value=n,width:200,placement:"left"},{default:()=>[d("div",{class:["flex-none transition-all"]},[d(yf,{collapsed:!1,mobile:!0},null)])]})}}),oE=X({name:"DuxAuthLayout",setup(){const{menuCollapsed:t}=Wi(),e=it();return()=>d(eE,null,{default:()=>[d(Yw,null,{default:()=>[d("div",{class:"h-screen w-screen flex relative"},[e.config.theme?.layout==="menu"&&d("div",{class:["flex-none transition-all","hidden lg:block",t.value?"w-120px":"w-200px"]},[d(yf,null,null)]),(!e.config.theme?.layout||e.config.theme?.layout==="app")&&d("div",{class:["flex-none transition-all","hidden lg:block"]},[d(rE,null,null)]),d(hZ,null,null)]),d(Nv,null,null),d(jv,null,null)]})]})}}),iE=X({name:"DuxLayout",setup(){return()=>d(eE,null,{default:()=>[d(Hm,null,null)]})}});function pZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const aE=X({name:"DuxLoginPage",setup(t,{slots:e}){const n=Ao(),r=it(),{t:o}=ye(),i=re(),a=wn(),s=Pn({username:"",password:""}),{mutate:l,isLoading:c}=nw({onSuccess:()=>{a.success(o("pages.login.success"))},onError:h=>{a.error(h?.message||o("pages.login.error"))}}),u=()=>{l(s)};return()=>{let h;return d("div",{class:rt(["h-screen w-screen flex items-start justify-center text-secondary md:items-center",n.isDark.value?"app-login-dark-bg":"app-login-bg"])},[d("div",{class:"relative md:m-4 max-w-180 w-full h-full md:h-auto grid-cols-1 md:grid-cols-2 gap-12 overflow-hidden md:rounded-lg p-8 md:shadow bg-default dark:bg-muted grid"},[d("div",{class:"flex justify-center tex absolute h-30 w-30 rotate-45 cursor-pointer items-end p-3 text-white bg-primary -right-15 -top-15 hover:bg-primary-hover",onClick:()=>n.toggle()},[n.mode.value==="auto"&&d("div",{class:"i-tabler:brightness-half h-5 w-5"},null),n.mode.value==="light"&&d("div",{class:"h-5 w-5 i-tabler:sun"},null),n.mode.value==="dark"&&d("div",{class:"h-5 w-5 i-tabler:moon"},null)]),d("div",{class:"justify-center hidden md:flex flex-row items-center"},[r.config.theme?.banner?d("img",{class:"w-full h-auto",src:r.config.theme?.banner},null):d("div",{class:"w-full h-auto"},[d(Tv,null,null)])]),d("div",{class:"flex flex-col"},[d("div",{class:"flex flex-col items-center justify-center mt-4"},[d("div",null,[r.config.theme?.logo?d("img",{class:"w-auto h-16",src:r.config.theme?.logo},null):d("div",{class:"h-10"},[d(y_,null,null)])]),d("div",{class:"mt-4 text-lg text-muted"},[r.config.title||"Dux Admin Manage"])]),d("div",{class:"my-6"},[d(Z2,{ref:i,model:s,class:"flex flex-col gap-4"},{default:()=>[d(fd,{showLabel:!1,path:"username",showFeedback:!1},{default:()=>[d(ze,{value:s.username,onUpdateValue:f=>s.username=f,type:"text",placeholder:o("pages.login.placeholder.username"),size:"large"},{default:()=>d("div",{class:"text-lg i-tabler:user"},null)})]}),d(fd,{showLabel:!1,path:"password",showFeedback:!1},{default:()=>[d(ze,{value:s.password,onUpdateValue:f=>s.password=f,type:"password",showPasswordOn:"mousedown",placeholder:o("pages.login.placeholder.password"),size:"large",inputProps:{autocomplete:"new-password"}},{default:()=>d("div",{class:"text-lg i-tabler:lock"},null)})]}),e.default?.(s),d("div",{class:"mb-2 mt-4"},[d(me,{type:"primary",size:"large",block:!0,loading:c.value,onClick:u},pZ(h=o("pages.login.buttons.login"))?h:{default:()=>[h]})])]})]),d("div",{class:"text-center text-sm text-muted"},[r.config?.copyright||"All rights reserved © duxweb 2024"])])])])}}});function gZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const sE=X({name:"DuxPage403",setup(t){const e=To(),n=mn(),{t:r}=ye();function o(){n.push({path:e.path,query:{...e.query,t:Date.now()}})}return()=>d(Hi,{title:r("pages.403.title"),desc:r("pages.403.desc")},{default:()=>d("div",null,[d(Ov,null,null)]),action:()=>{let i;return d(me,{onClick:o,renderIcon:()=>d("div",{class:"n-icon i-tabler:refresh"},null)},gZ(i=r("components.button.refresh"))?i:{default:()=>[i]})}})}});function mZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const lE=X({name:"DuxPage500",setup(t){const e=To(),n=mn(),{t:r}=ye();function o(){n.push({path:e.path,query:{...e.query,t:Date.now()}})}return()=>d(Hi,{title:r("pages.500.title"),desc:r("pages.500.desc")},{default:()=>d("div",null,[d(sh("dux-draw-error"),null,null)]),action:()=>{let i;return d(me,{onClick:o,renderIcon:()=>d("div",{class:"n-icon i-tabler:refresh"},null)},mZ(i=r("components.button.refresh"))?i:{default:()=>[i]})}})}});function vZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ft(t)}const bZ=X({name:"DuxPageException",setup(t){const e=To(),n=mn(),{t:r}=ye();function o(){n.push({path:e.path,query:{...e.query,t:Date.now()}})}return()=>d(Hi,{title:r("pages.exception.title"),desc:r("pages.exception.desc")},{default:()=>d("div",null,[d(sh("dux-draw-error"),null,null)]),action:()=>{let i;return d(me,{onClick:o,renderIcon:()=>d("div",{class:"n-icon i-tabler:refresh"},null)},vZ(i=r("components.button.refresh"))?i:{default:()=>[i]})}})}}),yZ=X({name:"DuxPageLoading",props:{},setup(){const{t}=ye();return()=>d(Hi,{title:t("pages.loading.title"),desc:t("pages.loading.desc")},{default:()=>[d(Tc,null,null)]})}});function cE(){const t=g3(i0);return{name:t.name,theme:t.theme,rules:t.rules}}function uE(t){const e={presets:[sN({preflights:{reset:t,theme:t}}),aD({collections:{tabler:()=>Tn(()=>import("./vendor-icon-EIVbyAnn.js"),[]).then(n=>n.default)}}),VD(),cE()]};return t||(e.preflights=[{getCSS:()=>Tn(()=>import("./uno.css-BrzO7X8R.js"),[]).then(n=>n.default)}]),e}function dE(){J4({generateMessage:Q4({"en-US":uN,"zh-CN":fN})})}const xZ={search:"Search",empty:"No data",menu:"Menu",theme:"Theme",dark:"Dark",light:"Light",back:"Back",loading:"Loading...",success:"Success",error:"Error",unknownError:"Unknown error",preview:"Preview"},wZ={tab:{lock:"Lock",closeOther:"Close Other",closeLeft:"Close Left",closeRight:"Close Right"},dialog:{confirm:{title:"Confirm",content:"Are you sure you want to confirm?"},cancel:{title:"Cancel",content:"Are you sure you want to cancel?"},success:{title:"Success",content:"Your operation has been successful"},error:{title:"Error",content:"Your operation has been failed"},prompt:{title:"Prompt"}},button:{confirm:"Confirm",cancel:"Cancel",submit:"Submit",reset:"Reset",delete:"Delete",search:"Search",advanced:"Advanced",export:"Export",import:"Import",autoRefresh:"Auto Refresh",filter:"Filter",refresh:"Refresh",select:"Select",create:"Create",download:"Download",rename:"Rename",preview:"Preview"},form:{edit:"Edit",create:"Create"},list:{selectAll:"Select All",columnSetting:"Column Setting",selectedItems:"Selected Items: {num}",total:"Total: {total}",batchTitle:"Batch Operation Confirmation",batchContent:"Are you sure you want to execute this batch operation?"},editor:{placeholder:"Please enter content"},upload:{fileManager:"File Manager",uploadFile:"Upload File",cancel:"Cancel",delete:"Delete",error:"Upload failed",empty:"No files",desc:"Click or drag files to this area",dropHere:"Drop files here",allFormats:"Support any format files",supportFormats:"Support {formats} format files",maxSize:"Max file size: {size}MB",success:"Upload success",failed:"Upload failed",fileExtension:"{ext} file",status:{pending:"Pending",uploading:"Uploading",success:"Success",cancelled:"Cancelled",error:"Error"},file:{name:"File Name",size:"Size",type:"Type",status:"Status"},actions:"Actions",selectUpload:{clickOrDrag:"Click to select files or drag here",selectedFiles:"Selected {count} files",multipleSupport:"Support multiple file selection",defaultDesc:"Support uploading specified file types",acceptDesc:"Only support uploading {accept} format files",maxFiles:"Max {max} files"}},uploadManage:{title:"File Manager",all:"All",image:"Images",media:"Media",docs:"Documents",upload:"Upload",empty:"No files",emptyDesc:"No more files, please upload files",back:"Back to parent",parentLevel:"Parent Level",namePlaceholder:"Please enter name",createError:"Create failed",editError:"Edit failed",delError:"Delete failed",delTitle:"Confirm Delete",delDesc:"Are you sure you want to delete the selected files? This action cannot be undone."},crop:{title:"Crop",select:"Select",confirm:"Confirm"},stats:{realTimeData:"Real-time Data"},data:{selectTitle:"Please select data"},menu:{language:"Language",chinese:"中文",english:"English",color:"Color",primaryColor:"Primary Color",neutralColor:"Neutral Color",theme:"Theme",followSystem:"Follow System",lightMode:"Light",darkMode:"Dark",logout:"Logout",notice:"Notice",noNotice:"No notices",markAllRead:"Mark all read",viewAllNotices:"View all notices",themeToggle:"Theme Toggle"},iconPicker:{title:"Icon Picker"},designEditor:{layout:"Layout",all:"All",grid:{label:"Grid",title:"Grid Settings",columns:"Columns",spacing:"Spacing",columnsPlaceholder:"Enter columns",spacingPlaceholder:"Enter spacing"}},flowEditor:{properties:"Properties",nodeInfo:"Node Info",nodeConfig:"Node Config",label:"Label",description:"Description",descriptionPlaceholder:"Please enter node description",selectNodeOrEdge:"Select a node or edge to configure",edgeSettings:"Edge Settings",edgeDescription:"Configure connection properties between nodes",editJSON:"Edit JSON",saveFlow:"Save Flow",clearFlow:"Clear Flow",flowCleared:"Flow cleared",flowSaved:"Flow data saved",editFlowJSON:"Edit Flow JSON",deleteEdge:"Delete Edge",edgeDeleted:"Edge deleted",from:"From",to:"To",connectionType:"Connection Type",pass:"Pass",reject:"Reject",categories:{start:"Start",process:"Process",condition:"Condition",end:"End"},nodes:{start:{label:"Start",description:"Starting node of the process"},end:{label:"End",description:"Ending node of the process"}},fieldTypes:{text:"Text",number:"Number",boolean:"Boolean",date:"Date",array:"Array",object:"Object"},toolbar:{releaseToAdd:"Release to add node"},setting:{operations:"Operations",node:"Node",connection:"Connection"},nodeCard:{delete:"Delete",copy:"Copy"},jsonEditor:{copiedToClipboard:"Copied to clipboard",dataApplied:"Data applied to flow",jsonFormatError:"JSON format error"},processNode:{label:"Process",description:"Generic process node"},startNode:{label:"Start",description:"Starting node of the process",configTitle:"Start Node Configuration"}},formEditor:{config:"Component Config",options:"Option Config",data:"Data",common:{componentConfig:"Component Config",optionConfig:"Option Config",optionData:"Option Data",dataConfig:"Data Config",dataEdit:"Data Edit",label:"Label",placeholder:"Placeholder",disabled:"Disabled",clearable:"Clearable",multiple:"Multiple",defaultValue:"Default Value",readonly:"Readonly",showCount:"Show Count",prefix:"Prefix",suffix:"Suffix",status:"Status",minLength:"Min Length",maxLength:"Max Length",minValue:"Min Value",maxValue:"Max Value",minCount:"Min Count",maxCount:"Max Count",optionLabel:"Option Label",optionValue:"Option Value",labelField:"Label Field",valueField:"Value Field",dataInterface:"Data Interface",cascade:"Cascade",showPath:"Show Path",uploadUrl:"Upload URL",showAlpha:"Show Alpha",timeFormat:"Time Format",hour12:"12 Hours",dateType:"Date Type",inputType:"Input Type",formDirection:"Form Direction",leftAlign:"Left Align",topAlign:"Top Align",settingAlign:"Setting Layout",pageAlign:"Page Layout",name:"Name",desc:"Description"},setting:{title:"Form Settings"},validation:"Validation Rules",componentConfig:"Component Config",input:{label:"Text",types:{text:"Text",textarea:"Textarea",password:"Password"}},inputNumber:{label:"Number"},select:{label:"Select",configDesc:"Config options"},radio:{label:"Radio",configDesc:"Config options"},checkbox:{label:"Checkbox",configDesc:"Config options"},switch:{label:"Switch"},date:{label:"Date",placeholder:"Select date",dateType:"Date Type",date:"Date",daterange:"Date Range",datetime:"DateTime",datetimerange:"DateTime Range",month:"Month",monthrange:"Month Range",year:"Year",yearrange:"Year Range",quarter:"Quarter",quarterrange:"Quarter Range",week:"Week"},time:{label:"Time",placeholder:"Select time",timeFormat:"Format",use12Hours:"12 Hours"},color:{label:"Color",showAlpha:"Show Alpha"},cascader:{label:"Cascader",desc:"Cascader options data in JSON array format",configDesc:"Config options",optionDesc:"JSON array format",optionsDescription:"Config cascader options",cascade:"Cascade",showPath:"Show Path"},cascaderAsync:{label:"Cascader",dataApi:"Data API",apiPlaceholder:"Enter API URL",cascade:"Cascade",showPath:"Show Path"},dynamicInput:{label:"Dynamic"},editor:{label:"Editor",placeholder:"Enter content",uploadUrlDesc:"Editor image upload URL"},aiEditor:{label:"Editor",uploadUrl:"Upload URL",uploadUrlFeedback:"Image upload URL"},sider:{name:"Slider",step:"Step",min:"Min",max:"Max"},dynamicTags:{name:"Tags",max:"Max Count"},mentionAsync:{name:"Mention",clearable:"Clearable",path:"Data API",labelField:"Label Field",valueField:"Value Field"},region:{name:"Region",Path:"Data API",labelField:"Label Field",valueField:"Value Field"},selectAsync:{name:"Select",pagination:"Pagination",path:"Data API",labelField:"Label Field",valueField:"Value Field",imageField:"Image Field",descField:"Desc Field"},transferAsync:{name:"Transfer"},treeSelect:{name:"Tree"},treeSelectAsync:{name:"Tree Select",path:"Data API",labelField:"Label Field",keyField:"Key Field"},tree:{disabled:"Disabled"},groups:{form:"Form",select:"Selector",async:"Async"},imageUpload:{label:"Image Upload",maxSize:"Max File Size (MB)",maxSizePlaceholder:"Enter max file size",maxNumPlaceholder:"Enter max file count",manager:"File Manager"},fileUpload:{label:"File Upload",accept:"Accept File Types",acceptPlaceholder:"Enter accepted file types, e.g.: image/*,video/*",maxSize:"Max File Size (MB)",maxSizePlaceholder:"Enter max file size",maxNumPlaceholder:"Enter max file count",manager:"File Manager"},main:{label:"Main Content",categories:{form:"Form",select:"Selector",async:"Async"},actions:{jsonOutput:"Json Output",save:"Save"}}}},_Z={table:{exportSuccess:"Export data successfully",exportProgress:"Exporting data, please wait...",exportFailed:"Export data failed",exportSuccessContent:"Successfully exported {count} records",exportProgressContent:"Page {page} data",exportFailedContent:"Export data failed: {error}",importSuccess:"Import data successfully",importProgress:"Importing data, please wait...",importFailed:"Import data failed",importSuccessContent:"Successfully imported {count} records",importProgressContent:"{processed} / {total} records",importFailedContent:"Import data failed: {error}",saveSuccess:"Save successfully",copySuccess:"Copy successfully",copyFailed:"Copy failed"},download:{failed:"Download failed"}},kZ={400:{title:"400",desc:"Request error"},401:{title:"401",desc:"You do not have permission to access this page"},403:{title:"403",desc:"You do not have permission to access this page"},404:{title:"404",desc:"Page not found"},500:{title:"500",desc:"Server error"},empty:{title:"No data",desc:"No more data, please try again later"},loading:{title:"Loading",desc:"Data is loading, please try again later"},exception:{title:"System Exception",desc:"A system exception occurred. Please check the console for details"},login:{success:"Login success",error:"Login failed, please check your username and password",placeholder:{username:"Please enter username",password:"Please enter password"},buttons:{login:"Login"}}},CZ={"zh-CN":"Chinese","en-US":"English","ja-JP":"Japanese","ko-KR":"Korean","ru-RU":"Russian"},SZ={common:xZ,components:wZ,hooks:_Z,pages:kZ,locale:CZ},EZ={search:"搜索",empty:"暂无数据",menu:"菜单",theme:"主题",dark:"暗色模式",light:"亮色模式",back:"返回",loading:"加载中...",success:"操作成功",error:"操作失败",unknownError:"未知错误",keyword:"请输入关键字",preview:"预览"},TZ={tab:{lock:"锁定",closeOther:"关闭其他",closeLeft:"关闭左侧",closeRight:"关闭右侧"},dialog:{confirm:{title:"确定",content:"确定要确认吗？"},cancel:{title:"取消",content:"确定要取消吗？"},success:{title:"成功",content:"您的操作已成功"},error:{title:"错误",content:"您的操作已失败"},prompt:{title:"提示"}},button:{confirm:"确定",cancel:"取消",submit:"提交",reset:"重置",delete:"删除",search:"查询",advanced:"高级",export:"导出",import:"导入",autoRefresh:"自动刷新",filter:"筛选",refresh:"刷新",select:"选择",create:"新建",download:"下载",rename:"重命名",preview:"预览",sideLeft:"左侧",sideRight:"右侧"},form:{edit:"编辑",create:"新增",success:"保存成功",error:"保存失败"},list:{selectAll:"全选",columnSetting:"列设置",selectedItems:"选中项: {num}",total:"共 {total} 条",batchTitle:"批量操作确认",batchContent:"确定要执行此批量操作吗？"},editor:{placeholder:"请输入内容"},upload:{fileManager:"文件管理器",uploadFile:"上传文件",cancel:"取消",delete:"删除",error:"上传失败",empty:"暂无文件",desc:"点击或拖拽文件到此区域",dropHere:"拖拽文件到此处",allFormats:"支持任意格式文件",supportFormats:"支持 {formats} 格式文件",maxSize:"最大文件大小: {size}MB",success:"上传成功",failed:"上传失败",fileExtension:"{ext}文件",status:{pending:"待上传",uploading:"上传中",success:"已上传",cancelled:"已取消",error:"失败"},file:{name:"文件名",size:"大小",type:"类型",status:"状态"},actions:"操作",selectUpload:{clickOrDrag:"点击选择文件或拖拽到此处",selectedFiles:"已选择 {count} 个文件",multipleSupport:"支持多文件选择",defaultDesc:"支持上传指定类型文件",acceptDesc:"仅支持上传 {accept} 格式文件",maxFiles:"最多 {max} 个文件"}},uploadManage:{title:"文件管理",all:"全部",image:"图片",media:"媒体",docs:"文档",upload:"上传",empty:"暂无文件",emptyDesc:"暂无更多文件，请先上传文件",back:"返回上一级",parentLevel:"上一级",namePlaceholder:"请输入名称",createError:"创建失败",editError:"修改失败",delError:"删除失败",delTitle:"确认删除",delDesc:"确定要删除选中的文件吗？删除后不可恢复。"},crop:{title:"裁剪",select:"选择",confirm:"确认"},stats:{realTimeData:"实时数据"},data:{selectTitle:"请选择数据"},menu:{language:"语言",chinese:"中文",english:"English",color:"颜色",primaryColor:"主题色",neutralColor:"中性色",theme:"主题",followSystem:"跟随系统",lightMode:"亮色",darkMode:"暗色",logout:"退出登录",notice:"通知",noNotice:"暂无通知",markAllRead:"一键已读",viewAllNotices:"查看全部消息",themeToggle:"主题切换"},iconPicker:{title:"图标选择"},designEditor:{layout:"布局",all:"全部",grid:{label:"网格",title:"网格设置",columns:"列数",spacing:"间距",columnsPlaceholder:"请输入列数",spacingPlaceholder:"请输入间距"}},flowEditor:{properties:"属性",nodeInfo:"节点信息",nodeConfig:"节点配置",label:"标签",description:"描述",descriptionPlaceholder:"请输入节点描述",selectNodeOrEdge:"选择节点或连接线进行配置",edgeSettings:"连接线设置",edgeDescription:"配置节点间的连接属性",editJSON:"编辑JSON",saveFlow:"保存流程",clearFlow:"清空流程",flowCleared:"流程已清空",flowSaved:"流程数据已保存",editFlowJSON:"编辑流程 JSON",deleteEdge:"删除连接线",edgeDeleted:"连接线已删除",from:"从",to:"到",connectionType:"连接类型",pass:"通过",reject:"退回",categories:{start:"开始",process:"处理",condition:"条件",end:"结束"},nodes:{start:{label:"开始",description:"流程的起始节点"},end:{label:"结束",description:"流程的结束节点"}},fieldTypes:{text:"文本",number:"数字",boolean:"布尔",date:"日期",array:"数组",object:"对象"},toolbar:{releaseToAdd:"释放以添加节点"},setting:{operations:"操作",node:"节点",connection:"连接"},nodeCard:{delete:"删除",copy:"复制"},jsonEditor:{copiedToClipboard:"已复制到剪贴板",dataApplied:"数据已应用到流程",jsonFormatError:"JSON 格式错误"},processNode:{label:"处理",description:"通用处理节点"},startNode:{label:"开始",description:"流程的起始节点",configTitle:"开始节点配置"}},formEditor:{config:"组件配置",options:"选项配置",data:"数据",common:{componentConfig:"组件配置",optionConfig:"选项配置",optionData:"选项数据",dataConfig:"数据配置",dataEdit:"数据编辑",label:"标签",disabled:"禁用",clearable:"可清除",readonly:"只读",showCount:"显示字数",placeholder:"占位符",prefix:"前缀",suffix:"后缀",status:"状态",defaultValue:"默认值",minLength:"最小长度",maxLength:"最大长度",minValue:"最小值",maxValue:"最大值",labelField:"标签字段",valueField:"值字段",optionLabel:"选项标签",optionValue:"选项值",dataInterface:"数据接口",multiple:"多选",cascade:"级联",showPath:"显示路径",minCount:"最小数量",maxCount:"最大数量",uploadUrl:"上传地址",showAlpha:"显示透明度",timeFormat:"时间格式",hour12:"12小时制",dateType:"日期类型",inputType:"输入类型",formDirection:"表单方向",leftAlign:"左对齐",topAlign:"上对齐",settingAlign:"设置布局",pageAlign:"页面布局",name:"名称",desc:"描述"},setting:{title:"表单设置"},validation:"验证规则",componentConfig:"组件配置",input:{label:"文本",types:{text:"文本",textarea:"多行文本",password:"密码"}},inputNumber:{label:"数字"},select:{label:"选择",configDesc:"配置选项数据"},radio:{label:"单选",configDesc:"配置单选框选项数据"},checkbox:{label:"复选",configDesc:"配置复选框选项数据"},switch:{label:"开关"},date:{label:"日期",placeholder:"选择日期",dateType:"日期类型",date:"日期",daterange:"日期范围",datetime:"日期时间",datetimerange:"日期时间范围",month:"月份",monthrange:"月份范围",year:"年份",yearrange:"年份范围",quarter:"季度",quarterrange:"季度范围",week:"周"},time:{label:"时间",placeholder:"选择时间",timeFormat:"格式",use12Hours:"12小时制"},color:{label:"颜色",showAlpha:"显示透明度"},cascader:{label:"级联",desc:"级联选择器选项数据，格式为 JSON 数组",configDesc:"配置选项",optionDesc:"JSON 数组格式",optionsDescription:"配置级联选择器选项数据",cascade:"级联",showPath:"显示路径"},cascaderAsync:{label:"级联",dataApi:"数据接口",apiPlaceholder:"输入接口地址",cascade:"级联",showPath:"显示路径"},dynamicInput:{label:"动态"},editor:{label:"编辑器",placeholder:"输入内容",uploadUrlDesc:"编辑器图片上传地址"},aiEditor:{label:"编辑器",uploadUrl:"上传地址",uploadUrlFeedback:"编辑器图片上传地址"},sider:{name:"滑块",step:"步长",min:"最小",max:"最大"},dynamicTags:{name:"标签",max:"最大数量"},mentionAsync:{name:"提及",clearable:"可清除",path:"数据接口",labelField:"标签字段",valueField:"值字段"},region:{name:"地区",Path:"数据接口",labelField:"标签字段",valueField:"值字段"},selectAsync:{name:"选择",pagination:"分页",path:"数据接口",labelField:"标签字段",valueField:"值字段",imageField:"图片字段",descField:"描述字段"},transferAsync:{name:"穿梭框"},treeSelect:{name:"树选择"},treeSelectAsync:{name:"异步树选择",path:"数据接口",labelField:"标签字段",keyField:"键字段"},tree:{disabled:"禁用"},groups:{form:"表单",select:"选择器",async:"异步"},imageUpload:{label:"图片上传",maxSize:"最大文件大小(MB)",maxSizePlaceholder:"请输入最大文件大小",maxNumPlaceholder:"请输入最大文件数量",manager:"文件管理器"},fileUpload:{label:"文件上传",accept:"接受文件类型",acceptPlaceholder:"请输入接受的文件类型，如：image/*,video/*",maxSize:"最大文件大小(MB)",maxSizePlaceholder:"请输入最大文件大小",maxNumPlaceholder:"请输入最大文件数量",manager:"文件管理器"},main:{label:"主要内容",categories:{form:"表单",select:"选择器",async:"异步"},actions:{jsonOutput:"Json 输出",save:"保存"}}}},OZ={table:{exportSuccess:"导出数据成功",exportProgress:"导出数据中, 请稍后...",exportFailed:"导出数据失败",exportSuccessContent:"成功导出 {count} 条数据",exportProgressContent:"第 {page} 页数据",exportFailedContent:"导出数据失败：{error}",importSuccess:"导入数据成功",importProgress:"导入数据中, 请稍后...",importFailed:"导入数据失败",importSuccessContent:"成功导入 {count} 条数据",importProgressContent:"{processed} / {total} 条数据",importFailedContent:"导入数据失败：{error}",saveSuccess:"保存成功",copySuccess:"复制成功",copyFailed:"复制失败"},download:{failed:"下载失败"}},AZ={400:{title:"400",desc:"请求错误"},401:{title:"401",desc:"您没有权限访问该页面"},403:{title:"403",desc:"您没有权限访问该页面"},404:{title:"404",desc:"页面不存在"},500:{title:"500",desc:"服务器错误"},empty:{title:"暂无数据",desc:"暂无更多数据，请先创建数据"},loading:{title:"加载中",desc:"数据正在加载中，请稍后..."},exception:{title:"系统异常",desc:"系统发生异常，具体原因请查看控制台"},login:{success:"登录成功",error:"登录失败，请检查用户名和密码",placeholder:{username:"请输入用户名",password:"请输入密码"},buttons:{login:"登录"}}},MZ={"zh-CN":"中文","en-US":"English","ja-JP":"日本語","ko-KR":"한국어","ru-RU":"Русский"},$Z={common:EZ,components:TZ,hooks:OZ,pages:AZ,locale:MZ};function RZ(t){return t.replace(/-(\w)/g,(e,n)=>n?n.toUpperCase():"")}function B2(t){return t.charAt(0).toUpperCase()+t.slice(1)}function z2(t){return t.replace(/(?:^|\B)([A-Z])/g,"-$1").toLowerCase()}var U2=["Webkit","Moz","ms"];function DZ(t){const e={};function n(r){const o=e[r];if(o)return o;let i=RZ(r);if(i!=="filter"&&i in t)return e[r]=z2(i);i=B2(i);for(let a=0;a<U2.length;a++){const s=`${U2[a]}${i}`;if(s in t)return e[r]=z2(B2(s))}return r}return({entries:r})=>r.forEach(o=>{o[0].startsWith("--")||(o[0]=n(o[0]))})}function PZ(t){return t.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")}async function LZ(t={}){if(typeof window>"u"){console.warn("@unocss/runtime been used in non-browser environment, skipped.");return}const e=window,n=window.document,r=()=>n.documentElement,o=e.__unocss||{},i=Object.assign({},t,o.runtime),a=i.defaults||{},s=i.cloakAttribute??"un-cloak";i.autoPrefix&&(a.postprocess=zt(a.postprocess)).unshift(DZ(n.createElement("div").style)),i.configResolved?.(o,a);const l=await JR(o,a),c=T=>i.inject?i.inject(T):r().prepend(T),u=()=>i.rootElement?i.rootElement():n.body,h=new Map;let f=!0;const p=new Set;let m,v,g=[];const b=()=>new Promise(T=>{g.push(T),v!=null&&clearTimeout(v),v=setTimeout(()=>w().then(()=>{const C=g;g=[],C.forEach(M=>M())}),0)});function y(T,C=!1){if(T.nodeType!==1)return;const M=T;M.hasAttribute(s)&&M.removeAttribute(s),C&&M.querySelectorAll(`[${s}]`).forEach(R=>{R.removeAttribute(s)})}function x(T,C){let M=h.get(T);if(!M)if(M=n.createElement("style"),M.setAttribute("data-unocss-runtime-layer",T),h.set(T,M),C==null)c(M);else{const R=x(C),L=R.parentNode;L?L.insertBefore(M,R.nextSibling):c(M)}return M}async function w(){const T=[...p],C=await l.generate(T);return C.layers.reduce((R,L)=>(x(L,R).innerHTML=C.getLayer(L)??"",L),void 0),T.filter(R=>!C.matched.has(R)).forEach(R=>p.delete(R)),{...C,getStyleElement:R=>h.get(R),getStyleElements:()=>h}}async function _(T){const C=p.size;await l.applyExtractors(T,void 0,p),C!==p.size&&await b()}async function k(T=u()){const C=T&&T.outerHTML;C&&(await _(`${C} ${PZ(C)}`),y(r()),y(T,!0))}const E=new MutationObserver(T=>{f||T.forEach(async C=>{if(C.target.nodeType!==1)return;const M=C.target;for(const R of h)if(M===R[1])return;if(C.type==="childList")C.addedNodes.forEach(async R=>{if(R.nodeType!==1)return;const L=R;m&&!m(L)||(await _(L.outerHTML),y(L))});else{if(m&&!m(M))return;if(C.attributeName!==s){const R=Array.from(M.attributes).map(P=>P.value?`${P.name}="${P.value}"`:P.name).join(" "),L=`<${M.tagName.toLowerCase()} ${R}>`;await _(L)}y(M)}})});let $=!1;function A(){if($)return;const T=i.observer?.target?i.observer.target():u();T&&(E.observe(T,{childList:!0,subtree:!0,attributes:!0,attributeFilter:i.observer?.attributeFilter}),$=!0)}function D(){i.bypassDefined&&FZ(l.blocked),k(),A()}function O(){n.readyState==="loading"?e.addEventListener("DOMContentLoaded",D):D()}const S=e.__unocss_runtime=e.__unocss_runtime={version:l.version,uno:l,async extract(T){Kt(T)||(T.forEach(C=>p.add(C)),T=""),await _(T)},extractAll:k,inspect(T){m=T},toggleObserver(T){T===void 0?f=!f:f=!!T,!$&&!f&&O()},update:w,presets:e.__unocss_runtime?.presets??{}};i.ready?.(S)!==!1&&(f=!1,O())}function FZ(t=new Set){for(let e=0;e<document.styleSheets.length;e++){const n=document.styleSheets[e];let r;try{if(r=n.cssRules||n.rules,!r)continue;Array.from(r).flatMap(o=>o.selectorText?.split(/,/g)||[]).forEach(o=>{o&&(o=o.trim(),o.startsWith(".")&&(o=o.slice(1)),t.add(o))})}catch{continue}}return t}const IZ={install(t){t.component("DuxAiEditor",Av),t.component("DuxCard",In),t.component("DuxDrawerPage",Ta),t.component("DuxDrawApps",Tv),t.component("DuxDrawAuth",Ov),t.component("DuxDrawEmpty",zh),t.component("DuxDrawEmptyForm",Tc),t.component("DuxDrawError",l6),t.component("DuxDynamicData",kv),t.component("DuxDynamicSelect",U5),t.component("DuxFormItem",ce),t.component("DuxFormLayout",Eo),t.component("DuxModalForm",d6),t.component("DuxPageForm",h6),t.component("DuxSettingForm",f6),t.component("DuxListLayout",Ds),t.component("DuxTableFilter",mf),t.component("DuxTableLayout",ih),t.component("DuxTableTools",vf),t.component("DuxCardPage",N6),t.component("DuxListPage",j6),t.component("DuxMedia",pc),t.component("DuxModal",wv),t.component("DuxPanelAlert",B6),t.component("DuxPanelCard",z6),t.component("DuxBlockEmpty",pf),t.component("DuxTablePage",X6),t.component("DuxLevel",Dv),t.component("DuxImageCrop",I5),t.component("DuxImageCropModal",_v),t.component("DuxModalPage",Zs),t.component("DuxModalTab",o6),t.component("DuxFileUpload",Rv),t.component("DuxImageUpload",Oc),t.component("DuxTreeFilter",Y6),t.component("DuxIconPicker",I6),t.component("DuxCollapsePanel",U6),t.component("DuxCodeEditor",F5),t.component("DuxDashboardHello",N5),t.component("DuxDashboardHelloBig",j5),t.component("DuxDashboardQuick",z5),t.component("DuxCarousel",y3),t.component("DuxWidgetConnect",K6),t.component("DuxChart",xv),t.component("DuxSelectCard",W6),t.component("DuxStatsStore",v3),t.component("DuxStatsStoreItem",b3),t.component("DuxStatsRealTime",V6),t.component("DuxStatsNumber",Fv),t.component("DuxAuthLayout",oE),t.component("DuxLayout",iE),t.component("DuxPage403",sE),t.component("DuxPage404",yv),t.component("DuxPage500",lE),t.component("DuxPageEmpty",Lv),t.component("DuxPageStatus",Hi),t.component("DuxLoginPage",aE),t.component("DuxPage",Fa),t.component("DuxMenuMain",yf),t.component("DuxMobileMenu",jv),t.component("DuxMenuCmd",Nv),t.component("DuxApp",m3)}};function NZ(){return dE(),LZ({defaults:uE(!1),bypassDefined:!0}),{install(t){t.component("v-chart",ag),t.use(IZ)}}}function hE(t){const e=r=>{},n=r=>{};return d(gf,{nodeProps:t,showSourceHandle:!1,color:"danger",handlePosition:{target:Pe.Left},onClick:e,onDoubleClick:n},null)}const fE=X({name:"EndNodeSetting",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(t,{emit:e}){const{t:n}=ye(),r=Ue(t,"modelValue",e);return()=>d("div",{class:"space-y-4"},[d(ce,{label:n("components.flowEditor.label")||""},{default:()=>[d(ze,{value:r.value.label,"onUpdate:value":o=>r.value.label=o},null)]}),d(ce,{label:n("components.flowEditor.description")||""},{default:()=>[d(ze,{value:r.value.description,"onUpdate:value":o=>r.value.description=o,type:"textarea",rows:3,placeholder:n("components.flowEditor.descriptionPlaceholder")||""},null)]})])}});function jZ(){const{t}=ye();return{meta:{name:"end",label:t("components.flowEditor.nodes.end.label")||"",description:t("components.flowEditor.nodes.end.description")||"",category:"end",nodeType:"end",icon:"i-tabler:player-stop",color:"danger",style:{iconBgClass:"bg-red"}},component:hE,settingComponent:fE,multiInput:!0,multiOutput:!1}}const pE=t=>{const e=r=>{},n=r=>{};return d(gf,{nodeProps:t,handlePosition:{source:Pe.Right,target:Pe.Left},onClick:e,onDoubleClick:n},null)},gE=X({name:"ProcessNodeSetting",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(t,{emit:e}){const{t:n}=ye(),r=Ue(t,"modelValue",e);return()=>d("div",{class:"space-y-4"},[d(ce,{label:n("components.flowEditor.label")||""},{default:()=>[d(ze,{value:r.value.label,"onUpdate:value":o=>r.value.label=o},null)]}),d(ce,{label:n("components.flowEditor.description")||""},{default:()=>[d(ze,{value:r.value.description,"onUpdate:value":o=>r.value.description=o,type:"textarea",rows:3,placeholder:n("components.flowEditor.descriptionPlaceholder")||""},null)]})])}});function BZ(){const{t}=ye();return{meta:{name:"process",label:t("components.flowEditor.processNode.label")||"",description:t("components.flowEditor.processNode.description")||"",category:"process",nodeType:"process",icon:"i-tabler:box",color:"primary",style:{iconBgClass:"bg-blue"}},component:pE,settingComponent:gE,multiInput:!0,multiOutput:!0}}function mE(t){const e=r=>{},n=r=>{};return d(gf,{nodeProps:t,showTargetHandle:!1,color:"success",handlePosition:{source:Pe.Right},onClick:e,onDoubleClick:n},null)}const vE=X({name:"StartNodeSetting",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(t,{emit:e}){const{t:n}=ye(),r=Ue(t,"modelValue",e);return()=>d("div",{class:"space-y-4"},[d(ce,{label:n("components.flowEditor.label")||""},{default:()=>[d(ze,{value:r.value.label,"onUpdate:value":o=>r.value.label=o},null)]}),d(ce,{label:n("components.flowEditor.description")||""},{default:()=>[d(ze,{value:r.value.description,"onUpdate:value":o=>r.value.description=o,type:"textarea",rows:3,placeholder:n("components.flowEditor.descriptionPlaceholder")||""},null)]})])}});function zZ(){const{t}=ye();return{meta:{name:"start",label:t("components.flowEditor.startNode.label")||"",description:t("components.flowEditor.startNode.description")||"",category:"start",nodeType:"start",icon:"i-tabler:player-play",color:"success",style:{iconBgClass:"bg-emerald"}},component:mE,settingComponent:vE,multiInput:!1,multiOutput:!0}}const XJ=Object.freeze(Object.defineProperty({__proto__:null,DuxAiEditor:Av,DuxApp:m3,DuxAuthLayout:oE,DuxAvatar:_s,DuxBlockEmpty:pf,DuxCard:In,DuxCardPage:N6,DuxCarousel:y3,DuxChart:xv,DuxCodeEditor:F5,DuxCollapsePanel:U6,DuxDashboardHello:N5,DuxDashboardHelloBig:j5,DuxDashboardQuick:z5,DuxDashboardQuickItem:B5,DuxDesignEditor:Bm,DuxDialog:H5,DuxDrawApps:Tv,DuxDrawAuth:Ov,DuxDrawEmpty:zh,DuxDrawEmptyForm:Tc,DuxDrawError:l6,DuxDrawer:W5,DuxDrawerForm:Cq,DuxDrawerPage:Ta,DuxDynamicData:kv,DuxDynamicSelect:U5,DuxFileManage:G6,DuxFileUpload:Rv,DuxFilterLayout:Pv,DuxFlowEditor:xq,DuxFormEditor:YK,DuxFormItem:ce,DuxFormLayout:Eo,DuxFormRenderer:GK,DuxGrid:i6,DuxIconPicker:I6,DuxImageCrop:I5,DuxImageCropModal:_v,DuxImageUpload:Oc,DuxLayout:iE,DuxLevel:Dv,DuxListEmpty:Iv,DuxListLayout:Ds,DuxListPage:j6,DuxLoginPage:aE,DuxMedia:pc,DuxMenuApp:rE,DuxMenuAvatar:bf,DuxMenuButton:ic,DuxMenuCmd:Nv,DuxMenuDark:tE,DuxMenuMain:yf,DuxMenuNotice:nE,DuxMobileMenu:jv,DuxModal:wv,DuxModalForm:d6,DuxModalPage:Zs,DuxModalTab:o6,DuxPage:Fa,DuxPage403:sE,DuxPage404:yv,DuxPage500:lE,DuxPageEmpty:Lv,DuxPageException:bZ,DuxPageForm:h6,DuxPageLoading:yZ,DuxPageStatus:Hi,DuxPageTabForm:Sq,DuxPanelAlert:B6,DuxPanelCard:z6,DuxPlaceholder:_l,DuxPosterEditor:tZ,DuxSelectCard:W6,DuxSelectUpload:uZ,DuxSettingForm:f6,DuxStatsNumber:Fv,DuxStatsRealTime:V6,DuxStatsStore:v3,DuxStatsStoreItem:b3,DuxTable:nZ,DuxTableFilter:mf,DuxTableLayout:ih,DuxTablePage:X6,DuxTableTools:vf,DuxTreeFilter:Y6,DuxWidgetConnect:K6,DuxWidgetEditorPreview:oc,EndNode:hE,EndNodeSetting:fE,FIELD_TYPE_OPTIONS:kq,FlowNodeCard:gf,FlowSetting:c6,FlowToolbar:u6,ProcessNode:pE,ProcessNodeSetting:gE,StartNode:mE,StartNodeSetting:vE,WidgetEditorSetting:a6,WidgetEditorSettingCard:tt,config:uE,createDuxPro:NZ,defaultNodes:Mv,duxFormEditorGrid:Ev,elementConfigs:S5,elementRegistry:Sc,enUS:SZ,generateRainbowFromColor:Z6,getElementConfig:Ka,getElementsByCategory:iq,getEndNodeRegistry:jZ,getFieldTypeOptions:_q,getProcessNodeRegistry:BZ,getStartNodeRegistry:zZ,getTheme:J6,initVeeValidate:dE,presetTheme:cE,themeOverrides:Q6,useAction:Cv,useActionButton:X5,useActionDropdown:Y5,useDialog:Ec,useDownload:G5,useDrawer:V5,useEchartBar:jm,useEchartCommon:Ks,useEchartFunnel:$5,useEchartLine:T5,useEchartMap:D5,useEchartPie:O5,useEchartRadar:R5,useEchartRing:A5,useEchartRose:M5,useEchartTreeMap:P5,useEchartType:L5,useEditor:s6,useImagePreview:q5,useLevel:K5,useModal:sr,useNodeDataFlow:wq,usePosterEditor:H6,useTable:Sv,useTableColumn:pq,useTableColumnColor:Z5,useTableColumnImage:J5,useTableColumnMap:Q5,useTableColumnMedia:e6,useTableColumnStatus:t6,useTableColumnSwitch:n6,useUI:Wi,useUIStore:r6,zhCN:$Z},Symbol.toStringTag,{value:"Module"}));export{XJ as D,aE as E,Ma as F,wJ as I,J8 as O,ye as P,$i as Q,F5 as S,Zj as T,LJ as a,lE as b,yv as c,oE as d,$Z as e,u7 as f,Sv as g,Zs as h,SZ as i,bZ as j,GK as k,Ra as l,iE as m,ar as n,d7 as o,ht as p,nJ as q,ZT as r,yZ as s,hA as t,it as v,h7 as y};
