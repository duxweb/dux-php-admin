import{P as d,S as u,h as c}from"./vendor-dux-ASXYs2CX.js";import{f,B as i}from"./vendor-naive-ChPqCDzJ.js";import{k as v,r as E,a3 as o,F as C,j as s}from"./vendor-vue-D0kJe6Vx.js";import"./vendor-pinia-BVrVtJC5.js";import"./vendor-lodash-C5S6ylcr.js";import"./vendor-vueuse-rPLwgZrD.js";import"./vendor-tools-CM5zXn-3.js";import"./vendor-echarts-C9MFLFDr.js";import"./vendor-editor-DaxJSHUL.js";import"./vendor-ace-CdjMZtOg.js";import"./vendor-vee-B3NbUnae.js";const S=v({name:"FlowJsonEditor",props:{data:{type:Object,required:!0},onConfirm:{type:Function}},setup(e,{emit:l}){const r=f(),{t:a}=d(),t=E(JSON.stringify(e.data,null,2)),p=()=>{navigator.clipboard.writeText(t.value),r.success(a("components.flowEditor.jsonEditor.copiedToClipboard")||"")},m=()=>{try{const n=JSON.parse(t.value);e.onConfirm&&e.onConfirm(n),r.success(a("components.flowEditor.jsonEditor.dataApplied")||""),l("close")}catch{r.error(a("components.flowEditor.jsonEditor.jsonFormatError")||"")}};return()=>o(c,null,{default:()=>o("div",null,[o(u,{value:t.value,"onUpdate:value":n=>t.value=n},null)]),footer:()=>o(C,null,[o(i,{onClick:p},{default:()=>[s("复制数据")]}),o(i,{onClick:m,type:"primary"},{default:()=>[s("应用数据")]})])})}});export{S as default};
