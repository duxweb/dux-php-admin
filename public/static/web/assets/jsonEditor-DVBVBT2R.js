import{P as d,S as u,g as c}from"./vendor-dux-BZ4blfJq.js";import{l as f,B as i}from"./vendor-naive-xMWD4VRV.js";import{k as v,r as E,a3 as o,F as C,j as s}from"./vendor-vue-SZsukXDk.js";import"./vendor-pinia-B-x_iCkz.js";import"./vendor-lodash-DRDobmCy.js";import"./vendor-vueuse-DliHcapR.js";import"./vendor-tools-CqmVSzXO.js";import"./vendor-echarts-Ha9OS9mw.js";import"./vendor-editor-D1mwgC_h.js";import"./vendor-ace-Vs9FM0tY.js";import"./vendor-vee-YJffgwkn.js";const S=v({name:"FlowJsonEditor",props:{data:{type:Object,required:!0},onConfirm:{type:Function}},setup(e,{emit:l}){const r=f(),{t:a}=d(),t=E(JSON.stringify(e.data,null,2)),p=()=>{navigator.clipboard.writeText(t.value),r.success(a("components.flowEditor.jsonEditor.copiedToClipboard")||"")},m=()=>{try{const n=JSON.parse(t.value);e.onConfirm&&e.onConfirm(n),r.success(a("components.flowEditor.jsonEditor.dataApplied")||""),l("close")}catch{r.error(a("components.flowEditor.jsonEditor.jsonFormatError")||"")}};return()=>o(c,null,{default:()=>o("div",null,[o(u,{value:t.value,"onUpdate:value":n=>t.value=n},null)]),footer:()=>o(C,null,[o(i,{onClick:p},{default:()=>[s("复制数据")]}),o(i,{onClick:m,type:"primary"},{default:()=>[s("应用数据")]})])})}});export{S as default};
