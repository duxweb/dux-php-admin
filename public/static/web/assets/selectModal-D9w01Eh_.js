import{P as y,g as h,Q as C,h as b}from"./vendor-dux-Cc2EDjw2.js";import"./vendor-echarts-C9MFLFDr.js";import"./vendor-editor-DaxJSHUL.js";import"./vendor-ace-CdjMZtOg.js";import"./vendor-tools-CM5zXn-3.js";import{B as s,H as z}from"./vendor-naive-B2TaPfIf.js";import{k as w,c as x,r as l,w as k,a3 as a,F,m as K,s as P,u as j}from"./vendor-vue-D0kJe6Vx.js";import"./vendor-pinia-BVrVtJC5.js";import"./vendor-lodash-C5S6ylcr.js";import"./vendor-vueuse-rPLwgZrD.js";import"./vendor-vee-B3NbUnae.js";function c(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!j(e)}const q=w({name:"Select",props:{path:String,columns:Array,rowKey:{type:String,default:"id"},filterSchema:{type:Array},onConfirm:Function,onClose:Function},setup(e){const{t:r}=y(),u=x(()=>[{type:"selection",fixed:"left"},...e.columns||[]]),i=l({}),o=l({page:1,pageSize:10}),{table:m,list:g,pageCount:f,pageSizes:d,checkeds:v}=h({path:e.path||"",columns:u.value||[],filters:i,pagination:o.value}),p=l([]);k(v,t=>{p.value=g.value?.filter(n=>t.includes(n[e.rowKey]))});const S=C({data:e.filterSchema||[],context:{filter:i.value}});return()=>a(b,{title:r("components.data.selectTitle"),onClose:()=>{e.onClose?.()}},{default:()=>a("div",{class:"flex flex-col gap-4"},[e.filterSchema&&a("div",{class:"grid grid-cols-1 md:grid-cols-4 gap-2"},[K(S.render)]),a(z,P({bordered:!1,maxHeight:400,rowKey:t=>t[e.rowKey]},m.value,{pagination:{page:o.value.page,pageSize:o.value.pageSize,pageCount:f.value,pageSizes:d,onUpdatePage:t=>{o.value.page=t},onUpdatePageSize:t=>{o.value.pageSize=t}}}),null)]),footer:()=>{let t,n;return a(F,null,[a(s,{onClick:()=>{e.onClose?.()}},c(t=r("components.button.cancel"))?t:{default:()=>[t]}),a(s,{type:"primary",onClick:()=>{e.onConfirm?.(p.value)}},c(n=r("components.button.select"))?n:{default:()=>[n]})])}})}});export{q as default};
